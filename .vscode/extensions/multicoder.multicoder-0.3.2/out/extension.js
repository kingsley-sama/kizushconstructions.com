var AI=Object.create;var bg=Object.defineProperty;var RI=Object.getOwnPropertyDescriptor;var kI=Object.getOwnPropertyNames;var OI=Object.getPrototypeOf,MI=Object.prototype.hasOwnProperty;var Ad=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),nS=(e,t)=>{for(var r in t)bg(e,r,{get:t[r],enumerable:!0})},aS=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of kI(t))!MI.call(e,s)&&s!==r&&bg(e,s,{get:()=>t[s],enumerable:!(n=RI(t,s))||n.enumerable});return e};var Cy=(e,t,r)=>(r=e!=null?AI(OI(e)):{},aS(t||!e||!e.__esModule?bg(r,"default",{value:e,enumerable:!0}):r,e)),LI=e=>aS(bg({},"__esModule",{value:!0}),e);var pS=Ad((gk,dS)=>{function iS(e){return Array.isArray(e)?e:[e]}var Ry="",oS=" ",Py="\\",jI=/^\s+$/,YI=/(?:[^\\]|^)\\$/,$I=/^\\!/,qI=/^\\#/,BI=/\r?\n/g,zI=/^\.*\/|^\.+$/,Ay="/",cS="node-ignore";typeof Symbol<"u"&&(cS=Symbol.for("node-ignore"));var sS=cS,GI=(e,t,r)=>Object.defineProperty(e,t,{value:r}),VI=/([0-z])-([0-z])/g,lS=()=>!1,HI=e=>e.replace(VI,(t,r,n)=>r.charCodeAt(0)<=n.charCodeAt(0)?t:Ry),KI=e=>{let{length:t}=e;return e.slice(0,t-t%2)},WI=[[/^\uFEFF/,()=>Ry],[/((?:\\\\)*?)(\\?\s+)$/,(e,t,r)=>t+(r.indexOf("\\")===0?oS:Ry)],[/(\\+?)\s/g,(e,t)=>{let{length:r}=t;return t.slice(0,r-r%2)+oS}],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,r)=>t+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)(\\\*)+(?=.+)/g,(e,t,r)=>{let n=r.replace(/\\\*/g,"[^\\/]*");return t+n}],[/\\\\\\(?=[$.|*+(){^])/g,()=>Py],[/\\\\/g,()=>Py],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,r,n,s)=>t===Py?`\\[${r}${KI(n)}${s}`:s==="]"&&n.length%2===0?`[${HI(r)}${n}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>`${t?`${t}[^/]+`:"[^/]*"}(?=$|\\/$)`]],uS=Object.create(null),JI=(e,t)=>{let r=uS[e];return r||(r=WI.reduce((n,[s,u])=>n.replace(s,u.bind(e)),e),uS[e]=r),t?new RegExp(r,"i"):new RegExp(r)},My=e=>typeof e=="string",ZI=e=>e&&My(e)&&!jI.test(e)&&!YI.test(e)&&e.indexOf("#")!==0,XI=e=>e.split(BI),ky=class{constructor(t,r,n,s){this.origin=t,this.pattern=r,this.negative=n,this.regex=s}},QI=(e,t)=>{let r=e,n=!1;e.indexOf("!")===0&&(n=!0,e=e.substr(1)),e=e.replace($I,"!").replace(qI,"#");let s=JI(e,t);return new ky(r,e,n,s)},eN=(e,t)=>{throw new t(e)},fm=(e,t,r)=>My(e)?e?fm.isNotRelative(e)?r(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${t}\``,TypeError),fS=e=>zI.test(e);fm.isNotRelative=fS;fm.convert=e=>e;var Oy=class{constructor({ignorecase:t=!0,ignoreCase:r=t,allowRelativePaths:n=!1}={}){GI(this,sS,!0),this._rules=[],this._ignoreCase=r,this._allowRelativePaths=n,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[sS]){this._rules=this._rules.concat(t._rules),this._added=!0;return}if(ZI(t)){let r=QI(t,this._ignoreCase);this._added=!0,this._rules.push(r)}}add(t){return this._added=!1,iS(My(t)?XI(t):t).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,r){let n=!1,s=!1;return this._rules.forEach(u=>{let{negative:h}=u;if(s===h&&n!==s||h&&!n&&!s&&!r)return;u.regex.test(t)&&(n=!h,s=h)}),{ignored:n,unignored:s}}_test(t,r,n,s){let u=t&&fm.convert(t);return fm(u,t,this._allowRelativePaths?lS:eN),this._t(u,r,n,s)}_t(t,r,n,s){if(t in r)return r[t];if(s||(s=t.split(Ay)),s.pop(),!s.length)return r[t]=this._testOne(t,n);let u=this._t(s.join(Ay)+Ay,r,n,s);return r[t]=u.ignored?u:this._testOne(t,n)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(t){return iS(t).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}},Eg=e=>new Oy(e),tN=e=>fm(e&&fm.convert(e),e,lS);Eg.isPathValid=tN;Eg.default=Eg;dS.exports=Eg;if(typeof process<"u"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let e=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");fm.convert=e;let t=/^[a-z]:\//i;fm.isNotRelative=r=>t.test(r)||fS(r)}});var yS=Ad((Cg,gS)=>{(function(e,t){typeof Cg=="object"&&typeof gS<"u"?t(Cg):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.oneDS=e.oneDS||{}))})(Cg,function(e){"use strict";var t="function",r="object",n="undefined",s="prototype",u=Object,h=u[s];function b(a,c){return a||c}function N(a,c){return a[c]}var P=void 0,j=null,H="",Q="function",pe="object",ce="prototype",se="__proto__",ue="undefined",Ne="constructor",Ue="Symbol",rt="_polyfill",Re="length",nt="name",Xe="call",Ct="toString",Pt=b(Object),pr=N(Pt,ce),wr=b(String),$r=N(wr,ce),po=b(Math),ji=b(Array),Vr=N(ji,ce),yn=N(Vr,"slice");function tt(a,c){try{return{v:a.apply(this,c)}}catch(p){return{e:p}}}function Es(a,c){var p=tt(a);return p.e?c:p.v}var Ve;function Ir(a){return function(c){return typeof c===a}}function pn(a){var c="[object "+a+"]";return function(p){return!!(p&&Vt(p)===c)}}function Vt(a){return pr[Ct].call(a)}function Bt(a,c){return typeof a===c}function Qe(a){return typeof a===ue||a===ue}function Cn(a){return!zt(a)}function at(a){return a===j||Qe(a)}function Nc(a){return a===j||!zt(a)}function zt(a){return!!a||a!==P}function vo(a){return!Ve&&(Ve=["string","number","boolean",ue,"symbol","bigint"]),a!==pe&&Ve.indexOf(a)!==-1}var Gt=Ir("string"),It=Ir(Q);function en(a){return!a&&at(a)?!1:!!a&&typeof a===pe}var Yt=N(ji,"isArray"),it=pn("Date"),rr=Ir("number"),ei=Ir("boolean"),bt=pn("Error");function qr(a){return!!(a&&a.then&&It(a.then))}function mo(a){return!a||!$a(a)}function $a(a){return!(!a||Es(function(){return!(a&&0+a)},!a))}var Hr=N(Pt,"getOwnPropertyDescriptor");function xn(a,c){return!!a&&pr.hasOwnProperty[Xe](a,c)}var Yi=b(N(Pt,"hasOwn"),Hn);function Hn(a,c){return xn(a,c)||!!Hr(a,c)}function jr(a,c,p){if(a&&en(a)){for(var g in a)if(Yi(a,g)&&c[Xe](p||a,g,a[g])===-1)break}}var Jt={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function lr(a){var c={};if(c[Jt.c]=!0,c[Jt.e]=!0,a.l){c.get=function(){return a.l.v};var p=Hr(a.l,"v");p&&p.set&&(c.set=function(g){a.l.v=g})}return jr(a,function(g,E){c[Jt[g]]=Cn(E)?c[Jt[g]]:E}),c}var Br=N(Pt,"defineProperty");function au(a,c,p,g,E,C){var R={e:C,c:E};return p&&(R.g=p),g&&(R.s=g),Br(a,c,lr(R))}function Kn(a,c,p){return Br(a,c,lr(p))}function Lf(a,c,p,g,E){var C={};return jr(a,function(R,x){Fu(C,R,c?x:R,E),Fu(C,x,p?x:R,E)}),g?g(C):C}function Fu(a,c,p,g){Br(a,c,{value:p,enumerable:!0,writable:!!g})}var Wr=b(wr),ho="[object Error]";function Ht(a,c){var p=H,g=pr[Ct][Xe](a);g===ho&&(a={stack:Wr(a.stack),message:Wr(a.message),name:Wr(a.name)});try{p=JSON.stringify(a,j,c?typeof c=="number"?c:4:P),p=(p?p.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):j)||Wr(a)}catch(E){p=" - "+Ht(E,c)}return g+": "+p}function Sn(a){throw new Error(a)}function qa(a){throw new TypeError(a)}var $o=N(Pt,"freeze");function $i(a){return a}function Md(a){return a[se]||j}var Uu=N(Pt,"assign"),qn=N(Pt,"keys");function yi(a){return $o&&jr(a,function(c,p){(Yt(p)||en(p))&&yi(p)}),qi(a)}var qi=b($o,$i),ju=b(N(Pt,"seal"),$i),Ts=b(N(Pt,"getPrototypeOf"),Md);function oa(a){return Lf(a,1,0,qi)}function Nr(a){return Lf(a,0,0,qi)}var bn=Nr({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),Si="__tsUtils$gblCfg",Bn;function _o(){var a;return typeof globalThis!==ue&&(a=globalThis),!a&&typeof self!==ue&&(a=self),!a&&typeof window!==ue&&(a=window),!a&&typeof global!==ue&&(a=global),a}function ws(){if(!Bn){var a=tt(_o).v||{};Bn=a[Si]=a[Si]||{}}return Bn}var Jr=Da;function Da(a,c,p){var g=c?c[a]:j;return function(E){var C=(E?E[a]:j)||g;if(C||p){var R=arguments;return(C||p).apply(E,C?yn[Xe](R,1):R)}qa('"'+Wr(a)+'" not defined for '+Ht(E))}}function Ld(a){return function(c){return c[a]}}var Ff=N(po,"max"),Fd=Jr("slice",$r),on=Jr("substring",$r),go=Da("substr",$r,qo);function qo(a,c,p){return at(a)&&qa("Invalid "+Ht(a)),p<0?H:(c=c||0,c<0&&(c=Ff(c+a[Re],0)),Qe(p)?Fd(a,c):Fd(a,c,c+p))}function kn(a,c){return on(a,0,c)}var Bo="_urid",iu;function Ba(){if(!iu){var a=ws();iu=a.gblSym=a.gblSym||{k:{},s:{}}}return iu}var sn;function On(a){var c={description:Wr(a),toString:function(){return Ue+"("+a+")"}};return c[rt]=!0,c}function Yu(a){var c=Ba();if(!Yi(c.k,a)){var p=On(a),g=qn(c.s).length;p[Bo]=function(){return g+"_"+p[Ct]()},c.k[a]=p,c.s[p[Bo]()]=Wr(a)}return c.k[a]}function ti(a){!sn&&(sn={});var c,p=bn[a];return p&&(c=sn[p]=sn[p]||On(Ue+"."+p)),c}var Tr;function sa(){Tr=ws()}function Uf(a){var c={};return!Tr&&sa(),c.b=Tr.lzy,Br(c,"v",{configurable:!0,get:function(){var p=a();return Tr.lzy||Br(c,"v",{value:p}),c.b=Tr.lzy,p}}),c}function ga(a){return Br({toJSON:function(){return a}},"v",{value:a})}var zo="window",Dc;function Go(a,c){var p;return function(){return!Tr&&sa(),(!p||Tr.lzy)&&(p=ga(tt(a,c).v)),p.v}}function jf(a){return!Tr&&sa(),(!Dc||a===!1||Tr.lzy)&&(Dc=ga(tt(_o).v||j)),Dc.v}function tn(a,c){var p;if(!Dc||c===!1?p=jf(c):p=Dc.v,p&&p[a])return p[a];if(a===zo)try{return window}catch{}return j}function Sl(){return!!za()}var za=Go(tn,["document"]);function Ud(){return!!ri()}var ri=Go(tn,[zo]);function Fp(){return!!ni()}var ni=Go(tn,["navigator"]);function bl(){return!!Bi()}var Bi=Go(tn,["history"]),Yf=Go(function(){return!!tt(function(){return process&&(process.versions||{}).node}).v}),hr,Vo;function $f(){return hr=ga(tt(tn,[Ue]).v),hr}function Ga(a){var c=(Tr.lzy?0:hr)||$f();return c.v?c.v[a]:P}function Cc(){return!!At()}function At(){return!Tr&&sa(),((Tr.lzy?0:hr)||$f()).v}function ai(a,c){var p=bn[a];!Tr&&sa();var g=(Tr.lzy?0:hr)||$f();return g.v?g.v[p||a]:c?P:ti(a)}function $u(a,c){!Tr&&sa();var p=(Tr.lzy?0:hr)||$f();return p.v?p.v(a):c?j:On(a)}function El(a){return!Tr&&sa(),Vo=(Tr.lzy?0:Vo)||ga(tt(Ga,["for"]).v),(Vo.v||Yu)(a)}function kv(a){return!!a&&It(a.next)}function bi(a){return!Nc(a)&&It(a[ai(3)])}var Tl;function jd(a,c,p){if(a&&(kv(a)||(!Tl&&(Tl=ga(ai(3))),a=a[Tl.v]?a[Tl.v]():j),kv(a))){var g=P,E=P;try{for(var C=0;!(E=a.next()).done&&c[Xe](p||a,E.value,C,a)!==-1;)C++}catch(R){g={e:R},a.throw&&(E=j,a.throw(g))}finally{try{E&&!E.done&&a.return&&a.return(E)}finally{if(g)throw g.e}}}}function ou(a,c,p){return a.apply(c,p)}function Ei(a,c){return!Qe(c)&&a&&(Yt(c)?ou(a.push,a,c):kv(c)||bi(c)?jd(c,function(p){a.push(p)}):a.push(c)),a}function dt(a,c,p){if(a)for(var g=a[Re]>>>0,E=0;E<g&&!(E in a&&c[Xe](p||a,a[E],E,a)===-1);E++);}var ua=Jr("indexOf",Vr),su=Jr("map",Vr);function Is(a,c,p){return((a?a.slice:j)||yn).apply(a,yn[Xe](arguments,1))}function Yd(a,c,p){return ua(a,c,p)!==-1}var $d=Da("includes",Vr,Yd),Wn=Jr("reduce",Vr),ii=b(N(Pt,"create"),qd);function qd(a){if(!a)return{};var c=typeof a;c!==pe&&c!==Q&&qa("Prototype must be an Object or function: "+Ht(a));function p(){}return p[ce]=a,new p}var Ti;function Va(a,c){var p=Pt.setPrototypeOf||function(g,E){var C;!Ti&&(Ti=ga((C={},C[se]=[],C instanceof Array))),Ti.v?g[se]=E:jr(E,function(R,x){return g[R]=x})};return p(a,c)}function Im(a,c,p){tt(Kn,[c,nt,{v:a,c:!0,e:!1}]),c=Va(c,p);function g(){this[Ne]=c,tt(Kn,[this,nt,{v:a,c:!0,e:!1}])}return c[ce]=p===j?ii(p):(g[ce]=p[ce],new g),c}function Ov(a,c){c&&(a[nt]=c)}function Up(a,c,p){var g=p||Error,E=g[ce][nt],C=Error.captureStackTrace;return Im(a,function(){var R=this,x=arguments;try{tt(Ov,[g,a]);var M=ou(g,R,yn[Xe](x))||R;if(M!==R){var U=Ts(R);U!==Ts(M)&&Va(M,U)}return C&&C(M,R[Ne]),c&&c(M,x),M}finally{tt(Ov,[g,E])}},g)}function uu(){return(Date.now||jp)()}function jp(){return new Date().getTime()}function sh(a){return function(p){return at(p)&&qa("strTrim called ["+Ht(p)+"]"),p&&p.replace&&(p=p.replace(a,H)),p}}var Bd=sh(/^\s+|(?=\s)\s+$/g),Ca=Da("trim",$r,Bd),wl,Il,zi;function oi(a){if(!a||typeof a!==pe)return!1;zi||(zi=Ud()?ri():!0);var c=!1;if(a!==zi){Il||(wl=Function[ce][Ct],Il=wl[Xe](Pt));try{var p=Ts(a);c=!p,c||(xn(p,Ne)&&(p=p[Ne]),c=!!(p&&typeof p===Q&&wl[Xe](p)===Il))}catch{}}return c}function cu(a){return a.value&&qp(a),!0}var Yp=[qf,qp,$p,Gd];function wi(a,c,p,g){var E;return dt(a,function(C){if(C.k===c)return E=C,-1}),E||(E={k:c,v:c},a.push(E),g(E)),E.v}function zd(a,c,p,g){var E=p.handler,C=p.path?g?p.path.concat(g):p.path:[],R={handler:p.handler,src:p.src,path:C},x=typeof c,M=!1,U=c===j;U||(c&&x===pe?M=oi(c):U=vo(x));var z={type:x,isPrim:U,isPlain:M,value:c,result:c,path:C,origin:p.src,copy:function(G,K){return zd(a,G,K?R:p,K)},copyTo:function(G,K){return qu(a,G,K,R)}};return z.isPrim?E&&E[Xe](p,z)?z.result:c:wi(a,c,C,function(G){Kn(z,"result",{g:function(){return G.v},s:function(Z){G.v=Z}});for(var K=0,ee=E;!(ee||(K<Yp.length?Yp[K++]:cu))[Xe](p,z);)ee=j})}function qu(a,c,p,g){if(!at(p))for(var E in p)c[E]=zd(a,p[E],g,E);return c}function xc(a,c,p){var g={handler:p,src:c,path:[]};return qu([],a,c,g)}function Nl(a,c){var p={handler:c,src:a};return zd([],a,p)}function qf(a){var c=a.value;if(Yt(c)){var p=a.result=[];return p.length=c.length,a.copyTo(p,c),!0}return!1}function Gd(a){var c=a.value;return it(c)?(a.result=new Date(c.getTime()),!0):!1}function $p(a){return a.type===Q}function qp(a){var c=a.value;if(c&&a.isPlain){var p=a.result={};return a.copyTo(p,c),!0}return!1}function lu(a,c){return dt(c,function(p){xc(a,p)}),a}function Vd(a,c,p,g,E,C,R){return lu(Nl(a)||{},yn[Xe](arguments))}var Ns=Ld(Re),Bu;function Ii(){return!Tr&&sa(),(!Bu||Tr.lzy)&&(Bu=ga(tt(tn,["performance"]).v)),Bu.v}function Dl(){var a=Ii();return a&&a.now?a.now():uu()}var Bf=Da("endsWith",$r,Pc);function Pc(a,c,p){Gt(a)||qa("'"+Ht(a)+"' is not a string");var g=Gt(c)?c:Wr(c),E=!Qe(p)&&p<a[Re]?p:a[Re];return on(a,E-g[Re],E)===g}var Gi=Jr("indexOf",$r),Mv=Da("startsWith",$r,Ho);function Ho(a,c,p){Gt(a)||qa("'"+Ht(a)+"' is not a string");var g=Gt(c)?c:Wr(c),E=p>0?p:0;return on(a,E,E+g[Re])===g}var yo="ref",Vi="unref",fu="hasRef",zf="enabled";function Ac(a,c,p){var g=!0,E=a?c(j):j,C;function R(){return g=!1,E&&E[Vi]&&E[Vi](),C}function x(){E&&p(E),E=j}function M(){return E=c(E),g||R(),C}function U(z){!z&&E&&x(),z&&!E&&M()}return C={cancel:x,refresh:M},C[fu]=function(){return E&&E[fu]?E[fu]():g},C[yo]=function(){return g=!0,E&&E[yo]&&E[yo](),C},C[Vi]=R,C=Br(C,zf,{get:function(){return!!E},set:U}),{h:C,dn:function(){E=j}}}function Rc(a,c,p){var g=Yt(c),E=g?c.length:0,C=(E>0?c[0]:g?P:c)||setTimeout,R=(E>1?c[1]:P)||clearTimeout,x=p[0];p[0]=function(){M.dn(),ou(x,P,yn[Xe](arguments))};var M=Ac(a,function(U){if(U){if(U.refresh)return U.refresh(),U;ou(R,P,[U])}return ou(C,P,p)},function(U){ou(R,P,[U])});return M.h}function zu(a,c){return Rc(!0,P,yn[Xe](arguments))}function Gf(a,c){return Rc(!1,P,yn[Xe](arguments))}(jf()||{}).Symbol,(jf()||{}).Reflect;var Cl="hasOwnProperty",Vf=function(a,c){return Vf=u.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var E in g)g[Cl](E)&&(p[E]=g[E])},Vf(a,c)};function Gu(a,c){typeof c!==t&&c!==null&&qa("Class extends value "+String(c)+" is not a constructor or null"),Vf(a,c);function p(){this.constructor=a}a[s]=c===null?ii(c):(p[s]=c[s],new p)}function Hi(a,c){for(var p=0,g=c.length,E=a.length;p<g;p++,E++)a[E]=c[p];return a}var kc,So="constructor",si="prototype",Ko="function",zr="_dynInstFuncs",Ds="_isDynProxy",Ki="_dynClass",Oc="_dynCls$",Mc="_dynInstChk",Wo=Mc,xl="_dfOpts",Jo="_unknown_",du="__proto__",Ha="_dyn"+du,Hd="__dynProto$Gbl",Vu="_dynInstProto",xa="useBaseInst",Hf="setInstFuncs",Kd=Object,Pl=Kd.getPrototypeOf,Al=Kd.getOwnPropertyNames,Wd=jf(),Lv=Wd[Hd]||(Wd[Hd]={o:(kc={},kc[Hf]=!0,kc[xa]=!0,kc),n:1e3});function Hu(a){return a&&(a===Kd[si]||a===Array[si])}function bo(a){return Hu(a)||a===Function[si]}function Wi(a){var c;if(a){if(Pl)return Pl(a);var p=a[du]||a[si]||(a[So]?a[So][si]:null);c=a[Ha]||p,xn(a,Ha)||(delete a[Vu],c=a[Ha]=a[Vu]||a[Ha],a[Vu]=p)}return c}function vn(a,c){var p=[];if(Al)p=Al(a);else for(var g in a)typeof g=="string"&&xn(a,g)&&p.push(g);if(p&&p.length>0)for(var E=0;E<p.length;E++)c(p[E])}function Rl(a,c,p){return c!==So&&typeof a[c]===Ko&&(p||xn(a,c))&&c!==du&&c!==si}function Ku(a){qa("DynamicProto: "+a)}function Wu(a){var c=ii(null);return vn(a,function(p){!c[p]&&Rl(a,p,!1)&&(c[p]=a[p])}),c}function Jd(a,c){for(var p=a.length-1;p>=0;p--)if(a[p]===c)return!0;return!1}function Ni(a,c,p,g){function E(M,U,z){var G=U[z];if(G[Ds]&&g){var K=M[zr]||{};K[Wo]!==!1&&(G=(K[U[Ki]]||{})[z]||G)}return function(){return G.apply(M,arguments)}}var C=ii(null);vn(p,function(M){C[M]=E(c,p,M)});for(var R=Wi(a),x=[];R&&!bo(R)&&!Jd(x,R);)vn(R,function(M){!C[M]&&Rl(R,M,!Pl)&&(C[M]=E(c,R,M))}),x.push(R),R=Wi(R);return C}function pu(a,c,p,g){var E=null;if(a&&xn(p,Ki)){var C=a[zr]||ii(null);if(E=(C[p[Ki]]||ii(null))[c],E||Ku("Missing ["+c+"] "+Ko),!E[Mc]&&C[Wo]!==!1){for(var R=!xn(a,c),x=Wi(a),M=[];R&&x&&!bo(x)&&!Jd(M,x);){var U=x[c];if(U){R=U===g;break}M.push(x),x=Wi(x)}try{R&&(a[c]=E),E[Mc]=1}catch{C[Wo]=!1}}}return E}function Cs(a,c,p){var g=c[a];return g===p&&(g=Wi(c)[a]),typeof g!==Ko&&Ku("["+a+"] is not a "+Ko),g}function ur(a,c,p,g,E){function C(M,U){var z=function(){var G=pu(this,U,M,z)||Cs(U,M,z);return G.apply(this,arguments)};return z[Ds]=1,z}if(!Hu(a)){var R=p[zr]=p[zr]||ii(null);if(!Hu(R)){var x=R[c]=R[c]||ii(null);R[Wo]!==!1&&(R[Wo]=!!E),Hu(x)||vn(p,function(M){Rl(p,M,!1)&&p[M]!==g[M]&&(x[M]=p[M],delete p[M],(!xn(a,M)||a[M]&&!a[M][Ds])&&(a[M]=C(a,M)))})}}}function Eo(a,c){if(Pl){for(var p=[],g=Wi(c);g&&!bo(g)&&!Jd(p,g);){if(g===a)return!0;p.push(g),g=Wi(g)}return!1}return!0}function Zo(a,c){return xn(a,si)?a.name||c||Jo:((a||{})[So]||{}).name||c||Jo}function Di(a,c,p,g){xn(a,si)||Ku("theClass is an invalid class definition.");var E=a[si];Eo(E,c)||Ku("["+Zo(a)+"] not in hierarchy of ["+Zo(c)+"]");var C=null;xn(E,Ki)?C=E[Ki]:(C=Oc+Zo(a,"_")+"$"+Lv.n,Lv.n++,E[Ki]=C);var R=Di[xl],x=!!R[xa];x&&g&&g[xa]!==void 0&&(x=!!g[xa]);var M=Wu(c),U=Ni(E,c,M,x);p(c,U);var z=!!Pl&&!!R[Hf];z&&g&&(z=!!g[Hf]),ur(E,C,c,M,z!==!1)}Di[xl]=Lv.o;var Kf=100,Ci=oa,vu=Ci({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}),un=Ci({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2}),Ka="toLowerCase",kr="blkVal",pt="length",Ju="rdOnly",To="notify",xs="warnToConsole",Ji="throwInternal",mu="setDf",xi="watch",Lr="logger",wo="apply",Or="push",Io="splice",Wf="hdlr",No="cancel",Pn="initialize",Zi="identifier",Xo="removeNotificationListener",ya="addNotificationListener",Pa="isInitialized",Lc="instrumentationKey",Zu="INACTIVE",Jf="value",Ps="getNotifyMgr",Do="getPlugin",Co="name",Xu="iKey",xo="time",Mn="processNext",Zf="getProcessTelContext",Qu="pollInternalLogs",As="enabled",ui="stopPollingInternalLogs",Qo="unload",Rs="onComplete",Pi="version",Fc="loggingLevelConsole",hu="createNew",ca="teardown",_u="messageId",ks="message",Ai="isAsync",ec="diagLog",cn="_doTeardown",Jn="update",Ri="getNext",tc="setNextPlugin",es="protocol",Zd="userAgent",ci="split",Uc="nodeType",Sa="replace",Xf="logInternalMessage",Wa="type",ts="handler",rs="status",Xd="getResponseHeader",kl="getAllResponseHeaders",Qf="isChildEvt",Ol="data",Po="getCtx",Ja="setCtx",jc="complete",Fv="itemsReceived",rc="urlString",nc="sendPOST",ns="headers",Ml="timeout",Nm="setRequestHeader",Qd="traceId",Ll="spanId",ac="traceFlags",Bp;function Uv(a,c){Bp||(Bp=Up("AggregationError",function(g,E){E[pt]>1&&(g.errors=E[1])}));var p=a||"One or more errors occurred.";throw dt(c,function(g,E){p+=`
`.concat(E," > ").concat(Ht(g))}),new Bp(p,c||[])}var ic="Promise",jv="rejected";function Fl(a,c){return ep(a,function(p){return c?c({status:"fulfilled",rejected:!1,value:p}):p},function(p){return c?c({status:jv,rejected:!0,reason:p}):p})}function ep(a,c,p,g){var E=a;try{if(qr(a))(c||p)&&(E=a.then(c,p));else try{c&&(E=c(a))}catch(C){if(p)E=p(C);else throw C}}finally{g&&Xi(E,g)}return E}function Xi(a,c){var p=a;return c&&(qr(a)?a.finally?p=a.finally(c):p=a.then(function(g){return c(),g},function(g){throw c(),g}):c()),p}var zp=["pending","resolving","resolved",jv],Dm="dispatchEvent",ed;function Gp(a){var c;return a&&a.createEvent&&(c=a.createEvent("Event")),!!c&&c.initEvent}function tp(a,c,p,g){var E=za();!ed&&(ed=ga(!!tt(Gp,[E]).v));var C=ed.v?E.createEvent("Event"):g?new Event(c):{};if(p&&p(C),ed.v&&C.initEvent(c,!1,!0),C&&a[Dm])a[Dm](C);else{var R=a["on"+c];if(R)R(C);else{var x=tn("console");x&&(x.error||x.log)(c,Ht(C))}}}var Yc="unhandledRejection",td=Yc.toLowerCase(),oc=10,Os;function $c(a){return It(a)?a.toString():Ht(a)}function Yv(a,c,p){var g=Is(arguments,3),E=0,C=!1,R,x=[],M=!1,U=null,z;function G(Ze,nr){try{M=!0,U&&U.cancel(),U=null;var sr=a(function(Fn,fn){x.push(function(){try{var Un=E===2?Ze:nr,Ui=Qe(Un)?R:It(Un)?Un(R):Un;qr(Ui)?Ui.then(Fn,fn):Un?Fn(Ui):E===3?fn(Ui):Fn(Ui)}catch(_i){fn(_i)}}),C&&he()},g);return sr}finally{}}function K(Ze){return G(void 0,Ze)}function ee(Ze){var nr=Ze,sr=Ze;return It(Ze)&&(nr=function(Fn){return Ze&&Ze(),Fn},sr=function(Fn){throw Ze&&Ze(),Fn}),G(nr,sr)}function Z(){return zp[E]}function he(){if(x.length>0){var Ze=x.slice();x=[],M=!0,U&&U.cancel(),U=null,c(Ze)}}function ge(Ze,nr){return function(sr){if(E===nr){if(Ze===2&&qr(sr)){E=1,sr.then(ge(2,1),ge(3,1));return}E=Ze,C=!0,R=sr,he(),!M&&Ze===3&&!U&&(U=zu(Le,oc))}}}function Le(){if(!M)if(M=!0,Yf())process.emit(Yc,R,z);else{var Ze=ri()||jf();!Os&&(Os=ga(tt(tn,[ic+"RejectionEvent"]).v)),tp(Ze,td,function(nr){return Kn(nr,"promise",{g:function(){return z}}),nr.reason=R,nr},!!Os.v)}}z={then:G,catch:K,finally:ee},Br(z,"state",{get:Z}),Cc()&&(z[ai(11)]="IPromise");function Be(){return"IPromise "+Z()+(C?" - "+$c(R):"")}return z.toString=Be,function(){It(p)||qa(ic+": executor is not a function - "+$c(p));var nr=ge(3,0);try{p.call(z,ge(2,0),nr)}catch(sr){nr(sr)}}(),z}function rp(a){return function(c){var p=Is(arguments,1);return a(function(g,E){try{var C=[],R=1;jd(c,function(x,M){x&&(R++,ep(x,function(U){C[M]=U,--R===0&&g(C)},E))}),R--,R===0&&g(C)}catch(x){E(x)}},p)}}function qc(a){return ga(function(c){var p=Is(arguments,1);return a(function(g,E){var C=[],R=1;function x(M,U){R++,Fl(M,function(z){z.rejected?C[U]={status:jv,reason:z.reason}:C[U]={status:"fulfilled",value:z.value},--R===0&&g(C)})}try{Yt(c)?dt(c,x):bi(c)?jd(c,x):qa("Input is not an iterable"),R--,R===0&&g(C)}catch(M){E(M)}},p)})}function np(a){dt(a,function(c){try{c()}catch{}})}function Ms(a){var c=rr(a)?a:0;return function(p){zu(function(){np(p)},c)}}function Fr(a,c){return Yv(Fr,Ms(c),a,c)}var sc;function la(a,c){!sc&&(sc=ga(tt(tn,[ic]).v||null));var p=sc.v;if(!p)return Fr(a);It(a)||qa(ic+": executor is not a function - "+Ht(a));var g=0;function E(){return zp[g]}var C=new p(function(R,x){function M(z){g=2,R(z)}function U(z){g=3,x(z)}a(M,U)});return Br(C,"state",{get:E}),C}var ap;function rd(a){return Yv(rd,np,a)}function Bc(a,c){return!ap&&(ap=qc(rd)),ap.v(a,c)}var uc;function Za(a,c){return!uc&&(uc=ga(la)),uc.v.call(this,a,c)}var nd=rp(Za),Zn=void 0,vr="",Ls="channels",hn="core",as="createPerfMgr",cc="disabled",lc="extensionConfig",Fs="extensions",Qi="processTelemetry",Ul="priority",Vp="eventsSent",jl="eventsDiscarded",Hp="eventsSendRequest",Yl="perfEvent",zc="offlineEventsStored",ip="offlineBatchSent",zn="offlineBatchDrop",Gc="getPerfMgr",fa="domain",gu="path",op="Not dynamic - ",ad=/-([a-z])/g,da=/([^\w\d_$])/g,id=/^(\d+[\w\d_$])/;function sp(a){return!at(a)}function Us(a){var c=a;return c&&Gt(c)&&(c=c[Sa](ad,function(p,g){return g.toUpperCase()}),c=c[Sa](da,"_"),c=c[Sa](id,function(p,g){return"_"+g})),c}function Et(a,c){return a&&c?Gi(a,c)!==-1:!1}function is(a){return a&&a.toISOString()||""}function os(a){return bt(a)?a[Co]:vr}function li(a,c,p,g,E){var C=p;return a&&(C=a[c],C!==p&&(!E||E(C))&&(!g||g(p))&&(C=p,a[c]=C)),C}function $l(a,c,p){var g;return a?(g=a[c],!g&&at(g)&&(g=Qe(p)?{}:p,a[c]=g)):g=Qe(p)?{}:p,g}function Vc(a,c){var p=null,g=null;return It(a)?p=a:g=a,function(){var E=arguments;if(p&&(g=p()),g)return g[c][wo](g,E)}}function ss(a,c,p){if(a&&c&&en(a)&&en(c)){var g=function(C){if(Gt(C)){var R=c[C];It(R)?(!p||p(C,!0,c,a))&&(a[C]=Vc(c,C)):(!p||p(C,!1,c,a))&&(Yi(a,C)&&delete a[C],Kn(a,C,{g:function(){return c[C]},s:function(x){c[C]=x}}))}};for(var E in c)g(E)}return a}function ki(a,c,p,g,E){a&&c&&p&&(E!==!1||Qe(a[c]))&&(a[c]=Vc(p,g))}function Hc(a,c,p,g){return a&&c&&en(a)&&Yt(p)&&dt(p,function(E){Gt(E)&&ki(a,E,c,E,g)}),a}function od(a){return a&&Uu&&(a=u(Uu({},a))),a}function js(a){try{return a.responseText}catch{}return null}function ql(a,c){return a?"XDomainRequest,Response:"+js(a)||"":c}function Kc(a,c){return a?"XMLHttpRequest,Status:"+a[rs]+",Response:"+js(a)||a.response||"":c}function Bl(a,c){return c&&(rr(c)?a=[c].concat(a):Yt(c)&&(a=c.concat(a))),a}var up="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",cp="withCredentials",Kp="timeout";function Cm(a,c,p,g,E,C){g===void 0&&(g=!1),E===void 0&&(E=!1);function R(M,U,z){try{M[U]=z}catch{}}var x=new XMLHttpRequest;return g&&R(x,up,g),p&&R(x,cp,p),x.open(a,c,!E),p&&R(x,cp,p),!E&&C&&R(x,Kp,C),x}function us(a){var c={};if(Gt(a)){var p=Ca(a)[ci](/[\r\n]+/);dt(p,function(g){if(g){var E=g.indexOf(": ");if(E!==-1){var C=Ca(g.substring(0,E))[Ka](),R=Ca(g.substring(E+1));c[C]=R}else c[Ca(g)]=1}})}return c}function Ys(a,c,p){if(!a[p]&&c&&c[Xd]){var g=c[Xd](p);g&&(a[p]=Ca(g))}return a}var cs="kill-duration",Oi="kill-duration-seconds",$s="time-delta-millis";function yu(a,c){var p={};return a[kl]?p=us(a[kl]()):c&&(p=Ys(p,a,$s),p=Ys(p,a,cs),p=Ys(p,a,Oi)),p}var fi="documentMode",Wc="location",$v="console",fc="JSON",Wp="crypto",zl="msCrypto",Jc="ReactNative",Gl="msie",qs="trident/",Mi="XMLHttpRequest",Zc=null,Vl=null,sd=!1,pa=null,Bs=null;function va(a,c){var p=!1;if(a){try{if(p=c in a,!p){var g=a[s];g&&(p=c in g)}}catch{}if(!p)try{var E=new a;p=!Qe(E[c])}catch{}}return p}function ud(a){sd=a}function Su(a){if(a&&sd){var c=tn("__mockLocation");if(c)return c}return typeof location===r&&location?location:tn(Wc)}function cd(){return typeof console!==n?console:tn($v)}function Aa(){return!!(typeof JSON===r&&JSON||tn(fc)!==null)}function ma(){return Aa()?JSON||tn(fc):null}function Jp(){return tn(Wp)}function Hl(){return tn(zl)}function Kl(){var a=ni();return a&&a.product?a.product===Jc:!1}function bu(){var a=ni();if(a&&(a[Zd]!==Vl||Zc===null)){Vl=a[Zd];var c=(Vl||vr)[Ka]();Zc=Et(c,Gl)||Et(c,qs)}return Zc}function qv(a){if(a===void 0&&(a=null),!a){var c=ni()||{};a=c?(c.userAgent||vr)[Ka]():vr}var p=(a||vr)[Ka]();if(Et(p,Gl)){var g=za()||{};return Math.max(parseInt(p[ci](Gl)[1]),g[fi]||0)}else if(Et(p,qs)){var E=parseInt(p[ci](qs)[1]);if(E)return E+4}return null}function Bv(a){return(Bs===null||a===!1)&&(Bs=Fp()&&!!ni().sendBeacon),Bs}function Wl(a){var c=!1;try{c=!!tn("fetch");var p=tn("Request");c&&a&&p&&(c=va(p,"keepalive"))}catch{}return c}function Zp(){return pa===null&&(pa=typeof XDomainRequest!==n,pa&&Jl()&&(pa=pa&&!va(tn(Mi),"withCredentials"))),pa}function Jl(){var a=!1;try{var c=tn(Mi);a=!!c}catch{}return a}function Xp(a,c){if(a)for(var p=0;p<a[pt];p++){var g=a[p];if(g[Co]&&g[Co]===c)return g}return{}}function zv(a){var c=za();return c&&a?Xp(c.querySelectorAll("meta"),a).content:null}function Zl(a){var c,p=Ii();if(p){var g=p.getEntriesByType("navigation")||[];c=Xp((g[pt]>0?g[0]:{}).serverTiming,a).description}return c}var Gv=4294967296,Eu=4294967295,Xc=123456789,lp=987654321,ls=!1,ld=Xc,Xl=lp;function Ao(a){a<0&&(a>>>=0),ld=Xc+a&Eu,Xl=lp-a&Eu,ls=!0}function Qc(){try{var a=uu()&2147483647;Ao((Math.random()*Gv^a)+a)}catch{}}function Vv(a){return a>0?Math.floor(el()/Eu*(a+1))>>>0:0}function el(a){var c=0,p=Jp()||Hl();return p&&p.getRandomValues&&(c=p.getRandomValues(new Uint32Array(1))[0]&Eu),c===0&&bu()&&(ls||Qc(),c=xm()&Eu),c===0&&(c=Math.floor(Gv*Math.random()|0)),a||(c>>>=0),c}function xm(a){Xl=36969*(Xl&65535)+(Xl>>16)&Eu,ld=18e3*(ld&65535)+(ld>>16)&Eu;var c=(Xl<<16)+(ld&65535)>>>0&Eu|0;return a||(c>>>=0),c}function Ql(a){a===void 0&&(a=22);for(var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=el()>>>0,g=0,E=vr;E[pt]<a;)g++,E+=c.charAt(p&63),p>>>=6,g===5&&(p=(el()<<2&4294967295|p&3)>>>0,g=0);return E}var Hv="3.3.4",Qp="."+Ql(6),Tu=0;function wu(a){return a[Uc]===1||a[Uc]===9||!+a[Uc]}function tl(a,c){var p=c[a.id];if(!p){p={};try{wu(c)&&Kn(c,a.id,{e:!1,v:p})}catch{}}return p}function fs(a,c){return c===void 0&&(c=!1),Us(a+Tu+++(c?"."+Hv:vr)+Qp)}function zs(a){var c={id:fs("_aiData-"+(a||vr)+"."+Hv),accept:function(p){return wu(p)},get:function(p,g,E,C){var R=p[c.id];return R?R[Us(g)]:(C&&(R=tl(c,p),R[Us(g)]=E),E)},kill:function(p,g){if(p&&p[g])try{delete p[g]}catch{}}};return c}function ef(a){return a&&en(a)&&(a.isVal||a.fb||Yi(a,"v")||Yi(a,"mrg")||Yi(a,"ref")||a.set)}function fd(a,c,p){var g,E=p.dfVal||zt;if(c&&p.fb){var C=p.fb;Yt(C)||(C=[C]);for(var R=0;R<C[pt];R++){var x=C[R],M=c[x];if(E(M)?g=M:a&&(M=a.cfg[x],E(M)&&(g=M),a.set(a.cfg,Wr(x),M)),E(g))break}}return!E(g)&&E(p.v)&&(g=p.v),g}function dd(a,c,p){var g=p;if(p&&ef(p)&&(g=fd(a,c,p)),g){ef(g)&&(g=dd(a,c,g));var E;Yt(g)?(E=[],E[pt]=g[pt]):oi(g)&&(E={}),E&&(jr(g,function(C,R){R&&ef(R)&&(R=dd(a,c,R)),E[C]=R}),g=E)}return g}function tf(a,c,p,g){var E,C,R,x=g,M,U,z,G;ef(x)?(E=x.isVal,C=x.set,z=x[Ju],G=x[kr],M=x.mrg,U=x.ref,!U&&Qe(U)&&(U=!!M),R=fd(a,c,x)):R=g,G&&a[kr](c,p);var K,ee=!0,Z=c[p];(Z||!at(Z))&&(K=Z,ee=!1,E&&K!==R&&!E(K)&&(K=R,ee=!0),C&&(K=C(K,R,c),ee=K===R)),ee?R?K=dd(a,c,R):K=R:(oi(K)||Yt(R))&&M&&R&&(oi(R)||Yt(R))&&jr(R,function(he,ge){tf(a,K,he,ge)}),a.set(c,p,K),U&&a.ref(c,p),z&&a[Ju](c,p)}var di=El("[[ai_dynCfg_1]]"),rf=El("[[ai_blkDynCfg_1]]"),Kv=El("[[ai_frcDynCfg_1]]");function Pm(a){if(a){var c;if(Yt(a)?(c=[],c[pt]=a[pt]):oi(a)&&(c={}),c)return jr(a,function(p,g){c[p]=Pm(g)}),c}return a}function rl(a){if(a){var c=a[di]||a;if(c.cfg&&(c.cfg===a||c.cfg[di]===c))return c}return null}function Am(a){if(a&&(oi(a)||Yt(a)))try{a[rf]=!0}catch{}return a}function Ro(a){if(a)try{a[Kv]=!0}catch{}return a}function Iu(a,c,p){var g=!1;return p&&!a[c.blkVal]&&(g=p[Kv],!g&&!p[rf]&&(g=oi(p)||Yt(p))),g}function nl(a){qa("InvalidAccess:"+a)}var Wv=["push","pop","shift","unshift","splice"],fp=function(a,c,p,g){a&&a[Ji](3,108,"".concat(p," [").concat(c,"] failed - ")+Ht(g))};function Jv(a,c,p){Yt(c)&&dt(Wv,function(g){var E=c[g];c[g]=function(){for(var C=[],R=0;R<arguments.length;R++)C[R]=arguments[R];var x=E[wo](this,C);return vd(a,c,p,"Patching"),x}})}function ev(a,c){var p=Hr(a,c);return p&&p.get}function pd(a,c,p,g){var E={n:p,h:[],trk:function(U){U&&U.fn&&(ua(E.h,U)===-1&&E.h[Or](U),a.trk(U,E))},clr:function(U){var z=ua(E.h,U);z!==-1&&E.h[Io](z,1)}},C=!0,R=!1;function x(){C&&(R=R||Iu(x,a,g),g&&!g[di]&&R&&(g=vd(a,g,p,"Converting")),C=!1);var U=a.act;return U&&E.trk(U),g}x[a.prop]={chng:function(){a.add(E)}};function M(U){if(g!==U){x[a.ro]&&!a.upd&&nl("["+p+"] is read-only:"+Ht(c)),C&&(R=R||Iu(x,a,g),C=!1);var z=R&&x[a.rf];if(R)if(z){jr(g,function(K){g[K]=U?U[K]:Zn});try{jr(U,function(K,ee){al(a,g,K,ee)}),U=g}catch(K){fp((a.hdlr||{})[Lr],p,"Assigning",K),R=!1}}else g&&g[di]&&jr(g,function(K){var ee=ev(g,K);if(ee){var Z=ee[a.prop];Z&&Z.chng()}});if(U!==g){var G=U&&Iu(x,a,U);!z&&G&&(U=vd(a,U,p,"Converting")),g=U,R=G}a.add(E)}}Kn(c,E.n,{g:x,s:M})}function al(a,c,p,g){if(c){var E=ev(c,p),C=E&&!!E[a.prop];C?c[p]=g:pd(a,c,p,g)}return c}function eo(a,c,p,g){if(c){var E=ev(c,p),C=E&&!!E[a.prop],R=g&&g[0],x=g&&g[1],M=g&&g[2];if(!C){if(M)try{Am(c)}catch(U){fp((a.hdlr||{})[Lr],p,"Blocking",U)}try{al(a,c,p,c[p]),E=ev(c,p)}catch(U){fp((a.hdlr||{})[Lr],p,"State",U)}}R&&(E[a.rf]=R),x&&(E[a.ro]=x),M&&(E[a.blkVal]=!0)}return c}function vd(a,c,p,g){try{jr(c,function(E,C){al(a,c,E,C)}),c[di]||(Br(c,di,{get:function(){return a[Wf]}}),Jv(a,c,p))}catch(E){fp((a.hdlr||{})[Lr],p,g,E)}return c}var il="[[ai_",Ra="]]";function to(a){var c,p=$u(il+"get"+a.uid+Ra),g=$u(il+"ro"+a.uid+Ra),E=$u(il+"rf"+a.uid+Ra),C=$u(il+"blkVal"+a.uid+Ra),R=$u(il+"dtl"+a.uid+Ra),x=null,M=null,U;function z(Z,he){var ge=U.act;try{U.act=Z,Z&&Z[R]&&(dt(Z[R],function(Be){Be.clr(Z)}),Z[R]=[]),he({cfg:a.cfg,set:a.set.bind(a),setDf:a[mu].bind(a),ref:a.ref.bind(a),rdOnly:a[Ju].bind(a)})}catch(Be){var Le=a[Lr];throw Le&&Le[Ji](1,107,Ht(Be)),Be}finally{U.act=ge||null}}function G(){if(x){var Z=x;x=null,M&&M[No](),M=null;var he=[];if(dt(Z,function(ge){if(ge&&(ge[R]&&(dt(ge[R],function(Le){Le.clr(ge)}),ge[R]=null),ge.fn))try{z(ge,ge.fn)}catch(Le){he[Or](Le)}}),x)try{G()}catch(ge){he[Or](ge)}he[pt]>0&&Uv("Watcher error(s): ",he)}}function K(Z){if(Z&&Z.h[pt]>0){x||(x=[]),M||(M=zu(function(){M=null,G()},0));for(var he=0;he<Z.h[pt];he++){var ge=Z.h[he];ge&&ua(x,ge)===-1&&x[Or](ge)}}}function ee(Z,he){if(Z){var ge=Z[R]=Z[R]||[];ua(ge,he)===-1&&ge[Or](he)}}return U=(c={prop:p,ro:g,rf:E},c[kr]=C,c[Wf]=a,c.add=K,c[To]=G,c.use=z,c.trk=ee,c),U}function nf(a,c){var p={fn:c,rm:function(){p.fn=null,a=null,c=null}};return Kn(p,"toJSON",{v:function(){return"WatcherHandler"+(p.fn?"":"[X]")}}),a.use(p,c),p}function Zv(a,c,p){var g,E=rl(c);if(E)return E;var C=fs("dyncfg",!0),R=c&&p!==!1?c:Pm(c),x;function M(){x[To]()}function U(Le,Be,Ze){try{Le=al(x,Le,Be,Ze)}catch(nr){fp(a,Be,"Setting value",nr)}return Le[Be]}function z(Le){return nf(x,Le)}function G(Le,Be){x.use(null,function(Ze){var nr=x.upd;try{Qe(Be)||(x.upd=Be),Le(Ze)}finally{x.upd=nr}})}function K(Le,Be){var Ze;return eo(x,Le,Be,(Ze={},Ze[0]=!0,Ze))[Be]}function ee(Le,Be){var Ze;return eo(x,Le,Be,(Ze={},Ze[1]=!0,Ze))[Be]}function Z(Le,Be){var Ze;return eo(x,Le,Be,(Ze={},Ze[2]=!0,Ze))[Be]}function he(Le,Be){return Be&&jr(Be,function(Ze,nr){tf(ge,Le,Ze,nr)}),Le}var ge=(g={uid:null,cfg:R},g[Lr]=a,g[To]=M,g.set=U,g[mu]=he,g[xi]=z,g.ref=K,g[Ju]=ee,g[kr]=Z,g._block=G,g);return Kn(ge,"uid",{c:!1,e:!1,w:!1,v:C}),x=to(ge),vd(x,R,"config","Creating"),ge}function Xv(a,c){a?(a[xs](c),a[Ji](2,108,c)):nl(c)}function ha(a,c,p,g){var E=Zv(p,a||{},g);return c&&E[mu](E.cfg,c),E}function ol(a,c,p){var g=a[di]||a;return g.cfg&&(g.cfg===a||g.cfg[di]===g)?g[xi](c):(Xv(p,op+Ht(a)),ha(a,null,p)[xi](c))}function af(a,c){if(a&&a[Qo])return a[Qo](c)}function Rm(a,c,p){var g;return p||(g=Za(function(E){p=E})),a&&Ns(a)>0?Fl(af(a[0],c),function(){Rm(Is(a,1),c,p)}):p(),g}var Qv=500,of="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";function ka(a){return{mrg:!0,v:a}}var dp=[Vp,jl,Hp,Yl],dc=null,sl;function Gs(a,c){return function(){var p=arguments,g=pp(c);if(g){var E=g.listener;E&&E[a]&&E[a][wo](E,p)}}}function sf(){var a=tn("Microsoft");return a&&(dc=a.ApplicationInsights),dc}function pp(a){var c=dc;return!c&&a.disableDbgExt!==!0&&(c=dc||sf()),c?c.ChromeDbgExt:null}function St(a){if(!sl){sl={};for(var c=0;c<dp[pt];c++)sl[dp[c]]=Gs(dp[c],a)}return sl}var Nu,ko="warnToConsole",uf="AI (Internal): ",km="AI: ",cf="AITR_",md={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},Oo=(Nu={},Nu[0]=null,Nu[1]="errorToConsole",Nu[2]=ko,Nu[3]="debugToConsole",Nu);function em(a){return a?'"'+a[Sa](/\"/g,vr)+'"':vr}function vp(a,c){var p=cd();if(p){var g="log";p[a]&&(g=a),It(p[g])&&p[g](c)}}var mp=function(){function a(c,p,g,E){g===void 0&&(g=!1);var C=this;C[_u]=c,C[ks]=(g?km:uf)+c;var R=vr;Aa()&&(R=ma().stringify(E));var x=(p?" message:"+em(p):vr)+(E?" props:"+em(R):vr);C[ks]+=x}return a.dataType="MessageData",a}();function lf(a,c){return(a||{})[Lr]||new pc(c)}var pc=function(){function a(c){this.identifier="DiagnosticLogger",this.queue=[];var p=0,g={},E,C,R,x,M;Di(a,this,function(U){M=G(c||{}),U.consoleLoggingLevel=function(){return E},U[Ji]=function(Z,he,ge,Le,Be){Be===void 0&&(Be=!1);var Ze=new mp(he,ge,Be,Le);if(x)throw Ht(Ze);var nr=Oo[Z]||ko;if(Qe(Ze[ks]))ee("throw"+(Z===1?"Critical":"Warning"),Ze);else{if(Be){var sr=+Ze[_u];!g[sr]&&E>=Z&&(U[nr](Ze[ks]),g[sr]=!0)}else E>=Z&&U[nr](Ze[ks]);z(Z,Ze)}},U.debugToConsole=function(Z){vp("debug",Z),ee("warning",Z)},U[xs]=function(Z){vp("warn",Z),ee("warning",Z)},U.errorToConsole=function(Z){vp("error",Z),ee("error",Z)},U.resetInternalMessageCount=function(){p=0,g={}},U[Xf]=z,U[Qo]=function(Z){M&&M.rm(),M=null};function z(Z,he){if(!K()){var ge=!0,Le=cf+he[_u];if(g[Le]?ge=!1:g[Le]=!0,ge&&(Z<=C&&(U.queue[Or](he),p++,ee(Z===1?"error":"warn",he)),p===R)){var Be="Internal events throttle limit per PageView reached for this app.",Ze=new mp(23,Be,!1);U.queue[Or](Ze),Z===1?U.errorToConsole(Be):U[xs](Be)}}}function G(Z){return ol(ha(Z,md,U).cfg,function(he){var ge=he.cfg;E=ge[Fc],C=ge.loggingLevelTelemetry,R=ge.maxMessageLimit,x=ge.enableDebug})}function K(){return p>=R}function ee(Z,he){var ge=pp(c||{});ge&&ge[ec]&&ge[ec](Z,he)}})}return a.__ieDyn=1,a}();function tv(a){return a||new pc}function Yr(a,c,p,g,E,C){C===void 0&&(C=!1),tv(a)[Ji](c,p,g,E,C)}function Vs(a,c){tv(a)[xs](c)}function rv(a,c,p){tv(a)[Xf](c,p)}var Du,ro,Ln="toGMTString",hd="toUTCString",vc="cookie",ul="expires",ds="isCookieUseDisabled",no="disableCookiesUsage",Mo="_ckMgr",_d=null,hp=null,nv=null,ps,av={},gd={},iv=(Du={cookieCfg:ka((ro={},ro[fa]={fb:"cookieDomain",dfVal:sp},ro.path={fb:"cookiePath",dfVal:sp},ro.enabled=Zn,ro.ignoreCookies=Zn,ro.blockedCookies=Zn,ro)),cookieDomain:Zn,cookiePath:Zn},Du[no]=Zn,Du);function vs(){!ps&&(ps=Uf(function(){return za()}))}function Om(a,c){var p=I[Mo]||gd[Mo];return p||(p=I[Mo]=I(a,c),gd[Mo]=p),p}function Cu(a){return a?a.isEnabled():!0}function ov(a,c){return c&&a&&Yt(a.ignoreCookies)?ua(a.ignoreCookies,c)!==-1:!1}function f(a,c){return c&&a&&Yt(a.blockedCookies)&&ua(a.blockedCookies,c)!==-1?!0:ov(a,c)}function m(a,c){var p=c[As];if(at(p)){var g=void 0;Qe(a[ds])||(g=!a[ds]),Qe(a[no])||(g=!a[no]),p=g}return p}function y(a,c){var p;if(a)p=a.getCookieMgr();else if(c){var g=c.cookieCfg;g&&g[Mo]?p=g[Mo]:p=I(c)}return p||(p=Om(c,(a||{})[Lr])),p}function I(a,c){var p,g,E,C,R,x,M,U,z;a=ha(a||gd,null,c).cfg,R=ol(a,function(K){K[mu](K.cfg,iv),g=K.ref(K.cfg,"cookieCfg"),E=g[gu]||"/",C=g[fa],x=m(a,g)!==!1,M=g.getCookie||te,U=g.setCookie||_e,z=g.delCookie||_e},c);var G=(p={isEnabled:function(){var K=m(a,g)!==!1&&x&&F(c),ee=gd[Mo];return K&&ee&&G!==ee&&(K=Cu(ee)),K},setEnabled:function(K){x=K!==!1,g[As]=K},set:function(K,ee,Z,he,ge){var Le=!1;if(Cu(G)&&!f(g,K)){var Be={},Ze=Ca(ee||vr),nr=Gi(Ze,";");if(nr!==-1&&(Ze=Ca(kn(ee,nr)),Be=V(on(ee,nr+1))),li(Be,fa,he||C,$a,Qe),!at(Z)){var sr=bu();if(Qe(Be[ul])){var Fn=uu(),fn=Fn+Z*1e3;if(fn>0){var Un=new Date;Un.setTime(fn),li(Be,ul,J(Un,sr?Ln:hd)||J(Un,sr?Ln:hd)||vr,$a)}}sr||li(Be,"max-age",vr+Z,null,Qe)}var Ui=Su();Ui&&Ui[es]==="https:"&&(li(Be,"secure",null,null,Qe),hp===null&&(hp=!et((ni()||{})[Zd])),hp&&li(Be,"SameSite","None",null,Qe)),li(Be,gu,ge||E,null,Qe),U(K,re(Ze,Be)),Le=!0}return Le},get:function(K){var ee=vr;return Cu(G)&&!ov(g,K)&&(ee=M(K)),ee},del:function(K,ee){var Z=!1;return Cu(G)&&(Z=G.purge(K,ee)),Z},purge:function(K,ee){var Z,he=!1;if(F(c)){var ge=(Z={},Z[gu]=ee||"/",Z[ul]="Thu, 01 Jan 1970 00:00:01 GMT",Z);bu()||(ge["max-age"]="0"),z(K,re(vr,ge)),he=!0}return he}},p[Qo]=function(K){R&&R.rm(),R=null},p);return G[Mo]=G,G}function F(a){if(_d===null){_d=!1,!ps&&vs();try{var c=ps.v||{};_d=c[vc]!==void 0}catch(p){Yr(a,2,68,"Cannot access document.cookie - "+os(p),{exception:Ht(p)})}}return _d}function V(a){var c={};if(a&&a[pt]){var p=Ca(a)[ci](";");dt(p,function(g){if(g=Ca(g||vr),g){var E=Gi(g,"=");E===-1?c[g]=null:c[Ca(kn(g,E))]=Ca(on(g,E+1))}})}return c}function J(a,c){return It(a[c])?a[c]():null}function re(a,c){var p=a||vr;return jr(c,function(g,E){p+="; "+g+(at(E)?vr:"="+E)}),p}function te(a){var c=vr;if(!ps&&vs(),ps.v){var p=ps.v[vc]||vr;nv!==p&&(av=V(p),nv=p),c=Ca(av[a]||vr)}return c}function _e(a,c){!ps&&vs(),ps.v&&(ps.v[vc]=a+"="+c)}function et(a){return Gt(a)?!!(Et(a,"CPU iPhone OS 12")||Et(a,"iPad; CPU OS 12")||Et(a,"Macintosh; Intel Mac OS X 10_14")&&Et(a,"Version/")&&Et(a,"Safari")||Et(a,"Macintosh; Intel Mac OS X 10_14")&&Bf(a,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Et(a,"Chrome/5")||Et(a,"Chrome/6")||Et(a,"UnrealEngine")&&!Et(a,"Chrome")||Et(a,"UCBrowser/12")||Et(a,"UCBrowser/11")):!1}var Tt={perfEvtsSendAll:!1};function Zt(a){a.h=null;var c=a.cb;a.cb=[],dt(c,function(p){tt(p.fn,[p.arg])})}function ot(a,c,p,g){dt(a,function(E){E&&E[c]&&(p?(p.cb[Or]({fn:g,arg:E}),p.h=p.h||zu(Zt,0,p)):tt(g,[E]))})}var lt=function(){function a(c){this.listeners=[];var p,g,E=[],C={h:null,cb:[]},R=ha(c,Tt);g=R[xi](function(x){p=!!x.cfg.perfEvtsSendAll}),Di(a,this,function(x){Kn(x,"listeners",{g:function(){return E}}),x[ya]=function(M){E[Or](M)},x[Xo]=function(M){for(var U=ua(E,M);U>-1;)E[Io](U,1),U=ua(E,M)},x[Vp]=function(M){ot(E,Vp,C,function(U){U[Vp](M)})},x[jl]=function(M,U){ot(E,jl,C,function(z){z[jl](M,U)})},x[Hp]=function(M,U){ot(E,Hp,U?C:null,function(z){z[Hp](M,U)})},x[Yl]=function(M){M&&(p||!M[Qf]())&&ot(E,Yl,null,function(U){M[Ai]?zu(function(){return U[Yl](M)},0):U[Yl](M)})},x[zc]=function(M){M&&M[pt]&&ot(E,zc,C,function(U){U[zc](M)})},x[ip]=function(M){M&&M[Ol]&&ot(E,ip,C,function(U){U[ip](M)})},x[zn]=function(M,U){if(M>0){var z=U||0;ot(E,zn,C,function(G){G[zn](M,z)})}},x[Qo]=function(M){var U=function(){g&&g.rm(),g=null,E=[],C.h&&C.h[No](),C.h=null,C.cb=[]},z;if(ot(E,"unload",null,function(G){var K=G[Qo](M);K&&(z||(z=[]),z[Or](K))}),z)return Za(function(G){return Fl(nd(z),function(){U(),G()})});U()}})}return a.__ieDyn=1,a}(),ir="ctx",Lt="ParentContextKey",gr="ChildrenContextKey",br=null,Rt=function(){function a(c,p,g){var E=this;if(E.start=uu(),E[Co]=c,E[Ai]=g,E[Qf]=function(){return!1},It(p)){var C;Kn(E,"payload",{g:function(){return!C&&It(p)&&(C=p(),p=null),C}})}E[Po]=function(R){return R?R===a[Lt]||R===a[gr]?E[R]:(E[ir]||{})[R]:null},E[Ja]=function(R,x){if(R)if(R===a[Lt])E[R]||(E[Qf]=function(){return!0}),E[R]=x;else if(R===a[gr])E[R]=x;else{var M=E[ir]=E[ir]||{};M[R]=x}},E[jc]=function(){var R=0,x=E[Po](a[gr]);if(Yt(x))for(var M=0;M<x[pt];M++){var U=x[M];U&&(R+=U[xo])}E[xo]=uu()-E.start,E.exTime=E[xo]-R,E[jc]=function(){}}}return a.ParentContextKey="parent",a.ChildrenContextKey="childEvts",a}(),En=function(){function a(c){this.ctx={},Di(a,this,function(p){p.create=function(g,E,C){return new Rt(g,E,C)},p.fire=function(g){g&&(g[jc](),c&&It(c[Yl])&&c[Yl](g))},p[Ja]=function(g,E){if(g){var C=p[ir]=p[ir]||{};C[g]=E}},p[Po]=function(g){return(p[ir]||{})[g]}})}return a.__ieDyn=1,a}(),mc="CoreUtils.doPerf";function Hs(a,c,p,g,E){if(a){var C=a;if(C[Gc]&&(C=C[Gc]()),C){var R=void 0,x=C[Po](mc);try{if(R=C.create(c(),g,E),R){if(x&&R[Ja]&&(R[Ja](Rt[Lt],x),x[Po]&&x[Ja])){var M=x[Po](Rt[gr]);M||(M=[],x[Ja](Rt[gr],M)),M[Or](R)}return C[Ja](mc,R),p(R)}}catch(U){R&&R[Ja]&&R[Ja]("exception",U)}finally{R&&C.fire(R),C[Ja](mc,x)}}}return p()}function cl(){return br}function ff(){var a=yd();return on(a,0,8)+"-"+on(a,8,12)+"-"+on(a,12,16)+"-"+on(a,16,20)+"-"+on(a,20)}function yd(){for(var a=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],c=vr,p,g=0;g<4;g++)p=el(),c+=a[p&15]+a[p>>4&15]+a[p>>8&15]+a[p>>12&15]+a[p>>16&15]+a[p>>20&15]+a[p>>24&15]+a[p>>28&15];var E=a[8+(el()&3)|0];return go(c,0,8)+go(c,9,4)+"4"+go(c,13,3)+E+go(c,16,3)+go(c,19,12)}var df=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,pf="00",Sd="ff",vf="00000000000000000000000000000000",Pe="0000000000000000",vt=1;function $t(a,c,p){return a&&a[pt]===c&&a!==p?!!a.match(/^[\da-f]*$/i):!1}function rn(a,c,p){return $t(a,c)?a:p}function ba(a){(isNaN(a)||a<0||a>255)&&(a=1);for(var c=a.toString(16);c[pt]<2;)c="0"+c;return c}function Ea(a,c,p,g){var E;return E={},E[Pi]=$t(g,2,Sd)?g:pf,E[Qd]=pi(a)?a:yd(),E[Ll]=ms(c)?c:kn(yd(),16),E.traceFlags=p>=0&&p<=255?p:1,E}function Xn(a,c){var p;if(!a||(Yt(a)&&(a=a[0]||""),!a||!Gt(a)||a[pt]>8192))return null;if(a.indexOf(",")!==-1){var g=a[ci](",");a=g[c>0&&g[pt]>c?c:0]}var E=df.exec(Ca(a));return!E||E[1]===Sd||E[2]===vf||E[3]===Pe?null:(p={version:(E[1]||vr)[Ka](),traceId:(E[2]||vr)[Ka](),spanId:(E[3]||vr)[Ka]()},p[ac]=parseInt(E[4],16),p)}function pi(a){return $t(a,32,vf)}function ms(a){return $t(a,16,Pe)}function ll(a){return!(!a||!$t(a[Pi],2,Sd)||!$t(a[Qd],32,vf)||!$t(a[Ll],16,Pe)||!$t(ba(a[ac]),2))}function tm(a){return ll(a)?(a[ac]&vt)===vt:!1}function xu(a){if(a){var c=ba(a[ac]);$t(c,2)||(c="01");var p=a[Pi]||pf;return p!=="00"&&p!=="ff"&&(p=pf),"".concat(p.toLowerCase(),"-").concat(rn(a.traceId,32,vf).toLowerCase(),"-").concat(rn(a.spanId,16,Pe).toLowerCase(),"-").concat(c.toLowerCase())}return""}function bd(a){var c="traceparent",p=Xn(zv(c),a);return p||(p=Xn(Zl(c),a)),p}var Mm=zs("plugin");function Qn(a){return Mm.get(a,"state",{},!0)}function hs(a,c){for(var p=[],g=null,E=a[Ri](),C;E;){var R=E[Do]();if(R){g&&g[tc]&&R[Qi]&&g[tc](R),C=Qn(R);var x=!!C[Pa];R[Pa]&&(x=R[Pa]()),x||p[Or](R),g=R,E=E[Ri]()}}dt(p,function(M){var U=a[hn]();M[Pn](a.getCfg(),U,c,a[Ri]()),C=Qn(M),!M[hn]&&!C[hn]&&(C[hn]=U),C[Pa]=!0,delete C[ca]})}function rm(a){return a.sort(function(c,p){var g=0;if(p){var E=p[Qi];c[Qi]?g=E?c[Ul]-p[Ul]:1:E&&(g=-1)}else g=c?1:-1;return g})}function Lm(a){var c={};return{getName:function(){return c[Co]},setName:function(p){a&&a.setName(p),c[Co]=p},getTraceId:function(){return c[Qd]},setTraceId:function(p){a&&a.setTraceId(p),pi(p)&&(c[Qd]=p)},getSpanId:function(){return c[Ll]},setSpanId:function(p){a&&a.setSpanId(p),ms(p)&&(c[Ll]=p)},getTraceFlags:function(){return c[ac]},setTraceFlags:function(p){a&&a.setTraceFlags(p),c[ac]=p}}}var sv="TelemetryPluginChain",Fm="_hasRun",Um="_getTelCtx",Gh=0;function jm(a,c,p){for(;a;){if(a[Do]()===p)return a;a=a[Ri]()}return dl([p],c.config||{},c)}function Ym(a,c,p,g){var E=null,C=[];c||(c=ha({},null,p[Lr])),g!==null&&(E=g?jm(a,p,g):a);var R={_next:M,ctx:{core:function(){return p},diagLog:function(){return lf(p,c.cfg)},getCfg:function(){return c.cfg},getExtCfg:z,getConfig:G,hasNext:function(){return!!E},getNext:function(){return E},setNext:function(ee){E=ee},iterate:K,onComplete:x}};function x(ee,Z){for(var he=[],ge=2;ge<arguments.length;ge++)he[ge-2]=arguments[ge];ee&&C[Or]({func:ee,self:Qe(Z)?R.ctx:Z,args:he})}function M(){var ee=E;if(E=ee?ee[Ri]():null,!ee){var Z=C;Z&&Z[pt]>0&&(dt(Z,function(he){try{he.func.call(he.self,he.args)}catch(ge){Yr(p[Lr],2,73,"Unexpected Exception during onComplete - "+Ht(ge))}}),C=[])}return ee}function U(ee,Z){var he=null,ge=c.cfg;if(ge&&ee){var Le=ge[lc];!Le&&Z&&(Le={}),ge[lc]=Le,Le=c.ref(ge,lc),Le&&(he=Le[ee],!he&&Z&&(he={}),Le[ee]=he,he=c.ref(Le,ee))}return he}function z(ee,Z){var he=U(ee,!0);return Z&&jr(Z,function(ge,Le){if(at(he[ge])){var Be=c.cfg[ge];(Be||!at(Be))&&(he[ge]=Be)}tf(c,he,ge,Le)}),c[mu](he,Z)}function G(ee,Z,he){he===void 0&&(he=!1);var ge,Le=U(ee,!1),Be=c.cfg;return Le&&(Le[Z]||!at(Le[Z]))?ge=Le[Z]:(Be[Z]||!at(Be[Z]))&&(ge=Be[Z]),ge||!at(ge)?ge:he}function K(ee){for(var Z;Z=R._next();){var he=Z[Do]();he&&ee(he)}}return R}function fl(a,c,p,g){var E=ha(c),C=Ym(a,E,p,g),R=C.ctx;function x(U){var z=C._next();return z&&z[Qi](U,R),!z}function M(U,z){return U===void 0&&(U=null),Yt(U)&&(U=dl(U,E.cfg,p,z)),fl(U||R[Ri](),E.cfg,p,z)}return R[Mn]=x,R[hu]=M,R}function mf(a,c,p){var g=ha(c.config),E=Ym(a,g,c,p),C=E.ctx;function R(M){var U=E._next();return U&&U[Qo](C,M),!U}function x(M,U){return M===void 0&&(M=null),Yt(M)&&(M=dl(M,g.cfg,c,U)),mf(M||C[Ri](),c,U)}return C[Mn]=R,C[hu]=x,C}function Ks(a,c,p){var g=ha(c.config),E=Ym(a,g,c,p),C=E.ctx;function R(M){return C.iterate(function(U){It(U[Jn])&&U[Jn](C,M)})}function x(M,U){return M===void 0&&(M=null),Yt(M)&&(M=dl(M,g.cfg,c,U)),Ks(M||C[Ri](),c,U)}return C[Mn]=R,C[hu]=x,C}function dl(a,c,p,g){var E=null,C=!g;if(Yt(a)&&a[pt]>0){var R=null;dt(a,function(x){if(!C&&g===x&&(C=!0),C&&x&&It(x[Qi])){var M=$m(x,c,p);E||(E=M),R&&R._setNext(M),R=M}})}return g&&!E?dl([g],c,p):E}function $m(a,c,p){var g=null,E=It(a[Qi]),C=It(a[tc]),R;a?R=a[Zi]+"-"+a[Ul]+"-"+Gh++:R="Unknown-0-"+Gh++;var x={getPlugin:function(){return a},getNext:function(){return g},processTelemetry:z,unload:G,update:K,_id:R,_setNext:function(ee){g=ee}};function M(){var ee;return a&&It(a[Um])&&(ee=a[Um]()),ee||(ee=fl(x,c,p)),ee}function U(ee,Z,he,ge,Le){var Be=!1,Ze=a?a[Zi]:sv,nr=ee[Fm];return nr||(nr=ee[Fm]={}),ee.setNext(g),a&&Hs(ee[hn](),function(){return Ze+":"+he},function(){nr[R]=!0;try{var sr=g?g._id:vr;sr&&(nr[sr]=!1),Be=Z(ee)}catch(fn){var Fn=g?nr[g._id]:!0;Fn&&(Be=!0),(!g||!Fn)&&Yr(ee[ec](),1,73,"Plugin ["+Ze+"] failed during "+he+" - "+Ht(fn)+", run flags: "+Ht(nr))}},ge,Le),Be}function z(ee,Z){Z=Z||M();function he(ge){if(!a||!E)return!1;var Le=Qn(a);return Le[ca]||Le[cc]?!1:(C&&a[tc](g),a[Qi](ee,ge),!0)}U(Z,he,"processTelemetry",function(){return{item:ee}},!ee.sync)||Z[Mn](ee)}function G(ee,Z){function he(){var ge=!1;if(a){var Le=Qn(a),Be=a[hn]||Le[hn];a&&(!Be||Be===ee.core())&&!Le[ca]&&(Le[hn]=null,Le[ca]=!0,Le[Pa]=!1,a[ca]&&a[ca](ee,Z)===!0&&(ge=!0))}return ge}U(ee,he,"unload",function(){},Z[Ai])||ee[Mn](Z)}function K(ee,Z){function he(){var ge=!1;if(a){var Le=Qn(a),Be=a[hn]||Le[hn];a&&(!Be||Be===ee.core())&&!Le[ca]&&a[Jn]&&a[Jn](ee,Z)===!0&&(ge=!0)}return ge}U(ee,he,"update",function(){},!1)||ee[Mn](Z)}return qi(x)}var nm=function(){function a(c,p,g,E){var C=this,R=fl(c,p,g,E);Hc(C,R,qn(R))}return a}();function uv(){var a=[];function c(g){g&&a[Or](g)}function p(g,E){dt(a,function(C){try{C(g,E)}catch(R){Yr(g[ec](),2,73,"Unexpected error calling unload handler - "+Ht(R))}}),a=[]}return{add:c,run:p}}var cv,Ed;function uh(a,c){cv=a,Ed=c}function qm(){var a=[];function c(g){var E=a;a=[],dt(E,function(C){try{(C.rm||C.remove).call(C)}catch(R){Yr(g,2,73,"Unloading:"+Ht(R))}}),cv&&E[pt]>cv&&(Ed?Ed("doUnload",E):Yr(null,1,48,"Max unload hooks exceeded. An excessive number of unload hooks has been detected."))}function p(g){g&&(Ei(a,g),cv&&a[pt]>cv&&(Ed?Ed("Add",a):Yr(null,1,48,"Max unload hooks exceeded. An excessive number of unload hooks has been detected.")))}return{run:c,add:p}}var _p,pl="getPlugin",P_=(_p={},_p[lc]={isVal:sp,v:{}},_p),ch=function(){function a(){var c=this,p,g,E,C,R;U(),Di(a,c,function(z){z[Pn]=function(G,K,ee,Z){M(G,K,Z),p=!0},z[ca]=function(G,K){var ee,Z=z[hn];if(!Z||G&&Z!==G[hn]())return;var he,ge=!1,Le=G||mf(null,Z,E&&E[pl]?E[pl]():E),Be=K||(ee={reason:0},ee[Ai]=!1,ee);function Ze(){ge||(ge=!0,C.run(Le,K),R.run(Le[ec]()),he===!0&&Le[Mn](Be),U())}return!z[cn]||z[cn](Le,Be,Ze)!==!0?Ze():he=!0,he},z[Jn]=function(G,K){var ee=z[hn];if(!ee||G&&ee!==G[hn]())return;var Z,he=!1,ge=G||Ks(null,ee,E&&E[pl]?E[pl]():E),Le=K||{reason:0};function Be(){he||(he=!0,M(ge.getCfg(),ge.core(),ge[Ri]()))}return!z._doUpdate||z._doUpdate(ge,Le,Be)!==!0?Be():Z=!0,Z},ki(z,"_addUnloadCb",function(){return C},"add"),ki(z,"_addHook",function(){return R},"add"),Kn(z,"_unloadHooks",{g:function(){return R}})}),c[ec]=function(z){return x(z)[ec]()},c[Pa]=function(){return p},c.setInitialized=function(z){p=z},c[tc]=function(z){E=z},c[Mn]=function(z,G){G?G[Mn](z):E&&It(E[Qi])&&E[Qi](z,null)},c._getTelCtx=x;function x(z){z===void 0&&(z=null);var G=z;if(!G){var K=g||fl(null,{},c[hn]);E&&E[pl]?G=K[hu](null,E[pl]):G=K[hu](null,E)}return G}function M(z,G,K){ha(z,P_,lf(G)),!K&&G&&(K=G[Zf]()[Ri]());var ee=E;E&&E[pl]&&(ee=E[pl]()),c[hn]=G,g=fl(K,z,G,ee)}function U(){p=!1,c[hn]=null,g=null,E=null,R=qm(),C=uv()}}return a.__ieDyn=1,a}();function Vh(a,c,p){var g={id:c,fn:p};Ei(a,g);var E={remove:function(){dt(a,function(C,R){if(C.id===g.id)return a[Io](R,1),-1})}};return E}function Bm(a,c,p){for(var g=!1,E=a[pt],C=0;C<E;++C){var R=a[C];if(R)try{if(R.fn[wo](null,[c])===!1){g=!0;break}}catch(x){Yr(p,2,64,"Telemetry initializer failed: "+os(x),{exception:Ht(x)},!0)}}return!g}var A_=function(a){Gu(c,a);function c(){var p=a.call(this)||this;p.identifier="TelemetryInitializerPlugin",p.priority=199;var g,E;C(),Di(c,p,function(R,x){R.addTelemetryInitializer=function(M){return Vh(E,g++,M)},R[Qi]=function(M,U){Bm(E,M,U?U[ec]():R[ec]())&&R[Mn](M,U)},R[cn]=function(){C()}});function C(){g=0,E=[]}return p}return c.__ieDyn=1,c}(ch),hf,lv="Plugins must provide initialize method",am="_notificationManager",_f="SDK is still unloading...",fv="SDK is not initialized",lh=100,Hh=5e4,Td=yi((hf={cookieCfg:{}},hf[Fs]={rdOnly:!0,ref:!0,v:[]},hf[Ls]={rdOnly:!0,ref:!0,v:[]},hf[lc]={ref:!0,v:{}},hf[as]=Zn,hf.loggingLevelConsole=0,hf.diagnosticLogInterval=Zn,hf));function Kh(a,c){return new En(c)}function R_(a,c,p){var g,E=[],C=[],R={};return dt(p,function(x){(at(x)||at(x[Pn]))&&Sn(lv);var M=x[Ul],U=x[Zi];x&&M&&(at(R[M])?R[M]=U:Vs(a,"Two extensions have same priority #"+M+" - "+R[M]+", "+U)),!M||M<c?E[Or](x):C[Or](x)}),g={},g[hn]=E,g[Ls]=C,g}function fh(a,c){var p=!1;return dt(c,function(g){if(g===a)return p=!0,-1}),p}function im(a,c,p,g){p&&jr(p,function(E,C){g&&oi(C)&&oi(c[E])&&im(a,c[E],C,g),g&&oi(C)&&oi(c[E])?im(a,c[E],C,g):a.set(c,E,C)})}function dh(a,c){var p=null,g=-1;return dt(a,function(E,C){if(E.w===c)return p=E,g=C,-1}),{i:g,l:p}}function zm(a,c){var p=dh(a,c).l;return p||(p={w:c,rm:function(){var g=dh(a,c);g.i!==-1&&a[Io](g.i,1)}},a[Or](p)),p}function dv(a,c,p){dt(c,function(g){var E=ol(a,g.w,p);delete g.w,g.rm=function(){E.rm()}})}function wd(a,c,p,g){return c.add(a[xi](function(E){var C=E.cfg.disableDbgExt;C===!0&&g&&(p[Xo](g),g=null),p&&!g&&C!==!0&&(g=St(E.cfg),p[ya](g))})),g}function ph(a){return Kn({rm:function(){a.rm()}},"toJSON",{v:function(){return"aicore::onCfgChange<"+JSON.stringify(a)+">"}})}var om=function(){function a(){var c,p,g,E,C,R,x,M,U,z,G,K,ee,Z,he,ge,Le,Be,Ze,nr,sr,Fn,fn,Un,Ui,_i,Nf,cm,Df,Je,Ft,In;Di(a,this,function(Ae){Pr(),Ae._getDbgPlgTargets=function(){return[fn,E]},Ae[Pa]=function(){return p},Ae.activeStatus=function(){return _i},Ae._setPendingStatus=function(){_i=3},Ae[Pn]=function(be,mt,Kt,kt){ee&&Sn(_f),Ae[Pa]()&&Sn("Core cannot be initialized more than once"),c=ha(be,Td,Kt||Ae[Lr],!1),be=c.cfg,oo(c[xi](function(mn){var wa=mn.cfg,so=_i===3;if(!so){cm=wa.initInMemoMaxSize||lh;var jo=wa[Lc],Pf=wa.endpointUrl;if(at(jo)){sr=null,_i=un[Zu];var bv="Please provide instrumentation key";p?(Yr(g,1,100,bv),na()):Sn(bv);return}var hh=[];if(qr(jo)?(hh[Or](jo),sr=null):sr=jo,qr(Pf)?(hh[Or](Pf),Nf=null):Nf=Pf,hh[pt]){Df=!1,_i=3;var mg=sp(wa.initTimeOut)?wa.initTimeOut:Hh,Sy=Bc(hh);zu(function(){Df||Dt()},mg),Fl(Sy,function(jn){try{if(Df)return;if(!jn.rejected){var La=jn[Jf];if(La&&La[pt]){var k_=La[0];if(sr=k_&&k_[Jf],La[pt]>1){var Fa=La[1];Nf=Fa&&Fa[Jf]}}sr&&(be[Lc]=sr,be.endpointUrl=Nf)}Dt()}catch{Df||Dt()}})}else Dt();var Qh=mn.ref(mn.cfg,lc);jr(Qh,function(jn){mn.ref(Qh,jn)})}})),C=kt,Ze=wd(c,Be,C&&Ae[Ps](),Ze),xf(),Ae[Lr]=Kt;var Wt=be[Fs];if(z=[],z[Or].apply(z,Hi(Hi([],mt,!1),Wt)),G=be[Ls],Xa(null),(!K||K[pt]===0)&&Sn("No "+Ls+" available"),G&&G[pt]>1){var An=Ae[Do]("TeeChannelController");(!An||!An.plugin)&&Yr(g,1,28,"TeeChannel required")}dv(be,Fn,g),Fn=null,p=!0,_i===un.ACTIVE&&na()},Ae.getChannels=function(){var be=[];return K&&dt(K,function(mt){be[Or](mt)}),qi(be)},Ae.track=function(be){Hs(Ae[Gc](),function(){return"AppInsightsCore:track"},function(){be===null&&(Ta(be),Sn("Invalid telemetry item")),!be[Co]&&at(be[Co])&&(Ta(be),Sn("telemetry name required")),be[Xu]=be[Xu]||sr,be[xo]=be[xo]||is(new Date),be.ver=be.ver||"4.0",!ee&&Ae[Pa]()&&_i===un.ACTIVE?gi()[Mn](be):_i!==un[Zu]&&E[pt]<=cm&&E[Or](be)},function(){return{item:be}},!be.sync)},Ae[Zf]=gi,Ae[Ps]=function(){return C||(C=new lt(c.cfg),Ae[am]=C),C},Ae[ya]=function(be){Ae.getNotifyMgr()[ya](be)},Ae[Xo]=function(be){C&&C[Xo](be)},Ae.getCookieMgr=function(){return M||(M=I(c.cfg,Ae[Lr])),M},Ae.setCookieMgr=function(be){M!==be&&(af(M,!1),M=be)},Ae[Gc]=function(){return R||x||cl()},Ae.setPerfMgr=function(be){R=be},Ae.eventCnt=function(){return E[pt]},Ae.releaseQueue=function(){if(p&&E[pt]>0){var be=E;E=[],_i===2?dt(be,function(mt){mt[Xu]=mt[Xu]||sr,gi()[Mn](mt)}):Yr(g,2,20,"core init status is not active")}},Ae[Qu]=function(be){return he=be||null,In=!1,Je&&Je[No](),ao(!0)};function Dt(){Df=!0,at(sr)?(_i=un[Zu],Yr(g,1,112,"ikey can't be resolved from promises")):_i=un.ACTIVE,na()}function na(){p&&(Ae.releaseQueue(),Ae[Qu]())}function ao(be){if((!Je||!Je[As])&&!In){var mt=be||g&&g.queue[pt]>0;mt&&(Ft||(Ft=!0,oo(c[xi](function(Kt){var kt=Kt.cfg.diagnosticLogInterval;(!kt||!(kt>0))&&(kt=1e4);var Wt=!1;Je&&(Wt=Je[As],Je[No]()),Je=Gf(yv,kt),Je.unref(),Je[As]=Wt}))),Je[As]=!0)}return Je}Ae[ui]=function(){In=!0,Je&&Je[No](),yv()},Hc(Ae,function(){return Z},["addTelemetryInitializer"]),Ae[Qo]=function(be,mt,Kt){var kt;be===void 0&&(be=!0),p||Sn(fv),ee&&Sn(_f);var Wt=(kt={reason:50},kt[Ai]=be,kt.flushComplete=!1,kt),An;be&&!mt&&(An=Za(function(so){mt=so}));var mn=mf(Cf(),Ae);mn[Rs](function(){Be.run(Ae[Lr]),Rm([M,C,g],be,function(){Pr(),mt&&mt(Wt)})},Ae);function wa(so){Wt.flushComplete=so,ee=!0,Le.run(mn,Wt),Ae[ui](),mn[Mn](Wt)}return yv(),Cd(be,wa,6,Kt),An},Ae[Do]=io,Ae.addPlugin=function(be,mt,Kt,kt){if(!be){kt&&kt(!1),Vm(lv);return}var Wt=io(be[Zi]);if(Wt&&!mt){kt&&kt(!1),Vm("Plugin ["+be[Zi]+"] is already loaded!");return}var An={reason:16};function mn(jo){z[Or](be),An.added=[be],Xa(An),kt&&kt(!0)}if(Wt){var wa=[Wt.plugin],so={reason:2,isAsync:!!Kt};ku(wa,so,function(jo){jo?(An.removed=wa,An.reason|=32,mn()):kt&&kt(!1)})}else mn()},Ae.updateCfg=function(be,mt){mt===void 0&&(mt=!0);var Kt;if(Ae[Pa]()){Kt={reason:1,cfg:c.cfg,oldCfg:Vd({},c.cfg),newConfig:Vd({},be),merge:mt},be=Kt.newConfig;var kt=c.cfg;be[Fs]=kt[Fs],be[Ls]=kt[Ls]}c._block(function(Wt){var An=Wt.cfg;im(Wt,An,be,mt),mt||jr(An,function(mn){Yi(be,mn)||Wt.set(An,mn,Zn)}),Wt[mu](An,Td)},!0),c[To](),Kt&&Sv(Kt)},Ae.evtNamespace=function(){return ge},Ae.flush=Cd,Ae.getTraceCtx=function(be){return nr||(nr=Lm()),nr},Ae.setTraceCtx=function(be){nr=be||null},Ae.addUnloadHook=oo,ki(Ae,"addUnloadCb",function(){return Le},"add"),Ae.onCfgChange=function(be){var mt;return p?mt=ol(c.cfg,be,Ae[Lr]):mt=zm(Fn,be),ph(mt)},Ae.getWParam=function(){return Sl()||c.cfg.enableWParam?0:-1};function Uo(){var be={};Un=[];var mt=function(Kt){Kt&&dt(Kt,function(kt){if(kt[Zi]&&kt[Pi]&&!be[kt.identifier]){var Wt=kt[Zi]+"="+kt[Pi];Un[Or](Wt),be[kt.identifier]=kt}})};mt(K),G&&dt(G,function(Kt){mt(Kt)}),mt(z)}function Pr(){p=!1,c=ha({},Td,Ae[Lr]),c.cfg[Fc]=1,Kn(Ae,"config",{g:function(){return c.cfg},s:function(mt){Ae.updateCfg(mt,!1)}}),Kn(Ae,"pluginVersionStringArr",{g:function(){return Un||Uo(),Un}}),Kn(Ae,"pluginVersionString",{g:function(){return Ui||(Un||Uo(),Ui=Un.join(";")),Ui||vr}}),Kn(Ae,"logger",{g:function(){return g||(g=new pc(c.cfg),c[Lr]=g),g},s:function(mt){c[Lr]=mt,g!==mt&&(af(g,!1),g=mt)}}),Ae[Lr]=new pc(c.cfg),fn=[];var be=Ae.config[Fs]||[];be.splice(0,be[pt]),Ei(be,fn),Z=new A_,E=[],af(C,!1),C=null,R=null,x=null,af(M,!1),M=null,U=null,z=[],G=null,K=null,ee=!1,he=null,ge=fs("AIBaseCore",!0),Le=uv(),nr=null,sr=null,Be=qm(),Fn=[],Ui=null,Un=null,In=!1,Je=null,Ft=!1,_i=0,Nf=null,cm=null,Df=!1}function gi(){var be=fl(Cf(),c.cfg,Ae);return be[Rs](ao),be}function Xa(be){var mt=R_(Ae[Lr],Qv,z);U=null,Ui=null,Un=null,K=(G||[])[0]||[],K=rm(Ei(K,mt[Ls]));var Kt=Ei(rm(mt[hn]),K);fn=qi(Kt);var kt=Ae.config[Fs]||[];kt.splice(0,kt[pt]),Ei(kt,fn);var Wt=gi();K&&K[pt]>0&&hs(Wt[hu](K),Kt),hs(Wt,Kt),be&&Sv(be)}function io(be){var mt=null,Kt=null,kt=[];return dt(fn,function(Wt){if(Wt[Zi]===be&&Wt!==Z)return Kt=Wt,-1;Wt.getChannel&&kt[Or](Wt)}),!Kt&&kt[pt]>0&&dt(kt,function(Wt){if(Kt=Wt.getChannel(be),!Kt)return-1}),Kt&&(mt={plugin:Kt,setEnabled:function(Wt){Qn(Kt)[cc]=!Wt},isEnabled:function(){var Wt=Qn(Kt);return!Wt[ca]&&!Wt[cc]},remove:function(Wt,An){var mn;Wt===void 0&&(Wt=!0);var wa=[Kt],so=(mn={reason:1},mn[Ai]=Wt,mn);ku(wa,so,function(jo){jo&&Xa({reason:32,removed:wa}),An&&An(jo)})}}),mt}function Cf(){if(!U){var be=(fn||[]).slice();ua(be,Z)===-1&&be[Or](Z),U=dl(rm(be),c.cfg,Ae)}return U}function ku(be,mt,Kt){if(be&&be[pt]>0){var kt=dl(be,c.cfg,Ae),Wt=mf(kt,Ae);Wt[Rs](function(){var An=!1,mn=[];dt(z,function(so,jo){fh(so,be)?An=!0:mn[Or](so)}),z=mn,Ui=null,Un=null;var wa=[];G&&(dt(G,function(so,jo){var Pf=[];dt(so,function(bv){fh(bv,be)?An=!0:Pf[Or](bv)}),wa[Or](Pf)}),G=wa),Kt&&Kt(An),ao()}),Wt[Mn](mt)}else Kt(!1)}function yv(){if(g&&g.queue){var be=g.queue.slice(0);g.queue[pt]=0,dt(be,function(mt){var Kt,kt=(Kt={},Kt[Co]=he||"InternalMessageId: "+mt[_u],Kt[Xu]=sr,Kt[xo]=is(new Date),Kt.baseType=mp.dataType,Kt.baseData={message:mt[ks]},Kt);Ae.track(kt)})}}function Cd(be,mt,Kt,kt){var Wt=1,An=!1,mn=null;kt=kt||5e3;function wa(){Wt--,An&&Wt===0&&(mn&&mn[No](),mn=null,mt&&mt(An),mt=null)}if(K&&K[pt]>0){var so=gi()[hu](K);so.iterate(function(jo){if(jo.flush){Wt++;var Pf=!1;jo.flush(be,function(){Pf=!0,wa()},Kt)||Pf||(be&&mn==null?mn=zu(function(){mn=null,wa()},kt):wa())}})}return An=!0,wa(),!0}function xf(){var be;oo(c[xi](function(mt){var Kt=mt.cfg.enablePerfMgr;if(Kt){var kt=mt.cfg[as];(be!==kt||!be)&&(kt||(kt=Kh),$l(mt.cfg,as,kt),be=kt,x=null),!R&&!x&&It(kt)&&(x=kt(Ae,Ae[Ps]()))}else x=null,be=null}))}function Sv(be){var mt=Ks(Cf(),Ae);mt[Rs](ao),(!Ae._updateHook||Ae._updateHook(mt,be)!==!0)&&mt[Mn](be)}function Vm(be){var mt=Ae[Lr];mt?(Yr(mt,2,73,be),ao()):Sn(be)}function Ta(be){var mt=Ae[Ps]();mt&&mt[jl]([be],2)}function oo(be){Be.add(be)}})}return a.__ieDyn=1,a}();function Gr(a,c){try{if(a&&a!==""){var p=ma().parse(a);if(p&&p[Fv]&&p[Fv]>=p.itemsAccepted&&p.itemsReceived-p.itemsAccepted===p.errors[pt])return p}}catch(g){Yr(c,1,43,"Cannot parse the response. "+(g[Co]||Ht(g)),{response:a})}return null}var Ws="",Id="NoResponseBody",gp="&"+Id+"=true",pv="POST",sm=function(){function a(){var c=0,p,g,E,C,R,x,M,U,z,G,K,ee,Z,he;Di(a,this,function(ge,Le){var Be=!0;Df(),ge[Pn]=function(Je,Ft){E=Ft,g&&Yr(E,1,28,"Sender is already initialized"),ge.SetConfig(Je),g=!0},ge._getDbgPlgTargets=function(){return[g,C,x,p]},ge.SetConfig=function(Je){try{if(R=Je.senderOnCompleteCallBack||{},x=!!Je.disableCredentials,M=Je.fetchCredentials,C=!!Je.isOneDs,p=!!Je.enableSendPromise,z=!!Je.disableXhr,G=!!Je.disableBeacon,K=!!Je.disableBeaconSync,he=Je.timeWrapper,Z=!!Je.addNoResponse,ee=!!Je.disableFetchKeepAlive,U={sendPOST:_i},C||(Be=!1),x){var Ft=Su();Ft&&Ft.protocol&&Ft.protocol[Ka]()==="file:"&&(Be=!1)}return!0}catch{}return!1},ge.getSyncFetchPayload=function(){return c},ge.getSenderInst=function(Je,Ft){return Je&&Je[pt]?Fn(Je,Ft):null},ge.getFallbackInst=function(){return U},ge[cn]=function(Je,Ft){Df()};function Ze(Je,Ft){fn(Ft,200,{},Je)}function nr(Je,Ft){Yr(E,2,26,"Failed to send telemetry.",{message:Je}),fn(Ft,400,{})}function sr(Je){nr("No endpoint url is provided for the batch",Je)}function Fn(Je,Ft){for(var In,Ae=0,Dt=null,na=0;Dt==null&&na<Je[pt];)Ae=Je[na],!z&&Ae===1?Zp()?Dt=cm:Jl()&&(Dt=_i):Ae===2&&Wl(Ft)&&(!Ft||!ee)?Dt=Nf:Ae===3&&Bv()&&(Ft?!K:!G)&&(Dt=Ui),na++;return Dt?(In={_transport:Ae,_isSync:Ft},In[nc]=Dt,In):null}function fn(Je,Ft,In,Ae){try{Je&&Je(Ft,In,Ae)}catch{}}function Un(Je,Ft){var In=ni(),Ae=Je[rc];if(!Ae)return sr(Ft),!0;Ae=Je[rc]+(Z?gp:Ws);var Dt=Je[Ol],na=C?Dt:new Blob([Dt],{type:"text/plain;charset=UTF-8"}),ao=In.sendBeacon(Ae,na);return ao}function Ui(Je,Ft,In){var Ae=Je[Ol];try{if(Ae)if(Un(Je,Ft))Ze(Ws,Ft);else{var Dt=R&&R.beaconOnRetry;Dt&&It(Dt)?Dt(Je,Ft,Un):(U&&U[nc](Je,Ft,!0),Yr(E,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(na){C&&Vs(E,"Failed to send telemetry using sendBeacon API. Ex:"+Ht(na)),fn(Ft,C?0:400,{},Ws)}}function _i(Je,Ft,In){var Ae,Dt,na,ao=Je[ns]||{};!In&&p&&(Ae=Za(function(Xa,io){Dt=Xa,na=io})),C&&In&&Je.disableXhrSync&&(In=!1);var Uo=Je[rc];if(!Uo){sr(Ft),Dt&&Dt(!1);return}var Pr=Cm(pv,Uo,Be,!0,In,Je[Ml]);C||Pr[Nm]("Content-type","application/json"),dt(qn(ao),function(Xa){Pr[Nm](Xa,ao[Xa])}),Pr.onreadystatechange=function(){C||(gi(Pr),Pr.readyState===4&&Dt&&Dt(!0))},Pr.onload=function(){C&&gi(Pr)};function gi(Xa){var io=R&&R.xhrOnComplete,Cf=io&&It(io);if(Cf)io(Xa,Ft,Je);else{var ku=js(Xa);fn(Ft,Xa[rs],yu(Xa,C),ku)}}return Pr.onerror=function(Xa){fn(Ft,C?Pr[rs]:400,yu(Pr,C),C?Ws:Kc(Pr)),na&&na(Xa)},Pr.ontimeout=function(){fn(Ft,C?Pr[rs]:500,yu(Pr,C),C?Ws:Kc(Pr)),Dt&&Dt(!1)},Pr.send(Je[Ol]),Ae}function Nf(Je,Ft,In){var Ae,Dt=Je[rc],na=Je[Ol],ao=C?na:new Blob([na],{type:"application/json"}),Uo,Pr,gi,Xa=new Headers,io=na[pt],Cf=!1,ku=!1,yv=Je[ns]||{},Cd=(Ae={method:pv,body:ao},Ae[of]=!0,Ae);Je.headers&&qn(Je.headers)[pt]>0&&(dt(qn(yv),function(Ta){Xa.append(Ta,yv[Ta])}),Cd[ns]=Xa),M?Cd.credentials=M:Be&&C&&(Cd.credentials="include"),In&&(Cd.keepalive=!0,c+=io,C?Je._sendReason===2&&(Cf=!0,Z&&(Dt+=gp)):Cf=!0);var xf=new Request(Dt,Cd);try{xf[of]=!0}catch{}if(!In&&p&&(Uo=Za(function(Ta,oo){Pr=Ta,gi=oo})),!Dt){sr(Ft),Pr&&Pr(!1);return}function Sv(Ta){fn(Ft,C?0:400,{},C?Ws:Ta)}function Vm(Ta,oo,be){var mt=Ta[rs],Kt=R.fetchOnComplete;Kt&&It(Kt)?Kt(Ta,Ft,be||Ws,oo):fn(Ft,mt,{},be||Ws)}try{Fl(fetch(C?Dt:xf,C?Cd:null),function(Ta){if(In&&(c-=io,io=0),!ku)if(ku=!0,Ta.rejected)Sv(Ta.reason&&Ta.reason[ks]),gi&&gi(Ta.reason);else{var oo=Ta[Jf];try{!C&&!oo.ok?(Sv(oo.statusText),Pr&&Pr(!1)):C&&!oo.body?(Vm(oo,null,Ws),Pr&&Pr(!0)):Fl(oo.text(),function(be){Vm(oo,Je,be[Jf]),Pr&&Pr(!0)})}catch(be){Sv(Ht(be)),gi&&gi(be)}}})}catch(Ta){ku||(Sv(Ht(Ta)),gi&&gi(Ta))}return Cf&&!ku&&(ku=!0,fn(Ft,200,{}),Pr&&Pr(!0)),C&&!ku&&Je[Ml]>0&&he&&he.set(function(){ku||(ku=!0,fn(Ft,500,{}),Pr&&Pr(!0))},Je[Ml]),Uo}function cm(Je,Ft,In){var Ae=ri(),Dt=new XDomainRequest,na=Je[Ol];Dt.onload=function(){var Xa=js(Dt),io=R&&R.xdrOnComplete;io&&It(io)?io(Dt,Ft,Je):fn(Ft,200,{},Xa)},Dt.onerror=function(){fn(Ft,400,{},C?Ws:ql(Dt))},Dt.ontimeout=function(){fn(Ft,500,{})},Dt.onprogress=function(){};var ao=Ae&&Ae.location&&Ae.location[es]||"",Uo=Je[rc];if(!Uo){sr(Ft);return}if(!C&&Uo.lastIndexOf(ao,0)!==0){var Pr="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";Yr(E,2,40,". "+Pr),nr(Pr,Ft);return}var gi=C?Uo:Uo[Sa](/^(https?:)/,"");Dt.open(pv,gi),Je[Ml]&&(Dt[Ml]=Je[Ml]),Dt.send(na),C&&In?he&&he.set(function(){Dt.send(na)},0):Dt.send(na)}function Df(){c=0,g=!1,p=!1,E=null,C=null,R=null,x=null,M=null,U=null,z=!1,G=!1,K=!1,ee=!1,Z=!1,he=null}})}return a.__ieDyn=1,a}(),gf="on",Nd="attachEvent",Wh="addEventListener",yp="detachEvent",vl="removeEventListener",hc="events",Lo="visibilitychange",Js="pagehide",ml="pageshow",yf="unload",Pu="beforeunload",Au=fs("aiEvtPageHide"),Sp=fs("aiEvtPageShow"),Dd=/\.[\.]+/g,Jh=/[\.]+$/,vv=1,_c=zs("events"),Gm=/^([^.]*)(?:\.(.+)|)/;function mv(a){return a&&a[Sa]?a[Sa](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,vr):a}function Sf(a,c){var p;if(c){var g=vr;Yt(c)?(g=vr,dt(c,function(C){C=mv(C),C&&(C[0]!=="."&&(C="."+C),g+=C)})):g=mv(c),g&&(g[0]!=="."&&(g="."+g),a=(a||vr)+g)}var E=Gm.exec(a||vr)||[];return p={},p[Wa]=E[1],p.ns=(E[2]||vr).replace(Dd,".").replace(Jh,vr)[ci](".").sort().join("."),p}function hv(a,c,p){var g=[],E=_c.get(a,hc,{},!1),C=Sf(c,p);return jr(E,function(R,x){dt(x,function(M){var U;(!C[Wa]||C[Wa]===M.evtName[Wa])&&(!C.ns||C.ns===C.ns)&&g[Or]((U={},U[Co]=M.evtName[Wa]+(M.evtName.ns?"."+M.evtName.ns:vr),U.handler=M[ts],U))})}),g}function _v(a,c,p){p===void 0&&(p=!0);var g=_c.get(a,hc,{},p),E=g[c];return E||(E=g[c]=[]),E}function vh(a,c,p,g){a&&c&&c[Wa]&&(a[vl]?a[vl](c[Wa],p,g):a[yp]&&a[yp](gf+c[Wa],p))}function mh(a,c,p,g){var E=!1;return a&&c&&c[Wa]&&p&&(a[Wh]?(a[Wh](c[Wa],p,g),E=!0):a[Nd]&&(a[Nd](gf+c[Wa],p),E=!0)),E}function Zh(a,c,p,g){for(var E=c[pt];E--;){var C=c[E];C&&(!p.ns||p.ns===C.evtName.ns)&&(!g||g(C))&&(vh(a,C.evtName,C[ts],C.capture),c[Io](E,1))}}function vi(a,c,p){if(c[Wa])Zh(a,_v(a,c[Wa]),c,p);else{var g=_c.get(a,hc,{});jr(g,function(E,C){Zh(a,C,c,p)}),qn(g)[pt]===0&&_c.kill(a,hc)}}function Zs(a,c){var p;return c?(Yt(c)?p=[a].concat(c):p=[a,c],p=Sf("xx",p).ns[ci](".")):p=a,p}function bp(a,c,p,g,E){var C;E===void 0&&(E=!1);var R=!1;if(a)try{var x=Sf(c,g);if(R=mh(a,x,p,E),R&&_c.accept(a)){var M=(C={guid:vv++,evtName:x},C[ts]=p,C.capture=E,C);_v(a,x.type)[Or](M)}}catch{}return R}function Gn(a,c,p,g,E){if(E===void 0&&(E=!1),a)try{var C=Sf(c,g),R=!1;vi(a,C,function(x){return C.ns&&!p||x[ts]===p?(R=!0,!0):!1}),R||vh(a,C,p,E)}catch{}}function Ep(a,c,p,g){return g===void 0&&(g=!1),bp(a,c,p,null,g)}function Tp(a,c,p,g){g===void 0&&(g=!1),Gn(a,c,p,null,g)}function Xh(a,c,p){var g=!1,E=ri();E&&(g=bp(E,a,c,p),g=bp(E.body,a,c,p)||g);var C=za();return C&&(g=bp(C,a,c,p)||g),g}function d(a,c,p){var g=ri();g&&(Gn(g,a,c,p),Gn(g.body,a,c,p));var E=za();E&&Gn(E,a,c,p)}function _(a,c,p,g){var E=!1;return c&&a&&a[pt]>0&&dt(a,function(C){C&&(!p||ua(p,C)===-1)&&(E=Xh(C,c,g)||E)}),E}function T(a,c,p,g){var E=!1;return c&&a&&Yt(a)&&(E=_(a,c,p,g),!E&&p&&p[pt]>0&&(E=_(a,c,null,g))),E}function D(a,c,p){a&&Yt(a)&&dt(a,function(g){g&&d(g,c,p)})}function k(a,c,p){return T([Pu,yf,Js],a,c,p)}function $(a,c){D([Pu,yf,Js],a,c)}function q(a,c,p){function g(R){var x=za();a&&x&&x.visibilityState==="hidden"&&a(R)}var E=Zs(Au,p),C=_([Js],a,c,E);return(!c||ua(c,Lo)===-1)&&(C=_([Lo],g,c,E)||C),!C&&c&&(C=q(a,null,p)),C}function W(a,c){var p=Zs(Au,c);D([Js],a,p),D([Lo],null,p)}function ae(a,c,p){function g(R){var x=za();a&&x&&x.visibilityState==="visible"&&a(R)}var E=Zs(Sp,p),C=_([ml],a,c,E);return C=_([Lo],g,c,E)||C,!C&&c&&(C=ae(a,null,p)),C}function ie(a,c){var p=Zs(Sp,c);D([ml],a,p),D([Lo],null,p)}var De=Ci({DISABLED:0,CRITICAL:1,WARNING:2,DEBUG:3}),$e="",je="https://browser.events.data.microsoft.com/OneCollector/1.0/",Ie="version",ve="properties",Fe="initialize",Ee="logger",He="indexOf",Ce="timings",Te="pollInternalLogs",qe="value",qt="kind",Xt="length",or="processTelemetryStart",Dr="handleField",Mr="rmSanitizer",ln="rmFieldSanitizer",nn="canHandle",Qt,ea="4.3.4",We="1DS-Web-JS-"+ea,ft=h.hasOwnProperty,yr="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",cr="withCredentials",wt="timeout",xr=(Qt={},Qt[0]=0,Qt[2]=6,Qt[1]=1,Qt[3]=7,Qt[4098]=6,Qt[4097]=1,Qt[4099]=7,Qt),Nt=null,Oa=Sl(),ut=Ud();function Tn(a){return!(a===$e||at(a))}function wn(a){if(a){var c=Gi(a,"-");if(c>-1)return kn(a,c)}return $e}function mi(){return Nt===null&&(Nt=!Qe(Uint8Array)&&!Ma()&&!Kl()),Nt}function gc(a){return!!(a&&rr(a)&&a>=1&&a<=4)}function Li(a,c,p){if(!c&&!Tn(c)||typeof a!="string")return null;var g=typeof c;if(g==="string"||g==="number"||g==="boolean"||Yt(c))c={value:c};else if(g==="object"&&!ft.call(c,"value"))c={value:p?JSON.stringify(c):c};else if(at(c[qe])||c[qe]===$e||!Gt(c[qe])&&!rr(c[qe])&&!ei(c[qe])&&!Yt(c[qe]))return null;if(Yt(c[qe])&&!Qs(c[qe]))return null;if(!at(c[qt])){if(Yt(c[qe])||!Zr(c[qt]))return null;c[qe]=c[qe].toString()}return c}function bf(a,c,p){var g=-1;if(!Qe(a))if(c>0&&(c===32?g=8192:c<=13&&(g=c<<5)),ra(p))g===-1&&(g=0),g|=p;else{var E=xr[Fi(a)]||-1;g!==-1&&E!==-1?g|=E:E===6&&(g=E)}return g}function _s(a,c,p){p===void 0&&(p=!0);var g;return a&&(g=a.get(c),p&&g&&decodeURIComponent&&(g=decodeURIComponent(g))),g||$e}function Fo(a){a===void 0&&(a="D");var c=ff();return a==="B"?c="{"+c+"}":a==="P"?c="("+c+")":a==="N"&&(c=c.replace(/-/g,$e)),c}function Xs(a,c,p,g,E){var C={},R=!1,x=0,M=arguments[Xt],U=arguments;for(ei(U[0])&&(R=U[0],x++);x<M;x++){var a=U[x];jr(a,function(G,K){R&&K&&en(K)?Yt(K)?(C[G]=C[G]||[],dt(K,function(ee,Z){ee&&en(ee)?C[G][Z]=Xs(!0,C[G][Z],ee):C[G][Z]=ee})):C[G]=Xs(!0,C[G],K):C[G]=K})}return C}var ta=Dl;function Zr(a){return a===0||a>0&&a<=13||a===32}function ra(a){return a>=0&&a<=9}function Ma(){var a=ni();if(!Qe(a)&&a.userAgent){var c=a.userAgent.toLowerCase();if((c[He]("safari")>=0||c[He]("firefox")>=0)&&c[He]("chrome")<0)return!0}return!1}function Qs(a){return a[Xt]>0}function yc(a,c){var p=a;p[Ce]=p[Ce]||{},p[Ce][or]=p[Ce][or]||{},p[Ce][or][c]=ta()}function Fi(a){var c=0;if(a!=null){var p=typeof a;p==="string"?c=1:p==="number"?c=2:p==="boolean"?c=3:p===r&&(c=4,Yt(a)?(c=4096,a[Xt]>0&&(c|=Fi(a[0]))):ft.call(a,"value")&&(c=8192|Fi(a[qe])))}return c}function Ef(){return!!tn("chrome")}function eu(a,c,p,g,E,C){g===void 0&&(g=!1),E===void 0&&(E=!1);function R(M,U,z){try{M[U]=z}catch{}}var x=new XMLHttpRequest;return g&&R(x,yr,g),p&&R(x,cr,p),x.open(a,c,!E),p&&R(x,cr,p),!E&&C&&R(x,wt,C),x}function um(a){return a>0}var Sc=yi({endpointUrl:je,propertyStorageOverride:{isVal:Tf}});function Tf(a){return a&&(!a.getProperty||!a.setProperty)&&Sn("Invalid property storage override passed."),!0}var _a=function(a){Gu(c,a);function c(){var p=a.call(this)||this;return Di(c,p,function(g,E){g[Fe]=function(C,R,x,M){Hs(g,function(){return"AppInsightsCore.initialize"},function(){try{E[Fe](ha(C,Sc,x||g[Ee],!1).cfg,R,x,M)}catch(G){var U=g[Ee],z=Ht(G);z[He]("channels")!==-1&&(z+=`
 - Channels must be provided through config.channels only!`),Yr(U,1,514,"SDK Initialization Failed - no telemetry will be sent: "+z)}},function(){return{config:C,extensions:R,logger:x,notificationManager:M}})},g.track=function(C){Hs(g,function(){return"AppInsightsCore.track"},function(){var R=C;if(R){R[Ce]=R[Ce]||{},R[Ce].trackStart=ta(),gc(R.latency)||(R.latency=1);var x=R.ext=R.ext||{};x.sdk=x.sdk||{},x.sdk.ver=We;var M=R.baseData=R.baseData||{};M[ve]=M[ve]||{};var U=M[ve];U[Ie]=U[Ie]||g.pluginVersionString||$e}E.track(R)},function(){return{item:C}},!C.sync)},g[Te]=function(C){return E[Te](C||"InternalLog")}}),p}return c.__ieDyn=1,c}(om),wp=Ci({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,Pii_IPv6ScrubLastHextets:14,Pii_DropValue:15,CustomerContent_GenericContent:32}),wf=Ci({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),gv=Ci({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),Ru=Ci({Normal:1,Critical:2}),hi=Ci({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),If=function(){function a(c){var p=this,g={},E=[],C=[];c&&C.push(c);function R(z,G){var K,ee=g[z];if(ee&&(K=ee[G]),!K&&K!==null){if(Gt(z)&&Gt(G))if(C[Xt]>0){for(var Z=0;Z<C[Xt];Z++)if(C[Z][Dr](z,G)){K={canHandle:!0,fieldHandler:C[Z]};break}}else E[Xt]===0&&(K={canHandle:!0});if(!K&&K!==null){K=null;for(var Z=0;Z<E[Xt];Z++)if(E[Z][Dr](z,G)){K={canHandle:!0,handler:E[Z],fieldHandler:null};break}}ee||(ee=g[z]={}),ee[G]=K}return K}p.clearCache=function(){g={}},p.addSanitizer=function(z){z&&($d(E,z)||E.push(z),g={})},p.addFieldSanitizer=function(z){z&&($d(C,z)||C.push(z),g={})},p[Mr]=function(z){if(z){var G=ua(E,z);G!==-1&&(E.splice(G,1),g={}),dt(E,function(K){K&&K[Mr]&&K[Mr](z)})}},p[ln]=function(z){if(z){var G=ua(C,z);G!==-1&&(C.splice(G,1),g={}),dt(E,function(K){K&&K[ln]&&K[ln](z)})}},p.isEmpty=function(){return Ns(E)+Ns(C)===0},p[Dr]=function(z,G){var K=R(z,G);return K?K[nn]:!1},p[qe]=function(z,G,K,ee){var Z=R(z,G);if(Z&&Z[nn]){if(!Z||!Z[nn])return null;if(Z.handler)return Z.handler[qe](z,G,K,ee);if(!Gt(G)||at(K)||K===$e)return null;var he=null,ge=Fi(K);if((ge&8192)===8192){var Le=ge&-8193;if(he=K,!Tn(he[qe])||Le!==1&&Le!==2&&Le!==3&&(Le&4096)!==4096)return null}else ge===1||ge===2||ge===3||(ge&4096)===4096?he=M(z,G,K):ge===4&&(he=M(z,G,ee?JSON.stringify(K):K));if(he)return x(Z,z,G,ge,he,ee)}return null},p.property=function(z,G,K,ee){var Z=R(z,G);if(!Z||!Z[nn]||!Gt(G)||at(K)||!Tn(K[qe]))return null;var he=Fi(K[qe]);return he===0?null:x(Z,z,G,he,K,ee)};function x(z,G,K,ee,Z,he){if(z.handler)return z.handler.property(G,K,Z,he);if(!at(Z[qt])){if((ee&4096)===4096||!Zr(Z[qt]))return null;Z[qe]=Z[qe].toString()}return U(z.fieldHandler,G,K,ee,Z)}function M(z,G,K){return Tn(K)?{value:K}:null}function U(z,G,K,ee,Z){if(Z&&z){var he=z.getSanitizer(G,K,ee,Z[qt],Z.propertyType);if(he)if(ee===4){var ge={},Le=Z[qe];jr(Le,function(Ze,nr){var sr=G+"."+K;if(Tn(nr)){var Fn=M(sr,Ze,nr);Fn=U(z,sr,Ze,Fi(nr),Fn),Fn&&(ge[Ze]=Fn[qe])}}),Z[qe]=ge}else{var Be={path:G,name:K,type:ee,prop:Z,sanitizer:p};Z=he.call(p,Be)}}return Z}}return a.getFieldType=Fi,a}();e.ActiveStatus=un,e.AppInsightsCore=_a,e.BaseTelemetryPlugin=ch,e.DiagnosticLogger=pc,e.EventLatency=wf,e.EventPersistence=Ru,e.EventPropertyType=gv,e.EventsDiscardedReason=vu,e.FullVersionString=We,e.InternalAppInsightsCore=om,e.LoggingSeverity=De,e.MinChannelPriorty=Kf,e.NotificationManager=lt,e.PerfEvent=Rt,e.PerfManager=En,e.ProcessTelemetryContext=nm,e.SenderPostManager=sm,e.TraceLevel=hi,e.Undefined=n,e.ValueKind=wp,e.ValueSanitizer=If,e.Version=ea,e._InternalLogMessage=mp,e.__getRegisteredEvents=hv,e._appendHeader=Ys,e._getAllResponseHeaders=yu,e._logInternalMessage=rv,e._testHookMaxUnloadHooksCb=uh,e._throwInternal=Yr,e._warnToConsole=Vs,e.addEventHandler=Xh,e.addEventListeners=T,e.addPageHideEventListener=q,e.addPageShowEventListener=ae,e.addPageUnloadEventListener=k,e.areCookiesSupported=F,e.arrForEach=dt,e.arrIndexOf=ua,e.arrMap=su,e.arrReduce=Wn,e.attachEvent=Ep,e.blockDynamicConversion=Am,e.convertAllHeadersToMap=us,e.cookieAvailable=F,e.createCookieMgr=I,e.createDynamicConfig=ha,e.createEnumStyle=Ci,e.createGuid=Fo,e.createProcessTelemetryContext=fl,e.createTraceParent=Ea,e.createUniqueNamespace=fs,e.createUnloadHandlerContainer=uv,e.dateNow=uu,e.detachEvent=Tp,e.disallowsSameSiteNone=et,e.doPerf=Hs,e.dumpObj=Ht,e.eventOff=Gn,e.eventOn=bp,e.extend=Xs,e.findW3cTraceParent=bd,e.forceDynamicConversion=Ro,e.formatErrorMessageXdr=ql,e.formatErrorMessageXhr=Kc,e.formatTraceParent=xu,e.generateW3CId=yd,e.getCommonSchemaMetaData=bf,e.getConsole=cd,e.getCookieValue=_s,e.getCrypto=Jp,e.getDocument=za,e.getDynamicConfigHandler=rl,e.getExceptionName=os,e.getFieldValueType=Fi,e.getGlobal=jf,e.getGlobalInst=tn,e.getHistory=Bi,e.getIEVersion=qv,e.getISOString=is,e.getJSON=ma,e.getLocation=Su,e.getMsCrypto=Hl,e.getNavigator=ni,e.getPerformance=Ii,e.getResponseText=js,e.getSetValue=$l,e.getTenantId=wn,e.getTime=ta,e.getWindow=ri,e.hasDocument=Sl,e.hasHistory=bl,e.hasJSON=Aa,e.hasNavigator=Fp,e.hasOwnProperty=xn,e.hasWindow=Ud,e.isArray=Yt,e.isArrayValid=Qs,e.isBeaconsSupported=Bv,e.isBoolean=ei,e.isChromium=Ef,e.isDate=it,e.isDocumentObjectAvailable=Oa,e.isError=bt,e.isFetchSupported=Wl,e.isFunction=It,e.isGreaterThanZero=um,e.isIE=bu,e.isLatency=gc,e.isNotTruthy=mo,e.isNullOrUndefined=at,e.isNumber=rr,e.isObject=en,e.isReactNative=Kl,e.isSampledFlag=tm,e.isString=Gt,e.isTruthy=$a,e.isTypeof=Bt,e.isUint8ArrayAvailable=mi,e.isUndefined=Qe,e.isValidSpanId=ms,e.isValidTraceId=pi,e.isValidTraceParent=ll,e.isValueAssigned=Tn,e.isValueKind=Zr,e.isWindowObjectAvailable=ut,e.isXhrSupported=Jl,e.mergeEvtNamespace=Zs,e.newGuid=ff,e.newId=Ql,e.normalizeJsName=Us,e.objDefineAccessors=au,e.objForEachKey=jr,e.objFreeze=qi,e.objKeys=qn,e.objSeal=ju,e.onConfigChange=ol,e.openXhr=eu,e.optimizeObject=od,e.parseResponse=Gr,e.parseTraceParent=Xn,e.perfNow=Dl,e.prependTransports=Bl,e.proxyAssign=ss,e.proxyFunctionAs=ki,e.proxyFunctions=Hc,e.random32=el,e.randomValue=Vv,e.removeEventHandler=d,e.removeEventListeners=D,e.removePageHideEventListener=W,e.removePageShowEventListener=ie,e.removePageUnloadEventListener=$,e.safeGetCookieMgr=y,e.safeGetLogger=lf,e.sanitizeProperty=Li,e.setEnableEnvMocks=ud,e.setProcessTelemetryTimings=yc,e.setValue=li,e.strContains=Et,e.strEndsWith=Bf,e.strFunction=t,e.strObject=r,e.strPrototype=s,e.strStartsWith=Mv,e.strTrim=Ca,e.strUndefined=n,e.throwError=Sn,e.toISOString=is,e.useXDomainRequest=Zp})});var bS=Ad((xg,SS)=>{(function(e,t){typeof xg=="object"&&typeof SS<"u"?t(xg):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.oneDS=e.oneDS||{}))})(xg,function(e){"use strict";var t="REAL_TIME",r="NEAR_REAL_TIME",n="BEST_EFFORT",s="function",u="object",h="undefined",b="prototype",N=Object,P=N[b];function j(d,_){return d||_}function H(d,_){return d[_]}var Q=void 0,pe=null,ce="",se="function",ue="object",Ne="prototype",Ue="__proto__",rt="undefined",Re="constructor",nt="Symbol",Xe="_polyfill",Ct="length",Pt="name",pr="call",wr="toString",$r=j(Object),po=H($r,Ne),ji=j(String),Vr=H(ji,Ne),yn=j(Math),tt=j(Array),Es=H(tt,Ne),Ve=H(Es,"slice");function Ir(d,_){try{return{v:d.apply(this,_)}}catch(T){return{e:T}}}function pn(d){return function(_){return typeof _===d}}function Vt(d){return typeof d===rt||d===rt}function Bt(d){return!at(d)}function Qe(d){return d===pe||Vt(d)}function Cn(d){return d===pe||!at(d)}function at(d){return!!d||d!==Q}var Nc=pn("string"),zt=pn(se);function vo(d){return!d&&Qe(d)?!1:!!d&&typeof d===ue}var Gt=H(tt,"isArray"),It=pn("number"),en=pn("boolean");function Yt(d){return!!(d&&d.then&&zt(d.then))}var it=H($r,"getOwnPropertyDescriptor");function rr(d,_){return!!d&&po.hasOwnProperty[pr](d,_)}var ei=j(H($r,"hasOwn"),bt);function bt(d,_){return rr(d,_)||!!it(d,_)}function qr(d,_,T){if(d&&vo(d)){for(var D in d)if(ei(d,D)&&_[pr](T||d,D,d[D])===-1)break}}var mo={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function $a(d){var _={};if(_[mo.c]=!0,_[mo.e]=!0,d.l){_.get=function(){return d.l.v};var T=it(d.l,"v");T&&T.set&&(_.set=function(D){d.l.v=D})}return qr(d,function(D,k){_[mo[D]]=Bt(k)?_[mo[D]]:k}),_}var Hr=H($r,"defineProperty");function xn(d,_,T){return Hr(d,_,$a(T))}function Yi(d,_,T,D,k){var $={};return qr(d,function(q,W){Hn($,q,_?W:q,k),Hn($,W,T?W:q,k)}),D?D($):$}function Hn(d,_,T,D){Hr(d,_,{value:T,enumerable:!0,writable:!!D})}var jr=j(ji),Jt="[object Error]";function lr(d,_){var T=ce,D=po[wr][pr](d);D===Jt&&(d={stack:jr(d.stack),message:jr(d.message),name:jr(d.name)});try{T=JSON.stringify(d,pe,_?typeof _=="number"?_:4:Q),T=(T?T.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):pe)||jr(d)}catch(k){T=" - "+lr(k,_)}return D+": "+T}function Br(d){throw new TypeError(d)}var au=H($r,"freeze");function Kn(d){return d}function Lf(d){return d[Ue]||pe}var Fu=H($r,"assign"),Wr=H($r,"keys");function ho(d){return au&&qr(d,function(_,T){(Gt(T)||vo(T))&&ho(T)}),Ht(d)}var Ht=j(au,Kn),Sn=j(H($r,"getPrototypeOf"),Lf);function qa(d){return Yi(d,1,0,Ht)}function $o(d){return Yi(d,0,0,Ht)}var $i=$o({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),Md="__tsUtils$gblCfg",Uu;function qn(){var d;return typeof globalThis!==rt&&(d=globalThis),!d&&typeof self!==rt&&(d=self),!d&&typeof window!==rt&&(d=window),!d&&typeof global!==rt&&(d=global),d}function yi(){if(!Uu){var d=Ir(qn).v||{};Uu=d[Md]=d[Md]||{}}return Uu}var qi=ju;function ju(d,_,T){var D=_?_[d]:pe;return function(k){var $=(k?k[d]:pe)||D;if($||T){var q=arguments;return($||T).apply(k,$?Ve[pr](q,1):q)}Br('"'+jr(d)+'" not defined for '+lr(k))}}var Ts=H(yn,"max"),oa=qi("slice",Vr),Nr=qi("substring",Vr),bn=ju("substr",Vr,Si);function Si(d,_,T){return Qe(d)&&Br("Invalid "+lr(d)),T<0?ce:(_=_||0,_<0&&(_=Ts(_+d[Ct],0)),Vt(T)?oa(d,_):oa(d,_,_+T))}function Bn(d,_){return Nr(d,0,_)}var _o="_urid",ws;function Jr(){if(!ws){var d=yi();ws=d.gblSym=d.gblSym||{k:{},s:{}}}return ws}var Da;function Ld(d){var _={description:jr(d),toString:function(){return nt+"("+d+")"}};return _[Xe]=!0,_}function Ff(d){var _=Jr();if(!ei(_.k,d)){var T=Ld(d),D=Wr(_.s).length;T[_o]=function(){return D+"_"+T[wr]()},_.k[d]=T,_.s[T[_o]()]=jr(d)}return _.k[d]}function Fd(d){!Da&&(Da={});var _,T=$i[d];return T&&(_=Da[T]=Da[T]||Ld(nt+"."+T)),_}var on;function go(){on=yi()}function qo(d){return Hr({toJSON:function(){return d}},"v",{value:d})}var kn="window",Bo;function iu(d,_){var T;return function(){return!on&&go(),(!T||on.lzy)&&(T=qo(Ir(d,_).v)),T.v}}function Ba(d){return!on&&go(),(!Bo||d===!1||on.lzy)&&(Bo=qo(Ir(qn).v||pe)),Bo.v}function sn(d,_){var T;if(!Bo||_===!1?T=Ba(_):T=Bo.v,T&&T[d])return T[d];if(d===kn)try{return window}catch{}return pe}var On=iu(sn,["document"]);function Yu(){return!!ti()}var ti=iu(sn,[kn]);function Tr(){return!!sa()}var sa=iu(sn,["navigator"]),Uf=iu(function(){return!!Ir(function(){return process&&(process.versions||{}).node}).v}),ga,zo;function Dc(){return ga=qo(Ir(sn,[nt]).v),ga}function Go(d){var _=(on.lzy?0:ga)||Dc();return _.v?_.v[d]:Q}function jf(){return!!tn()}function tn(){return!on&&go(),((on.lzy?0:ga)||Dc()).v}function Sl(d,_){var T=$i[d];!on&&go();var D=(on.lzy?0:ga)||Dc();return D.v?D.v[T||d]:_?Q:Fd(d)}function za(d,_){!on&&go();var T=(on.lzy?0:ga)||Dc();return T.v?T.v(d):_?pe:Ld(d)}function Ud(d){return!on&&go(),zo=(on.lzy?0:zo)||qo(Ir(Go,["for"]).v),(zo.v||Ff)(d)}function ri(d){return!!d&&zt(d.next)}function Fp(d){return!Cn(d)&&zt(d[Sl(3)])}var ni;function bl(d,_,T){if(d&&(ri(d)||(!ni&&(ni=qo(Sl(3))),d=d[ni.v]?d[ni.v]():pe),ri(d))){var D=Q,k=Q;try{for(var $=0;!(k=d.next()).done&&_[pr](T||d,k.value,$,d)!==-1;)$++}catch(q){D={e:q},d.throw&&(k=pe,d.throw(D))}finally{try{k&&!k.done&&d.return&&d.return(k)}finally{if(D)throw D.e}}}}function Bi(d,_,T){return d.apply(_,T)}function Yf(d,_){return!Vt(_)&&d&&(Gt(_)?Bi(d.push,d,_):ri(_)||Fp(_)?bl(_,function(T){d.push(T)}):d.push(_)),d}function hr(d,_,T){if(d)for(var D=d[Ct]>>>0,k=0;k<D&&!(k in d&&_[pr](T||d,d[k],k,d)===-1);k++);}var Vo=qi("indexOf",Es);function $f(d,_,T){return((d?d.slice:pe)||Ve).apply(d,Ve[pr](arguments,1))}var Ga=j(H($r,"create"),Cc);function Cc(d){if(!d)return{};var _=typeof d;_!==ue&&_!==se&&Br("Prototype must be an Object or function: "+lr(d));function T(){}return T[Ne]=d,new T}var At;function ai(d,_){var T=$r.setPrototypeOf||function(D,k){var $;!At&&(At=qo(($={},$[Ue]=[],$ instanceof Array))),At.v?D[Ue]=k:qr(k,function(q,W){return D[q]=W})};return T(d,_)}function $u(d,_,T){Ir(xn,[_,Pt,{v:d,c:!0,e:!1}]),_=ai(_,T);function D(){this[Re]=_,Ir(xn,[this,Pt,{v:d,c:!0,e:!1}])}return _[Ne]=T===pe?Ga(T):(D[Ne]=T[Ne],new D),_}function El(d,_){_&&(d[Pt]=_)}function kv(d,_,T){var D=T||Error,k=D[Ne][Pt],$=Error.captureStackTrace;return $u(d,function(){var q=this,W=arguments;try{Ir(El,[D,d]);var ae=Bi(D,q,Ve[pr](W))||q;if(ae!==q){var ie=Sn(q);ie!==Sn(ae)&&ai(ae,ie)}return $&&$(ae,q[Re]),_&&_(ae,W),ae}finally{Ir(El,[D,k])}},D)}function bi(){return(Date.now||Tl)()}function Tl(){return new Date().getTime()}function jd(d){return function(T){return Qe(T)&&Br("strTrim called ["+lr(T)+"]"),T&&T.replace&&(T=T.replace(d,ce)),T}}var ou=jd(/^\s+|(?=\s)\s+$/g),Ei=ju("trim",Vr,ou),dt,ua,su;function Is(d){if(!d||typeof d!==ue)return!1;su||(su=Yu()?ti():!0);var _=!1;if(d!==su){ua||(dt=Function[Ne][wr],ua=dt[pr]($r));try{var T=Sn(d);_=!T,_||(rr(T,Re)&&(T=T[Re]),_=!!(T&&typeof T===se&&dt[pr](T)===ua))}catch{}}return _}function Yd(){return bi()}var $d=qi("indexOf",Vr),Wn=ju("startsWith",Vr,ii);function ii(d,_,T){Nc(d)||Br("'"+lr(d)+"' is not a string");var D=Nc(_)?_:jr(_),k=T>0?T:0;return Nr(d,k,k+D[Ct])===D}var qd="ref",Ti="unref",Va="hasRef",Im="enabled";function Ov(d,_,T){var D=!0,k=d?_(pe):pe,$;function q(){return D=!1,k&&k[Ti]&&k[Ti](),$}function W(){k&&T(k),k=pe}function ae(){return k=_(k),D||q(),$}function ie(De){!De&&k&&W(),De&&!k&&ae()}return $={cancel:W,refresh:ae},$[Va]=function(){return k&&k[Va]?k[Va]():D},$[qd]=function(){return D=!0,k&&k[qd]&&k[qd](),$},$[Ti]=q,$=Hr($,Im,{get:function(){return!!k},set:ie}),{h:$,dn:function(){k=pe}}}function Up(d,_,T){var D=Gt(_),k=D?_.length:0,$=(k>0?_[0]:D?Q:_)||setTimeout,q=(k>1?_[1]:Q)||clearTimeout,W=T[0];T[0]=function(){ae.dn(),Bi(W,Q,Ve[pr](arguments))};var ae=Ov(d,function(ie){if(ie){if(ie.refresh)return ie.refresh(),ie;Bi(q,Q,[ie])}return Bi($,Q,T)},function(ie){Bi(q,Q,[ie])});return ae.h}function uu(d,_){return Up(!0,Q,Ve[pr](arguments))}function jp(d,_,T){return Up(!0,d,Ve[pr](arguments,1))}(Ba()||{}).Symbol,(Ba()||{}).Reflect;var sh="hasOwnProperty",Bd=function(d,_){return Bd=N.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,D){T.__proto__=D}||function(T,D){for(var k in D)D[sh](k)&&(T[k]=D[k])},Bd(d,_)};function Ca(d,_){typeof _!==s&&_!==null&&Br("Class extends value "+String(_)+" is not a constructor or null"),Bd(d,_);function T(){this.constructor=d}d[b]=_===null?Ga(_):(T[b]=_[b],new T)}var wl,Il="constructor",zi="prototype",oi="function",cu="_dynInstFuncs",Yp="_isDynProxy",wi="_dynClass",zd="_dynCls$",qu="_dynInstChk",xc=qu,Nl="_dfOpts",qf="_unknown_",Gd="__proto__",$p="_dyn"+Gd,qp="__dynProto$Gbl",lu="_dynInstProto",Vd="useBaseInst",Ns="setInstFuncs",Bu=Object,Ii=Bu.getPrototypeOf,Dl=Bu.getOwnPropertyNames,Bf=Ba(),Pc=Bf[qp]||(Bf[qp]={o:(wl={},wl[Ns]=!0,wl[Vd]=!0,wl),n:1e3});function Gi(d){return d&&(d===Bu[zi]||d===Array[zi])}function Mv(d){return Gi(d)||d===Function[zi]}function Ho(d){var _;if(d){if(Ii)return Ii(d);var T=d[Gd]||d[zi]||(d[Il]?d[Il][zi]:null);_=d[$p]||T,rr(d,$p)||(delete d[lu],_=d[$p]=d[lu]||d[$p],d[lu]=T)}return _}function yo(d,_){var T=[];if(Dl)T=Dl(d);else for(var D in d)typeof D=="string"&&rr(d,D)&&T.push(D);if(T&&T.length>0)for(var k=0;k<T.length;k++)_(T[k])}function Vi(d,_,T){return _!==Il&&typeof d[_]===oi&&(T||rr(d,_))&&_!==Gd&&_!==zi}function fu(d){Br("DynamicProto: "+d)}function zf(d){var _=Ga(null);return yo(d,function(T){!_[T]&&Vi(d,T,!1)&&(_[T]=d[T])}),_}function Ac(d,_){for(var T=d.length-1;T>=0;T--)if(d[T]===_)return!0;return!1}function Rc(d,_,T,D){function k(ae,ie,De){var $e=ie[De];if($e[Yp]&&D){var je=ae[cu]||{};je[xc]!==!1&&($e=(je[ie[wi]]||{})[De]||$e)}return function(){return $e.apply(ae,arguments)}}var $=Ga(null);yo(T,function(ae){$[ae]=k(_,T,ae)});for(var q=Ho(d),W=[];q&&!Mv(q)&&!Ac(W,q);)yo(q,function(ae){!$[ae]&&Vi(q,ae,!Ii)&&($[ae]=k(_,q,ae))}),W.push(q),q=Ho(q);return $}function zu(d,_,T,D){var k=null;if(d&&rr(T,wi)){var $=d[cu]||Ga(null);if(k=($[T[wi]]||Ga(null))[_],k||fu("Missing ["+_+"] "+oi),!k[qu]&&$[xc]!==!1){for(var q=!rr(d,_),W=Ho(d),ae=[];q&&W&&!Mv(W)&&!Ac(ae,W);){var ie=W[_];if(ie){q=ie===D;break}ae.push(W),W=Ho(W)}try{q&&(d[_]=k),k[qu]=1}catch{$[xc]=!1}}}return k}function Gf(d,_,T){var D=_[d];return D===T&&(D=Ho(_)[d]),typeof D!==oi&&fu("["+d+"] is not a "+oi),D}function Cl(d,_,T,D,k){function $(ae,ie){var De=function(){var $e=zu(this,ie,ae,De)||Gf(ie,ae,De);return $e.apply(this,arguments)};return De[Yp]=1,De}if(!Gi(d)){var q=T[cu]=T[cu]||Ga(null);if(!Gi(q)){var W=q[_]=q[_]||Ga(null);q[xc]!==!1&&(q[xc]=!!k),Gi(W)||yo(T,function(ae){Vi(T,ae,!1)&&T[ae]!==D[ae]&&(W[ae]=T[ae],delete T[ae],(!rr(d,ae)||d[ae]&&!d[ae][Yp])&&(d[ae]=$(d,ae)))})}}}function Vf(d,_){if(Ii){for(var T=[],D=Ho(_);D&&!Mv(D)&&!Ac(T,D);){if(D===d)return!0;T.push(D),D=Ho(D)}return!1}return!0}function Gu(d,_){return rr(d,zi)?d.name||_||qf:((d||{})[Il]||{}).name||_||qf}function Hi(d,_,T,D){rr(d,zi)||fu("theClass is an invalid class definition.");var k=d[zi];Vf(k,_)||fu("["+Gu(d)+"] not in hierarchy of ["+Gu(_)+"]");var $=null;rr(k,wi)?$=k[wi]:($=zd+Gu(d,"_")+"$"+Pc.n,Pc.n++,k[wi]=$);var q=Hi[Nl],W=!!q[Vd];W&&D&&D[Vd]!==void 0&&(W=!!D[Vd]);var ae=zf(_),ie=Rc(k,_,ae,W);T(_,ie);var De=!!Ii&&!!q[Ns];De&&D&&(De=!!D[Ns]),Cl(k,$,_,ae,De!==!1)}Hi[Nl]=Pc.o;var kc=qa,So=kc({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}),si="toLowerCase",Ko="blkVal",zr="length",Ds="rdOnly",Ki="notify",Oc="warnToConsole",Mc="throwInternal",Wo="setDf",xl="watch",Jo="logger",du="apply",Ha="push",Hd="splice",Vu="hdlr",xa="cancel",Hf="initialize",Kd="identifier",Pl="isInitialized",Al="value",Wd="getPlugin",Lv="name",Hu="time",bo="processNext",Wi="getProcessTelContext",vn="unload",Rl="loggingLevelConsole",Ku="createNew",Wu="teardown",Jd="messageId",Ni="message",pu="isAsync",Cs="diagLog",ur="_doTeardown",Eo="update",Zo="getNext",Di="setNextPlugin",Kf="protocol",Ci="userAgent",vu="split",un="nodeType",Ka="replace",kr="logInternalMessage",pt="type",Ju="handler",To="status",xs="getResponseHeader",Ji="getAllResponseHeaders",mu="isChildEvt",xi="data",Lr="getCtx",wo="setCtx",Or="complete",Io="urlString",Wf="sendPOST",No="headers",Pn="timeout",Zi="setRequestHeader",Xo;function ya(d,_){Xo||(Xo=kv("AggregationError",function(D,k){k[zr]>1&&(D.errors=k[1])}));var T=d||"One or more errors occurred.";throw hr(_,function(D,k){T+=`
`.concat(k," > ").concat(lr(D))}),new Xo(T,_||[])}var Pa="Promise",Lc="rejected";function Zu(d,_){return Jf(d,function(T){return _?_({status:"fulfilled",rejected:!1,value:T}):T},function(T){return _?_({status:Lc,rejected:!0,reason:T}):T})}function Jf(d,_,T,D){var k=d;try{if(Yt(d))(_||T)&&(k=d.then(_,T));else try{_&&(k=_(d))}catch($){if(T)k=T($);else throw $}}finally{D&&Ps(k,D)}return k}function Ps(d,_){var T=d;return _&&(Yt(d)?d.finally?T=d.finally(_):T=d.then(function(D){return _(),D},function(D){throw _(),D}):_()),T}var Do=["pending","resolving","resolved",Lc],Co="dispatchEvent",Xu;function xo(d){var _;return d&&d.createEvent&&(_=d.createEvent("Event")),!!_&&_.initEvent}function Mn(d,_,T,D){var k=On();!Xu&&(Xu=qo(!!Ir(xo,[k]).v));var $=Xu.v?k.createEvent("Event"):D?new Event(_):{};if(T&&T($),Xu.v&&$.initEvent(_,!1,!0),$&&d[Co])d[Co]($);else{var q=d["on"+_];if(q)q($);else{var W=sn("console");W&&(W.error||W.log)(_,lr($))}}}var Zf="unhandledRejection",Qu=Zf.toLowerCase(),As=10,ui;function Qo(d){return zt(d)?d.toString():lr(d)}function Rs(d,_,T){var D=$f(arguments,3),k=0,$=!1,q,W=[],ae=!1,ie=null,De;function $e(Te,qe){try{ae=!0,ie&&ie.cancel(),ie=null;var qt=d(function(Xt,or){W.push(function(){try{var Dr=k===2?Te:qe,Mr=Vt(Dr)?q:zt(Dr)?Dr(q):Dr;Yt(Mr)?Mr.then(Xt,or):Dr?Xt(Mr):k===3?or(Mr):Xt(Mr)}catch(ln){or(ln)}}),$&&Fe()},D);return qt}finally{}}function je(Te){return $e(void 0,Te)}function Ie(Te){var qe=Te,qt=Te;return zt(Te)&&(qe=function(Xt){return Te&&Te(),Xt},qt=function(Xt){throw Te&&Te(),Xt}),$e(qe,qt)}function ve(){return Do[k]}function Fe(){if(W.length>0){var Te=W.slice();W=[],ae=!0,ie&&ie.cancel(),ie=null,_(Te)}}function Ee(Te,qe){return function(qt){if(k===qe){if(Te===2&&Yt(qt)){k=1,qt.then(Ee(2,1),Ee(3,1));return}k=Te,$=!0,q=qt,Fe(),!ae&&Te===3&&!ie&&(ie=uu(He,As))}}}function He(){if(!ae)if(ae=!0,Uf())process.emit(Zf,q,De);else{var Te=ti()||Ba();!ui&&(ui=qo(Ir(sn,[Pa+"RejectionEvent"]).v)),Mn(Te,Qu,function(qe){return xn(qe,"promise",{g:function(){return De}}),qe.reason=q,qe},!!ui.v)}}De={then:$e,catch:je,finally:Ie},Hr(De,"state",{get:ve}),jf()&&(De[Sl(11)]="IPromise");function Ce(){return"IPromise "+ve()+($?" - "+Qo(q):"")}return De.toString=Ce,function(){zt(T)||Br(Pa+": executor is not a function - "+Qo(T));var qe=Ee(3,0);try{T.call(De,Ee(2,0),qe)}catch(qt){qe(qt)}}(),De}function Pi(d){hr(d,function(_){try{_()}catch{}})}function Fc(d){var _=It(d)?d:0;return function(T){uu(function(){Pi(T)},_)}}function hu(d,_){return Rs(hu,Fc(_),d,_)}var ca;function _u(d,_){!ca&&(ca=qo(Ir(sn,[Pa]).v||null));var T=ca.v;if(!T)return hu(d);zt(d)||Br(Pa+": executor is not a function - "+lr(d));var D=0;function k(){return Do[D]}var $=new T(function(q,W){function ae(De){D=2,q(De)}function ie(De){D=3,W(De)}d(ae,ie)});return Hr($,"state",{get:k}),$}var ks;function Ai(d,_){return!ks&&(ks=qo(_u)),ks.v.call(this,d,_)}var ec=void 0,cn="",Jn="core",Ri="disabled",tc="extensionConfig",es="processTelemetry",Zd="priority",ci="getPerfMgr",Uc="Not dynamic - ",Sa=/-([a-z])/g,Xf=/([^\w\d_$])/g,Wa=/^(\d+[\w\d_$])/;function ts(d){return!Qe(d)}function rs(d){var _=d;return _&&Nc(_)&&(_=_[Ka](Sa,function(T,D){return D.toUpperCase()}),_=_[Ka](Xf,"_"),_=_[Ka](Wa,function(T,D){return"_"+D})),_}function Xd(d,_){return d&&_?$d(d,_)!==-1:!1}function kl(d,_){var T=null,D=null;return zt(d)?T=d:D=d,function(){var k=arguments;if(T&&(D=T()),D)return D[_][du](D,k)}}function Qf(d,_,T,D,k){d&&_&&T&&(k!==!1||Vt(d[_]))&&(d[_]=kl(T,D))}function Ol(d,_,T,D){return d&&_&&vo(d)&&Gt(T)&&hr(T,function(k){Nc(k)&&Qf(d,k,_,k,D)}),d}function Po(d){return d&&Fu&&(d=N(Fu({},d))),d}function Ja(d){try{return d.responseText}catch{}return null}function jc(d,_){return d?"XDomainRequest,Response:"+Ja(d)||"":_}function Fv(d,_){return d?"XMLHttpRequest,Status:"+d[To]+",Response:"+Ja(d)||d.response||"":_}function rc(d,_){return _&&(It(_)?d=[_].concat(d):Gt(_)&&(d=_.concat(d))),d}var nc="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",ns="withCredentials",Ml="timeout";function Nm(d,_,T,D,k,$){D===void 0&&(D=!1),k===void 0&&(k=!1);function q(ae,ie,De){try{ae[ie]=De}catch{}}var W=new XMLHttpRequest;return D&&q(W,nc,D),T&&q(W,ns,T),W.open(d,_,!k),T&&q(W,ns,T),!k&&$&&q(W,Ml,$),W}function Qd(d){var _={};if(Nc(d)){var T=Ei(d)[vu](/[\r\n]+/);hr(T,function(D){if(D){var k=D.indexOf(": ");if(k!==-1){var $=Ei(D.substring(0,k))[si](),q=Ei(D.substring(k+1));_[$]=q}else _[Ei(D)]=1}})}return _}function Ll(d,_,T){if(!d[T]&&_&&_[xs]){var D=_[xs](T);D&&(d[T]=Ei(D))}return d}var ac="kill-duration",Bp="kill-duration-seconds",Uv="time-delta-millis";function ic(d,_){var T={};return d[Ji]?T=Qd(d[Ji]()):_&&(T=Ll(T,d,Uv),T=Ll(T,d,ac),T=Ll(T,d,Bp)),T}var jv="location",Fl="console",ep="JSON",Xi="crypto",zp="msCrypto",Dm="ReactNative",ed="msie",Gp="trident/",tp="XMLHttpRequest",Yc=null,td=null,oc=!1,Os=null,$c=null;function Yv(d,_){var T=!1;if(d){try{if(T=_ in d,!T){var D=d[b];D&&(T=_ in D)}}catch{}if(!T)try{var k=new d;T=!Vt(k[_])}catch{}}return T}function rp(d){if(d&&oc){var _=sn("__mockLocation");if(_)return _}return typeof location===u&&location?location:sn(jv)}function qc(){return typeof console!==h?console:sn(Fl)}function np(){return!!(typeof JSON===u&&JSON||sn(ep)!==null)}function Ms(){return np()?JSON||sn(ep):null}function Fr(){return sn(Xi)}function sc(){return sn(zp)}function la(){var d=sa();return d&&d.product?d.product===Dm:!1}function ap(){var d=sa();if(d&&(d[Ci]!==td||Yc===null)){td=d[Ci];var _=(td||cn)[si]();Yc=Xd(_,ed)||Xd(_,Gp)}return Yc}function rd(d){return($c===null||d===!1)&&($c=Tr()&&!!sa().sendBeacon),$c}function Bc(d){var _=!1;try{_=!!sn("fetch");var T=sn("Request");_&&d&&T&&(_=Yv(T,"keepalive"))}catch{}return _}function uc(){return Os===null&&(Os=typeof XDomainRequest!==h,Os&&Za()&&(Os=Os&&!Yv(sn(tp),"withCredentials"))),Os}function Za(){var d=!1;try{var _=sn(tp);d=!!_}catch{}return d}var nd=4294967296,Zn=4294967295,vr=123456789,Ls=987654321,hn=!1,as=vr,cc=Ls;function lc(d){d<0&&(d>>>=0),as=vr+d&Zn,cc=Ls-d&Zn,hn=!0}function Fs(){try{var d=bi()&2147483647;lc((Math.random()*nd^d)+d)}catch{}}function Qi(d){var _=0,T=Fr()||sc();return T&&T.getRandomValues&&(_=T.getRandomValues(new Uint32Array(1))[0]&Zn),_===0&&ap()&&(hn||Fs(),_=Ul()&Zn),_===0&&(_=Math.floor(nd*Math.random()|0)),d||(_>>>=0),_}function Ul(d){cc=36969*(cc&65535)+(cc>>16)&Zn,as=18e3*(as&65535)+(as>>16)&Zn;var _=(cc<<16)+(as&65535)>>>0&Zn|0;return d||(_>>>=0),_}function Vp(d){d===void 0&&(d=22);for(var _="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",T=Qi()>>>0,D=0,k=cn;k[zr]<d;)D++,k+=_.charAt(T&63),T>>>=6,D===5&&(T=(Qi()<<2&4294967295|T&3)>>>0,D=0);return k}var jl="3.3.4",Hp="."+Vp(6),Yl=0;function zc(d){return d[un]===1||d[un]===9||!+d[un]}function ip(d,_){var T=_[d.id];if(!T){T={};try{zc(_)&&xn(_,d.id,{e:!1,v:T})}catch{}}return T}function zn(d,_){return _===void 0&&(_=!1),rs(d+Yl+++(_?"."+jl:cn)+Hp)}function Gc(d){var _={id:zn("_aiData-"+(d||cn)+"."+jl),accept:function(T){return zc(T)},get:function(T,D,k,$){var q=T[_.id];return q?q[rs(D)]:($&&(q=ip(_,T),q[rs(D)]=k),k)},kill:function(T,D){if(T&&T[D])try{delete T[D]}catch{}}};return _}function fa(d){return d&&vo(d)&&(d.isVal||d.fb||ei(d,"v")||ei(d,"mrg")||ei(d,"ref")||d.set)}function gu(d,_,T){var D,k=T.dfVal||at;if(_&&T.fb){var $=T.fb;Gt($)||($=[$]);for(var q=0;q<$[zr];q++){var W=$[q],ae=_[W];if(k(ae)?D=ae:d&&(ae=d.cfg[W],k(ae)&&(D=ae),d.set(d.cfg,jr(W),ae)),k(D))break}}return!k(D)&&k(T.v)&&(D=T.v),D}function op(d,_,T){var D=T;if(T&&fa(T)&&(D=gu(d,_,T)),D){fa(D)&&(D=op(d,_,D));var k;Gt(D)?(k=[],k[zr]=D[zr]):Is(D)&&(k={}),k&&(qr(D,function($,q){q&&fa(q)&&(q=op(d,_,q)),k[$]=q}),D=k)}return D}function ad(d,_,T,D){var k,$,q,W=D,ae,ie,De,$e;fa(W)?(k=W.isVal,$=W.set,De=W[Ds],$e=W[Ko],ae=W.mrg,ie=W.ref,!ie&&Vt(ie)&&(ie=!!ae),q=gu(d,_,W)):q=D,$e&&d[Ko](_,T);var je,Ie=!0,ve=_[T];(ve||!Qe(ve))&&(je=ve,Ie=!1,k&&je!==q&&!k(je)&&(je=q,Ie=!0),$&&(je=$(je,q,_),Ie=je===q)),Ie?q?je=op(d,_,q):je=q:(Is(je)||Gt(q))&&ae&&q&&(Is(q)||Gt(q))&&qr(q,function(Fe,Ee){ad(d,je,Fe,Ee)}),d.set(_,T,je),ie&&d.ref(_,T),De&&d[Ds](_,T)}var da=Ud("[[ai_dynCfg_1]]"),id=Ud("[[ai_blkDynCfg_1]]"),sp=Ud("[[ai_frcDynCfg_1]]");function Us(d){if(d){var _;if(Gt(d)?(_=[],_[zr]=d[zr]):Is(d)&&(_={}),_)return qr(d,function(T,D){_[T]=Us(D)}),_}return d}function Et(d){if(d){var _=d[da]||d;if(_.cfg&&(_.cfg===d||_.cfg[da]===_))return _}return null}function is(d){if(d&&(Is(d)||Gt(d)))try{d[id]=!0}catch{}return d}function os(d,_,T){var D=!1;return T&&!d[_.blkVal]&&(D=T[sp],!D&&!T[id]&&(D=Is(T)||Gt(T))),D}function li(d){Br("InvalidAccess:"+d)}var $l=["push","pop","shift","unshift","splice"],Vc=function(d,_,T,D){d&&d[Mc](3,108,"".concat(T," [").concat(_,"] failed - ")+lr(D))};function ss(d,_,T){Gt(_)&&hr($l,function(D){var k=_[D];_[D]=function(){for(var $=[],q=0;q<arguments.length;q++)$[q]=arguments[q];var W=k[du](this,$);return ql(d,_,T,"Patching"),W}})}function ki(d,_){var T=it(d,_);return T&&T.get}function Hc(d,_,T,D){var k={n:T,h:[],trk:function(ie){ie&&ie.fn&&(Vo(k.h,ie)===-1&&k.h[Ha](ie),d.trk(ie,k))},clr:function(ie){var De=Vo(k.h,ie);De!==-1&&k.h[Hd](De,1)}},$=!0,q=!1;function W(){$&&(q=q||os(W,d,D),D&&!D[da]&&q&&(D=ql(d,D,T,"Converting")),$=!1);var ie=d.act;return ie&&k.trk(ie),D}W[d.prop]={chng:function(){d.add(k)}};function ae(ie){if(D!==ie){W[d.ro]&&!d.upd&&li("["+T+"] is read-only:"+lr(_)),$&&(q=q||os(W,d,D),$=!1);var De=q&&W[d.rf];if(q)if(De){qr(D,function(je){D[je]=ie?ie[je]:ec});try{qr(ie,function(je,Ie){od(d,D,je,Ie)}),ie=D}catch(je){Vc((d.hdlr||{})[Jo],T,"Assigning",je),q=!1}}else D&&D[da]&&qr(D,function(je){var Ie=ki(D,je);if(Ie){var ve=Ie[d.prop];ve&&ve.chng()}});if(ie!==D){var $e=ie&&os(W,d,ie);!De&&$e&&(ie=ql(d,ie,T,"Converting")),D=ie,q=$e}d.add(k)}}xn(_,k.n,{g:W,s:ae})}function od(d,_,T,D){if(_){var k=ki(_,T),$=k&&!!k[d.prop];$?_[T]=D:Hc(d,_,T,D)}return _}function js(d,_,T,D){if(_){var k=ki(_,T),$=k&&!!k[d.prop],q=D&&D[0],W=D&&D[1],ae=D&&D[2];if(!$){if(ae)try{is(_)}catch(ie){Vc((d.hdlr||{})[Jo],T,"Blocking",ie)}try{od(d,_,T,_[T]),k=ki(_,T)}catch(ie){Vc((d.hdlr||{})[Jo],T,"State",ie)}}q&&(k[d.rf]=q),W&&(k[d.ro]=W),ae&&(k[d.blkVal]=!0)}return _}function ql(d,_,T,D){try{qr(_,function(k,$){od(d,_,k,$)}),_[da]||(Hr(_,da,{get:function(){return d[Vu]}}),ss(d,_,T))}catch(k){Vc((d.hdlr||{})[Jo],T,D,k)}return _}var Kc="[[ai_",Bl="]]";function up(d){var _,T=za(Kc+"get"+d.uid+Bl),D=za(Kc+"ro"+d.uid+Bl),k=za(Kc+"rf"+d.uid+Bl),$=za(Kc+"blkVal"+d.uid+Bl),q=za(Kc+"dtl"+d.uid+Bl),W=null,ae=null,ie;function De(ve,Fe){var Ee=ie.act;try{ie.act=ve,ve&&ve[q]&&(hr(ve[q],function(Ce){Ce.clr(ve)}),ve[q]=[]),Fe({cfg:d.cfg,set:d.set.bind(d),setDf:d[Wo].bind(d),ref:d.ref.bind(d),rdOnly:d[Ds].bind(d)})}catch(Ce){var He=d[Jo];throw He&&He[Mc](1,107,lr(Ce)),Ce}finally{ie.act=Ee||null}}function $e(){if(W){var ve=W;W=null,ae&&ae[xa](),ae=null;var Fe=[];if(hr(ve,function(Ee){if(Ee&&(Ee[q]&&(hr(Ee[q],function(He){He.clr(Ee)}),Ee[q]=null),Ee.fn))try{De(Ee,Ee.fn)}catch(He){Fe[Ha](He)}}),W)try{$e()}catch(Ee){Fe[Ha](Ee)}Fe[zr]>0&&ya("Watcher error(s): ",Fe)}}function je(ve){if(ve&&ve.h[zr]>0){W||(W=[]),ae||(ae=uu(function(){ae=null,$e()},0));for(var Fe=0;Fe<ve.h[zr];Fe++){var Ee=ve.h[Fe];Ee&&Vo(W,Ee)===-1&&W[Ha](Ee)}}}function Ie(ve,Fe){if(ve){var Ee=ve[q]=ve[q]||[];Vo(Ee,Fe)===-1&&Ee[Ha](Fe)}}return ie=(_={prop:T,ro:D,rf:k},_[Ko]=$,_[Vu]=d,_.add=je,_[Ki]=$e,_.use=De,_.trk=Ie,_),ie}function cp(d,_){var T={fn:_,rm:function(){T.fn=null,d=null,_=null}};return xn(T,"toJSON",{v:function(){return"WatcherHandler"+(T.fn?"":"[X]")}}),d.use(T,_),T}function Kp(d,_,T){var D,k=Et(_);if(k)return k;var $=zn("dyncfg",!0),q=_&&T!==!1?_:Us(_),W;function ae(){W[Ki]()}function ie(He,Ce,Te){try{He=od(W,He,Ce,Te)}catch(qe){Vc(d,Ce,"Setting value",qe)}return He[Ce]}function De(He){return cp(W,He)}function $e(He,Ce){W.use(null,function(Te){var qe=W.upd;try{Vt(Ce)||(W.upd=Ce),He(Te)}finally{W.upd=qe}})}function je(He,Ce){var Te;return js(W,He,Ce,(Te={},Te[0]=!0,Te))[Ce]}function Ie(He,Ce){var Te;return js(W,He,Ce,(Te={},Te[1]=!0,Te))[Ce]}function ve(He,Ce){var Te;return js(W,He,Ce,(Te={},Te[2]=!0,Te))[Ce]}function Fe(He,Ce){return Ce&&qr(Ce,function(Te,qe){ad(Ee,He,Te,qe)}),He}var Ee=(D={uid:null,cfg:q},D[Jo]=d,D[Ki]=ae,D.set=ie,D[Wo]=Fe,D[xl]=De,D.ref=je,D[Ds]=Ie,D[Ko]=ve,D._block=$e,D);return xn(Ee,"uid",{c:!1,e:!1,w:!1,v:$}),W=up(Ee),ql(W,q,"config","Creating"),Ee}function Cm(d,_){d?(d[Oc](_),d[Mc](2,108,_)):li(_)}function us(d,_,T,D){var k=Kp(T,d||{},D);return _&&k[Wo](k.cfg,_),k}function Ys(d,_,T){var D=d[da]||d;return D.cfg&&(D.cfg===d||D.cfg[da]===D)?D[xl](_):(Cm(T,Uc+lr(d)),us(d,null,T)[xl](_))}var cs="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Oi=null;function $s(){var d=sn("Microsoft");return d&&(Oi=d.ApplicationInsights),Oi}function yu(d){var _=Oi;return!_&&d.disableDbgExt!==!0&&(_=Oi||$s()),_?_.ChromeDbgExt:null}var fi,Wc="warnToConsole",$v="AI (Internal): ",fc="AI: ",Wp="AITR_",zl={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},Jc=(fi={},fi[0]=null,fi[1]="errorToConsole",fi[2]=Wc,fi[3]="debugToConsole",fi);function Gl(d){return d?'"'+d[Ka](/\"/g,cn)+'"':cn}function qs(d,_){var T=qc();if(T){var D="log";T[d]&&(D=d),zt(T[D])&&T[D](_)}}var Mi=function(){function d(_,T,D,k){D===void 0&&(D=!1);var $=this;$[Jd]=_,$[Ni]=(D?fc:$v)+_;var q=cn;np()&&(q=Ms().stringify(k));var W=(T?" message:"+Gl(T):cn)+(k?" props:"+Gl(q):cn);$[Ni]+=W}return d.dataType="MessageData",d}();function Zc(d,_){return(d||{})[Jo]||new Vl(_)}var Vl=function(){function d(_){this.identifier="DiagnosticLogger",this.queue=[];var T=0,D={},k,$,q,W,ae;Hi(d,this,function(ie){ae=$e(_||{}),ie.consoleLoggingLevel=function(){return k},ie[Mc]=function(ve,Fe,Ee,He,Ce){Ce===void 0&&(Ce=!1);var Te=new Mi(Fe,Ee,Ce,He);if(W)throw lr(Te);var qe=Jc[ve]||Wc;if(Vt(Te[Ni]))Ie("throw"+(ve===1?"Critical":"Warning"),Te);else{if(Ce){var qt=+Te[Jd];!D[qt]&&k>=ve&&(ie[qe](Te[Ni]),D[qt]=!0)}else k>=ve&&ie[qe](Te[Ni]);De(ve,Te)}},ie.debugToConsole=function(ve){qs("debug",ve),Ie("warning",ve)},ie[Oc]=function(ve){qs("warn",ve),Ie("warning",ve)},ie.errorToConsole=function(ve){qs("error",ve),Ie("error",ve)},ie.resetInternalMessageCount=function(){T=0,D={}},ie[kr]=De,ie[vn]=function(ve){ae&&ae.rm(),ae=null};function De(ve,Fe){if(!je()){var Ee=!0,He=Wp+Fe[Jd];if(D[He]?Ee=!1:D[He]=!0,Ee&&(ve<=$&&(ie.queue[Ha](Fe),T++,Ie(ve===1?"error":"warn",Fe)),T===q)){var Ce="Internal events throttle limit per PageView reached for this app.",Te=new Mi(23,Ce,!1);ie.queue[Ha](Te),ve===1?ie.errorToConsole(Ce):ie[Oc](Ce)}}}function $e(ve){return Ys(us(ve,zl,ie).cfg,function(Fe){var Ee=Fe.cfg;k=Ee[Rl],$=Ee.loggingLevelTelemetry,q=Ee.maxMessageLimit,W=Ee.enableDebug})}function je(){return T>=q}function Ie(ve,Fe){var Ee=yu(_||{});Ee&&Ee[Cs]&&Ee[Cs](ve,Fe)}})}return d.__ieDyn=1,d}();function sd(d){return d||new Vl}function pa(d,_,T,D,k,$){$===void 0&&($=!1),sd(d)[Mc](_,T,D,k,$)}function Bs(d,_){sd(d)[Oc](_)}var va="ctx",ud="ParentContextKey",Su="ChildrenContextKey",cd=function(){function d(_,T,D){var k=this;if(k.start=bi(),k[Lv]=_,k[pu]=D,k[mu]=function(){return!1},zt(T)){var $;xn(k,"payload",{g:function(){return!$&&zt(T)&&($=T(),T=null),$}})}k[Lr]=function(q){return q?q===d[ud]||q===d[Su]?k[q]:(k[va]||{})[q]:null},k[wo]=function(q,W){if(q)if(q===d[ud])k[q]||(k[mu]=function(){return!0}),k[q]=W;else if(q===d[Su])k[q]=W;else{var ae=k[va]=k[va]||{};ae[q]=W}},k[Or]=function(){var q=0,W=k[Lr](d[Su]);if(Gt(W))for(var ae=0;ae<W[zr];ae++){var ie=W[ae];ie&&(q+=ie[Hu])}k[Hu]=bi()-k.start,k.exTime=k[Hu]-q,k[Or]=function(){}}}return d.ParentContextKey="parent",d.ChildrenContextKey="childEvts",d}(),Aa="CoreUtils.doPerf";function ma(d,_,T,D,k){if(d){var $=d;if($[ci]&&($=$[ci]()),$){var q=void 0,W=$[Lr](Aa);try{if(q=$.create(_(),D,k),q){if(W&&q[wo]&&(q[wo](cd[ud],W),W[Lr]&&W[wo])){var ae=W[Lr](cd[Su]);ae||(ae=[],W[wo](cd[Su],ae)),ae[Ha](q)}return $[wo](Aa,q),T(q)}}catch(ie){q&&q[wo]&&q[wo]("exception",ie)}finally{q&&$.fire(q),$[wo](Aa,W)}}}return T()}var Jp=Gc("plugin");function Hl(d){return Jp.get(d,"state",{},!0)}var Kl="TelemetryPluginChain",bu="_hasRun",qv="_getTelCtx",Bv=0;function Wl(d,_,T){for(;d;){if(d[Wd]()===T)return d;d=d[Zo]()}return Zl([T],_.config||{},_)}function Zp(d,_,T,D){var k=null,$=[];_||(_=us({},null,T[Jo])),D!==null&&(k=D?Wl(d,T,D):d);var q={_next:ae,ctx:{core:function(){return T},diagLog:function(){return Zc(T,_.cfg)},getCfg:function(){return _.cfg},getExtCfg:De,getConfig:$e,hasNext:function(){return!!k},getNext:function(){return k},setNext:function(Ie){k=Ie},iterate:je,onComplete:W}};function W(Ie,ve){for(var Fe=[],Ee=2;Ee<arguments.length;Ee++)Fe[Ee-2]=arguments[Ee];Ie&&$[Ha]({func:Ie,self:Vt(ve)?q.ctx:ve,args:Fe})}function ae(){var Ie=k;if(k=Ie?Ie[Zo]():null,!Ie){var ve=$;ve&&ve[zr]>0&&(hr(ve,function(Fe){try{Fe.func.call(Fe.self,Fe.args)}catch(Ee){pa(T[Jo],2,73,"Unexpected Exception during onComplete - "+lr(Ee))}}),$=[])}return Ie}function ie(Ie,ve){var Fe=null,Ee=_.cfg;if(Ee&&Ie){var He=Ee[tc];!He&&ve&&(He={}),Ee[tc]=He,He=_.ref(Ee,tc),He&&(Fe=He[Ie],!Fe&&ve&&(Fe={}),He[Ie]=Fe,Fe=_.ref(He,Ie))}return Fe}function De(Ie,ve){var Fe=ie(Ie,!0);return ve&&qr(ve,function(Ee,He){if(Qe(Fe[Ee])){var Ce=_.cfg[Ee];(Ce||!Qe(Ce))&&(Fe[Ee]=Ce)}ad(_,Fe,Ee,He)}),_[Wo](Fe,ve)}function $e(Ie,ve,Fe){Fe===void 0&&(Fe=!1);var Ee,He=ie(Ie,!1),Ce=_.cfg;return He&&(He[ve]||!Qe(He[ve]))?Ee=He[ve]:(Ce[ve]||!Qe(Ce[ve]))&&(Ee=Ce[ve]),Ee||!Qe(Ee)?Ee:Fe}function je(Ie){for(var ve;ve=q._next();){var Fe=ve[Wd]();Fe&&Ie(Fe)}}return q}function Jl(d,_,T,D){var k=us(_),$=Zp(d,k,T,D),q=$.ctx;function W(ie){var De=$._next();return De&&De[es](ie,q),!De}function ae(ie,De){return ie===void 0&&(ie=null),Gt(ie)&&(ie=Zl(ie,k.cfg,T,De)),Jl(ie||q[Zo](),k.cfg,T,De)}return q[bo]=W,q[Ku]=ae,q}function Xp(d,_,T){var D=us(_.config),k=Zp(d,D,_,T),$=k.ctx;function q(ae){var ie=k._next();return ie&&ie[vn]($,ae),!ie}function W(ae,ie){return ae===void 0&&(ae=null),Gt(ae)&&(ae=Zl(ae,D.cfg,_,ie)),Xp(ae||$[Zo](),_,ie)}return $[bo]=q,$[Ku]=W,$}function zv(d,_,T){var D=us(_.config),k=Zp(d,D,_,T),$=k.ctx;function q(ae){return $.iterate(function(ie){zt(ie[Eo])&&ie[Eo]($,ae)})}function W(ae,ie){return ae===void 0&&(ae=null),Gt(ae)&&(ae=Zl(ae,D.cfg,_,ie)),zv(ae||$[Zo](),_,ie)}return $[bo]=q,$[Ku]=W,$}function Zl(d,_,T,D){var k=null,$=!D;if(Gt(d)&&d[zr]>0){var q=null;hr(d,function(W){if(!$&&D===W&&($=!0),$&&W&&zt(W[es])){var ae=Gv(W,_,T);k||(k=ae),q&&q._setNext(ae),q=ae}})}return D&&!k?Zl([D],_,T):k}function Gv(d,_,T){var D=null,k=zt(d[es]),$=zt(d[Di]),q;d?q=d[Kd]+"-"+d[Zd]+"-"+Bv++:q="Unknown-0-"+Bv++;var W={getPlugin:function(){return d},getNext:function(){return D},processTelemetry:De,unload:$e,update:je,_id:q,_setNext:function(Ie){D=Ie}};function ae(){var Ie;return d&&zt(d[qv])&&(Ie=d[qv]()),Ie||(Ie=Jl(W,_,T)),Ie}function ie(Ie,ve,Fe,Ee,He){var Ce=!1,Te=d?d[Kd]:Kl,qe=Ie[bu];return qe||(qe=Ie[bu]={}),Ie.setNext(D),d&&ma(Ie[Jn](),function(){return Te+":"+Fe},function(){qe[q]=!0;try{var qt=D?D._id:cn;qt&&(qe[qt]=!1),Ce=ve(Ie)}catch(or){var Xt=D?qe[D._id]:!0;Xt&&(Ce=!0),(!D||!Xt)&&pa(Ie[Cs](),1,73,"Plugin ["+Te+"] failed during "+Fe+" - "+lr(or)+", run flags: "+lr(qe))}},Ee,He),Ce}function De(Ie,ve){ve=ve||ae();function Fe(Ee){if(!d||!k)return!1;var He=Hl(d);return He[Wu]||He[Ri]?!1:($&&d[Di](D),d[es](Ie,Ee),!0)}ie(ve,Fe,"processTelemetry",function(){return{item:Ie}},!Ie.sync)||ve[bo](Ie)}function $e(Ie,ve){function Fe(){var Ee=!1;if(d){var He=Hl(d),Ce=d[Jn]||He[Jn];d&&(!Ce||Ce===Ie.core())&&!He[Wu]&&(He[Jn]=null,He[Wu]=!0,He[Pl]=!1,d[Wu]&&d[Wu](Ie,ve)===!0&&(Ee=!0))}return Ee}ie(Ie,Fe,"unload",function(){},ve[pu])||Ie[bo](ve)}function je(Ie,ve){function Fe(){var Ee=!1;if(d){var He=Hl(d),Ce=d[Jn]||He[Jn];d&&(!Ce||Ce===Ie.core())&&!He[Wu]&&d[Eo]&&d[Eo](Ie,ve)===!0&&(Ee=!0)}return Ee}ie(Ie,Fe,"update",function(){},!1)||Ie[bo](ve)}return Ht(W)}function Eu(){var d=[];function _(D){D&&d[Ha](D)}function T(D,k){hr(d,function($){try{$(D,k)}catch(q){pa(D[Cs](),2,73,"Unexpected error calling unload handler - "+lr(q))}}),d=[]}return{add:_,run:T}}function Xc(){var d=[];function _(D){var k=d;d=[],hr(k,function($){try{($.rm||$.remove).call($)}catch(q){pa(D,2,73,"Unloading:"+lr(q))}})}function T(D){D&&Yf(d,D)}return{run:_,add:T}}var lp,ls="getPlugin",ld=(lp={},lp[tc]={isVal:ts,v:{}},lp),Xl=function(){function d(){var _=this,T,D,k,$,q;ie(),Hi(d,_,function(De){De[Hf]=function($e,je,Ie,ve){ae($e,je,ve),T=!0},De[Wu]=function($e,je){var Ie,ve=De[Jn];if(!ve||$e&&ve!==$e[Jn]())return;var Fe,Ee=!1,He=$e||Xp(null,ve,k&&k[ls]?k[ls]():k),Ce=je||(Ie={reason:0},Ie[pu]=!1,Ie);function Te(){Ee||(Ee=!0,$.run(He,je),q.run(He[Cs]()),Fe===!0&&He[bo](Ce),ie())}return!De[ur]||De[ur](He,Ce,Te)!==!0?Te():Fe=!0,Fe},De[Eo]=function($e,je){var Ie=De[Jn];if(!Ie||$e&&Ie!==$e[Jn]())return;var ve,Fe=!1,Ee=$e||zv(null,Ie,k&&k[ls]?k[ls]():k),He=je||{reason:0};function Ce(){Fe||(Fe=!0,ae(Ee.getCfg(),Ee.core(),Ee[Zo]()))}return!De._doUpdate||De._doUpdate(Ee,He,Ce)!==!0?Ce():ve=!0,ve},Qf(De,"_addUnloadCb",function(){return $},"add"),Qf(De,"_addHook",function(){return q},"add"),xn(De,"_unloadHooks",{g:function(){return q}})}),_[Cs]=function(De){return W(De)[Cs]()},_[Pl]=function(){return T},_.setInitialized=function(De){T=De},_[Di]=function(De){k=De},_[bo]=function(De,$e){$e?$e[bo](De):k&&zt(k[es])&&k[es](De,null)},_._getTelCtx=W;function W(De){De===void 0&&(De=null);var $e=De;if(!$e){var je=D||Jl(null,{},_[Jn]);k&&k[ls]?$e=je[Ku](null,k[ls]):$e=je[Ku](null,k)}return $e}function ae(De,$e,je){us(De,ld,Zc($e)),!je&&$e&&(je=$e[Wi]()[Zo]());var Ie=k;k&&k[ls]&&(Ie=k[ls]()),_[Jn]=$e,D=Jl(je,De,$e,Ie)}function ie(){T=!1,_[Jn]=null,D=null,k=null,q=Xc(),$=Eu()}}return d.__ieDyn=1,d}(),Ao="",Qc="NoResponseBody",Vv="&"+Qc+"=true",el="POST",xm=function(){function d(){var _=0,T,D,k,$,q,W,ae,ie,De,$e,je,Ie,ve,Fe;Hi(d,this,function(Ee,He){var Ce=!0;ea(),Ee[Hf]=function(We,ft){k=ft,D&&pa(k,1,28,"Sender is already initialized"),Ee.SetConfig(We),D=!0},Ee._getDbgPlgTargets=function(){return[D,$,W,T]},Ee.SetConfig=function(We){try{if(q=We.senderOnCompleteCallBack||{},W=!!We.disableCredentials,ae=We.fetchCredentials,$=!!We.isOneDs,T=!!We.enableSendPromise,De=!!We.disableXhr,$e=!!We.disableBeacon,je=!!We.disableBeaconSync,Fe=We.timeWrapper,ve=!!We.addNoResponse,Ie=!!We.disableFetchKeepAlive,ie={sendPOST:ln},$||(Ce=!1),W){var ft=rp();ft&&ft.protocol&&ft.protocol[si]()==="file:"&&(Ce=!1)}return!0}catch{}return!1},Ee.getSyncFetchPayload=function(){return _},Ee.getSenderInst=function(We,ft){return We&&We[zr]?Xt(We,ft):null},Ee.getFallbackInst=function(){return ie},Ee[ur]=function(We,ft){ea()};function Te(We,ft){or(ft,200,{},We)}function qe(We,ft){pa(k,2,26,"Failed to send telemetry.",{message:We}),or(ft,400,{})}function qt(We){qe("No endpoint url is provided for the batch",We)}function Xt(We,ft){for(var yr,cr=0,wt=null,xr=0;wt==null&&xr<We[zr];)cr=We[xr],!De&&cr===1?uc()?wt=Qt:Za()&&(wt=ln):cr===2&&Bc(ft)&&(!ft||!Ie)?wt=nn:cr===3&&rd()&&(ft?!je:!$e)&&(wt=Mr),xr++;return wt?(yr={_transport:cr,_isSync:ft},yr[Wf]=wt,yr):null}function or(We,ft,yr,cr){try{We&&We(ft,yr,cr)}catch{}}function Dr(We,ft){var yr=sa(),cr=We[Io];if(!cr)return qt(ft),!0;cr=We[Io]+(ve?Vv:Ao);var wt=We[xi],xr=$?wt:new Blob([wt],{type:"text/plain;charset=UTF-8"}),Nt=yr.sendBeacon(cr,xr);return Nt}function Mr(We,ft,yr){var cr=We[xi];try{if(cr)if(Dr(We,ft))Te(Ao,ft);else{var wt=q&&q.beaconOnRetry;wt&&zt(wt)?wt(We,ft,Dr):(ie&&ie[Wf](We,ft,!0),pa(k,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(xr){$&&Bs(k,"Failed to send telemetry using sendBeacon API. Ex:"+lr(xr)),or(ft,$?0:400,{},Ao)}}function ln(We,ft,yr){var cr,wt,xr,Nt=We[No]||{};!yr&&T&&(cr=Ai(function(wn,mi){wt=wn,xr=mi})),$&&yr&&We.disableXhrSync&&(yr=!1);var Oa=We[Io];if(!Oa){qt(ft),wt&&wt(!1);return}var ut=Nm(el,Oa,Ce,!0,yr,We[Pn]);$||ut[Zi]("Content-type","application/json"),hr(Wr(Nt),function(wn){ut[Zi](wn,Nt[wn])}),ut.onreadystatechange=function(){$||(Tn(ut),ut.readyState===4&&wt&&wt(!0))},ut.onload=function(){$&&Tn(ut)};function Tn(wn){var mi=q&&q.xhrOnComplete,gc=mi&&zt(mi);if(gc)mi(wn,ft,We);else{var Li=Ja(wn);or(ft,wn[To],ic(wn,$),Li)}}return ut.onerror=function(wn){or(ft,$?ut[To]:400,ic(ut,$),$?Ao:Fv(ut)),xr&&xr(wn)},ut.ontimeout=function(){or(ft,$?ut[To]:500,ic(ut,$),$?Ao:Fv(ut)),wt&&wt(!1)},ut.send(We[xi]),cr}function nn(We,ft,yr){var cr,wt=We[Io],xr=We[xi],Nt=$?xr:new Blob([xr],{type:"application/json"}),Oa,ut,Tn,wn=new Headers,mi=xr[zr],gc=!1,Li=!1,bf=We[No]||{},_s=(cr={method:el,body:Nt},cr[cs]=!0,cr);We.headers&&Wr(We.headers)[zr]>0&&(hr(Wr(bf),function(Zr){wn.append(Zr,bf[Zr])}),_s[No]=wn),ae?_s.credentials=ae:Ce&&$&&(_s.credentials="include"),yr&&(_s.keepalive=!0,_+=mi,$?We._sendReason===2&&(gc=!0,ve&&(wt+=Vv)):gc=!0);var Fo=new Request(wt,_s);try{Fo[cs]=!0}catch{}if(!yr&&T&&(Oa=Ai(function(Zr,ra){ut=Zr,Tn=ra})),!wt){qt(ft),ut&&ut(!1);return}function Xs(Zr){or(ft,$?0:400,{},$?Ao:Zr)}function ta(Zr,ra,Ma){var Qs=Zr[To],yc=q.fetchOnComplete;yc&&zt(yc)?yc(Zr,ft,Ma||Ao,ra):or(ft,Qs,{},Ma||Ao)}try{Zu(fetch($?wt:Fo,$?_s:null),function(Zr){if(yr&&(_-=mi,mi=0),!Li)if(Li=!0,Zr.rejected)Xs(Zr.reason&&Zr.reason[Ni]),Tn&&Tn(Zr.reason);else{var ra=Zr[Al];try{!$&&!ra.ok?(Xs(ra.statusText),ut&&ut(!1)):$&&!ra.body?(ta(ra,null,Ao),ut&&ut(!0)):Zu(ra.text(),function(Ma){ta(ra,We,Ma[Al]),ut&&ut(!0)})}catch(Ma){Xs(lr(Ma)),Tn&&Tn(Ma)}}})}catch(Zr){Li||(Xs(lr(Zr)),Tn&&Tn(Zr))}return gc&&!Li&&(Li=!0,or(ft,200,{}),ut&&ut(!0)),$&&!Li&&We[Pn]>0&&Fe&&Fe.set(function(){Li||(Li=!0,or(ft,500,{}),ut&&ut(!0))},We[Pn]),Oa}function Qt(We,ft,yr){var cr=ti(),wt=new XDomainRequest,xr=We[xi];wt.onload=function(){var wn=Ja(wt),mi=q&&q.xdrOnComplete;mi&&zt(mi)?mi(wt,ft,We):or(ft,200,{},wn)},wt.onerror=function(){or(ft,400,{},$?Ao:jc(wt))},wt.ontimeout=function(){or(ft,500,{})},wt.onprogress=function(){};var Nt=cr&&cr.location&&cr.location[Kf]||"",Oa=We[Io];if(!Oa){qt(ft);return}if(!$&&Oa.lastIndexOf(Nt,0)!==0){var ut="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";pa(k,2,40,". "+ut),qe(ut,ft);return}var Tn=$?Oa:Oa[Ka](/^(https?:)/,"");wt.open(el,Tn),We[Pn]&&(wt[Pn]=We[Pn]),wt.send(xr),$&&yr?Fe&&Fe.set(function(){wt.send(xr)},0):wt.send(xr)}function ea(){_=0,D=!1,T=!1,k=null,$=null,q=null,W=null,ae=null,ie=null,De=!1,$e=!1,je=!1,Ie=!1,ve=!1,Fe=null}})}return d.__ieDyn=1,d}(),Ql="on",Hv="attachEvent",Qp="addEventListener",Tu="detachEvent",wu="removeEventListener",tl="events",fs="visibilitychange",zs="pagehide",ef="pageshow",fd="unload",dd="beforeunload",tf=zn("aiEvtPageHide"),di=zn("aiEvtPageShow"),rf=/\.[\.]+/g,Kv=/[\.]+$/,Pm=1,rl=Gc("events"),Am=/^([^.]*)(?:\.(.+)|)/;function Ro(d){return d&&d[Ka]?d[Ka](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,cn):d}function Iu(d,_){var T;if(_){var D=cn;Gt(_)?(D=cn,hr(_,function($){$=Ro($),$&&($[0]!=="."&&($="."+$),D+=$)})):D=Ro(_),D&&(D[0]!=="."&&(D="."+D),d=(d||cn)+D)}var k=Am.exec(d||cn)||[];return T={},T[pt]=k[1],T.ns=(k[2]||cn).replace(rf,".").replace(Kv,cn)[vu](".").sort().join("."),T}function nl(d,_,T){T===void 0&&(T=!0);var D=rl.get(d,tl,{},T),k=D[_];return k||(k=D[_]=[]),k}function Wv(d,_,T,D){d&&_&&_[pt]&&(d[wu]?d[wu](_[pt],T,D):d[Tu]&&d[Tu](Ql+_[pt],T))}function fp(d,_,T,D){var k=!1;return d&&_&&_[pt]&&T&&(d[Qp]?(d[Qp](_[pt],T,D),k=!0):d[Hv]&&(d[Hv](Ql+_[pt],T),k=!0)),k}function Jv(d,_,T,D){for(var k=_[zr];k--;){var $=_[k];$&&(!T.ns||T.ns===$.evtName.ns)&&(!D||D($))&&(Wv(d,$.evtName,$[Ju],$.capture),_[Hd](k,1))}}function ev(d,_,T){if(_[pt])Jv(d,nl(d,_[pt]),_,T);else{var D=rl.get(d,tl,{});qr(D,function(k,$){Jv(d,$,_,T)}),Wr(D)[zr]===0&&rl.kill(d,tl)}}function pd(d,_){var T;return _?(Gt(_)?T=[d].concat(_):T=[d,_],T=Iu("xx",T).ns[vu](".")):T=d,T}function al(d,_,T,D,k){var $;k===void 0&&(k=!1);var q=!1;if(d)try{var W=Iu(_,D);if(q=fp(d,W,T,k),q&&rl.accept(d)){var ae=($={guid:Pm++,evtName:W},$[Ju]=T,$.capture=k,$);nl(d,W.type)[Ha](ae)}}catch{}return q}function eo(d,_,T,D,k){if(k===void 0&&(k=!1),d)try{var $=Iu(_,D),q=!1;ev(d,$,function(W){return $.ns&&!T||W[Ju]===T?(q=!0,!0):!1}),q||Wv(d,$,T,k)}catch{}}function vd(d,_,T){var D=!1,k=ti();k&&(D=al(k,d,_,T),D=al(k.body,d,_,T)||D);var $=On();return $&&(D=al($,d,_,T)||D),D}function il(d,_,T){var D=ti();D&&(eo(D,d,_,T),eo(D.body,d,_,T));var k=On();k&&eo(k,d,_,T)}function Ra(d,_,T,D){var k=!1;return _&&d&&d[zr]>0&&hr(d,function($){$&&(!T||Vo(T,$)===-1)&&(k=vd($,_,D)||k)}),k}function to(d,_,T,D){var k=!1;return _&&d&&Gt(d)&&(k=Ra(d,_,T,D),!k&&T&&T[zr]>0&&(k=Ra(d,_,null,D))),k}function nf(d,_,T){d&&Gt(d)&&hr(d,function(D){D&&il(D,_,T)})}function Zv(d,_,T){return to([dd,fd,zs],d,_,T)}function Xv(d,_){nf([dd,fd,zs],d,_)}function ha(d,_,T){function D(q){var W=On();d&&W&&W.visibilityState==="hidden"&&d(q)}var k=pd(tf,T),$=Ra([zs],d,_,k);return(!_||Vo(_,fs)===-1)&&($=Ra([fs],D,_,k)||$),!$&&_&&($=ha(d,null,T)),$}function ol(d,_){var T=pd(tf,_);nf([zs],d,T),nf([fs],null,T)}function af(d,_,T){function D(q){var W=On();d&&W&&W.visibilityState==="visible"&&d(q)}var k=pd(di,T),$=Ra([ef],d,_,k);return $=Ra([fs],D,_,k)||$,!$&&_&&($=af(d,null,T)),$}function Rm(d,_){var T=pd(di,_);nf([ef],d,T),nf([fs],null,T)}var Qv="",of="timings",ka="value",dp="kind",dc="length",sl="processTelemetryStart",Gs,sf="4.3.4",pp="1DS-Web-JS-"+sf,St=P.hasOwnProperty,Nu=(Gs={},Gs[0]=0,Gs[2]=6,Gs[1]=1,Gs[3]=7,Gs[4098]=6,Gs[4097]=1,Gs[4099]=7,Gs);function ko(d){return!(d===Qv||Qe(d))}function uf(d){if(d){var _=$d(d,"-");if(_>-1)return Bn(d,_)}return Qv}function km(d,_,T){if(!_&&!ko(_)||typeof d!="string")return null;var D=typeof _;if(D==="string"||D==="number"||D==="boolean"||Gt(_))_={value:_};else if(D==="object"&&!St.call(_,"value"))_={value:T?JSON.stringify(_):_};else if(Qe(_[ka])||_[ka]===Qv||!Nc(_[ka])&&!It(_[ka])&&!en(_[ka])&&!Gt(_[ka]))return null;if(Gt(_[ka])&&!mp(_[ka]))return null;if(!Qe(_[dp])){if(Gt(_[ka])||!em(_[dp]))return null;_[ka]=_[ka].toString()}return _}function cf(d,_,T){var D=-1;if(!Vt(d))if(_>0&&(_===32?D=8192:_<=13&&(D=_<<5)),vp(T))D===-1&&(D=0),D|=T;else{var k=Nu[pc(d)]||-1;D!==-1&&k!==-1?D|=k:k===6&&(D=k)}return D}function md(d,_,T,D,k){var $={},q=!1,W=0,ae=arguments[dc],ie=arguments;for(en(ie[0])&&(q=ie[0],W++);W<ae;W++){var d=ie[W];qr(d,function($e,je){q&&je&&vo(je)?Gt(je)?($[$e]=$[$e]||[],hr(je,function(Ie,ve){Ie&&vo(Ie)?$[$e][ve]=md(!0,$[$e][ve],Ie):$[$e][ve]=Ie})):$[$e]=md(!0,$[$e],je):$[$e]=je})}return $}var Oo=Yd;function em(d){return d===0||d>0&&d<=13||d===32}function vp(d){return d>=0&&d<=9}function mp(d){return d[dc]>0}function lf(d,_){var T=d;T[of]=T[of]||{},T[of][sl]=T[of][sl]||{},T[of][sl][_]=Oo()}function pc(d){var _=0;if(d!=null){var T=typeof d;T==="string"?_=1:T==="number"?_=2:T==="boolean"?_=3:T===u&&(_=4,Gt(d)?(_=4096,d[dc]>0&&(_|=pc(d[0]))):St.call(d,"value")&&(_=8192|pc(d[ka])))}return _}function tv(){return!!sn("chrome")}function Yr(d){return d>0}var Vs="",rv="drop",Du="send",ro="requeue",Ln="rspFail",hd="oth",vc="no-cache, no-store",ul="application/x-json-stream",ds="cache-control",no="content-type",Mo="kill-tokens",_d="kill-duration",hp="time-delta-millis",nv="client-version",ps="client-id",av="time-delta-to-apply-millis",gd="upload-time",iv="apikey",vs="AuthMsaDeviceTicket",Om="WebAuthToken",Cu="AuthXToken",ov="NoResponseBody",f="msfpc",m="trace",y="user",I="allowRequestSending",F="firstRequestSent",V="shouldAddClockSkewHeaders",J="getClockSkewHeaderValue",re="setClockSkew",te="length",_e="concat",et="iKey",Tt="count",Zt="events",ot="push",lt="split",ir="splice",Lt="toLowerCase",gr="hdrs",br="useHdrs",Rt="initialize",En="setTimeoutOverride",mc="clearTimeoutOverride",Hs="payloadPreprocessor",cl="overrideEndpointUrl",ff="avoidOptions",yd="disableEventTimings",df="stringifyObjects",pf="enableCompoundKey",Sd="disableXhrSync",vf="disableFetchKeepAlive",Pe="addNoResponse",vt="excludeCsMetaData",$t="useSendBeacon",rn="fetchCredentials",ba="alwaysUseXhrOverride",Ea="unloadTransports",Xn="serializeOfflineEvt",pi="getOfflineRequestDetails",ms="createPayload",ll="createOneDSPayload",tm="payloadBlob",xu="headers",bd="_thePayload",Mm="urlString",Qn="batches",hs="sendType",rm="addHeader",Lm="canSendRequest",sv="sendQueuedRequests",Fm="isCompletelyIdle",Um="setUnloading",Gh="isTenantKilled",jm="resume",Ym="sendSynchronousBatch",fl="_transport",mf="getWParam",Ks="isBeacon",dl="timings",$m="isTeardown",nm="isSync",uv="data",cv="timeout",Ed="_sendReason",uh="setKillSwitchTenants",qm="_backOffTransmission",_p="identifier",pl="disableOptimizeObj",P_="ignoreMc1Ms0CookieProcessing",ch="eventsLimitInMem",Vh="autoFlushEventsLimit",Bm="disableAutoBatchFlushLimit",A_="overrideInstrumentationKey",hf="disableTelemetry",lv="baseData",am="sendAttempt",_f="latency",fv="sync";function lh(d){var _=(d.ext||{}).intweb;return _&&ko(_[f])?_[f]:null}function Hh(d){for(var _=null,T=0;_===null&&T<d[te];T++)_=lh(d[T]);return _}var Td=function(){function d(_,T){var D=T?[][_e](T):[],k=this,$=Hh(D);k[et]=function(){return _},k.Msfpc=function(){return $||Vs},k[Tt]=function(){return D[te]},k[Zt]=function(){return D},k.addEvent=function(q){return q?(D[ot](q),$||($=lh(q)),!0):!1},k[lt]=function(q,W){var ae;if(q<D[te]){var ie=D[te]-q;Qe(W)||(ie=W<ie?W:ie),ae=D[ir](q,ie),$=Hh(D)}return new d(_,ae)}}return d.create=function(_,T){return new d(_,T)},d}(),Kh=function(){function d(){var _=!0,T=!0,D=!0,k="use-collector-delta",$=!1;Hi(d,this,function(q){q[I]=function(){return _},q[F]=function(){D&&(D=!1,$||(_=!1))},q[V]=function(){return T},q[J]=function(){return k},q[re]=function(W){$||(W?(k=W,T=!0,$=!0):T=!1,_=!0)}})}return d.__ieDyn=1,d}(),R_=1e3,fh=function(){function d(){var _={};function T(D){var k=[];return D&&hr(D,function($){k[ot](Ei($))}),k}Hi(d,this,function(D){D[uh]=function(k,$){if(k&&$)try{var q=T(k[lt](","));if($==="this-request-only")return q;for(var W=parseInt($,10)*R_,ae=0;ae<q[te];++ae)_[q[ae]]=bi()+W}catch{return[]}return[]},D[Gh]=function(k){var $=_,q=Ei(k);return $[q]!==void 0&&$[q]>bi()?!0:(delete $[q],!1)}})}return d.__ieDyn=1,d}(),im=.8,dh=1.2,zm=3e3,dv=6e5;function wd(d){return!(d>=300&&d<500&&d!=429||d==501||d==505)}function ph(d){var _=0,T=zm*im,D=zm*dh,k=Math.floor(Math.random()*(D-T))+T;return _=Math.pow(2,d)*k,Math.min(_,dv)}var om=20,Gr=3984588,Ws=65e3,Id=2e6,gp=Math.min(Id,Ws),pv="metadata",sm="f",gf=/\./,Nd=function(){function d(_,T,D,k,$,q){var W="data",ae="baseData",ie="ext",De=!!k,$e=!0,je=T,Ie={},ve=!!q,Fe=$||cf;Hi(d,this,function(Ee){Ee.createPayload=function(Te,qe,qt,Xt,or,Dr){return{apiKeys:[],payloadBlob:Vs,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:Te,isTeardown:qe,isSync:qt,isBeacon:Xt,sendType:Dr,sendReason:or}},Ee.appendPayload=function(Te,qe,qt){var Xt=Te&&qe&&!Te.overflow;return Xt&&ma(_,function(){return"Serializer:appendPayload"},function(){for(var or=qe.events(),Dr=Te.payloadBlob,Mr=Te.numEvents,ln=!1,nn=[],Qt=[],ea=Te.isBeacon,We=ea?Ws:Gr,ft=ea?gp:Id,yr=0,cr=0;yr<or.length;){var wt=or[yr];if(wt){if(Mr>=qt){Te.overflow=qe.split(yr);break}var xr=Ee.getEventBlob(wt);if(xr&&xr.length<=ft){var Nt=xr.length,Oa=Dr.length;if(Oa+Nt>We){Te.overflow=qe.split(yr);break}Dr&&(Dr+=`
`),Dr+=xr,cr++,cr>om&&(bn(Dr,0,1),cr=0),ln=!0,Mr++}else xr?nn.push(wt):Qt.push(wt),or.splice(yr,1),yr--}yr++}if(nn.length>0&&Te.sizeExceed.push(Td.create(qe.iKey(),nn)),Qt.length>0&&Te.failedEvts.push(Td.create(qe.iKey(),Qt)),ln){Te.batches.push(qe),Te.payloadBlob=Dr,Te.numEvents=Mr;var ut=qe.iKey();Vo(Te.apiKeys,ut)===-1&&Te.apiKeys.push(ut)}},function(){return{payload:Te,theBatch:{iKey:qe.iKey(),evts:qe.events()},max:qt}}),Xt},Ee.getEventBlob=function(Te){try{return ma(_,function(){return"Serializer.getEventBlob"},function(){var qe={};qe.name=Te.name,qe.time=Te.time,qe.ver=Te.ver,qe.iKey="o:"+uf(Te.iKey);var qt={},Xt;ve||(Xt=function(ln,nn,Qt){Wh(Fe,qt,ln,nn,Qt)});var or=Te[ie];or&&(qe[ie]=qt,qr(or,function(ln,nn){var Qt=qt[ln]={};Ce(nn,Qt,"ext."+ln,!0,null,null,!0)}));var Dr=qe[W]={};Dr.baseType=Te.baseType;var Mr=Dr[ae]={};return Ce(Te.baseData,Mr,ae,!1,[ae],Xt,$e),Ce(Te.data,Dr,W,!1,[],Xt,$e),JSON.stringify(qe)},function(){return{item:Te}})}catch{return null}};function He(Te,qe){var qt=Ie[Te];return qt===void 0&&(Te.length>=7&&(qt=Wn(Te,"ext.metadata")||Wn(Te,"ext.web")),Ie[Te]=qt),qt}function Ce(Te,qe,qt,Xt,or,Dr,Mr){qr(Te,function(ln,nn){var Qt=null;if(nn||ko(nn)){var ea=qt,We=ln,ft=or,yr=qe;if(De&&!Xt&&gf.test(ln)){var cr=ln.split("."),wt=cr.length;if(wt>1){ft&&(ft=ft.slice());for(var xr=0;xr<wt-1;xr++){var Nt=cr[xr];yr=yr[Nt]=yr[Nt]||{},ea+="."+Nt,ft&&ft.push(Nt)}We=cr[wt-1]}}var Oa=Xt&&He(ea);if(!Oa&&je&&je.handleField(ea,We)?Qt=je.value(ea,We,nn,D):Qt=km(We,nn,D),Qt){var ut=Qt.value;if(yr[We]=ut,Dr&&Dr(ft,We,Qt),Mr&&typeof ut=="object"&&!Gt(ut)){var Tn=ft;Tn&&(Tn=Tn.slice(),Tn.push(We)),Ce(nn,ut,ea+"."+We,Xt,Tn,Dr,Mr)}}}})}})}return d.__ieDyn=1,d}();function Wh(d,_,T,D,k){if(k&&_){var $=d(k.value,k.kind,k.propertyType);if($>-1){var q=_[pv];q||(q=_[pv]={f:{}});var W=q[sm];if(W||(W=q[sm]={}),T)for(var ae=0;ae<T.length;ae++){var ie=T[ae];W[ie]||(W[ie]={f:{}});var De=W[ie][sm];De||(De=W[ie][sm]={}),W=De}W=W[D]={},Gt(k.value)?W.a={t:$}:W.t=$}}}function yp(d,_){return{set:function(T,D){for(var k=[],$=2;$<arguments.length;$++)k[$-2]=arguments[$];return jp([d,_],T,D,k)}}}var vl,hc="sendAttempt",Lo="&"+ov+"=true",Js="?cors=true&"+no[Lt]()+"="+ul,ml=(vl={},vl[1]=ro,vl[100]=ro,vl[200]="sent",vl[8004]=rv,vl[8003]=rv,vl),yf={},Pu={};function Au(d,_,T){yf[d]=_,T!==!1&&(Pu[_]=d)}Au(vs,vs,!1),Au(nv,nv),Au(ps,"Client-Id"),Au(iv,iv),Au(av,av),Au(gd,gd),Au(Cu,Cu);function Sp(d,_){var T=!1;if(d&&_){var D=Wr(d);if(D&&D[te]>0)for(var k=_[Lt](),$=0;$<D[te];$++){var q=D[$];if(q&&rr(_,q)&&q[Lt]()===k){T=!0;break}}}return T}function Dd(d,_,T,D){_&&T&&T[te]>0&&(D&&yf[_]?(d[gr][yf[_]]=T,d[br]=!0):d.url+="&"+_+"="+T)}function Jh(d,_,T){for(var D=0;D<d[te];D++)if(d[D].name===_){d[D].value=T;return}d[ot]({name:_,value:T})}function vv(d,_){for(var T=0;T<d[te];T++)if(d[T].name===_){d[ir](T,1);return}}var _c=function(){function d(_,T,D,k){var $,q,W,ae,ie=!1,De,$e,je,Ie,ve,Fe,Ee,He,Ce,Te,qe,qt,Xt,or,Dr,Mr,ln,nn,Qt,ea,We,ft,yr,cr,wt,xr,Nt,Oa;Hi(d,this,function(ut){Li();var Tn=!0;ut[Rt]=function(a,c,p){cr||(ve=c,qt=c.getCookieMgr(),$e=p,je=$e.diagLog(),Yf(ea,Ys(a,function(g){var E,C=g.cfg,R=g.cfg.extensionConfig[p.identifier];wt=yp(R[En],R[mc]),ko(C.anonCookieName)?Jh(Ee,"anoncknm",C.anonCookieName):vv(Ee,"anoncknm"),We=R[Hs],ft=R.payloadListener;var x=R.httpXHROverride,M=R[cl]?R[cl]:C.endpointUrl;$=M+Js,or=Vt(R[ff])?!0:!R[ff],qe=!R[yd];var U=R.valueSanitizer,z=R[df],G=!!C[pf];Vt(R[pf])||(G=!!R[pf]),Dr=R.xhrTimeout,Mr=!!R[Sd],ln=!!R[vf],Qt=R[Pe]!==!1,xr=!!R[vt],c.getPlugin("LocalStorage")&&(ln=!0),ie=!la(),Te=new Nd(ve,U,z,G,cf,xr),Qe(R[$t])||(ie=!!R[$t]),R[rn]&&(Oa=R[rn]);var K=mi();Nt?Nt.SetConfig(K):(Nt=new xm,Nt[Rt](K,je));var ee=x,Z=R[ba]?x:null,he=R[ba]?x:null,ge=[3,2];if(!x){Fe=!1;var Le=[];la()?(Le=[2,1],ge=[2,1,3]):Le=[1,2,3],Le=rc(Le,R.transports),x=wn(Le,!1),x||Bs(je,"No available transport to send events"),ee=wn(Le,!0)}Z||(ge=rc(ge,R[Ea]),Z=wn(ge,!0)),nn=!Fe&&(ie&&rd()||!ln&&Bc(!0)),Ie=(E={},E[0]=x,E[1]=ee||wn([1,2,3],!0),E[2]=Z||ee||wn([1],!0),E[3]=he||wn([2,3],!0)||ee||wn([1],!0),E)})),cr=!0)},ut.addResponseHandler=function(a){return yr[ot](a),{rm:function(){var c=yr.indexOf(a);c>=0&&yr[ir](c,1)}}},ut[Xn]=function(a){try{if(Te)return Te.getEventBlob(a)}catch{}return Vs},ut[pi]=function(){try{var a=Te&&Te[ms](0,!1,!1,!1,1,0);return Ef(a,or)}catch{}return null},ut[ll]=function(a,c){try{var p=[];hr(a,function(x){c&&(x=Po(x));var M=Td.create(x[et],[x]);p[ot](M)});for(var g=null;p[te]>0&&Te;){var E=p.shift();E&&E[Tt]()>0&&(g=g||Te[ms](0,!1,!1,!1,1,0),Te.appendPayload(g,E,_))}var C=Ef(g,or),R={data:g[tm],urlString:C.url,headers:C[gr],timeout:Dr,disableXhrSync:Mr,disableFetchKeepAlive:ln};return or&&(Sp(R[xu],ds)||(R[xu][ds]=vc),Sp(R[xu],no)||(R[xu][no]=ul)),R}catch{}return null};function wn(a,c){try{return Nt&&Nt.getSenderInst(a,c)}catch{}return null}ut._getDbgPlgTargets=function(){return[Ie[0],q,Te,Ie,mi(),$]};function mi(){try{var a={xdrOnComplete:gc,fetchOnComplete:bf,xhrOnComplete:_s,beaconOnRetry:Xs},c={enableSendPromise:!1,isOneDs:!0,disableCredentials:!Tn,fetchCredentials:Oa,disableXhr:!1,disableBeacon:!ie,disableBeaconSync:!ie,disableFetchKeepAlive:ln,timeWrapper:wt,addNoResponse:Qt,senderOnCompleteCallBack:a};return c}catch{}return null}function gc(a,c,p){var g=Ja(a);Fo(c,200,{},g),Ru(g)}function Li(){var a;$=null,q=new fh,W=!1,ae=new Kh,ie=!1,De=0,$e=null,je=null,Ie=null,ve=null,Fe=!0,Ee=[],He={},Ce=[],Te=null,qe=!1,qt=null,Xt=!1,or=!1,Dr=a,Mr=a,ln=a,nn=a,Qt=a,ea=[],We=a,ft=a,yr=[],cr=!1,wt=yp(),xr=!1,Nt=null}function bf(a,c,p,g){var E=function(x,M,U){Fo(c,x,M,U),Ru(U)},C={},R=a[xu];R&&R.forEach(function(x,M){C[M]=x}),E(a.status,C,p||Vs)}function _s(a,c,p){var g=Ja(a);Fo(c,a.status,ic(a,!0),g),Ru(g)}function Fo(a,c,p,g){try{a(c,p,g)}catch(E){pa(je,2,518,lr(E))}}function Xs(a,c,p){var g=a,E=200,C=g[bd],R=a[Mm]+(Qt?Lo:Vs);try{var x=sa();if(C){var M=!!ve.getPlugin("LocalStorage"),U=[],z=[];hr(C[Qn],function(G){if(U&&G&&G[Tt]()>0)for(var K=G[Zt](),ee=0;ee<K[te];ee++)if(x.sendBeacon(R,Te.getEventBlob(K[ee])))z[ot](G[ee]);else{U[ot](G[lt](ee));break}else U[ot](G[lt](0))}),z[te]>0&&(C.sentEvts=z),M||hi(U,8003,C[hs],!0)}else E=0}catch(G){Bs(je,"Failed to send telemetry using sendBeacon API. Ex:"+lr(G)),E=0}finally{Fo(c,E,{},Vs)}}function ta(a){return a===2||a===3}function Zr(a){return Xt&&ta(a)&&(a=2),a}ut[rm]=function(a,c){He[a]=c},ut.removeHeader=function(a){delete He[a]},ut[Lm]=function(){return ra()&&ae[I]()},ut[sv]=function(a,c){Vt(a)&&(a=0),Xt&&(a=Zr(a),c=2),Qs(Ce,a,0)&&Fi(Ma(),0,!1,a,c||0)},ut[Fm]=function(){return!W&&De===0&&Ce[te]===0},ut[Um]=function(a){Xt=a},ut.addBatch=function(a){if(a&&a[Tt]()>0){if(q.isTenantKilled(a[et]()))return!1;Ce[ot](a)}return!0},ut.teardown=function(){Ce[te]>0&&Fi(Ma(),0,!0,2,2),hr(ea,function(a){a&&a.rm&&a.rm()}),ea=[]},ut.pause=function(){W=!0},ut[jm]=function(){W=!1,ut[sv](0,4)},ut[Ym]=function(a,c,p){a&&a[Tt]()>0&&(Qe(c)&&(c=1),Xt&&(c=Zr(c),p=2),Fi([a],0,!1,c,p||0))};function ra(){return!W&&De<T}function Ma(){var a=Ce;return Ce=[],a}function Qs(a,c,p){var g=!1;return a&&a[te]>0&&!W&&Ie[c]&&Te&&(g=c!==0||ra()&&(p>0||ae[I]())),g}function yc(a){var c={};return a&&hr(a,function(p,g){c[g]={iKey:p[et](),evts:p[Zt]()}}),c}function Fi(a,c,p,g,E){if(!(!a||a[te]===0)){if(W){hi(a,1,g);return}g=Zr(g);try{var C=a,R=g!==0;ma(ve,function(){return"HttpManager:_sendBatches"},function(x){x&&(a=a.slice(0));for(var M=[],U=null,z=Oo(),G=Ie[g]||(R?Ie[1]:Ie[0]),K=G&&G[fl],ee=nn&&(Xt||ta(g)||K===3||G._isSync&&K===2);Qs(a,g,c);){var Z=a.shift();Z&&Z[Tt]()>0&&(q.isTenantKilled(Z[et]())?M[ot](Z):(U=U||Te[ms](c,p,R,ee,E,g),Te.appendPayload(U,Z,_)?U.overflow!==null&&(a=[U.overflow][_e](a),U.overflow=null,um(U,z,Oo(),E),z=Oo(),U=null):(um(U,z,Oo(),E),z=Oo(),a=[Z][_e](a),U=null)))}U&&um(U,z,Oo(),E),a[te]>0&&(Ce=a[_e](Ce)),hi(M,8004,g)},function(){return{batches:yc(C),retryCount:c,isTeardown:p,isSynchronous:R,sendReason:E,useSendBeacon:ta(g),sendType:g}},!R)}catch(x){pa(je,2,48,"Unexpected Exception sending batch: "+lr(x))}}}function Ef(a,c){var p={url:$,hdrs:{},useHdrs:!1};c?(p[gr]=md(p[gr],He),p.useHdrs=Wr(p.hdrs)[te]>0):qr(He,function(x,M){Pu[x]?Dd(p,Pu[x],M,!1):(p[gr][x]=M,p[br]=!0)}),Dd(p,ps,"NO_AUTH",c),Dd(p,nv,pp,c);var g=Vs;hr(a.apiKeys,function(x){g[te]>0&&(g+=","),g+=x}),Dd(p,iv,g,c),Dd(p,gd,bi().toString(),c);var E=gv(a);if(ko(E)&&(p.url+="&ext.intweb.msfpc="+E),ae[V]()&&Dd(p,av,ae[J](),c),ve[mf]){var C=ve[mf]();C>=0&&(p.url+="&w="+C)}for(var R=0;R<Ee[te];R++)p.url+="&"+Ee[R].name+"="+Ee[R].value;return p}function eu(a,c,p){a[c]=a[c]||{},a[c][$e.identifier]=p}function um(a,c,p,g){if(a&&a.payloadBlob&&a.payloadBlob[te]>0){var E=!!We,C=Ie[a.sendType];!ta(a[hs])&&a[Ks]&&a.sendReason===2&&(C=Ie[2]||Ie[3]||C);var R=or;(a.isBeacon||C[fl]===3)&&(R=!1);var x=Ef(a,R);R=R||x[br];var M=Oo();ma(ve,function(){return"HttpManager:_doPayloadSend"},function(){for(var U=0;U<a.batches[te];U++)for(var z=a[Qn][U],G=z[Zt](),K=0;K<G[te];K++){var ee=G[K];if(qe){var Z=ee[dl]=ee[dl]||{};eu(Z,"sendEventStart",M),eu(Z,"serializationStart",c),eu(Z,"serializationCompleted",p)}ee[hc]>0?ee[hc]++:ee[hc]=1}hi(a[Qn],1e3+(g||0),a[hs],!0);var he={data:a[tm],urlString:x.url,headers:x[gr],_thePayload:a,_sendReason:g,timeout:Dr,disableXhrSync:Mr,disableFetchKeepAlive:ln};R&&(Sp(he[xu],ds)||(he[xu][ds]=vc),Sp(he[xu],no)||(he[xu][no]=ul));var ge=null;C&&(ge=function(Le){ae[F]();var Be=function(nr,sr){Tf(nr,sr,a,g)},Ze=a[$m]||a[nm];try{C.sendPOST(Le,Be,Ze),ft&&ft(he,Le,Ze,a[Ks])}catch(nr){Bs(je,"Unexpected exception sending payload. Ex:"+lr(nr)),Fo(Be,0,{})}}),ma(ve,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(ge)if(a[hs]===0&&De++,E&&!a.isBeacon&&C[fl]!==3){var Le={data:he[uv],urlString:he[Mm],headers:md({},he[xu]),timeout:he[cv],disableXhrSync:he[Sd],disableFetchKeepAlive:he[vf]},Be=!1;ma(ve,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{We(Le,function(Ze){Be=!0,!Fe&&!Ze[bd]&&(Ze[bd]=Ze[bd]||he[bd],Ze[Ed]=Ze[Ed]||he[Ed]),ge(Ze)},a.isSync||a[$m])}catch{Be||ge(he)}})}else ge(he)})},function(){return{thePayload:a,serializationStart:c,serializationCompleted:p,sendReason:g}},a[nm])}a.sizeExceed&&a.sizeExceed[te]>0&&hi(a.sizeExceed,8003,a[hs]),a.failedEvts&&a.failedEvts[te]>0&&hi(a.failedEvts,8002,a[hs])}function Sc(a,c){qe&&hr(a,function(p){var g=p[dl]=p[dl]||{};eu(g,"sendEventCompleted",c)})}function Tf(a,c,p,g){var E=9e3,C=null,R=!1,x=!1;try{var M=!0;if(typeof a!==h){if(c){ae[re](c[hp]);var U=c[_d]||c["kill-duration-seconds"];hr(q[uh](c[Mo],U),function(G){hr(p[Qn],function(K){if(K[et]()===G){C=C||[];var ee=K[lt](0);p.numEvents-=ee[Tt](),C[ot](ee)}})})}if(a==200||a==204){E=200;return}(!wd(a)||p.numEvents<=0)&&(M=!1),E=9e3+a%1e3}if(M){E=100;var z=p.retryCnt;p[hs]===0&&(z<D?(R=!0,wf(function(){p[hs]===0&&De--,Fi(p[Qn],z+1,p[$m],Xt?2:p[hs],5)},Xt,ph(z))):(x=!0,Xt&&(E=8001)))}}finally{R||(ae[re](),_a(p,E,g,x)),hi(C,8004,p[hs])}}function _a(a,c,p,g){try{g&&$e[qm]();var E=a[Qn];c===200&&(E=a.sentEvts||a[Qn],!g&&!a[nm]&&$e._clearBackOff(),wp(E)),hi(E,c,a[hs],!0)}finally{a[hs]===0&&(De--,p!==5&&ut.sendQueuedRequests(a[hs],p))}}function wp(a){if(qe){var c=Oo();hr(a,function(p){p&&p[Tt]()>0&&Sc(p[Zt](),c)})}}function wf(a,c,p){c?a():wt.set(a,p)}function gv(a){for(var c=0;c<a.batches[te];c++){var p=a[Qn][c].Msfpc();if(p)return encodeURIComponent(p)}return Vs}function Ru(a){var c=yr;try{for(var p=0;p<c[te];p++)try{c[p](a)}catch(E){pa(je,1,519,"Response handler failed: "+E)}if(a){var g=JSON.parse(a);ko(g.webResult)&&ko(g.webResult[f])&&qt.set("MSFPC",g.webResult[f],365*86400)}}catch{}}function hi(a,c,p,g){if(a&&a[te]>0&&k){var E=k[If(c)];if(E){var C=p!==0;ma(ve,function(){return"HttpManager:_sendBatchesNotification"},function(){wf(function(){try{E.call(k,a,c,C,p)}catch(R){pa(je,1,74,"send request notification failed: "+R)}},g||C,0)},function(){return{batches:yc(a),reason:c,isSync:C,sendSync:g,sendType:p}},!C)}}}function If(a){var c=ml[a];return ko(c)||(c=hd,a>=9e3&&a<=9999?c=Ln:a>=8e3&&a<=8999?c=rv:a>=1e3&&a<=1999&&(c=Du)),c}})}return d.__ieDyn=1,d}(),Gm=.25,mv=500,Sf=20,hv=6,_v=2,vh=4,mh=2,Zh=1,vi=1e4,Zs="eventsDiscarded",bp="",Gn=void 0,Ep=ho({eventsLimitInMem:{isVal:Yr,v:vi},immediateEventLimit:{isVal:Yr,v:500},autoFlushEventsLimit:{isVal:Yr,v:0},disableAutoBatchFlushLimit:!1,httpXHROverride:{isVal:Tp,v:Gn},overrideInstrumentationKey:Gn,overrideEndpointUrl:Gn,disableTelemetry:!1,ignoreMc1Ms0CookieProcessing:!1,setTimeoutOverride:Gn,clearTimeoutOverride:Gn,payloadPreprocessor:Gn,payloadListener:Gn,disableEventTimings:Gn,valueSanitizer:Gn,stringifyObjects:Gn,enableCompoundKey:Gn,disableOptimizeObj:!1,fetchCredentials:Gn,transports:Gn,unloadTransports:Gn,useSendBeacon:Gn,disableFetchKeepAlive:Gn,avoidOptions:!1,xhrTimeout:Gn,disableXhrSync:Gn,alwaysUseXhrOverride:!1,maxEventRetryAttempts:{isVal:It,v:hv},maxUnloadEventRetryAttempts:{isVal:It,v:_v},addNoResponse:Gn,excludeCsMetaData:Gn});function Tp(d){return d&&d.sendPOST}var Xh=function(d){Ca(_,d);function _(){var T=d.call(this)||this;T.identifier="PostChannel",T.priority=1011,T.version="4.3.4";var D,k=!1,$=[],q,W=!1,ae=0,ie,De=0,$e,je={},Ie=t,ve,Fe,Ee,He,Ce,Te,qe,qt,Xt,or,Dr,Mr,ln,nn,Qt,ea,We,ft,yr,cr,wt,xr;return Hi(_,T,function(Nt,Oa){Zr(),Nt._getDbgPlgTargets=function(){return[Ce,D]},Nt[Rt]=function(x,M,U){ma(M,function(){return"PostChannel:initialize"},function(){Oa[Rt](x,M,U),yr=M.getNotifyMgr();try{Qt=pd(zn(Nt[_p]),M.evtNamespace&&M.evtNamespace()),Nt._addHook(Ys(x,function(z){var G=z.cfg,K=Jl(null,G,M);D=K.getExtCfg(Nt[_p],Ep),ea=yp(D[En],D[mc]),Dr=!D[pl]&&tv(),We=D[P_],Tn(M),$e=D[ch],ie=D.immediateEventLimit,qe=D[Vh],ln=D.maxEventRetryAttempts,nn=D.maxUnloadEventRetryAttempts,ft=D[Bm],Yt(G.endpointUrl)?Nt.pause():W&&Nt[jm](),R(),wt=D[A_],xr=!!D[hf],cr&&ut();var ee=G.disablePageUnloadEvents||[];cr=Zv(gc,ee,Qt),cr=ha(gc,ee,Qt)||cr,cr=af(Li,G.disablePageShowEvents,Qt)||cr})),Ce[Rt](x,Nt.core,Nt)}catch(z){throw Nt.setInitialized(!1),z}},function(){return{theConfig:x,core:M,extensions:U}})},Nt.processTelemetry=function(x,M){lf(x,Nt[_p]),M=M||Nt._getTelCtx(M);var U=x;!xr&&!k&&(wt&&(U[et]=wt),_s(U,!0),Mr?Qs(2,2):ta()),Nt.processNext(U,M)},Nt.getOfflineSupport=function(){try{var x=Ce&&Ce[pi]();if(Ce)return{getUrl:function(){return x?x.url:null},serialize:mi,batch:wn,shouldProcess:function(M){return!xr},createPayload:function(M){return null},createOneDSPayload:function(M){if(Ce[ll])return Ce[ll](M,Dr)}}}catch{}return null},Nt._doTeardown=function(x,M){Qs(2,2),k=!0,Ce.teardown(),ut(),Zr()};function ut(){Xv(null,Qt),ol(null,Qt),Rm(null,Qt)}function Tn(x){var M=x[mf];x[mf]=function(){var U=0;return We&&(U=U|2),U|M.call(x)}}function wn(x){var M=bp;return x&&x[te]&&hr(x,function(U){M&&(M+=`
`),M+=U}),M}function mi(x){var M=bp;try{bf(x),M=Ce[Xn](x)}catch{}return M}function gc(x){var M=x||ti().event;M.type!=="beforeunload"&&(Mr=!0,Ce[Um](Mr)),Qs(2,2)}function Li(x){Mr=!1,Ce[Um](Mr)}function bf(x){x.ext&&x.ext[m]&&delete x.ext[m],x.ext&&x.ext[y]&&x.ext[y].id&&delete x.ext[y].id,Dr&&(x.ext=Po(x.ext),x[lv]&&(x[lv]=Po(x[lv])),x[uv]&&(x[uv]=Po(x[uv])))}function _s(x,M){if(x[am]||(x[am]=0),x[_f]||(x[_f]=1),bf(x),x[fv]){if(Ee||W)x[_f]=3,x[fv]=!1;else if(Ce){Dr&&(x=Po(x)),Ce[Ym](Td.create(x[et],[x]),x[fv]===!0?1:x[fv],3);return}}var U=x[_f],z=De,G=$e;U===4&&(z=ae,G=ie);var K=!1;if(z<G)K=!eu(x,M);else{var ee=1,Z=Sf;U===4&&(ee=4,Z=1),K=!0,um(x[et],x[_f],ee,Z)&&(K=!eu(x,M))}K&&If(Zs,[x],So.QueueFull)}Nt.setEventQueueLimits=function(x,M){D[ch]=$e=Yr(x)?x:vi,D[Vh]=qe=Yr(M)?M:0,R();var U=De>x;if(!U&&qt>0)for(var z=1;!U&&z<=3;z++){var G=Te[z];G&&G[Qn]&&hr(G[Qn],function(K){K&&K[Tt]()>=qt&&(U=!0)})}Ef(!0,U)},Nt.pause=function(){Ma(),W=!0,Ce&&Ce.pause()},Nt[jm]=function(){W=!1,Ce&&Ce[jm](),ta()},Nt._loadTransmitProfiles=function(x){wf(),qr(x,function(M,U){var z=U[te];if(z>=2){var G=z>2?U[2]:0;if(U[ir](0,z-2),U[1]<0&&(U[0]=-1),U[1]>0&&U[0]>0){var K=U[0]/U[1];U[0]=Math.ceil(K)*U[1]}G>=0&&U[1]>=0&&G>U[1]&&(G=U[1]),U[ot](G),je[M]=U}})},Nt.flush=function(x,M,U){x===void 0&&(x=!0);var z;if(!W)if(U=U||1,x)M||(z=Ai(function(K){M=K})),q==null?(Ma(),Tf(1,0,U),q=ra(function(){q=null,_a(M,U)},0)):$[ot](M);else{var G=Ma();Fo(1,1,U),M&&M(),G&&ta()}return z},Nt.setMsaAuthTicket=function(x){Ce[rm](vs,x)},Nt.setAuthPluginHeader=function(x){Ce[rm](Om,x)},Nt.removeAuthPluginHeader=function(){Ce.removeHeader(Om)},Nt.hasEvents=Xs,Nt._setTransmitProfile=function(x){Ie!==x&&je[x]!==void 0&&(Ma(),Ie=x,ta())},Ol(Nt,function(){return Ce},["addResponseHandler"]);function Fo(x,M,U){var z=Tf(x,M,U);return Ce[sv](M,U),z}function Xs(){return De>0}function ta(){if(Xt>=0&&Tf(Xt,0,or)&&Ce[sv](0,or),ae>0&&!Fe&&!W){var x=je[Ie][2];x>=0&&(Fe=ra(function(){Fe=null,Fo(4,0,1),ta()},x))}var M=je[Ie][1];!ve&&!q&&M>=0&&!W&&(Xs()?ve=ra(function(){ve=null,Fo(He===0?3:1,0,1),He++,He%=2,ta()},M):He=0)}Nt[qm]=function(){Ee<vh&&(Ee++,Ma(),ta())},Nt._clearBackOff=function(){Ee&&(Ee=0,Ma(),ta())};function Zr(){D=null,k=!1,$=[],q=null,W=!1,ae=0,ie=500,De=0,$e=vi,je={},Ie=t,ve=null,Fe=null,Ee=0,He=0,Te={},qe=0,cr=!1,qt=0,Xt=-1,or=null,Dr=!0,Mr=!1,ln=hv,nn=_v,Qt=null,wt=null,xr=!1,ea=yp(),Ce=new _c(mv,mh,Zh,{requeue:Ru,send:c,sent:p,drop:g,rspFail:E,oth:C}),gv(),yc(),R()}function ra(x,M){M===0&&Ee&&(M=1);var U=1e3;return Ee&&(U=ph(Ee-1)),ea.set(x,M*U)}function Ma(){return ve!==null?(ve.cancel(),ve=null,He=0,!0):!1}function Qs(x,M){Ma(),q&&(q.cancel(),q=null),W||Fo(1,x,M)}function yc(){Te[4]={batches:[],iKeyMap:{}},Te[3]={batches:[],iKeyMap:{}},Te[2]={batches:[],iKeyMap:{}},Te[1]={batches:[],iKeyMap:{}}}function Fi(x,M,U){var z=Te[M];z||(M=1,z=Te[M]);var G=z.iKeyMap[x];return!G&&U&&(G=Td.create(x),z.batches[ot](G),z.iKeyMap[x]=G),G}function Ef(x,M){Ce[Lm]()&&!Ee&&(qe>0&&De>qe&&(M=!0),M&&q==null&&Nt.flush(x,function(){},20))}function eu(x,M){Dr&&(x=Po(x));var U=x[_f],z=Fi(x[et],U,!0);return z.addEvent(x)?(U!==4?(De++,M&&x[am]===0&&Ef(!x.sync,qt>0&&z[Tt]()>=qt)):ae++,!0):!1}function um(x,M,U,z){for(;U<=M;){var G=Fi(x,M,!0);if(G&&G[Tt]()>0){var K=G[lt](0,z),ee=K[Tt]();if(ee>0)return U===4?ae-=ee:De-=ee,a(Zs,[K],So.QueueFull),!0}U++}return Sc(),!1}function Sc(){for(var x=0,M=0,U=function(G){var K=Te[G];K&&K[Qn]&&hr(K[Qn],function(ee){G===4?x+=ee[Tt]():M+=ee[Tt]()})},z=1;z<=4;z++)U(z);De=M,ae=x}function Tf(x,M,U){var z=!1,G=M===0;return!G||Ce[Lm]()?ma(Nt.core,function(){return"PostChannel._queueBatches"},function(){for(var K=[],ee=4;ee>=x;){var Z=Te[ee];Z&&Z.batches&&Z.batches[te]>0&&(hr(Z[Qn],function(he){Ce.addBatch(he)?z=z||he&&he[Tt]()>0:K=K[_e](he[Zt]()),ee===4?ae-=he[Tt]():De-=he[Tt]()}),Z[Qn]=[],Z.iKeyMap={}),ee--}K[te]>0&&If(Zs,K,So.KillSwitch),z&&Xt>=x&&(Xt=-1,or=0)},function(){return{latency:x,sendType:M,sendReason:U}},!G):(Xt=Xt>=0?Math.min(Xt,x):x,or=Math.max(or,U)),z}function _a(x,M){Fo(1,0,M),Sc(),wp(function(){x&&x(),$[te]>0?q=ra(function(){q=null,_a($.shift(),M)},0):(q=null,ta())})}function wp(x){Ce[Fm]()?x():q=ra(function(){q=null,wp(x)},Gm)}function wf(){Ma(),gv(),Ie=t,ta()}function gv(){je={},je[t]=[2,1,0],je[r]=[6,3,0],je[n]=[18,9,0]}function Ru(x,M){var U=[],z=ln;Mr&&(z=nn),hr(x,function(G){G&&G[Tt]()>0&&hr(G[Zt](),function(K){K&&(K[fv]&&(K[_f]=4,K[fv]=!1),K[am]<z?(lf(K,Nt[_p]),_s(K,!1)):U[ot](K))})}),U[te]>0&&If(Zs,U,So.NonRetryableStatus),Mr&&Qs(2,2)}function hi(x,M){var U=yr||{},z=U[x];if(z)try{z.apply(U,M)}catch(G){pa(Nt.diagLog(),1,74,x+" notification failed: "+G)}}function If(x,M){for(var U=[],z=2;z<arguments.length;z++)U[z-2]=arguments[z];M&&M[te]>0&&hi(x,[M][_e](U))}function a(x,M){for(var U=[],z=2;z<arguments.length;z++)U[z-2]=arguments[z];M&&M[te]>0&&hr(M,function(G){G&&G[Tt]()>0&&hi(x,[G.events()][_e](U))})}function c(x,M,U){x&&x[te]>0&&hi("eventsSendRequest",[M>=1e3&&M<=1999?M-1e3:0,U!==!0])}function p(x,M){a("eventsSent",x,M),ta()}function g(x,M){a(Zs,x,M>=8e3&&M<=8999?M-8e3:So.Unknown)}function E(x){a(Zs,x,So.NonRetryableStatus),ta()}function C(x,M){a(Zs,x,So.Unknown),ta()}function R(){ft?qt=0:qt=Math.max(mv*(mh+1),$e/6)}}),T}return _.__ieDyn=1,_}(Xl);e.BE_PROFILE=n,e.NRT_PROFILE=r,e.PostChannel=Xh,e.RT_PROFILE=t})});var TS=Ad(Tv=>{"use strict";var uN=Tv&&Tv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),cN=Tv&&Tv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),ES=Tv&&Tv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&uN(t,e,r);return cN(t,e),t};Object.defineProperty(Tv,"__esModule",{value:!0});Tv.oneDataSystemClientFactory=void 0;var lN=async(e,t,r)=>{let n=await Promise.resolve().then(()=>ES(yS())),s=await Promise.resolve().then(()=>ES(bS())),u=new n.AppInsightsCore,h=new s.PostChannel,b={instrumentationKey:e,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[h]]};if(r){b.extensionConfig={};let j={alwaysUseXhrOverride:!0,httpXHROverride:r};b.extensionConfig[h.identifier]=j}let P=t.workspace.getConfiguration("telemetry").get("internalTesting");return u.initialize(b,[]),u.addTelemetryInitializer(j=>{j.ext=j.ext??{},j.ext.web=j.ext.web??{},j.ext.web.consentDetails='{"GPC_DataSharingOptIn":false}',P&&(j.ext.utc=j.ext.utc??{},j.ext.utc.flags=8462029)}),u},fN=async(e,t,r)=>{let n=await lN(e,t,r);return{logEvent:(h,b)=>{try{n==null||n.track({name:h,baseData:{name:h,properties:b==null?void 0:b.properties,measurements:b==null?void 0:b.measurements}})}catch(N){throw new Error(`Failed to log event to app insights!
`+N.message)}},flush:async()=>{try{return new Promise((b,N)=>{if(!n){b();return}n.flush(!0,P=>{if(!P){N("Failed to flush app 1DS!");return}})})}catch(h){throw new Error(`Failed to flush 1DS!
`+h.message)}},dispose:async()=>new Promise(b=>{if(!n){b();return}n.unload(!1,()=>{b(),n=void 0},1e3)})}};Tv.oneDataSystemClientFactory=fN});var IS=Ad((Pg,wS)=>{(function(e,t){typeof Pg=="object"&&typeof wS<"u"?t(Pg):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(Pg,function(e){"use strict";function t(f,m){return f||m}function r(f,m){return f[m]}var n=void 0,s=null,u="",h="function",b="object",N="prototype",P="__proto__",j="undefined",H="constructor",Q="Symbol",pe="_polyfill",ce="length",se="name",ue="call",Ne="toString",Ue=t(Object),rt=r(Ue,N),Re=t(String),nt=r(Re,N),Xe=t(Math),Ct=t(Array),Pt=r(Ct,N),pr=r(Pt,"slice");function wr(f,m){try{return{v:f.apply(this,m)}}catch(y){return{e:y}}}function $r(f){return function(m){return typeof m===f}}function po(f){var m="[object "+f+"]";return function(y){return!!(y&&ji(y)===m)}}function ji(f){return rt[Ne].call(f)}function Vr(f){return typeof f===j||f===j}function yn(f){return!Es(f)}function tt(f){return f===s||Vr(f)}function Es(f){return!!f||f!==n}var Ve=$r("string"),Ir=$r(h);function pn(f){return!f&&tt(f)?!1:!!f&&typeof f===b}var Vt=r(Ct,"isArray"),Bt=po("Error"),Qe=r(Ue,"getOwnPropertyDescriptor");function Cn(f,m){return!!f&&rt.hasOwnProperty[ue](f,m)}var at=t(r(Ue,"hasOwn"),Nc);function Nc(f,m){return Cn(f,m)||!!Qe(f,m)}function zt(f,m,y){if(f&&pn(f)){for(var I in f)if(at(f,I)&&m[ue](y||f,I,f[I])===-1)break}}var vo={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function Gt(f){var m={};if(m[vo.c]=!0,m[vo.e]=!0,f.l){m.get=function(){return f.l.v};var y=Qe(f.l,"v");y&&y.set&&(m.set=function(I){f.l.v=I})}return zt(f,function(I,F){m[vo[I]]=yn(F)?m[vo[I]]:F}),m}var It=r(Ue,"defineProperty");function en(f,m,y){return It(f,m,Gt(y))}function Yt(f,m,y,I,F){var V={};return zt(f,function(J,re){it(V,J,m?re:J,F),it(V,re,y?re:J,F)}),I?I(V):V}function it(f,m,y,I){It(f,m,{value:y,enumerable:!0,writable:!!I})}var rr=t(Re),ei="[object Error]";function bt(f,m){var y=u,I=rt[Ne][ue](f);I===ei&&(f={stack:rr(f.stack),message:rr(f.message),name:rr(f.name)});try{y=JSON.stringify(f,s,m?typeof m=="number"?m:4:n),y=(y?y.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):s)||rr(f)}catch(F){y=" - "+bt(F,m)}return I+": "+y}function qr(f){throw new Error(f)}function mo(f){throw new TypeError(f)}var $a=r(Ue,"freeze");function Hr(f){return f}function xn(f){return f[P]||s}var Yi=r(Ue,"assign"),Hn=r(Ue,"keys"),jr=t($a,Hr),Jt=t(r(Ue,"getPrototypeOf"),xn);function lr(f){return Yt(f,1,0,jr)}function Br(f){var m={};return zt(f,function(y,I){it(m,y,I[1]),it(m,I[0],I[1])}),jr(m)}function au(f){return Br(f)}var Kn="__tsUtils$gblCfg",Lf;function Fu(){var f;return typeof globalThis!==j&&(f=globalThis),!f&&typeof self!==j&&(f=self),!f&&typeof window!==j&&(f=window),!f&&typeof global!==j&&(f=global),f}function Wr(){if(!Lf){var f=wr(Fu).v||{};Lf=f[Kn]=f[Kn]||{}}return Lf}var ho=Ht;function Ht(f,m,y){var I=m?m[f]:s;return function(F){var V=(F?F[f]:s)||I;if(V||y){var J=arguments;return(V||y).apply(F,V?pr[ue](J,1):J)}mo('"'+rr(f)+'" not defined for '+bt(F))}}var Sn=r(Xe,"max"),qa=ho("slice",nt),$o=ho("substring",nt),$i=Ht("substr",nt,Md);function Md(f,m,y){return tt(f)&&mo("Invalid "+bt(f)),y<0?u:(m=m||0,m<0&&(m=Sn(m+f[ce],0)),Vr(y)?qa(f,m):qa(f,m,m+y))}function Uu(f,m){return $o(f,0,m)}var qn="_urid",yi;function qi(){if(!yi){var f=Wr();yi=f.gblSym=f.gblSym||{k:{},s:{}}}return yi}function ju(f){var m={description:rr(f),toString:function(){return Q+"("+f+")"}};return m[pe]=!0,m}function Ts(f){var m=qi();if(!at(m.k,f)){var y=ju(f),I=Hn(m.s).length;y[qn]=function(){return I+"_"+y[Ne]()},m.k[f]=y,m.s[y[qn]()]=rr(f)}return m.k[f]}var oa;function Nr(){oa=Wr()}function bn(f){return It({toJSON:function(){return f}},"v",{value:f})}var Si="window",Bn;function _o(f,m){var y;return function(){return!oa&&Nr(),(!y||oa.lzy)&&(y=bn(wr(f,m).v)),y.v}}function ws(f){return!oa&&Nr(),(!Bn||f===!1||oa.lzy)&&(Bn=bn(wr(Fu).v||s)),Bn.v}function Jr(f,m){var y;if(!Bn||m===!1?y=ws(m):y=Bn.v,y&&y[f])return y[f];if(f===Si)try{return window}catch{}return s}var Da=_o(Jr,["document"]);function Ld(){return!!Ff()}var Ff=_o(Jr,[Si]);function Fd(){return!!on()}var on=_o(Jr,["navigator"]),go,qo;function kn(){return go=bn(wr(Jr,[Q]).v),go}function Bo(f){var m=(oa.lzy?0:go)||kn();return m.v?m.v[f]:n}function iu(f,m){!oa&&Nr();var y=(oa.lzy?0:go)||kn();return y.v?y.v(f):m?s:ju(f)}function Ba(f){return!oa&&Nr(),qo=(oa.lzy?0:qo)||bn(wr(Bo,["for"]).v),(qo.v||Ts)(f)}function sn(f,m,y){return f.apply(m,y)}function On(f,m,y){if(f)for(var I=f[ce]>>>0,F=0;F<I&&!(F in f&&m[ue](y||f,f[F],F,f)===-1);F++);}var Yu=ho("indexOf",Pt),ti=ho("map",Pt),Tr=ho("reduce",Pt),sa=t(r(Ue,"create"),Uf);function Uf(f){if(!f)return{};var m=typeof f;m!==b&&m!==h&&mo("Prototype must be an Object or function: "+bt(f));function y(){}return y[N]=f,new y}var ga;function zo(f,m){var y=Ue.setPrototypeOf||function(I,F){var V;!ga&&(ga=bn((V={},V[P]=[],V instanceof Array))),ga.v?I[P]=F:zt(F,function(J,re){return I[J]=re})};return y(f,m)}function Dc(f,m,y){wr(en,[m,se,{v:f,c:!0,e:!1}]),m=zo(m,y);function I(){this[H]=m,wr(en,[this,se,{v:f,c:!0,e:!1}])}return m[N]=y===s?sa(y):(I[N]=y[N],new I),m}function Go(f,m){m&&(f[se]=m)}function jf(f,m,y){var I=y||Error,F=I[N][se],V=Error.captureStackTrace;return Dc(f,function(){var J=this,re=arguments;try{wr(Go,[I,f]);var te=sn(I,J,pr[ue](re))||J;if(te!==J){var _e=Jt(J);_e!==Jt(te)&&zo(te,_e)}return V&&V(te,J[H]),m&&m(te,re),te}finally{wr(Go,[I,F])}},I)}function tn(){return(Date.now||Sl)()}function Sl(){return new Date().getTime()}function za(f){return function(y){return tt(y)&&mo("strTrim called ["+bt(y)+"]"),y&&y.replace&&(y=y.replace(f,u)),y}}var Ud=za(/^\s+|(?=\s)\s+$/g),ri=Ht("trim",nt,Ud),Fp,ni,bl;function Bi(f){if(!f||typeof f!==b)return!1;bl||(bl=Ld()?Ff():!0);var m=!1;if(f!==bl){ni||(Fp=Function[N][Ne],ni=Fp[ue](Ue));try{var y=Jt(f);m=!y,m||(Cn(y,H)&&(y=y[H]),m=!!(y&&typeof y===h&&Fp[ue](y)===ni))}catch{}}return m}var Yf;function hr(){return!oa&&Nr(),(!Yf||oa.lzy)&&(Yf=bn(wr(Jr,["performance"]).v)),Yf.v}var Vo=Ht("endsWith",nt,$f);function $f(f,m,y){Ve(f)||mo("'"+bt(f)+"' is not a string");var I=Ve(m)?m:rr(m),F=!Vr(y)&&y<f[ce]?y:f[ce];return $o(f,F-I[ce],F)===I}var Ga=ho("indexOf",nt),Cc="ref",At="unref",ai="hasRef",$u="enabled";function El(f,m,y){var I=!0,F=f?m(s):s,V;function J(){return I=!1,F&&F[At]&&F[At](),V}function re(){F&&y(F),F=s}function te(){return F=m(F),I||J(),V}function _e(et){!et&&F&&re(),et&&!F&&te()}return V={cancel:re,refresh:te},V[ai]=function(){return F&&F[ai]?F[ai]():I},V[Cc]=function(){return I=!0,F&&F[Cc]&&F[Cc](),V},V[At]=J,V=It(V,$u,{get:function(){return!!F},set:_e}),{h:V,dn:function(){F=s}}}function kv(f,m,y){var I=Vt(m),F=I?m.length:0,V=(F>0?m[0]:I?n:m)||setTimeout,J=(F>1?m[1]:n)||clearTimeout,re=y[0];y[0]=function(){te.dn(),sn(re,n,pr[ue](arguments))};var te=El(f,function(_e){if(_e){if(_e.refresh)return _e.refresh(),_e;sn(J,n,[_e])}return sn(V,n,y)},function(_e){sn(J,n,[_e])});return te.h}function bi(f,m){return kv(!0,n,pr[ue](arguments))}var Tl=lr,jd=au,ou="toLowerCase",Ei="blkVal",dt="length",ua="rdOnly",su="notify",Is="warnToConsole",Yd="throwInternal",$d="setDf",Wn="watch",ii="logger",qd="apply",Ti="push",Va="splice",Im="hdlr",Ov="cancel",Up="name",uu="unload",jp="version",sh="loggingLevelConsole",Bd="messageId",Ca="message",wl="diagLog",Il="userAgent",zi="split",oi="nodeType",cu="replace",Yp="logInternalMessage",wi="type",zd="handler",qu="traceId",xc="spanId",Nl="traceFlags",qf="getAttribute",Gd;function $p(f,m){Gd||(Gd=jf("AggregationError",function(I,F){F[dt]>1&&(I.errors=F[1])}));var y=f||"One or more errors occurred.";throw On(m,function(I,F){y+=`
`.concat(F," > ").concat(bt(I))}),new Gd(y,m||[])}var qp="function",lu="object",Vd="undefined",Ns="prototype",Bu=Object,Ii=Bu[Ns];(ws()||{}).Symbol,(ws()||{}).Reflect;var Dl="hasOwnProperty",Bf=function(f){for(var m,y=1,I=arguments.length;y<I;y++){m=arguments[y];for(var F in m)Ii[Dl].call(m,F)&&(f[F]=m[F])}return f},Pc=Yi||Bf,Gi=function(f,m){return Gi=Bu.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,I){y.__proto__=I}||function(y,I){for(var F in I)I[Dl](F)&&(y[F]=I[F])},Gi(f,m)};function Mv(f,m){typeof m!==qp&&m!==null&&mo("Class extends value "+String(m)+" is not a constructor or null"),Gi(f,m);function y(){this.constructor=f}f[Ns]=m===null?sa(m):(y[Ns]=m[Ns],new y)}var Ho,yo="constructor",Vi="prototype",fu="function",zf="_dynInstFuncs",Ac="_isDynProxy",Rc="_dynClass",zu="_dynCls$",Gf="_dynInstChk",Cl=Gf,Vf="_dfOpts",Gu="_unknown_",Hi="__proto__",kc="_dyn"+Hi,So="__dynProto$Gbl",si="_dynInstProto",Ko="useBaseInst",zr="setInstFuncs",Ds=Object,Ki=Ds.getPrototypeOf,Oc=Ds.getOwnPropertyNames,Mc=ws(),Wo=Mc[So]||(Mc[So]={o:(Ho={},Ho[zr]=!0,Ho[Ko]=!0,Ho),n:1e3});function xl(f){return f&&(f===Ds[Vi]||f===Array[Vi])}function Jo(f){return xl(f)||f===Function[Vi]}function du(f){var m;if(f){if(Ki)return Ki(f);var y=f[Hi]||f[Vi]||(f[yo]?f[yo][Vi]:null);m=f[kc]||y,Cn(f,kc)||(delete f[si],m=f[kc]=f[si]||f[kc],f[si]=y)}return m}function Ha(f,m){var y=[];if(Oc)y=Oc(f);else for(var I in f)typeof I=="string"&&Cn(f,I)&&y.push(I);if(y&&y.length>0)for(var F=0;F<y.length;F++)m(y[F])}function Hd(f,m,y){return m!==yo&&typeof f[m]===fu&&(y||Cn(f,m))&&m!==Hi&&m!==Vi}function Vu(f){mo("DynamicProto: "+f)}function xa(f){var m=sa(null);return Ha(f,function(y){!m[y]&&Hd(f,y,!1)&&(m[y]=f[y])}),m}function Hf(f,m){for(var y=f.length-1;y>=0;y--)if(f[y]===m)return!0;return!1}function Kd(f,m,y,I){function F(te,_e,et){var Tt=_e[et];if(Tt[Ac]&&I){var Zt=te[zf]||{};Zt[Cl]!==!1&&(Tt=(Zt[_e[Rc]]||{})[et]||Tt)}return function(){return Tt.apply(te,arguments)}}var V=sa(null);Ha(y,function(te){V[te]=F(m,y,te)});for(var J=du(f),re=[];J&&!Jo(J)&&!Hf(re,J);)Ha(J,function(te){!V[te]&&Hd(J,te,!Ki)&&(V[te]=F(m,J,te))}),re.push(J),J=du(J);return V}function Pl(f,m,y,I){var F=null;if(f&&Cn(y,Rc)){var V=f[zf]||sa(null);if(F=(V[y[Rc]]||sa(null))[m],F||Vu("Missing ["+m+"] "+fu),!F[Gf]&&V[Cl]!==!1){for(var J=!Cn(f,m),re=du(f),te=[];J&&re&&!Jo(re)&&!Hf(te,re);){var _e=re[m];if(_e){J=_e===I;break}te.push(re),re=du(re)}try{J&&(f[m]=F),F[Gf]=1}catch{V[Cl]=!1}}}return F}function Al(f,m,y){var I=m[f];return I===y&&(I=du(m)[f]),typeof I!==fu&&Vu("["+f+"] is not a "+fu),I}function Wd(f,m,y,I,F){function V(te,_e){var et=function(){var Tt=Pl(this,_e,te,et)||Al(_e,te,et);return Tt.apply(this,arguments)};return et[Ac]=1,et}if(!xl(f)){var J=y[zf]=y[zf]||sa(null);if(!xl(J)){var re=J[m]=J[m]||sa(null);J[Cl]!==!1&&(J[Cl]=!!F),xl(re)||Ha(y,function(te){Hd(y,te,!1)&&y[te]!==I[te]&&(re[te]=y[te],delete y[te],(!Cn(f,te)||f[te]&&!f[te][Ac])&&(f[te]=V(f,te)))})}}}function Lv(f,m){if(Ki){for(var y=[],I=du(m);I&&!Jo(I)&&!Hf(y,I);){if(I===f)return!0;y.push(I),I=du(I)}return!1}return!0}function Hu(f,m){return Cn(f,Vi)?f.name||m||Gu:((f||{})[yo]||{}).name||m||Gu}function bo(f,m,y,I){Cn(f,Vi)||Vu("theClass is an invalid class definition.");var F=f[Vi];Lv(F,m)||Vu("["+Hu(f)+"] not in hierarchy of ["+Hu(m)+"]");var V=null;Cn(F,Rc)?V=F[Rc]:(V=zu+Hu(f,"_")+"$"+Wo.n,Wo.n++,F[Rc]=V);var J=bo[Vf],re=!!J[Ko];re&&I&&I[Ko]!==void 0&&(re=!!I[Ko]);var te=xa(m),_e=Kd(F,m,te,re);y(m,_e);var et=!!Ki&&!!J[zr];et&&I&&(et=!!I[zr]),Wd(F,V,m,te,et!==!1)}bo[Vf]=Wo.o;var Wi=void 0,vn="",Rl="Not dynamic - ",Ku=/-([a-z])/g,Wu=/([^\w\d_$])/g,Jd=/^(\d+[\w\d_$])/;function Ni(f){return!tt(f)}function pu(f){var m=f;return m&&Ve(m)&&(m=m[cu](Ku,function(y,I){return I.toUpperCase()}),m=m[cu](Wu,"_"),m=m[cu](Jd,function(y,I){return"_"+I})),m}function Cs(f,m){return f&&m?Ga(f,m)!==-1:!1}function ur(f){return f&&f.toISOString()||""}function Eo(f){return Bt(f)?f[Up]:vn}function Zo(f){return function(){function m(){var y=this;f&&zt(f,function(I,F){y[I]=F})}return m}()}var Di="console",Kf="JSON",Ci="crypto",vu="msCrypto",un="msie",Ka="trident/",kr=null,pt=null,Ju=null;function To(){return typeof console!==Vd?console:Jr(Di)}function xs(){return!!(typeof JSON===lu&&JSON||Jr(Kf)!==null)}function Ji(){return xs()?JSON||Jr(Kf):null}function mu(){return Jr(Ci)}function xi(){return Jr(vu)}function Lr(){var f=on();if(f&&(f[Il]!==pt||kr===null)){pt=f[Il];var m=(pt||vn)[ou]();kr=Cs(m,un)||Cs(m,Ka)}return kr}function wo(f){return(Ju===null||f===!1)&&(Ju=Fd()&&!!on().sendBeacon),Ju}function Or(f,m){if(f)for(var y=0;y<f[dt];y++){var I=f[y];if(I[Up]&&I[Up]===m)return I}return{}}function Io(f){var m=Da();return m&&f?Or(m.querySelectorAll("meta"),f).content:null}function Wf(f){var m,y=hr();if(y){var I=y.getEntriesByType("navigation")||[];m=Or((I[dt]>0?I[0]:{}).serverTiming,f).description}return m}var No=4294967296,Pn=4294967295,Zi=123456789,Xo=987654321,ya=!1,Pa=Zi,Lc=Xo;function Zu(f){f<0&&(f>>>=0),Pa=Zi+f&Pn,Lc=Xo-f&Pn,ya=!0}function Jf(){try{var f=tn()&2147483647;Zu((Math.random()*No^f)+f)}catch{}}function Ps(f){return f>0?Math.floor(Do()/Pn*(f+1))>>>0:0}function Do(f){var m=0,y=mu()||xi();return y&&y.getRandomValues&&(m=y.getRandomValues(new Uint32Array(1))[0]&Pn),m===0&&Lr()&&(ya||Jf(),m=Co()&Pn),m===0&&(m=Math.floor(No*Math.random()|0)),f||(m>>>=0),m}function Co(f){Lc=36969*(Lc&65535)+(Lc>>16)&Pn,Pa=18e3*(Pa&65535)+(Pa>>16)&Pn;var m=(Lc<<16)+(Pa&65535)>>>0&Pn|0;return f||(m>>>=0),m}function Xu(f){f===void 0&&(f=22);for(var m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y=Do()>>>0,I=0,F=vn;F[dt]<f;)I++,F+=m.charAt(y&63),y>>>=6,I===5&&(y=(Do()<<2&4294967295|y&3)>>>0,I=0);return F}var xo="3.3.4",Mn="."+Xu(6),Zf=0;function Qu(f){return f[oi]===1||f[oi]===9||!+f[oi]}function As(f,m){var y=m[f.id];if(!y){y={};try{Qu(m)&&en(m,f.id,{e:!1,v:y})}catch{}}return y}function ui(f,m){return m===void 0&&(m=!1),pu(f+Zf+++(m?"."+xo:vn)+Mn)}function Qo(f){var m={id:ui("_aiData-"+(f||vn)+"."+xo),accept:function(y){return Qu(y)},get:function(y,I,F,V){var J=y[m.id];return J?J[pu(I)]:(V&&(J=As(m,y),J[pu(I)]=F),F)},kill:function(y,I){if(y&&y[I])try{delete y[I]}catch{}}};return m}function Rs(f){return f&&pn(f)&&(f.isVal||f.fb||at(f,"v")||at(f,"mrg")||at(f,"ref")||f.set)}function Pi(f,m,y){var I,F=y.dfVal||Es;if(m&&y.fb){var V=y.fb;Vt(V)||(V=[V]);for(var J=0;J<V[dt];J++){var re=V[J],te=m[re];if(F(te)?I=te:f&&(te=f.cfg[re],F(te)&&(I=te),f.set(f.cfg,rr(re),te)),F(I))break}}return!F(I)&&F(y.v)&&(I=y.v),I}function Fc(f,m,y){var I=y;if(y&&Rs(y)&&(I=Pi(f,m,y)),I){Rs(I)&&(I=Fc(f,m,I));var F;Vt(I)?(F=[],F[dt]=I[dt]):Bi(I)&&(F={}),F&&(zt(I,function(V,J){J&&Rs(J)&&(J=Fc(f,m,J)),F[V]=J}),I=F)}return I}function hu(f,m,y,I){var F,V,J,re=I,te,_e,et,Tt;Rs(re)?(F=re.isVal,V=re.set,et=re[ua],Tt=re[Ei],te=re.mrg,_e=re.ref,!_e&&Vr(_e)&&(_e=!!te),J=Pi(f,m,re)):J=I,Tt&&f[Ei](m,y);var Zt,ot=!0,lt=m[y];(lt||!tt(lt))&&(Zt=lt,ot=!1,F&&Zt!==J&&!F(Zt)&&(Zt=J,ot=!0),V&&(Zt=V(Zt,J,m),ot=Zt===J)),ot?J?Zt=Fc(f,m,J):Zt=J:(Bi(Zt)||Vt(J))&&te&&J&&(Bi(J)||Vt(J))&&zt(J,function(ir,Lt){hu(f,Zt,ir,Lt)}),f.set(m,y,Zt),_e&&f.ref(m,y),et&&f[ua](m,y)}var ca=Ba("[[ai_dynCfg_1]]"),_u=Ba("[[ai_blkDynCfg_1]]"),ks=Ba("[[ai_frcDynCfg_1]]");function Ai(f){if(f){var m;if(Vt(f)?(m=[],m[dt]=f[dt]):Bi(f)&&(m={}),m)return zt(f,function(y,I){m[y]=Ai(I)}),m}return f}function ec(f){if(f){var m=f[ca]||f;if(m.cfg&&(m.cfg===f||m.cfg[ca]===m))return m}return null}function cn(f){if(f&&(Bi(f)||Vt(f)))try{f[_u]=!0}catch{}return f}function Jn(f,m,y){var I=!1;return y&&!f[m.blkVal]&&(I=y[ks],!I&&!y[_u]&&(I=Bi(y)||Vt(y))),I}function Ri(f){mo("InvalidAccess:"+f)}var tc=["push","pop","shift","unshift","splice"],es=function(f,m,y,I){f&&f[Yd](3,108,"".concat(y," [").concat(m,"] failed - ")+bt(I))};function Zd(f,m,y){Vt(m)&&On(tc,function(I){var F=m[I];m[I]=function(){for(var V=[],J=0;J<arguments.length;J++)V[J]=arguments[J];var re=F[qd](this,V);return Wa(f,m,y,"Patching"),re}})}function ci(f,m){var y=Qe(f,m);return y&&y.get}function Uc(f,m,y,I){var F={n:y,h:[],trk:function(_e){_e&&_e.fn&&(Yu(F.h,_e)===-1&&F.h[Ti](_e),f.trk(_e,F))},clr:function(_e){var et=Yu(F.h,_e);et!==-1&&F.h[Va](et,1)}},V=!0,J=!1;function re(){V&&(J=J||Jn(re,f,I),I&&!I[ca]&&J&&(I=Wa(f,I,y,"Converting")),V=!1);var _e=f.act;return _e&&F.trk(_e),I}re[f.prop]={chng:function(){f.add(F)}};function te(_e){if(I!==_e){re[f.ro]&&!f.upd&&Ri("["+y+"] is read-only:"+bt(m)),V&&(J=J||Jn(re,f,I),V=!1);var et=J&&re[f.rf];if(J)if(et){zt(I,function(Zt){I[Zt]=_e?_e[Zt]:Wi});try{zt(_e,function(Zt,ot){Sa(f,I,Zt,ot)}),_e=I}catch(Zt){es((f.hdlr||{})[ii],y,"Assigning",Zt),J=!1}}else I&&I[ca]&&zt(I,function(Zt){var ot=ci(I,Zt);if(ot){var lt=ot[f.prop];lt&&lt.chng()}});if(_e!==I){var Tt=_e&&Jn(re,f,_e);!et&&Tt&&(_e=Wa(f,_e,y,"Converting")),I=_e,J=Tt}f.add(F)}}en(m,F.n,{g:re,s:te})}function Sa(f,m,y,I){if(m){var F=ci(m,y),V=F&&!!F[f.prop];V?m[y]=I:Uc(f,m,y,I)}return m}function Xf(f,m,y,I){if(m){var F=ci(m,y),V=F&&!!F[f.prop],J=I&&I[0],re=I&&I[1],te=I&&I[2];if(!V){if(te)try{cn(m)}catch(_e){es((f.hdlr||{})[ii],y,"Blocking",_e)}try{Sa(f,m,y,m[y]),F=ci(m,y)}catch(_e){es((f.hdlr||{})[ii],y,"State",_e)}}J&&(F[f.rf]=J),re&&(F[f.ro]=re),te&&(F[f.blkVal]=!0)}return m}function Wa(f,m,y,I){try{zt(m,function(F,V){Sa(f,m,F,V)}),m[ca]||(It(m,ca,{get:function(){return f[Im]}}),Zd(f,m,y))}catch(F){es((f.hdlr||{})[ii],y,I,F)}return m}var ts="[[ai_",rs="]]";function Xd(f){var m,y=iu(ts+"get"+f.uid+rs),I=iu(ts+"ro"+f.uid+rs),F=iu(ts+"rf"+f.uid+rs),V=iu(ts+"blkVal"+f.uid+rs),J=iu(ts+"dtl"+f.uid+rs),re=null,te=null,_e;function et(lt,ir){var Lt=_e.act;try{_e.act=lt,lt&&lt[J]&&(On(lt[J],function(br){br.clr(lt)}),lt[J]=[]),ir({cfg:f.cfg,set:f.set.bind(f),setDf:f[$d].bind(f),ref:f.ref.bind(f),rdOnly:f[ua].bind(f)})}catch(br){var gr=f[ii];throw gr&&gr[Yd](1,107,bt(br)),br}finally{_e.act=Lt||null}}function Tt(){if(re){var lt=re;re=null,te&&te[Ov](),te=null;var ir=[];if(On(lt,function(Lt){if(Lt&&(Lt[J]&&(On(Lt[J],function(gr){gr.clr(Lt)}),Lt[J]=null),Lt.fn))try{et(Lt,Lt.fn)}catch(gr){ir[Ti](gr)}}),re)try{Tt()}catch(Lt){ir[Ti](Lt)}ir[dt]>0&&$p("Watcher error(s): ",ir)}}function Zt(lt){if(lt&&lt.h[dt]>0){re||(re=[]),te||(te=bi(function(){te=null,Tt()},0));for(var ir=0;ir<lt.h[dt];ir++){var Lt=lt.h[ir];Lt&&Yu(re,Lt)===-1&&re[Ti](Lt)}}}function ot(lt,ir){if(lt){var Lt=lt[J]=lt[J]||[];Yu(Lt,ir)===-1&&Lt[Ti](ir)}}return _e=(m={prop:y,ro:I,rf:F},m[Ei]=V,m[Im]=f,m.add=Zt,m[su]=Tt,m.use=et,m.trk=ot,m),_e}function kl(f,m){var y={fn:m,rm:function(){y.fn=null,f=null,m=null}};return en(y,"toJSON",{v:function(){return"WatcherHandler"+(y.fn?"":"[X]")}}),f.use(y,m),y}function Qf(f,m,y){var I,F=ec(m);if(F)return F;var V=ui("dyncfg",!0),J=m&&y!==!1?m:Ai(m),re;function te(){re[su]()}function _e(gr,br,Rt){try{gr=Sa(re,gr,br,Rt)}catch(En){es(f,br,"Setting value",En)}return gr[br]}function et(gr){return kl(re,gr)}function Tt(gr,br){re.use(null,function(Rt){var En=re.upd;try{Vr(br)||(re.upd=br),gr(Rt)}finally{re.upd=En}})}function Zt(gr,br){var Rt;return Xf(re,gr,br,(Rt={},Rt[0]=!0,Rt))[br]}function ot(gr,br){var Rt;return Xf(re,gr,br,(Rt={},Rt[1]=!0,Rt))[br]}function lt(gr,br){var Rt;return Xf(re,gr,br,(Rt={},Rt[2]=!0,Rt))[br]}function ir(gr,br){return br&&zt(br,function(Rt,En){hu(Lt,gr,Rt,En)}),gr}var Lt=(I={uid:null,cfg:J},I[ii]=f,I[su]=te,I.set=_e,I[$d]=ir,I[Wn]=et,I.ref=Zt,I[ua]=ot,I[Ei]=lt,I._block=Tt,I);return en(Lt,"uid",{c:!1,e:!1,w:!1,v:V}),re=Xd(Lt),Wa(re,J,"config","Creating"),Lt}function Ol(f,m){f?(f[Is](m),f[Yd](2,108,m)):Ri(m)}function Po(f,m,y,I){var F=Qf(y,f||{},I);return m&&F[$d](F.cfg,m),F}function Ja(f,m,y){var I=f[ca]||f;return I.cfg&&(I.cfg===f||I.cfg[ca]===I)?I[Wn](m):(Ol(y,Rl+bt(f)),Po(f,null,y)[Wn](m))}var jc=null;function Fv(){var f=Jr("Microsoft");return f&&(jc=f.ApplicationInsights),jc}function rc(f){var m=jc;return!m&&f.disableDbgExt!==!0&&(m=jc||Fv()),m?m.ChromeDbgExt:null}var nc,ns="warnToConsole",Ml="AI (Internal): ",Nm="AI: ",Qd="AITR_",Ll={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},ac=(nc={},nc[0]=null,nc[1]="errorToConsole",nc[2]=ns,nc[3]="debugToConsole",nc);function Bp(f){return f?'"'+f[cu](/\"/g,vn)+'"':vn}function Uv(f,m){var y=To();if(y){var I="log";y[f]&&(I=f),Ir(y[I])&&y[I](m)}}var ic=function(){function f(m,y,I,F){I===void 0&&(I=!1);var V=this;V[Bd]=m,V[Ca]=(I?Nm:Ml)+m;var J=vn;xs()&&(J=Ji().stringify(F));var re=(y?" message:"+Bp(y):vn)+(F?" props:"+Bp(J):vn);V[Ca]+=re}return f.dataType="MessageData",f}();function jv(f,m){return(f||{})[ii]||new Fl(m)}var Fl=function(){function f(m){this.identifier="DiagnosticLogger",this.queue=[];var y=0,I={},F,V,J,re,te;bo(f,this,function(_e){te=Tt(m||{}),_e.consoleLoggingLevel=function(){return F},_e[Yd]=function(lt,ir,Lt,gr,br){br===void 0&&(br=!1);var Rt=new ic(ir,Lt,br,gr);if(re)throw bt(Rt);var En=ac[lt]||ns;if(Vr(Rt[Ca]))ot("throw"+(lt===1?"Critical":"Warning"),Rt);else{if(br){var mc=+Rt[Bd];!I[mc]&&F>=lt&&(_e[En](Rt[Ca]),I[mc]=!0)}else F>=lt&&_e[En](Rt[Ca]);et(lt,Rt)}},_e.debugToConsole=function(lt){Uv("debug",lt),ot("warning",lt)},_e[Is]=function(lt){Uv("warn",lt),ot("warning",lt)},_e.errorToConsole=function(lt){Uv("error",lt),ot("error",lt)},_e.resetInternalMessageCount=function(){y=0,I={}},_e[Yp]=et,_e[uu]=function(lt){te&&te.rm(),te=null};function et(lt,ir){if(!Zt()){var Lt=!0,gr=Qd+ir[Bd];if(I[gr]?Lt=!1:I[gr]=!0,Lt&&(lt<=V&&(_e.queue[Ti](ir),y++,ot(lt===1?"error":"warn",ir)),y===J)){var br="Internal events throttle limit per PageView reached for this app.",Rt=new ic(23,br,!1);_e.queue[Ti](Rt),lt===1?_e.errorToConsole(br):_e[Is](br)}}}function Tt(lt){return Ja(Po(lt,Ll,_e).cfg,function(ir){var Lt=ir.cfg;F=Lt[sh],V=Lt.loggingLevelTelemetry,J=Lt.maxMessageLimit,re=Lt.enableDebug})}function Zt(){return y>=J}function ot(lt,ir){var Lt=rc(m||{});Lt&&Lt[wl]&&Lt[wl](lt,ir)}})}return f.__ieDyn=1,f}();function ep(f){return f||new Fl}function Xi(f,m,y,I,F,V){V===void 0&&(V=!1),ep(f)[Yd](m,y,I,F,V)}function zp(){for(var f=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],m=vn,y,I=0;I<4;I++)y=Do(),m+=f[y&15]+f[y>>4&15]+f[y>>8&15]+f[y>>12&15]+f[y>>16&15]+f[y>>20&15]+f[y>>24&15]+f[y>>28&15];var F=f[8+(Do()&3)|0];return $i(m,0,8)+$i(m,9,4)+"4"+$i(m,13,3)+F+$i(m,16,3)+$i(m,19,12)}var Dm=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,ed="00",Gp="ff",tp="00000000000000000000000000000000",Yc="0000000000000000",td=1;function oc(f,m,y){return f&&f[dt]===m&&f!==y?!!f.match(/^[\da-f]*$/i):!1}function Os(f,m,y){return oc(f,m)?f:y}function $c(f){(isNaN(f)||f<0||f>255)&&(f=1);for(var m=f.toString(16);m[dt]<2;)m="0"+m;return m}function Yv(f,m,y,I){var F;return F={},F[jp]=oc(I,2,Gp)?I:ed,F[qu]=qc(f)?f:zp(),F[xc]=np(m)?m:Uu(zp(),16),F.traceFlags=y>=0&&y<=255?y:1,F}function rp(f,m){var y;if(!f||(Vt(f)&&(f=f[0]||""),!f||!Ve(f)||f[dt]>8192))return null;if(f.indexOf(",")!==-1){var I=f[zi](",");f=I[m>0&&I[dt]>m?m:0]}var F=Dm.exec(ri(f));return!F||F[1]===Gp||F[2]===tp||F[3]===Yc?null:(y={version:(F[1]||vn)[ou](),traceId:(F[2]||vn)[ou](),spanId:(F[3]||vn)[ou]()},y[Nl]=parseInt(F[4],16),y)}function qc(f){return oc(f,32,tp)}function np(f){return oc(f,16,Yc)}function Ms(f){return!(!f||!oc(f[jp],2,Gp)||!oc(f[qu],32,tp)||!oc(f[xc],16,Yc)||!oc($c(f[Nl]),2))}function Fr(f){return Ms(f)?(f[Nl]&td)===td:!1}function sc(f){if(f){var m=$c(f[Nl]);oc(m,2)||(m="01");var y=f[jp]||ed;return y!=="00"&&y!=="ff"&&(y=ed),"".concat(y.toLowerCase(),"-").concat(Os(f.traceId,32,tp).toLowerCase(),"-").concat(Os(f.spanId,16,Yc).toLowerCase(),"-").concat(m.toLowerCase())}return""}function la(f){var m="traceparent",y=rp(Io(m),f);return y||(y=rp(Wf(m),f)),y}function ap(f){var m=f.getElementsByTagName("script"),y=[];return On(m,function(I){var F=I[qf]("src");if(F){var V=I[qf]("crossorigin"),J=I.hasAttribute("async")===!0,re=I.hasAttribute("defer")===!0,te=I[qf]("referrerpolicy"),_e={url:F};V&&(_e.crossOrigin=V),J&&(_e.async=J),re&&(_e.defer=re),te&&(_e.referrerPolicy=te),y[Ti](_e)}}),y}var rd="on",Bc="attachEvent",uc="addEventListener",Za="detachEvent",nd="removeEventListener",Zn="events";ui("aiEvtPageHide"),ui("aiEvtPageShow");var vr=/\.[\.]+/g,Ls=/[\.]+$/,hn=1,as=Qo("events"),cc=/^([^.]*)(?:\.(.+)|)/;function lc(f){return f&&f[cu]?f[cu](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,vn):f}function Fs(f,m){var y;if(m){var I=vn;Vt(m)?(I=vn,On(m,function(V){V=lc(V),V&&(V[0]!=="."&&(V="."+V),I+=V)})):I=lc(m),I&&(I[0]!=="."&&(I="."+I),f=(f||vn)+I)}var F=cc.exec(f||vn)||[];return y={},y[wi]=F[1],y.ns=(F[2]||vn).replace(vr,".").replace(Ls,vn)[zi](".").sort().join("."),y}function Qi(f,m,y){y===void 0&&(y=!0);var I=as.get(f,Zn,{},y),F=I[m];return F||(F=I[m]=[]),F}function Ul(f,m,y,I){f&&m&&m[wi]&&(f[nd]?f[nd](m[wi],y,I):f[Za]&&f[Za](rd+m[wi],y))}function Vp(f,m,y,I){var F=!1;return f&&m&&m[wi]&&y&&(f[uc]?(f[uc](m[wi],y,I),F=!0):f[Bc]&&(f[Bc](rd+m[wi],y),F=!0)),F}function jl(f,m,y,I){for(var F=m[dt];F--;){var V=m[F];V&&(!y.ns||y.ns===V.evtName.ns)&&(!I||I(V))&&(Ul(f,V.evtName,V[zd],V.capture),m[Va](F,1))}}function Hp(f,m,y){if(m[wi])jl(f,Qi(f,m[wi]),m,y);else{var I=as.get(f,Zn,{});zt(I,function(F,V){jl(f,V,m,y)}),Hn(I)[dt]===0&&as.kill(f,Zn)}}function Yl(f,m){var y;return m?(Vt(m)?y=[f].concat(m):y=[f,m],y=Fs("xx",y).ns[zi](".")):y=f,y}function zc(f,m,y,I,F){var V;F===void 0&&(F=!1);var J=!1;if(f)try{var re=Fs(m,I);if(J=Vp(f,re,y,F),J&&as.accept(f)){var te=(V={guid:hn++,evtName:re},V[zd]=y,V.capture=F,V);Qi(f,re.type)[Ti](te)}}catch{}return J}function ip(f,m,y,I,F){if(F===void 0&&(F=!1),f)try{var V=Fs(m,I),J=!1;Hp(f,V,function(re){return V.ns&&!y||re[zd]===y?(J=!0,!0):!1}),J||Ul(f,V,y,F)}catch{}}var zn="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Gc="sampleRate",fa="ProcessLegacy",gu="http.method",op="https://dc.services.visualstudio.com",ad="/v2/track",da="not_specified",id="iKey",sp=jd({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),Us="split",Et="length",is="toLowerCase",os="ingestionendpoint",li="toString",$l="push",Vc="removeItem",ss="name",ki="message",Hc="count",od="preTriggerDate",js="disabled",ql="interval",Kc="daysOfMonth",Bl="date",up="getUTCDate",cp="stringify",Kp="pathname",Cm="correlationHeaderExcludePatterns",us="extensionConfig",Ys="exceptions",cs="parsedStack",Oi="properties",$s="measurements",yu="sizeInBytes",fi="typeName",Wc="severityLevel",$v="problemGroup",fc="isManual",Wp="CreateFromInterface",zl="assembly",Jc="fileName",Gl="hasFullStack",qs="level",Mi="method",Zc="line",Vl="duration",sd="receivedResponse";function pa(f,m,y){var I=m[Et],F=Bs(f,m);if(F[Et]!==I){for(var V=0,J=F;y[J]!==void 0;)V++,J=$o(F,0,147)+Kl(V);F=J}return F}function Bs(f,m){var y;return m&&(m=ri(rr(m)),m[Et]>150&&(y=$o(m,0,150),Xi(f,2,57,"name is too long.  It has been truncated to 150 characters.",{name:m},!0))),y||m}function va(f,m,y){y===void 0&&(y=1024);var I;return m&&(y=y||1024,m=ri(rr(m)),m[Et]>y&&(I=$o(m,0,y),Xi(f,2,61,"string value is too long. It has been truncated to "+y+" characters.",{value:m},!0))),I||m}function ud(f,m){return Hl(f,m,2048,66)}function Su(f,m){var y;return m&&m[Et]>32768&&(y=$o(m,0,32768),Xi(f,2,56,"message is too long, it has been truncated to 32768 characters.",{message:m},!0)),y||m}function cd(f,m){var y;if(m){var I=""+m;I[Et]>32768&&(y=$o(I,0,32768),Xi(f,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:m},!0))}return y||m}function Aa(f,m){if(m){var y={};zt(m,function(I,F){if(pn(F)&&xs())try{F=Ji()[cp](F)}catch(V){Xi(f,2,49,"custom property is not valid",{exception:V},!0)}F=va(f,F,8192),I=pa(f,I,y),y[I]=F}),m=y}return m}function ma(f,m){if(m){var y={};zt(m,function(I,F){I=pa(f,I,y),y[I]=F}),m=y}return m}function Jp(f,m){return m&&Hl(f,m,128,69)[li]()}function Hl(f,m,y,I){var F;return m&&(m=ri(rr(m)),m[Et]>y&&(F=$o(m,0,y),Xi(f,2,I,"input is too long, it has been truncated to "+y+" characters.",{data:m},!0))),F||m}function Kl(f){var m="00"+f;return $i(m,m[Et]-3)}var bu=Da()||{},qv=0,Bv=[null,null,null,null,null];function Wl(f){var m=qv,y=Bv,I=y[m];return bu.createElement?y[m]||(I=y[m]=bu.createElement("a")):I={host:zv(f,!0)},I.href=f,m++,m>=y[Et]&&(m=0),qv=m,I}function Zp(f){var m,y=Wl(f);return y&&(m=y.href),m}function Jl(f){var m,y=Wl(f);return y&&(m=y[Kp]),m}function Xp(f,m){return f?f.toUpperCase()+" "+m:m}function zv(f,m){var y=Zl(f,m)||"";if(y){var I=y.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(I!=null&&I[Et]>3&&Ve(I[2])&&I[2][Et]>0)return I[2]+(I[3]||"")}return y}function Zl(f,m){var y=null;if(f){var I=f.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(I!=null&&I[Et]>2&&Ve(I[2])&&I[2][Et]>0&&(y=I[2]||"",m&&I[Et]>2)){var F=(I[1]||"")[is](),V=I[3]||"";(F==="http"&&V===":80"||F==="https"&&V===":443")&&(V=""),y+=V}}return y}var Gv=[op+ad,"https://breeze.aimon.applicationinsights.io"+ad,"https://dc-int.services.visualstudio.com"+ad],Eu="cid-v1:";function Xc(f){return Yu(Gv,f[is]())!==-1}function lp(f){Eu=f}function ls(){return Eu}function ld(f,m,y){if(!m||f&&f.disableCorrelationHeaders)return!1;if(f&&f[Cm]){for(var I=0;I<f.correlationHeaderExcludePatterns[Et];I++)if(f[Cm][I].test(m))return!1}var F=Wl(m).host[is]();if(F&&(Ga(F,":443")!==-1||Ga(F,":80")!==-1)&&(F=(Zl(m,!0)||"")[is]()),(!f||!f.enableCorsCorrelation)&&F&&F!==y)return!1;var V=f&&f.correlationHeaderDomains;if(V){var J;if(On(V,function(_e){var et=new RegExp(_e.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));J=J||et.test(F)}),!J)return!1}var re=f&&f.correlationHeaderExcludedDomains;if(!re||re[Et]===0)return!0;for(var I=0;I<re[Et];I++){var te=new RegExp(re[I].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(te.test(F))return!1}return F&&F[Et]>0}function Xl(f){if(f){var m=Ao(f,sp[1]);if(m&&m!==Eu)return m}}function Ao(f,m){if(f)for(var y=f[Us](","),I=0;I<y[Et];++I){var F=y[I][Us]("=");if(F[Et]===2&&F[0]===m)return F[1]}}function Qc(f,m,y,I){var F,V=I,J=I;if(m&&m[Et]>0){var re=Wl(m);if(F=re.host,!V)if(re[Kp]!=null){var te=re.pathname[Et]===0?"/":re[Kp];te.charAt(0)!=="/"&&(te="/"+te),J=re[Kp],V=va(f,y?y+" "+te:te)}else V=va(f,m)}else F=I,V=I;return{target:F,name:V,data:J}}function Vv(){var f=hr();if(f&&f.now&&f.timing){var m=f.now()+f.timing.navigationStart;if(m>0)return m}return tn()}function el(f,m){var y=null;return f!==0&&m!==0&&!tt(f)&&!tt(m)&&(y=m-f),y}function xm(f,m){var y=f||{};return{getName:function(){return y[ss]},setName:function(I){m&&m.setName(I),y[ss]=I},getTraceId:function(){return y.traceID},setTraceId:function(I){m&&m.setTraceId(I),qc(I)&&(y.traceID=I)},getSpanId:function(){return y.parentID},setSpanId:function(I){m&&m.setSpanId(I),np(I)&&(y.parentID=I)},getTraceFlags:function(){return y.traceFlags},setTraceFlags:function(I){m&&m.setTraceFlags(I),y.traceFlags=I}}}var Ql=Tl({LocalStorage:0,SessionStorage:1}),Hv=Tl({AI:0,AI_AND_W3C:1,W3C:2}),Qp=Tl({Normal:1,Critical:2}),Tu=void 0,wu=void 0,tl="";function fs(){return di()?zs(Ql.LocalStorage):null}function zs(f){try{if(tt(ws()))return null;var m=new Date()[li](),y=Jr(f===Ql.LocalStorage?"localStorage":"sessionStorage"),I=tl+m;y.setItem(I,m);var F=y.getItem(I)!==m;if(y[Vc](I),!F)return y}catch{}return null}function ef(){return rl()?zs(Ql.SessionStorage):null}function fd(){Tu=!1,wu=!1}function dd(f){tl=f||""}function tf(){Tu=di(!0),wu=rl(!0)}function di(f){return(f||Tu===void 0)&&(Tu=!!zs(Ql.LocalStorage)),Tu}function rf(f,m){var y=fs();if(y!==null)try{return y.getItem(m)}catch(I){Tu=!1,Xi(f,2,1,"Browser failed read of local storage. "+Eo(I),{exception:bt(I)})}return null}function Kv(f,m,y){var I=fs();if(I!==null)try{return I.setItem(m,y),!0}catch(F){Tu=!1,Xi(f,2,3,"Browser failed write to local storage. "+Eo(F),{exception:bt(F)})}return!1}function Pm(f,m){var y=fs();if(y!==null)try{return y[Vc](m),!0}catch(I){Tu=!1,Xi(f,2,5,"Browser failed removal of local storage item. "+Eo(I),{exception:bt(I)})}return!1}function rl(f){return(f||wu===void 0)&&(wu=!!zs(Ql.SessionStorage)),wu}function Am(){var f=[];return rl()&&zt(Jr("sessionStorage"),function(m){f[$l](m)}),f}function Ro(f,m){var y=ef();if(y!==null)try{return y.getItem(m)}catch(I){wu=!1,Xi(f,2,2,"Browser failed read of session storage. "+Eo(I),{exception:bt(I)})}return null}function Iu(f,m,y){var I=ef();if(I!==null)try{return I.setItem(m,y),!0}catch(F){wu=!1,Xi(f,2,4,"Browser failed write to session storage. "+Eo(F),{exception:bt(F)})}return!1}function nl(f,m){var y=ef();if(y!==null)try{return y[Vc](m),!0}catch(I){wu=!1,Xi(f,2,6,"Browser failed removal of session storage item. "+Eo(I),{exception:bt(I)})}return!1}var Wv="appInsightsThrottle",fp=function(){function f(m,y){var I=this,F,V,J,re,te,_e,et,Tt=!1,Zt=!1;lt(),I._getDbgPlgTargets=function(){return[et]},I.getConfig=function(){return J},I.canThrottle=function(Pe){var vt=pf(Pe),$t=ir(Pe);return br($t,F,vt)},I.isTriggered=function(Pe){return Sd(Pe)},I.isReady=function(){return Tt},I.flush=function(Pe){try{var vt=vf(Pe);if(vt&&vt[Et]>0){var $t=vt.slice(0);return et[Pe]=[],On($t,function(rn){ot(rn.msgID,rn[ki],rn.severity,!1)}),!0}}catch{}return!1},I.flushAll=function(){try{if(et){var Pe=!0;return zt(et,function(vt){var $t=I.flush(parseInt(vt));Pe=Pe&&$t}),Pe}}catch{}return!1},I.onReadyState=function(Pe,vt){return vt===void 0&&(vt=!0),Tt=tt(Pe)?!0:Pe,Tt&&vt?I.flushAll():null},I.sendMessage=function(Pe,vt,$t){return ot(Pe,vt,$t,!0)};function ot(Pe,vt,$t,rn){if(Tt){var ba=df(Pe);if(!ba)return;var Ea=ir(Pe),Xn=pf(Pe),pi=br(Ea,F,Xn),ms=!1,ll=0,tm=Sd(Pe);try{pi&&!tm?(ll=Math.min(Ea.limit.maxSendNumber,Xn[Hc]+1),Xn[Hc]=0,ms=!0,te[Pe]=!0,Xn[od]=new Date):(te[Pe]=pi,Xn[Hc]+=1);var xu=Rt(Pe);cl(V,xu,Xn);for(var bd=0;bd<ll;bd++)yd(Pe,V,vt,$t)}catch{}return{isThrottled:ms,throttleNum:ll}}else if(rn){var Mm=vf(Pe);Mm[$l]({msgID:Pe,message:vt,severity:$t})}return null}function lt(){V=jv(m),te={},re={},et={},J={},Lt(109),_e=Ni(y)?y:"",m.addUnloadHook(Ja(m.config,function(Pe){var vt=Pe.cfg;F=di();var $t=vt.throttleMgrCfg||{};zt($t,function(rn,ba){Lt(parseInt(rn),ba)})}))}function ir(Pe){return J[Pe]||J[109]}function Lt(Pe,vt){var $t,rn;try{var ba=vt||{},Ea={};Ea[js]=!!ba[js];var Xn=ba[ql]||{};Zt=(Xn==null?void 0:Xn.daysOfMonth)&&(Xn==null?void 0:Xn.daysOfMonth[Et])>0,Ea[ql]=gr(Xn);var pi={samplingRate:(($t=ba.limit)===null||$t===void 0?void 0:$t.samplingRate)||100,maxSendNumber:((rn=ba.limit)===null||rn===void 0?void 0:rn.maxSendNumber)||1};Ea.limit=pi,J[Pe]=Ea}catch{}}function gr(Pe){Pe=Pe||{};var vt=Pe==null?void 0:Pe.monthInterval,$t=Pe==null?void 0:Pe.dayInterval;return tt(vt)&&tt($t)&&(Pe.monthInterval=3,Zt||(Pe[Kc]=[28],Zt=!0)),Pe={monthInterval:Pe==null?void 0:Pe.monthInterval,dayInterval:Pe==null?void 0:Pe.dayInterval,daysOfMonth:Pe==null?void 0:Pe.daysOfMonth},Pe}function br(Pe,vt,$t){if(Pe&&!Pe[js]&&vt&&Ni($t)){var rn=Hs(),ba=$t[Bl],Ea=Pe[ql],Xn=1;if(Ea!=null&&Ea.monthInterval){var pi=(rn.getUTCFullYear()-ba.getUTCFullYear())*12+rn.getUTCMonth()-ba.getUTCMonth();Xn=ff(Ea.monthInterval,0,pi)}var ms=1;if(Zt)ms=Yu(Ea[Kc],rn[up]());else if(Ea!=null&&Ea.dayInterval){var ll=Math.floor((rn.getTime()-ba.getTime())/864e5);ms=ff(Ea.dayInterval,0,ll)}return Xn>=0&&ms>=0}return!1}function Rt(Pe,vt){var $t=Ni(vt)?vt:"";return Pe?Wv+$t+"-"+Pe:null}function En(Pe){try{if(Pe){var vt=new Date;return Pe.getUTCFullYear()===vt.getUTCFullYear()&&Pe.getUTCMonth()===vt.getUTCMonth()&&Pe[up]()===vt[up]()}}catch{}return!1}function mc(Pe,vt,$t){try{var rn={date:Hs(),count:0};if(Pe){var ba=JSON.parse(Pe),Ea={date:Hs(ba[Bl])||rn[Bl],count:ba[Hc]||rn[Hc],preTriggerDate:ba.preTriggerDate?Hs(ba[od]):void 0};return Ea}else return cl(vt,$t,rn),rn}catch{}return null}function Hs(Pe){try{if(Pe){var vt=new Date(Pe);if(!isNaN(vt.getDate()))return vt}else return new Date}catch{}return null}function cl(Pe,vt,$t){try{return Kv(Pe,vt,ri(JSON[cp]($t)))}catch{}return!1}function ff(Pe,vt,$t){return Pe<=0?1:$t>=vt&&($t-vt)%Pe==0?Math.floor(($t-vt)/Pe)+1:-1}function yd(Pe,vt,$t,rn){Xi(vt,rn||1,Pe,$t)}function df(Pe){try{var vt=ir(Pe);return Ps(1e6)<=vt.limit.samplingRate}catch{}return!1}function pf(Pe){try{var vt=re[Pe];if(!vt){var $t=Rt(Pe,_e);vt=mc(rf(V,$t),V,$t),re[Pe]=vt}return re[Pe]}catch{}return null}function Sd(Pe){var vt=te[Pe];if(tt(vt)){vt=!1;var $t=pf(Pe);$t&&(vt=En($t[od])),te[Pe]=vt}return te[Pe]}function vf(Pe){return et=et||{},tt(et[Pe])&&(et[Pe]=[]),et[Pe]}}return f}(),Jv=";",ev="=";function pd(f){if(!f)return{};var m=f[Us](Jv),y=Tr(m,function(F,V){var J=V[Us](ev);if(J[Et]===2){var re=J[0][is](),te=J[1];F[re]=te}return F},{});if(Hn(y)[Et]>0){if(y.endpointsuffix){var I=y.location?y.location+".":"";y[os]=y[os]||"https://"+I+"dc."+y.endpointsuffix}y[os]=y[os]||op,Vo(y[os],"/")&&(y[os]=y[os].slice(0,-1))}return y}var al={parse:pd},eo=function(){function f(m,y,I){var F=this,V=this;V.ver=1,V.sampleRate=100,V.tags={},V[ss]=va(m,I)||da,V.data=y,V.time=ur(new Date),V.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return F.sampleRate===100?4:1},tags:1,data:1}}return f}(),vd=function(){function f(m,y,I,F){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var V=this;V.ver=2,V[ss]=va(m,y)||da,V[Oi]=Aa(m,I),V[$s]=ma(m,F)}return f.envelopeType="Microsoft.ApplicationInsights.{0}.Event",f.dataType="EventData",f}(),il="<no_method>",Ra="error",to="stack",nf="stackDetails",Zv="errorSrc",Xv="message",ha="description";function ol(f,m){var y=f;return y&&!Ve(y)&&(JSON&&JSON[cp]?(y=JSON[cp](f),m&&(!y||y==="{}")&&(Ir(f[li])?y=f[li]():y=""+f)):y=""+f+" - (Missing JSON.stringify)"),y||""}function af(f,m){var y=f;return f&&(y&&!Ve(y)&&(y=f[Xv]||f[ha]||y),y&&!Ve(y)&&(y=ol(y,!0)),f.filename&&(y=y+" @"+(f.filename||"")+":"+(f.lineno||"?")+":"+(f.colno||"?"))),m&&m!=="String"&&m!=="Object"&&m!=="Error"&&Ga(y||"",m)===-1&&(y=m+": "+y),y||""}function Rm(f){try{if(pn(f))return"hasFullStack"in f&&"typeName"in f}catch{}return!1}function Qv(f){try{if(pn(f))return"ver"in f&&"exceptions"in f&&"properties"in f}catch{}return!1}function of(f){return f&&f.src&&Ve(f.src)&&f.obj&&Vt(f.obj)}function ka(f){var m=f||"";Ve(m)||(Ve(m[to])?m=m[to]:m=""+m);var y=m[Us](`
`);return{src:m,obj:y}}function dp(f){for(var m=[],y=f[Us](`
`),I=0;I<y[Et];I++){var F=y[I];y[I+1]&&(F+="@"+y[I+1],I++),m[$l](F)}return{src:f,obj:m}}function dc(f){var m=null;if(f)try{if(f[to])m=ka(f[to]);else if(f[Ra]&&f[Ra][to])m=ka(f[Ra][to]);else if(f.exception&&f.exception[to])m=ka(f.exception[to]);else if(of(f))m=f;else if(of(f[nf]))m=f[nf];else if(Ff()&&Ff().opera&&f[Xv])m=dp(f[ki]);else if(f.reason&&f.reason[to])m=ka(f.reason[to]);else if(Ve(f))m=ka(f);else{var y=f[Xv]||f[ha]||"";Ve(f[Zv])&&(y&&(y+=`
`),y+=" from "+f[Zv]),y&&(m=ka(y))}}catch(I){m=ka(I)}return m||{src:"",obj:null}}function sl(f){var m="";return f&&(f.obj?On(f.obj,function(y){m+=y+`
`}):m=f.src||""),m}function Gs(f){var m,y=f.obj;if(y&&y[Et]>0){m=[];var I=0,F=0;On(y,function(lt){var ir=lt[li]();if(ko.regex.test(ir)){var Lt=new ko(ir,I++);F+=Lt[yu],m[$l](Lt)}});var V=32*1024;if(F>V)for(var J=0,re=m[Et]-1,te=0,_e=J,et=re;J<re;){var Tt=m[J][yu],Zt=m[re][yu];if(te+=Tt+Zt,te>V){var ot=et-_e+1;m.splice(_e,ot);break}_e=J,et=re,J++,re--}}return m}function sf(f){var m="";if(f&&(m=f.typeName||f[ss]||"",!m))try{var y=/function (.{1,200})\(/,I=y.exec(f.constructor[li]());m=I&&I[Et]>1?I[1]:""}catch{}return m}function pp(f){if(f)try{if(!Ve(f)){var m=sf(f),y=ol(f,!1);return(!y||y==="{}")&&(f[Ra]&&(f=f[Ra],m=sf(f)),y=ol(f,!0)),Ga(y,m)!==0&&m!=="String"?m+":"+y:y}}catch{}return""+(f||"")}var St=function(){function f(m,y,I,F,V,J){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var re=this;re.ver=2,Qv(y)?(re[Ys]=y[Ys]||[],re[Oi]=y[Oi],re[$s]=y[$s],y[Wc]&&(re[Wc]=y[Wc]),y.id&&(re.id=y.id,y[Oi].id=y.id),y[$v]&&(re[$v]=y[$v]),tt(y[fc])||(re[fc]=y[fc])):(I||(I={}),J&&(I.id=J),re[Ys]=[new Nu(m,y,I)],re[Oi]=Aa(m,I),re[$s]=ma(m,F),V&&(re[Wc]=V),J&&(re.id=J))}return f.CreateAutoException=function(m,y,I,F,V,J,re,te){var _e,et=sf(V||J||m);return _e={},_e[ki]=af(m,et),_e.url=y,_e.lineNumber=I,_e.columnNumber=F,_e.error=pp(V||J||m),_e.evt=pp(J||m),_e[fi]=et,_e.stackDetails=dc(re||V||J),_e.errorSrc=te,_e},f.CreateFromInterface=function(m,y,I,F){var V=y[Ys]&&ti(y[Ys],function(re){return Nu[Wp](m,re)}),J=new f(m,Pc(Pc({},y),{exceptions:V}),I,F);return J},f.prototype.toInterface=function(){var m,y=this,I=y.exceptions,F=y.properties,V=y.measurements,J=y.severityLevel,re=y.problemGroup,te=y.id,_e=y.isManual,et=I instanceof Array&&ti(I,function(Tt){return Tt.toInterface()})||void 0;return m={ver:"4.0"},m[Ys]=et,m.severityLevel=J,m.properties=F,m.measurements=V,m.problemGroup=re,m.id=te,m.isManual=_e,m},f.CreateSimpleException=function(m,y,I,F,V,J){var re;return{exceptions:[(re={},re[Gl]=!0,re.message=m,re.stack=V,re.typeName=y,re)]}},f.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",f.dataType="ExceptionData",f.formatError=pp,f}(),Nu=function(){function f(m,y,I){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var F=this;if(Rm(y))F[fi]=y[fi],F[ki]=y[ki],F[to]=y[to],F[cs]=y[cs]||[],F[Gl]=y[Gl];else{var V=y,J=V&&V.evt;Bt(V)||(V=V[Ra]||J||V),F[fi]=va(m,sf(V))||da,F[ki]=Su(m,af(y||V,F[fi]))||da;var re=y[nf]||dc(y);F[cs]=Gs(re),Vt(F[cs])&&ti(F[cs],function(te){te[zl]=va(m,te[zl]),te[Jc]=va(m,te[Jc])}),F[to]=cd(m,sl(re)),F.hasFullStack=Vt(F.parsedStack)&&F.parsedStack[Et]>0,I&&(I[fi]=I[fi]||F[fi])}}return f.prototype.toInterface=function(){var m,y=this,I=y[cs]instanceof Array&&ti(y[cs],function(V){return V.toInterface()}),F=(m={id:y.id,outerId:y.outerId,typeName:y[fi],message:y[ki],hasFullStack:y[Gl],stack:y[to]},m[cs]=I||void 0,m);return F},f.CreateFromInterface=function(m,y){var I=y[cs]instanceof Array&&ti(y[cs],function(V){return ko[Wp](V)})||y[cs],F=new f(m,Pc(Pc({},y),{parsedStack:I}));return F},f}(),ko=function(){function f(m,y){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var I=this;if(I[yu]=0,typeof m=="string"){var F=m;I[qs]=y,I[Mi]=il,I[zl]=ri(F),I[Jc]="",I[Zc]=0;var V=F.match(f.regex);V&&V[Et]>=5&&(I[Mi]=ri(V[2])||I[Mi],I[Jc]=ri(V[4]),I[Zc]=parseInt(V[5])||0)}else I[qs]=m[qs],I[Mi]=m[Mi],I[zl]=m[zl],I[Jc]=m[Jc],I[Zc]=m[Zc],I[yu]=0;I.sizeInBytes+=I.method[Et],I.sizeInBytes+=I.fileName[Et],I.sizeInBytes+=I.assembly[Et],I[yu]+=f.baseSize,I.sizeInBytes+=I.level.toString()[Et],I.sizeInBytes+=I.line.toString()[Et]}return f.CreateFromInterface=function(m){return new f(m,null)},f.prototype.toInterface=function(){var m=this;return{level:m[qs],method:m[Mi],assembly:m[zl],fileName:m[Jc],line:m[Zc]}},f.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,f.baseSize=58,f}(),uf=function(){function f(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return f}(),km=function(){function f(m,y,I,F,V,J,re,te,_e){this.aiDataContract={ver:1,metrics:1,properties:0};var et=this;et.ver=2;var Tt=new uf;Tt[Hc]=F>0?F:void 0,Tt.max=isNaN(J)||J===null?void 0:J,Tt.min=isNaN(V)||V===null?void 0:V,Tt[ss]=va(m,y)||da,Tt.value=I,Tt.stdDev=isNaN(re)||re===null?void 0:re,et.metrics=[Tt],et[Oi]=Aa(m,te),et[$s]=ma(m,_e)}return f.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",f.dataType="MetricData",f}(),cf="";function md(f,m){return m===void 0&&(m=!1),f==null?m:f.toString()[is]()==="true"}function Oo(f){(isNaN(f)||f<0)&&(f=0),f=Math.round(f);var m=cf+f%1e3,y=cf+Math.floor(f/1e3)%60,I=cf+Math.floor(f/(1e3*60))%60,F=cf+Math.floor(f/(1e3*60*60))%24,V=Math.floor(f/(1e3*60*60*24));return m=m[Et]===1?"00"+m:m[Et]===2?"0"+m:m,y=y[Et]<2?"0"+y:y,I=I[Et]<2?"0"+I:I,F=F[Et]<2?"0"+F:F,(V>0?V+".":cf)+F+":"+I+":"+y+"."+m}function em(f,m){var y=null;return On(f,function(I){if(I.identifier===m)return y=I,-1}),y}function vp(f,m,y,I,F){return!F&&Ve(f)&&(f==="Script error."||f==="Script error")}var mp=function(){function f(m,y,I,F,V,J,re){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var te=this;te.ver=2,te.id=Jp(m,re),te.url=ud(m,I),te[ss]=va(m,y)||da,isNaN(F)||(te[Vl]=Oo(F)),te[Oi]=Aa(m,V),te[$s]=ma(m,J)}return f.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",f.dataType="PageviewData",f}(),lf=function(){function f(m,y,I,F,V,J,re,te,_e,et,Tt,Zt){_e===void 0&&(_e="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var ot=this;ot.ver=2,ot.id=y,ot[Vl]=Oo(V),ot.success=J,ot.resultCode=re+"",ot.type=va(m,_e);var lt=Qc(m,I,te,F);ot.data=ud(m,F)||lt.data,ot.target=va(m,lt.target),et&&(ot.target="".concat(ot.target," | ").concat(et)),ot[ss]=va(m,lt[ss]),ot[Oi]=Aa(m,Tt),ot[$s]=ma(m,Zt)}return f.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",f.dataType="RemoteDependencyData",f}(),pc=function(){function f(m,y,I,F,V){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var J=this;J.ver=2,y=y||da,J[ki]=Su(m,y),J[Oi]=Aa(m,F),J[$s]=ma(m,V),I&&(J[Wc]=I)}return f.envelopeType="Microsoft.ApplicationInsights.{0}.Message",f.dataType="MessageData",f}(),tv=function(){function f(m,y,I,F,V,J,re){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var te=this;te.ver=2,te.url=ud(m,I),te[ss]=va(m,y)||da,te[Oi]=Aa(m,V),te[$s]=ma(m,J),re&&(te.domProcessing=re.domProcessing,te[Vl]=re[Vl],te.networkConnect=re.networkConnect,te.perfTotal=re.perfTotal,te[sd]=re[sd],te.sentRequest=re.sentRequest)}return f.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",f.dataType="PageviewPerformanceData",f}(),Yr=function(){function f(m,y){this.aiDataContract={baseType:1,baseData:1},this.baseType=m,this.baseData=y}return f}(),Vs=Tl({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),rv=function(){function f(){}return f.getConfig=function(m,y,I,F){F===void 0&&(F=!1);var V;return I&&m[us]&&m[us][I]&&!tt(m[us][I][y])?V=m[us][I][y]:V=m[y],tt(V)?F:V},f}();function Du(f){var m="ai."+f+".";return function(y){return m+y}}var ro=Du("application"),Ln=Du("device"),hd=Du("location"),vc=Du("operation"),ul=Du("session"),ds=Du("user"),no=Du("cloud"),Mo=Du("internal"),_d=function(f){Mv(m,f);function m(){return f.call(this)||this}return m}(Zo({applicationVersion:ro("ver"),applicationBuild:ro("build"),applicationTypeId:ro("typeId"),applicationId:ro("applicationId"),applicationLayer:ro("layer"),deviceId:Ln("id"),deviceIp:Ln("ip"),deviceLanguage:Ln("language"),deviceLocale:Ln("locale"),deviceModel:Ln("model"),deviceFriendlyName:Ln("friendlyName"),deviceNetwork:Ln("network"),deviceNetworkName:Ln("networkName"),deviceOEMName:Ln("oemName"),deviceOS:Ln("os"),deviceOSVersion:Ln("osVersion"),deviceRoleInstance:Ln("roleInstance"),deviceRoleName:Ln("roleName"),deviceScreenResolution:Ln("screenResolution"),deviceType:Ln("type"),deviceMachineName:Ln("machineName"),deviceVMName:Ln("vmName"),deviceBrowser:Ln("browser"),deviceBrowserVersion:Ln("browserVersion"),locationIp:hd("ip"),locationCountry:hd("country"),locationProvince:hd("province"),locationCity:hd("city"),operationId:vc("id"),operationName:vc("name"),operationParentId:vc("parentId"),operationRootId:vc("rootId"),operationSyntheticSource:vc("syntheticSource"),operationCorrelationVector:vc("correlationVector"),sessionId:ul("id"),sessionIsFirst:ul("isFirst"),sessionIsNew:ul("isNew"),userAccountAcquisitionDate:ds("accountAcquisitionDate"),userAccountId:ds("accountId"),userAgent:ds("userAgent"),userId:ds("id"),userStoreRegion:ds("storeRegion"),userAuthUserId:ds("authUserId"),userAnonymousUserAcquisitionDate:ds("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:ds("authUserAcquisitionDate"),cloudName:no("name"),cloudRole:no("role"),cloudRoleVer:no("roleVer"),cloudRoleInstance:no("roleInstance"),cloudEnvironment:no("environment"),cloudLocation:no("location"),cloudDeploymentUnit:no("deploymentUnit"),internalNodeName:Mo("nodeName"),internalSdkVersion:Mo("sdkVersion"),internalAgentVersion:Mo("agentVersion"),internalSnippet:Mo("snippet"),internalSdkSrc:Mo("sdkSrc")}));function hp(f,m,y,I,F,V){var J;y=va(I,y)||da,(tt(f)||tt(m)||tt(y))&&qr("Input doesn't contain all required fields");var re="";f[id]&&(re=f[id],delete f[id]);var te=(J={},J[ss]=y,J.time=ur(new Date),J.iKey=re,J.ext=V||{},J.tags=[],J.data={},J.baseType=m,J.baseData=f,J);return tt(F)||zt(F,function(_e,et){te.data[_e]=et}),te}var nv=function(){function f(){}return f.create=hp,f}(),ps={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},av=new _d;function gd(f){var m=null;if(Ir(Event))m=new Event(f);else{var y=Da();y&&y.createEvent&&(m=y.createEvent("Event"),m.initEvent(f,!0,!0))}return m}function iv(f,m){ip(f,null,null,m)}function vs(f){var m=Da(),y=on(),I=!1,F=[],V=1;y&&!tt(y.onLine)&&!y.onLine&&(V=2);var J=0,re=Zt(),te=Yl(ui("OfflineListener"),f);try{if(et(Ff())&&(I=!0),m){var _e=m.body||m;_e.ononline&&et(_e)&&(I=!0)}}catch{I=!1}function et(Rt){var En=!1;return Rt&&(En=zc(Rt,"online",ir,te),En&&zc(Rt,"offline",Lt,te)),En}function Tt(){return re}function Zt(){return!(J===2||V===2)}function ot(){var Rt=Zt();re!==Rt&&(re=Rt,On(F,function(En){var mc={isOnline:re,rState:V,uState:J};try{En(mc)}catch{}}))}function lt(Rt){J=Rt,ot()}function ir(){V=1,ot()}function Lt(){V=2,ot()}function gr(){var Rt=Ff();if(Rt&&I){if(iv(Rt,te),m){var En=m.body||m;Vr(En.ononline)||iv(En,te)}I=!1}}function br(Rt){return F[$l](Rt),{rm:function(){var En=F.indexOf(Rt);if(En>-1)return F.splice(En,1)}}}return{isOnline:Tt,isListening:function(){return I},unload:gr,addListener:br,setOnlineState:lt}}var Om="AppInsightsPropertiesPlugin",Cu="AppInsightsChannelPlugin",ov="ApplicationInsightsAnalytics";e.AnalyticsPluginIdentifier=ov,e.BreezeChannelIdentifier=Cu,e.ConfigurationManager=rv,e.ConnectionStringParser=al,e.ContextTagKeys=_d,e.CtxTagKeys=av,e.DEFAULT_BREEZE_ENDPOINT=op,e.DEFAULT_BREEZE_PATH=ad,e.Data=Yr,e.DisabledPropertyName=zn,e.DistributedTracingModes=Hv,e.Envelope=eo,e.Event=vd,e.EventPersistence=Qp,e.Exception=St,e.Extensions=ps,e.HttpMethod=gu,e.Metric=km,e.PageView=mp,e.PageViewPerformance=tv,e.ProcessLegacy=fa,e.PropertiesPluginIdentifier=Om,e.RemoteDependencyData=lf,e.RequestHeaders=sp,e.SampleRate=Gc,e.SeverityLevel=Vs,e.TelemetryItemCreator=nv,e.ThrottleMgr=fp,e.Trace=pc,e.correlationIdCanIncludeCorrelationHeader=ld,e.correlationIdGetCorrelationContext=Xl,e.correlationIdGetCorrelationContextValue=Ao,e.correlationIdGetPrefix=ls,e.correlationIdSetPrefix=lp,e.createDistributedTraceContextFromTrace=xm,e.createDomEvent=gd,e.createOfflineListener=vs,e.createTelemetryItem=hp,e.createTraceParent=Yv,e.dataSanitizeException=cd,e.dataSanitizeId=Jp,e.dataSanitizeInput=Hl,e.dataSanitizeKey=Bs,e.dataSanitizeKeyAndAddUniqueness=pa,e.dataSanitizeMeasurements=ma,e.dataSanitizeMessage=Su,e.dataSanitizeProperties=Aa,e.dataSanitizeString=va,e.dataSanitizeUrl=ud,e.dateTimeUtilsDuration=el,e.dateTimeUtilsNow=Vv,e.dsPadNumber=Kl,e.findAllScripts=ap,e.findW3cTraceParent=la,e.formatTraceParent=sc,e.getExtensionByName=em,e.isBeaconApiSupported=wo,e.isCrossOriginError=vp,e.isInternalApplicationInsightsEndpoint=Xc,e.isSampledFlag=Fr,e.isValidSpanId=np,e.isValidTraceId=qc,e.isValidTraceParent=Ms,e.msToTimeSpan=Oo,e.parseConnectionString=pd,e.parseTraceParent=rp,e.strNotSpecified=da,e.stringToBoolOrDefault=md,e.urlGetAbsoluteUrl=Zp,e.urlGetCompleteUrl=Xp,e.urlGetPathName=Jl,e.urlParseFullHost=Zl,e.urlParseHost=zv,e.urlParseUrl=Wl,e.utlCanUseLocalStorage=di,e.utlCanUseSessionStorage=rl,e.utlDisableStorage=fd,e.utlEnableStorage=tf,e.utlGetLocalStorage=rf,e.utlGetSessionStorage=Ro,e.utlGetSessionStorageKeys=Am,e.utlRemoveSessionStorage=nl,e.utlRemoveStorage=Pm,e.utlSetLocalStorage=Kv,e.utlSetSessionStorage=Iu,e.utlSetStoragePrefix=dd})});var Yy=Ad(Ag=>{"use strict";Object.defineProperty(Ag,"__esModule",{value:!0});Ag.TelemetryUtil=void 0;var jy=class e{static applyReplacements(t,r){for(let n of Object.keys(t))for(let s of r)s.lookup.test(n)&&(s.replacementString!==void 0?t[n]=s.replacementString:delete t[n])}static shouldUseOneDataSystemSDK(t){return t.length===74&&t[32]==="-"&&t[41]==="-"&&t[46]==="-"&&t[51]==="-"&&t[56]==="-"&&t[69]==="-"}static getAdditionalCommonProperties(t){return{"common.os":t.platform,"common.nodeArch":t.architecture,"common.platformversion":(t.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.9.8"}}static getInstance(){return e._instance||(e._instance=new e),e._instance}};Ag.TelemetryUtil=jy});var DS=Ad((Rg,NS)=>{(function(e,t){typeof Rg=="object"&&typeof NS<"u"?t(Rg):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(Rg,function(e){"use strict";function t(i,o){return i||o}function r(i,o){return i[o]}var n=void 0,s=null,u="",h="function",b="object",N="prototype",P="__proto__",j="undefined",H="constructor",Q="Symbol",pe="_polyfill",ce="length",se="name",ue="call",Ne="toString",Ue=t(Object),rt=r(Ue,N),Re=t(String),nt=r(Re,N),Xe=t(Math),Ct=t(Array),Pt=r(Ct,N),pr=r(Pt,"slice");function wr(i,o){try{return{v:i.apply(this,o)}}catch(l){return{e:l}}}function $r(i,o){var l=wr(i);return l.e?o:l.v}var po;function ji(i){return function(o){return typeof o===i}}function Vr(i){var o="[object "+i+"]";return function(l){return!!(l&&yn(l)===o)}}function yn(i){return rt[Ne].call(i)}function tt(i){return typeof i===j||i===j}function Es(i){return!pn(i)}function Ve(i){return i===s||tt(i)}function Ir(i){return i===s||!pn(i)}function pn(i){return!!i||i!==n}function Vt(i){return!po&&(po=["string","number","boolean",j,"symbol","bigint"]),i!==b&&po.indexOf(i)!==-1}var Bt=ji("string"),Qe=ji(h);function Cn(i){return!i&&Ve(i)?!1:!!i&&typeof i===b}var at=r(Ct,"isArray"),Nc=Vr("Date"),zt=ji("number"),vo=ji("boolean"),Gt=Vr("Error");function It(i){return!!(i&&i.then&&Qe(i.then))}function en(i){return!(!i||$r(function(){return!(i&&0+i)},!i))}var Yt=r(Ue,"getOwnPropertyDescriptor");function it(i,o){return!!i&&rt.hasOwnProperty[ue](i,o)}var rr=t(r(Ue,"hasOwn"),ei);function ei(i,o){return it(i,o)||!!Yt(i,o)}function bt(i,o,l){if(i&&Cn(i)){for(var v in i)if(rr(i,v)&&o[ue](l||i,v,i[v])===-1)break}}var qr={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function mo(i){var o={};if(o[qr.c]=!0,o[qr.e]=!0,i.l){o.get=function(){return i.l.v};var l=Yt(i.l,"v");l&&l.set&&(o.set=function(v){i.l.v=v})}return bt(i,function(v,S){o[qr[v]]=Es(S)?o[qr[v]]:S}),o}var $a=r(Ue,"defineProperty");function Hr(i,o,l){return $a(i,o,mo(l))}function xn(i,o,l,v,S){var w={};return bt(i,function(A,L){Yi(w,A,o?L:A,S),Yi(w,L,l?L:A,S)}),v?v(w):w}function Yi(i,o,l,v){$a(i,o,{value:l,enumerable:!0,writable:!!v})}var Hn=t(Re),jr="[object Error]";function Jt(i,o){var l=u,v=rt[Ne][ue](i);v===jr&&(i={stack:Hn(i.stack),message:Hn(i.message),name:Hn(i.name)});try{l=JSON.stringify(i,s,o?typeof o=="number"?o:4:n),l=(l?l.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):s)||Hn(i)}catch(S){l=" - "+Jt(S,o)}return v+": "+l}function lr(i){throw new Error(i)}function Br(i){throw new TypeError(i)}var au=r(Ue,"freeze");function Kn(i){return i}function Lf(i){return i[P]||s}var Fu=r(Ue,"assign"),Wr=r(Ue,"keys");function ho(i){return au&&bt(i,function(o,l){(at(l)||Cn(l))&&ho(l)}),Ht(i)}var Ht=t(au,Kn),Sn=t(r(Ue,"getPrototypeOf"),Lf);function qa(i){return xn(i,1,0,Ht)}function $o(i){return xn(i,0,0,Ht)}function $i(i){var o={};return bt(i,function(l,v){Yi(o,l,v[1]),Yi(o,v[0],v[1])}),Ht(o)}function Md(i){return $i(i)}var Uu=$o({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),qn="__tsUtils$gblCfg",yi;function qi(){var i;return typeof globalThis!==j&&(i=globalThis),!i&&typeof self!==j&&(i=self),!i&&typeof window!==j&&(i=window),!i&&typeof global!==j&&(i=global),i}function ju(){if(!yi){var i=wr(qi).v||{};yi=i[qn]=i[qn]||{}}return yi}var Ts=oa;function oa(i,o,l){var v=o?o[i]:s;return function(S){var w=(S?S[i]:s)||v;if(w||l){var A=arguments;return(w||l).apply(S,w?pr[ue](A,1):A)}Br('"'+Hn(i)+'" not defined for '+Jt(S))}}function Nr(i){return function(o){return o[i]}}var bn=r(Xe,"max"),Si=Ts("slice",nt),Bn=Ts("substring",nt),_o=oa("substr",nt,ws);function ws(i,o,l){return Ve(i)&&Br("Invalid "+Jt(i)),l<0?u:(o=o||0,o<0&&(o=bn(o+i[ce],0)),tt(l)?Si(i,o):Si(i,o,o+l))}function Jr(i,o){return Bn(i,0,o)}var Da="_urid",Ld;function Ff(){if(!Ld){var i=ju();Ld=i.gblSym=i.gblSym||{k:{},s:{}}}return Ld}var Fd;function on(i){var o={description:Hn(i),toString:function(){return Q+"("+i+")"}};return o[pe]=!0,o}function go(i){var o=Ff();if(!rr(o.k,i)){var l=on(i),v=Wr(o.s).length;l[Da]=function(){return v+"_"+l[Ne]()},o.k[i]=l,o.s[l[Da]()]=Hn(i)}return o.k[i]}function qo(i){!Fd&&(Fd={});var o,l=Uu[i];return l&&(o=Fd[l]=Fd[l]||on(Q+"."+l)),o}var kn;function Bo(){kn=ju()}function iu(i){var o={};return!kn&&Bo(),o.b=kn.lzy,$a(o,"v",{configurable:!0,get:function(){var l=i();return kn.lzy||$a(o,"v",{value:l}),o.b=kn.lzy,l}}),o}function Ba(i){return $a({toJSON:function(){return i}},"v",{value:i})}var sn="window",On;function Yu(i,o){var l;return function(){return!kn&&Bo(),(!l||kn.lzy)&&(l=Ba(wr(i,o).v)),l.v}}function ti(i){return!kn&&Bo(),(!On||i===!1||kn.lzy)&&(On=Ba(wr(qi).v||s)),On.v}function Tr(i,o){var l;if(!On||o===!1?l=ti(o):l=On.v,l&&l[i])return l[i];if(i===sn)try{return window}catch{}return s}function sa(){return!!Uf()}var Uf=Yu(Tr,["document"]);function ga(){return!!zo()}var zo=Yu(Tr,[sn]);function Dc(){return!!Go()}var Go=Yu(Tr,["navigator"]),jf=Yu(function(){return!!wr(function(){return process&&(process.versions||{}).node}).v}),tn,Sl;function za(){return tn=Ba(wr(Tr,[Q]).v),tn}function Ud(i){var o=(kn.lzy?0:tn)||za();return o.v?o.v[i]:n}function ri(){return!!Fp()}function Fp(){return!kn&&Bo(),((kn.lzy?0:tn)||za()).v}function ni(i,o){var l=Uu[i];!kn&&Bo();var v=(kn.lzy?0:tn)||za();return v.v?v.v[l||i]:o?n:qo(i)}function bl(i,o){!kn&&Bo();var l=(kn.lzy?0:tn)||za();return l.v?l.v(i):o?s:on(i)}function Bi(i){return!kn&&Bo(),Sl=(kn.lzy?0:Sl)||Ba(wr(Ud,["for"]).v),(Sl.v||go)(i)}function Yf(i){return!!i&&Qe(i.next)}function hr(i){return!Ir(i)&&Qe(i[ni(3)])}var Vo;function $f(i,o,l){if(i&&(Yf(i)||(!Vo&&(Vo=Ba(ni(3))),i=i[Vo.v]?i[Vo.v]():s),Yf(i))){var v=n,S=n;try{for(var w=0;!(S=i.next()).done&&o[ue](l||i,S.value,w,i)!==-1;)w++}catch(A){v={e:A},i.throw&&(S=s,i.throw(v))}finally{try{S&&!S.done&&i.return&&i.return(S)}finally{if(v)throw v.e}}}}function Ga(i,o,l){return i.apply(o,l)}function Cc(i,o){return!tt(o)&&i&&(at(o)?Ga(i.push,i,o):Yf(o)||hr(o)?$f(o,function(l){i.push(l)}):i.push(o)),i}function At(i,o,l){if(i)for(var v=i[ce]>>>0,S=0;S<v&&!(S in i&&o[ue](l||i,i[S],S,i)===-1);S++);}var ai=Ts("indexOf",Pt),$u=Ts("map",Pt);function El(i,o,l){return((i?i.slice:s)||pr).apply(i,pr[ue](arguments,1))}var kv=Ts("reduce",Pt),bi=t(r(Ue,"create"),Tl);function Tl(i){if(!i)return{};var o=typeof i;o!==b&&o!==h&&Br("Prototype must be an Object or function: "+Jt(i));function l(){}return l[N]=i,new l}var jd;function ou(i,o){var l=Ue.setPrototypeOf||function(v,S){var w;!jd&&(jd=Ba((w={},w[P]=[],w instanceof Array))),jd.v?v[P]=S:bt(S,function(A,L){return v[A]=L})};return l(i,o)}function Ei(i,o,l){wr(Hr,[o,se,{v:i,c:!0,e:!1}]),o=ou(o,l);function v(){this[H]=o,wr(Hr,[this,se,{v:i,c:!0,e:!1}])}return o[N]=l===s?bi(l):(v[N]=l[N],new v),o}function dt(i,o){o&&(i[se]=o)}function ua(i,o,l){var v=l||Error,S=v[N][se],w=Error.captureStackTrace;return Ei(i,function(){var A=this,L=arguments;try{wr(dt,[v,i]);var Y=Ga(v,A,pr[ue](L))||A;if(Y!==A){var B=Sn(A);B!==Sn(Y)&&ou(Y,B)}return w&&w(Y,A[H]),o&&o(Y,L),Y}finally{wr(dt,[v,S])}},v)}function su(){return(Date.now||Is)()}function Is(){return new Date().getTime()}function Yd(i){return function(l){return Ve(l)&&Br("strTrim called ["+Jt(l)+"]"),l&&l.replace&&(l=l.replace(i,u)),l}}var $d=Yd(/^\s+|(?=\s)\s+$/g),Wn=oa("trim",nt,$d),ii,qd,Ti;function Va(i){if(!i||typeof i!==b)return!1;Ti||(Ti=ga()?zo():!0);var o=!1;if(i!==Ti){qd||(ii=Function[N][Ne],qd=ii[ue](Ue));try{var l=Sn(i);o=!l,o||(it(l,H)&&(l=l[H]),o=!!(l&&typeof l===h&&ii[ue](l)===qd))}catch{}}return o}function Im(i){return i.value&&zi(i),!0}var Ov=[Ca,zi,Il,wl];function Up(i,o,l,v){var S;return At(i,function(w){if(w.k===o)return S=w,-1}),S||(S={k:o,v:o},i.push(S),v(S)),S.v}function uu(i,o,l,v){var S=l.handler,w=l.path?v?l.path.concat(v):l.path:[],A={handler:l.handler,src:l.src,path:w},L=typeof o,Y=!1,B=o===s;B||(o&&L===b?Y=Va(o):B=Vt(L));var X={type:L,isPrim:B,isPlain:Y,value:o,result:o,path:w,origin:l.src,copy:function(le,fe){return uu(i,le,fe?A:l,fe)},copyTo:function(le,fe){return jp(i,le,fe,A)}};return X.isPrim?S&&S[ue](l,X)?X.result:o:Up(i,o,w,function(le){Hr(X,"result",{g:function(){return le.v},s:function(oe){le.v=oe}});for(var fe=0,de=S;!(de||(fe<Ov.length?Ov[fe++]:Im))[ue](l,X);)de=s})}function jp(i,o,l,v){if(!Ve(l))for(var S in l)o[S]=uu(i,l[S],v,S);return o}function sh(i,o,l){var v={handler:l,src:o,path:[]};return jp([],i,o,v)}function Bd(i,o){var l={handler:o,src:i};return uu([],i,l)}function Ca(i){var o=i.value;if(at(o)){var l=i.result=[];return l.length=o.length,i.copyTo(l,o),!0}return!1}function wl(i){var o=i.value;return Nc(o)?(i.result=new Date(o.getTime()),!0):!1}function Il(i){return i.type===h}function zi(i){var o=i.value;if(o&&i.isPlain){var l=i.result={};return i.copyTo(l,o),!0}return!1}function oi(i,o){return At(o,function(l){sh(i,l)}),i}function cu(i,o,l,v,S,w,A){return oi(Bd(i)||{},pr[ue](arguments))}var Yp=Nr(ce),wi=oa("endsWith",nt,zd);function zd(i,o,l){Bt(i)||Br("'"+Jt(i)+"' is not a string");var v=Bt(o)?o:Hn(o),S=!tt(l)&&l<i[ce]?l:i[ce];return Bn(i,S-v[ce],S)===v}var qu=Ts("indexOf",nt),xc="ref",Nl="unref",qf="hasRef",Gd="enabled";function $p(i,o,l){var v=!0,S=i?o(s):s,w;function A(){return v=!1,S&&S[Nl]&&S[Nl](),w}function L(){S&&l(S),S=s}function Y(){return S=o(S),v||A(),w}function B(X){!X&&S&&L(),X&&!S&&Y()}return w={cancel:L,refresh:Y},w[qf]=function(){return S&&S[qf]?S[qf]():v},w[xc]=function(){return v=!0,S&&S[xc]&&S[xc](),w},w[Nl]=A,w=$a(w,Gd,{get:function(){return!!S},set:B}),{h:w,dn:function(){S=s}}}function qp(i,o,l){var v=at(o),S=v?o.length:0,w=(S>0?o[0]:v?n:o)||setTimeout,A=(S>1?o[1]:n)||clearTimeout,L=l[0];l[0]=function(){Y.dn(),Ga(L,n,pr[ue](arguments))};var Y=$p(i,function(B){if(B){if(B.refresh)return B.refresh(),B;Ga(A,n,[B])}return Ga(w,n,l)},function(B){Ga(A,n,[B])});return Y.h}function lu(i,o){return qp(!0,n,pr[ue](arguments))}function Vd(i,o){return qp(!1,n,pr[ue](arguments))}var Ns,Bu="constructor",Ii="prototype",Dl="function",Bf="_dynInstFuncs",Pc="_isDynProxy",Gi="_dynClass",Mv="_dynCls$",Ho="_dynInstChk",yo=Ho,Vi="_dfOpts",fu="_unknown_",zf="__proto__",Ac="_dyn"+zf,Rc="__dynProto$Gbl",zu="_dynInstProto",Gf="useBaseInst",Cl="setInstFuncs",Vf=Object,Gu=Vf.getPrototypeOf,Hi=Vf.getOwnPropertyNames,kc=ti(),So=kc[Rc]||(kc[Rc]={o:(Ns={},Ns[Cl]=!0,Ns[Gf]=!0,Ns),n:1e3});function si(i){return i&&(i===Vf[Ii]||i===Array[Ii])}function Ko(i){return si(i)||i===Function[Ii]}function zr(i){var o;if(i){if(Gu)return Gu(i);var l=i[zf]||i[Ii]||(i[Bu]?i[Bu][Ii]:null);o=i[Ac]||l,it(i,Ac)||(delete i[zu],o=i[Ac]=i[zu]||i[Ac],i[zu]=l)}return o}function Ds(i,o){var l=[];if(Hi)l=Hi(i);else for(var v in i)typeof v=="string"&&it(i,v)&&l.push(v);if(l&&l.length>0)for(var S=0;S<l.length;S++)o(l[S])}function Ki(i,o,l){return o!==Bu&&typeof i[o]===Dl&&(l||it(i,o))&&o!==zf&&o!==Ii}function Oc(i){Br("DynamicProto: "+i)}function Mc(i){var o=bi(null);return Ds(i,function(l){!o[l]&&Ki(i,l,!1)&&(o[l]=i[l])}),o}function Wo(i,o){for(var l=i.length-1;l>=0;l--)if(i[l]===o)return!0;return!1}function xl(i,o,l,v){function S(Y,B,X){var le=B[X];if(le[Pc]&&v){var fe=Y[Bf]||{};fe[yo]!==!1&&(le=(fe[B[Gi]]||{})[X]||le)}return function(){return le.apply(Y,arguments)}}var w=bi(null);Ds(l,function(Y){w[Y]=S(o,l,Y)});for(var A=zr(i),L=[];A&&!Ko(A)&&!Wo(L,A);)Ds(A,function(Y){!w[Y]&&Ki(A,Y,!Gu)&&(w[Y]=S(o,A,Y))}),L.push(A),A=zr(A);return w}function Jo(i,o,l,v){var S=null;if(i&&it(l,Gi)){var w=i[Bf]||bi(null);if(S=(w[l[Gi]]||bi(null))[o],S||Oc("Missing ["+o+"] "+Dl),!S[Ho]&&w[yo]!==!1){for(var A=!it(i,o),L=zr(i),Y=[];A&&L&&!Ko(L)&&!Wo(Y,L);){var B=L[o];if(B){A=B===v;break}Y.push(L),L=zr(L)}try{A&&(i[o]=S),S[Ho]=1}catch{w[yo]=!1}}}return S}function du(i,o,l){var v=o[i];return v===l&&(v=zr(o)[i]),typeof v!==Dl&&Oc("["+i+"] is not a "+Dl),v}function Ha(i,o,l,v,S){function w(Y,B){var X=function(){var le=Jo(this,B,Y,X)||du(B,Y,X);return le.apply(this,arguments)};return X[Pc]=1,X}if(!si(i)){var A=l[Bf]=l[Bf]||bi(null);if(!si(A)){var L=A[o]=A[o]||bi(null);A[yo]!==!1&&(A[yo]=!!S),si(L)||Ds(l,function(Y){Ki(l,Y,!1)&&l[Y]!==v[Y]&&(L[Y]=l[Y],delete l[Y],(!it(i,Y)||i[Y]&&!i[Y][Pc])&&(i[Y]=w(i,Y)))})}}}function Hd(i,o){if(Gu){for(var l=[],v=zr(o);v&&!Ko(v)&&!Wo(l,v);){if(v===i)return!0;l.push(v),v=zr(v)}return!1}return!0}function Vu(i,o){return it(i,Ii)?i.name||o||fu:((i||{})[Bu]||{}).name||o||fu}function xa(i,o,l,v){it(i,Ii)||Oc("theClass is an invalid class definition.");var S=i[Ii];Hd(S,o)||Oc("["+Vu(i)+"] not in hierarchy of ["+Vu(o)+"]");var w=null;it(S,Gi)?w=S[Gi]:(w=Mv+Vu(i,"_")+"$"+So.n,So.n++,S[Gi]=w);var A=xa[Vi],L=!!A[Gf];L&&v&&v[Gf]!==void 0&&(L=!!v[Gf]);var Y=Mc(o),B=xl(S,o,Y,L);l(o,B);var X=!!Gu&&!!A[Cl];X&&v&&(X=!!v[Cl]),Ha(S,w,o,Y,X!==!1)}xa[Vi]=So.o;var Hf="function",Kd="object",Pl="undefined",Al="prototype",Wd=Object,Lv=Wd[Al];(ti()||{}).Symbol,(ti()||{}).Reflect;var Hu="hasOwnProperty",bo=function(i){for(var o,l=1,v=arguments.length;l<v;l++){o=arguments[l];for(var S in o)Lv[Hu].call(o,S)&&(i[S]=o[S])}return i},Wi=Fu||bo,vn=function(i,o){return vn=Wd.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,v){l.__proto__=v}||function(l,v){for(var S in v)v[Hu](S)&&(l[S]=v[S])},vn(i,o)};function Rl(i,o){typeof o!==Hf&&o!==null&&Br("Class extends value "+String(o)+" is not a constructor or null"),vn(i,o);function l(){this.constructor=i}i[Al]=o===null?bi(o):(l[Al]=o[Al],new l)}function Ku(i,o){for(var l=0,v=o.length,S=i.length;l<v;l++,S++)i[S]=o[l];return i}var Wu=qa,Jd=Md,Ni=Wu({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2}),pu="toLowerCase",Cs="blkVal",ur="length",Eo="rdOnly",Zo="notify",Di="warnToConsole",Kf="throwInternal",Ci="setDf",vu="watch",un="logger",Ka="apply",kr="push",pt="splice",Ju="hdlr",To="cancel",xs="initialize",Ji="identifier",mu="removeNotificationListener",xi="addNotificationListener",Lr="isInitialized",wo="instrumentationKey",Or="INACTIVE",Io="value",Wf="getNotifyMgr",No="getPlugin",Pn="name",Zi="iKey",Xo="time",ya="processNext",Pa="getProcessTelContext",Lc="pollInternalLogs",Zu="enabled",Jf="stopPollingInternalLogs",Ps="unload",Do="onComplete",Co="version",Xu="loggingLevelConsole",xo="createNew",Mn="teardown",Zf="messageId",Qu="message",As="isAsync",ui="diagLog",Qo="_doTeardown",Rs="update",Pi="getNext",Fc="setNextPlugin",hu="protocol",ca="userAgent",_u="split",ks="nodeType",Ai="replace",ec="logInternalMessage",cn="type",Jn="handler",Ri="status",tc="getResponseHeader",es="getAllResponseHeaders",Zd="isChildEvt",ci="data",Uc="getCtx",Sa="setCtx",Xf="complete",Wa="itemsReceived",ts="urlString",rs="sendPOST",Xd="headers",kl="timeout",Qf="setRequestHeader",Ol="traceId",Po="spanId",Ja="traceFlags",jc;function Fv(i,o){jc||(jc=ua("AggregationError",function(v,S){S[ur]>1&&(v.errors=S[1])}));var l=i||"One or more errors occurred.";throw At(o,function(v,S){l+=`
`.concat(S," > ").concat(Jt(v))}),new jc(l,o||[])}var rc="Promise",nc="rejected";function ns(i,o){return Ml(i,function(l){return o?o({status:"fulfilled",rejected:!1,value:l}):l},function(l){return o?o({status:nc,rejected:!0,reason:l}):l})}function Ml(i,o,l,v){var S=i;try{if(It(i))(o||l)&&(S=i.then(o,l));else try{o&&(S=o(i))}catch(w){if(l)S=l(w);else throw w}}finally{v&&Nm(S,v)}return S}function Nm(i,o){var l=i;return o&&(It(i)?i.finally?l=i.finally(o):l=i.then(function(v){return o(),v},function(v){throw o(),v}):o()),l}var Qd=["pending","resolving","resolved",nc],Ll="dispatchEvent",ac;function Bp(i){var o;return i&&i.createEvent&&(o=i.createEvent("Event")),!!o&&o.initEvent}function Uv(i,o,l,v){var S=Uf();!ac&&(ac=Ba(!!wr(Bp,[S]).v));var w=ac.v?S.createEvent("Event"):v?new Event(o):{};if(l&&l(w),ac.v&&w.initEvent(o,!1,!0),w&&i[Ll])i[Ll](w);else{var A=i["on"+o];if(A)A(w);else{var L=Tr("console");L&&(L.error||L.log)(o,Jt(w))}}}var ic="unhandledRejection",jv=ic.toLowerCase(),Fl=10,ep;function Xi(i){return Qe(i)?i.toString():Jt(i)}function zp(i,o,l){var v=El(arguments,3),S=0,w=!1,A,L=[],Y=!1,B=null,X;function le(Ge,ct){try{Y=!0,B&&B.cancel(),B=null;var Sr=i(function(Xr,Qr){L.push(function(){try{var _n=S===2?Ge:ct,er=tt(_n)?A:Qe(_n)?_n(A):_n;It(er)?er.then(Xr,Qr):_n?Xr(er):S===3?Qr(er):Xr(er)}catch(Ut){Qr(Ut)}}),w&&xe()},v);return Sr}finally{}}function fe(Ge){return le(void 0,Ge)}function de(Ge){var ct=Ge,Sr=Ge;return Qe(Ge)&&(ct=function(Xr){return Ge&&Ge(),Xr},Sr=function(Xr){throw Ge&&Ge(),Xr}),le(ct,Sr)}function oe(){return Qd[S]}function xe(){if(L.length>0){var Ge=L.slice();L=[],Y=!0,B&&B.cancel(),B=null,o(Ge)}}function me(Ge,ct){return function(Sr){if(S===ct){if(Ge===2&&It(Sr)){S=1,Sr.then(me(2,1),me(3,1));return}S=Ge,w=!0,A=Sr,xe(),!Y&&Ge===3&&!B&&(B=lu(ke,Fl))}}}function ke(){if(!Y)if(Y=!0,jf())process.emit(ic,A,X);else{var Ge=zo()||ti();!ep&&(ep=Ba(wr(Tr,[rc+"RejectionEvent"]).v)),Uv(Ge,jv,function(ct){return Hr(ct,"promise",{g:function(){return X}}),ct.reason=A,ct},!!ep.v)}}X={then:le,catch:fe,finally:de},$a(X,"state",{get:oe}),ri()&&(X[ni(11)]="IPromise");function Oe(){return"IPromise "+oe()+(w?" - "+Xi(A):"")}return X.toString=Oe,function(){Qe(l)||Br(rc+": executor is not a function - "+Xi(l));var ct=me(3,0);try{l.call(X,me(2,0),ct)}catch(Sr){ct(Sr)}}(),X}function Dm(i){return function(o){var l=El(arguments,1);return i(function(v,S){try{var w=[],A=1;$f(o,function(L,Y){L&&(A++,Ml(L,function(B){w[Y]=B,--A===0&&v(w)},S))}),A--,A===0&&v(w)}catch(L){S(L)}},l)}}function ed(i){return Ba(function(o){var l=El(arguments,1);return i(function(v,S){var w=[],A=1;function L(Y,B){A++,ns(Y,function(X){X.rejected?w[B]={status:nc,reason:X.reason}:w[B]={status:"fulfilled",value:X.value},--A===0&&v(w)})}try{at(o)?At(o,L):hr(o)?$f(o,L):Br("Input is not an iterable"),A--,A===0&&v(w)}catch(Y){S(Y)}},l)})}function Gp(i){At(i,function(o){try{o()}catch{}})}function tp(i){var o=zt(i)?i:0;return function(l){lu(function(){Gp(l)},o)}}function Yc(i,o){return zp(Yc,tp(o),i,o)}var td;function oc(i,o){!td&&(td=Ba(wr(Tr,[rc]).v||null));var l=td.v;if(!l)return Yc(i);Qe(i)||Br(rc+": executor is not a function - "+Jt(i));var v=0;function S(){return Qd[v]}var w=new l(function(A,L){function Y(X){v=2,A(X)}function B(X){v=3,L(X)}i(Y,B)});return $a(w,"state",{get:S}),w}var Os;function $c(i){return zp($c,Gp,i)}function Yv(i,o){return!Os&&(Os=ed($c)),Os.v(i,o)}var rp;function qc(i,o){return!rp&&(rp=Ba(oc)),rp.v.call(this,i,o)}var np=Dm(qc),Ms=void 0,Fr="",sc="channels",la="core",ap="createPerfMgr",rd="disabled",Bc="extensionConfig",uc="extensions",Za="processTelemetry",nd="priority",Zn="eventsSent",vr="eventsDiscarded",Ls="eventsSendRequest",hn="perfEvent",as="offlineEventsStored",cc="offlineBatchSent",lc="offlineBatchDrop",Fs="getPerfMgr",Qi="domain",Ul="path",Vp="Not dynamic - ",jl=/-([a-z])/g,Hp=/([^\w\d_$])/g,Yl=/^(\d+[\w\d_$])/;function zc(i){return!Ve(i)}function ip(i){var o=i;return o&&Bt(o)&&(o=o[Ai](jl,function(l,v){return v.toUpperCase()}),o=o[Ai](Hp,"_"),o=o[Ai](Yl,function(l,v){return"_"+v})),o}function zn(i,o){return i&&o?qu(i,o)!==-1:!1}function Gc(i){return i&&i.toISOString()||""}function fa(i){return Gt(i)?i[Pn]:Fr}function gu(i,o,l,v,S){var w=l;return i&&(w=i[o],w!==l&&(!S||S(w))&&(!v||v(l))&&(w=l,i[o]=w)),w}function op(i,o,l){var v;return i?(v=i[o],!v&&Ve(v)&&(v=tt(l)?{}:l,i[o]=v)):v=tt(l)?{}:l,v}function ad(i,o){var l=null,v=null;return Qe(i)?l=i:v=i,function(){var S=arguments;if(l&&(v=l()),v)return v[o][Ka](v,S)}}function da(i,o,l,v,S){i&&o&&l&&(S!==!1||tt(i[o]))&&(i[o]=ad(l,v))}function id(i,o,l,v){return i&&o&&Cn(i)&&at(l)&&At(l,function(S){Bt(S)&&da(i,S,o,S,v)}),i}function sp(i){return function(){function o(){var l=this;i&&bt(i,function(v,S){l[v]=S})}return o}()}function Us(i){return i&&Fu&&(i=Wd(Fu({},i))),i}function Et(i,o,l,v,S,w){var A=arguments,L=A[0]||{},Y=A[ur],B=!1,X=1;for(Y>0&&vo(L)&&(B=L,L=A[X]||{},X++),Cn(L)||(L={});X<Y;X++){var le=A[X],fe=at(le),de=Cn(le);for(var oe in le){var xe=fe&&oe in le||de&&rr(le,oe);if(xe){var me=le[oe],ke=void 0;if(B&&me&&((ke=at(me))||Va(me))){var Oe=L[oe];ke?at(Oe)||(Oe=[]):Va(Oe)||(Oe={}),me=Et(B,Oe,me)}me!==void 0&&(L[oe]=me)}}}return L}function is(i){try{return i.responseText}catch{}return null}function os(i,o){return i?"XDomainRequest,Response:"+is(i)||"":o}function li(i,o){return i?"XMLHttpRequest,Status:"+i[Ri]+",Response:"+is(i)||i.response||"":o}function $l(i,o){return o&&(zt(o)?i=[o].concat(i):at(o)&&(i=o.concat(i))),i}var Vc="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",ss="withCredentials",ki="timeout";function Hc(i,o,l,v,S,w){v===void 0&&(v=!1),S===void 0&&(S=!1);function A(Y,B,X){try{Y[B]=X}catch{}}var L=new XMLHttpRequest;return v&&A(L,Vc,v),l&&A(L,ss,l),L.open(i,o,!S),l&&A(L,ss,l),!S&&w&&A(L,ki,w),L}function od(i){var o={};if(Bt(i)){var l=Wn(i)[_u](/[\r\n]+/);At(l,function(v){if(v){var S=v.indexOf(": ");if(S!==-1){var w=Wn(v.substring(0,S))[pu](),A=Wn(v.substring(S+1));o[w]=A}else o[Wn(v)]=1}})}return o}function js(i,o,l){if(!i[l]&&o&&o[tc]){var v=o[tc](l);v&&(i[l]=Wn(v))}return i}var ql="kill-duration",Kc="kill-duration-seconds",Bl="time-delta-millis";function up(i,o){var l={};return i[es]?l=od(i[es]()):o&&(l=js(l,i,Bl),l=js(l,i,ql),l=js(l,i,Kc)),l}var cp="documentMode",Kp="location",Cm="console",us="JSON",Ys="crypto",cs="msCrypto",Oi="msie",$s="trident/",yu="XMLHttpRequest",fi=null,Wc=null,$v=!1,fc=null,Wp=null;function zl(i,o){var l=!1;if(i){try{if(l=o in i,!l){var v=i[Al];v&&(l=o in v)}}catch{}if(!l)try{var S=new i;l=!tt(S[o])}catch{}}return l}function Jc(i){if(i&&$v){var o=Tr("__mockLocation");if(o)return o}return typeof location===Kd&&location?location:Tr(Kp)}function Gl(){return typeof console!==Pl?console:Tr(Cm)}function qs(){return!!(typeof JSON===Kd&&JSON||Tr(us)!==null)}function Mi(){return qs()?JSON||Tr(us):null}function Zc(){return Tr(Ys)}function Vl(){return Tr(cs)}function sd(){var i=Go();if(i&&(i[ca]!==Wc||fi===null)){Wc=i[ca];var o=(Wc||Fr)[pu]();fi=zn(o,Oi)||zn(o,$s)}return fi}function pa(i){if(i===void 0&&(i=null),!i){var o=Go()||{};i=o?(o.userAgent||Fr)[pu]():Fr}var l=(i||Fr)[pu]();if(zn(l,Oi)){var v=Uf()||{};return Math.max(parseInt(l[_u](Oi)[1]),v[cp]||0)}else if(zn(l,$s)){var S=parseInt(l[_u]($s)[1]);if(S)return S+4}return null}function Bs(i){return(Wp===null||i===!1)&&(Wp=Dc()&&!!Go().sendBeacon),Wp}function va(i){var o=!1;try{o=!!Tr("fetch");var l=Tr("Request");o&&i&&l&&(o=zl(l,"keepalive"))}catch{}return o}function ud(){return fc===null&&(fc=typeof XDomainRequest!==Pl,fc&&Su()&&(fc=fc&&!zl(Tr(yu),"withCredentials"))),fc}function Su(){var i=!1;try{var o=Tr(yu);i=!!o}catch{}return i}var cd=4294967296,Aa=4294967295,ma=123456789,Jp=987654321,Hl=!1,Kl=ma,bu=Jp;function qv(i){i<0&&(i>>>=0),Kl=ma+i&Aa,bu=Jp-i&Aa,Hl=!0}function Bv(){try{var i=su()&2147483647;qv((Math.random()*cd^i)+i)}catch{}}function Wl(i){var o=0,l=Zc()||Vl();return l&&l.getRandomValues&&(o=l.getRandomValues(new Uint32Array(1))[0]&Aa),o===0&&sd()&&(Hl||Bv(),o=Zp()&Aa),o===0&&(o=Math.floor(cd*Math.random()|0)),i||(o>>>=0),o}function Zp(i){bu=36969*(bu&65535)+(bu>>16)&Aa,Kl=18e3*(Kl&65535)+(Kl>>16)&Aa;var o=(bu<<16)+(Kl&65535)>>>0&Aa|0;return i||(o>>>=0),o}function Jl(i){i===void 0&&(i=22);for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=Wl()>>>0,v=0,S=Fr;S[ur]<i;)v++,S+=o.charAt(l&63),l>>>=6,v===5&&(l=(Wl()<<2&4294967295|l&3)>>>0,v=0);return S}var Xp="3.3.4",zv="."+Jl(6),Zl=0;function Gv(i){return i[ks]===1||i[ks]===9||!+i[ks]}function Eu(i,o){var l=o[i.id];if(!l){l={};try{Gv(o)&&Hr(o,i.id,{e:!1,v:l})}catch{}}return l}function Xc(i,o){return o===void 0&&(o=!1),ip(i+Zl+++(o?"."+Xp:Fr)+zv)}function lp(i){var o={id:Xc("_aiData-"+(i||Fr)+"."+Xp),accept:function(l){return Gv(l)},get:function(l,v,S,w){var A=l[o.id];return A?A[ip(v)]:(w&&(A=Eu(o,l),A[ip(v)]=S),S)},kill:function(l,v){if(l&&l[v])try{delete l[v]}catch{}}};return o}function ls(i){return i&&Cn(i)&&(i.isVal||i.fb||rr(i,"v")||rr(i,"mrg")||rr(i,"ref")||i.set)}function ld(i,o,l){var v,S=l.dfVal||pn;if(o&&l.fb){var w=l.fb;at(w)||(w=[w]);for(var A=0;A<w[ur];A++){var L=w[A],Y=o[L];if(S(Y)?v=Y:i&&(Y=i.cfg[L],S(Y)&&(v=Y),i.set(i.cfg,Hn(L),Y)),S(v))break}}return!S(v)&&S(l.v)&&(v=l.v),v}function Xl(i,o,l){var v=l;if(l&&ls(l)&&(v=ld(i,o,l)),v){ls(v)&&(v=Xl(i,o,v));var S;at(v)?(S=[],S[ur]=v[ur]):Va(v)&&(S={}),S&&(bt(v,function(w,A){A&&ls(A)&&(A=Xl(i,o,A)),S[w]=A}),v=S)}return v}function Ao(i,o,l,v){var S,w,A,L=v,Y,B,X,le;ls(L)?(S=L.isVal,w=L.set,X=L[Eo],le=L[Cs],Y=L.mrg,B=L.ref,!B&&tt(B)&&(B=!!Y),A=ld(i,o,L)):A=v,le&&i[Cs](o,l);var fe,de=!0,oe=o[l];(oe||!Ve(oe))&&(fe=oe,de=!1,S&&fe!==A&&!S(fe)&&(fe=A,de=!0),w&&(fe=w(fe,A,o),de=fe===A)),de?A?fe=Xl(i,o,A):fe=A:(Va(fe)||at(A))&&Y&&A&&(Va(A)||at(A))&&bt(A,function(xe,me){Ao(i,fe,xe,me)}),i.set(o,l,fe),B&&i.ref(o,l),X&&i[Eo](o,l)}var Qc=Bi("[[ai_dynCfg_1]]"),Vv=Bi("[[ai_blkDynCfg_1]]"),el=Bi("[[ai_frcDynCfg_1]]");function xm(i){if(i){var o;if(at(i)?(o=[],o[ur]=i[ur]):Va(i)&&(o={}),o)return bt(i,function(l,v){o[l]=xm(v)}),o}return i}function Ql(i){if(i){var o=i[Qc]||i;if(o.cfg&&(o.cfg===i||o.cfg[Qc]===o))return o}return null}function Hv(i){if(i&&(Va(i)||at(i)))try{i[Vv]=!0}catch{}return i}function Qp(i,o,l){var v=!1;return l&&!i[o.blkVal]&&(v=l[el],!v&&!l[Vv]&&(v=Va(l)||at(l))),v}function Tu(i){Br("InvalidAccess:"+i)}var wu=["push","pop","shift","unshift","splice"],tl=function(i,o,l,v){i&&i[Kf](3,108,"".concat(l," [").concat(o,"] failed - ")+Jt(v))};function fs(i,o,l){at(o)&&At(wu,function(v){var S=o[v];o[v]=function(){for(var w=[],A=0;A<arguments.length;A++)w[A]=arguments[A];var L=S[Ka](this,w);return tf(i,o,l,"Patching"),L}})}function zs(i,o){var l=Yt(i,o);return l&&l.get}function ef(i,o,l,v){var S={n:l,h:[],trk:function(B){B&&B.fn&&(ai(S.h,B)===-1&&S.h[kr](B),i.trk(B,S))},clr:function(B){var X=ai(S.h,B);X!==-1&&S.h[pt](X,1)}},w=!0,A=!1;function L(){w&&(A=A||Qp(L,i,v),v&&!v[Qc]&&A&&(v=tf(i,v,l,"Converting")),w=!1);var B=i.act;return B&&S.trk(B),v}L[i.prop]={chng:function(){i.add(S)}};function Y(B){if(v!==B){L[i.ro]&&!i.upd&&Tu("["+l+"] is read-only:"+Jt(o)),w&&(A=A||Qp(L,i,v),w=!1);var X=A&&L[i.rf];if(A)if(X){bt(v,function(fe){v[fe]=B?B[fe]:Ms});try{bt(B,function(fe,de){fd(i,v,fe,de)}),B=v}catch(fe){tl((i.hdlr||{})[un],l,"Assigning",fe),A=!1}}else v&&v[Qc]&&bt(v,function(fe){var de=zs(v,fe);if(de){var oe=de[i.prop];oe&&oe.chng()}});if(B!==v){var le=B&&Qp(L,i,B);!X&&le&&(B=tf(i,B,l,"Converting")),v=B,A=le}i.add(S)}}Hr(o,S.n,{g:L,s:Y})}function fd(i,o,l,v){if(o){var S=zs(o,l),w=S&&!!S[i.prop];w?o[l]=v:ef(i,o,l,v)}return o}function dd(i,o,l,v){if(o){var S=zs(o,l),w=S&&!!S[i.prop],A=v&&v[0],L=v&&v[1],Y=v&&v[2];if(!w){if(Y)try{Hv(o)}catch(B){tl((i.hdlr||{})[un],l,"Blocking",B)}try{fd(i,o,l,o[l]),S=zs(o,l)}catch(B){tl((i.hdlr||{})[un],l,"State",B)}}A&&(S[i.rf]=A),L&&(S[i.ro]=L),Y&&(S[i.blkVal]=!0)}return o}function tf(i,o,l,v){try{bt(o,function(S,w){fd(i,o,S,w)}),o[Qc]||($a(o,Qc,{get:function(){return i[Ju]}}),fs(i,o,l))}catch(S){tl((i.hdlr||{})[un],l,v,S)}return o}var di="[[ai_",rf="]]";function Kv(i){var o,l=bl(di+"get"+i.uid+rf),v=bl(di+"ro"+i.uid+rf),S=bl(di+"rf"+i.uid+rf),w=bl(di+"blkVal"+i.uid+rf),A=bl(di+"dtl"+i.uid+rf),L=null,Y=null,B;function X(oe,xe){var me=B.act;try{B.act=oe,oe&&oe[A]&&(At(oe[A],function(Oe){Oe.clr(oe)}),oe[A]=[]),xe({cfg:i.cfg,set:i.set.bind(i),setDf:i[Ci].bind(i),ref:i.ref.bind(i),rdOnly:i[Eo].bind(i)})}catch(Oe){var ke=i[un];throw ke&&ke[Kf](1,107,Jt(Oe)),Oe}finally{B.act=me||null}}function le(){if(L){var oe=L;L=null,Y&&Y[To](),Y=null;var xe=[];if(At(oe,function(me){if(me&&(me[A]&&(At(me[A],function(ke){ke.clr(me)}),me[A]=null),me.fn))try{X(me,me.fn)}catch(ke){xe[kr](ke)}}),L)try{le()}catch(me){xe[kr](me)}xe[ur]>0&&Fv("Watcher error(s): ",xe)}}function fe(oe){if(oe&&oe.h[ur]>0){L||(L=[]),Y||(Y=lu(function(){Y=null,le()},0));for(var xe=0;xe<oe.h[ur];xe++){var me=oe.h[xe];me&&ai(L,me)===-1&&L[kr](me)}}}function de(oe,xe){if(oe){var me=oe[A]=oe[A]||[];ai(me,xe)===-1&&me[kr](xe)}}return B=(o={prop:l,ro:v,rf:S},o[Cs]=w,o[Ju]=i,o.add=fe,o[Zo]=le,o.use=X,o.trk=de,o),B}function Pm(i,o){var l={fn:o,rm:function(){l.fn=null,i=null,o=null}};return Hr(l,"toJSON",{v:function(){return"WatcherHandler"+(l.fn?"":"[X]")}}),i.use(l,o),l}function rl(i,o,l){var v,S=Ql(o);if(S)return S;var w=Xc("dyncfg",!0),A=o&&l!==!1?o:xm(o),L;function Y(){L[Zo]()}function B(ke,Oe,Ge){try{ke=fd(L,ke,Oe,Ge)}catch(ct){tl(i,Oe,"Setting value",ct)}return ke[Oe]}function X(ke){return Pm(L,ke)}function le(ke,Oe){L.use(null,function(Ge){var ct=L.upd;try{tt(Oe)||(L.upd=Oe),ke(Ge)}finally{L.upd=ct}})}function fe(ke,Oe){var Ge;return dd(L,ke,Oe,(Ge={},Ge[0]=!0,Ge))[Oe]}function de(ke,Oe){var Ge;return dd(L,ke,Oe,(Ge={},Ge[1]=!0,Ge))[Oe]}function oe(ke,Oe){var Ge;return dd(L,ke,Oe,(Ge={},Ge[2]=!0,Ge))[Oe]}function xe(ke,Oe){return Oe&&bt(Oe,function(Ge,ct){Ao(me,ke,Ge,ct)}),ke}var me=(v={uid:null,cfg:A},v[un]=i,v[Zo]=Y,v.set=B,v[Ci]=xe,v[vu]=X,v.ref=fe,v[Eo]=de,v[Cs]=oe,v._block=le,v);return Hr(me,"uid",{c:!1,e:!1,w:!1,v:w}),L=Kv(me),tf(L,A,"config","Creating"),me}function Am(i,o){i?(i[Di](o),i[Kf](2,108,o)):Tu(o)}function Ro(i,o,l,v){var S=rl(l,i||{},v);return o&&S[Ci](S.cfg,o),S}function Iu(i,o,l){var v=i[Qc]||i;return v.cfg&&(v.cfg===i||v.cfg[Qc]===v)?v[vu](o):(Am(l,Vp+Jt(i)),Ro(i,null,l)[vu](o))}function nl(i,o){if(i&&i[Ps])return i[Ps](o)}function Wv(i,o,l){var v;return l||(v=qc(function(S){l=S})),i&&Yp(i)>0?ns(nl(i[0],o),function(){Wv(El(i,1),o,l)}):l(),v}var fp=500,Jv="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";function ev(i,o,l){return!i&&Ve(i)?o:vo(i)?i:Hn(i)[pu]()==="true"}function pd(i){return{mrg:!0,v:i}}function al(i,o,l){return{fb:l,isVal:i,v:o}}function eo(i,o){return{fb:o,set:ev,v:!!i}}var vd=[Zn,vr,Ls,hn],il=null,Ra;function to(i,o){return function(){var l=arguments,v=Zv(o);if(v){var S=v.listener;S&&S[i]&&S[i][Ka](S,l)}}}function nf(){var i=Tr("Microsoft");return i&&(il=i.ApplicationInsights),il}function Zv(i){var o=il;return!o&&i.disableDbgExt!==!0&&(o=il||nf()),o?o.ChromeDbgExt:null}function Xv(i){if(!Ra){Ra={};for(var o=0;o<vd[ur];o++)Ra[vd[o]]=to(vd[o],i)}return Ra}var ha,ol="warnToConsole",af="AI (Internal): ",Rm="AI: ",Qv="AITR_",of={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},ka=(ha={},ha[0]=null,ha[1]="errorToConsole",ha[2]=ol,ha[3]="debugToConsole",ha);function dp(i){return i?'"'+i[Ai](/\"/g,Fr)+'"':Fr}function dc(i,o){var l=Gl();if(l){var v="log";l[i]&&(v=i),Qe(l[v])&&l[v](o)}}var sl=function(){function i(o,l,v,S){v===void 0&&(v=!1);var w=this;w[Zf]=o,w[Qu]=(v?Rm:af)+o;var A=Fr;qs()&&(A=Mi().stringify(S));var L=(l?" message:"+dp(l):Fr)+(S?" props:"+dp(A):Fr);w[Qu]+=L}return i.dataType="MessageData",i}();function Gs(i,o){return(i||{})[un]||new sf(o)}var sf=function(){function i(o){this.identifier="DiagnosticLogger",this.queue=[];var l=0,v={},S,w,A,L,Y;xa(i,this,function(B){Y=le(o||{}),B.consoleLoggingLevel=function(){return S},B[Kf]=function(oe,xe,me,ke,Oe){Oe===void 0&&(Oe=!1);var Ge=new sl(xe,me,Oe,ke);if(L)throw Jt(Ge);var ct=ka[oe]||ol;if(tt(Ge[Qu]))de("throw"+(oe===1?"Critical":"Warning"),Ge);else{if(Oe){var Sr=+Ge[Zf];!v[Sr]&&S>=oe&&(B[ct](Ge[Qu]),v[Sr]=!0)}else S>=oe&&B[ct](Ge[Qu]);X(oe,Ge)}},B.debugToConsole=function(oe){dc("debug",oe),de("warning",oe)},B[Di]=function(oe){dc("warn",oe),de("warning",oe)},B.errorToConsole=function(oe){dc("error",oe),de("error",oe)},B.resetInternalMessageCount=function(){l=0,v={}},B[ec]=X,B[Ps]=function(oe){Y&&Y.rm(),Y=null};function X(oe,xe){if(!fe()){var me=!0,ke=Qv+xe[Zf];if(v[ke]?me=!1:v[ke]=!0,me&&(oe<=w&&(B.queue[kr](xe),l++,de(oe===1?"error":"warn",xe)),l===A)){var Oe="Internal events throttle limit per PageView reached for this app.",Ge=new sl(23,Oe,!1);B.queue[kr](Ge),oe===1?B.errorToConsole(Oe):B[Di](Oe)}}}function le(oe){return Iu(Ro(oe,of,B).cfg,function(xe){var me=xe.cfg;S=me[Xu],w=me.loggingLevelTelemetry,A=me.maxMessageLimit,L=me.enableDebug})}function fe(){return l>=A}function de(oe,xe){var me=Zv(o||{});me&&me[ui]&&me[ui](oe,xe)}})}return i.__ieDyn=1,i}();function pp(i){return i||new sf}function St(i,o,l,v,S,w){w===void 0&&(w=!1),pp(i)[Kf](o,l,v,S,w)}function Nu(i,o){pp(i)[Di](o)}var ko,uf,km="toGMTString",cf="toUTCString",md="cookie",Oo="expires",em="isCookieUseDisabled",vp="disableCookiesUsage",mp="_ckMgr",lf=null,pc=null,tv=null,Yr,Vs={},rv={},Du=(ko={cookieCfg:pd((uf={},uf[Qi]={fb:"cookieDomain",dfVal:zc},uf.path={fb:"cookiePath",dfVal:zc},uf.enabled=Ms,uf.ignoreCookies=Ms,uf.blockedCookies=Ms,uf)),cookieDomain:Ms,cookiePath:Ms},ko[vp]=Ms,ko);function ro(){!Yr&&(Yr=iu(function(){return Uf()}))}function Ln(i){return i?i.isEnabled():!0}function hd(i,o){return o&&i&&at(i.ignoreCookies)?ai(i.ignoreCookies,o)!==-1:!1}function vc(i,o){return o&&i&&at(i.blockedCookies)&&ai(i.blockedCookies,o)!==-1?!0:hd(i,o)}function ul(i,o){var l=o[Zu];if(Ve(l)){var v=void 0;tt(i[em])||(v=!i[em]),tt(i[vp])||(v=!i[vp]),l=v}return l}function ds(i,o){var l,v,S,w,A,L,Y,B,X;i=Ro(i||rv,null,o).cfg,A=Iu(i,function(fe){fe[Ci](fe.cfg,Du),v=fe.ref(fe.cfg,"cookieCfg"),S=v[Ul]||"/",w=v[Qi],L=ul(i,v)!==!1,Y=v.getCookie||nv,B=v.setCookie||ps,X=v.delCookie||ps},o);var le=(l={isEnabled:function(){var fe=ul(i,v)!==!1&&L&&no(o),de=rv[mp];return fe&&de&&le!==de&&(fe=Ln(de)),fe},setEnabled:function(fe){L=fe!==!1,v[Zu]=fe},set:function(fe,de,oe,xe,me){var ke=!1;if(Ln(le)&&!vc(v,fe)){var Oe={},Ge=Wn(de||Fr),ct=qu(Ge,";");if(ct!==-1&&(Ge=Wn(Jr(de,ct)),Oe=Mo(Bn(de,ct+1))),gu(Oe,Qi,xe||w,en,tt),!Ve(oe)){var Sr=sd();if(tt(Oe[Oo])){var Xr=su(),Qr=Xr+oe*1e3;if(Qr>0){var _n=new Date;_n.setTime(Qr),gu(Oe,Oo,_d(_n,Sr?km:cf)||_d(_n,Sr?km:cf)||Fr,en)}}Sr||gu(Oe,"max-age",Fr+oe,null,tt)}var er=Jc();er&&er[hu]==="https:"&&(gu(Oe,"secure",null,null,tt),pc===null&&(pc=!av((Go()||{})[ca])),pc&&gu(Oe,"SameSite","None",null,tt)),gu(Oe,Ul,me||S,null,tt),B(fe,hp(Ge,Oe)),ke=!0}return ke},get:function(fe){var de=Fr;return Ln(le)&&!hd(v,fe)&&(de=Y(fe)),de},del:function(fe,de){var oe=!1;return Ln(le)&&(oe=le.purge(fe,de)),oe},purge:function(fe,de){var oe,xe=!1;if(no(o)){var me=(oe={},oe[Ul]=de||"/",oe[Oo]="Thu, 01 Jan 1970 00:00:01 GMT",oe);sd()||(me["max-age"]="0"),X(fe,hp(Fr,me)),xe=!0}return xe}},l[Ps]=function(fe){A&&A.rm(),A=null},l);return le[mp]=le,le}function no(i){if(lf===null){lf=!1,!Yr&&ro();try{var o=Yr.v||{};lf=o[md]!==void 0}catch(l){St(i,2,68,"Cannot access document.cookie - "+fa(l),{exception:Jt(l)})}}return lf}function Mo(i){var o={};if(i&&i[ur]){var l=Wn(i)[_u](";");At(l,function(v){if(v=Wn(v||Fr),v){var S=qu(v,"=");S===-1?o[v]=null:o[Wn(Jr(v,S))]=Wn(Bn(v,S+1))}})}return o}function _d(i,o){return Qe(i[o])?i[o]():null}function hp(i,o){var l=i||Fr;return bt(o,function(v,S){l+="; "+v+(Ve(S)?Fr:"="+S)}),l}function nv(i){var o=Fr;if(!Yr&&ro(),Yr.v){var l=Yr.v[md]||Fr;tv!==l&&(Vs=Mo(l),tv=l),o=Wn(Vs[i]||Fr)}return o}function ps(i,o){!Yr&&ro(),Yr.v&&(Yr.v[md]=i+"="+o)}function av(i){return Bt(i)?!!(zn(i,"CPU iPhone OS 12")||zn(i,"iPad; CPU OS 12")||zn(i,"Macintosh; Intel Mac OS X 10_14")&&zn(i,"Version/")&&zn(i,"Safari")||zn(i,"Macintosh; Intel Mac OS X 10_14")&&wi(i,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||zn(i,"Chrome/5")||zn(i,"Chrome/6")||zn(i,"UnrealEngine")&&!zn(i,"Chrome")||zn(i,"UCBrowser/12")||zn(i,"UCBrowser/11")):!1}var gd={perfEvtsSendAll:!1};function iv(i){i.h=null;var o=i.cb;i.cb=[],At(o,function(l){wr(l.fn,[l.arg])})}function vs(i,o,l,v){At(i,function(S){S&&S[o]&&(l?(l.cb[kr]({fn:v,arg:S}),l.h=l.h||lu(iv,0,l)):wr(v,[S]))})}var Om=function(){function i(o){this.listeners=[];var l,v,S=[],w={h:null,cb:[]},A=Ro(o,gd);v=A[vu](function(L){l=!!L.cfg.perfEvtsSendAll}),xa(i,this,function(L){Hr(L,"listeners",{g:function(){return S}}),L[xi]=function(Y){S[kr](Y)},L[mu]=function(Y){for(var B=ai(S,Y);B>-1;)S[pt](B,1),B=ai(S,Y)},L[Zn]=function(Y){vs(S,Zn,w,function(B){B[Zn](Y)})},L[vr]=function(Y,B){vs(S,vr,w,function(X){X[vr](Y,B)})},L[Ls]=function(Y,B){vs(S,Ls,B?w:null,function(X){X[Ls](Y,B)})},L[hn]=function(Y){Y&&(l||!Y[Zd]())&&vs(S,hn,null,function(B){Y[As]?lu(function(){return B[hn](Y)},0):B[hn](Y)})},L[as]=function(Y){Y&&Y[ur]&&vs(S,as,w,function(B){B[as](Y)})},L[cc]=function(Y){Y&&Y[ci]&&vs(S,cc,w,function(B){B[cc](Y)})},L[lc]=function(Y,B){if(Y>0){var X=B||0;vs(S,lc,w,function(le){le[lc](Y,X)})}},L[Ps]=function(Y){var B=function(){v&&v.rm(),v=null,S=[],w.h&&w.h[To](),w.h=null,w.cb=[]},X;if(vs(S,"unload",null,function(le){var fe=le[Ps](Y);fe&&(X||(X=[]),X[kr](fe))}),X)return qc(function(le){return ns(np(X),function(){B(),le()})});B()}})}return i.__ieDyn=1,i}(),Cu="ctx",ov="ParentContextKey",f="ChildrenContextKey",m=null,y=function(){function i(o,l,v){var S=this;if(S.start=su(),S[Pn]=o,S[As]=v,S[Zd]=function(){return!1},Qe(l)){var w;Hr(S,"payload",{g:function(){return!w&&Qe(l)&&(w=l(),l=null),w}})}S[Uc]=function(A){return A?A===i[ov]||A===i[f]?S[A]:(S[Cu]||{})[A]:null},S[Sa]=function(A,L){if(A)if(A===i[ov])S[A]||(S[Zd]=function(){return!0}),S[A]=L;else if(A===i[f])S[A]=L;else{var Y=S[Cu]=S[Cu]||{};Y[A]=L}},S[Xf]=function(){var A=0,L=S[Uc](i[f]);if(at(L))for(var Y=0;Y<L[ur];Y++){var B=L[Y];B&&(A+=B[Xo])}S[Xo]=su()-S.start,S.exTime=S[Xo]-A,S[Xf]=function(){}}}return i.ParentContextKey="parent",i.ChildrenContextKey="childEvts",i}(),I=function(){function i(o){this.ctx={},xa(i,this,function(l){l.create=function(v,S,w){return new y(v,S,w)},l.fire=function(v){v&&(v[Xf](),o&&Qe(o[hn])&&o[hn](v))},l[Sa]=function(v,S){if(v){var w=l[Cu]=l[Cu]||{};w[v]=S}},l[Uc]=function(v){return(l[Cu]||{})[v]}})}return i.__ieDyn=1,i}(),F="CoreUtils.doPerf";function V(i,o,l,v,S){if(i){var w=i;if(w[Fs]&&(w=w[Fs]()),w){var A=void 0,L=w[Uc](F);try{if(A=w.create(o(),v,S),A){if(L&&A[Sa]&&(A[Sa](y[ov],L),L[Uc]&&L[Sa])){var Y=L[Uc](y[f]);Y||(Y=[],L[Sa](y[f],Y)),Y[kr](A)}return w[Sa](F,A),l(A)}}catch(B){A&&A[Sa]&&A[Sa]("exception",B)}finally{A&&w.fire(A),w[Sa](F,L)}}}return l()}function J(){return m}var re="00000000000000000000000000000000",te="0000000000000000";function _e(i,o,l){return i&&i[ur]===o&&i!==l?!!i.match(/^[\da-f]*$/i):!1}function et(i){return _e(i,32,re)}function Tt(i){return _e(i,16,te)}var Zt=lp("plugin");function ot(i){return Zt.get(i,"state",{},!0)}function lt(i,o){for(var l=[],v=null,S=i[Pi](),w;S;){var A=S[No]();if(A){v&&v[Fc]&&A[Za]&&v[Fc](A),w=ot(A);var L=!!w[Lr];A[Lr]&&(L=A[Lr]()),L||l[kr](A),v=A,S=S[Pi]()}}At(l,function(Y){var B=i[la]();Y[xs](i.getCfg(),B,o,i[Pi]()),w=ot(Y),!Y[la]&&!w[la]&&(w[la]=B),w[Lr]=!0,delete w[Mn]})}function ir(i){return i.sort(function(o,l){var v=0;if(l){var S=l[Za];o[Za]?v=S?o[nd]-l[nd]:1:S&&(v=-1)}else v=o?1:-1;return v})}function Lt(i){var o={};return{getName:function(){return o[Pn]},setName:function(l){i&&i.setName(l),o[Pn]=l},getTraceId:function(){return o[Ol]},setTraceId:function(l){i&&i.setTraceId(l),et(l)&&(o[Ol]=l)},getSpanId:function(){return o[Po]},setSpanId:function(l){i&&i.setSpanId(l),Tt(l)&&(o[Po]=l)},getTraceFlags:function(){return o[Ja]},setTraceFlags:function(l){i&&i.setTraceFlags(l),o[Ja]=l}}}var gr="TelemetryPluginChain",br="_hasRun",Rt="_getTelCtx",En=0;function mc(i,o,l){for(;i;){if(i[No]()===l)return i;i=i[Pi]()}return df([l],o.config||{},o)}function Hs(i,o,l,v){var S=null,w=[];o||(o=Ro({},null,l[un])),v!==null&&(S=v?mc(i,l,v):i);var A={_next:Y,ctx:{core:function(){return l},diagLog:function(){return Gs(l,o.cfg)},getCfg:function(){return o.cfg},getExtCfg:X,getConfig:le,hasNext:function(){return!!S},getNext:function(){return S},setNext:function(de){S=de},iterate:fe,onComplete:L}};function L(de,oe){for(var xe=[],me=2;me<arguments.length;me++)xe[me-2]=arguments[me];de&&w[kr]({func:de,self:tt(oe)?A.ctx:oe,args:xe})}function Y(){var de=S;if(S=de?de[Pi]():null,!de){var oe=w;oe&&oe[ur]>0&&(At(oe,function(xe){try{xe.func.call(xe.self,xe.args)}catch(me){St(l[un],2,73,"Unexpected Exception during onComplete - "+Jt(me))}}),w=[])}return de}function B(de,oe){var xe=null,me=o.cfg;if(me&&de){var ke=me[Bc];!ke&&oe&&(ke={}),me[Bc]=ke,ke=o.ref(me,Bc),ke&&(xe=ke[de],!xe&&oe&&(xe={}),ke[de]=xe,xe=o.ref(ke,de))}return xe}function X(de,oe){var xe=B(de,!0);return oe&&bt(oe,function(me,ke){if(Ve(xe[me])){var Oe=o.cfg[me];(Oe||!Ve(Oe))&&(xe[me]=Oe)}Ao(o,xe,me,ke)}),o[Ci](xe,oe)}function le(de,oe,xe){xe===void 0&&(xe=!1);var me,ke=B(de,!1),Oe=o.cfg;return ke&&(ke[oe]||!Ve(ke[oe]))?me=ke[oe]:(Oe[oe]||!Ve(Oe[oe]))&&(me=Oe[oe]),me||!Ve(me)?me:xe}function fe(de){for(var oe;oe=A._next();){var xe=oe[No]();xe&&de(xe)}}return A}function cl(i,o,l,v){var S=Ro(o),w=Hs(i,S,l,v),A=w.ctx;function L(B){var X=w._next();return X&&X[Za](B,A),!X}function Y(B,X){return B===void 0&&(B=null),at(B)&&(B=df(B,S.cfg,l,X)),cl(B||A[Pi](),S.cfg,l,X)}return A[ya]=L,A[xo]=Y,A}function ff(i,o,l){var v=Ro(o.config),S=Hs(i,v,o,l),w=S.ctx;function A(Y){var B=S._next();return B&&B[Ps](w,Y),!B}function L(Y,B){return Y===void 0&&(Y=null),at(Y)&&(Y=df(Y,v.cfg,o,B)),ff(Y||w[Pi](),o,B)}return w[ya]=A,w[xo]=L,w}function yd(i,o,l){var v=Ro(o.config),S=Hs(i,v,o,l),w=S.ctx;function A(Y){return w.iterate(function(B){Qe(B[Rs])&&B[Rs](w,Y)})}function L(Y,B){return Y===void 0&&(Y=null),at(Y)&&(Y=df(Y,v.cfg,o,B)),yd(Y||w[Pi](),o,B)}return w[ya]=A,w[xo]=L,w}function df(i,o,l,v){var S=null,w=!v;if(at(i)&&i[ur]>0){var A=null;At(i,function(L){if(!w&&v===L&&(w=!0),w&&L&&Qe(L[Za])){var Y=pf(L,o,l);S||(S=Y),A&&A._setNext(Y),A=Y}})}return v&&!S?df([v],o,l):S}function pf(i,o,l){var v=null,S=Qe(i[Za]),w=Qe(i[Fc]),A;i?A=i[Ji]+"-"+i[nd]+"-"+En++:A="Unknown-0-"+En++;var L={getPlugin:function(){return i},getNext:function(){return v},processTelemetry:X,unload:le,update:fe,_id:A,_setNext:function(de){v=de}};function Y(){var de;return i&&Qe(i[Rt])&&(de=i[Rt]()),de||(de=cl(L,o,l)),de}function B(de,oe,xe,me,ke){var Oe=!1,Ge=i?i[Ji]:gr,ct=de[br];return ct||(ct=de[br]={}),de.setNext(v),i&&V(de[la](),function(){return Ge+":"+xe},function(){ct[A]=!0;try{var Sr=v?v._id:Fr;Sr&&(ct[Sr]=!1),Oe=oe(de)}catch(Qr){var Xr=v?ct[v._id]:!0;Xr&&(Oe=!0),(!v||!Xr)&&St(de[ui](),1,73,"Plugin ["+Ge+"] failed during "+xe+" - "+Jt(Qr)+", run flags: "+Jt(ct))}},me,ke),Oe}function X(de,oe){oe=oe||Y();function xe(me){if(!i||!S)return!1;var ke=ot(i);return ke[Mn]||ke[rd]?!1:(w&&i[Fc](v),i[Za](de,me),!0)}B(oe,xe,"processTelemetry",function(){return{item:de}},!de.sync)||oe[ya](de)}function le(de,oe){function xe(){var me=!1;if(i){var ke=ot(i),Oe=i[la]||ke[la];i&&(!Oe||Oe===de.core())&&!ke[Mn]&&(ke[la]=null,ke[Mn]=!0,ke[Lr]=!1,i[Mn]&&i[Mn](de,oe)===!0&&(me=!0))}return me}B(de,xe,"unload",function(){},oe[As])||de[ya](oe)}function fe(de,oe){function xe(){var me=!1;if(i){var ke=ot(i),Oe=i[la]||ke[la];i&&(!Oe||Oe===de.core())&&!ke[Mn]&&i[Rs]&&i[Rs](de,oe)===!0&&(me=!0)}return me}B(de,xe,"update",function(){},!1)||de[ya](oe)}return Ht(L)}function Sd(){var i=[];function o(v){v&&i[kr](v)}function l(v,S){At(i,function(w){try{w(v,S)}catch(A){St(v[ui](),2,73,"Unexpected error calling unload handler - "+Jt(A))}}),i=[]}return{add:o,run:l}}function vf(){var i=[];function o(v){var S=i;i=[],At(S,function(w){try{(w.rm||w.remove).call(w)}catch(A){St(v,2,73,"Unloading:"+Jt(A))}})}function l(v){v&&Cc(i,v)}return{run:o,add:l}}var Pe,vt="getPlugin",$t=(Pe={},Pe[Bc]={isVal:zc,v:{}},Pe),rn=function(){function i(){var o=this,l,v,S,w,A;B(),xa(i,o,function(X){X[xs]=function(le,fe,de,oe){Y(le,fe,oe),l=!0},X[Mn]=function(le,fe){var de,oe=X[la];if(!oe||le&&oe!==le[la]())return;var xe,me=!1,ke=le||ff(null,oe,S&&S[vt]?S[vt]():S),Oe=fe||(de={reason:0},de[As]=!1,de);function Ge(){me||(me=!0,w.run(ke,fe),A.run(ke[ui]()),xe===!0&&ke[ya](Oe),B())}return!X[Qo]||X[Qo](ke,Oe,Ge)!==!0?Ge():xe=!0,xe},X[Rs]=function(le,fe){var de=X[la];if(!de||le&&de!==le[la]())return;var oe,xe=!1,me=le||yd(null,de,S&&S[vt]?S[vt]():S),ke=fe||{reason:0};function Oe(){xe||(xe=!0,Y(me.getCfg(),me.core(),me[Pi]()))}return!X._doUpdate||X._doUpdate(me,ke,Oe)!==!0?Oe():oe=!0,oe},da(X,"_addUnloadCb",function(){return w},"add"),da(X,"_addHook",function(){return A},"add"),Hr(X,"_unloadHooks",{g:function(){return A}})}),o[ui]=function(X){return L(X)[ui]()},o[Lr]=function(){return l},o.setInitialized=function(X){l=X},o[Fc]=function(X){S=X},o[ya]=function(X,le){le?le[ya](X):S&&Qe(S[Za])&&S[Za](X,null)},o._getTelCtx=L;function L(X){X===void 0&&(X=null);var le=X;if(!le){var fe=v||cl(null,{},o[la]);S&&S[vt]?le=fe[xo](null,S[vt]):le=fe[xo](null,S)}return le}function Y(X,le,fe){Ro(X,$t,Gs(le)),!fe&&le&&(fe=le[Pa]()[Pi]());var de=S;S&&S[vt]&&(de=S[vt]()),o[la]=le,v=cl(fe,X,le,de)}function B(){l=!1,o[la]=null,v=null,S=null,A=vf(),w=Sd()}}return i.__ieDyn=1,i}();function ba(i,o,l){var v={id:o,fn:l};Cc(i,v);var S={remove:function(){At(i,function(w,A){if(w.id===v.id)return i[pt](A,1),-1})}};return S}function Ea(i,o,l){for(var v=!1,S=i[ur],w=0;w<S;++w){var A=i[w];if(A)try{if(A.fn[Ka](null,[o])===!1){v=!0;break}}catch(L){St(l,2,64,"Telemetry initializer failed: "+fa(L),{exception:Jt(L)},!0)}}return!v}var Xn=function(i){Rl(o,i);function o(){var l=i.call(this)||this;l.identifier="TelemetryInitializerPlugin",l.priority=199;var v,S;w(),xa(o,l,function(A,L){A.addTelemetryInitializer=function(Y){return ba(S,v++,Y)},A[Za]=function(Y,B){Ea(S,Y,B?B[ui]():A[ui]())&&A[ya](Y,B)},A[Qo]=function(){w()}});function w(){v=0,S=[]}return l}return o.__ieDyn=1,o}(rn),pi,ms="Plugins must provide initialize method",ll="_notificationManager",tm="SDK is still unloading...",xu="SDK is not initialized",bd=100,Mm=5e4,Qn=ho((pi={cookieCfg:{}},pi[uc]={rdOnly:!0,ref:!0,v:[]},pi[sc]={rdOnly:!0,ref:!0,v:[]},pi[Bc]={ref:!0,v:{}},pi[ap]=Ms,pi.loggingLevelConsole=0,pi.diagnosticLogInterval=Ms,pi));function hs(i,o){return new I(o)}function rm(i,o,l){var v,S=[],w=[],A={};return At(l,function(L){(Ve(L)||Ve(L[xs]))&&lr(ms);var Y=L[nd],B=L[Ji];L&&Y&&(Ve(A[Y])?A[Y]=B:Nu(i,"Two extensions have same priority #"+Y+" - "+A[Y]+", "+B)),!Y||Y<o?S[kr](L):w[kr](L)}),v={},v[la]=S,v[sc]=w,v}function Lm(i,o){var l=!1;return At(o,function(v){if(v===i)return l=!0,-1}),l}function sv(i,o,l,v){l&&bt(l,function(S,w){v&&Va(w)&&Va(o[S])&&sv(i,o[S],w,v),v&&Va(w)&&Va(o[S])?sv(i,o[S],w,v):i.set(o,S,w)})}function Fm(i,o){var l=null,v=-1;return At(i,function(S,w){if(S.w===o)return l=S,v=w,-1}),{i:v,l}}function Um(i,o){var l=Fm(i,o).l;return l||(l={w:o,rm:function(){var v=Fm(i,o);v.i!==-1&&i[pt](v.i,1)}},i[kr](l)),l}function Gh(i,o,l){At(o,function(v){var S=Iu(i,v.w,l);delete v.w,v.rm=function(){S.rm()}})}function jm(i,o,l,v){return o.add(i[vu](function(S){var w=S.cfg.disableDbgExt;w===!0&&v&&(l[mu](v),v=null),l&&!v&&w!==!0&&(v=Xv(S.cfg),l[xi](v))})),v}function Ym(i){return Hr({rm:function(){i.rm()}},"toJSON",{v:function(){return"aicore::onCfgChange<"+JSON.stringify(i)+">"}})}var fl=function(){function i(){var o,l,v,S,w,A,L,Y,B,X,le,fe,de,oe,xe,me,ke,Oe,Ge,ct,Sr,Xr,Qr,_n,er,Ut,Kr,Ua,aa,Ke,jt,Nn;xa(i,this,function(Me){ye(),Me._getDbgPlgTargets=function(){return[Qr,S]},Me[Lr]=function(){return l},Me.activeStatus=function(){return Ut},Me._setPendingStatus=function(){Ut=3},Me[xs]=function(we,ht,tr,xt){de&&lr(tm),Me[Lr]()&&lr("Core cannot be initialized more than once"),o=Ro(we,Qn,tr||Me[un],!1),we=o.cfg,tu(o[vu](function(gn){var Ya=gn.cfg,Yo=Ut===3;if(!Yo){Ua=Ya.initInMemoMaxSize||bd;var ru=Ya[wo],Dp=Ya.endpointUrl;if(Ve(ru)){Sr=null,Ut=Ni[Or];var Cp="Please provide instrumentation key";l?(St(v,1,100,Cp),ia()):lr(Cp);return}var n_=[];if(It(ru)?(n_[kr](ru),Sr=null):Sr=ru,It(Dp)?(n_[kr](Dp),Kr=null):Kr=Dp,n_[ur]){aa=!1,Ut=3;var M_=zc(Ya.initTimeOut)?Ya.initTimeOut:Mm,Ty=Yv(n_);lu(function(){aa||ar()},M_),ns(Ty,function(Zm){try{if(aa)return;if(!Zm.rejected){var Xm=Zm[Io];if(Xm&&Xm[ur]){var _g=Xm[0];if(Sr=_g&&_g[Io],Xm[ur]>1){var gg=Xm[1];Kr=gg&&gg[Io]}}Sr&&(we[wo]=Sr,we.endpointUrl=Kr)}ar()}catch{aa||ar()}})}else ar();var a_=gn.ref(gn.cfg,Bc);bt(a_,function(Zm){gn.ref(a_,Zm)})}})),w=xt,Ge=jm(o,Oe,w&&Me[Wf](),Ge),Wm(),Me[un]=tr;var fr=we[uc];if(X=[],X[kr].apply(X,Ku(Ku([],ht,!1),fr)),le=we[sc],Qa(null),(!fe||fe[ur]===0)&&lr("No "+sc+" available"),le&&le[ur]>1){var Yn=Me[No]("TeeChannelController");(!Yn||!Yn.plugin)&&St(v,1,28,"TeeChannel required")}Gh(we,Xr,v),Xr=null,l=!0,Ut===Ni.ACTIVE&&ia()},Me.getChannels=function(){var we=[];return fe&&At(fe,function(ht){we[kr](ht)}),Ht(we)},Me.track=function(we){V(Me[Fs](),function(){return"AppInsightsCore:track"},function(){we===null&&(ja(we),lr("Invalid telemetry item")),!we[Pn]&&Ve(we[Pn])&&(ja(we),lr("telemetry name required")),we[Zi]=we[Zi]||Sr,we[Xo]=we[Xo]||Gc(new Date),we.ver=we.ver||"4.0",!de&&Me[Lr]()&&Ut===Ni.ACTIVE?uo()[ya](we):Ut!==Ni[Or]&&S[ur]<=Ua&&S[kr](we)},function(){return{item:we}},!we.sync)},Me[Pa]=uo,Me[Wf]=function(){return w||(w=new Om(o.cfg),Me[ll]=w),w},Me[xi]=function(we){Me.getNotifyMgr()[xi](we)},Me[mu]=function(we){w&&w[mu](we)},Me.getCookieMgr=function(){return Y||(Y=ds(o.cfg,Me[un])),Y},Me.setCookieMgr=function(we){Y!==we&&(nl(Y,!1),Y=we)},Me[Fs]=function(){return A||L||J()},Me.setPerfMgr=function(we){A=we},Me.eventCnt=function(){return S[ur]},Me.releaseQueue=function(){if(l&&S[ur]>0){var we=S;S=[],Ut===2?At(we,function(ht){ht[Zi]=ht[Zi]||Sr,uo()[ya](ht)}):St(v,2,20,"core init status is not active")}},Me[Lc]=function(we){return xe=we||null,Nn=!1,Ke&&Ke[To](),Dn(!0)};function ar(){aa=!0,Ve(Sr)?(Ut=Ni[Or],St(v,1,112,"ikey can't be resolved from promises")):Ut=Ni.ACTIVE,ia()}function ia(){l&&(Me.releaseQueue(),Me[Lc]())}function Dn(we){if((!Ke||!Ke[Zu])&&!Nn){var ht=we||v&&v.queue[ur]>0;ht&&(jt||(jt=!0,tu(o[vu](function(tr){var xt=tr.cfg.diagnosticLogInterval;(!xt||!(xt>0))&&(xt=1e4);var fr=!1;Ke&&(fr=Ke[Zu],Ke[To]()),Ke=Vd(Km,xt),Ke.unref(),Ke[Zu]=fr}))),Ke[Zu]=!0)}return Ke}Me[Jf]=function(){Nn=!0,Ke&&Ke[To](),Km()},id(Me,function(){return oe},["addTelemetryInitializer"]),Me[Ps]=function(we,ht,tr){var xt;we===void 0&&(we=!0),l||lr(xu),de&&lr(tm);var fr=(xt={reason:50},xt[As]=we,xt.flushComplete=!1,xt),Yn;we&&!ht&&(Yn=qc(function(Yo){ht=Yo}));var gn=ff(xd(),Me);gn[Do](function(){Oe.run(Me[un]),Wv([Y,w,v],we,function(){ye(),ht&&ht(fr)})},Me);function Ya(Yo){fr.flushComplete=Yo,de=!0,ke.run(gn,fr),Me[Jf](),gn[ya](fr)}return Km(),Ip(we,Ya,6,tr),Yn},Me[No]=ys,Me.addPlugin=function(we,ht,tr,xt){if(!we){xt&&xt(!1),Jm(ms);return}var fr=ys(we[Ji]);if(fr&&!ht){xt&&xt(!1),Jm("Plugin ["+we[Ji]+"] is already loaded!");return}var Yn={reason:16};function gn(ru){X[kr](we),Yn.added=[we],Qa(Yn),xt&&xt(!0)}if(fr){var Ya=[fr.plugin],Yo={reason:2,isAsync:!!tr};bc(Ya,Yo,function(ru){ru?(Yn.removed=Ya,Yn.reason|=32,gn()):xt&&xt(!1)})}else gn()},Me.updateCfg=function(we,ht){ht===void 0&&(ht=!0);var tr;if(Me[Lr]()){tr={reason:1,cfg:o.cfg,oldCfg:cu({},o.cfg),newConfig:cu({},we),merge:ht},we=tr.newConfig;var xt=o.cfg;we[uc]=xt[uc],we[sc]=xt[sc]}o._block(function(fr){var Yn=fr.cfg;sv(fr,Yn,we,ht),ht||bt(Yn,function(gn){rr(we,gn)||fr.set(Yn,gn,Ms)}),fr[Ci](Yn,Qn)},!0),o[Zo](),tr&&Np(tr)},Me.evtNamespace=function(){return me},Me.flush=Ip,Me.getTraceCtx=function(we){return ct||(ct=Lt()),ct},Me.setTraceCtx=function(we){ct=we||null},Me.addUnloadHook=tu,da(Me,"addUnloadCb",function(){return ke},"add"),Me.onCfgChange=function(we){var ht;return l?ht=Iu(o.cfg,we,Me[un]):ht=Um(Xr,we),Ym(ht)},Me.getWParam=function(){return sa()||o.cfg.enableWParam?0:-1};function gs(){var we={};_n=[];var ht=function(tr){tr&&At(tr,function(xt){if(xt[Ji]&&xt[Co]&&!we[xt.identifier]){var fr=xt[Ji]+"="+xt[Co];_n[kr](fr),we[xt.identifier]=xt}})};ht(fe),le&&At(le,function(tr){ht(tr)}),ht(X)}function ye(){l=!1,o=Ro({},Qn,Me[un]),o.cfg[Xu]=1,Hr(Me,"config",{g:function(){return o.cfg},s:function(ht){Me.updateCfg(ht,!1)}}),Hr(Me,"pluginVersionStringArr",{g:function(){return _n||gs(),_n}}),Hr(Me,"pluginVersionString",{g:function(){return er||(_n||gs(),er=_n.join(";")),er||Fr}}),Hr(Me,"logger",{g:function(){return v||(v=new sf(o.cfg),o[un]=v),v},s:function(ht){o[un]=ht,v!==ht&&(nl(v,!1),v=ht)}}),Me[un]=new sf(o.cfg),Qr=[];var we=Me.config[uc]||[];we.splice(0,we[ur]),Cc(we,Qr),oe=new Xn,S=[],nl(w,!1),w=null,A=null,L=null,nl(Y,!1),Y=null,B=null,X=[],le=null,fe=null,de=!1,xe=null,me=Xc("AIBaseCore",!0),ke=Sd(),ct=null,Sr=null,Oe=vf(),Xr=[],er=null,_n=null,Nn=!1,Ke=null,jt=!1,Ut=0,Kr=null,Ua=null,aa=!1}function uo(){var we=cl(xd(),o.cfg,Me);return we[Do](Dn),we}function Qa(we){var ht=rm(Me[un],fp,X);B=null,er=null,_n=null,fe=(le||[])[0]||[],fe=ir(Cc(fe,ht[sc]));var tr=Cc(ir(ht[la]),fe);Qr=Ht(tr);var xt=Me.config[uc]||[];xt.splice(0,xt[ur]),Cc(xt,Qr);var fr=uo();fe&&fe[ur]>0&&lt(fr[xo](fe),tr),lt(fr,tr),we&&Np(we)}function ys(we){var ht=null,tr=null,xt=[];return At(Qr,function(fr){if(fr[Ji]===we&&fr!==oe)return tr=fr,-1;fr.getChannel&&xt[kr](fr)}),!tr&&xt[ur]>0&&At(xt,function(fr){if(tr=fr.getChannel(we),!tr)return-1}),tr&&(ht={plugin:tr,setEnabled:function(fr){ot(tr)[rd]=!fr},isEnabled:function(){var fr=ot(tr);return!fr[Mn]&&!fr[rd]},remove:function(fr,Yn){var gn;fr===void 0&&(fr=!0);var Ya=[tr],Yo=(gn={reason:1},gn[As]=fr,gn);bc(Ya,Yo,function(ru){ru&&Qa({reason:32,removed:Ya}),Yn&&Yn(ru)})}}),ht}function xd(){if(!B){var we=(Qr||[]).slice();ai(we,oe)===-1&&we[kr](oe),B=df(ir(we),o.cfg,Me)}return B}function bc(we,ht,tr){if(we&&we[ur]>0){var xt=df(we,o.cfg,Me),fr=ff(xt,Me);fr[Do](function(){var Yn=!1,gn=[];At(X,function(Yo,ru){Lm(Yo,we)?Yn=!0:gn[kr](Yo)}),X=gn,er=null,_n=null;var Ya=[];le&&(At(le,function(Yo,ru){var Dp=[];At(Yo,function(Cp){Lm(Cp,we)?Yn=!0:Dp[kr](Cp)}),Ya[kr](Dp)}),le=Ya),tr&&tr(Yn),Dn()}),fr[ya](ht)}else tr(!1)}function Km(){if(v&&v.queue){var we=v.queue.slice(0);v.queue[ur]=0,At(we,function(ht){var tr,xt=(tr={},tr[Pn]=xe||"InternalMessageId: "+ht[Zf],tr[Zi]=Sr,tr[Xo]=Gc(new Date),tr.baseType=sl.dataType,tr.baseData={message:ht[Qu]},tr);Me.track(xt)})}}function Ip(we,ht,tr,xt){var fr=1,Yn=!1,gn=null;xt=xt||5e3;function Ya(){fr--,Yn&&fr===0&&(gn&&gn[To](),gn=null,ht&&ht(Yn),ht=null)}if(fe&&fe[ur]>0){var Yo=uo()[xo](fe);Yo.iterate(function(ru){if(ru.flush){fr++;var Dp=!1;ru.flush(we,function(){Dp=!0,Ya()},tr)||Dp||(we&&gn==null?gn=lu(function(){gn=null,Ya()},xt):Ya())}})}return Yn=!0,Ya(),!0}function Wm(){var we;tu(o[vu](function(ht){var tr=ht.cfg.enablePerfMgr;if(tr){var xt=ht.cfg[ap];(we!==xt||!we)&&(xt||(xt=hs),op(ht.cfg,ap,xt),we=xt,L=null),!A&&!L&&Qe(xt)&&(L=xt(Me,Me[Wf]()))}else L=null,we=null}))}function Np(we){var ht=yd(xd(),Me);ht[Do](Dn),(!Me._updateHook||Me._updateHook(ht,we)!==!0)&&ht[ya](we)}function Jm(we){var ht=Me[un];ht?(St(ht,2,73,we),Dn()):lr(we)}function ja(we){var ht=Me[Wf]();ht&&ht[vr]([we],2)}function tu(we){Oe.add(we)}})}return i.__ieDyn=1,i}();function mf(i,o){try{if(i&&i!==""){var l=Mi().parse(i);if(l&&l[Wa]&&l[Wa]>=l.itemsAccepted&&l.itemsReceived-l.itemsAccepted===l.errors[ur])return l}}catch(v){St(o,1,43,"Cannot parse the response. "+(v[Pn]||Jt(v)),{response:i})}return null}var Ks="",dl="NoResponseBody",$m="&"+dl+"=true",nm="POST",uv=function(){function i(){var o=0,l,v,S,w,A,L,Y,B,X,le,fe,de,oe,xe;xa(i,this,function(me,ke){var Oe=!0;aa(),me[xs]=function(Ke,jt){S=jt,v&&St(S,1,28,"Sender is already initialized"),me.SetConfig(Ke),v=!0},me._getDbgPlgTargets=function(){return[v,w,L,l]},me.SetConfig=function(Ke){try{if(A=Ke.senderOnCompleteCallBack||{},L=!!Ke.disableCredentials,Y=Ke.fetchCredentials,w=!!Ke.isOneDs,l=!!Ke.enableSendPromise,X=!!Ke.disableXhr,le=!!Ke.disableBeacon,fe=!!Ke.disableBeaconSync,xe=Ke.timeWrapper,oe=!!Ke.addNoResponse,de=!!Ke.disableFetchKeepAlive,B={sendPOST:Ut},w||(Oe=!1),L){var jt=Jc();jt&&jt.protocol&&jt.protocol[pu]()==="file:"&&(Oe=!1)}return!0}catch{}return!1},me.getSyncFetchPayload=function(){return o},me.getSenderInst=function(Ke,jt){return Ke&&Ke[ur]?Xr(Ke,jt):null},me.getFallbackInst=function(){return B},me[Qo]=function(Ke,jt){aa()};function Ge(Ke,jt){Qr(jt,200,{},Ke)}function ct(Ke,jt){St(S,2,26,"Failed to send telemetry.",{message:Ke}),Qr(jt,400,{})}function Sr(Ke){ct("No endpoint url is provided for the batch",Ke)}function Xr(Ke,jt){for(var Nn,Me=0,ar=null,ia=0;ar==null&&ia<Ke[ur];)Me=Ke[ia],!X&&Me===1?ud()?ar=Ua:Su()&&(ar=Ut):Me===2&&va(jt)&&(!jt||!de)?ar=Kr:Me===3&&Bs()&&(jt?!fe:!le)&&(ar=er),ia++;return ar?(Nn={_transport:Me,_isSync:jt},Nn[rs]=ar,Nn):null}function Qr(Ke,jt,Nn,Me){try{Ke&&Ke(jt,Nn,Me)}catch{}}function _n(Ke,jt){var Nn=Go(),Me=Ke[ts];if(!Me)return Sr(jt),!0;Me=Ke[ts]+(oe?$m:Ks);var ar=Ke[ci],ia=w?ar:new Blob([ar],{type:"text/plain;charset=UTF-8"}),Dn=Nn.sendBeacon(Me,ia);return Dn}function er(Ke,jt,Nn){var Me=Ke[ci];try{if(Me)if(_n(Ke,jt))Ge(Ks,jt);else{var ar=A&&A.beaconOnRetry;ar&&Qe(ar)?ar(Ke,jt,_n):(B&&B[rs](Ke,jt,!0),St(S,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(ia){w&&Nu(S,"Failed to send telemetry using sendBeacon API. Ex:"+Jt(ia)),Qr(jt,w?0:400,{},Ks)}}function Ut(Ke,jt,Nn){var Me,ar,ia,Dn=Ke[Xd]||{};!Nn&&l&&(Me=qc(function(Qa,ys){ar=Qa,ia=ys})),w&&Nn&&Ke.disableXhrSync&&(Nn=!1);var gs=Ke[ts];if(!gs){Sr(jt),ar&&ar(!1);return}var ye=Hc(nm,gs,Oe,!0,Nn,Ke[kl]);w||ye[Qf]("Content-type","application/json"),At(Wr(Dn),function(Qa){ye[Qf](Qa,Dn[Qa])}),ye.onreadystatechange=function(){w||(uo(ye),ye.readyState===4&&ar&&ar(!0))},ye.onload=function(){w&&uo(ye)};function uo(Qa){var ys=A&&A.xhrOnComplete,xd=ys&&Qe(ys);if(xd)ys(Qa,jt,Ke);else{var bc=is(Qa);Qr(jt,Qa[Ri],up(Qa,w),bc)}}return ye.onerror=function(Qa){Qr(jt,w?ye[Ri]:400,up(ye,w),w?Ks:li(ye)),ia&&ia(Qa)},ye.ontimeout=function(){Qr(jt,w?ye[Ri]:500,up(ye,w),w?Ks:li(ye)),ar&&ar(!1)},ye.send(Ke[ci]),Me}function Kr(Ke,jt,Nn){var Me,ar=Ke[ts],ia=Ke[ci],Dn=w?ia:new Blob([ia],{type:"application/json"}),gs,ye,uo,Qa=new Headers,ys=ia[ur],xd=!1,bc=!1,Km=Ke[Xd]||{},Ip=(Me={method:nm,body:Dn},Me[Jv]=!0,Me);Ke.headers&&Wr(Ke.headers)[ur]>0&&(At(Wr(Km),function(ja){Qa.append(ja,Km[ja])}),Ip[Xd]=Qa),Y?Ip.credentials=Y:Oe&&w&&(Ip.credentials="include"),Nn&&(Ip.keepalive=!0,o+=ys,w?Ke._sendReason===2&&(xd=!0,oe&&(ar+=$m)):xd=!0);var Wm=new Request(ar,Ip);try{Wm[Jv]=!0}catch{}if(!Nn&&l&&(gs=qc(function(ja,tu){ye=ja,uo=tu})),!ar){Sr(jt),ye&&ye(!1);return}function Np(ja){Qr(jt,w?0:400,{},w?Ks:ja)}function Jm(ja,tu,we){var ht=ja[Ri],tr=A.fetchOnComplete;tr&&Qe(tr)?tr(ja,jt,we||Ks,tu):Qr(jt,ht,{},we||Ks)}try{ns(fetch(w?ar:Wm,w?Ip:null),function(ja){if(Nn&&(o-=ys,ys=0),!bc)if(bc=!0,ja.rejected)Np(ja.reason&&ja.reason[Qu]),uo&&uo(ja.reason);else{var tu=ja[Io];try{!w&&!tu.ok?(Np(tu.statusText),ye&&ye(!1)):w&&!tu.body?(Jm(tu,null,Ks),ye&&ye(!0)):ns(tu.text(),function(we){Jm(tu,Ke,we[Io]),ye&&ye(!0)})}catch(we){Np(Jt(we)),uo&&uo(we)}}})}catch(ja){bc||(Np(Jt(ja)),uo&&uo(ja))}return xd&&!bc&&(bc=!0,Qr(jt,200,{}),ye&&ye(!0)),w&&!bc&&Ke[kl]>0&&xe&&xe.set(function(){bc||(bc=!0,Qr(jt,500,{}),ye&&ye(!0))},Ke[kl]),gs}function Ua(Ke,jt,Nn){var Me=zo(),ar=new XDomainRequest,ia=Ke[ci];ar.onload=function(){var Qa=is(ar),ys=A&&A.xdrOnComplete;ys&&Qe(ys)?ys(ar,jt,Ke):Qr(jt,200,{},Qa)},ar.onerror=function(){Qr(jt,400,{},w?Ks:os(ar))},ar.ontimeout=function(){Qr(jt,500,{})},ar.onprogress=function(){};var Dn=Me&&Me.location&&Me.location[hu]||"",gs=Ke[ts];if(!gs){Sr(jt);return}if(!w&&gs.lastIndexOf(Dn,0)!==0){var ye="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";St(S,2,40,". "+ye),ct(ye,jt);return}var uo=w?gs:gs[Ai](/^(https?:)/,"");ar.open(nm,uo),Ke[kl]&&(ar[kl]=Ke[kl]),ar.send(ia),w&&Nn?xe&&xe.set(function(){ar.send(ia)},0):ar.send(ia)}function aa(){o=0,v=!1,l=!1,S=null,w=null,A=null,L=null,Y=null,B=null,X=!1,le=!1,fe=!1,de=!1,oe=!1,xe=null}})}return i.__ieDyn=1,i}(),cv="on",Ed="attachEvent",uh="addEventListener",qm="detachEvent",_p="removeEventListener",pl="events";Xc("aiEvtPageHide"),Xc("aiEvtPageShow");var P_=/\.[\.]+/g,ch=/[\.]+$/,Vh=1,Bm=lp("events"),A_=/^([^.]*)(?:\.(.+)|)/;function hf(i){return i&&i[Ai]?i[Ai](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Fr):i}function lv(i,o){var l;if(o){var v=Fr;at(o)?(v=Fr,At(o,function(w){w=hf(w),w&&(w[0]!=="."&&(w="."+w),v+=w)})):v=hf(o),v&&(v[0]!=="."&&(v="."+v),i=(i||Fr)+v)}var S=A_.exec(i||Fr)||[];return l={},l[cn]=S[1],l.ns=(S[2]||Fr).replace(P_,".").replace(ch,Fr)[_u](".").sort().join("."),l}function am(i,o,l){l===void 0&&(l=!0);var v=Bm.get(i,pl,{},l),S=v[o];return S||(S=v[o]=[]),S}function _f(i,o,l,v){i&&o&&o[cn]&&(i[_p]?i[_p](o[cn],l,v):i[qm]&&i[qm](cv+o[cn],l))}function fv(i,o,l,v){var S=!1;return i&&o&&o[cn]&&l&&(i[uh]?(i[uh](o[cn],l,v),S=!0):i[Ed]&&(i[Ed](cv+o[cn],l),S=!0)),S}function lh(i,o,l,v){for(var S=o[ur];S--;){var w=o[S];w&&(!l.ns||l.ns===w.evtName.ns)&&(!v||v(w))&&(_f(i,w.evtName,w[Jn],w.capture),o[pt](S,1))}}function Hh(i,o,l){if(o[cn])lh(i,am(i,o[cn]),o,l);else{var v=Bm.get(i,pl,{});bt(v,function(S,w){lh(i,w,o,l)}),Wr(v)[ur]===0&&Bm.kill(i,pl)}}function Td(i,o){var l;return o?(at(o)?l=[i].concat(o):l=[i,o],l=lv("xx",l).ns[_u](".")):l=i,l}function Kh(i,o,l,v,S){var w;S===void 0&&(S=!1);var A=!1;if(i)try{var L=lv(o,v);if(A=fv(i,L,l,S),A&&Bm.accept(i)){var Y=(w={guid:Vh++,evtName:L},w[Jn]=l,w.capture=S,w);am(i,L.type)[kr](Y)}}catch{}return A}function R_(i,o,l,v,S){if(S===void 0&&(S=!1),i)try{var w=lv(o,v),A=!1;Hh(i,w,function(L){return w.ns&&!l||L[Jn]===l?(A=!0,!0):!1}),A||_f(i,w,l,S)}catch{}}var fh="sampleRate",im="ProcessLegacy",dh="http.method",zm="https://dc.services.visualstudio.com",dv="/v2/track",wd="not_specified",ph=Jd({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),om="split",Gr="length",Ws="toLowerCase",Id="ingestionendpoint",gp="toString",pv="push",sm="removeItem",gf="name",Nd="message",Wh="count",yp="stringify",vl="pathname",hc="exceptions",Lo="parsedStack",Js="properties",ml="measurements",yf="sizeInBytes",Pu="typeName",Au="severityLevel",Sp="problemGroup",Dd="isManual",Jh="CreateFromInterface",vv="assembly",_c="fileName",Gm="hasFullStack",mv="level",Sf="method",hv="line",_v="duration",vh="receivedResponse";function mh(i,o,l){var v=o[Gr],S=Zh(i,o);if(S[Gr]!==v){for(var w=0,A=S;l[A]!==void 0;)w++,A=Bn(S,0,147)+_(w);S=A}return S}function Zh(i,o){var l;return o&&(o=Wn(Hn(o)),o[Gr]>150&&(l=Bn(o,0,150),St(i,2,57,"name is too long.  It has been truncated to 150 characters.",{name:o},!0))),l||o}function vi(i,o,l){l===void 0&&(l=1024);var v;return o&&(l=l||1024,o=Wn(Hn(o)),o[Gr]>l&&(v=Bn(o,0,l),St(i,2,61,"string value is too long. It has been truncated to "+l+" characters.",{value:o},!0))),v||o}function Zs(i,o){return d(i,o,2048,66)}function bp(i,o){var l;return o&&o[Gr]>32768&&(l=Bn(o,0,32768),St(i,2,56,"message is too long, it has been truncated to 32768 characters.",{message:o},!0)),l||o}function Gn(i,o){var l;if(o){var v=""+o;v[Gr]>32768&&(l=Bn(v,0,32768),St(i,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:o},!0))}return l||o}function Ep(i,o){if(o){var l={};bt(o,function(v,S){if(Cn(S)&&qs())try{S=Mi()[yp](S)}catch(w){St(i,2,49,"custom property is not valid",{exception:w},!0)}S=vi(i,S,8192),v=mh(i,v,l),l[v]=S}),o=l}return o}function Tp(i,o){if(o){var l={};bt(o,function(v,S){v=mh(i,v,l),l[v]=S}),o=l}return o}function Xh(i,o){return o&&d(i,o,128,69)[gp]()}function d(i,o,l,v){var S;return o&&(o=Wn(Hn(o)),o[Gr]>l&&(S=Bn(o,0,l),St(i,2,v,"input is too long, it has been truncated to "+l+" characters.",{data:o},!0))),S||o}function _(i){var o="00"+i;return _o(o,o[Gr]-3)}var T=Uf()||{},D=0,k=[null,null,null,null,null];function $(i){var o=D,l=k,v=l[o];return T.createElement?l[o]||(v=l[o]=T.createElement("a")):v={host:q(i,!0)},v.href=i,o++,o>=l[Gr]&&(o=0),D=o,v}function q(i,o){var l=W(i,o)||"";if(l){var v=l.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(v!=null&&v[Gr]>3&&Bt(v[2])&&v[2][Gr]>0)return v[2]+(v[3]||"")}return l}function W(i,o){var l=null;if(i){var v=i.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(v!=null&&v[Gr]>2&&Bt(v[2])&&v[2][Gr]>0&&(l=v[2]||"",o&&v[Gr]>2)){var S=(v[1]||"")[Ws](),w=v[3]||"";(S==="http"&&w===":80"||S==="https"&&w===":443")&&(w=""),l+=w}}return l}var ae=[zm+dv,"https://breeze.aimon.applicationinsights.io"+dv,"https://dc-int.services.visualstudio.com"+dv];function ie(i){return ai(ae,i[Ws]())!==-1}function De(i,o,l,v){var S,w=v,A=v;if(o&&o[Gr]>0){var L=$(o);if(S=L.host,!w)if(L[vl]!=null){var Y=L.pathname[Gr]===0?"/":L[vl];Y.charAt(0)!=="/"&&(Y="/"+Y),A=L[vl],w=vi(i,l?l+" "+Y:Y)}else w=vi(i,o)}else S=v,w=v;return{target:S,name:w,data:A}}var $e=Wu({LocalStorage:0,SessionStorage:1}),je=void 0,Ie="";function ve(i){try{if(Ve(ti()))return null;var o=new Date()[gp](),l=Tr(i===$e.LocalStorage?"localStorage":"sessionStorage"),v=Ie+o;l.setItem(v,o);var S=l.getItem(v)!==o;if(l[sm](v),!S)return l}catch{}return null}function Fe(){return He()?ve($e.SessionStorage):null}function Ee(i){Ie=i||""}function He(i){return(i||je===void 0)&&(je=!!ve($e.SessionStorage)),je}function Ce(i,o){var l=Fe();if(l!==null)try{return l.getItem(o)}catch(v){je=!1,St(i,2,2,"Browser failed read of session storage. "+fa(v),{exception:Jt(v)})}return null}function Te(i,o,l){var v=Fe();if(v!==null)try{return v.setItem(o,l),!0}catch(S){je=!1,St(i,2,4,"Browser failed write to session storage. "+fa(S),{exception:Jt(S)})}return!1}function qe(i,o){var l=Fe();if(l!==null)try{return l[sm](o),!0}catch(v){je=!1,St(i,2,6,"Browser failed removal of session storage item. "+fa(v),{exception:Jt(v)})}return!1}var qt=";",Xt="=";function or(i){if(!i)return{};var o=i[om](qt),l=kv(o,function(S,w){var A=w[om](Xt);if(A[Gr]===2){var L=A[0][Ws](),Y=A[1];S[L]=Y}return S},{});if(Wr(l)[Gr]>0){if(l.endpointsuffix){var v=l.location?l.location+".":"";l[Id]=l[Id]||"https://"+v+"dc."+l.endpointsuffix}l[Id]=l[Id]||zm,wi(l[Id],"/")&&(l[Id]=l[Id].slice(0,-1))}return l}var Dr=function(){function i(o,l,v){var S=this,w=this;w.ver=1,w.sampleRate=100,w.tags={},w[gf]=vi(o,v)||wd,w.data=l,w.time=Gc(new Date),w.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return S.sampleRate===100?4:1},tags:1,data:1}}return i}(),Mr=function(){function i(o,l,v,S){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var w=this;w.ver=2,w[gf]=vi(o,l)||wd,w[Js]=Ep(o,v),w[ml]=Tp(o,S)}return i.envelopeType="Microsoft.ApplicationInsights.{0}.Event",i.dataType="EventData",i}(),ln="<no_method>",nn="error",Qt="stack",ea="stackDetails",We="errorSrc",ft="message",yr="description";function cr(i,o){var l=i;return l&&!Bt(l)&&(JSON&&JSON[yp]?(l=JSON[yp](i),o&&(!l||l==="{}")&&(Qe(i[gp])?l=i[gp]():l=""+i)):l=""+i+" - (Missing JSON.stringify)"),l||""}function wt(i,o){var l=i;return i&&(l&&!Bt(l)&&(l=i[ft]||i[yr]||l),l&&!Bt(l)&&(l=cr(l,!0)),i.filename&&(l=l+" @"+(i.filename||"")+":"+(i.lineno||"?")+":"+(i.colno||"?"))),o&&o!=="String"&&o!=="Object"&&o!=="Error"&&qu(l||"",o)===-1&&(l=o+": "+l),l||""}function xr(i){try{if(Cn(i))return"hasFullStack"in i&&"typeName"in i}catch{}return!1}function Nt(i){try{if(Cn(i))return"ver"in i&&"exceptions"in i&&"properties"in i}catch{}return!1}function Oa(i){return i&&i.src&&Bt(i.src)&&i.obj&&at(i.obj)}function ut(i){var o=i||"";Bt(o)||(Bt(o[Qt])?o=o[Qt]:o=""+o);var l=o[om](`
`);return{src:o,obj:l}}function Tn(i){for(var o=[],l=i[om](`
`),v=0;v<l[Gr];v++){var S=l[v];l[v+1]&&(S+="@"+l[v+1],v++),o[pv](S)}return{src:i,obj:o}}function wn(i){var o=null;if(i)try{if(i[Qt])o=ut(i[Qt]);else if(i[nn]&&i[nn][Qt])o=ut(i[nn][Qt]);else if(i.exception&&i.exception[Qt])o=ut(i.exception[Qt]);else if(Oa(i))o=i;else if(Oa(i[ea]))o=i[ea];else if(zo()&&zo().opera&&i[ft])o=Tn(i[Nd]);else if(i.reason&&i.reason[Qt])o=ut(i.reason[Qt]);else if(Bt(i))o=ut(i);else{var l=i[ft]||i[yr]||"";Bt(i[We])&&(l&&(l+=`
`),l+=" from "+i[We]),l&&(o=ut(l))}}catch(v){o=ut(v)}return o||{src:"",obj:null}}function mi(i){var o="";return i&&(i.obj?At(i.obj,function(l){o+=l+`
`}):o=i.src||""),o}function gc(i){var o,l=i.obj;if(l&&l[Gr]>0){o=[];var v=0,S=0;At(l,function(oe){var xe=oe[gp]();if(Xs.regex.test(xe)){var me=new Xs(xe,v++);S+=me[yf],o[pv](me)}});var w=32*1024;if(S>w)for(var A=0,L=o[Gr]-1,Y=0,B=A,X=L;A<L;){var le=o[A][yf],fe=o[L][yf];if(Y+=le+fe,Y>w){var de=X-B+1;o.splice(B,de);break}B=A,X=L,A++,L--}}return o}function Li(i){var o="";if(i&&(o=i.typeName||i[gf]||"",!o))try{var l=/function (.{1,200})\(/,v=l.exec(i.constructor[gp]());o=v&&v[Gr]>1?v[1]:""}catch{}return o}function bf(i){if(i)try{if(!Bt(i)){var o=Li(i),l=cr(i,!1);return(!l||l==="{}")&&(i[nn]&&(i=i[nn],o=Li(i)),l=cr(i,!0)),qu(l,o)!==0&&o!=="String"?o+":"+l:l}}catch{}return""+(i||"")}var _s=function(){function i(o,l,v,S,w,A){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var L=this;L.ver=2,Nt(l)?(L[hc]=l[hc]||[],L[Js]=l[Js],L[ml]=l[ml],l[Au]&&(L[Au]=l[Au]),l.id&&(L.id=l.id,l[Js].id=l.id),l[Sp]&&(L[Sp]=l[Sp]),Ve(l[Dd])||(L[Dd]=l[Dd])):(v||(v={}),A&&(v.id=A),L[hc]=[new Fo(o,l,v)],L[Js]=Ep(o,v),L[ml]=Tp(o,S),w&&(L[Au]=w),A&&(L.id=A))}return i.CreateAutoException=function(o,l,v,S,w,A,L,Y){var B,X=Li(w||A||o);return B={},B[Nd]=wt(o,X),B.url=l,B.lineNumber=v,B.columnNumber=S,B.error=bf(w||A||o),B.evt=bf(A||o),B[Pu]=X,B.stackDetails=wn(L||w||A),B.errorSrc=Y,B},i.CreateFromInterface=function(o,l,v,S){var w=l[hc]&&$u(l[hc],function(L){return Fo[Jh](o,L)}),A=new i(o,Wi(Wi({},l),{exceptions:w}),v,S);return A},i.prototype.toInterface=function(){var o,l=this,v=l.exceptions,S=l.properties,w=l.measurements,A=l.severityLevel,L=l.problemGroup,Y=l.id,B=l.isManual,X=v instanceof Array&&$u(v,function(le){return le.toInterface()})||void 0;return o={ver:"4.0"},o[hc]=X,o.severityLevel=A,o.properties=S,o.measurements=w,o.problemGroup=L,o.id=Y,o.isManual=B,o},i.CreateSimpleException=function(o,l,v,S,w,A){var L;return{exceptions:[(L={},L[Gm]=!0,L.message=o,L.stack=w,L.typeName=l,L)]}},i.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",i.dataType="ExceptionData",i.formatError=bf,i}(),Fo=function(){function i(o,l,v){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var S=this;if(xr(l))S[Pu]=l[Pu],S[Nd]=l[Nd],S[Qt]=l[Qt],S[Lo]=l[Lo]||[],S[Gm]=l[Gm];else{var w=l,A=w&&w.evt;Gt(w)||(w=w[nn]||A||w),S[Pu]=vi(o,Li(w))||wd,S[Nd]=bp(o,wt(l||w,S[Pu]))||wd;var L=l[ea]||wn(l);S[Lo]=gc(L),at(S[Lo])&&$u(S[Lo],function(Y){Y[vv]=vi(o,Y[vv]),Y[_c]=vi(o,Y[_c])}),S[Qt]=Gn(o,mi(L)),S.hasFullStack=at(S.parsedStack)&&S.parsedStack[Gr]>0,v&&(v[Pu]=v[Pu]||S[Pu])}}return i.prototype.toInterface=function(){var o,l=this,v=l[Lo]instanceof Array&&$u(l[Lo],function(w){return w.toInterface()}),S=(o={id:l.id,outerId:l.outerId,typeName:l[Pu],message:l[Nd],hasFullStack:l[Gm],stack:l[Qt]},o[Lo]=v||void 0,o);return S},i.CreateFromInterface=function(o,l){var v=l[Lo]instanceof Array&&$u(l[Lo],function(w){return Xs[Jh](w)})||l[Lo],S=new i(o,Wi(Wi({},l),{parsedStack:v}));return S},i}(),Xs=function(){function i(o,l){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var v=this;if(v[yf]=0,typeof o=="string"){var S=o;v[mv]=l,v[Sf]=ln,v[vv]=Wn(S),v[_c]="",v[hv]=0;var w=S.match(i.regex);w&&w[Gr]>=5&&(v[Sf]=Wn(w[2])||v[Sf],v[_c]=Wn(w[4]),v[hv]=parseInt(w[5])||0)}else v[mv]=o[mv],v[Sf]=o[Sf],v[vv]=o[vv],v[_c]=o[_c],v[hv]=o[hv],v[yf]=0;v.sizeInBytes+=v.method[Gr],v.sizeInBytes+=v.fileName[Gr],v.sizeInBytes+=v.assembly[Gr],v[yf]+=i.baseSize,v.sizeInBytes+=v.level.toString()[Gr],v.sizeInBytes+=v.line.toString()[Gr]}return i.CreateFromInterface=function(o){return new i(o,null)},i.prototype.toInterface=function(){var o=this;return{level:o[mv],method:o[Sf],assembly:o[vv],fileName:o[_c],line:o[hv]}},i.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,i.baseSize=58,i}(),ta=function(){function i(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return i}(),Zr=function(){function i(o,l,v,S,w,A,L,Y,B){this.aiDataContract={ver:1,metrics:1,properties:0};var X=this;X.ver=2;var le=new ta;le[Wh]=S>0?S:void 0,le.max=isNaN(A)||A===null?void 0:A,le.min=isNaN(w)||w===null?void 0:w,le[gf]=vi(o,l)||wd,le.value=v,le.stdDev=isNaN(L)||L===null?void 0:L,X.metrics=[le],X[Js]=Ep(o,Y),X[ml]=Tp(o,B)}return i.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",i.dataType="MetricData",i}(),ra="";function Ma(i){(isNaN(i)||i<0)&&(i=0),i=Math.round(i);var o=ra+i%1e3,l=ra+Math.floor(i/1e3)%60,v=ra+Math.floor(i/(1e3*60))%60,S=ra+Math.floor(i/(1e3*60*60))%24,w=Math.floor(i/(1e3*60*60*24));return o=o[Gr]===1?"00"+o:o[Gr]===2?"0"+o:o,l=l[Gr]<2?"0"+l:l,v=v[Gr]<2?"0"+v:v,S=S[Gr]<2?"0"+S:S,(w>0?w+".":ra)+S+":"+v+":"+l+"."+o}var Qs=function(){function i(o,l,v,S,w,A,L){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var Y=this;Y.ver=2,Y.id=Xh(o,L),Y.url=Zs(o,v),Y[gf]=vi(o,l)||wd,isNaN(S)||(Y[_v]=Ma(S)),Y[Js]=Ep(o,w),Y[ml]=Tp(o,A)}return i.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",i.dataType="PageviewData",i}(),yc=function(){function i(o,l,v,S,w,A,L,Y,B,X,le,fe){B===void 0&&(B="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var de=this;de.ver=2,de.id=l,de[_v]=Ma(w),de.success=A,de.resultCode=L+"",de.type=vi(o,B);var oe=De(o,v,Y,S);de.data=Zs(o,S)||oe.data,de.target=vi(o,oe.target),X&&(de.target="".concat(de.target," | ").concat(X)),de[gf]=vi(o,oe[gf]),de[Js]=Ep(o,le),de[ml]=Tp(o,fe)}return i.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",i.dataType="RemoteDependencyData",i}(),Fi=function(){function i(o,l,v,S,w){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var A=this;A.ver=2,l=l||wd,A[Nd]=bp(o,l),A[Js]=Ep(o,S),A[ml]=Tp(o,w),v&&(A[Au]=v)}return i.envelopeType="Microsoft.ApplicationInsights.{0}.Message",i.dataType="MessageData",i}(),Ef=function(){function i(o,l,v,S,w,A,L){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var Y=this;Y.ver=2,Y.url=Zs(o,v),Y[gf]=vi(o,l)||wd,Y[Js]=Ep(o,w),Y[ml]=Tp(o,A),L&&(Y.domProcessing=L.domProcessing,Y[_v]=L[_v],Y.networkConnect=L.networkConnect,Y.perfTotal=L.perfTotal,Y[vh]=L[vh],Y.sentRequest=L.sentRequest)}return i.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",i.dataType="PageviewPerformanceData",i}(),eu=function(){function i(o,l){this.aiDataContract={baseType:1,baseData:1},this.baseType=o,this.baseData=l}return i}(),um=Wu({Verbose:0,Information:1,Warning:2,Error:3,Critical:4});function Sc(i){var o="ai."+i+".";return function(l){return o+l}}var Tf=Sc("application"),_a=Sc("device"),wp=Sc("location"),wf=Sc("operation"),gv=Sc("session"),Ru=Sc("user"),hi=Sc("cloud"),If=Sc("internal"),a=function(i){Rl(o,i);function o(){return i.call(this)||this}return o}(sp({applicationVersion:Tf("ver"),applicationBuild:Tf("build"),applicationTypeId:Tf("typeId"),applicationId:Tf("applicationId"),applicationLayer:Tf("layer"),deviceId:_a("id"),deviceIp:_a("ip"),deviceLanguage:_a("language"),deviceLocale:_a("locale"),deviceModel:_a("model"),deviceFriendlyName:_a("friendlyName"),deviceNetwork:_a("network"),deviceNetworkName:_a("networkName"),deviceOEMName:_a("oemName"),deviceOS:_a("os"),deviceOSVersion:_a("osVersion"),deviceRoleInstance:_a("roleInstance"),deviceRoleName:_a("roleName"),deviceScreenResolution:_a("screenResolution"),deviceType:_a("type"),deviceMachineName:_a("machineName"),deviceVMName:_a("vmName"),deviceBrowser:_a("browser"),deviceBrowserVersion:_a("browserVersion"),locationIp:wp("ip"),locationCountry:wp("country"),locationProvince:wp("province"),locationCity:wp("city"),operationId:wf("id"),operationName:wf("name"),operationParentId:wf("parentId"),operationRootId:wf("rootId"),operationSyntheticSource:wf("syntheticSource"),operationCorrelationVector:wf("correlationVector"),sessionId:gv("id"),sessionIsFirst:gv("isFirst"),sessionIsNew:gv("isNew"),userAccountAcquisitionDate:Ru("accountAcquisitionDate"),userAccountId:Ru("accountId"),userAgent:Ru("userAgent"),userId:Ru("id"),userStoreRegion:Ru("storeRegion"),userAuthUserId:Ru("authUserId"),userAnonymousUserAcquisitionDate:Ru("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Ru("authUserAcquisitionDate"),cloudName:hi("name"),cloudRole:hi("role"),cloudRoleVer:hi("roleVer"),cloudRoleInstance:hi("roleInstance"),cloudEnvironment:hi("environment"),cloudLocation:hi("location"),cloudDeploymentUnit:hi("deploymentUnit"),internalNodeName:If("nodeName"),internalSdkVersion:If("sdkVersion"),internalAgentVersion:If("agentVersion"),internalSnippet:If("snippet"),internalSdkSrc:If("sdkSrc")})),c=new a;function p(i,o){R_(i,null,null,o)}function g(i){var o=Uf(),l=Go(),v=!1,S=[],w=1;l&&!Ve(l.onLine)&&!l.onLine&&(w=2);var A=0,L=fe(),Y=Td(Xc("OfflineListener"),i);try{if(X(zo())&&(v=!0),o){var B=o.body||o;B.ononline&&X(B)&&(v=!0)}}catch{v=!1}function X(Ge){var ct=!1;return Ge&&(ct=Kh(Ge,"online",xe,Y),ct&&Kh(Ge,"offline",me,Y)),ct}function le(){return L}function fe(){return!(A===2||w===2)}function de(){var Ge=fe();L!==Ge&&(L=Ge,At(S,function(ct){var Sr={isOnline:L,rState:w,uState:A};try{ct(Sr)}catch{}}))}function oe(Ge){A=Ge,de()}function xe(){w=1,de()}function me(){w=2,de()}function ke(){var Ge=zo();if(Ge&&v){if(p(Ge,Y),o){var ct=o.body||o;tt(ct.ononline)||p(ct,Y)}v=!1}}function Oe(Ge){return S[pv](Ge),{rm:function(){var ct=S.indexOf(Ge);if(ct>-1)return S.splice(ct,1)}}}return{isOnline:le,isListening:function(){return v},unload:ke,addListener:Oe,setOnlineState:oe}}var E="AppInsightsChannelPlugin",C="duration",R="tags",x="deviceType",M="data",U="name",z="traceID",G="length",K="stringify",ee="measurements",Z="dataType",he="envelopeType",ge="toString",Le="_get",Be="enqueue",Ze="count",nr="eventsLimitInMem",sr="push",Fn="item",fn="emitLineDelimitedJson",Un="clear",Ui="createNew",_i="markAsSent",Nf="clearSent",cm="bufferOverride",Df="BUFFER_KEY",Je="SENT_BUFFER_KEY",Ft="concat",In="MAX_BUFFER_SIZE",Ae="triggerSend",Dt="diagLog",na="initialize",ao="_sender",Uo="endpointUrl",Pr="instrumentationKey",gi="customHeaders",Xa="maxBatchSizeInBytes",io="onunloadDisableBeacon",Cf="isBeaconApiDisabled",ku="alwaysUseXhrOverride",yv="disableXhr",Cd="enableSessionStorageBuffer",xf="_buffer",Sv="onunloadDisableFetch",Vm="disableSendBeaconSplit",Ta="enableSendPromise",oo="getSenderInst",be="unloadTransports",mt="convertUndefined",Kt="maxBatchInterval",kt="serialize",Wt="_onError",An="_onPartialSuccess",mn="_onSuccess",wa="itemsReceived",so="itemsAccepted",jo="oriPayload",Pf="baseType",bv="sampleRate",hh="eventsSendRequest",mg="getSamplingScore",Sy="getHashCodeScore",Qh="baseType",jn="baseData",La="properties",k_="true";function Fa(i,o,l){return gu(i,o,l,en)}function q0(i,o,l){var v=l[R]=l[R]||{},S=o.ext=o.ext||{},w=o[R]=o[R]||[],A=S.user;A&&(Fa(v,c.userAuthUserId,A.authId),Fa(v,c.userId,A.id||A.localId));var L=S.app;L&&Fa(v,c.sessionId,L.sesId);var Y=S.device;Y&&(Fa(v,c.deviceId,Y.id||Y.localId),Fa(v,c[x],Y.deviceClass),Fa(v,c.deviceIp,Y.ip),Fa(v,c.deviceModel,Y.model),Fa(v,c[x],Y[x]));var B=o.ext.web;if(B){Fa(v,c.deviceLanguage,B.browserLang),Fa(v,c.deviceBrowserVersion,B.browserVer),Fa(v,c.deviceBrowser,B.browser);var X=l[M]=l[M]||{},le=X[jn]=X[jn]||{},fe=le[La]=le[La]||{};Fa(fe,"domain",B.domain),Fa(fe,"isManual",B.isManual?k_:null),Fa(fe,"screenRes",B.screenRes),Fa(fe,"userConsent",B.userConsent?k_:null)}var de=S.os;de&&(Fa(v,c.deviceOS,de[U]),Fa(v,c.deviceOSVersion,de.osVer));var oe=S.trace;oe&&(Fa(v,c.operationParentId,oe.parentID),Fa(v,c.operationName,vi(i,oe[U])),Fa(v,c.operationId,oe[z]));for(var xe={},me=w[G]-1;me>=0;me--){var ke=w[me];bt(ke,function(Ge,ct){xe[Ge]=ct}),w.splice(me,1)}bt(w,function(Ge,ct){xe[Ge]=ct});var Oe=Wi(Wi({},v),xe);Oe[c.internalSdkVersion]||(Oe[c.internalSdkVersion]=vi(i,"javascript:".concat(cI.Version),64)),l[R]=Us(Oe)}function Hm(i,o,l){Ve(i)||bt(i,function(v,S){zt(S)?l[v]=S:Bt(S)?o[v]=S:qs()&&(o[v]=Mi()[K](S))})}function _h(i,o){Ve(i)||bt(i,function(l,v){i[l]=v||o})}function gh(i,o,l,v){var S=new Dr(i,v,o);Fa(S,"sampleRate",l[fh]),(l[jn]||{}).startTime&&(S.time=Gc(l[jn].startTime)),S.iKey=l.iKey;var w=l.iKey.replace(/-/g,"");return S[U]=S[U].replace("{0}",w),q0(i,l,S),l[R]=l[R]||[],Us(S)}function yh(i,o){Ve(o[jn])&&St(i,1,46,"telemetryItem.baseData cannot be null.")}var cI={Version:"3.3.4"};function lI(i,o,l){yh(i,o);var v=o[jn][ee]||{},S=o[jn][La]||{};Hm(o[M],S,v),Ve(l)||_h(S,l);var w=o[jn];if(Ve(w))return Nu(i,"Invalid input for dependency data"),null;var A=w[La]&&w[La][dh]?w[La][dh]:"GET",L=new yc(i,w.id,w.target,w[U],w[C],w.success,w.responseCode,A,w.type,w.correlationContext,S,v),Y=new eu(yc[Z],L);return gh(i,yc[he],o,Y)}function B0(i,o,l){yh(i,o);var v={},S={};o[Qh]!==Mr[Z]&&(v.baseTypeSource=o[Qh]),o[Qh]===Mr[Z]?(v=o[jn][La]||{},S=o[jn][ee]||{}):o[jn]&&Hm(o[jn],v,S),Hm(o[M],v,S),Ve(l)||_h(v,l);var w=o[jn][U],A=new Mr(i,w,v,S),L=new eu(Mr[Z],A);return gh(i,Mr[he],o,L)}function fI(i,o,l){yh(i,o);var v=o[jn][ee]||{},S=o[jn][La]||{};Hm(o[M],S,v),Ve(l)||_h(S,l);var w=o[jn],A=_s.CreateFromInterface(i,w,S,v),L=new eu(_s[Z],A);return gh(i,_s[he],o,L)}function dI(i,o,l){yh(i,o);var v=o[jn],S=v[La]||{},w=v[ee]||{};Hm(o[M],S,w),Ve(l)||_h(S,l);var A=new Zr(i,v[U],v.average,v.sampleCount,v.min,v.max,v.stdDev,S,w),L=new eu(Zr[Z],A);return gh(i,Zr[he],o,L)}function pI(i,o,l){yh(i,o);var v,S=o[jn];!Ve(S)&&!Ve(S[La])&&!Ve(S[La][C])?(v=S[La][C],delete S[La][C]):!Ve(o[M])&&!Ve(o[M][C])&&(v=o[M][C],delete o[M][C]);var w=o[jn],A;((o.ext||{}).trace||{})[z]&&(A=o.ext.trace[z]);var L=w.id||A,Y=w[U],B=w.uri,X=w[La]||{},le=w[ee]||{};if(Ve(w.refUri)||(X.refUri=w.refUri),Ve(w.pageType)||(X.pageType=w.pageType),Ve(w.isLoggedIn)||(X.isLoggedIn=w.isLoggedIn[ge]()),!Ve(w[La])){var fe=w[La];bt(fe,function(xe,me){X[xe]=me})}Hm(o[M],X,le),Ve(l)||_h(X,l);var de=new Qs(i,Y,B,v,X,le,L),oe=new eu(Qs[Z],de);return gh(i,Qs[he],o,oe)}function vI(i,o,l){yh(i,o);var v=o[jn],S=v[U],w=v.uri||v.url,A=v[La]||{},L=v[ee]||{};Hm(o[M],A,L),Ve(l)||_h(A,l);var Y=new Ef(i,S,w,void 0,A,L,v),B=new eu(Ef[Z],Y);return gh(i,Ef[he],o,B)}function mI(i,o,l){yh(i,o);var v=o[jn].message,S=o[jn].severityLevel,w=o[jn][La]||{},A=o[jn][ee]||{};Hm(o[M],w,A),Ve(l)||_h(w,l);var L=new Fi(i,v,S,w,A),Y=new eu(Fi[Z],L);return gh(i,Fi[he],o,Y)}var z0=function(){function i(o,l){var v=[],S=!1,w=l.maxRetryCnt;this[Le]=function(){return v},this._set=function(A){return v=A,v},xa(i,this,function(A){A[Be]=function(L){if(A[Ze]()>=l[nr]){S||(St(o,2,105,"Maximum in-memory buffer size reached: "+A[Ze](),!0),S=!0);return}L.cnt=L.cnt||0,!(!Ve(w)&&L.cnt>w)&&v[sr](L)},A[Ze]=function(){return v[G]},A.size=function(){for(var L=v[G],Y=0;Y<v[G];Y++)L+=v[Y].item[G];return l[fn]||(L+=2),L},A[Un]=function(){v=[],S=!1},A.getItems=function(){return v.slice(0)},A.batchPayloads=function(L){if(L&&L[G]>0){var Y=[];At(L,function(X){Y[sr](X[Fn])});var B=l[fn]?Y.join(`
`):"["+Y.join(",")+"]";return B}return null},A[Ui]=function(L,Y,B){var X=v.slice(0);L=L||o,Y=Y||{};var le=B?new G0(L,Y):new by(L,Y);return At(X,function(fe){le[Be](fe)}),le}})}return i.__ieDyn=1,i}(),by=function(i){Rl(o,i);function o(l,v){var S=i.call(this,l,v)||this;return xa(o,S,function(w,A){w[_i]=function(L){A[Un]()},w[Nf]=function(L){}}),S}return o.__ieDyn=1,o}(z0),hI=["AI_buffer","AI_sentBuffer"],G0=function(i){Rl(o,i);function o(v,S){var w=i.call(this,v,S)||this,A=!1,L=S==null?void 0:S.namePrefix,Y=S[cm]||{getItem:Ce,setItem:Te},B=Y.getItem,X=Y.setItem,le=S.maxRetryCnt;return xa(o,w,function(fe,de){var oe=ct(o[Df]),xe=ct(o[Je]),me=Qr(),ke=xe[Ft](me),Oe=fe._set(oe[Ft](ke));Oe[G]>o[In]&&(Oe[G]=o[In]),Xr(o[Je],[]),Xr(o[Df],Oe),fe[Be]=function(er){if(fe[Ze]()>=o[In]){A||(St(v,2,67,"Maximum buffer size reached: "+fe[Ze](),!0),A=!0);return}er.cnt=er.cnt||0,!(!Ve(le)&&er.cnt>le)&&(de[Be](er),Xr(o.BUFFER_KEY,fe[Le]()))},fe[Un]=function(){de[Un](),Xr(o.BUFFER_KEY,fe[Le]()),Xr(o[Je],[]),A=!1},fe[_i]=function(er){Xr(o[Df],fe._set(Ge(er,fe[Le]())));var Ut=ct(o[Je]);Ut instanceof Array&&er instanceof Array&&(Ut=Ut[Ft](er),Ut[G]>o[In]&&(St(v,1,67,"Sent buffer reached its maximum size: "+Ut[G],!0),Ut[G]=o[In]),Xr(o[Je],Ut))},fe[Nf]=function(er){var Ut=ct(o[Je]);Ut=Ge(er,Ut),Xr(o[Je],Ut)},fe[Ui]=function(er,Ut,Kr){Kr=!!Kr;var Ua=fe[Le]().slice(0),aa=ct(o[Je]).slice(0);er=er||v,Ut=Ut||{},fe[Un]();var Ke=Kr?new o(er,Ut):new by(er,Ut);return At(Ua,function(jt){Ke[Be](jt)}),Kr&&Ke[_i](aa),Ke};function Ge(er,Ut){var Kr=[],Ua=[];return At(er,function(aa){Ua[sr](aa[Fn])}),At(Ut,function(aa){!Qe(aa)&&ai(Ua,aa[Fn])===-1&&Kr[sr](aa)}),Kr}function ct(er){var Ut=er;return Ut=L?L+"_"+Ut:Ut,Sr(Ut)}function Sr(er){try{var Ut=B(v,er);if(Ut){var Kr=Mi().parse(Ut);if(Bt(Kr)&&(Kr=Mi().parse(Kr)),Kr&&at(Kr))return Kr}}catch(Ua){St(v,1,42," storage key: "+er+", "+fa(Ua),{exception:Jt(Ua)})}return[]}function Xr(er,Ut){var Kr=er;try{Kr=L?L+"_"+Kr:Kr;var Ua=JSON[K](Ut);X(v,Kr,Ua)}catch(aa){X(v,Kr,JSON[K]([])),St(v,2,41," storage key: "+Kr+", "+fa(aa)+". Buffer cleared",{exception:Jt(aa)})}}function Qr(){var er=[];try{return At(hI,function(Ut){var Kr=_n(Ut);if(er=er[Ft](Kr),L){var Ua=L+"_"+Ut,aa=_n(Ua);er=er[Ft](aa)}}),er}catch(Ut){St(v,2,41,"Transfer events from previous buffers: "+fa(Ut)+". previous Buffer items can not be removed",{exception:Jt(Ut)})}return[]}function _n(er){try{var Ut=Sr(er),Kr=[];return At(Ut,function(Ua){var aa={item:Ua,cnt:0};Kr[sr](aa)}),qe(v,er),Kr}catch{}return[]}}),w}var l;return l=o,o.VERSION="_1",o.BUFFER_KEY="AI_buffer"+l.VERSION,o.SENT_BUFFER_KEY="AI_sentBuffer"+l.VERSION,o.MAX_BUFFER_SIZE=2e3,o}(z0),_I=function(){function i(o){xa(i,this,function(l){l[kt]=function(A){var L=v(A,"root");try{return Mi()[K](L)}catch(Y){St(o,1,48,Y&&Qe(Y[ge])?Y[ge]():"Error serializing object",null,!0)}};function v(A,L){var Y="__aiCircularRefCheck",B={};if(!A)return St(o,1,48,"cannot serialize object because it is null or undefined",{name:L},!0),B;if(A[Y])return St(o,2,50,"Circular reference detected while serializing object",{name:L},!0),B;if(!A.aiDataContract){if(L==="measurements")B=w(A,"number",L);else if(L==="properties")B=w(A,"string",L);else if(L==="tags")B=w(A,"string",L);else if(at(A))B=S(A,L);else{St(o,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:L},!0);try{Mi()[K](A),B=A}catch(X){St(o,1,48,X&&Qe(X[ge])?X[ge]():"Error serializing object",null,!0)}}return B}return A[Y]=!0,bt(A.aiDataContract,function(X,le){var fe=Qe(le)?le()&1:le&1,de=Qe(le)?le()&4:le&4,oe=le&2,xe=A[X]!==void 0,me=Cn(A[X])&&A[X]!==null;if(fe&&!xe&&!oe)St(o,1,24,"Missing required field specification. The field is required but not present on source",{field:X,name:L});else if(!de){var ke=void 0;me?oe?ke=S(A[X],X):ke=v(A[X],X):ke=A[X],ke!==void 0&&(B[X]=ke)}}),delete A[Y],B}function S(A,L){var Y;if(A)if(!at(A))St(o,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:L},!0);else{Y=[];for(var B=0;B<A[G];B++){var X=A[B],le=v(X,L+"["+B+"]");Y[sr](le)}}return Y}function w(A,L,Y){var B;return A&&(B={},bt(A,function(X,le){if(L==="string")le===void 0?B[X]="undefined":le===null?B[X]="null":le[ge]?B[X]=le[ge]():B[X]="invalid field: toString() is not defined.";else if(L==="number")if(le===void 0)B[X]="undefined";else if(le===null)B[X]="null";else{var fe=parseFloat(le);B[X]=fe}else B[X]="invalid field: "+Y+" is of unknown type.",St(o,1,B[X],null,!0)})),B}})}return i.__ieDyn=1,i}(),gI=8,yI=function(){function i(){}return i.prototype.getHashCodeScore=function(o){var l=this.getHashCode(o)/i.INT_MAX_VALUE;return l*100},i.prototype.getHashCode=function(o){if(o==="")return 0;for(;o[G]<gI;)o=o[Ft](o);for(var l=5381,v=0;v<o[G];++v)l=(l<<5)+l+o.charCodeAt(v),l=l&l;return Math.abs(l)},i.INT_MAX_VALUE=2147483647,i}(),SI=function(){function i(){var o=this,l=new yI,v=new a;o[mg]=function(S){var w=0;return S[R]&&S[R][v.userId]?w=l.getHashCodeScore(S[R][v.userId]):S.ext&&S.ext.user&&S.ext.user.id?w=l[Sy](S.ext.user.id):S[R]&&S[R][v.operationId]?w=l.getHashCodeScore(S[R][v.operationId]):S.ext&&S.ext.telemetryTrace&&S.ext.telemetryTrace[z]?w=l.getHashCodeScore(S.ext.telemetryTrace[z]):w=Math.random()*100,w}}return i}(),bI=function(){function i(o,l){this.INT_MAX_VALUE=2147483647;var v=l||Gs(null);(o>100||o<0)&&(v.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:o},!0),o=100),this[bv]=o,this.samplingScoreGenerator=new SI}return i.prototype.isSampledIn=function(o){var l=this[bv],v=!1;return l==null||l>=100||o.baseType===Zr[Z]?!0:(v=this.samplingScoreGenerator[mg](o)<l,v)},i}(),Ia,lm,Ev=void 0,V0="",EI=65e3;function H0(i){try{return i.responseText}catch{}return null}function TI(i){return i&&i.sendPOST}var K0=ho((Ia={endpointUrl:al(en,zm+dv)},Ia[fn]=eo(),Ia[Kt]=15e3,Ia[Xa]=102400,Ia.disableTelemetry=eo(),Ia[Cd]=eo(!0),Ia.isRetryDisabled=eo(),Ia[Cf]=eo(!0),Ia[Vm]=eo(!0),Ia[yv]=eo(),Ia[Sv]=eo(),Ia[io]=eo(),Ia[Pr]=Ev,Ia.namePrefix=Ev,Ia.samplingPercentage=al(wI,100),Ia[gi]=Ev,Ia[mt]=Ev,Ia[nr]=1e4,Ia[cm]=!1,Ia.httpXHROverride={isVal:TI,v:Ev},Ia[ku]=eo(),Ia.transports=Ev,Ia.retryCodes=Ev,Ia.maxRetryCnt={isVal:zt,v:10},Ia));function wI(i){return!isNaN(i)&&i>0&&i<=100}var II=(lm={},lm[Mr.dataType]=B0,lm[Fi.dataType]=mI,lm[Qs.dataType]=pI,lm[Ef.dataType]=vI,lm[_s.dataType]=fI,lm[Zr.dataType]=dI,lm[yc.dataType]=lI,lm),W0=function(i){Rl(o,i);function o(){var l=i.call(this)||this;l.priority=1001,l.identifier=E;var v,S,w,A,L,Y,B,X=0,le,fe,de,oe,xe,me,ke,Oe,Ge,ct,Sr,Xr,Qr,_n,er,Ut,Kr,Ua,aa,Ke,jt,Nn,Me,ar,ia,Dn,gs;return xa(o,l,function(ye,uo){Q0(),ye.pause=function(){Zm(),w=!0},ye.resume=function(){w&&(w=!1,S=null,gn(),a_())},ye.flush=function(ne,Se,_t){if(ne===void 0&&(ne=!0),!w){Zm();try{return ye[Ae](ne,null,_t||1)}catch(gt){St(ye[Dt](),1,22,"flush failed, telemetry will not be collected: "+fa(gt),{exception:Jt(gt)})}}},ye.onunloadFlush=function(){if(!w)if(ke||Ke)try{return ye[Ae](!0,ru,2)}catch(ne){St(ye[Dt](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+fa(ne),{exception:Jt(ne)})}else ye.flush(!1)},ye.addHeader=function(ne,Se){B[ne]=Se},ye[na]=function(ne,Se,_t,gt){ye.isInitialized()&&St(ye[Dt](),1,28,"Sender is already initialized"),uo[na](ne,Se,_t,gt);var Er=ye.identifier;L=new _I(Se.logger),v=0,S=null,ye[ao]=null,Y=0;var mr=ye[Dt]();de=Td(Xc("Sender"),Se.evtNamespace&&Se.evtNamespace()),fe=g(de),ye._addHook(Iu(ne,function(Ur){var Na=Ur.cfg;Na.storagePrefix&&Ee(Na.storagePrefix);var Pd=cl(null,Na,Se),Cr=Pd.getExtCfg(Er,K0),eS=Cr[Uo];if(oe&&eS===oe){var wy=Na[Uo];wy&&wy!==eS&&(Cr[Uo]=wy)}It(Cr[Pr])&&(Cr[Pr]=Na[Pr]),Hr(ye,"_senderConfig",{g:function(){return Cr}}),xe!==Cr[Uo]&&(oe=xe=Cr[Uo]),Se.activeStatus()===Ni.PENDING?ye.pause():Se.activeStatus()===Ni.ACTIVE&&ye.resume(),ct&&ct!==Cr[gi]&&At(ct,function(nu){delete B[nu.header]}),me=Cr[Xa],ke=(Cr[io]===!1||Cr[Cf]===!1)&&Bs(),Oe=Cr[io]===!1&&Bs(),Ge=Cr[Cf]===!1&&Bs(),Ke=Cr[ku],jt=!!Cr[yv],gs=Cr.retryCodes;var Iy=Cr[cm],i_=!!Cr[Cd]&&(!!Iy||He()),tS=Cr.namePrefix,xI=i_!==Ut||i_&&Ua!==tS||i_&&Kr!==Iy;if(ye[xf]){if(xI)try{ye._buffer=ye._buffer[Ui](mr,Cr,i_)}catch(nu){St(ye[Dt](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+fa(nu),{exception:Jt(nu)})}gn()}else ye[xf]=i_?new G0(mr,Cr):new by(mr,Cr);Ua=tS,Ut=i_,Kr=Iy,Nn=!Cr[Sv]&&va(!0),ia=!!Cr[Vm],ye._sample=new bI(Cr.samplingPercentage,mr),Xr=Cr[Pr],!It(Xr)&&!X0(Xr,Na)&&St(mr,1,100,"Invalid Instrumentation key "+Xr),ct=Cr[gi],Bt(oe)&&!ie(oe)&&ct&&ct[G]>0?At(ct,function(nu){l.addHeader(nu.header,nu.value)}):ct=null,aa=Cr[Ta];var rS=ys();Dn?Dn.SetConfig(rS):(Dn=new uv,Dn[na](rS,mr));var yg=Cr.httpXHROverride,Sg=null,L_=null,PI=$l([3,1,2],Cr.transports);Sg=Dn&&Dn[oo](PI,!1);var Ny=Dn&&Dn.getFallbackInst();Me=function(nu,Sh){return xt(Ny,nu,Sh)},ar=function(nu,Sh){return xt(Ny,nu,Sh,!1)},Sg=Ke?yg:Sg||yg||Ny,ye[ao]=function(nu,Sh){return xt(Sg,nu,Sh)},Nn&&(le=n_);var Dy=$l([3,1],Cr[be]);Nn||(Dy=Dy.filter(function(nu){return nu!==2})),L_=Dn&&Dn[oo](Dy,!0),L_=Ke?yg:L_||yg,(Ke||Cr[be]||!le)&&L_&&(le=function(nu,Sh){return xt(L_,nu,Sh)}),le||(le=Me),Sr=Cr.disableTelemetry,Qr=Cr[mt]||Ev,_n=Cr.isRetryDisabled,er=Cr[Kt]}))},ye.processTelemetry=function(ne,Se){var _t;Se=ye._getTelCtx(Se);var gt=Se[Dt]();try{var Er=Np(ne,gt);if(!Er)return;var mr=Jm(ne,gt);if(!mr)return;var Ur=L[kt](mr),Na=ye[xf];gn(Ur);var Pd=(_t={},_t[Fn]=Ur,_t.cnt=0,_t);Na[Be](Pd),a_()}catch(Cr){St(gt,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+fa(Cr),{exception:Jt(Cr)})}ye.processNext(ne,Se)},ye.isCompletelyIdle=function(){return!w&&X===0&&ye._buffer[Ze]()===0},ye.getOfflineListener=function(){return fe},ye._xhrReadyStateChange=function(ne,Se,_t){if(!Cp(Se))return xd(ne,Se,_t)},ye[Ae]=function(ne,Se,_t){ne===void 0&&(ne=!0);var gt;if(!w)try{var Er=ye[xf];if(Sr)Er[Un]();else if(Er[Ze]()>0){var mr=Er.getItems();gg(_t||0,ne),Se?gt=Se.call(ye,mr,ne):gt=ye[ao](mr,ne)}Zm()}catch(Na){var Ur=pa();(!Ur||Ur>9)&&St(ye[Dt](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+fa(Na),{exception:Jt(Na)})}return gt},ye.getOfflineSupport=function(){var ne;return ne={getUrl:function(){return oe},createPayload:we},ne[kt]=ja,ne.batch=tu,ne.shouldProcess=function(Se){return!!Np(Se)},ne},ye._doTeardown=function(ne,Se){ye.onunloadFlush(),nl(fe,!1),Q0()},ye[Wt]=function(ne,Se,_t){if(!Cp(ne))return bc(ne,Se)},ye[An]=function(ne,Se){if(!Cp(ne))return Km(ne,Se)},ye[mn]=function(ne,Se){if(!Cp(ne))return Ip(ne)},ye._xdrOnLoad=function(ne,Se){if(!Cp(Se))return Qa(ne,Se)};function Qa(ne,Se){var _t=H0(ne);if(ne&&(_t+""=="200"||_t===""))v=0,ye[mn](Se,0);else{var gt=mf(_t);gt&&gt[wa]&&gt[wa]>gt[so]&&!_n?ye[An](Se,gt):ye[Wt](Se,os(ne))}}function ys(){var ne;try{var Se={xdrOnComplete:function(gt,Er,mr){var Ur=Wm(mr);if(Ur)return Qa(gt,Ur)},fetchOnComplete:function(gt,Er,mr,Ur){var Na=Wm(Ur);if(Na)return Ya(gt.status,Na,gt.url,Na[G],gt.statusText,mr||"")},xhrOnComplete:function(gt,Er,mr){var Ur=Wm(mr);if(Ur)return xd(gt,Ur,Ur[G])},beaconOnRetry:function(gt,Er,mr){return Dp(gt,Er,mr)}},_t=(ne={},ne[Ta]=aa,ne.isOneDs=!1,ne.disableCredentials=!1,ne[yv]=jt,ne.disableBeacon=!Ge,ne.disableBeaconSync=!Oe,ne.senderOnCompleteCallBack=Se,ne);return _t}catch{}return null}function xd(ne,Se,_t){ne.readyState===4&&Ya(ne.status,Se,ne.responseURL,_t,li(ne),H0(ne)||ne.response)}function bc(ne,Se,_t){St(ye[Dt](),2,26,"Failed to send telemetry.",{message:Se}),ye._buffer&&ye._buffer[Nf](ne)}function Km(ne,Se){for(var _t=[],gt=[],Er=Se.errors.reverse(),mr=0,Ur=Er;mr<Ur.length;mr++){var Na=Ur[mr],Pd=ne.splice(Na.index,1)[0];Xm(Na.statusCode)?gt[sr](Pd):_t[sr](Pd)}ne[G]>0&&ye[mn](ne,Se[so]),_t[G]>0&&ye[Wt](_t,li(null,["partial success",Se[so],"of",Se.itemsReceived].join(" "))),gt[G]>0&&(M_(gt),St(ye[Dt](),2,40,"Partial success. Delivered: "+ne[G]+", Failed: "+_t[G]+". Will retry to send "+gt[G]+" our of "+Se[wa]+" items"))}function Ip(ne,Se){ye._buffer&&ye._buffer[Nf](ne)}function Wm(ne){try{if(ne){var Se=ne,_t=Se[jo];return _t&&_t[G]?_t:null}}catch{}return null}function Np(ne,Se){if(Sr)return!1;if(!ne)return Se&&St(Se,1,7,"Cannot send empty telemetry"),!1;if(ne.baseData&&!ne[Pf])return Se&&St(Se,1,70,"Cannot send telemetry without baseData and baseType"),!1;if(ne[Pf]||(ne[Pf]="EventData"),!ye[ao])return Se&&St(Se,1,28,"Sender was not initialized"),!1;if(ht(ne))ne[fh]=ye._sample[bv];else return Se&&St(Se,2,33,"Telemetry item was sampled out and not sent",{SampleRate:ye._sample[bv]}),!1;return!0}function Jm(ne,Se){var _t=ne.iKey||Xr,gt=o.constructEnvelope(ne,_t,Se,Qr);if(!gt){St(Se,1,47,"Unable to create an AppInsights envelope");return}var Er=!1;if(ne[R]&&ne[R][im]&&(At(ne[R][im],function(mr){try{mr&&mr(gt)===!1&&(Er=!0,Nu(Se,"Telemetry processor check returns false"))}catch(Ur){St(Se,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+fa(Ur),{exception:Jt(Ur)},!0)}}),delete ne[R][im]),!Er)return gt}function ja(ne){var Se=V0,_t=ye[Dt]();try{var gt=Np(ne,_t),Er=null;gt&&(Er=Jm(ne,_t)),Er&&(Se=L[kt](Er))}catch{}return Se}function tu(ne){var Se=V0;return ne&&ne[G]&&(Se="["+ne.join(",")+"]"),Se}function we(ne){var Se,_t=Yn();return Se={urlString:oe},Se[M]=ne,Se.headers=_t,Se}function ht(ne){return ye._sample.isSampledIn(ne)}function tr(ne,Se,_t,gt){Se===200&&ne?ye._onSuccess(ne,ne[G]):gt&&ye[Wt](ne,gt)}function xt(ne,Se,_t,gt){gt===void 0&&(gt=!0);var Er=function(Na,Pd,Cr){return tr(Se,Na,Pd,Cr)},mr=fr(Se),Ur=ne&&ne.sendPOST;return Ur&&mr?(gt&&ye._buffer[_i](Se),Ur(mr,Er,!_t)):null}function fr(ne){var Se;if(at(ne)&&ne[G]>0){var _t=ye[xf].batchPayloads(ne),gt=Yn(),Er=(Se={},Se[M]=_t,Se.urlString=oe,Se.headers=gt,Se.disableXhrSync=jt,Se.disableFetchKeepAlive=!Nn,Se[jo]=ne,Se);return Er}return null}function Yn(){try{var ne=B||{};return ie(oe)&&(ne[ph[6]]=ph[7]),ne}catch{}return null}function gn(ne){var Se=ne?ne[G]:0;return ye[xf].size()+Se>me?((!fe||fe.isOnline())&&ye[Ae](!0,null,10),!0):!1}function Ya(ne,Se,_t,gt,Er,mr){var Ur=null;if(ye._appId||(Ur=mf(mr),Ur&&Ur.appId&&(ye._appId=Ur.appId)),(ne<200||ne>=300)&&ne!==0){if((ne===301||ne===307||ne===308)&&!Yo(_t)){ye[Wt](Se,Er);return}if(fe&&!fe.isOnline()){if(!_n){var Na=10;M_(Se,Na),St(ye[Dt](),2,40,". Offline - Response Code: ".concat(ne,". Offline status: ").concat(!fe.isOnline(),". Will retry to send ").concat(Se.length," items."))}return}!_n&&Xm(ne)?(M_(Se),St(ye[Dt](),2,40,". Response code "+ne+". Will retry to send "+Se[G]+" items.")):ye[Wt](Se,Er)}else Yo(_t),ne===206?(Ur||(Ur=mf(mr)),Ur&&!_n?ye[An](Se,Ur):ye[Wt](Se,Er)):(v=0,ye[mn](Se,gt))}function Yo(ne){return Y>=10?!1:!Ve(ne)&&ne!==""&&ne!==oe?(oe=ne,++Y,!0):!1}function ru(ne,Se){if(le)le(ne,!1);else{var _t=Dn&&Dn[oo]([3],!0);return xt(_t,ne,Se)}}function Dp(ne,Se,_t){var gt=ne,Er=gt&&gt[jo];if(ia)ar&&ar(Er,!0),St(ye[Dt](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var mr=[],Ur=0;Ur<Er[G];Ur++){var Na=Er[Ur],Pd=[Na],Cr=fr(Pd);_t(Cr,Se)?ye._onSuccess(Pd,Pd[G]):mr[sr](Na)}mr[G]>0&&(ar&&ar(mr,!0),St(ye[Dt](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function Cp(ne){try{if(ne&&ne[G])return Bt(ne[0])}catch{}return null}function n_(ne,Se){var _t=null;if(at(ne)){for(var gt=ne[G],Er=0;Er<ne[G];Er++)gt+=ne[Er].item[G];var mr=Dn.getSyncFetchPayload();mr+gt<=EI?_t=2:Bs()?_t=3:(_t=1,St(ye[Dt](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."));var Ur=Dn&&Dn[oo]([_t],!0);return xt(Ur,ne,Se)}return null}function M_(ne,Se){if(Se===void 0&&(Se=1),!(!ne||ne[G]===0)){var _t=ye[xf];_t[Nf](ne),v++;for(var gt=0,Er=ne;gt<Er.length;gt++){var mr=Er[gt];mr.cnt=mr.cnt||0,mr.cnt++,_t[Be](mr)}Ty(Se),a_()}}function Ty(ne){var Se=10,_t;if(v<=1)_t=Se;else{var gt=(Math.pow(2,v)-1)/2,Er=Math.floor(Math.random()*gt*Se)+1;Er=ne*Er,_t=Math.max(Math.min(Er,3600),Se)}var mr=su()+_t*1e3;S=mr}function a_(){if(!A&&!w){var ne=S?Math.max(0,S-su()):0,Se=Math.max(er,ne);A=lu(function(){A=null,ye[Ae](!0,null,1)},Se)}}function Zm(){A&&A.cancel(),A=null,S=null}function Xm(ne){return Ve(gs)?ne===401||ne===408||ne===429||ne===500||ne===502||ne===503||ne===504:gs[G]&&gs.indexOf(ne)>-1}function _g(){var ne="getNotifyMgr";return ye.core[ne]?ye.core[ne]():ye.core._notificationManager}function gg(ne,Se){var _t=_g();if(_t&&_t[hh])try{_t[hh](ne,Se)}catch(gt){St(ye[Dt](),1,74,"send request notification failed: "+fa(gt),{exception:Jt(gt)})}}function X0(ne,Se){var _t=Se.disableInstrumentationKeyValidation,gt=Ve(_t)?!1:_t;if(gt)return!0;var Er="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",mr=new RegExp(Er);return mr.test(ne)}function Q0(){ye[ao]=null,ye[xf]=null,ye._appId=null,ye._sample=null,B={},fe=null,v=0,S=null,w=!1,A=null,L=null,Y=0,X=0,le=null,de=null,oe=null,xe=null,me=0,ke=!1,ct=null,Sr=!1,Xr=null,Qr=Ev,_n=!1,Ut=null,Ua=Ev,jt=!1,Nn=!1,ia=!1,Me=null,ar=null,Dn=null,Hr(ye,"_senderConfig",{g:function(){return Et({},K0)}})}}),l}return o.constructEnvelope=function(l,v,S,w){var A;v!==l.iKey&&!Ve(v)?A=Wi(Wi({},l),{iKey:v}):A=l;var L=II[A.baseType]||B0;return L(S,A,w)},o}(rn),e_="instrumentationKey",hg="connectionString",J0="instrumentationkey",t_="endpointUrl",Z0="ingestionendpoint",O_="userOverrideEndpointUrl",r_,Ey=void 0,NI=(r_={diagnosticLogInterval:al(DI,1e4)},r_[hg]=Ey,r_[t_]=Ey,r_[e_]=Ey,r_.extensionConfig={},r_);function DI(i){return i&&i>0}var CI=function(){function i(o){var l=new fl,v;(Ve(o)||Ve(o[e_])&&Ve(o[hg]))&&lr("Invalid input configuration"),xa(i,this,function(w){Hr(w,"config",{g:function(){return v}}),A(),w.initialize=A,w.track=S,id(w,l,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange","getTraceCtx","updateCfg","addTelemetryInitializer"]);function A(){var L=Ro(o||{},NI);v=L.cfg,l.addUnloadHook(Iu(L,function(){var Y=v[hg];if(It(Y)){var B=$c(function(de,oe){ns(Y,function(xe){var me=xe.value,ke=v[e_];if(!xe.rejected&&me){v[hg]=me;var Oe=or(me);ke=Oe[J0]||ke}de(ke)})}),X=$c(function(de,oe){ns(Y,function(xe){var me=xe.value,ke=v[t_];if(!xe.rejected&&me){var Oe=or(me),Ge=Oe[Z0];ke=Ge?Ge+dv:ke}de(ke)})});v[e_]=B,v[t_]=v[O_]||X}if(Bt(Y)){var le=or(Y),fe=le[Z0];v[t_]=v[O_]?v[O_]:fe+dv,v[e_]=le[J0]||v[e_]}v[t_]=v[O_]?v[O_]:v[t_]})),l.initialize(v,[new W0])}});function S(w){w&&(w.baseData=w.baseData||{},w.baseType=w.baseType||"EventData"),l.track(w)}}return i.__ieDyn=1,i}();e.AppInsightsCore=fl,e.ApplicationInsights=CI,e.Sender=W0,e.SeverityLevel=um,e.arrForEach=At,e.isNullOrUndefined=Ve,e.proxyFunctions=id,e.throwError=lr})});var CS=Ad(wv=>{"use strict";var dN=wv&&wv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),pN=wv&&wv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),vN=wv&&wv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&dN(t,e,r);return pN(t,e),t};Object.defineProperty(wv,"__esModule",{value:!0});wv.appInsightsClientFactory=void 0;var mN=IS(),hN=Yy(),_N=async(e,t,r,n,s)=>{let u;try{let b=await Promise.resolve().then(()=>vN(DS())),N={};if(n){let H={alwaysUseXhrOverride:!0,httpXHROverride:n};N[mN.BreezeChannelIdentifier]=H}let P;e.startsWith("InstrumentationKey=")||(P=e);let j=P?{instrumentationKey:P}:{connectionString:e};u=new b.ApplicationInsights({...j,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0,extensionConfig:N})}catch(b){return Promise.reject(b)}return{logEvent:(b,N)=>{let P={...N==null?void 0:N.properties,...N==null?void 0:N.measurements};s!=null&&s.length&&hN.TelemetryUtil.applyReplacements(P,s),u==null||u.track({name:b,data:P,baseType:"EventData",ext:{user:{id:t,authId:t},app:{sesId:r}},baseData:{name:b,properties:N==null?void 0:N.properties,measurements:N==null?void 0:N.measurements}})},flush:async()=>{u==null||u.flush(!1)},dispose:async()=>new Promise(N=>{u==null||u.unload(!0,()=>{N(),u=void 0},1e3)})}};wv.appInsightsClientFactory=_N});var xS=Ad(kg=>{"use strict";Object.defineProperty(kg,"__esModule",{value:!0});kg.BaseTelemetryReporter=void 0;var $y=class{constructor(t,r,n){this.telemetrySender=t,this.vscodeAPI=r,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this._onDidChangeTelemetryLevel=new this.vscodeAPI.EventEmitter,this.onDidChangeTelemetryLevel=this._onDidChangeTelemetryLevel.event,this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,n),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates(()=>{this.updateUserOptIn()})}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender(),this._onDidChangeTelemetryLevel.fire(this.telemetryLevel)}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(t,r,n,s){s?this.telemetrySender.sendEventData(t,{properties:r,measurements:n}):this.telemetryLogger.logUsage(t,{properties:r,measurements:n})}sendTelemetryEvent(t,r,n){this.internalSendTelemetryEvent(t,r,n,!1)}sendRawTelemetryEvent(t,r,n){let s={...r};for(let u of Object.keys(s??{})){let h=s[u];typeof u=="string"&&h!==void 0&&(s[u]=new this.vscodeAPI.TelemetryTrustedValue(typeof h=="string"?h:h.value))}this.sendTelemetryEvent(t,s,n)}sendDangerousTelemetryEvent(t,r,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(t,r,n,!0)}internalSendTelemetryErrorEvent(t,r,n,s){s?this.telemetrySender.sendEventData(t,{properties:r,measurements:n}):this.telemetryLogger.logError(t,{properties:r,measurements:n})}sendTelemetryErrorEvent(t,r,n){this.internalSendTelemetryErrorEvent(t,r,n,!1)}sendDangerousTelemetryErrorEvent(t,r,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(t,r,n,!0)}async dispose(){return await this.telemetrySender.dispose(),this.telemetryLogger.dispose(),Promise.all(this.disposables.map(t=>t.dispose()))}};kg.BaseTelemetryReporter=$y});var PS=Ad(Og=>{"use strict";Object.defineProperty(Og,"__esModule",{value:!0});Og.BaseTelemetrySender=void 0;var dm;(function(e){e[e.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",e[e.INSTANTIATING=1]="INSTANTIATING",e[e.INSTANTIATED=2]="INSTANTIATED"})(dm||(dm={}));var qy=class{constructor(t,r){this._instantiationStatus=dm.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=r,this._key=t}sendEventData(t,r){if(!this._telemetryClient){this._instantiationStatus!==dm.INSTANTIATED&&this._eventQueue.push({eventName:t,data:r});return}this._telemetryClient.logEvent(t,r)}sendErrorData(t,r){if(!this._telemetryClient){this._instantiationStatus!==dm.INSTANTIATED&&this._exceptionQueue.push({exception:t,data:r});return}let n={stack:t.stack,message:t.message,name:t.name};if(r){let s=r.properties||r;r.properties={...s,...n}}else r={properties:n};this._telemetryClient.logEvent("unhandlederror",r)}async flush(){var t;return(t=this._telemetryClient)==null?void 0:t.flush()}async dispose(){this._telemetryClient&&(await this._telemetryClient.dispose(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:t,data:r})=>this.sendEventData(t,r)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:t,data:r})=>this.sendErrorData(t,r)),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===dm.NOT_INSTANTIATED&&(this._instantiationStatus=dm.INSTANTIATING,this._clientFactory(this._key).then(t=>{this._telemetryClient=t,this._instantiationStatus=dm.INSTANTIATED,this._flushQueues()}).catch(t=>{console.error(t),this._instantiationStatus=dm.INSTANTIATED}))}};Og.BaseTelemetrySender=qy});var kS=Ad(pm=>{"use strict";var gN=pm&&pm.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),yN=pm&&pm.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Gy=pm&&pm.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&gN(t,e,r);return yN(t,e),t};Object.defineProperty(pm,"__esModule",{value:!0});var SN=Gy(require("https")),By=Gy(require("os")),Mg=Gy(require("vscode")),bN=TS(),EN=CS(),TN=xS(),wN=PS(),AS=Yy();function RS(){return{sendPOST:(t,r)=>{let n={method:"POST",headers:{...t.headers,"Content-Type":"application/json","Content-Length":Buffer.byteLength(t.data)}};try{let s=SN.request(t.urlString,n,u=>{u.on("data",function(h){r(u.statusCode??200,u.headers,h.toString())}),u.on("error",function(){r(0,{})})});s.write(t.data,u=>{u&&r(0,{})}),s.end()}catch{r(0,{})}}}}var zy=class extends TN.BaseTelemetryReporter{constructor(t,r){let n=h=>(0,EN.appInsightsClientFactory)(h,Mg.env.machineId,Mg.env.sessionId,RS(),r);AS.TelemetryUtil.shouldUseOneDataSystemSDK(t)&&(n=h=>(0,bN.oneDataSystemClientFactory)(h,Mg,RS()));let s={release:By.release(),platform:By.platform(),architecture:By.arch()},u=new wN.BaseTelemetrySender(t,n);if(t&&t.indexOf("AIF-")===0)throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(u,Mg,{additionalCommonProperties:AS.TelemetryUtil.getAdditionalCommonProperties(s)})}};pm.default=zy});var kb=Ad((wO,c_)=>{"use strict";var ZN=typeof Buffer<"u",xb=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,Pb=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function Ab(e,t,r){r==null&&t!==null&&typeof t=="object"&&(r=t,t=void 0),ZN&&Buffer.isBuffer(e)&&(e=e.toString()),e&&e.charCodeAt(0)===65279&&(e=e.slice(1));let n=JSON.parse(e,t);if(n===null||typeof n!="object")return n;let s=r&&r.protoAction||"error",u=r&&r.constructorAction||"error";if(s==="ignore"&&u==="ignore")return n;if(s!=="ignore"&&u!=="ignore"){if(xb.test(e)===!1&&Pb.test(e)===!1)return n}else if(s!=="ignore"&&u==="ignore"){if(xb.test(e)===!1)return n}else if(Pb.test(e)===!1)return n;return Rb(n,{protoAction:s,constructorAction:u,safe:r&&r.safe})}function Rb(e,{protoAction:t="error",constructorAction:r="error",safe:n}={}){let s=[e];for(;s.length;){let u=s;s=[];for(let h of u){if(t!=="ignore"&&Object.prototype.hasOwnProperty.call(h,"__proto__")){if(n===!0)return null;if(t==="error")throw new SyntaxError("Object contains forbidden prototype property");delete h.__proto__}if(r!=="ignore"&&Object.prototype.hasOwnProperty.call(h,"constructor")&&Object.prototype.hasOwnProperty.call(h.constructor,"prototype")){if(n===!0)return null;if(r==="error")throw new SyntaxError("Object contains forbidden prototype property");delete h.constructor}for(let b in h){let N=h[b];N&&typeof N=="object"&&s.push(N)}}}return e}function Zy(e,t,r){let n=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return Ab(e,t,r)}finally{Error.stackTraceLimit=n}}function XN(e,t){let r=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return Ab(e,t,{safe:!0})}catch{return null}finally{Error.stackTraceLimit=r}}c_.exports=Zy;c_.exports.default=Zy;c_.exports.parse=Zy;c_.exports.safeParse=XN;c_.exports.scan=Rb});var vk={};nS(vk,{activate:()=>dk,deactivate:()=>pk});module.exports=LI(vk);var uI=require("vscode");var qS=require("vscode");var Hy={};nS(Hy,{action:()=>FI,diffView:()=>DN,storeApiKey:()=>UI,work:()=>CN});function FI(e){return t=>{typeof t=="function"&&t()}}var xy=require("vscode");function UI(e){return async(t,r)=>{let n=await xy.window.showInputBox({prompt:`Enter the ${r}`});n&&(await e.ext.secrets.store(t,n),xy.window.showInformationMessage(`${r} stored successfully`))}}var kf=require("vscode");var Ss=require("vscode"),_S=Cy(pS());var Ly=require("crypto");var rN=128,bh,o_;function nN(e){!bh||bh.length<e?(bh=Buffer.allocUnsafe(e*rN),Ly.webcrypto.getRandomValues(bh),o_=0):o_+e>bh.length&&(Ly.webcrypto.getRandomValues(bh),o_=0),o_+=e}function aN(e){return nN(e|=0),bh.subarray(o_-e,o_)}function iN(e,t,r){let n=(2<<31-Math.clz32(e.length-1|1))-1,s=Math.ceil(1.6*n*t/e.length);return(u=t)=>{let h="";for(;;){let b=r(s),N=s;for(;N--;)if(h+=e[b[N]&n]||"",h.length>=u)return h}}}function vS(e,t=21){return iN(e,t,aN)}var Rd=require("vscode"),Fy="multicoder",mS,hS,Tg=(hS=(mS=Rd.workspace.workspaceFolders)==null?void 0:mS[0])==null?void 0:hS.uri,wg=new Map;function oN(e){return e.path.split("/").pop()}function xp(e){let t=Rd.workspace.getWorkspaceFolder(e);if(t){let u="";return String(t.uri)!==String(e)&&(u=Rd.workspace.asRelativePath(e,!1).replace(/\\/g,"/")),String(t.uri)!==String(Tg)&&(u=".folders/"+oN(t.uri)+(u?"/"+u:"")),u||(u="."),u}if(e.scheme==="untitled")return".untitled/"+e.path;let r=e.path.split("/"),n=r.pop(),s=r.pop();return wg.has(s)||wg.set(s,Rd.Uri.joinPath(e,"../")),".external/"+s+"/"+n}function Rn(e){return(e=="."||e=="./")&&(e=""),e=e.startsWith("/")?e:"/"+e,Rd.Uri.from({scheme:Fy,path:e})}function Ou(e){let[t,r,...n]=e.path.split("/");if(r==".documents")return e.with({scheme:"file"});if(r==".untitled")return Rd.Uri.from({scheme:"untitled",path:n.join("/")});if(r==".external"){let s=n.shift();if(wg.has(s))return Rd.Uri.joinPath(wg.get(s),n.join("/"));throw new Error("Unknown external directory: "+s)}if(r==".folders"){let s=n.shift();for(let u of Rd.workspace.workspaceFolders||[])if(u.uri.path.endsWith("/"+s))return Rd.Uri.joinPath(u.uri,n.join("/"));throw new Error("Unknown workspace folder: "+s)}if(Tg)return e.path?Rd.Uri.joinPath(Tg,e.path):Tg;throw new Error("Cannot find source Uri")}var{fs:Uy}=Ss.workspace,sN=vS("1234567890abcdef",10);function Ig(){return sN()}function F_(){let e=[];for(let t of Ss.window.tabGroups.all.flatMap(r=>r.tabs))t.input instanceof Ss.TabInputText&&e.push(t.input.uri);return e}async function Af(e){return new TextDecoder().decode(await Uy.readFile(e))}async function Ng(e,t){return await Uy.writeFile(e,new TextEncoder().encode(t))}async function Dg(e=""){let t=Ss.workspace.workspaceFolders;if(!(t!=null&&t.length))return e?[]:F_().map(h=>({name:xp(h).split("/").pop(),path:xp(h),uri:h,isFile:!0,isDirectory:!1,isSymbolicLink:!1}));let r=t[0],n=Ss.Uri.joinPath(r.uri,e);if(t.length>1){let[h,...b]=e.split("/");if(!h)return t.map(({name:N,uri:P})=>({name:N,path:N,uri:P,isFile:!1,isDirectory:!0,isSymbolicLink:!1}));if(r=t.find(N=>N.name==h),!r)return[];n=Ss.Uri.joinPath(r.uri,...b)}let s=(0,_S.default)().add([".git",".gitignore"]);try{s.add(await Af(Ss.Uri.joinPath(r.uri,".gitignore")))}catch{}let u=(await Uy.readDirectory(n)).map(([h,b])=>({name:h,path:xp(Ss.Uri.joinPath(n,h)),uri:Ss.Uri.joinPath(n,h),isFile:!!(b&Ss.FileType.File),isDirectory:!!(b&Ss.FileType.Directory),isSymbolicLink:!!(b&Ss.FileType.SymbolicLink)})).filter(({uri:h})=>!s.ignores(Ss.workspace.asRelativePath(h,!1)));return u.sort((h,b)=>h.isFile&&b.isDirectory?1:h.isDirectory&&b.isFile?-1:h.name.localeCompare(b.name)),u}var OS=Cy(kS()),IN="InstrumentationKey=4a0957be-8ce1-4335-8aa5-1fb742355aa5;IngestionEndpoint=https://westeurope-5.in.applicationinsights.azure.com/;LiveEndpoint=https://westeurope.livediagnostics.monitor.azure.com/;ApplicationId=b0fce7b4-deeb-43b7-aa17-e5024c6c504c";function NN(e){return{logUsage(t,r){e.sendTelemetryEvent(t,r)},logError(t,r={}){if(t&&typeof t=="object"){let{message:n,stack:s}=t,u=String(t.name||"error").toLowerCase(),h=String(t);e.sendTelemetryErrorEvent(u,{...t,...r,message:n,stack:s,text:h})}else e.sendTelemetryErrorEvent(String(t).toLowerCase().replace(/\W+/g,"-"),r)}}}function MS(e){let t=new OS.default(IN),r=NN(t);e.telemetry=r,r.logUsage("activated"),e.ext.subscriptions.push(t)}var LS=require("vscode");function FS(e){let t=LS.window.createOutputChannel("Multicoder",{log:!0});function r(s){if(!s||typeof s!="object")return;let{event:u,...h}=s,b=Object.entries(h).map(([N,P])=>`
    ${N}: ${P}`);b.length&&t.trace(b.join(""))}function n(s){let u={};return s!=null&&s.model&&(u.modelId=s.model.modelId,u.modelProvider=s.model.provider),u}e.log={error(s,u={}){t.error(s),e.telemetry.logError(s,{...n(this.context),...u}),r(u)},warn(s,u={}){t.warn((u!=null&&u.event?`[${u.event}] `:"")+s),e.telemetry.logUsage((u==null?void 0:u.event)||"warning",{text:s,...n(this.context),...u}),r(u)},info(s,u={}){t.info((u!=null&&u.event?`[${u.event}] `:"")+s),e.telemetry.logUsage((u==null?void 0:u.event)||"info",{text:s,...n(this.context),...u}),r(u)},context:null},e.ext.subscriptions.push(t)}var Vn=require("vscode");var{fs:U_}=Vn.workspace,Iv=new Map,Eh=new Map;function jS(e){let t=new Vy,r=Vn.workspace.registerFileSystemProvider(Fy,t,{isCaseSensitive:!0,isReadonly:!1});e.ext.subscriptions.push(r)}function Rf(e){return e.authority+e.path}async function US(e){try{return await U_.stat(e)}catch{}}function Lg(e){let t=e?Vn.FileType.Directory:Vn.FileType.File,r=Date.now();return{type:t,ctime:r,mtime:r,size:0,content:null}}var Vy=class{async stat(t){let r=Iv.get(Rf(t));if(!r&&t.path.startsWith("/.documents"))throw Vn.FileSystemError.FileNotFound(t);if(!r)return await U_.stat(Ou(t));if(!r.type)throw Vn.FileSystemError.FileNotFound(t);return r}async readFile(t){let r=Iv.get(Rf(t));if(!r&&t.path.startsWith("/.documents"))throw Vn.FileSystemError.FileNotFound(t);if(!r)return await U_.readFile(Ou(t));if(r.type&Vn.FileType.Directory)throw Vn.FileSystemError.FileIsADirectory(t);if(!r.type)throw Vn.FileSystemError.FileNotFound(t);return r.content}async writeFile(t,r,n){let s=Iv.get(Rf(t)),u=!!(s!=null&&s.type);if(!s&&!t.path.startsWith("/.documents")&&(s=await US(Ou(t)),u=!!s),s||(s=Lg()),s.type&Vn.FileType.Directory)throw Vn.FileSystemError.FileIsADirectory(t);if(!u&&!n.create)throw Vn.FileSystemError.FileNotFound(t);if(u&&n.create&&!n.overwrite)throw Vn.FileSystemError.FileExists(t);s.mtime=Date.now(),s.content=r,s.size=r.length,Iv.set(Rf(t),s),Eh.has(Rf(t))&&this._emitter.fire([{type:Vn.FileChangeType.Changed,uri:t}])}async readDirectory(t){let r=new Map,n=null;try{if(!t.path.startsWith("/.documents")){let s=Ou(t),u=await U_.stat(s),h=await U_.readDirectory(Ou(t));for(let[b,N]of h)r.set(b,N)}}catch(s){n=s}for(let[s,u]of Iv){let h=s.split("/"),b=h.pop();h.join("/")===t.path&&(u.type?r.set(b,u.type):r.has(b)&&r.delete(b))}if(n&&r.size==0&&!t.path.startsWith("/.documents"))throw n;return Array.from(r.entries())}async delete(t,r){let n=Iv.get(Rf(t)),s=!!(n!=null&&n.type);if(!n&&!t.path.startsWith("/.documents")&&(n=await US(Ou(t)),s=!!n),!s)throw Vn.FileSystemError.FileNotFound(t);n||(n=Lg()),n.type=0,n.content=null,n.size=0,Iv.set(Rf(t),n),Eh.has(Rf(t))&&this._emitter.fire([{type:Vn.FileChangeType.Deleted,uri:t}])}rename(t,r,n){}async createDirectory(t){let r=Lg(!0);Iv.set(Rf(t),r),Eh.has(Rf(t))&&this._emitter.fire([{type:Vn.FileChangeType.Created,uri:t}])}_emitter=new Vn.EventEmitter;onDidChangeFile=this._emitter.event;watch(t,r){let n={},s=Eh.get(Rf(t))||new Set;return s.add(n),Eh.set(Rf(t),s),new Vn.Disposable(()=>{s.delete(n),s.size||Eh.set(Rf(t),null)})}};function YS(){Iv=new Map,Eh=new Map;let e=Lg();e.content=new Uint8Array,e.permissions=Vn.FilePermission.Readonly,Iv.set("/~empty",e)}function DN(e){return async(t,r,n)=>{var ue,Ne,Ue;let s=Rn(t),u=Ou(s),h=t.split("/").pop();try{await kf.workspace.fs.stat(u)}catch{u=Rn("~empty")}await kf.commands.executeCommand("vscode.diff",u,s,`${h} - proposed changes`),e.log.info(t,{event:"action.diff"});let b=e.recent.get(n);if(!b)return;let N=(Ne=(ue=b.shared)==null?void 0:ue.edits)==null?void 0:Ne.find(rt=>rt.id===r),P=kf.window.activeTextEditor,j=P==null?void 0:P.document,H=(Ue=j==null?void 0:j.getText())==null?void 0:Ue.replace(/\r\n/g,`
`);if(!N||!N.search||!P||!j||j.uri.path!==s.path)return;let Q=H.indexOf(N.search);if(Q==-1)return;let pe=H.slice(0,Q).split(`
`).length-1,ce=N.search.split(`
`).length,se=new kf.Position(pe,0);P.selection=new kf.Selection(se,se),P.revealRange(new kf.Range(se,new kf.Position(pe+ce,0)))}}var Bk=require("vscode");async function $S(){}function CN(e){return()=>{$S()}}function BS(e){Object.entries(Hy).forEach(([t,r])=>{let n=qS.commands.registerCommand(`multicoder.${t}`,r(e));e.ext.subscriptions.push(n)})}var Rv=require("vscode");var zS="vercel.ai.error",xN=Symbol.for(zS),GS,PN=class VS extends Error{constructor({name:t,message:r,cause:n}){super(r),this[GS]=!0,this.name=t,this.cause=n}static isInstance(t){return VS.hasMarker(t,zS)}static hasMarker(t,r){let n=Symbol.for(r);return t!=null&&typeof t=="object"&&n in t&&typeof t[n]=="boolean"&&t[n]===!0}};GS=xN;var Mt=PN,HS="AI_APICallError",KS=`vercel.ai.error.${HS}`,AN=Symbol.for(KS),WS,hl=class extends Mt{constructor({message:e,url:t,requestBodyValues:r,statusCode:n,responseHeaders:s,responseBody:u,cause:h,isRetryable:b=n!=null&&(n===408||n===409||n===429||n>=500),data:N}){super({name:HS,message:e,cause:h}),this[WS]=!0,this.url=t,this.requestBodyValues=r,this.statusCode=n,this.responseHeaders=s,this.responseBody=u,this.isRetryable=b,this.data=N}static isInstance(e){return Mt.hasMarker(e,KS)}};WS=AN;var JS="AI_EmptyResponseBodyError",ZS=`vercel.ai.error.${JS}`,RN=Symbol.for(ZS),XS,Wy=class extends Mt{constructor({message:e="Empty response body"}={}){super({name:JS,message:e}),this[XS]=!0}static isInstance(e){return Mt.hasMarker(e,ZS)}};XS=RN;function Qm(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var QS="AI_InvalidArgumentError",eb=`vercel.ai.error.${QS}`,kN=Symbol.for(eb),tb,rb=class extends Mt{constructor({message:e,cause:t,argument:r}){super({name:QS,message:e,cause:t}),this[tb]=!0,this.argument=r}static isInstance(e){return Mt.hasMarker(e,eb)}};tb=kN;var nb="AI_InvalidPromptError",ab=`vercel.ai.error.${nb}`,ON=Symbol.for(ab),ib,Nv=class extends Mt{constructor({prompt:e,message:t,cause:r}){super({name:nb,message:`Invalid prompt: ${t}`,cause:r}),this[ib]=!0,this.prompt=e}static isInstance(e){return Mt.hasMarker(e,ab)}};ib=ON;var ob="AI_InvalidResponseDataError",sb=`vercel.ai.error.${ob}`,MN=Symbol.for(sb),ub,j_=class extends Mt{constructor({data:e,message:t=`Invalid response data: ${JSON.stringify(e)}.`}){super({name:ob,message:t}),this[ub]=!0,this.data=e}static isInstance(e){return Mt.hasMarker(e,sb)}};ub=MN;var cb="AI_JSONParseError",lb=`vercel.ai.error.${cb}`,LN=Symbol.for(lb),fb,s_=class extends Mt{constructor({text:e,cause:t}){super({name:cb,message:`JSON parsing failed: Text: ${e}.
Error message: ${Qm(t)}`,cause:t}),this[fb]=!0,this.text=e}static isInstance(e){return Mt.hasMarker(e,lb)}};fb=LN;var db="AI_LoadAPIKeyError",pb=`vercel.ai.error.${db}`,FN=Symbol.for(pb),vb,u_=class extends Mt{constructor({message:e}){super({name:db,message:e}),this[vb]=!0}static isInstance(e){return Mt.hasMarker(e,pb)}};vb=FN;var UN="AI_LoadSettingError",jN=`vercel.ai.error.${UN}`,YN=Symbol.for(jN),$N;$N=YN;var qN="AI_NoContentGeneratedError",BN=`vercel.ai.error.${qN}`,zN=Symbol.for(BN),GN;GN=zN;var mb="AI_NoSuchModelError",hb=`vercel.ai.error.${mb}`,VN=Symbol.for(hb),_b,Jy=class extends Mt{constructor({errorName:e=mb,modelId:t,modelType:r,message:n=`No such ${r}: ${t}`}){super({name:e,message:n}),this[_b]=!0,this.modelId=t,this.modelType=r}static isInstance(e){return Mt.hasMarker(e,hb)}};_b=VN;var gb="AI_TooManyEmbeddingValuesForCallError",yb=`vercel.ai.error.${gb}`,HN=Symbol.for(yb),Sb,bb=class extends Mt{constructor(e){super({name:gb,message:`Too many values for a single embedding call. The ${e.provider} model "${e.modelId}" can only embed up to ${e.maxEmbeddingsPerCall} values per call, but ${e.values.length} values were provided.`}),this[Sb]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return Mt.hasMarker(e,yb)}};Sb=HN;var Eb="AI_TypeValidationError",Tb=`vercel.ai.error.${Eb}`,KN=Symbol.for(Tb),wb,WN=class Ky extends Mt{constructor({value:t,cause:r}){super({name:Eb,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${Qm(r)}`,cause:r}),this[wb]=!0,this.value=t}static isInstance(t){return Mt.hasMarker(t,Tb)}static wrap({value:t,cause:r}){return Ky.isInstance(r)&&r.value===t?r:new Ky({value:t,cause:r})}};wb=KN;var vm=WN,Ib="AI_UnsupportedFunctionalityError",Nb=`vercel.ai.error.${Ib}`,JN=Symbol.for(Nb),Db,$n=class extends Mt{constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:Ib,message:t}),this[Db]=!0,this.functionality=e}static isInstance(e){return Mt.hasMarker(e,Nb)}};Db=JN;var Cb=(e,t=21)=>(r=t)=>{let n="",s=r|0;for(;s--;)n+=e[Math.random()*e.length|0];return n};var qg=Cy(kb(),1);var QN=Object.defineProperty,eD=(e,t,r)=>t in e?QN(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,Fg=(e,t,r)=>eD(e,typeof t!="symbol"?t+"":t,r),Ug=class extends Error{constructor(t,r){super(t),Fg(this,"type"),Fg(this,"field"),Fg(this,"value"),Fg(this,"line"),this.name="ParseError",this.type=r.type,this.field=r.field,this.value=r.value,this.line=r.line}};function Xy(e){}function Ob(e){let{onEvent:t=Xy,onError:r=Xy,onRetry:n=Xy,onComment:s}=e,u="",h=!0,b,N="",P="";function j(se){let ue=h?se.replace(/^\xEF\xBB\xBF/,""):se,[Ne,Ue]=tD(`${u}${ue}`);for(let rt of Ne)H(rt);u=Ue,h=!1}function H(se){if(se===""){pe();return}if(se.startsWith(":")){s&&s(se.slice(se.startsWith(": ")?2:1));return}let ue=se.indexOf(":");if(ue!==-1){let Ne=se.slice(0,ue),Ue=se[ue+1]===" "?2:1,rt=se.slice(ue+Ue);Q(Ne,rt,se);return}Q(se,"",se)}function Q(se,ue,Ne){switch(se){case"event":P=ue;break;case"data":N=`${N}${ue}
`;break;case"id":b=ue.includes("\0")?void 0:ue;break;case"retry":/^\d+$/.test(ue)?n(parseInt(ue,10)):r(new Ug(`Invalid \`retry\` value: "${ue}"`,{type:"invalid-retry",value:ue,line:Ne}));break;default:r(new Ug(`Unknown field "${se.length>20?`${se.slice(0,20)}\u2026`:se}"`,{type:"unknown-field",field:se,value:ue,line:Ne}));break}}function pe(){N.length>0&&t({id:b,event:P||void 0,data:N.endsWith(`
`)?N.slice(0,-1):N}),b=void 0,N="",P=""}function ce(se={}){u&&se.consume&&H(u),b=void 0,N="",P="",u=""}return{feed:j,reset:ce}}function tD(e){let t=[],r="",n=e.length;for(let s=0;s<n;s++){let u=e[s];u==="\r"&&e[s+1]===`
`?(t.push(r),r="",s++):u==="\r"||u===`
`?(t.push(r),r=""):r+=u}return[t,r]}var jg=class extends TransformStream{constructor({onError:t,onRetry:r,onComment:n}={}){let s;super({start(u){s=Ob({onEvent:h=>{u.enqueue(h)},onError(h){t==="terminate"?u.error(h):typeof t=="function"&&t(h)},onRetry:r,onComment:n})},transform(u){s.feed(u)}})}};function kd(...e){return e.reduce((t,r)=>({...t,...r??{}}),{})}function Mb(e){return new ReadableStream({async pull(t){try{let{value:r,done:n}=await e.next();n?t.close():t.enqueue(r)}catch(r){t.error(r)}},cancel(){}})}function Yg(e){let t={};return e.headers.forEach((r,n)=>{t[n]=r}),t}var Pp=({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{let s=Cb(r,t);if(e==null)return s;if(r.includes(n))throw new rb({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return u=>`${e}${n}${s(u)}`},mm=Pp();function Lb(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}function Y_(e){return e instanceof Error&&(e.name==="AbortError"||e.name==="TimeoutError")}function $g({apiKey:e,environmentVariableName:t,apiKeyParameterName:r="apiKey",description:n}){if(typeof e=="string")return e;if(e!=null)throw new u_({message:`${n} API key must be a string.`});if(typeof process>"u")throw new u_({message:`${n} API key is missing. Pass it using the '${r}' parameter. Environment variables is not supported in this environment.`});if(e=process.env[t],e==null)throw new u_({message:`${n} API key is missing. Pass it using the '${r}' parameter or the ${t} environment variable.`});if(typeof e!="string")throw new u_({message:`${n} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}var $_=Symbol.for("vercel.ai.validator");function rD(e){return{[$_]:!0,validate:e}}function nD(e){return typeof e=="object"&&e!==null&&$_ in e&&e[$_]===!0&&"validate"in e}function aD(e){return nD(e)?e:iD(e)}function iD(e){return rD(t=>{let r=e.safeParse(t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}})}function oD({value:e,schema:t}){let r=eh({value:e,schema:t});if(!r.success)throw vm.wrap({value:e,cause:r.error});return r.value}function eh({value:e,schema:t}){let r=aD(t);try{if(r.validate==null)return{success:!0,value:e};let n=r.validate(e);return n.success?n:{success:!1,error:vm.wrap({value:e,cause:n.error})}}catch(n){return{success:!1,error:vm.wrap({value:e,cause:n})}}}function sD({text:e,schema:t}){try{let r=qg.default.parse(e);return t==null?r:oD({value:r,schema:t})}catch(r){throw s_.isInstance(r)||vm.isInstance(r)?r:new s_({text:e,cause:r})}}function Dv({text:e,schema:t}){try{let r=qg.default.parse(e);return t==null?{success:!0,value:r}:eh({value:r,schema:t})}catch(r){return{success:!1,error:s_.isInstance(r)?r:new s_({text:e,cause:r})}}}function Qy(e){try{return qg.default.parse(e),!0}catch{return!1}}function uD(e){return Object.fromEntries(Object.entries(e).filter(([t,r])=>r!=null))}var cD=()=>globalThis.fetch,Of=async({url:e,headers:t,body:r,failedResponseHandler:n,successfulResponseHandler:s,abortSignal:u,fetch:h})=>lD({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(r),values:r},failedResponseHandler:n,successfulResponseHandler:s,abortSignal:u,fetch:h}),lD=async({url:e,headers:t={},body:r,successfulResponseHandler:n,failedResponseHandler:s,abortSignal:u,fetch:h=cD()})=>{try{let b=await h(e,{method:"POST",headers:uD(t),body:r.content,signal:u}),N=Yg(b);if(!b.ok){let P;try{P=await s({response:b,url:e,requestBodyValues:r.values})}catch(j){throw Y_(j)||hl.isInstance(j)?j:new hl({message:"Failed to process error response",cause:j,statusCode:b.status,url:e,responseHeaders:N,requestBodyValues:r.values})}throw P.value}try{return await n({response:b,url:e,requestBodyValues:r.values})}catch(P){throw P instanceof Error&&(Y_(P)||hl.isInstance(P))?P:new hl({message:"Failed to process successful response",cause:P,statusCode:b.status,url:e,responseHeaders:N,requestBodyValues:r.values})}}catch(b){if(Y_(b))throw b;if(b instanceof TypeError&&b.message==="fetch failed"){let N=b.cause;if(N!=null)throw new hl({message:`Cannot connect to API: ${N.message}`,cause:N,url:e,requestBodyValues:r.values,isRetryable:!0})}throw b}};async function Fb(e){return typeof e=="function"&&(e=e()),Promise.resolve(e)}var Bg=({errorSchema:e,errorToMessage:t,isRetryable:r})=>async({response:n,url:s,requestBodyValues:u})=>{let h=await n.text(),b=Yg(n);if(h.trim()==="")return{responseHeaders:b,value:new hl({message:n.statusText,url:s,requestBodyValues:u,statusCode:n.status,responseHeaders:b,responseBody:h,isRetryable:r==null?void 0:r(n)})};try{let N=sD({text:h,schema:e});return{responseHeaders:b,value:new hl({message:t(N),url:s,requestBodyValues:u,statusCode:n.status,responseHeaders:b,responseBody:h,data:N,isRetryable:r==null?void 0:r(n,N)})}}catch{return{responseHeaders:b,value:new hl({message:n.statusText,url:s,requestBodyValues:u,statusCode:n.status,responseHeaders:b,responseBody:h,isRetryable:r==null?void 0:r(n)})}}},l_=e=>async({response:t})=>{let r=Yg(t);if(t.body==null)throw new Wy({});return{responseHeaders:r,value:t.body.pipeThrough(new TextDecoderStream).pipeThrough(new jg).pipeThrough(new TransformStream({transform({data:n},s){n!=="[DONE]"&&s.enqueue(Dv({text:n,schema:e}))}}))}};var Cv=e=>async({response:t,url:r,requestBodyValues:n})=>{let s=await t.text(),u=Dv({text:s,schema:e}),h=Yg(t);if(!u.success)throw new hl({message:"Invalid JSON response",cause:u.error,statusCode:t.status,responseHeaders:h,responseBody:s,url:r,requestBodyValues:n});return{responseHeaders:h,value:u.value}},{btoa:fD,atob:dD}=globalThis;function Ub(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r=dD(t);return Uint8Array.from(r,n=>n.codePointAt(0))}function Th(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCodePoint(e[r]);return fD(t)}function zg(e){return e==null?void 0:e.replace(/\/$/,"")}var dn;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{let u={};for(let h of s)u[h]=h;return u},e.getValidEnumValues=s=>{let u=e.objectKeys(s).filter(b=>typeof s[s[b]]!="number"),h={};for(let b of u)h[b]=s[b];return e.objectValues(h)},e.objectValues=s=>e.objectKeys(s).map(function(u){return s[u]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{let u=[];for(let h in s)Object.prototype.hasOwnProperty.call(s,h)&&u.push(h);return u},e.find=(s,u)=>{for(let h of s)if(u(h))return h},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,u=" | "){return s.map(h=>typeof h=="string"?`'${h}'`:h).join(u)}e.joinValues=n,e.jsonStringifyReplacer=(s,u)=>typeof u=="bigint"?u.toString():u})(dn||(dn={}));var t0;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(t0||(t0={}));var yt=dn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),_m=e=>{switch(typeof e){case"undefined":return yt.undefined;case"string":return yt.string;case"number":return isNaN(e)?yt.nan:yt.number;case"boolean":return yt.boolean;case"function":return yt.function;case"bigint":return yt.bigint;case"symbol":return yt.symbol;case"object":return Array.isArray(e)?yt.array:e===null?yt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?yt.promise:typeof Map<"u"&&e instanceof Map?yt.map:typeof Set<"u"&&e instanceof Set?yt.set:typeof Date<"u"&&e instanceof Date?yt.date:yt.object;default:return yt.unknown}},Ye=dn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),pD=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),Ec=class e extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){let r=t||function(u){return u.message},n={_errors:[]},s=u=>{for(let h of u.issues)if(h.code==="invalid_union")h.unionErrors.map(s);else if(h.code==="invalid_return_type")s(h.returnTypeError);else if(h.code==="invalid_arguments")s(h.argumentsError);else if(h.path.length===0)n._errors.push(r(h));else{let b=n,N=0;for(;N<h.path.length;){let P=h.path[N];N===h.path.length-1?(b[P]=b[P]||{_errors:[]},b[P]._errors.push(r(h))):b[P]=b[P]||{_errors:[]},b=b[P],N++}}};return s(this),n}static assert(t){if(!(t instanceof e))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,dn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){let r={},n=[];for(let s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};Ec.create=e=>new Ec(e);var p_=(e,t)=>{let r;switch(e.code){case Ye.invalid_type:e.received===yt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Ye.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,dn.jsonStringifyReplacer)}`;break;case Ye.unrecognized_keys:r=`Unrecognized key(s) in object: ${dn.joinValues(e.keys,", ")}`;break;case Ye.invalid_union:r="Invalid input";break;case Ye.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${dn.joinValues(e.options)}`;break;case Ye.invalid_enum_value:r=`Invalid enum value. Expected ${dn.joinValues(e.options)}, received '${e.received}'`;break;case Ye.invalid_arguments:r="Invalid function arguments";break;case Ye.invalid_return_type:r="Invalid function return type";break;case Ye.invalid_date:r="Invalid date";break;case Ye.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:dn.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Ye.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Ye.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Ye.custom:r="Invalid input";break;case Ye.invalid_intersection_types:r="Intersection results could not be merged";break;case Ye.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Ye.not_finite:r="Number must be finite";break;default:r=t.defaultError,dn.assertNever(e)}return{message:r}},$b=p_;function vD(e){$b=e}function Gg(){return $b}var Vg=e=>{let{data:t,path:r,errorMaps:n,issueData:s}=e,u=[...r,...s.path||[]],h={...s,path:u};if(s.message!==void 0)return{...s,path:u,message:s.message};let b="",N=n.filter(P=>!!P).slice().reverse();for(let P of N)b=P(h,{data:t,defaultError:b}).message;return{...s,path:u,message:b}},mD=[];function st(e,t){let r=Gg(),n=Vg({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===p_?void 0:p_].filter(s=>!!s)});e.common.issues.push(n)}var Mu=class e{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){let n=[];for(let s of r){if(s.status==="aborted")return _r;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){let n=[];for(let s of r){let u=await s.key,h=await s.value;n.push({key:u,value:h})}return e.mergeObjectSync(t,n)}static mergeObjectSync(t,r){let n={};for(let s of r){let{key:u,value:h}=s;if(u.status==="aborted"||h.status==="aborted")return _r;u.status==="dirty"&&t.dirty(),h.status==="dirty"&&t.dirty(),u.value!=="__proto__"&&(typeof h.value<"u"||s.alwaysSet)&&(n[u.value]=h.value)}return{status:t.value,value:n}}},_r=Object.freeze({status:"aborted"}),d_=e=>({status:"dirty",value:e}),Tc=e=>({status:"valid",value:e}),r0=e=>e.status==="aborted",n0=e=>e.status==="dirty",wh=e=>e.status==="valid",z_=e=>typeof Promise<"u"&&e instanceof Promise;function Hg(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function qb(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}var Ot;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Ot||(Ot={}));var q_,B_,Od=class{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},jb=(e,t)=>{if(wh(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new Ec(e.common.issues);return this._error=r,this._error}}};function Ar(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(h,b)=>{var N,P;let{message:j}=e;return h.code==="invalid_enum_value"?{message:j??b.defaultError}:typeof b.data>"u"?{message:(N=j??n)!==null&&N!==void 0?N:b.defaultError}:h.code!=="invalid_type"?{message:b.defaultError}:{message:(P=j??r)!==null&&P!==void 0?P:b.defaultError}},description:s}}var Rr=class{get description(){return this._def.description}_getType(t){return _m(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:_m(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Mu,ctx:{common:t.parent.common,data:t.data,parsedType:_m(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let r=this._parse(t);if(z_(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){let r=this._parse(t);return Promise.resolve(r)}parse(t,r){let n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;let s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:_m(t)},u=this._parseSync({data:t,path:s.path,parent:s});return jb(s,u)}"~validate"(t){var r,n;let s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:_m(t)};if(!this["~standard"].async)try{let u=this._parseSync({data:t,path:[],parent:s});return wh(u)?{value:u.value}:{issues:s.common.issues}}catch(u){!((n=(r=u==null?void 0:u.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(u=>wh(u)?{value:u.value}:{issues:s.common.issues})}async parseAsync(t,r){let n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){let n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:_m(t)},s=this._parse({data:t,path:n.path,parent:n}),u=await(z_(s)?s:Promise.resolve(s));return jb(n,u)}refine(t,r){let n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,u)=>{let h=t(s),b=()=>u.addIssue({code:Ye.custom,...n(s)});return typeof Promise<"u"&&h instanceof Promise?h.then(N=>N?!0:(b(),!1)):h?!0:(b(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new Mf({schema:this,typeName:ze.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return _l.create(this,this._def)}nullable(){return Pv.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return ym.create(this)}promise(){return nh.create(this,this._def)}or(t){return Ah.create([this,t],this._def)}and(t){return Rh.create(this,t,this._def)}transform(t){return new Mf({...Ar(this._def),schema:this,typeName:ze.ZodEffects,effect:{type:"transform",transform:t}})}default(t){let r=typeof t=="function"?t:()=>t;return new Fh({...Ar(this._def),innerType:this,defaultValue:r,typeName:ze.ZodDefault})}brand(){return new G_({typeName:ze.ZodBranded,type:this,...Ar(this._def)})}catch(t){let r=typeof t=="function"?t:()=>t;return new Uh({...Ar(this._def),innerType:this,catchValue:r,typeName:ze.ZodCatch})}describe(t){let r=this.constructor;return new r({...this._def,description:t})}pipe(t){return V_.create(this,t)}readonly(){return jh.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},hD=/^c[^\s-]{8,}$/i,_D=/^[0-9a-z]+$/,gD=/^[0-9A-HJKMNP-TV-Z]{26}$/i,yD=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,SD=/^[a-z0-9_-]{21}$/i,bD=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ED=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,TD=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,wD="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",e0,ID=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ND=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,DD=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,CD=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,xD=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,PD=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Bb="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",AD=new RegExp(`^${Bb}$`);function zb(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function RD(e){return new RegExp(`^${zb(e)}$`)}function Gb(e){let t=`${Bb}T${zb(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function kD(e,t){return!!((t==="v4"||!t)&&ID.test(e)||(t==="v6"||!t)&&DD.test(e))}function OD(e,t){if(!bD.test(e))return!1;try{let[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||!s.typ||!s.alg||t&&s.alg!==t)}catch{return!1}}function MD(e,t){return!!((t==="v4"||!t)&&ND.test(e)||(t==="v6"||!t)&&CD.test(e))}var th=class e extends Rr{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==yt.string){let u=this._getOrReturnCtx(t);return st(u,{code:Ye.invalid_type,expected:yt.string,received:u.parsedType}),_r}let n=new Mu,s;for(let u of this._def.checks)if(u.kind==="min")t.data.length<u.value&&(s=this._getOrReturnCtx(t,s),st(s,{code:Ye.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),n.dirty());else if(u.kind==="max")t.data.length>u.value&&(s=this._getOrReturnCtx(t,s),st(s,{code:Ye.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),n.dirty());else if(u.kind==="length"){let h=t.data.length>u.value,b=t.data.length<u.value;(h||b)&&(s=this._getOrReturnCtx(t,s),h?st(s,{code:Ye.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}):b&&st(s,{code:Ye.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}),n.dirty())}else if(u.kind==="email")TD.test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"email",code:Ye.invalid_string,message:u.message}),n.dirty());else if(u.kind==="emoji")e0||(e0=new RegExp(wD,"u")),e0.test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"emoji",code:Ye.invalid_string,message:u.message}),n.dirty());else if(u.kind==="uuid")yD.test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"uuid",code:Ye.invalid_string,message:u.message}),n.dirty());else if(u.kind==="nanoid")SD.test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"nanoid",code:Ye.invalid_string,message:u.message}),n.dirty());else if(u.kind==="cuid")hD.test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"cuid",code:Ye.invalid_string,message:u.message}),n.dirty());else if(u.kind==="cuid2")_D.test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"cuid2",code:Ye.invalid_string,message:u.message}),n.dirty());else if(u.kind==="ulid")gD.test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"ulid",code:Ye.invalid_string,message:u.message}),n.dirty());else if(u.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),st(s,{validation:"url",code:Ye.invalid_string,message:u.message}),n.dirty()}else u.kind==="regex"?(u.regex.lastIndex=0,u.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"regex",code:Ye.invalid_string,message:u.message}),n.dirty())):u.kind==="trim"?t.data=t.data.trim():u.kind==="includes"?t.data.includes(u.value,u.position)||(s=this._getOrReturnCtx(t,s),st(s,{code:Ye.invalid_string,validation:{includes:u.value,position:u.position},message:u.message}),n.dirty()):u.kind==="toLowerCase"?t.data=t.data.toLowerCase():u.kind==="toUpperCase"?t.data=t.data.toUpperCase():u.kind==="startsWith"?t.data.startsWith(u.value)||(s=this._getOrReturnCtx(t,s),st(s,{code:Ye.invalid_string,validation:{startsWith:u.value},message:u.message}),n.dirty()):u.kind==="endsWith"?t.data.endsWith(u.value)||(s=this._getOrReturnCtx(t,s),st(s,{code:Ye.invalid_string,validation:{endsWith:u.value},message:u.message}),n.dirty()):u.kind==="datetime"?Gb(u).test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{code:Ye.invalid_string,validation:"datetime",message:u.message}),n.dirty()):u.kind==="date"?AD.test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{code:Ye.invalid_string,validation:"date",message:u.message}),n.dirty()):u.kind==="time"?RD(u).test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{code:Ye.invalid_string,validation:"time",message:u.message}),n.dirty()):u.kind==="duration"?ED.test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"duration",code:Ye.invalid_string,message:u.message}),n.dirty()):u.kind==="ip"?kD(t.data,u.version)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"ip",code:Ye.invalid_string,message:u.message}),n.dirty()):u.kind==="jwt"?OD(t.data,u.alg)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"jwt",code:Ye.invalid_string,message:u.message}),n.dirty()):u.kind==="cidr"?MD(t.data,u.version)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"cidr",code:Ye.invalid_string,message:u.message}),n.dirty()):u.kind==="base64"?xD.test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"base64",code:Ye.invalid_string,message:u.message}),n.dirty()):u.kind==="base64url"?PD.test(t.data)||(s=this._getOrReturnCtx(t,s),st(s,{validation:"base64url",code:Ye.invalid_string,message:u.message}),n.dirty()):dn.assertNever(u);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:Ye.invalid_string,...Ot.errToObj(n)})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Ot.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Ot.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Ot.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Ot.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Ot.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Ot.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Ot.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Ot.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Ot.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Ot.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Ot.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Ot.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Ot.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...Ot.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Ot.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Ot.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Ot.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Ot.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Ot.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Ot.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Ot.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Ot.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Ot.errToObj(r)})}nonempty(t){return this.min(1,Ot.errToObj(t))}trim(){return new e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};th.create=e=>{var t;return new th({checks:[],typeName:ze.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ar(e)})};function LD(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,u=parseInt(e.toFixed(s).replace(".","")),h=parseInt(t.toFixed(s).replace(".",""));return u%h/Math.pow(10,s)}var Ih=class e extends Rr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==yt.number){let u=this._getOrReturnCtx(t);return st(u,{code:Ye.invalid_type,expected:yt.number,received:u.parsedType}),_r}let n,s=new Mu;for(let u of this._def.checks)u.kind==="int"?dn.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),st(n,{code:Ye.invalid_type,expected:"integer",received:"float",message:u.message}),s.dirty()):u.kind==="min"?(u.inclusive?t.data<u.value:t.data<=u.value)&&(n=this._getOrReturnCtx(t,n),st(n,{code:Ye.too_small,minimum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),s.dirty()):u.kind==="max"?(u.inclusive?t.data>u.value:t.data>=u.value)&&(n=this._getOrReturnCtx(t,n),st(n,{code:Ye.too_big,maximum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),s.dirty()):u.kind==="multipleOf"?LD(t.data,u.value)!==0&&(n=this._getOrReturnCtx(t,n),st(n,{code:Ye.not_multiple_of,multipleOf:u.value,message:u.message}),s.dirty()):u.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),st(n,{code:Ye.not_finite,message:u.message}),s.dirty()):dn.assertNever(u);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Ot.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ot.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ot.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ot.toString(r))}setLimit(t,r,n,s){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ot.toString(s)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Ot.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Ot.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Ot.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Ot.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Ot.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ot.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Ot.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Ot.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Ot.toString(t)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&dn.isInteger(t.value))}get isFinite(){let t=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}};Ih.create=e=>new Ih({checks:[],typeName:ze.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Ar(e)});var Nh=class e extends Rr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==yt.bigint)return this._getInvalidInput(t);let n,s=new Mu;for(let u of this._def.checks)u.kind==="min"?(u.inclusive?t.data<u.value:t.data<=u.value)&&(n=this._getOrReturnCtx(t,n),st(n,{code:Ye.too_small,type:"bigint",minimum:u.value,inclusive:u.inclusive,message:u.message}),s.dirty()):u.kind==="max"?(u.inclusive?t.data>u.value:t.data>=u.value)&&(n=this._getOrReturnCtx(t,n),st(n,{code:Ye.too_big,type:"bigint",maximum:u.value,inclusive:u.inclusive,message:u.message}),s.dirty()):u.kind==="multipleOf"?t.data%u.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),st(n,{code:Ye.not_multiple_of,multipleOf:u.value,message:u.message}),s.dirty()):dn.assertNever(u);return{status:s.value,value:t.data}}_getInvalidInput(t){let r=this._getOrReturnCtx(t);return st(r,{code:Ye.invalid_type,expected:yt.bigint,received:r.parsedType}),_r}gte(t,r){return this.setLimit("min",t,!0,Ot.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Ot.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Ot.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Ot.toString(r))}setLimit(t,r,n,s){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Ot.toString(s)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Ot.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Ot.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Ot.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Ot.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Ot.toString(r)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};Nh.create=e=>{var t;return new Nh({checks:[],typeName:ze.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Ar(e)})};var Dh=class extends Rr{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==yt.boolean){let n=this._getOrReturnCtx(t);return st(n,{code:Ye.invalid_type,expected:yt.boolean,received:n.parsedType}),_r}return Tc(t.data)}};Dh.create=e=>new Dh({typeName:ze.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Ar(e)});var Ch=class e extends Rr{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==yt.date){let u=this._getOrReturnCtx(t);return st(u,{code:Ye.invalid_type,expected:yt.date,received:u.parsedType}),_r}if(isNaN(t.data.getTime())){let u=this._getOrReturnCtx(t);return st(u,{code:Ye.invalid_date}),_r}let n=new Mu,s;for(let u of this._def.checks)u.kind==="min"?t.data.getTime()<u.value&&(s=this._getOrReturnCtx(t,s),st(s,{code:Ye.too_small,message:u.message,inclusive:!0,exact:!1,minimum:u.value,type:"date"}),n.dirty()):u.kind==="max"?t.data.getTime()>u.value&&(s=this._getOrReturnCtx(t,s),st(s,{code:Ye.too_big,message:u.message,inclusive:!0,exact:!1,maximum:u.value,type:"date"}),n.dirty()):dn.assertNever(u);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Ot.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Ot.toString(r)})}get minDate(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}};Ch.create=e=>new Ch({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:ze.ZodDate,...Ar(e)});var v_=class extends Rr{_parse(t){if(this._getType(t)!==yt.symbol){let n=this._getOrReturnCtx(t);return st(n,{code:Ye.invalid_type,expected:yt.symbol,received:n.parsedType}),_r}return Tc(t.data)}};v_.create=e=>new v_({typeName:ze.ZodSymbol,...Ar(e)});var xh=class extends Rr{_parse(t){if(this._getType(t)!==yt.undefined){let n=this._getOrReturnCtx(t);return st(n,{code:Ye.invalid_type,expected:yt.undefined,received:n.parsedType}),_r}return Tc(t.data)}};xh.create=e=>new xh({typeName:ze.ZodUndefined,...Ar(e)});var Ph=class extends Rr{_parse(t){if(this._getType(t)!==yt.null){let n=this._getOrReturnCtx(t);return st(n,{code:Ye.invalid_type,expected:yt.null,received:n.parsedType}),_r}return Tc(t.data)}};Ph.create=e=>new Ph({typeName:ze.ZodNull,...Ar(e)});var rh=class extends Rr{constructor(){super(...arguments),this._any=!0}_parse(t){return Tc(t.data)}};rh.create=e=>new rh({typeName:ze.ZodAny,...Ar(e)});var gm=class extends Rr{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Tc(t.data)}};gm.create=e=>new gm({typeName:ze.ZodUnknown,...Ar(e)});var Ap=class extends Rr{_parse(t){let r=this._getOrReturnCtx(t);return st(r,{code:Ye.invalid_type,expected:yt.never,received:r.parsedType}),_r}};Ap.create=e=>new Ap({typeName:ze.ZodNever,...Ar(e)});var m_=class extends Rr{_parse(t){if(this._getType(t)!==yt.undefined){let n=this._getOrReturnCtx(t);return st(n,{code:Ye.invalid_type,expected:yt.void,received:n.parsedType}),_r}return Tc(t.data)}};m_.create=e=>new m_({typeName:ze.ZodVoid,...Ar(e)});var ym=class e extends Rr{_parse(t){let{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==yt.array)return st(r,{code:Ye.invalid_type,expected:yt.array,received:r.parsedType}),_r;if(s.exactLength!==null){let h=r.data.length>s.exactLength.value,b=r.data.length<s.exactLength.value;(h||b)&&(st(r,{code:h?Ye.too_big:Ye.too_small,minimum:b?s.exactLength.value:void 0,maximum:h?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(st(r,{code:Ye.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(st(r,{code:Ye.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((h,b)=>s.type._parseAsync(new Od(r,h,r.path,b)))).then(h=>Mu.mergeArray(n,h));let u=[...r.data].map((h,b)=>s.type._parseSync(new Od(r,h,r.path,b)));return Mu.mergeArray(n,u)}get element(){return this._def.type}min(t,r){return new e({...this._def,minLength:{value:t,message:Ot.toString(r)}})}max(t,r){return new e({...this._def,maxLength:{value:t,message:Ot.toString(r)}})}length(t,r){return new e({...this._def,exactLength:{value:t,message:Ot.toString(r)}})}nonempty(t){return this.min(1,t)}};ym.create=(e,t)=>new ym({type:e,minLength:null,maxLength:null,exactLength:null,typeName:ze.ZodArray,...Ar(t)});function f_(e){if(e instanceof gl){let t={};for(let r in e.shape){let n=e.shape[r];t[r]=_l.create(f_(n))}return new gl({...e._def,shape:()=>t})}else return e instanceof ym?new ym({...e._def,type:f_(e.element)}):e instanceof _l?_l.create(f_(e.unwrap())):e instanceof Pv?Pv.create(f_(e.unwrap())):e instanceof xv?xv.create(e.items.map(t=>f_(t))):e}var gl=class e extends Rr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let t=this._def.shape(),r=dn.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==yt.object){let P=this._getOrReturnCtx(t);return st(P,{code:Ye.invalid_type,expected:yt.object,received:P.parsedType}),_r}let{status:n,ctx:s}=this._processInputParams(t),{shape:u,keys:h}=this._getCached(),b=[];if(!(this._def.catchall instanceof Ap&&this._def.unknownKeys==="strip"))for(let P in s.data)h.includes(P)||b.push(P);let N=[];for(let P of h){let j=u[P],H=s.data[P];N.push({key:{status:"valid",value:P},value:j._parse(new Od(s,H,s.path,P)),alwaysSet:P in s.data})}if(this._def.catchall instanceof Ap){let P=this._def.unknownKeys;if(P==="passthrough")for(let j of b)N.push({key:{status:"valid",value:j},value:{status:"valid",value:s.data[j]}});else if(P==="strict")b.length>0&&(st(s,{code:Ye.unrecognized_keys,keys:b}),n.dirty());else if(P!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let P=this._def.catchall;for(let j of b){let H=s.data[j];N.push({key:{status:"valid",value:j},value:P._parse(new Od(s,H,s.path,j)),alwaysSet:j in s.data})}}return s.common.async?Promise.resolve().then(async()=>{let P=[];for(let j of N){let H=await j.key,Q=await j.value;P.push({key:H,value:Q,alwaysSet:j.alwaysSet})}return P}).then(P=>Mu.mergeObjectSync(n,P)):Mu.mergeObjectSync(n,N)}get shape(){return this._def.shape()}strict(t){return Ot.errToObj,new e({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,u,h,b;let N=(h=(u=(s=this._def).errorMap)===null||u===void 0?void 0:u.call(s,r,n).message)!==null&&h!==void 0?h:n.defaultError;return r.code==="unrecognized_keys"?{message:(b=Ot.errToObj(t).message)!==null&&b!==void 0?b:N}:{message:N}}}:{}})}strip(){return new e({...this._def,unknownKeys:"strip"})}passthrough(){return new e({...this._def,unknownKeys:"passthrough"})}extend(t){return new e({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:ze.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new e({...this._def,catchall:t})}pick(t){let r={};return dn.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new e({...this._def,shape:()=>r})}omit(t){let r={};return dn.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new e({...this._def,shape:()=>r})}deepPartial(){return f_(this)}partial(t){let r={};return dn.objectKeys(this.shape).forEach(n=>{let s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}),new e({...this._def,shape:()=>r})}required(t){let r={};return dn.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let u=this.shape[n];for(;u instanceof _l;)u=u._def.innerType;r[n]=u}}),new e({...this._def,shape:()=>r})}keyof(){return Vb(dn.objectKeys(this.shape))}};gl.create=(e,t)=>new gl({shape:()=>e,unknownKeys:"strip",catchall:Ap.create(),typeName:ze.ZodObject,...Ar(t)});gl.strictCreate=(e,t)=>new gl({shape:()=>e,unknownKeys:"strict",catchall:Ap.create(),typeName:ze.ZodObject,...Ar(t)});gl.lazycreate=(e,t)=>new gl({shape:e,unknownKeys:"strip",catchall:Ap.create(),typeName:ze.ZodObject,...Ar(t)});var Ah=class extends Rr{_parse(t){let{ctx:r}=this._processInputParams(t),n=this._def.options;function s(u){for(let b of u)if(b.result.status==="valid")return b.result;for(let b of u)if(b.result.status==="dirty")return r.common.issues.push(...b.ctx.common.issues),b.result;let h=u.map(b=>new Ec(b.ctx.common.issues));return st(r,{code:Ye.invalid_union,unionErrors:h}),_r}if(r.common.async)return Promise.all(n.map(async u=>{let h={...r,common:{...r.common,issues:[]},parent:null};return{result:await u._parseAsync({data:r.data,path:r.path,parent:h}),ctx:h}})).then(s);{let u,h=[];for(let N of n){let P={...r,common:{...r.common,issues:[]},parent:null},j=N._parseSync({data:r.data,path:r.path,parent:P});if(j.status==="valid")return j;j.status==="dirty"&&!u&&(u={result:j,ctx:P}),P.common.issues.length&&h.push(P.common.issues)}if(u)return r.common.issues.push(...u.ctx.common.issues),u.result;let b=h.map(N=>new Ec(N));return st(r,{code:Ye.invalid_union,unionErrors:b}),_r}}get options(){return this._def.options}};Ah.create=(e,t)=>new Ah({options:e,typeName:ze.ZodUnion,...Ar(t)});var hm=e=>e instanceof kh?hm(e.schema):e instanceof Mf?hm(e.innerType()):e instanceof Oh?[e.value]:e instanceof Mh?e.options:e instanceof Lh?dn.objectValues(e.enum):e instanceof Fh?hm(e._def.innerType):e instanceof xh?[void 0]:e instanceof Ph?[null]:e instanceof _l?[void 0,...hm(e.unwrap())]:e instanceof Pv?[null,...hm(e.unwrap())]:e instanceof G_||e instanceof jh?hm(e.unwrap()):e instanceof Uh?hm(e._def.innerType):[],Kg=class e extends Rr{_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==yt.object)return st(r,{code:Ye.invalid_type,expected:yt.object,received:r.parsedType}),_r;let n=this.discriminator,s=r.data[n],u=this.optionsMap.get(s);return u?r.common.async?u._parseAsync({data:r.data,path:r.path,parent:r}):u._parseSync({data:r.data,path:r.path,parent:r}):(st(r,{code:Ye.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),_r)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){let s=new Map;for(let u of r){let h=hm(u.shape[t]);if(!h.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let b of h){if(s.has(b))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(b)}`);s.set(b,u)}}return new e({typeName:ze.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:s,...Ar(n)})}};function a0(e,t){let r=_m(e),n=_m(t);if(e===t)return{valid:!0,data:e};if(r===yt.object&&n===yt.object){let s=dn.objectKeys(t),u=dn.objectKeys(e).filter(b=>s.indexOf(b)!==-1),h={...e,...t};for(let b of u){let N=a0(e[b],t[b]);if(!N.valid)return{valid:!1};h[b]=N.data}return{valid:!0,data:h}}else if(r===yt.array&&n===yt.array){if(e.length!==t.length)return{valid:!1};let s=[];for(let u=0;u<e.length;u++){let h=e[u],b=t[u],N=a0(h,b);if(!N.valid)return{valid:!1};s.push(N.data)}return{valid:!0,data:s}}else return r===yt.date&&n===yt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}var Rh=class extends Rr{_parse(t){let{status:r,ctx:n}=this._processInputParams(t),s=(u,h)=>{if(r0(u)||r0(h))return _r;let b=a0(u.value,h.value);return b.valid?((n0(u)||n0(h))&&r.dirty(),{status:r.value,value:b.data}):(st(n,{code:Ye.invalid_intersection_types}),_r)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([u,h])=>s(u,h)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};Rh.create=(e,t,r)=>new Rh({left:e,right:t,typeName:ze.ZodIntersection,...Ar(r)});var xv=class e extends Rr{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==yt.array)return st(n,{code:Ye.invalid_type,expected:yt.array,received:n.parsedType}),_r;if(n.data.length<this._def.items.length)return st(n,{code:Ye.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),_r;!this._def.rest&&n.data.length>this._def.items.length&&(st(n,{code:Ye.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let u=[...n.data].map((h,b)=>{let N=this._def.items[b]||this._def.rest;return N?N._parse(new Od(n,h,n.path,b)):null}).filter(h=>!!h);return n.common.async?Promise.all(u).then(h=>Mu.mergeArray(r,h)):Mu.mergeArray(r,u)}get items(){return this._def.items}rest(t){return new e({...this._def,rest:t})}};xv.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new xv({items:e,typeName:ze.ZodTuple,rest:null,...Ar(t)})};var Wg=class e extends Rr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==yt.object)return st(n,{code:Ye.invalid_type,expected:yt.object,received:n.parsedType}),_r;let s=[],u=this._def.keyType,h=this._def.valueType;for(let b in n.data)s.push({key:u._parse(new Od(n,b,n.path,b)),value:h._parse(new Od(n,n.data[b],n.path,b)),alwaysSet:b in n.data});return n.common.async?Mu.mergeObjectAsync(r,s):Mu.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Rr?new e({keyType:t,valueType:r,typeName:ze.ZodRecord,...Ar(n)}):new e({keyType:th.create(),valueType:t,typeName:ze.ZodRecord,...Ar(r)})}},h_=class extends Rr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==yt.map)return st(n,{code:Ye.invalid_type,expected:yt.map,received:n.parsedType}),_r;let s=this._def.keyType,u=this._def.valueType,h=[...n.data.entries()].map(([b,N],P)=>({key:s._parse(new Od(n,b,n.path,[P,"key"])),value:u._parse(new Od(n,N,n.path,[P,"value"]))}));if(n.common.async){let b=new Map;return Promise.resolve().then(async()=>{for(let N of h){let P=await N.key,j=await N.value;if(P.status==="aborted"||j.status==="aborted")return _r;(P.status==="dirty"||j.status==="dirty")&&r.dirty(),b.set(P.value,j.value)}return{status:r.value,value:b}})}else{let b=new Map;for(let N of h){let P=N.key,j=N.value;if(P.status==="aborted"||j.status==="aborted")return _r;(P.status==="dirty"||j.status==="dirty")&&r.dirty(),b.set(P.value,j.value)}return{status:r.value,value:b}}}};h_.create=(e,t,r)=>new h_({valueType:t,keyType:e,typeName:ze.ZodMap,...Ar(r)});var __=class e extends Rr{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==yt.set)return st(n,{code:Ye.invalid_type,expected:yt.set,received:n.parsedType}),_r;let s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(st(n,{code:Ye.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(st(n,{code:Ye.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());let u=this._def.valueType;function h(N){let P=new Set;for(let j of N){if(j.status==="aborted")return _r;j.status==="dirty"&&r.dirty(),P.add(j.value)}return{status:r.value,value:P}}let b=[...n.data.values()].map((N,P)=>u._parse(new Od(n,N,n.path,P)));return n.common.async?Promise.all(b).then(N=>h(N)):h(b)}min(t,r){return new e({...this._def,minSize:{value:t,message:Ot.toString(r)}})}max(t,r){return new e({...this._def,maxSize:{value:t,message:Ot.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}};__.create=(e,t)=>new __({valueType:e,minSize:null,maxSize:null,typeName:ze.ZodSet,...Ar(t)});var Jg=class e extends Rr{constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==yt.function)return st(r,{code:Ye.invalid_type,expected:yt.function,received:r.parsedType}),_r;function n(b,N){return Vg({data:b,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Gg(),p_].filter(P=>!!P),issueData:{code:Ye.invalid_arguments,argumentsError:N}})}function s(b,N){return Vg({data:b,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Gg(),p_].filter(P=>!!P),issueData:{code:Ye.invalid_return_type,returnTypeError:N}})}let u={errorMap:r.common.contextualErrorMap},h=r.data;if(this._def.returns instanceof nh){let b=this;return Tc(async function(...N){let P=new Ec([]),j=await b._def.args.parseAsync(N,u).catch(pe=>{throw P.addIssue(n(N,pe)),P}),H=await Reflect.apply(h,this,j);return await b._def.returns._def.type.parseAsync(H,u).catch(pe=>{throw P.addIssue(s(H,pe)),P})})}else{let b=this;return Tc(function(...N){let P=b._def.args.safeParse(N,u);if(!P.success)throw new Ec([n(N,P.error)]);let j=Reflect.apply(h,this,P.data),H=b._def.returns.safeParse(j,u);if(!H.success)throw new Ec([s(j,H.error)]);return H.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new e({...this._def,args:xv.create(t).rest(gm.create())})}returns(t){return new e({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new e({args:t||xv.create([]).rest(gm.create()),returns:r||gm.create(),typeName:ze.ZodFunction,...Ar(n)})}},kh=class extends Rr{get schema(){return this._def.getter()}_parse(t){let{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};kh.create=(e,t)=>new kh({getter:e,typeName:ze.ZodLazy,...Ar(t)});var Oh=class extends Rr{_parse(t){if(t.data!==this._def.value){let r=this._getOrReturnCtx(t);return st(r,{received:r.data,code:Ye.invalid_literal,expected:this._def.value}),_r}return{status:"valid",value:t.data}}get value(){return this._def.value}};Oh.create=(e,t)=>new Oh({value:e,typeName:ze.ZodLiteral,...Ar(t)});function Vb(e,t){return new Mh({values:e,typeName:ze.ZodEnum,...Ar(t)})}var Mh=class e extends Rr{constructor(){super(...arguments),q_.set(this,void 0)}_parse(t){if(typeof t.data!="string"){let r=this._getOrReturnCtx(t),n=this._def.values;return st(r,{expected:dn.joinValues(n),received:r.parsedType,code:Ye.invalid_type}),_r}if(Hg(this,q_,"f")||qb(this,q_,new Set(this._def.values),"f"),!Hg(this,q_,"f").has(t.data)){let r=this._getOrReturnCtx(t),n=this._def.values;return st(r,{received:r.data,code:Ye.invalid_enum_value,options:n}),_r}return Tc(t.data)}get options(){return this._def.values}get enum(){let t={};for(let r of this._def.values)t[r]=r;return t}get Values(){let t={};for(let r of this._def.values)t[r]=r;return t}get Enum(){let t={};for(let r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return e.create(t,{...this._def,...r})}exclude(t,r=this._def){return e.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}};q_=new WeakMap;Mh.create=Vb;var Lh=class extends Rr{constructor(){super(...arguments),B_.set(this,void 0)}_parse(t){let r=dn.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==yt.string&&n.parsedType!==yt.number){let s=dn.objectValues(r);return st(n,{expected:dn.joinValues(s),received:n.parsedType,code:Ye.invalid_type}),_r}if(Hg(this,B_,"f")||qb(this,B_,new Set(dn.getValidEnumValues(this._def.values)),"f"),!Hg(this,B_,"f").has(t.data)){let s=dn.objectValues(r);return st(n,{received:n.data,code:Ye.invalid_enum_value,options:s}),_r}return Tc(t.data)}get enum(){return this._def.values}};B_=new WeakMap;Lh.create=(e,t)=>new Lh({values:e,typeName:ze.ZodNativeEnum,...Ar(t)});var nh=class extends Rr{unwrap(){return this._def.type}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==yt.promise&&r.common.async===!1)return st(r,{code:Ye.invalid_type,expected:yt.promise,received:r.parsedType}),_r;let n=r.parsedType===yt.promise?r.data:Promise.resolve(r.data);return Tc(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}};nh.create=(e,t)=>new nh({type:e,typeName:ze.ZodPromise,...Ar(t)});var Mf=class extends Rr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===ze.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,u={addIssue:h=>{st(n,h),h.fatal?r.abort():r.dirty()},get path(){return n.path}};if(u.addIssue=u.addIssue.bind(u),s.type==="preprocess"){let h=s.transform(n.data,u);if(n.common.async)return Promise.resolve(h).then(async b=>{if(r.value==="aborted")return _r;let N=await this._def.schema._parseAsync({data:b,path:n.path,parent:n});return N.status==="aborted"?_r:N.status==="dirty"||r.value==="dirty"?d_(N.value):N});{if(r.value==="aborted")return _r;let b=this._def.schema._parseSync({data:h,path:n.path,parent:n});return b.status==="aborted"?_r:b.status==="dirty"||r.value==="dirty"?d_(b.value):b}}if(s.type==="refinement"){let h=b=>{let N=s.refinement(b,u);if(n.common.async)return Promise.resolve(N);if(N instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return b};if(n.common.async===!1){let b=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return b.status==="aborted"?_r:(b.status==="dirty"&&r.dirty(),h(b.value),{status:r.value,value:b.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(b=>b.status==="aborted"?_r:(b.status==="dirty"&&r.dirty(),h(b.value).then(()=>({status:r.value,value:b.value}))))}if(s.type==="transform")if(n.common.async===!1){let h=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!wh(h))return h;let b=s.transform(h.value,u);if(b instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:b}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(h=>wh(h)?Promise.resolve(s.transform(h.value,u)).then(b=>({status:r.value,value:b})):h);dn.assertNever(s)}};Mf.create=(e,t,r)=>new Mf({schema:e,typeName:ze.ZodEffects,effect:t,...Ar(r)});Mf.createWithPreprocess=(e,t,r)=>new Mf({schema:t,effect:{type:"preprocess",transform:e},typeName:ze.ZodEffects,...Ar(r)});var _l=class extends Rr{_parse(t){return this._getType(t)===yt.undefined?Tc(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};_l.create=(e,t)=>new _l({innerType:e,typeName:ze.ZodOptional,...Ar(t)});var Pv=class extends Rr{_parse(t){return this._getType(t)===yt.null?Tc(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};Pv.create=(e,t)=>new Pv({innerType:e,typeName:ze.ZodNullable,...Ar(t)});var Fh=class extends Rr{_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return r.parsedType===yt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};Fh.create=(e,t)=>new Fh({innerType:e,typeName:ze.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Ar(t)});var Uh=class extends Rr{_parse(t){let{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return z_(s)?s.then(u=>({status:"valid",value:u.status==="valid"?u.value:this._def.catchValue({get error(){return new Ec(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Ec(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};Uh.create=(e,t)=>new Uh({innerType:e,typeName:ze.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Ar(t)});var g_=class extends Rr{_parse(t){if(this._getType(t)!==yt.nan){let n=this._getOrReturnCtx(t);return st(n,{code:Ye.invalid_type,expected:yt.nan,received:n.parsedType}),_r}return{status:"valid",value:t.data}}};g_.create=e=>new g_({typeName:ze.ZodNaN,...Ar(e)});var FD=Symbol("zod_brand"),G_=class extends Rr{_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},V_=class e extends Rr{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{let u=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return u.status==="aborted"?_r:u.status==="dirty"?(r.dirty(),d_(u.value)):this._def.out._parseAsync({data:u.value,path:n.path,parent:n})})();{let s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?_r:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new e({in:t,out:r,typeName:ze.ZodPipeline})}},jh=class extends Rr{_parse(t){let r=this._def.innerType._parse(t),n=s=>(wh(s)&&(s.value=Object.freeze(s.value)),s);return z_(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}};jh.create=(e,t)=>new jh({innerType:e,typeName:ze.ZodReadonly,...Ar(t)});function Hb(e,t={},r){return e?rh.create().superRefine((n,s)=>{var u,h;if(!e(n)){let b=typeof t=="function"?t(n):typeof t=="string"?{message:t}:t,N=(h=(u=b.fatal)!==null&&u!==void 0?u:r)!==null&&h!==void 0?h:!0,P=typeof b=="string"?{message:b}:b;s.addIssue({code:"custom",...P,fatal:N})}}):rh.create()}var UD={object:gl.lazycreate},ze;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(ze||(ze={}));var jD=(e,t={message:`Input not instance of ${e.name}`})=>Hb(r=>r instanceof e,t),Kb=th.create,Wb=Ih.create,YD=g_.create,$D=Nh.create,Jb=Dh.create,qD=Ch.create,BD=v_.create,zD=xh.create,GD=Ph.create,VD=rh.create,HD=gm.create,KD=Ap.create,WD=m_.create,JD=ym.create,ZD=gl.create,XD=gl.strictCreate,QD=Ah.create,eC=Kg.create,tC=Rh.create,rC=xv.create,nC=Wg.create,aC=h_.create,iC=__.create,oC=Jg.create,sC=kh.create,uC=Oh.create,cC=Mh.create,lC=Lh.create,fC=nh.create,Yb=Mf.create,dC=_l.create,pC=Pv.create,vC=Mf.createWithPreprocess,mC=V_.create,hC=()=>Kb().optional(),_C=()=>Wb().optional(),gC=()=>Jb().optional(),yC={string:e=>th.create({...e,coerce:!0}),number:e=>Ih.create({...e,coerce:!0}),boolean:e=>Dh.create({...e,coerce:!0}),bigint:e=>Nh.create({...e,coerce:!0}),date:e=>Ch.create({...e,coerce:!0})},SC=_r,O=Object.freeze({__proto__:null,defaultErrorMap:p_,setErrorMap:vD,getErrorMap:Gg,makeIssue:Vg,EMPTY_PATH:mD,addIssueToContext:st,ParseStatus:Mu,INVALID:_r,DIRTY:d_,OK:Tc,isAborted:r0,isDirty:n0,isValid:wh,isAsync:z_,get util(){return dn},get objectUtil(){return t0},ZodParsedType:yt,getParsedType:_m,ZodType:Rr,datetimeRegex:Gb,ZodString:th,ZodNumber:Ih,ZodBigInt:Nh,ZodBoolean:Dh,ZodDate:Ch,ZodSymbol:v_,ZodUndefined:xh,ZodNull:Ph,ZodAny:rh,ZodUnknown:gm,ZodNever:Ap,ZodVoid:m_,ZodArray:ym,ZodObject:gl,ZodUnion:Ah,ZodDiscriminatedUnion:Kg,ZodIntersection:Rh,ZodTuple:xv,ZodRecord:Wg,ZodMap:h_,ZodSet:__,ZodFunction:Jg,ZodLazy:kh,ZodLiteral:Oh,ZodEnum:Mh,ZodNativeEnum:Lh,ZodPromise:nh,ZodEffects:Mf,ZodTransformer:Mf,ZodOptional:_l,ZodNullable:Pv,ZodDefault:Fh,ZodCatch:Uh,ZodNaN:g_,BRAND:FD,ZodBranded:G_,ZodPipeline:V_,ZodReadonly:jh,custom:Hb,Schema:Rr,ZodSchema:Rr,late:UD,get ZodFirstPartyTypeKind(){return ze},coerce:yC,any:VD,array:JD,bigint:$D,boolean:Jb,date:qD,discriminatedUnion:eC,effect:Yb,enum:cC,function:oC,instanceof:jD,intersection:tC,lazy:sC,literal:uC,map:aC,nan:YD,nativeEnum:lC,never:KD,null:GD,nullable:pC,number:Wb,object:ZD,oboolean:gC,onumber:_C,optional:dC,ostring:hC,pipeline:mC,preprocess:vC,promise:fC,record:nC,set:iC,strictObject:XD,string:Kb,symbol:BD,transformer:Yb,tuple:rC,undefined:zD,union:QD,unknown:HD,void:WD,NEVER:SC,ZodIssueCode:Ye,quotelessJson:pD,ZodError:Ec});var bC=O.object({type:O.literal("error"),error:O.object({type:O.string(),message:O.string()})}),Zb=Bg({errorSchema:bC,errorToMessage:e=>e.error.message});function EC({prompt:e,cacheControl:t}){var r,n,s,u;let h=new Set,b=TC(e),N,P=[];function j(H){var Q;if(t===!1)return;let pe=H==null?void 0:H.anthropic;return(Q=pe==null?void 0:pe.cacheControl)!=null?Q:pe==null?void 0:pe.cache_control}for(let H=0;H<b.length;H++){let Q=b[H],pe=H===b.length-1,ce=Q.type;switch(ce){case"system":{if(N!=null)throw new $n({functionality:"Multiple system messages that are separated by user/assistant messages"});N=Q.messages.map(({content:se,providerMetadata:ue})=>({type:"text",text:se,cache_control:j(ue)}));break}case"user":{let se=[];for(let ue of Q.messages){let{role:Ne,content:Ue}=ue;switch(Ne){case"user":{for(let rt=0;rt<Ue.length;rt++){let Re=Ue[rt],nt=rt===Ue.length-1,Xe=(r=j(Re.providerMetadata))!=null?r:nt?j(ue.providerMetadata):void 0;switch(Re.type){case"text":{se.push({type:"text",text:Re.text,cache_control:Xe});break}case"image":{if(Re.image instanceof URL)throw new $n({functionality:"Image URLs in user messages"});se.push({type:"image",source:{type:"base64",media_type:(n=Re.mimeType)!=null?n:"image/jpeg",data:Th(Re.image)},cache_control:Xe});break}case"file":{if(Re.data instanceof URL)throw new $n({functionality:"Image URLs in user messages"});if(Re.mimeType!=="application/pdf")throw new $n({functionality:"Non-PDF files in user messages"});h.add("pdfs-2024-09-25"),se.push({type:"document",source:{type:"base64",media_type:"application/pdf",data:Re.data},cache_control:Xe});break}}}break}case"tool":{for(let rt=0;rt<Ue.length;rt++){let Re=Ue[rt],nt=rt===Ue.length-1,Xe=(s=j(Re.providerMetadata))!=null?s:nt?j(ue.providerMetadata):void 0,Ct=Re.content!=null?Re.content.map(Pt=>{var pr;switch(Pt.type){case"text":return{type:"text",text:Pt.text,cache_control:void 0};case"image":return{type:"image",source:{type:"base64",media_type:(pr=Pt.mimeType)!=null?pr:"image/jpeg",data:Pt.data},cache_control:void 0}}}):JSON.stringify(Re.result);se.push({type:"tool_result",tool_use_id:Re.toolCallId,content:Ct,is_error:Re.isError,cache_control:Xe})}break}default:{let rt=Ne;throw new Error(`Unsupported role: ${rt}`)}}}P.push({role:"user",content:se});break}case"assistant":{let se=[];for(let ue=0;ue<Q.messages.length;ue++){let Ne=Q.messages[ue],Ue=ue===Q.messages.length-1,{content:rt}=Ne;for(let Re=0;Re<rt.length;Re++){let nt=rt[Re],Xe=Re===rt.length-1,Ct=(u=j(nt.providerMetadata))!=null?u:Xe?j(Ne.providerMetadata):void 0;switch(nt.type){case"text":{se.push({type:"text",text:pe&&Ue&&Xe?nt.text.trim():nt.text,cache_control:Ct});break}case"tool-call":{se.push({type:"tool_use",id:nt.toolCallId,name:nt.toolName,input:nt.args,cache_control:Ct});break}}}}P.push({role:"assistant",content:se});break}default:{let se=ce;throw new Error(`Unsupported type: ${se}`)}}}return{prompt:{system:N,messages:P},betas:h}}function TC(e){let t=[],r;for(let n of e){let{role:s}=n;switch(s){case"system":{(r==null?void 0:r.type)!=="system"&&(r={type:"system",messages:[]},t.push(r)),r.messages.push(n);break}case"assistant":{(r==null?void 0:r.type)!=="assistant"&&(r={type:"assistant",messages:[]},t.push(r)),r.messages.push(n);break}case"user":{(r==null?void 0:r.type)!=="user"&&(r={type:"user",messages:[]},t.push(r)),r.messages.push(n);break}case"tool":{(r==null?void 0:r.type)!=="user"&&(r={type:"user",messages:[]},t.push(r)),r.messages.push(n);break}default:{let u=s;throw new Error(`Unsupported role: ${u}`)}}}return t}function Xb(e){switch(e){case"end_turn":case"stop_sequence":return"stop";case"tool_use":return"tool-calls";case"max_tokens":return"length";default:return"unknown"}}function wC(e){var t;let r=(t=e.tools)!=null&&t.length?e.tools:void 0,n=[],s=new Set;if(r==null)return{tools:void 0,tool_choice:void 0,toolWarnings:n,betas:s};let u=[];for(let N of r)switch(N.type){case"function":u.push({name:N.name,description:N.description,input_schema:N.parameters});break;case"provider-defined":switch(s.add("computer-use-2024-10-22"),N.id){case"anthropic.computer_20241022":u.push({name:N.name,type:"computer_20241022",display_width_px:N.args.displayWidthPx,display_height_px:N.args.displayHeightPx,display_number:N.args.displayNumber});break;case"anthropic.text_editor_20241022":u.push({name:N.name,type:"text_editor_20241022"});break;case"anthropic.bash_20241022":u.push({name:N.name,type:"bash_20241022"});break;default:n.push({type:"unsupported-tool",tool:N});break}break;default:n.push({type:"unsupported-tool",tool:N});break}let h=e.toolChoice;if(h==null)return{tools:u,tool_choice:void 0,toolWarnings:n,betas:s};let b=h.type;switch(b){case"auto":return{tools:u,tool_choice:{type:"auto"},toolWarnings:n,betas:s};case"required":return{tools:u,tool_choice:{type:"any"},toolWarnings:n,betas:s};case"none":return{tools:void 0,tool_choice:void 0,toolWarnings:n,betas:s};case"tool":return{tools:u,tool_choice:{type:"tool",name:h.toolName},toolWarnings:n,betas:s};default:{let N=b;throw new $n({functionality:`Unsupported tool choice type: ${N}`})}}}var IC=class{constructor(e,t,r){this.specificationVersion="v1",this.defaultObjectGenerationMode="tool",this.supportsImageUrls=!1,this.modelId=e,this.settings=t,this.config=r}get provider(){return this.config.provider}async getArgs({mode:e,prompt:t,maxTokens:r,temperature:n,topP:s,topK:u,frequencyPenalty:h,presencePenalty:b,stopSequences:N,responseFormat:P,seed:j}){var H;let Q=e.type,pe=[];h!=null&&pe.push({type:"unsupported-setting",setting:"frequencyPenalty"}),b!=null&&pe.push({type:"unsupported-setting",setting:"presencePenalty"}),j!=null&&pe.push({type:"unsupported-setting",setting:"seed"}),P!=null&&P.type!=="text"&&pe.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});let{prompt:ce,betas:se}=EC({prompt:t,cacheControl:(H=this.settings.cacheControl)!=null?H:!1}),ue={model:this.modelId,max_tokens:r??4096,temperature:n,top_k:u,top_p:s,stop_sequences:N,system:ce.system,messages:ce.messages};switch(Q){case"regular":{let{tools:Ne,tool_choice:Ue,toolWarnings:rt,betas:Re}=wC(e);return{args:{...ue,tools:Ne,tool_choice:Ue},warnings:[...pe,...rt],betas:new Set([...se,...Re])}}case"object-json":throw new $n({functionality:"json-mode object generation"});case"object-tool":{let{name:Ne,description:Ue,parameters:rt}=e.tool;return{args:{...ue,tools:[{name:Ne,description:Ue,input_schema:rt}],tool_choice:{type:"tool",name:Ne}},warnings:pe,betas:se}}default:{let Ne=Q;throw new Error(`Unsupported type: ${Ne}`)}}}async getHeaders({betas:e,headers:t}){return this.settings.cacheControl&&e.add("prompt-caching-2024-07-31"),kd(await Fb(this.config.headers),e.size>0?{"anthropic-beta":Array.from(e).join(",")}:{},t)}buildRequestUrl(e){var t,r,n;return(n=(r=(t=this.config).buildRequestUrl)==null?void 0:r.call(t,this.config.baseURL,e))!=null?n:`${this.config.baseURL}/messages`}transformRequestBody(e){var t,r,n;return(n=(r=(t=this.config).transformRequestBody)==null?void 0:r.call(t,e))!=null?n:e}async doGenerate(e){var t,r,n,s;let{args:u,warnings:h,betas:b}=await this.getArgs(e),{responseHeaders:N,value:P}=await Of({url:this.buildRequestUrl(!1),headers:await this.getHeaders({betas:b,headers:e.headers}),body:this.transformRequestBody(u),failedResponseHandler:Zb,successfulResponseHandler:Cv(NC),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:j,...H}=u,Q="";for(let ce of P.content)ce.type==="text"&&(Q+=ce.text);let pe;if(P.content.some(ce=>ce.type==="tool_use")){pe=[];for(let ce of P.content)ce.type==="tool_use"&&pe.push({toolCallType:"function",toolCallId:ce.id,toolName:ce.name,args:JSON.stringify(ce.input)})}return{text:Q,toolCalls:pe,finishReason:Xb(P.stop_reason),usage:{promptTokens:P.usage.input_tokens,completionTokens:P.usage.output_tokens},rawCall:{rawPrompt:j,rawSettings:H},rawResponse:{headers:N},response:{id:(t=P.id)!=null?t:void 0,modelId:(r=P.model)!=null?r:void 0},warnings:h,providerMetadata:this.settings.cacheControl===!0?{anthropic:{cacheCreationInputTokens:(n=P.usage.cache_creation_input_tokens)!=null?n:null,cacheReadInputTokens:(s=P.usage.cache_read_input_tokens)!=null?s:null}}:void 0,request:{body:JSON.stringify(u)}}}async doStream(e){let{args:t,warnings:r,betas:n}=await this.getArgs(e),s={...t,stream:!0},{responseHeaders:u,value:h}=await Of({url:this.buildRequestUrl(!0),headers:await this.getHeaders({betas:n,headers:e.headers}),body:this.transformRequestBody(s),failedResponseHandler:Zb,successfulResponseHandler:l_(DC),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:b,...N}=t,P="unknown",j={promptTokens:Number.NaN,completionTokens:Number.NaN},H={},Q,pe=this;return{stream:h.pipeThrough(new TransformStream({transform(ce,se){var ue,Ne,Ue,rt;if(!ce.success){se.enqueue({type:"error",error:ce.error});return}let Re=ce.value;switch(Re.type){case"ping":return;case"content_block_start":{let nt=Re.content_block.type;switch(nt){case"text":return;case"tool_use":{H[Re.index]={toolCallId:Re.content_block.id,toolName:Re.content_block.name,jsonText:""};return}default:{let Xe=nt;throw new Error(`Unsupported content block type: ${Xe}`)}}}case"content_block_stop":{if(H[Re.index]!=null){let nt=H[Re.index];se.enqueue({type:"tool-call",toolCallType:"function",toolCallId:nt.toolCallId,toolName:nt.toolName,args:nt.jsonText}),delete H[Re.index]}return}case"content_block_delta":{let nt=Re.delta.type;switch(nt){case"text_delta":{se.enqueue({type:"text-delta",textDelta:Re.delta.text});return}case"input_json_delta":{let Xe=H[Re.index];se.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:Xe.toolCallId,toolName:Xe.toolName,argsTextDelta:Re.delta.partial_json}),Xe.jsonText+=Re.delta.partial_json;return}default:{let Xe=nt;throw new Error(`Unsupported delta type: ${Xe}`)}}}case"message_start":{j.promptTokens=Re.message.usage.input_tokens,j.completionTokens=Re.message.usage.output_tokens,pe.settings.cacheControl===!0&&(Q={anthropic:{cacheCreationInputTokens:(ue=Re.message.usage.cache_creation_input_tokens)!=null?ue:null,cacheReadInputTokens:(Ne=Re.message.usage.cache_read_input_tokens)!=null?Ne:null}}),se.enqueue({type:"response-metadata",id:(Ue=Re.message.id)!=null?Ue:void 0,modelId:(rt=Re.message.model)!=null?rt:void 0});return}case"message_delta":{j.completionTokens=Re.usage.output_tokens,P=Xb(Re.delta.stop_reason);return}case"message_stop":{se.enqueue({type:"finish",finishReason:P,usage:j,providerMetadata:Q});return}case"error":{se.enqueue({type:"error",error:Re.error});return}default:{let nt=Re;throw new Error(`Unsupported chunk type: ${nt}`)}}}})),rawCall:{rawPrompt:b,rawSettings:N},rawResponse:{headers:u},warnings:r,request:{body:JSON.stringify(s)}}}},NC=O.object({type:O.literal("message"),id:O.string().nullish(),model:O.string().nullish(),content:O.array(O.discriminatedUnion("type",[O.object({type:O.literal("text"),text:O.string()}),O.object({type:O.literal("tool_use"),id:O.string(),name:O.string(),input:O.unknown()})])),stop_reason:O.string().nullish(),usage:O.object({input_tokens:O.number(),output_tokens:O.number(),cache_creation_input_tokens:O.number().nullish(),cache_read_input_tokens:O.number().nullish()})}),DC=O.discriminatedUnion("type",[O.object({type:O.literal("message_start"),message:O.object({id:O.string().nullish(),model:O.string().nullish(),usage:O.object({input_tokens:O.number(),output_tokens:O.number(),cache_creation_input_tokens:O.number().nullish(),cache_read_input_tokens:O.number().nullish()})})}),O.object({type:O.literal("content_block_start"),index:O.number(),content_block:O.discriminatedUnion("type",[O.object({type:O.literal("text"),text:O.string()}),O.object({type:O.literal("tool_use"),id:O.string(),name:O.string()})])}),O.object({type:O.literal("content_block_delta"),index:O.number(),delta:O.discriminatedUnion("type",[O.object({type:O.literal("input_json_delta"),partial_json:O.string()}),O.object({type:O.literal("text_delta"),text:O.string()})])}),O.object({type:O.literal("content_block_stop"),index:O.number()}),O.object({type:O.literal("error"),error:O.object({type:O.string(),message:O.string()})}),O.object({type:O.literal("message_delta"),delta:O.object({stop_reason:O.string().nullish()}),usage:O.object({output_tokens:O.number()})}),O.object({type:O.literal("message_stop")}),O.object({type:O.literal("ping")})]),CC=O.object({command:O.string(),restart:O.boolean().optional()});function xC(e={}){return{type:"provider-defined",id:"anthropic.bash_20241022",args:{},parameters:CC,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var PC=O.object({command:O.enum(["view","create","str_replace","insert","undo_edit"]),path:O.string(),file_text:O.string().optional(),insert_line:O.number().int().optional(),new_str:O.string().optional(),old_str:O.string().optional(),view_range:O.array(O.number().int()).optional()});function AC(e={}){return{type:"provider-defined",id:"anthropic.text_editor_20241022",args:{},parameters:PC,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var RC=O.object({action:O.enum(["key","type","mouse_move","left_click","left_click_drag","right_click","middle_click","double_click","screenshot","cursor_position"]),coordinate:O.array(O.number().int()).optional(),text:O.string().optional()});function kC(e){return{type:"provider-defined",id:"anthropic.computer_20241022",args:{displayWidthPx:e.displayWidthPx,displayHeightPx:e.displayHeightPx,displayNumber:e.displayNumber},parameters:RC,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var OC={bash_20241022:xC,textEditor_20241022:AC,computer_20241022:kC};function i0(e={}){var t;let r=(t=zg(e.baseURL))!=null?t:"https://api.anthropic.com/v1",n=()=>({"anthropic-version":"2023-06-01","x-api-key":$g({apiKey:e.apiKey,environmentVariableName:"ANTHROPIC_API_KEY",description:"Anthropic"}),...e.headers}),s=(h,b={})=>new IC(h,b,{provider:"anthropic.messages",baseURL:r,headers:n,fetch:e.fetch}),u=function(h,b){if(new.target)throw new Error("The Anthropic model function cannot be called with the new keyword.");return s(h,b)};return u.languageModel=s,u.chat=s,u.messages=s,u.textEmbeddingModel=h=>{throw new Jy({modelId:h,modelType:"textEmbeddingModel"})},u.tools=OC,u}var WO=i0();function MC({prompt:e,useLegacyFunctionCalling:t=!1,systemMessageMode:r="system"}){let n=[];for(let{role:s,content:u}of e)switch(s){case"system":{switch(r){case"system":{n.push({role:"system",content:u});break}case"developer":{n.push({role:"developer",content:u});break}case"remove":break;default:{let h=r;throw new Error(`Unsupported system message mode: ${h}`)}}break}case"user":{if(u.length===1&&u[0].type==="text"){n.push({role:"user",content:u[0].text});break}n.push({role:"user",content:u.map(h=>{var b,N,P;switch(h.type){case"text":return{type:"text",text:h.text};case"image":return{type:"image_url",image_url:{url:h.image instanceof URL?h.image.toString():`data:${(b=h.mimeType)!=null?b:"image/jpeg"};base64,${Th(h.image)}`,detail:(P=(N=h.providerMetadata)==null?void 0:N.openai)==null?void 0:P.imageDetail}};case"file":{if(h.data instanceof URL)throw new $n({functionality:"'File content parts with URL data' functionality not supported."});switch(h.mimeType){case"audio/wav":return{type:"input_audio",input_audio:{data:h.data,format:"wav"}};case"audio/mp3":case"audio/mpeg":return{type:"input_audio",input_audio:{data:h.data,format:"mp3"}};default:throw new $n({functionality:`File content part type ${h.mimeType} in user messages`})}}}})});break}case"assistant":{let h="",b=[];for(let N of u)switch(N.type){case"text":{h+=N.text;break}case"tool-call":{b.push({id:N.toolCallId,type:"function",function:{name:N.toolName,arguments:JSON.stringify(N.args)}});break}default:{let P=N;throw new Error(`Unsupported part: ${P}`)}}if(t){if(b.length>1)throw new $n({functionality:"useLegacyFunctionCalling with multiple tool calls in one message"});n.push({role:"assistant",content:h,function_call:b.length>0?b[0].function:void 0})}else n.push({role:"assistant",content:h,tool_calls:b.length>0?b:void 0});break}case"tool":{for(let h of u)t?n.push({role:"function",name:h.toolName,content:JSON.stringify(h.result)}):n.push({role:"tool",tool_call_id:h.toolCallId,content:JSON.stringify(h.result)});break}default:{let h=s;throw new Error(`Unsupported role: ${h}`)}}return n}function Qb(e){var t,r;return(r=(t=e==null?void 0:e.content)==null?void 0:t.map(({token:n,logprob:s,top_logprobs:u})=>({token:n,logprob:s,topLogprobs:u?u.map(({token:h,logprob:b})=>({token:h,logprob:b})):[]})))!=null?r:void 0}function Zg(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var o0=O.object({error:O.object({message:O.string(),type:O.string().nullish(),param:O.any().nullish(),code:O.union([O.string(),O.number()]).nullish()})}),y_=Bg({errorSchema:o0,errorToMessage:e=>e.error.message});function Xg({id:e,model:t,created:r}){return{id:e??void 0,modelId:t??void 0,timestamp:r!=null?new Date(r*1e3):void 0}}function LC({mode:e,useLegacyFunctionCalling:t=!1,structuredOutputs:r}){var n;let s=(n=e.tools)!=null&&n.length?e.tools:void 0,u=[];if(s==null)return{tools:void 0,tool_choice:void 0,toolWarnings:u};let h=e.toolChoice;if(t){let P=[];for(let H of s)H.type==="provider-defined"?u.push({type:"unsupported-tool",tool:H}):P.push({name:H.name,description:H.description,parameters:H.parameters});if(h==null)return{functions:P,function_call:void 0,toolWarnings:u};switch(h.type){case"auto":case"none":case void 0:return{functions:P,function_call:void 0,toolWarnings:u};case"required":throw new $n({functionality:"useLegacyFunctionCalling and toolChoice: required"});default:return{functions:P,function_call:{name:h.toolName},toolWarnings:u}}}let b=[];for(let P of s)P.type==="provider-defined"?u.push({type:"unsupported-tool",tool:P}):b.push({type:"function",function:{name:P.name,description:P.description,parameters:P.parameters,strict:r?!0:void 0}});if(h==null)return{tools:b,tool_choice:void 0,toolWarnings:u};let N=h.type;switch(N){case"auto":case"none":case"required":return{tools:b,tool_choice:N,toolWarnings:u};case"tool":return{tools:b,tool_choice:{type:"function",function:{name:h.toolName}},toolWarnings:u};default:{let P=N;throw new $n({functionality:`Unsupported tool choice type: ${P}`})}}}var FC=class{constructor(e,t,r){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=r}get supportsStructuredOutputs(){var e;return(e=this.settings.structuredOutputs)!=null?e:Qg(this.modelId)}get defaultObjectGenerationMode(){return YC(this.modelId)?"tool":this.supportsStructuredOutputs?"json":"tool"}get provider(){return this.config.provider}get supportsImageUrls(){return!this.settings.downloadImages}getArgs({mode:e,prompt:t,maxTokens:r,temperature:n,topP:s,topK:u,frequencyPenalty:h,presencePenalty:b,stopSequences:N,responseFormat:P,seed:j,providerMetadata:H}){var Q,pe,ce,se,ue,Ne,Ue,rt;let Re=e.type,nt=[];u!=null&&nt.push({type:"unsupported-setting",setting:"topK"}),(P==null?void 0:P.type)==="json"&&P.schema!=null&&!this.supportsStructuredOutputs&&nt.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});let Xe=this.settings.useLegacyFunctionCalling;if(Xe&&this.settings.parallelToolCalls===!0)throw new $n({functionality:"useLegacyFunctionCalling with parallelToolCalls"});if(Xe&&this.supportsStructuredOutputs)throw new $n({functionality:"structuredOutputs with useLegacyFunctionCalling"});eE(this.modelId)==="remove"&&t.some(Pt=>Pt.role==="system")&&nt.push({type:"other",message:"system messages are removed for this model"});let Ct={model:this.modelId,logit_bias:this.settings.logitBias,logprobs:this.settings.logprobs===!0||typeof this.settings.logprobs=="number"?!0:void 0,top_logprobs:typeof this.settings.logprobs=="number"?this.settings.logprobs:typeof this.settings.logprobs=="boolean"&&this.settings.logprobs?0:void 0,user:this.settings.user,parallel_tool_calls:this.settings.parallelToolCalls,max_tokens:r,temperature:n,top_p:s,frequency_penalty:h,presence_penalty:b,response_format:(P==null?void 0:P.type)==="json"?this.supportsStructuredOutputs&&P.schema!=null?{type:"json_schema",json_schema:{schema:P.schema,strict:!0,name:(Q=P.name)!=null?Q:"response",description:P.description}}:{type:"json_object"}:void 0,stop:N,seed:j,max_completion_tokens:(pe=H==null?void 0:H.openai)==null?void 0:pe.maxCompletionTokens,store:(ce=H==null?void 0:H.openai)==null?void 0:ce.store,metadata:(se=H==null?void 0:H.openai)==null?void 0:se.metadata,prediction:(ue=H==null?void 0:H.openai)==null?void 0:ue.prediction,reasoning_effort:(Ue=(Ne=H==null?void 0:H.openai)==null?void 0:Ne.reasoningEffort)!=null?Ue:this.settings.reasoningEffort,messages:MC({prompt:t,useLegacyFunctionCalling:Xe,systemMessageMode:eE(this.modelId)})};switch(Qg(this.modelId)&&(Ct.temperature!=null&&(Ct.temperature=void 0,nt.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),Ct.top_p!=null&&(Ct.top_p=void 0,nt.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"})),Ct.frequency_penalty!=null&&(Ct.frequency_penalty=void 0,nt.push({type:"unsupported-setting",setting:"frequencyPenalty",details:"frequencyPenalty is not supported for reasoning models"})),Ct.presence_penalty!=null&&(Ct.presence_penalty=void 0,nt.push({type:"unsupported-setting",setting:"presencePenalty",details:"presencePenalty is not supported for reasoning models"})),Ct.logit_bias!=null&&(Ct.logit_bias=void 0,nt.push({type:"other",message:"logitBias is not supported for reasoning models"})),Ct.logprobs!=null&&(Ct.logprobs=void 0,nt.push({type:"other",message:"logprobs is not supported for reasoning models"})),Ct.top_logprobs!=null&&(Ct.top_logprobs=void 0,nt.push({type:"other",message:"topLogprobs is not supported for reasoning models"})),Ct.max_tokens!=null&&(Ct.max_completion_tokens==null&&(Ct.max_completion_tokens=Ct.max_tokens),Ct.max_tokens=void 0)),Re){case"regular":{let{tools:Pt,tool_choice:pr,functions:wr,function_call:$r,toolWarnings:po}=LC({mode:e,useLegacyFunctionCalling:Xe,structuredOutputs:this.supportsStructuredOutputs});return{args:{...Ct,tools:Pt,tool_choice:pr,functions:wr,function_call:$r},warnings:[...nt,...po]}}case"object-json":return{args:{...Ct,response_format:this.supportsStructuredOutputs&&e.schema!=null?{type:"json_schema",json_schema:{schema:e.schema,strict:!0,name:(rt=e.name)!=null?rt:"response",description:e.description}}:{type:"json_object"}},warnings:nt};case"object-tool":return{args:Xe?{...Ct,function_call:{name:e.tool.name},functions:[{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters}]}:{...Ct,tool_choice:{type:"function",function:{name:e.tool.name}},tools:[{type:"function",function:{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters,strict:this.supportsStructuredOutputs?!0:void 0}}]},warnings:nt};default:{let Pt=Re;throw new Error(`Unsupported type: ${Pt}`)}}}async doGenerate(e){var t,r,n,s,u,h,b,N;let{args:P,warnings:j}=this.getArgs(e),{responseHeaders:H,value:Q}=await Of({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:kd(this.config.headers(),e.headers),body:P,failedResponseHandler:y_,successfulResponseHandler:Cv(UC),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:pe,...ce}=P,se=Q.choices[0],ue=(t=Q.usage)==null?void 0:t.completion_tokens_details,Ne=(r=Q.usage)==null?void 0:r.prompt_tokens_details,Ue={openai:{}};return(ue==null?void 0:ue.reasoning_tokens)!=null&&(Ue.openai.reasoningTokens=ue==null?void 0:ue.reasoning_tokens),(ue==null?void 0:ue.accepted_prediction_tokens)!=null&&(Ue.openai.acceptedPredictionTokens=ue==null?void 0:ue.accepted_prediction_tokens),(ue==null?void 0:ue.rejected_prediction_tokens)!=null&&(Ue.openai.rejectedPredictionTokens=ue==null?void 0:ue.rejected_prediction_tokens),(Ne==null?void 0:Ne.cached_tokens)!=null&&(Ue.openai.cachedPromptTokens=Ne==null?void 0:Ne.cached_tokens),{text:(n=se.message.content)!=null?n:void 0,toolCalls:this.settings.useLegacyFunctionCalling&&se.message.function_call?[{toolCallType:"function",toolCallId:mm(),toolName:se.message.function_call.name,args:se.message.function_call.arguments}]:(s=se.message.tool_calls)==null?void 0:s.map(rt=>{var Re;return{toolCallType:"function",toolCallId:(Re=rt.id)!=null?Re:mm(),toolName:rt.function.name,args:rt.function.arguments}}),finishReason:Zg(se.finish_reason),usage:{promptTokens:(h=(u=Q.usage)==null?void 0:u.prompt_tokens)!=null?h:NaN,completionTokens:(N=(b=Q.usage)==null?void 0:b.completion_tokens)!=null?N:NaN},rawCall:{rawPrompt:pe,rawSettings:ce},rawResponse:{headers:H},request:{body:JSON.stringify(P)},response:Xg(Q),warnings:j,logprobs:Qb(se.logprobs),providerMetadata:Ue}}async doStream(e){var t;if((t=this.settings.simulateStreaming)!=null?t:$C(this.modelId)){let ue=await this.doGenerate(e);return{stream:new ReadableStream({start(Ue){if(Ue.enqueue({type:"response-metadata",...ue.response}),ue.text&&Ue.enqueue({type:"text-delta",textDelta:ue.text}),ue.toolCalls)for(let rt of ue.toolCalls)Ue.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:rt.toolCallId,toolName:rt.toolName,argsTextDelta:rt.args}),Ue.enqueue({type:"tool-call",...rt});Ue.enqueue({type:"finish",finishReason:ue.finishReason,usage:ue.usage,logprobs:ue.logprobs,providerMetadata:ue.providerMetadata}),Ue.close()}}),rawCall:ue.rawCall,rawResponse:ue.rawResponse,warnings:ue.warnings}}let{args:r,warnings:n}=this.getArgs(e),s={...r,stream:!0,stream_options:this.config.compatibility==="strict"?{include_usage:!0}:void 0},{responseHeaders:u,value:h}=await Of({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:kd(this.config.headers(),e.headers),body:s,failedResponseHandler:y_,successfulResponseHandler:l_(jC),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:b,...N}=r,P=[],j="unknown",H={promptTokens:void 0,completionTokens:void 0},Q,pe=!0,{useLegacyFunctionCalling:ce}=this.settings,se={openai:{}};return{stream:h.pipeThrough(new TransformStream({transform(ue,Ne){var Ue,rt,Re,nt,Xe,Ct,Pt,pr,wr,$r,po,ji;if(!ue.success){j="error",Ne.enqueue({type:"error",error:ue.error});return}let Vr=ue.value;if("error"in Vr){j="error",Ne.enqueue({type:"error",error:Vr.error});return}if(pe&&(pe=!1,Ne.enqueue({type:"response-metadata",...Xg(Vr)})),Vr.usage!=null){let{prompt_tokens:Ir,completion_tokens:pn,prompt_tokens_details:Vt,completion_tokens_details:Bt}=Vr.usage;H={promptTokens:Ir??void 0,completionTokens:pn??void 0},(Bt==null?void 0:Bt.reasoning_tokens)!=null&&(se.openai.reasoningTokens=Bt==null?void 0:Bt.reasoning_tokens),(Bt==null?void 0:Bt.accepted_prediction_tokens)!=null&&(se.openai.acceptedPredictionTokens=Bt==null?void 0:Bt.accepted_prediction_tokens),(Bt==null?void 0:Bt.rejected_prediction_tokens)!=null&&(se.openai.rejectedPredictionTokens=Bt==null?void 0:Bt.rejected_prediction_tokens),(Vt==null?void 0:Vt.cached_tokens)!=null&&(se.openai.cachedPromptTokens=Vt==null?void 0:Vt.cached_tokens)}let yn=Vr.choices[0];if((yn==null?void 0:yn.finish_reason)!=null&&(j=Zg(yn.finish_reason)),(yn==null?void 0:yn.delta)==null)return;let tt=yn.delta;tt.content!=null&&Ne.enqueue({type:"text-delta",textDelta:tt.content});let Es=Qb(yn==null?void 0:yn.logprobs);Es!=null&&Es.length&&(Q===void 0&&(Q=[]),Q.push(...Es));let Ve=ce&&tt.function_call!=null?[{type:"function",id:mm(),function:tt.function_call,index:0}]:tt.tool_calls;if(Ve!=null)for(let Ir of Ve){let pn=Ir.index;if(P[pn]==null){if(Ir.type!=="function")throw new j_({data:Ir,message:"Expected 'function' type."});if(Ir.id==null)throw new j_({data:Ir,message:"Expected 'id' to be a string."});if(((Ue=Ir.function)==null?void 0:Ue.name)==null)throw new j_({data:Ir,message:"Expected 'function.name' to be a string."});P[pn]={id:Ir.id,type:"function",function:{name:Ir.function.name,arguments:(rt=Ir.function.arguments)!=null?rt:""},hasFinished:!1};let Bt=P[pn];((Re=Bt.function)==null?void 0:Re.name)!=null&&((nt=Bt.function)==null?void 0:nt.arguments)!=null&&(Bt.function.arguments.length>0&&Ne.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:Bt.id,toolName:Bt.function.name,argsTextDelta:Bt.function.arguments}),Qy(Bt.function.arguments)&&(Ne.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(Xe=Bt.id)!=null?Xe:mm(),toolName:Bt.function.name,args:Bt.function.arguments}),Bt.hasFinished=!0));continue}let Vt=P[pn];Vt.hasFinished||(((Ct=Ir.function)==null?void 0:Ct.arguments)!=null&&(Vt.function.arguments+=(pr=(Pt=Ir.function)==null?void 0:Pt.arguments)!=null?pr:""),Ne.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:Vt.id,toolName:Vt.function.name,argsTextDelta:(wr=Ir.function.arguments)!=null?wr:""}),(($r=Vt.function)==null?void 0:$r.name)!=null&&((po=Vt.function)==null?void 0:po.arguments)!=null&&Qy(Vt.function.arguments)&&(Ne.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(ji=Vt.id)!=null?ji:mm(),toolName:Vt.function.name,args:Vt.function.arguments}),Vt.hasFinished=!0))}},flush(ue){var Ne,Ue;ue.enqueue({type:"finish",finishReason:j,logprobs:Q,usage:{promptTokens:(Ne=H.promptTokens)!=null?Ne:NaN,completionTokens:(Ue=H.completionTokens)!=null?Ue:NaN},...se!=null?{providerMetadata:se}:{}})}})),rawCall:{rawPrompt:b,rawSettings:N},rawResponse:{headers:u},request:{body:JSON.stringify(s)},warnings:n}}},rE=O.object({prompt_tokens:O.number().nullish(),completion_tokens:O.number().nullish(),prompt_tokens_details:O.object({cached_tokens:O.number().nullish()}).nullish(),completion_tokens_details:O.object({reasoning_tokens:O.number().nullish(),accepted_prediction_tokens:O.number().nullish(),rejected_prediction_tokens:O.number().nullish()}).nullish()}).nullish(),UC=O.object({id:O.string().nullish(),created:O.number().nullish(),model:O.string().nullish(),choices:O.array(O.object({message:O.object({role:O.literal("assistant").nullish(),content:O.string().nullish(),function_call:O.object({arguments:O.string(),name:O.string()}).nullish(),tool_calls:O.array(O.object({id:O.string().nullish(),type:O.literal("function"),function:O.object({name:O.string(),arguments:O.string()})})).nullish()}),index:O.number(),logprobs:O.object({content:O.array(O.object({token:O.string(),logprob:O.number(),top_logprobs:O.array(O.object({token:O.string(),logprob:O.number()}))})).nullable()}).nullish(),finish_reason:O.string().nullish()})),usage:rE}),jC=O.union([O.object({id:O.string().nullish(),created:O.number().nullish(),model:O.string().nullish(),choices:O.array(O.object({delta:O.object({role:O.enum(["assistant"]).nullish(),content:O.string().nullish(),function_call:O.object({name:O.string().optional(),arguments:O.string().optional()}).nullish(),tool_calls:O.array(O.object({index:O.number(),id:O.string().nullish(),type:O.literal("function").optional(),function:O.object({name:O.string().nullish(),arguments:O.string().nullish()})})).nullish()}).nullish(),logprobs:O.object({content:O.array(O.object({token:O.string(),logprob:O.number(),top_logprobs:O.array(O.object({token:O.string(),logprob:O.number()}))})).nullable()}).nullish(),finish_reason:O.string().nullable().optional(),index:O.number()})),usage:rE}),o0]);function Qg(e){return e==="o1"||e.startsWith("o1-")||e==="o3"||e.startsWith("o3-")}function YC(e){return e.startsWith("gpt-4o-audio-preview")}function eE(e){var t,r;return Qg(e)?(r=(t=nE[e])==null?void 0:t.systemMessageMode)!=null?r:"developer":"system"}function $C(e){var t,r;return Qg(e)?(r=(t=nE[e])==null?void 0:t.simulateStreamingByDefault)!=null?r:!0:!1}var nE={"o1-mini":{systemMessageMode:"remove",simulateStreamingByDefault:!1},"o1-mini-2024-09-12":{systemMessageMode:"remove",simulateStreamingByDefault:!1},"o1-preview":{systemMessageMode:"remove",simulateStreamingByDefault:!1},"o1-preview-2024-09-12":{systemMessageMode:"remove",simulateStreamingByDefault:!1}};function qC({prompt:e,inputFormat:t,user:r="user",assistant:n="assistant"}){if(t==="prompt"&&e.length===1&&e[0].role==="user"&&e[0].content.length===1&&e[0].content[0].type==="text")return{prompt:e[0].content[0].text};let s="";e[0].role==="system"&&(s+=`${e[0].content}

`,e=e.slice(1));for(let{role:u,content:h}of e)switch(u){case"system":throw new Nv({message:"Unexpected system message in prompt: ${content}",prompt:e});case"user":{let b=h.map(N=>{switch(N.type){case"text":return N.text;case"image":throw new $n({functionality:"images"})}}).join("");s+=`${r}:
${b}

`;break}case"assistant":{let b=h.map(N=>{switch(N.type){case"text":return N.text;case"tool-call":throw new $n({functionality:"tool-call messages"})}}).join("");s+=`${n}:
${b}

`;break}case"tool":throw new $n({functionality:"tool messages"});default:{let b=u;throw new Error(`Unsupported role: ${b}`)}}return s+=`${n}:
`,{prompt:s,stopSequences:[`
${r}:`]}}function tE(e){return e==null?void 0:e.tokens.map((t,r)=>({token:t,logprob:e.token_logprobs[r],topLogprobs:e.top_logprobs?Object.entries(e.top_logprobs[r]).map(([n,s])=>({token:n,logprob:s})):[]}))}var BC=class{constructor(e,t,r){this.specificationVersion="v1",this.defaultObjectGenerationMode=void 0,this.modelId=e,this.settings=t,this.config=r}get provider(){return this.config.provider}getArgs({mode:e,inputFormat:t,prompt:r,maxTokens:n,temperature:s,topP:u,topK:h,frequencyPenalty:b,presencePenalty:N,stopSequences:P,responseFormat:j,seed:H}){var Q;let pe=e.type,ce=[];h!=null&&ce.push({type:"unsupported-setting",setting:"topK"}),j!=null&&j.type!=="text"&&ce.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});let{prompt:se,stopSequences:ue}=qC({prompt:r,inputFormat:t}),Ne=[...ue??[],...P??[]],Ue={model:this.modelId,echo:this.settings.echo,logit_bias:this.settings.logitBias,logprobs:typeof this.settings.logprobs=="number"?this.settings.logprobs:typeof this.settings.logprobs=="boolean"&&this.settings.logprobs?0:void 0,suffix:this.settings.suffix,user:this.settings.user,max_tokens:n,temperature:s,top_p:u,frequency_penalty:b,presence_penalty:N,seed:H,prompt:se,stop:Ne.length>0?Ne:void 0};switch(pe){case"regular":{if((Q=e.tools)!=null&&Q.length)throw new $n({functionality:"tools"});if(e.toolChoice)throw new $n({functionality:"toolChoice"});return{args:Ue,warnings:ce}}case"object-json":throw new $n({functionality:"object-json mode"});case"object-tool":throw new $n({functionality:"object-tool mode"});default:{let rt=pe;throw new Error(`Unsupported type: ${rt}`)}}}async doGenerate(e){let{args:t,warnings:r}=this.getArgs(e),{responseHeaders:n,value:s}=await Of({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:kd(this.config.headers(),e.headers),body:t,failedResponseHandler:y_,successfulResponseHandler:Cv(zC),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:u,...h}=t,b=s.choices[0];return{text:b.text,usage:{promptTokens:s.usage.prompt_tokens,completionTokens:s.usage.completion_tokens},finishReason:Zg(b.finish_reason),logprobs:tE(b.logprobs),rawCall:{rawPrompt:u,rawSettings:h},rawResponse:{headers:n},response:Xg(s),warnings:r,request:{body:JSON.stringify(t)}}}async doStream(e){let{args:t,warnings:r}=this.getArgs(e),n={...t,stream:!0,stream_options:this.config.compatibility==="strict"?{include_usage:!0}:void 0},{responseHeaders:s,value:u}=await Of({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:kd(this.config.headers(),e.headers),body:n,failedResponseHandler:y_,successfulResponseHandler:l_(GC),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:h,...b}=t,N="unknown",P={promptTokens:Number.NaN,completionTokens:Number.NaN},j,H=!0;return{stream:u.pipeThrough(new TransformStream({transform(Q,pe){if(!Q.success){N="error",pe.enqueue({type:"error",error:Q.error});return}let ce=Q.value;if("error"in ce){N="error",pe.enqueue({type:"error",error:ce.error});return}H&&(H=!1,pe.enqueue({type:"response-metadata",...Xg(ce)})),ce.usage!=null&&(P={promptTokens:ce.usage.prompt_tokens,completionTokens:ce.usage.completion_tokens});let se=ce.choices[0];(se==null?void 0:se.finish_reason)!=null&&(N=Zg(se.finish_reason)),(se==null?void 0:se.text)!=null&&pe.enqueue({type:"text-delta",textDelta:se.text});let ue=tE(se==null?void 0:se.logprobs);ue!=null&&ue.length&&(j===void 0&&(j=[]),j.push(...ue))},flush(Q){Q.enqueue({type:"finish",finishReason:N,logprobs:j,usage:P})}})),rawCall:{rawPrompt:h,rawSettings:b},rawResponse:{headers:s},warnings:r,request:{body:JSON.stringify(n)}}}},zC=O.object({id:O.string().nullish(),created:O.number().nullish(),model:O.string().nullish(),choices:O.array(O.object({text:O.string(),finish_reason:O.string(),logprobs:O.object({tokens:O.array(O.string()),token_logprobs:O.array(O.number()),top_logprobs:O.array(O.record(O.string(),O.number())).nullable()}).nullish()})),usage:O.object({prompt_tokens:O.number(),completion_tokens:O.number()})}),GC=O.union([O.object({id:O.string().nullish(),created:O.number().nullish(),model:O.string().nullish(),choices:O.array(O.object({text:O.string(),finish_reason:O.string().nullish(),index:O.number(),logprobs:O.object({tokens:O.array(O.string()),token_logprobs:O.array(O.number()),top_logprobs:O.array(O.record(O.string(),O.number())).nullable()}).nullish()})),usage:O.object({prompt_tokens:O.number(),completion_tokens:O.number()}).nullish()}),o0]),VC=class{constructor(e,t,r){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=r}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){var e;return(e=this.settings.maxEmbeddingsPerCall)!=null?e:2048}get supportsParallelCalls(){var e;return(e=this.settings.supportsParallelCalls)!=null?e:!0}async doEmbed({values:e,headers:t,abortSignal:r}){if(e.length>this.maxEmbeddingsPerCall)throw new bb({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});let{responseHeaders:n,value:s}=await Of({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:kd(this.config.headers(),t),body:{model:this.modelId,input:e,encoding_format:"float",dimensions:this.settings.dimensions,user:this.settings.user},failedResponseHandler:y_,successfulResponseHandler:Cv(HC),abortSignal:r,fetch:this.config.fetch});return{embeddings:s.data.map(u=>u.embedding),usage:s.usage?{tokens:s.usage.prompt_tokens}:void 0,rawResponse:{headers:n}}}},HC=O.object({data:O.array(O.object({embedding:O.array(O.number())})),usage:O.object({prompt_tokens:O.number()}).nullish()}),KC={"dall-e-3":1,"dall-e-2":10},WC=class{constructor(e,t,r){this.modelId=e,this.settings=t,this.config=r,this.specificationVersion="v1"}get maxImagesPerCall(){var e,t;return(t=(e=this.settings.maxImagesPerCall)!=null?e:KC[this.modelId])!=null?t:1}get provider(){return this.config.provider}async doGenerate({prompt:e,n:t,size:r,aspectRatio:n,seed:s,providerOptions:u,headers:h,abortSignal:b}){var N;let P=[];n!=null&&P.push({type:"unsupported-setting",setting:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),s!=null&&P.push({type:"unsupported-setting",setting:"seed"});let{value:j}=await Of({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:kd(this.config.headers(),h),body:{model:this.modelId,prompt:e,n:t,size:r,...(N=u.openai)!=null?N:{},response_format:"b64_json"},failedResponseHandler:y_,successfulResponseHandler:Cv(JC),abortSignal:b,fetch:this.config.fetch});return{images:j.data.map(H=>H.b64_json),warnings:P}}},JC=O.object({data:O.array(O.object({b64_json:O.string()}))});function s0(e={}){var t,r,n;let s=(t=zg(e.baseURL))!=null?t:"https://api.openai.com/v1",u=(r=e.compatibility)!=null?r:"compatible",h=(n=e.name)!=null?n:"openai",b=()=>({Authorization:`Bearer ${$g({apiKey:e.apiKey,environmentVariableName:"OPENAI_API_KEY",description:"OpenAI"})}`,"OpenAI-Organization":e.organization,"OpenAI-Project":e.project,...e.headers}),N=(ce,se={})=>new FC(ce,se,{provider:`${h}.chat`,url:({path:ue})=>`${s}${ue}`,headers:b,compatibility:u,fetch:e.fetch}),P=(ce,se={})=>new BC(ce,se,{provider:`${h}.completion`,url:({path:ue})=>`${s}${ue}`,headers:b,compatibility:u,fetch:e.fetch}),j=(ce,se={})=>new VC(ce,se,{provider:`${h}.embedding`,url:({path:ue})=>`${s}${ue}`,headers:b,fetch:e.fetch}),H=(ce,se={})=>new WC(ce,se,{provider:`${h}.image`,url:({path:ue})=>`${s}${ue}`,headers:b,fetch:e.fetch}),Q=(ce,se)=>{if(new.target)throw new Error("The OpenAI model function cannot be called with the new keyword.");return ce==="gpt-3.5-turbo-instruct"?P(ce,se):N(ce,se)},pe=function(ce,se){return Q(ce,se)};return pe.languageModel=Q,pe.chat=N,pe.completion=P,pe.embedding=j,pe.textEmbedding=j,pe.textEmbeddingModel=j,pe.image=H,pe}var h1=s0({compatibility:"strict"});var co=require("vscode"),ZC=["rate limit exceeded","net::err","check your network connection","check your firewall","request failed","400 bad request","server error","error on conversation request","response contained no choices","response got filtered"];function XC({role:e,content:t}){switch(e){case"system":return co.LanguageModelChatMessage.User(t);case"user":let r=t.map(u=>{switch(u.type){case"text":return new co.LanguageModelTextPart(u.text);case"image":throw new Error("Image content not supported");case"file":throw new Error("File content not supported")}});return co.LanguageModelChatMessage.User(r);case"tool":let n=t.map(u=>{switch(u.type){case"tool-result":let h=typeof u.result=="string"?u.result:JSON.stringify(u.result);return new co.LanguageModelToolResultPart(u.toolCallId,[new co.LanguageModelTextPart(h)])}});return co.LanguageModelChatMessage.User(n);case"assistant":let s=t.map(u=>{switch(u.type){case"text":return new co.LanguageModelTextPart(u.text);case"tool-call":return new co.LanguageModelToolCallPart(u.toolCallId,u.toolName,u.args)}});return s[0]instanceof co.LanguageModelTextPart||s.unshift(new co.LanguageModelTextPart("ok")),co.LanguageModelChatMessage.Assistant(s)}}function QC(e){switch(e.type){case"function":return{name:e.name,description:e.description,inputSchema:e.parameters};case"provider-defined":throw new Error("Provider-defined tools not supported")}}function ex(e){let t=String(e.message).toLowerCase();for(let r of ZC)if(t.includes(r))return!0;return!1}var u0=class{specificationVersion="v1";defaultObjectGenerationMode="json";provider="copilot";supportsImageUrls=!1;constructor(t,r,n){this.modelId=t,this.settings=r,this.config=n}async doGenerate(t){throw new Error("Not implemented")}async doStream(t){var j;let[r]=await co.lm.selectChatModels({family:this.modelId,vendor:"copilot"});if(!r)throw new Error("Model not found: "+this.modelId);let{prompt:n,abortSignal:s,mode:u}=t,h=s.context;if(u.type!=="regular")throw new Error("Request mode not supported: "+u.type);let b=n.map(XC),N=(j=u.tools)==null?void 0:j.map(QC);return n.slice(-1)[0].role=="tool"&&b.push(co.LanguageModelChatMessage.User("Follow the instructions in the tool call results above")),{stream:new ReadableStream({async start(H){let Q=0;for(;;){try{let pe=await r.sendRequest(b,{tools:N,modelOptions:{temperature:.2,max_tokens:8192}},h.token);for await(let ce of pe.stream){if(h.token.isCancellationRequested)break;ce instanceof co.LanguageModelTextPart?H.enqueue({type:"text-delta",textDelta:ce.value}):ce instanceof co.LanguageModelToolCallPart?H.enqueue({type:"tool-call",toolCallType:"function",toolCallId:ce.callId,toolName:ce.name,args:JSON.stringify(ce.input)}):H.error(new Error("Unknown content format"))}H.close();return}catch(pe){if(!ex(pe)||++Q>5){H.error(pe);return}H.enqueue({type:"error",error:{event:"retry",count:Q,message:pe.message||String(pe),cause:pe}}),String(pe.message).toLowerCase().includes("rate limit exceeded")&&await aE(30)}await aE(5*Q)}}}),rawCall:{rawPrompt:"",rawSettings:{}}}}};function iE(e){let t=(n,s={})=>new u0(n,s,{provider:"copilot"}),r=function(n,s={}){return t(n,s)};return r.chat=t,r}async function aE(e){return new Promise(t=>setTimeout(t,e*1e3))}var tx={anthropic:i0,openai:s0,copilot:iE},oE={};function c0({id:e,provider:t,apiKey:r}){let n=oE[t];if(!n){let s=tx[t];if(!s)throw new Error("Unknown provider: "+t);n=s({apiKey:r}),oE[t]=n}return n(e,{cacheControl:!0})}var uE=function(e,t,r,n){var s;t[0]=0;for(var u=1;u<t.length;u++){var h=t[u++],b=t[u]?(t[0]|=h?1:2,r[t[u++]]):t[++u];h===3?n[0]=b:h===4?n[1]=Object.assign(n[1]||{},b):h===5?(n[1]=n[1]||{})[t[++u]]=b:h===6?n[1][t[++u]]+=b+"":h?(s=e.apply(b,uE(e,b,r,["",null])),n.push(s),b[0]?t[0]|=2:(t[u-2]=0,t[u]=s)):n.push(b)}return n},sE=new Map;function cE(e){var t=sE.get(this);return t||(t=new Map,sE.set(this,t)),(t=uE(this,t.get(e)||(t.set(e,t=function(r){for(var n,s,u=1,h="",b="",N=[0],P=function(Q){u===1&&(Q||(h=h.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?N.push(0,Q,h):u===3&&(Q||h)?(N.push(3,Q,h),u=2):u===2&&h==="..."&&Q?N.push(4,Q,0):u===2&&h&&!Q?N.push(5,0,!0,h):u>=5&&((h||!Q&&u===5)&&(N.push(u,0,h,s),u=6),Q&&(N.push(u,Q,0,s),u=6)),h=""},j=0;j<r.length;j++){j&&(u===1&&P(),P(j));for(var H=0;H<r[j].length;H++)n=r[j][H],u===1?n==="<"?(P(),N=[N],u=3):h+=n:u===4?h==="--"&&n===">"?(u=1,h=""):h=n+h[0]:b?n===b?b="":h+=n:n==='"'||n==="'"?b=n:n===">"?(P(),u=1):u&&(n==="="?(u=5,s=h,h=""):n==="/"&&(u<5||r[j][H+1]===">")?(P(),u===3&&(N=N[0]),u=N,(N=N[0]).push(2,0,u),u=0):n===" "||n==="	"||n===`
`||n==="\r"?(P(),u=2):h+=n),u===3&&h==="!--"&&(u=4,N=N[0])}return P(),N}(e)),t),arguments,[])).length>1?t:t[0]}function l0(e){if(Array.isArray(e))return e.map(l0);if(typeof e!="string")return e;let t=e.split(`
`),r=100;if(t.forEach((n,s)=>{let u=n.match(/^(\s*)\S/);s&&u&&(r=Math.min(r,u[1].length))}),r<100)for(let n=1;n<t.length;n++)t[n]=t[n].slice(r);return t.join(`
`)}function rx(e,t,...r){return{type:e,props:t,children:l0(r)}}var nx=cE.bind(rx);function S_(...e){return l0(nx(...e))}function ah(e,t=""){if(Array.isArray(e))return e.reduce((r,n)=>{let s=ah(n,t);return/^[\n]/.test(s)&&/[\n]$/.test(r)?r+s.slice(1):/^[\s\n]/.test(s)||/[\s\n]$/.test(r)?r+s:r&&s?r+" "+s:r||s||""},"");if((e==null?void 0:e.type)=="markdown"){let{props:r}=e;return r.text}if((e==null?void 0:e.type)=="code"){let{props:r}=e;return"\n```"+(r.type||"")+`
`+r.text+"\n```\n"}if(typeof(e==null?void 0:e.type)=="string"){let{type:r,children:n}=e;return ah([`
`+t+"<"+r+`>
`,ah(n,t+"  "),`
`+t+"</"+r+`>
`])}if(typeof(e==null?void 0:e.type)=="function"){let{type:r,props:n,children:s}=e;return ah(r(n,s),t)}return String(e??"").split(`
`).map(r=>t+r).join(`
`)}var f0=[{provider:"anthropic",family:"claude-3.5-sonnet",id:"claude-3-5-sonnet-20241022",name:"Claude 3.5 Sonnet",cacheControl:!0},{provider:"openai",family:"gpt-4o",id:"gpt-4o-2024-08-06",name:"GPT 4o"},{provider:"openrouter",family:"claude-3.5-sonnet",id:"anthropic/claude-3.5-sonnet:beta",name:"Claude 3.5 Sonnet",cacheControl:!0},{provider:"openrouter",family:"gpt-4o",id:"openai/gpt-4o-2024-08-06",name:"GPT 4o"}];var lE=[{id:"anthropic",name:"Anthropic",envKeyName:"ANTHROPIC_API_KEY",website:"https://console.anthropic.com"},{id:"openai",name:"OpenAI",envKeyName:"OPENAI_API_KEY",website:"https://platform.openai.com"},{id:"openrouter",name:"Open Router",envKeyName:"OPENROUTER_API_KEY",website:"https://openrouter.ai"}];var dE=Symbol("Let zodToJsonSchema decide on which parser to use"),fE={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},pE=e=>typeof e=="string"?{...fE,name:e}:{...fE,...e};var vE=e=>{let t=pE(e),r=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([n,s])=>[s._def,{def:s._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]))}};function d0(e,t,r,n){n!=null&&n.errorMessages&&r&&(e.errorMessage={...e.errorMessage,[t]:r})}function an(e,t,r,n,s){e[t]=r,d0(e,t,n,s)}function mE(){return{}}function hE(e,t){var n,s,u;let r={type:"array"};return(n=e.type)!=null&&n._def&&((u=(s=e.type)==null?void 0:s._def)==null?void 0:u.typeName)!==ze.ZodAny&&(r.items=dr(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&an(r,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&an(r,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(an(r,"minItems",e.exactLength.value,e.exactLength.message,t),an(r,"maxItems",e.exactLength.value,e.exactLength.message,t)),r}function _E(e,t){let r={type:"integer",format:"int64"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"min":t.target==="jsonSchema7"?n.inclusive?an(r,"minimum",n.value,n.message,t):an(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),an(r,"minimum",n.value,n.message,t));break;case"max":t.target==="jsonSchema7"?n.inclusive?an(r,"maximum",n.value,n.message,t):an(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),an(r,"maximum",n.value,n.message,t));break;case"multipleOf":an(r,"multipleOf",n.value,n.message,t);break}return r}function gE(){return{type:"boolean"}}function ey(e,t){return dr(e.type._def,t)}var yE=(e,t)=>dr(e.innerType._def,t);function p0(e,t,r){let n=r??t.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((s,u)=>p0(e,t,s))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return ax(e,t)}}var ax=(e,t)=>{let r={type:"integer",format:"unix-time"};if(t.target==="openApi3")return r;for(let n of e.checks)switch(n.kind){case"min":an(r,"minimum",n.value,n.message,t);break;case"max":an(r,"maximum",n.value,n.message,t);break}return r};function SE(e,t){return{...dr(e.innerType._def,t),default:e.defaultValue()}}function bE(e,t){return t.effectStrategy==="input"?dr(e.schema._def,t):{}}function EE(e){return{type:"string",enum:Array.from(e.values)}}var ix=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function TE(e,t){let r=[dr(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),dr(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(u=>!!u),n=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,s=[];return r.forEach(u=>{if(ix(u))s.push(...u.allOf),u.unevaluatedProperties===void 0&&(n=void 0);else{let h=u;if("additionalProperties"in u&&u.additionalProperties===!1){let{additionalProperties:b,...N}=u;h=N}else n=void 0;s.push(h)}}),s.length?{allOf:s,...n}:void 0}function wE(e,t){let r=typeof e.value;return r!=="bigint"&&r!=="number"&&r!=="boolean"&&r!=="string"?{type:Array.isArray(e.value)?"array":"object"}:t.target==="openApi3"?{type:r==="bigint"?"integer":r,enum:[e.value]}:{type:r==="bigint"?"integer":r,const:e.value}}var v0,Rp={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(v0===void 0&&(v0=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),v0),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function ty(e,t){let r={type:"string"};if(e.checks)for(let n of e.checks)switch(n.kind){case"min":an(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,t);break;case"max":an(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"email":switch(t.emailStrategy){case"format:email":kp(r,"email",n.message,t);break;case"format:idn-email":kp(r,"idn-email",n.message,t);break;case"pattern:zod":wc(r,Rp.email,n.message,t);break}break;case"url":kp(r,"uri",n.message,t);break;case"uuid":kp(r,"uuid",n.message,t);break;case"regex":wc(r,n.regex,n.message,t);break;case"cuid":wc(r,Rp.cuid,n.message,t);break;case"cuid2":wc(r,Rp.cuid2,n.message,t);break;case"startsWith":wc(r,RegExp(`^${m0(n.value,t)}`),n.message,t);break;case"endsWith":wc(r,RegExp(`${m0(n.value,t)}$`),n.message,t);break;case"datetime":kp(r,"date-time",n.message,t);break;case"date":kp(r,"date",n.message,t);break;case"time":kp(r,"time",n.message,t);break;case"duration":kp(r,"duration",n.message,t);break;case"length":an(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,t),an(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"includes":{wc(r,RegExp(m0(n.value,t)),n.message,t);break}case"ip":{n.version!=="v6"&&kp(r,"ipv4",n.message,t),n.version!=="v4"&&kp(r,"ipv6",n.message,t);break}case"base64url":wc(r,Rp.base64url,n.message,t);break;case"jwt":wc(r,Rp.jwt,n.message,t);break;case"cidr":{n.version!=="v6"&&wc(r,Rp.ipv4Cidr,n.message,t),n.version!=="v4"&&wc(r,Rp.ipv6Cidr,n.message,t);break}case"emoji":wc(r,Rp.emoji(),n.message,t);break;case"ulid":{wc(r,Rp.ulid,n.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{kp(r,"binary",n.message,t);break}case"contentEncoding:base64":{an(r,"contentEncoding","base64",n.message,t);break}case"pattern:zod":{wc(r,Rp.base64,n.message,t);break}}break}case"nanoid":wc(r,Rp.nanoid,n.message,t);case"toLowerCase":case"toUpperCase":case"trim":break;default:}return r}function m0(e,t){return t.patternStrategy==="escape"?sx(e):e}var ox=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function sx(e){let t="";for(let r=0;r<e.length;r++)ox.has(e[r])||(t+="\\"),t+=e[r];return t}function kp(e,t,r,n){var s;e.format||(s=e.anyOf)!=null&&s.some(u=>u.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&n.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):an(e,"format",t,r,n)}function wc(e,t,r,n){var s;e.pattern||(s=e.allOf)!=null&&s.some(u=>u.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&n.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.allOf.push({pattern:IE(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):an(e,"pattern",IE(t,n),r,n)}function IE(e,t){var N;if(!t.applyRegexFlags||!e.flags)return e.source;let r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},n=r.i?e.source.toLowerCase():e.source,s="",u=!1,h=!1,b=!1;for(let P=0;P<n.length;P++){if(u){s+=n[P],u=!1;continue}if(r.i){if(h){if(n[P].match(/[a-z]/)){b?(s+=n[P],s+=`${n[P-2]}-${n[P]}`.toUpperCase(),b=!1):n[P+1]==="-"&&((N=n[P+2])!=null&&N.match(/[a-z]/))?(s+=n[P],b=!0):s+=`${n[P]}${n[P].toUpperCase()}`;continue}}else if(n[P].match(/[a-z]/)){s+=`[${n[P]}${n[P].toUpperCase()}]`;continue}}if(r.m){if(n[P]==="^"){s+=`(^|(?<=[\r
]))`;continue}else if(n[P]==="$"){s+=`($|(?=[\r
]))`;continue}}if(r.s&&n[P]==="."){s+=h?`${n[P]}\r
`:`[${n[P]}\r
]`;continue}s+=n[P],n[P]==="\\"?u=!0:h&&n[P]==="]"?h=!1:!h&&n[P]==="["&&(h=!0)}try{new RegExp(s)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return s}function ry(e,t){var n,s,u,h,b,N;if(t.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),t.target==="openApi3"&&((n=e.keyType)==null?void 0:n._def.typeName)===ze.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((P,j)=>({...P,[j]:dr(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",j]})??{}}),{}),additionalProperties:!1};let r={type:"object",additionalProperties:dr(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??{}};if(t.target==="openApi3")return r;if(((s=e.keyType)==null?void 0:s._def.typeName)===ze.ZodString&&((u=e.keyType._def.checks)!=null&&u.length)){let{type:P,...j}=ty(e.keyType._def,t);return{...r,propertyNames:j}}else{if(((h=e.keyType)==null?void 0:h._def.typeName)===ze.ZodEnum)return{...r,propertyNames:{enum:e.keyType._def.values}};if(((b=e.keyType)==null?void 0:b._def.typeName)===ze.ZodBranded&&e.keyType._def.type._def.typeName===ze.ZodString&&((N=e.keyType._def.type._def.checks)!=null&&N.length)){let{type:P,...j}=ey(e.keyType._def,t);return{...r,propertyNames:j}}}return r}function NE(e,t){if(t.mapStrategy==="record")return ry(e,t);let r=dr(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},n=dr(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}function DE(e){let t=e.values,n=Object.keys(e.values).filter(u=>typeof t[t[u]]!="number").map(u=>t[u]),s=Array.from(new Set(n.map(u=>typeof u)));return{type:s.length===1?s[0]==="string"?"string":"number":["string","number"],enum:n}}function CE(){return{not:{}}}function xE(e){return e.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}var H_={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function AE(e,t){if(t.target==="openApi3")return PE(e,t);let r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(n=>n._def.typeName in H_&&(!n._def.checks||!n._def.checks.length))){let n=r.reduce((s,u)=>{let h=H_[u._def.typeName];return h&&!s.includes(h)?[...s,h]:s},[]);return{type:n.length>1?n:n[0]}}else if(r.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){let n=r.reduce((s,u)=>{let h=typeof u._def.value;switch(h){case"string":case"number":case"boolean":return[...s,h];case"bigint":return[...s,"integer"];case"object":if(u._def.value===null)return[...s,"null"];case"symbol":case"undefined":case"function":default:return s}},[]);if(n.length===r.length){let s=n.filter((u,h,b)=>b.indexOf(u)===h);return{type:s.length>1?s:s[0],enum:r.reduce((u,h)=>u.includes(h._def.value)?u:[...u,h._def.value],[])}}}else if(r.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((n,s)=>[...n,...s._def.values.filter(u=>!n.includes(u))],[])};return PE(e,t)}var PE=(e,t)=>{let r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((n,s)=>dr(n._def,{...t,currentPath:[...t.currentPath,"anyOf",`${s}`]})).filter(n=>!!n&&(!t.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return r.length?{anyOf:r}:void 0};function RE(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return t.target==="openApi3"?{type:H_[e.innerType._def.typeName],nullable:!0}:{type:[H_[e.innerType._def.typeName],"null"]};if(t.target==="openApi3"){let n=dr(e.innerType._def,{...t,currentPath:[...t.currentPath]});return n&&"$ref"in n?{allOf:[n],nullable:!0}:n&&{...n,nullable:!0}}let r=dr(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}function kE(e,t){let r={type:"number"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"int":r.type="integer",d0(r,"type",n.message,t);break;case"min":t.target==="jsonSchema7"?n.inclusive?an(r,"minimum",n.value,n.message,t):an(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),an(r,"minimum",n.value,n.message,t));break;case"max":t.target==="jsonSchema7"?n.inclusive?an(r,"maximum",n.value,n.message,t):an(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),an(r,"maximum",n.value,n.message,t));break;case"multipleOf":an(r,"multipleOf",n.value,n.message,t);break}return r}function ux(e,t){return t.removeAdditionalStrategy==="strict"?e.catchall._def.typeName==="ZodNever"?e.unknownKeys!=="strict":dr(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0:e.catchall._def.typeName==="ZodNever"?e.unknownKeys==="passthrough":dr(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0}function OE(e,t){let r=t.target==="openAi",n={type:"object",...Object.entries(e.shape()).reduce((s,[u,h])=>{if(h===void 0||h._def===void 0)return s;let b=h.isOptional();b&&r&&(h instanceof _l&&(h=h._def.innerType),h.isNullable()||(h=h.nullable()),b=!1);let N=dr(h._def,{...t,currentPath:[...t.currentPath,"properties",u],propertyPath:[...t.currentPath,"properties",u]});return N===void 0?s:{properties:{...s.properties,[u]:N},required:b?s.required:[...s.required,u]}},{properties:{},required:[]}),additionalProperties:ux(e,t)};return n.required.length||delete n.required,n}var ME=(e,t)=>{var n;if(t.currentPath.toString()===((n=t.propertyPath)==null?void 0:n.toString()))return dr(e.innerType._def,t);let r=dr(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:{}},r]}:{}};var LE=(e,t)=>{if(t.pipeStrategy==="input")return dr(e.in._def,t);if(t.pipeStrategy==="output")return dr(e.out._def,t);let r=dr(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=dr(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(s=>s!==void 0)}};function FE(e,t){return dr(e.type._def,t)}function UE(e,t){let n={type:"array",uniqueItems:!0,items:dr(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&an(n,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&an(n,"maxItems",e.maxSize.value,e.maxSize.message,t),n}function jE(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((r,n)=>dr(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[]),additionalItems:dr(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((r,n)=>dr(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[])}}function YE(){return{not:{}}}function $E(){return{}}var qE=(e,t)=>dr(e.innerType._def,t);function dr(e,t,r=!1){var h;let n=t.seen.get(e);if(t.override){let b=(h=t.override)==null?void 0:h.call(t,e,t,n,r);if(b!==dE)return b}if(n&&!r){let b=cx(n,t);if(b!==void 0)return b}let s={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,s);let u=fx(e,e.typeName,t);return u&&dx(e,t,u),s.jsonSchema=u,u}var cx=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:lx(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((r,n)=>t.currentPath[n]===r)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{}):t.$refStrategy==="seen"?{}:void 0}},lx=(e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")},fx=(e,t,r)=>{switch(t){case ze.ZodString:return ty(e,r);case ze.ZodNumber:return kE(e,r);case ze.ZodObject:return OE(e,r);case ze.ZodBigInt:return _E(e,r);case ze.ZodBoolean:return gE();case ze.ZodDate:return p0(e,r);case ze.ZodUndefined:return YE();case ze.ZodNull:return xE(r);case ze.ZodArray:return hE(e,r);case ze.ZodUnion:case ze.ZodDiscriminatedUnion:return AE(e,r);case ze.ZodIntersection:return TE(e,r);case ze.ZodTuple:return jE(e,r);case ze.ZodRecord:return ry(e,r);case ze.ZodLiteral:return wE(e,r);case ze.ZodEnum:return EE(e);case ze.ZodNativeEnum:return DE(e);case ze.ZodNullable:return RE(e,r);case ze.ZodOptional:return ME(e,r);case ze.ZodMap:return NE(e,r);case ze.ZodSet:return UE(e,r);case ze.ZodLazy:return dr(e.getter()._def,r);case ze.ZodPromise:return FE(e,r);case ze.ZodNaN:case ze.ZodNever:return CE();case ze.ZodEffects:return bE(e,r);case ze.ZodAny:return mE();case ze.ZodUnknown:return $E();case ze.ZodDefault:return SE(e,r);case ze.ZodBranded:return ey(e,r);case ze.ZodReadonly:return qE(e,r);case ze.ZodCatch:return yE(e,r);case ze.ZodPipeline:return LE(e,r);case ze.ZodFunction:case ze.ZodVoid:case ze.ZodSymbol:return;default:return(n=>{})(t)}},dx=(e,t,r)=>(e.description&&(r.description=e.description,t.markdownDescription&&(r.markdownDescription=e.description)),r);var BE=(e,t)=>{let r=vE(t),n=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((N,[P,j])=>({...N,[P]:dr(j._def,{...r,currentPath:[...r.basePath,r.definitionPath,P]},!0)??{}}),{}):void 0,s=typeof t=="string"?t:(t==null?void 0:t.nameStrategy)==="title"||t==null?void 0:t.name,u=dr(e._def,s===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,s]},!1)??{},h=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;h!==void 0&&(u.title=h);let b=s===void 0?n?{...u,[r.definitionPath]:n}:u:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,s].join("/"),[r.definitionPath]:{...n,[s]:u}};return r.target==="jsonSchema7"?b.$schema="http://json-schema.org/draft-07/schema#":(r.target==="jsonSchema2019-09"||r.target==="openAi")&&(b.$schema="https://json-schema.org/draft/2019-09/schema#"),r.target==="openAi"&&("anyOf"in b||"oneOf"in b||"allOf"in b||"type"in b&&Array.isArray(b.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),b};var zE=BE;var K_={code:"0",name:"text",parse:e=>{if(typeof e!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},W_={code:"3",name:"error",parse:e=>{if(typeof e!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},J_={code:"4",name:"assistant_message",parse:e=>{if(e==null||typeof e!="object"||!("id"in e)||!("role"in e)||!("content"in e)||typeof e.id!="string"||typeof e.role!="string"||e.role!=="assistant"||!Array.isArray(e.content)||!e.content.every(t=>t!=null&&typeof t=="object"&&"type"in t&&t.type==="text"&&"text"in t&&t.text!=null&&typeof t.text=="object"&&"value"in t.text&&typeof t.text.value=="string"))throw new Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},Z_={code:"5",name:"assistant_control_data",parse:e=>{if(e==null||typeof e!="object"||!("threadId"in e)||!("messageId"in e)||typeof e.threadId!="string"||typeof e.messageId!="string")throw new Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}},X_={code:"6",name:"data_message",parse:e=>{if(e==null||typeof e!="object"||!("role"in e)||!("data"in e)||typeof e.role!="string"||e.role!=="data")throw new Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}}},px=[K_,W_,J_,Z_,X_],pF={[K_.code]:K_,[W_.code]:W_,[J_.code]:J_,[Z_.code]:Z_,[X_.code]:X_},vF={[K_.name]:K_.code,[W_.name]:W_.code,[J_.name]:J_.code,[Z_.name]:Z_.code,[X_.name]:X_.code},mF=px.map(e=>e.code);function vx(e){let t=["ROOT"],r=-1,n=null;function s(N,P,j){switch(N){case'"':{r=P,t.pop(),t.push(j),t.push("INSIDE_STRING");break}case"f":case"t":case"n":{r=P,n=P,t.pop(),t.push(j),t.push("INSIDE_LITERAL");break}case"-":{t.pop(),t.push(j),t.push("INSIDE_NUMBER");break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{r=P,t.pop(),t.push(j),t.push("INSIDE_NUMBER");break}case"{":{r=P,t.pop(),t.push(j),t.push("INSIDE_OBJECT_START");break}case"[":{r=P,t.pop(),t.push(j),t.push("INSIDE_ARRAY_START");break}}}function u(N,P){switch(N){case",":{t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{r=P,t.pop();break}}}function h(N,P){switch(N){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{r=P,t.pop();break}}}for(let N=0;N<e.length;N++){let P=e[N];switch(t[t.length-1]){case"ROOT":s(P,N,"FINISH");break;case"INSIDE_OBJECT_START":{switch(P){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}case"}":{r=N,t.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch(P){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}}break}case"INSIDE_OBJECT_KEY":{switch(P){case'"':{t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch(P){case":":{t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{s(P,N,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{u(P,N);break}case"INSIDE_STRING":{switch(P){case'"':{t.pop(),r=N;break}case"\\":{t.push("INSIDE_STRING_ESCAPE");break}default:r=N}break}case"INSIDE_ARRAY_START":{switch(P){case"]":{r=N,t.pop();break}default:{r=N,s(P,N,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(P){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{r=N,t.pop();break}default:{r=N;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{s(P,N,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{t.pop(),r=N;break}case"INSIDE_NUMBER":{switch(P){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{r=N;break}case"e":case"E":case"-":case".":break;case",":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&h(P,N),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&u(P,N);break}case"}":{t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&u(P,N);break}case"]":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&h(P,N);break}default:{t.pop();break}}break}case"INSIDE_LITERAL":{let H=e.substring(n,N+1);!"false".startsWith(H)&&!"true".startsWith(H)&&!"null".startsWith(H)?(t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?u(P,N):t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&h(P,N)):r=N;break}}}let b=e.slice(0,r+1);for(let N=t.length-1;N>=0;N--)switch(t[N]){case"INSIDE_STRING":{b+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{b+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{b+="]";break}case"INSIDE_LITERAL":{let j=e.substring(n,e.length);"true".startsWith(j)?b+="true".slice(j.length):"false".startsWith(j)?b+="false".slice(j.length):"null".startsWith(j)&&(b+="null".slice(j.length))}}return b}function GE(e){if(e===void 0)return{value:void 0,state:"undefined-input"};let t=Dv({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=Dv({text:vx(e)}),t.success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}var Q_={code:"0",name:"text",parse:e=>{if(typeof e!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},eg={code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw new Error('"data" parts expect an array value.');return{type:"data",value:e}}},tg={code:"3",name:"error",parse:e=>{if(typeof e!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},rg={code:"8",name:"message_annotations",parse:e=>{if(!Array.isArray(e))throw new Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}}},ng={code:"9",name:"tool_call",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string"||!("args"in e)||typeof e.args!="object")throw new Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:e}}},ag={code:"a",name:"tool_result",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("result"in e))throw new Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:e}}},ig={code:"b",name:"tool_call_streaming_start",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string")throw new Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:e}}},og={code:"c",name:"tool_call_delta",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("argsTextDelta"in e)||typeof e.argsTextDelta!="string")throw new Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:e}}},sg={code:"d",name:"finish_message",parse:e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_message" parts expect an object with a "finishReason" property.');let t={finishReason:e.finishReason};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),{type:"finish_message",value:t}}},ug={code:"e",name:"finish_step",parse:e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_step" parts expect an object with a "finishReason" property.');let t={finishReason:e.finishReason,isContinued:!1};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),"isContinued"in e&&typeof e.isContinued=="boolean"&&(t.isContinued=e.isContinued),{type:"finish_step",value:t}}},cg={code:"f",name:"start_step",parse:e=>{if(e==null||typeof e!="object"||!("messageId"in e)||typeof e.messageId!="string")throw new Error('"start_step" parts expect an object with an "id" property.');return{type:"start_step",value:{messageId:e.messageId}}}},VE=[Q_,eg,tg,rg,ng,ag,ig,og,sg,ug,cg],_F={[Q_.code]:Q_,[eg.code]:eg,[tg.code]:tg,[rg.code]:rg,[ng.code]:ng,[ag.code]:ag,[ig.code]:ig,[og.code]:og,[sg.code]:sg,[ug.code]:ug,[cg.code]:cg},gF={[Q_.name]:Q_.code,[eg.name]:eg.code,[tg.name]:tg.code,[rg.name]:rg.code,[ng.name]:ng.code,[ag.name]:ag.code,[ig.name]:ig.code,[og.name]:og.code,[sg.name]:sg.code,[ug.name]:ug.code,[cg.name]:cg.code},yF=VE.map(e=>e.code);function yl(e,t){let r=VE.find(n=>n.name===e);if(!r)throw new Error(`Invalid stream part type: ${e}`);return`${r.code}:${JSON.stringify(t)}
`}function mx(e){return hx(zE(e,{$refStrategy:"none",target:"jsonSchema7"}),{validate:t=>{let r=e.safeParse(t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}}})}var h0=Symbol.for("vercel.ai.schema");function hx(e,{validate:t}={}){return{[h0]:!0,_type:void 0,[$_]:!0,jsonSchema:e,validate:t}}function _x(e){return typeof e=="object"&&e!==null&&h0 in e&&e[h0]===!0&&"jsonSchema"in e&&"validate"in e}function Yh(e){return _x(e)?e:mx(e)}var HE=typeof globalThis=="object"?globalThis:global;var Sm="1.9.0";var KE=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function gx(e){var t=new Set([e]),r=new Set,n=e.match(KE);if(!n)return function(){return!1};var s={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(s.prerelease!=null)return function(N){return N===e};function u(b){return r.add(b),!1}function h(b){return t.add(b),!0}return function(N){if(t.has(N))return!0;if(r.has(N))return!1;var P=N.match(KE);if(!P)return u(N);var j={major:+P[1],minor:+P[2],patch:+P[3],prerelease:P[4]};return j.prerelease!=null||s.major!==j.major?u(N):s.major===0?s.minor===j.minor&&s.patch<=j.patch?h(N):u(N):s.minor<=j.minor?h(N):u(N)}}var WE=gx(Sm);var yx=Sm.split(".")[0],lg=Symbol.for("opentelemetry.js.api."+yx),fg=HE;function b_(e,t,r,n){var s;n===void 0&&(n=!1);var u=fg[lg]=(s=fg[lg])!==null&&s!==void 0?s:{version:Sm};if(!n&&u[e]){var h=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(h.stack||h.message),!1}if(u.version!==Sm){var h=new Error("@opentelemetry/api: Registration of version v"+u.version+" for "+e+" does not match previously registered API v"+Sm);return r.error(h.stack||h.message),!1}return u[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+Sm+"."),!0}function bm(e){var t,r,n=(t=fg[lg])===null||t===void 0?void 0:t.version;if(!(!n||!WE(n)))return(r=fg[lg])===null||r===void 0?void 0:r[e]}function E_(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+Sm+".");var r=fg[lg];r&&delete r[e]}var Sx=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,u=[],h;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)u.push(s.value)}catch(b){h={error:b}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(h)throw h.error}}return u},bx=function(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,u;n<s;n++)(u||!(n in t))&&(u||(u=Array.prototype.slice.call(t,0,n)),u[n]=t[n]);return e.concat(u||Array.prototype.slice.call(t))},JE=function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return dg("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return dg("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return dg("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return dg("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return dg("verbose",this._namespace,t)},e}();function dg(e,t,r){var n=bm("diag");if(n)return r.unshift(t),n[e].apply(n,bx([],Sx(r),!1))}var Ic;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(Ic||(Ic={}));function ZE(e,t){e<Ic.NONE?e=Ic.NONE:e>Ic.ALL&&(e=Ic.ALL),t=t||{};function r(n,s){var u=t[n];return typeof u=="function"&&e>=s?u.bind(t):function(){}}return{error:r("error",Ic.ERROR),warn:r("warn",Ic.WARN),info:r("info",Ic.INFO),debug:r("debug",Ic.DEBUG),verbose:r("verbose",Ic.VERBOSE)}}var Ex=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,u=[],h;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)u.push(s.value)}catch(b){h={error:b}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(h)throw h.error}}return u},Tx=function(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,u;n<s;n++)(u||!(n in t))&&(u||(u=Array.prototype.slice.call(t,0,n)),u[n]=t[n]);return e.concat(u||Array.prototype.slice.call(t))},wx="diag",T_=function(){function e(){function t(s){return function(){for(var u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];var b=bm("diag");if(b)return b[s].apply(b,Tx([],Ex(u),!1))}}var r=this,n=function(s,u){var h,b,N;if(u===void 0&&(u={logLevel:Ic.INFO}),s===r){var P=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error((h=P.stack)!==null&&h!==void 0?h:P.message),!1}typeof u=="number"&&(u={logLevel:u});var j=bm("diag"),H=ZE((b=u.logLevel)!==null&&b!==void 0?b:Ic.INFO,s);if(j&&!u.suppressOverrideMessage){var Q=(N=new Error().stack)!==null&&N!==void 0?N:"<failed to generate stacktrace>";j.warn("Current logger will be overwritten from "+Q),H.warn("Current logger will overwrite one already registered from "+Q)}return b_("diag",H,r,!0)};r.setLogger=n,r.disable=function(){E_(wx,r)},r.createComponentLogger=function(s){return new JE(s)},r.verbose=t("verbose"),r.debug=t("debug"),r.info=t("info"),r.warn=t("warn"),r.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}();function XE(e){return Symbol.for(e)}var Ix=function(){function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(n){return r._currentContext.get(n)},r.setValue=function(n,s){var u=new e(r._currentContext);return u._currentContext.set(n,s),u},r.deleteValue=function(n){var s=new e(r._currentContext);return s._currentContext.delete(n),s}}return e}(),QE=new Ix;var Nx=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,u=[],h;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)u.push(s.value)}catch(b){h={error:b}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(h)throw h.error}}return u},Dx=function(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,u;n<s;n++)(u||!(n in t))&&(u||(u=Array.prototype.slice.call(t,0,n)),u[n]=t[n]);return e.concat(u||Array.prototype.slice.call(t))},eT=function(){function e(){}return e.prototype.active=function(){return QE},e.prototype.with=function(t,r,n){for(var s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];return r.call.apply(r,Dx([n],Nx(s),!1))},e.prototype.bind=function(t,r){return r},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}();var Cx=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,u=[],h;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)u.push(s.value)}catch(b){h={error:b}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(h)throw h.error}}return u},xx=function(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,u;n<s;n++)(u||!(n in t))&&(u||(u=Array.prototype.slice.call(t,0,n)),u[n]=t[n]);return e.concat(u||Array.prototype.slice.call(t))},_0="context",Px=new eT,ny=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return b_(_0,t,T_.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,r,n){for(var s,u=[],h=3;h<arguments.length;h++)u[h-3]=arguments[h];return(s=this._getContextManager()).with.apply(s,xx([t,r,n],Cx(u),!1))},e.prototype.bind=function(t,r){return this._getContextManager().bind(t,r)},e.prototype._getContextManager=function(){return bm(_0)||Px},e.prototype.disable=function(){this._getContextManager().disable(),E_(_0,T_.instance())},e}();var ay;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(ay||(ay={}));var g0="0000000000000000",y0="00000000000000000000000000000000",tT={traceId:y0,spanId:g0,traceFlags:ay.NONE};var ih=function(){function e(t){t===void 0&&(t=tT),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,r){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,r){return this},e.prototype.addLink=function(t){return this},e.prototype.addLinks=function(t){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,r){},e}();var S0=XE("OpenTelemetry Context Key SPAN");function iy(e){return e.getValue(S0)||void 0}function rT(){return iy(ny.getInstance().active())}function pg(e,t){return e.setValue(S0,t)}function nT(e){return e.deleteValue(S0)}function aT(e,t){return pg(e,new ih(t))}function oy(e){var t;return(t=iy(e))===null||t===void 0?void 0:t.spanContext()}var Ax=/^([0-9a-f]{32})$/i,Rx=/^[0-9a-f]{16}$/i;function kx(e){return Ax.test(e)&&e!==y0}function Ox(e){return Rx.test(e)&&e!==g0}function sy(e){return kx(e.traceId)&&Ox(e.spanId)}function iT(e){return new ih(e)}var b0=ny.getInstance(),uy=function(){function e(){}return e.prototype.startSpan=function(t,r,n){n===void 0&&(n=b0.active());var s=!!(r!=null&&r.root);if(s)return new ih;var u=n&&oy(n);return Mx(u)&&sy(u)?new ih(u):new ih},e.prototype.startActiveSpan=function(t,r,n,s){var u,h,b;if(!(arguments.length<2)){arguments.length===2?b=r:arguments.length===3?(u=r,b=n):(u=r,h=n,b=s);var N=h??b0.active(),P=this.startSpan(t,u,N),j=pg(N,P);return b0.with(j,b,void 0,P)}},e}();function Mx(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}var Lx=new uy,oT=function(){function e(t,r,n,s){this._provider=t,this.name=r,this.version=n,this.options=s}return e.prototype.startSpan=function(t,r,n){return this._getTracer().startSpan(t,r,n)},e.prototype.startActiveSpan=function(t,r,n,s){var u=this._getTracer();return Reflect.apply(u.startActiveSpan,u,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):Lx},e}();var sT=function(){function e(){}return e.prototype.getTracer=function(t,r,n){return new uy},e}();var Fx=new sT,E0=function(){function e(){}return e.prototype.getTracer=function(t,r,n){var s;return(s=this.getDelegateTracer(t,r,n))!==null&&s!==void 0?s:new oT(this,t,r,n)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:Fx},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,r,n){var s;return(s=this._delegate)===null||s===void 0?void 0:s.getTracer(t,r,n)},e}();var w_;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(w_||(w_={}));var T0="trace",uT=function(){function e(){this._proxyTracerProvider=new E0,this.wrapSpanContext=iT,this.isSpanContextValid=sy,this.deleteSpan=nT,this.getSpan=iy,this.getActiveSpan=rT,this.getSpanContext=oy,this.setSpan=pg,this.setSpanContext=aT}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var r=b_(T0,this._proxyTracerProvider,T_.instance());return r&&this._proxyTracerProvider.setDelegate(t),r},e.prototype.getTracerProvider=function(){return bm(T0)||this._proxyTracerProvider},e.prototype.getTracer=function(t,r){return this.getTracerProvider().getTracer(t,r)},e.prototype.disable=function(){E_(T0,T_.instance()),this._proxyTracerProvider=new E0},e}();var w0=uT.getInstance();var Ux=Object.defineProperty,P0=(e,t)=>{for(var r in t)Ux(e,r,{get:t[r],enumerable:!0})};function ly(e,{contentType:t,dataStreamVersion:r}){let n=new Headers(e??{});return n.has("Content-Type")||n.set("Content-Type",t),r!==void 0&&n.set("X-Vercel-AI-Data-Stream",r),n}function cT(e,{contentType:t,dataStreamVersion:r}){let n={};if(e!=null)for(let[s,u]of Object.entries(e))n[s]=u;return n["Content-Type"]==null&&(n["Content-Type"]=t),r!==void 0&&(n["X-Vercel-AI-Data-Stream"]=r),n}function lT({response:e,status:t,statusText:r,headers:n,stream:s}){e.writeHead(t??200,r,n);let u=s.getReader();(async()=>{try{for(;;){let{done:b,value:N}=await u.read();if(b)break;e.write(N)}}catch(b){throw b}finally{e.end()}})()}var yT="AI_InvalidArgumentError",ST=`vercel.ai.error.${yT}`,jx=Symbol.for(ST),bT,Op=class extends Mt{constructor({parameter:e,value:t,message:r}){super({name:yT,message:`Invalid argument for parameter ${e}: ${r}`}),this[bT]=!0,this.parameter=e,this.value=t}static isInstance(e){return Mt.hasMarker(e,ST)}};bT=jx;async function Yx(e){return e==null?Promise.resolve():new Promise(t=>setTimeout(t,e))}var ET="AI_RetryError",TT=`vercel.ai.error.${ET}`,$x=Symbol.for(TT),wT,fT=class extends Mt{constructor({message:e,reason:t,errors:r}){super({name:ET,message:e}),this[wT]=!0,this.reason=t,this.errors=r,this.lastError=r[r.length-1]}static isInstance(e){return Mt.hasMarker(e,TT)}};wT=$x;var qx=({maxRetries:e=2,initialDelayInMs:t=2e3,backoffFactor:r=2}={})=>async n=>IT(n,{maxRetries:e,delayInMs:t,backoffFactor:r});async function IT(e,{maxRetries:t,delayInMs:r,backoffFactor:n},s=[]){try{return await e()}catch(u){if(Y_(u)||t===0)throw u;let h=Lb(u),b=[...s,u],N=b.length;if(N>t)throw new fT({message:`Failed after ${N} attempts. Last error: ${h}`,reason:"maxRetriesExceeded",errors:b});if(u instanceof Error&&hl.isInstance(u)&&u.isRetryable===!0&&N<=t)return await Yx(r),IT(e,{maxRetries:t,delayInMs:n*r,backoffFactor:n},b);throw N===1?u:new fT({message:`Failed after ${N} attempts with non-retryable error: '${h}'`,reason:"errorNotRetryable",errors:b})}}function Bx({maxRetries:e}){if(e!=null){if(!Number.isInteger(e))throw new Op({parameter:"maxRetries",value:e,message:"maxRetries must be an integer"});if(e<0)throw new Op({parameter:"maxRetries",value:e,message:"maxRetries must be >= 0"})}let t=e??2;return{maxRetries:t,retry:qx({maxRetries:t})}}function D0({operationId:e,telemetry:t}){return{"operation.name":`${e}${(t==null?void 0:t.functionId)!=null?` ${t.functionId}`:""}`,"resource.name":t==null?void 0:t.functionId,"ai.operationId":e,"ai.telemetry.functionId":t==null?void 0:t.functionId}}function zx({model:e,settings:t,telemetry:r,headers:n}){var s;return{"ai.model.provider":e.provider,"ai.model.id":e.modelId,...Object.entries(t).reduce((u,[h,b])=>(u[`ai.settings.${h}`]=b,u),{}),...Object.entries((s=r==null?void 0:r.metadata)!=null?s:{}).reduce((u,[h,b])=>(u[`ai.telemetry.metadata.${h}`]=b,u),{}),...Object.entries(n??{}).reduce((u,[h,b])=>(b!==void 0&&(u[`ai.request.headers.${h}`]=b),u),{})}}var Gx={startSpan(){return cy},startActiveSpan(e,t,r,n){if(typeof t=="function")return t(cy);if(typeof r=="function")return r(cy);if(typeof n=="function")return n(cy)}},cy={spanContext(){return Vx},setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording(){return!1},recordException(){return this}},Vx={traceId:"",spanId:"",traceFlags:0};function Hx({isEnabled:e=!1,tracer:t}={}){return e?t||w0.getTracer("ai"):Gx}function C0({name:e,tracer:t,attributes:r,fn:n,endWhenDone:s=!0}){return t.startActiveSpan(e,{attributes:r},async u=>{try{let h=await n(u);return s&&u.end(),h}catch(h){try{h instanceof Error?(u.recordException({name:h.name,message:h.message,stack:h.stack}),u.setStatus({code:w_.ERROR,message:h.message})):u.setStatus({code:w_.ERROR})}finally{u.end()}throw h}})}function I_({telemetry:e,attributes:t}){return(e==null?void 0:e.isEnabled)!==!0?{}:Object.entries(t).reduce((r,[n,s])=>{if(s===void 0)return r;if(typeof s=="object"&&"input"in s&&typeof s.input=="function"){if((e==null?void 0:e.recordInputs)===!1)return r;let u=s.input();return u===void 0?r:{...r,[n]:u}}if(typeof s=="object"&&"output"in s&&typeof s.output=="function"){if((e==null?void 0:e.recordOutputs)===!1)return r;let u=s.output();return u===void 0?r:{...r,[n]:u}}return{...r,[n]:s}},{})}var NT="AI_NoObjectGeneratedError",DT=`vercel.ai.error.${NT}`,Kx=Symbol.for(DT),CT,dT=class extends Mt{constructor({message:e="No object generated.",cause:t,text:r,response:n,usage:s}){super({name:NT,message:e,cause:t}),this[CT]=!0,this.text=r,this.response=n,this.usage=s}static isInstance(e){return Mt.hasMarker(e,DT)}};CT=Kx;var xT="AI_DownloadError",PT=`vercel.ai.error.${xT}`,Wx=Symbol.for(PT),AT,I0=class extends Mt{constructor({url:e,statusCode:t,statusText:r,cause:n,message:s=n==null?`Failed to download ${e}: ${t} ${r}`:`Failed to download ${e}: ${n}`}){super({name:xT,message:s,cause:n}),this[AT]=!0,this.url=e,this.statusCode=t,this.statusText=r}static isInstance(e){return Mt.hasMarker(e,PT)}};AT=Wx;async function Jx({url:e,fetchImplementation:t=fetch}){var r;let n=e.toString();try{let s=await t(n);if(!s.ok)throw new I0({url:n,statusCode:s.status,statusText:s.statusText});return{data:new Uint8Array(await s.arrayBuffer()),mimeType:(r=s.headers.get("content-type"))!=null?r:void 0}}catch(s){throw I0.isInstance(s)?s:new I0({url:n,cause:s})}}var Zx=[{mimeType:"image/gif",bytes:[71,73,70]},{mimeType:"image/png",bytes:[137,80,78,71]},{mimeType:"image/jpeg",bytes:[255,216]},{mimeType:"image/webp",bytes:[82,73,70,70]}];function Xx(e){for(let{bytes:t,mimeType:r}of Zx)if(e.length>=t.length&&t.every((n,s)=>e[s]===n))return r}var RT="AI_InvalidDataContentError",kT=`vercel.ai.error.${RT}`,Qx=Symbol.for(kT),OT,pT=class extends Mt{constructor({content:e,cause:t,message:r=`Invalid data content. Expected a base64 string, Uint8Array, ArrayBuffer, or Buffer, but got ${typeof e}.`}){super({name:RT,message:r,cause:t}),this[OT]=!0,this.content=e}static isInstance(e){return Mt.hasMarker(e,kT)}};OT=Qx;var MT=O.union([O.string(),O.instanceof(Uint8Array),O.instanceof(ArrayBuffer),O.custom(e=>{var t,r;return(r=(t=globalThis.Buffer)==null?void 0:t.isBuffer(e))!=null?r:!1},{message:"Must be a Buffer"})]);function eP(e){return typeof e=="string"?e:e instanceof ArrayBuffer?Th(new Uint8Array(e)):Th(e)}function fy(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")try{return Ub(e)}catch(t){throw new pT({message:"Invalid data content. Content string is not a base64-encoded media.",content:e,cause:t})}if(e instanceof ArrayBuffer)return new Uint8Array(e);throw new pT({content:e})}function tP(e){try{return new TextDecoder().decode(e)}catch{throw new Error("Error decoding Uint8Array to text")}}var LT="AI_InvalidMessageRoleError",FT=`vercel.ai.error.${LT}`,rP=Symbol.for(FT),UT,nP=class extends Mt{constructor({role:e,message:t=`Invalid message role: '${e}'. Must be one of: "system", "user", "assistant", "tool".`}){super({name:LT,message:t}),this[UT]=!0,this.role=e}static isInstance(e){return Mt.hasMarker(e,FT)}};UT=rP;function aP(e){try{let[t,r]=e.split(",");return{mimeType:t.split(";")[0].split(":")[1],base64Content:r}}catch{return{mimeType:void 0,base64Content:void 0}}}async function iP({prompt:e,modelSupportsImageUrls:t=!0,modelSupportsUrl:r=()=>!1,downloadImplementation:n=Jx}){let s=await sP(e.messages,n,t,r);return[...e.system!=null?[{role:"system",content:e.system}]:[],...e.messages.map(u=>oP(u,s))]}function oP(e,t){let r=e.role;switch(r){case"system":return{role:"system",content:e.content,providerMetadata:e.experimental_providerMetadata};case"user":return typeof e.content=="string"?{role:"user",content:[{type:"text",text:e.content}],providerMetadata:e.experimental_providerMetadata}:{role:"user",content:e.content.map(n=>uP(n,t)).filter(n=>n.type!=="text"||n.text!==""),providerMetadata:e.experimental_providerMetadata};case"assistant":return typeof e.content=="string"?{role:"assistant",content:[{type:"text",text:e.content}],providerMetadata:e.experimental_providerMetadata}:{role:"assistant",content:e.content.filter(n=>n.type!=="text"||n.text!=="").map(n=>{let{experimental_providerMetadata:s,...u}=n;return{...u,providerMetadata:s}}),providerMetadata:e.experimental_providerMetadata};case"tool":return{role:"tool",content:e.content.map(n=>({type:"tool-result",toolCallId:n.toolCallId,toolName:n.toolName,result:n.result,content:n.experimental_content,isError:n.isError,providerMetadata:n.experimental_providerMetadata})),providerMetadata:e.experimental_providerMetadata};default:{let n=r;throw new nP({role:n})}}}async function sP(e,t,r,n){let s=e.filter(h=>h.role==="user").map(h=>h.content).filter(h=>Array.isArray(h)).flat().filter(h=>h.type==="image"||h.type==="file").filter(h=>!(h.type==="image"&&r===!0)).map(h=>h.type==="image"?h.image:h.data).map(h=>typeof h=="string"&&(h.startsWith("http:")||h.startsWith("https:"))?new URL(h):h).filter(h=>h instanceof URL).filter(h=>!n(h)),u=await Promise.all(s.map(async h=>({url:h,data:await t({url:h})})));return Object.fromEntries(u.map(({url:h,data:b})=>[h.toString(),b]))}function uP(e,t){var r;if(e.type==="text")return{type:"text",text:e.text,providerMetadata:e.experimental_providerMetadata};let n=e.mimeType,s,u,h,b=e.type;switch(b){case"image":s=e.image;break;case"file":s=e.data;break;default:throw new Error(`Unsupported part type: ${b}`)}try{u=typeof s=="string"?new URL(s):s}catch{u=s}if(u instanceof URL)if(u.protocol==="data:"){let{mimeType:N,base64Content:P}=aP(u.toString());if(N==null||P==null)throw new Error(`Invalid data URL format in part ${b}`);n=N,h=fy(P)}else{let N=t[u.toString()];N?(h=N.data,n??(n=N.mimeType)):h=u}else h=fy(u);switch(b){case"image":return h instanceof Uint8Array&&(n=(r=Xx(h))!=null?r:n),{type:"image",image:h,mimeType:n,providerMetadata:e.experimental_providerMetadata};case"file":{if(n==null)throw new Error("Mime type is missing for file part");return{type:"file",data:h instanceof Uint8Array?eP(h):h,mimeType:n,providerMetadata:e.experimental_providerMetadata}}}}function cP({maxTokens:e,temperature:t,topP:r,topK:n,presencePenalty:s,frequencyPenalty:u,stopSequences:h,seed:b}){if(e!=null){if(!Number.isInteger(e))throw new Op({parameter:"maxTokens",value:e,message:"maxTokens must be an integer"});if(e<1)throw new Op({parameter:"maxTokens",value:e,message:"maxTokens must be >= 1"})}if(t!=null&&typeof t!="number")throw new Op({parameter:"temperature",value:t,message:"temperature must be a number"});if(r!=null&&typeof r!="number")throw new Op({parameter:"topP",value:r,message:"topP must be a number"});if(n!=null&&typeof n!="number")throw new Op({parameter:"topK",value:n,message:"topK must be a number"});if(s!=null&&typeof s!="number")throw new Op({parameter:"presencePenalty",value:s,message:"presencePenalty must be a number"});if(u!=null&&typeof u!="number")throw new Op({parameter:"frequencyPenalty",value:u,message:"frequencyPenalty must be a number"});if(b!=null&&!Number.isInteger(b))throw new Op({parameter:"seed",value:b,message:"seed must be an integer"});return{maxTokens:e,temperature:t??0,topP:r,topK:n,presencePenalty:s,frequencyPenalty:u,stopSequences:h!=null&&h.length>0?h:void 0,seed:b}}var x0=O.lazy(()=>O.union([O.null(),O.string(),O.number(),O.boolean(),O.record(O.string(),x0),O.array(x0)])),oh=O.record(O.string(),O.record(O.string(),x0)),lP=O.array(O.union([O.object({type:O.literal("text"),text:O.string()}),O.object({type:O.literal("image"),data:O.string(),mimeType:O.string().optional()})])),jT=O.object({type:O.literal("text"),text:O.string(),experimental_providerMetadata:oh.optional()}),fP=O.object({type:O.literal("image"),image:O.union([MT,O.instanceof(URL)]),mimeType:O.string().optional(),experimental_providerMetadata:oh.optional()}),dP=O.object({type:O.literal("file"),data:O.union([MT,O.instanceof(URL)]),mimeType:O.string(),experimental_providerMetadata:oh.optional()}),pP=O.object({type:O.literal("tool-call"),toolCallId:O.string(),toolName:O.string(),args:O.unknown()}),vP=O.object({type:O.literal("tool-result"),toolCallId:O.string(),toolName:O.string(),result:O.unknown(),content:lP.optional(),isError:O.boolean().optional(),experimental_providerMetadata:oh.optional()}),mP=O.object({role:O.literal("system"),content:O.string(),experimental_providerMetadata:oh.optional()}),hP=O.object({role:O.literal("user"),content:O.union([O.string(),O.array(O.union([jT,fP,dP]))]),experimental_providerMetadata:oh.optional()}),_P=O.object({role:O.literal("assistant"),content:O.union([O.string(),O.array(O.union([jT,pP]))]),experimental_providerMetadata:oh.optional()}),gP=O.object({role:O.literal("tool"),content:O.array(vP),experimental_providerMetadata:oh.optional()}),yP=O.union([mP,hP,_P,gP]);function SP(e){if(!Array.isArray(e))return"other";if(e.length===0)return"messages";let t=e.map(bP);return t.some(r=>r==="has-ui-specific-parts")?"ui-messages":t.every(r=>r==="has-core-specific-parts"||r==="message")?"messages":"other"}function bP(e){return typeof e=="object"&&e!==null&&(e.role==="function"||e.role==="data"||"toolInvocations"in e||"experimental_attachments"in e)?"has-ui-specific-parts":typeof e=="object"&&e!==null&&"content"in e&&(Array.isArray(e.content)||"experimental_providerMetadata"in e)?"has-core-specific-parts":typeof e=="object"&&e!==null&&"role"in e&&"content"in e&&typeof e.content=="string"&&["system","user","assistant","tool"].includes(e.role)?"message":"other"}function EP(e){var t,r,n;let s=[];for(let u of e){let h;try{h=new URL(u.url)}catch{throw new Error(`Invalid URL: ${u.url}`)}switch(h.protocol){case"http:":case"https:":{if((t=u.contentType)!=null&&t.startsWith("image/"))s.push({type:"image",image:h});else{if(!u.contentType)throw new Error("If the attachment is not an image, it must specify a content type");s.push({type:"file",data:h,mimeType:u.contentType})}break}case"data:":{let b,N,P;try{[b,N]=u.url.split(","),P=b.split(";")[0].split(":")[1]}catch{throw new Error(`Error processing data URL: ${u.url}`)}if(P==null||N==null)throw new Error(`Invalid data URL format: ${u.url}`);if((r=u.contentType)!=null&&r.startsWith("image/"))s.push({type:"image",image:fy(N)});else if((n=u.contentType)!=null&&n.startsWith("text/"))s.push({type:"text",text:tP(fy(N))});else{if(!u.contentType)throw new Error("If the attachment is not an image or text, it must specify a content type");s.push({type:"file",data:N,mimeType:u.contentType})}break}default:throw new Error(`Unsupported URL protocol: ${h.protocol}`)}}return s}var YT="AI_MessageConversionError",$T=`vercel.ai.error.${YT}`,TP=Symbol.for($T),qT,vT=class extends Mt{constructor({originalMessage:e,message:t}){super({name:YT,message:t}),this[qT]=!0,this.originalMessage=e}static isInstance(e){return Mt.hasMarker(e,$T)}};qT=TP;function wP(e,t){var r;let n=(r=t==null?void 0:t.tools)!=null?r:{},s=[];for(let u of e){let{role:h,content:b,toolInvocations:N,experimental_attachments:P}=u;switch(h){case"system":{s.push({role:"system",content:b});break}case"user":{s.push({role:"user",content:P?[{type:"text",text:b},...EP(P)]:b});break}case"assistant":{if(N==null||N.length===0){s.push({role:"assistant",content:b});break}s.push({role:"assistant",content:[{type:"text",text:b},...N.map(({toolCallId:j,toolName:H,args:Q})=>({type:"tool-call",toolCallId:j,toolName:H,args:Q}))]}),s.push({role:"tool",content:N.map(j=>{if(!("result"in j))throw new vT({originalMessage:u,message:"ToolInvocation must have a result: "+JSON.stringify(j)});let{toolCallId:H,toolName:Q,result:pe}=j,ce=n[Q];return(ce==null?void 0:ce.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:H,toolName:Q,result:ce.experimental_toToolResultContent(pe),experimental_content:ce.experimental_toToolResultContent(pe)}:{type:"tool-result",toolCallId:H,toolName:Q,result:pe}})});break}case"data":break;default:{let j=h;throw new vT({originalMessage:u,message:`Unsupported role: ${j}`})}}}return s}function IP({prompt:e,tools:t}){if(e.prompt==null&&e.messages==null)throw new Nv({prompt:e,message:"prompt or messages must be defined"});if(e.prompt!=null&&e.messages!=null)throw new Nv({prompt:e,message:"prompt and messages cannot be defined at the same time"});if(e.system!=null&&typeof e.system!="string")throw new Nv({prompt:e,message:"system must be a string"});if(e.prompt!=null){if(typeof e.prompt!="string")throw new Nv({prompt:e,message:"prompt must be a string"});return{type:"prompt",system:e.system,messages:[{role:"user",content:e.prompt}]}}if(e.messages!=null){let r=SP(e.messages);if(r==="other")throw new Nv({prompt:e,message:"messages must be an array of CoreMessage or UIMessage"});let n=r==="ui-messages"?wP(e.messages,{tools:t}):e.messages,s=eh({value:n,schema:O.array(yP)});if(!s.success)throw new Nv({prompt:e,message:"messages must be an array of CoreMessage or UIMessage",cause:s.error});return{type:"messages",messages:n,system:e.system}}throw new Error("unreachable")}function NP({promptTokens:e,completionTokens:t}){return{promptTokens:e,completionTokens:t,totalTokens:e+t}}function DP(e,t){return{promptTokens:e.promptTokens+t.promptTokens,completionTokens:e.completionTokens+t.completionTokens,totalTokens:e.totalTokens+t.totalTokens}}var CP="JSON schema:",xP="You MUST answer with a JSON object that matches the JSON schema above.",PP="You MUST answer with JSON.";function AP({prompt:e,schema:t,schemaPrefix:r=t!=null?CP:void 0,schemaSuffix:n=t!=null?xP:PP}){return[e!=null&&e.length>0?e:void 0,e!=null&&e.length>0?"":void 0,r,t!=null?JSON.stringify(t):void 0,n].filter(s=>s!=null).join(`
`)}function N0(e){let t=e.pipeThrough(new TransformStream);return t[Symbol.asyncIterator]=()=>{let r=t.getReader();return{async next(){let{done:n,value:s}=await r.read();return n?{done:!0,value:void 0}:{done:!1,value:s}}}},t}var Q2=Pp({prefix:"aiobj",size:24});var Av=class{constructor(){this.status={type:"pending"},this._resolve=void 0,this._reject=void 0}get value(){return this.promise?this.promise:(this.promise=new Promise((e,t)=>{this.status.type==="resolved"?e(this.status.value):this.status.type==="rejected"&&t(this.status.error),this._resolve=e,this._reject=t}),this.promise)}resolve(e){var t;this.status={type:"resolved",value:e},this.promise&&((t=this._resolve)==null||t.call(this,e))}reject(e){var t;this.status={type:"rejected",error:e},this.promise&&((t=this._reject)==null||t.call(this,e))}};function mT(){let e,t;return{promise:new Promise((n,s)=>{e=n,t=s}),resolve:e,reject:t}}function RP(){let e=[],t=null,r=!1,n=mT(),s=async()=>{if(r&&e.length===0){t==null||t.close();return}if(e.length===0)return n=mT(),await n.promise,s();try{let{value:u,done:h}=await e[0].read();h?(e.shift(),e.length>0?await s():r&&(t==null||t.close())):t==null||t.enqueue(u)}catch(u){t==null||t.error(u),e.shift(),r&&e.length===0&&(t==null||t.close())}};return{stream:new ReadableStream({start(u){t=u},pull:s,async cancel(){for(let u of e)await u.cancel();e=[],r=!0}}),addStream:u=>{if(r)throw new Error("Cannot add inner stream: outer stream is closed");e.push(u.getReader()),n.resolve()},close:()=>{r=!0,n.resolve(),e.length===0&&(t==null||t.close())},terminate:()=>{r=!0,n.resolve(),e.forEach(u=>u.cancel()),e=[],t==null||t.close()}}}function kP(){var e,t;return(t=(e=globalThis==null?void 0:globalThis.performance)==null?void 0:e.now())!=null?t:Date.now()}var tU=Pp({prefix:"aiobj",size:24});var BT="AI_NoOutputSpecifiedError",zT=`vercel.ai.error.${BT}`,OP=Symbol.for(zT),GT,MP=class extends Mt{constructor({message:e="No output specified."}={}){super({name:BT,message:e}),this[GT]=!0}static isInstance(e){return Mt.hasMarker(e,zT)}};GT=OP;var VT="AI_ToolExecutionError",HT=`vercel.ai.error.${VT}`,LP=Symbol.for(HT),KT,FP=class extends Mt{constructor({toolArgs:e,toolName:t,toolCallId:r,cause:n,message:s=`Error executing tool ${t}: ${Qm(n)}`}){super({name:VT,message:s,cause:n}),this[KT]=!0,this.toolArgs=e,this.toolName=t,this.toolCallId=r}static isInstance(e){return Mt.hasMarker(e,HT)}};KT=LP;function UP(e){return e!=null&&Object.keys(e).length>0}function jP({tools:e,toolChoice:t,activeTools:r}){return UP(e)?{tools:(r!=null?Object.entries(e).filter(([s])=>r.includes(s)):Object.entries(e)).map(([s,u])=>{let h=u.type;switch(h){case void 0:case"function":return{type:"function",name:s,description:u.description,parameters:Yh(u.parameters).jsonSchema};case"provider-defined":return{type:"provider-defined",name:s,id:u.id,args:u.args};default:{let b=h;throw new Error(`Unsupported tool type: ${b}`)}}}),toolChoice:t==null?{type:"auto"}:typeof t=="string"?{type:t}:{type:"tool",toolName:t.toolName}}:{tools:void 0,toolChoice:void 0}}var YP=/^([\s\S]*?)(\s+)(\S*)$/;function $P(e){let t=e.match(YP);return t?{prefix:t[1],whitespace:t[2],suffix:t[3]}:void 0}var WT="AI_InvalidToolArgumentsError",JT=`vercel.ai.error.${WT}`,qP=Symbol.for(JT),ZT,N_=class extends Mt{constructor({toolArgs:e,toolName:t,cause:r,message:n=`Invalid arguments for tool ${t}: ${Qm(r)}`}){super({name:WT,message:n,cause:r}),this[ZT]=!0,this.toolArgs=e,this.toolName=t}static isInstance(e){return Mt.hasMarker(e,JT)}};ZT=qP;var XT="AI_NoSuchToolError",QT=`vercel.ai.error.${XT}`,BP=Symbol.for(QT),ew,$h=class extends Mt{constructor({toolName:e,availableTools:t=void 0,message:r=`Model tried to call unavailable tool '${e}'. ${t===void 0?"No tools are available.":`Available tools: ${t.join(", ")}.`}`}){super({name:XT,message:r}),this[ew]=!0,this.toolName=e,this.availableTools=t}static isInstance(e){return Mt.hasMarker(e,QT)}};ew=BP;var tw="AI_ToolCallRepairError",rw=`vercel.ai.error.${tw}`,zP=Symbol.for(rw),nw,A0=class extends Mt{constructor({cause:e,originalError:t,message:r=`Error repairing tool call: ${Qm(e)}`}){super({name:tw,message:r,cause:e}),this[nw]=!0,this.originalError=t}static isInstance(e){return Mt.hasMarker(e,rw)}};nw=zP;async function GP({toolCall:e,tools:t,repairToolCall:r,system:n,messages:s}){if(t==null)throw new $h({toolName:e.toolName});try{return await hT({toolCall:e,tools:t})}catch(u){if(r==null||!($h.isInstance(u)||N_.isInstance(u)))throw u;let h=null;try{h=await r({toolCall:e,tools:t,parameterSchema:({toolName:b})=>Yh(t[b].parameters).jsonSchema,system:n,messages:s,error:u})}catch(b){throw new A0({cause:b,originalError:u})}if(h==null)throw u;return await hT({toolCall:h,tools:t})}}async function hT({toolCall:e,tools:t}){let r=e.toolName,n=t[r];if(n==null)throw new $h({toolName:e.toolName,availableTools:Object.keys(t)});let s=Yh(n.parameters),u=e.args.trim()===""?eh({value:{},schema:s}):Dv({text:e.args,schema:s});if(u.success===!1)throw new N_({toolName:r,toolArgs:e.args,cause:u.error});return{type:"tool-call",toolCallId:e.toolCallId,toolName:r,args:u.value}}function _T({text:e="",tools:t,toolCalls:r,toolResults:n,messageId:s,generateMessageId:u}){let h=[];return h.push({role:"assistant",content:[{type:"text",text:e},...r],id:s}),n.length>0&&h.push({role:"tool",id:u(),content:n.map(b=>{let N=t[b.toolName];return(N==null?void 0:N.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:b.toolCallId,toolName:b.toolName,result:N.experimental_toToolResultContent(b.result),experimental_content:N.experimental_toToolResultContent(b.result)}:{type:"tool-result",toolCallId:b.toolCallId,toolName:b.toolName,result:b.result}})}),h}var fU=Pp({prefix:"aitxt",size:24}),dU=Pp({prefix:"msg",size:24});var VP={};P0(VP,{object:()=>KP,text:()=>HP});var HP=()=>({type:"text",responseFormat:()=>({type:"text"}),injectIntoSystemPrompt({system:e}){return e},parsePartial({text:e}){return{partial:e}},parseOutput({text:e}){return e}}),KP=({schema:e})=>{let t=Yh(e);return{type:"object",responseFormat:({model:r})=>({type:"json",schema:r.supportsStructuredOutputs?t.jsonSchema:void 0}),injectIntoSystemPrompt({system:r,model:n}){return n.supportsStructuredOutputs?r:AP({prompt:r,schema:t.jsonSchema})},parsePartial({text:r}){let n=GE(r);switch(n.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:n.value};default:{let s=n.state;throw new Error(`Unsupported parse state: ${s}`)}}},parseOutput({text:r},n){let s=Dv({text:r});if(!s.success)throw new dT({message:"No object generated: could not parse the response.",cause:s.error,text:r,response:n.response,usage:n.usage});let u=eh({value:s.value,schema:t});if(!u.success)throw new dT({message:"No object generated: response did not match schema.",cause:u.error,text:r,response:n.response,usage:n.usage});return u.value}}};function WP(e){return e===void 0?[]:Array.isArray(e)?e:[e]}function R0(e,t){let r=e.getReader(),n=t.getReader(),s,u,h=!1,b=!1;async function N(j){try{s==null&&(s=r.read());let H=await s;s=void 0,H.done?j.close():j.enqueue(H.value)}catch(H){j.error(H)}}async function P(j){try{u==null&&(u=n.read());let H=await u;u=void 0,H.done?j.close():j.enqueue(H.value)}catch(H){j.error(H)}}return new ReadableStream({async pull(j){try{if(h){await P(j);return}if(b){await N(j);return}s==null&&(s=r.read()),u==null&&(u=n.read());let{result:H,reader:Q}=await Promise.race([s.then(pe=>({result:pe,reader:r})),u.then(pe=>({result:pe,reader:n}))]);H.done||j.enqueue(H.value),Q===r?(s=void 0,H.done&&(await P(j),h=!0)):(u=void 0,H.done&&(b=!0,await N(j)))}catch(H){j.error(H)}},cancel(){r.cancel(),n.cancel()}})}function JP({tools:e,generatorStream:t,toolCallStreaming:r,tracer:n,telemetry:s,system:u,messages:h,abortSignal:b,repairToolCall:N}){let P=null,j=new ReadableStream({start(Ne){P=Ne}}),H={},Q=new Set,pe=!1,ce;function se(){pe&&Q.size===0&&(ce!=null&&P.enqueue(ce),P.close())}let ue=new TransformStream({async transform(Ne,Ue){let rt=Ne.type;switch(rt){case"text-delta":case"response-metadata":case"error":{Ue.enqueue(Ne);break}case"tool-call-delta":{r&&(H[Ne.toolCallId]||(Ue.enqueue({type:"tool-call-streaming-start",toolCallId:Ne.toolCallId,toolName:Ne.toolName}),H[Ne.toolCallId]=!0),Ue.enqueue({type:"tool-call-delta",toolCallId:Ne.toolCallId,toolName:Ne.toolName,argsTextDelta:Ne.argsTextDelta}));break}case"tool-call":{try{let Re=await GP({toolCall:Ne,tools:e,repairToolCall:N,system:u,messages:h});Ue.enqueue(Re);let nt=e[Re.toolName];if(nt.execute!=null){let Xe=mm();Q.add(Xe),C0({name:"ai.toolCall",attributes:I_({telemetry:s,attributes:{...D0({operationId:"ai.toolCall",telemetry:s}),"ai.toolCall.name":Re.toolName,"ai.toolCall.id":Re.toolCallId,"ai.toolCall.args":{output:()=>JSON.stringify(Re.args)}}}),tracer:n,fn:async Ct=>nt.execute(Re.args,{toolCallId:Re.toolCallId,messages:h,abortSignal:b}).then(Pt=>{P.enqueue({...Re,type:"tool-result",result:Pt}),Q.delete(Xe),se();try{Ct.setAttributes(I_({telemetry:s,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(Pt)}}}))}catch{}},Pt=>{P.enqueue({type:"error",error:new FP({toolCallId:Re.toolCallId,toolName:Re.toolName,toolArgs:Re.args,cause:Pt})}),Q.delete(Xe),se()})})}}catch(Re){P.enqueue({type:"error",error:Re})}break}case"finish":{ce={type:"finish",finishReason:Ne.finishReason,logprobs:Ne.logprobs,usage:NP(Ne.usage),experimental_providerMetadata:Ne.providerMetadata};break}default:{let Re=rt;throw new Error(`Unhandled chunk type: ${Re}`)}}},flush(){pe=!0,se()}});return new ReadableStream({async start(Ne){return Promise.all([t.pipeThrough(ue).pipeTo(new WritableStream({write(Ue){Ne.enqueue(Ue)},close(){}})),j.pipeTo(new WritableStream({write(Ue){Ne.enqueue(Ue)},close(){Ne.close()}}))])}})}var ZP=Pp({prefix:"aitxt",size:24}),XP=Pp({prefix:"msg",size:24});function aw({model:e,tools:t,toolChoice:r,system:n,prompt:s,messages:u,maxRetries:h,abortSignal:b,headers:N,maxSteps:P=1,experimental_generateMessageId:j=XP,experimental_output:H,experimental_continueSteps:Q=!1,experimental_telemetry:pe,experimental_providerMetadata:ce,experimental_toolCallStreaming:se=!1,experimental_activeTools:ue,experimental_repairToolCall:Ne,experimental_transform:Ue,onChunk:rt,onFinish:Re,onStepFinish:nt,_internal:{now:Xe=kP,generateId:Ct=ZP,currentDate:Pt=()=>new Date}={},...pr}){return new eA({model:e,telemetry:pe,headers:N,settings:pr,maxRetries:h,abortSignal:b,system:n,prompt:s,messages:u,tools:t,toolChoice:r,toolCallStreaming:se,transforms:WP(Ue),activeTools:ue,repairToolCall:Ne,maxSteps:P,output:H,continueSteps:Q,providerMetadata:ce,onChunk:rt,onFinish:Re,onStepFinish:nt,now:Xe,currentDate:Pt,generateId:Ct,generateMessageId:j})}function QP(e){if(!e)return new TransformStream({transform(s,u){u.enqueue({part:s,partialOutput:void 0})}});let t="",r="",n="";return new TransformStream({transform(s,u){if(s.type!=="text-delta"){u.enqueue({part:s,partialOutput:void 0});return}t+=s.textDelta,r+=s.textDelta;let h=e.parsePartial({text:t});if(h!=null){let b=JSON.stringify(h.partial);b!==n&&(u.enqueue({part:{type:"text-delta",textDelta:r},partialOutput:h.partial}),n=b,r="")}},flush(s){r.length>0&&s.enqueue({part:{type:"text-delta",textDelta:r},partialOutput:void 0})}})}var eA=class{constructor({model:e,telemetry:t,headers:r,settings:n,maxRetries:s,abortSignal:u,system:h,prompt:b,messages:N,tools:P,toolChoice:j,toolCallStreaming:H,transforms:Q,activeTools:pe,repairToolCall:ce,maxSteps:se,output:ue,continueSteps:Ne,providerMetadata:Ue,onChunk:rt,onFinish:Re,onStepFinish:nt,now:Xe,currentDate:Ct,generateId:Pt,generateMessageId:pr}){this.warningsPromise=new Av,this.usagePromise=new Av,this.finishReasonPromise=new Av,this.providerMetadataPromise=new Av,this.textPromise=new Av,this.toolCallsPromise=new Av,this.toolResultsPromise=new Av,this.requestPromise=new Av,this.responsePromise=new Av,this.stepsPromise=new Av;var wr;if(se<1)throw new Op({parameter:"maxSteps",value:se,message:"maxSteps must be at least 1"});this.output=ue;let $r="",po="",ji="",Vr={id:Pt(),timestamp:Ct(),modelId:e.modelId,messages:[]},yn=[],tt=[],Es,Ve,Ir="initial",pn=[],Vt,Bt=new TransformStream({async transform(en,Yt){Yt.enqueue(en);let{part:it}=en;if((it.type==="text-delta"||it.type==="tool-call"||it.type==="tool-result"||it.type==="tool-call-streaming-start"||it.type==="tool-call-delta")&&await(rt==null?void 0:rt({chunk:it})),it.type==="text-delta"&&($r+=it.textDelta,po+=it.textDelta,ji+=it.textDelta),it.type==="tool-call"&&yn.push(it),it.type==="tool-result"&&tt.push(it),it.type==="step-finish"){let rr=_T({text:po,tools:P??{},toolCalls:yn,toolResults:tt,messageId:it.messageId,generateMessageId:pr}),ei=pn.length,bt="done";ei+1<se&&(Ne&&it.finishReason==="length"&&yn.length===0?bt="continue":yn.length>0&&tt.length===yn.length&&(bt="tool-result"));let qr={stepType:Ir,text:$r,toolCalls:yn,toolResults:tt,finishReason:it.finishReason,usage:it.usage,warnings:it.warnings,logprobs:it.logprobs,request:it.request,response:{...it.response,messages:[...Vr.messages,...rr]},experimental_providerMetadata:it.experimental_providerMetadata,isContinued:it.isContinued};await(nt==null?void 0:nt(qr)),pn.push(qr),yn=[],tt=[],$r="",bt!=="done"&&(Ir=bt),bt!=="continue"&&(Vr.messages.push(...rr),po="")}it.type==="finish"&&(Vr.id=it.response.id,Vr.timestamp=it.response.timestamp,Vr.modelId=it.response.modelId,Vr.headers=it.response.headers,Ve=it.usage,Es=it.finishReason)},async flush(en){var Yt;try{if(pn.length===0)return;let it=pn[pn.length-1];It.warningsPromise.resolve(it.warnings),It.requestPromise.resolve(it.request),It.responsePromise.resolve(it.response),It.toolCallsPromise.resolve(it.toolCalls),It.toolResultsPromise.resolve(it.toolResults),It.providerMetadataPromise.resolve(it.experimental_providerMetadata);let rr=Es??"unknown",ei=Ve??{completionTokens:NaN,promptTokens:NaN,totalTokens:NaN};It.finishReasonPromise.resolve(rr),It.usagePromise.resolve(ei),It.textPromise.resolve(ji),It.stepsPromise.resolve(pn),await(Re==null?void 0:Re({finishReason:rr,logprobs:void 0,usage:ei,text:ji,toolCalls:it.toolCalls,toolResults:it.toolResults,request:(Yt=it.request)!=null?Yt:{},response:it.response,warnings:it.warnings,experimental_providerMetadata:it.experimental_providerMetadata,steps:pn})),Vt.setAttributes(I_({telemetry:t,attributes:{"ai.response.finishReason":rr,"ai.response.text":{output:()=>ji},"ai.response.toolCalls":{output:()=>{var bt;return(bt=it.toolCalls)!=null&&bt.length?JSON.stringify(it.toolCalls):void 0}},"ai.usage.promptTokens":ei.promptTokens,"ai.usage.completionTokens":ei.completionTokens}}))}catch(it){en.error(it)}finally{Vt.end()}}}),Qe=RP();this.addStream=Qe.addStream,this.closeStream=Qe.close;let Cn=Qe.stream;for(let en of Q)Cn=Cn.pipeThrough(en({tools:P,stopStream(){Qe.terminate()}}));this.baseStream=Cn.pipeThrough(QP(ue)).pipeThrough(Bt);let{maxRetries:at,retry:Nc}=Bx({maxRetries:s}),zt=Hx(t),vo=zx({model:e,telemetry:t,headers:r,settings:{...n,maxRetries:at}}),Gt=IP({prompt:{system:(wr=ue==null?void 0:ue.injectIntoSystemPrompt({system:h,model:e}))!=null?wr:h,prompt:b,messages:N},tools:P}),It=this;C0({name:"ai.streamText",attributes:I_({telemetry:t,attributes:{...D0({operationId:"ai.streamText",telemetry:t}),...vo,"ai.prompt":{input:()=>JSON.stringify({system:h,prompt:b,messages:N})},"ai.settings.maxSteps":se}}),tracer:zt,endWhenDone:!1,fn:async en=>{Vt=en;async function Yt({currentStep:it,responseMessages:rr,usage:ei,stepType:bt,previousStepText:qr,hasLeadingWhitespace:mo,messageId:$a}){let Hr=rr.length===0?Gt.type:"messages",xn=[...Gt.messages,...rr],Yi=await iP({prompt:{type:Hr,system:Gt.system,messages:xn},modelSupportsImageUrls:e.supportsImageUrls,modelSupportsUrl:e.supportsUrl}),Hn={type:"regular",...jP({tools:P,toolChoice:j,activeTools:pe})},{result:{stream:jr,warnings:Jt,rawResponse:lr,request:Br},doStreamSpan:au,startTimestampMs:Kn}=await Nc(()=>C0({name:"ai.streamText.doStream",attributes:I_({telemetry:t,attributes:{...D0({operationId:"ai.streamText.doStream",telemetry:t}),...vo,"ai.prompt.format":{input:()=>Hr},"ai.prompt.messages":{input:()=>JSON.stringify(Yi)},"ai.prompt.tools":{input:()=>{var Nr;return(Nr=Hn.tools)==null?void 0:Nr.map(bn=>JSON.stringify(bn))}},"ai.prompt.toolChoice":{input:()=>Hn.toolChoice!=null?JSON.stringify(Hn.toolChoice):void 0},"gen_ai.system":e.provider,"gen_ai.request.model":e.modelId,"gen_ai.request.frequency_penalty":n.frequencyPenalty,"gen_ai.request.max_tokens":n.maxTokens,"gen_ai.request.presence_penalty":n.presencePenalty,"gen_ai.request.stop_sequences":n.stopSequences,"gen_ai.request.temperature":n.temperature,"gen_ai.request.top_k":n.topK,"gen_ai.request.top_p":n.topP}}),tracer:zt,endWhenDone:!1,fn:async Nr=>({startTimestampMs:Xe(),doStreamSpan:Nr,result:await e.doStream({mode:Hn,...cP(n),inputFormat:Hr,responseFormat:ue==null?void 0:ue.responseFormat({model:e}),prompt:Yi,providerMetadata:Ue,abortSignal:u,headers:r})})})),Lf=JP({tools:P,generatorStream:jr,toolCallStreaming:H,tracer:zt,telemetry:t,system:h,messages:xn,repairToolCall:ce,abortSignal:u}),Fu=Br??{},Wr=[],ho=[],Ht="unknown",Sn={promptTokens:0,completionTokens:0,totalTokens:0},qa,$o=!0,$i="",Md=bt==="continue"?qr:"",Uu,qn={id:Pt(),timestamp:Ct(),modelId:e.modelId},yi="",qi=!1,ju=!0,Ts=!1;async function oa({controller:Nr,chunk:bn}){Nr.enqueue(bn),$i+=bn.textDelta,Md+=bn.textDelta,qi=!0,Ts=bn.textDelta.trimEnd()!==bn.textDelta}It.addStream(Lf.pipeThrough(new TransformStream({async transform(Nr,bn){var Si,Bn,_o;if($o){let Jr=Xe()-Kn;$o=!1,au.addEvent("ai.stream.firstChunk",{"ai.response.msToFirstChunk":Jr}),au.setAttributes({"ai.response.msToFirstChunk":Jr}),bn.enqueue({type:"step-start",messageId:$a,request:Fu,warnings:Jt??[]})}if(Nr.type==="text-delta"&&Nr.textDelta.length===0)return;let ws=Nr.type;switch(ws){case"text-delta":{if(Ne){let Jr=ju&&mo?Nr.textDelta.trimStart():Nr.textDelta;if(Jr.length===0)break;ju=!1,yi+=Jr;let Da=$P(yi);Da!=null&&(yi=Da.suffix,await oa({controller:bn,chunk:{type:"text-delta",textDelta:Da.prefix+Da.whitespace}}))}else await oa({controller:bn,chunk:Nr});break}case"tool-call":{bn.enqueue(Nr),Wr.push(Nr);break}case"tool-result":{bn.enqueue(Nr),ho.push(Nr);break}case"response-metadata":{qn={id:(Si=Nr.id)!=null?Si:qn.id,timestamp:(Bn=Nr.timestamp)!=null?Bn:qn.timestamp,modelId:(_o=Nr.modelId)!=null?_o:qn.modelId};break}case"finish":{Sn=Nr.usage,Ht=Nr.finishReason,qa=Nr.experimental_providerMetadata,Uu=Nr.logprobs;let Jr=Xe()-Kn;au.addEvent("ai.stream.finish"),au.setAttributes({"ai.response.msToFinish":Jr,"ai.response.avgCompletionTokensPerSecond":1e3*Sn.completionTokens/Jr});break}case"tool-call-streaming-start":case"tool-call-delta":{bn.enqueue(Nr);break}case"error":{bn.enqueue(Nr),Ht="error";break}default:{let Jr=ws;throw new Error(`Unknown chunk type: ${Jr}`)}}},async flush(Nr){let bn=Wr.length>0?JSON.stringify(Wr):void 0,Si="done";it+1<se&&(Ne&&Ht==="length"&&Wr.length===0?Si="continue":Wr.length>0&&ho.length===Wr.length&&(Si="tool-result")),Ne&&yi.length>0&&(Si!=="continue"||bt==="continue"&&!qi)&&(await oa({controller:Nr,chunk:{type:"text-delta",textDelta:yi}}),yi="");try{au.setAttributes(I_({telemetry:t,attributes:{"ai.response.finishReason":Ht,"ai.response.text":{output:()=>$i},"ai.response.toolCalls":{output:()=>bn},"ai.response.id":qn.id,"ai.response.model":qn.modelId,"ai.response.timestamp":qn.timestamp.toISOString(),"ai.usage.promptTokens":Sn.promptTokens,"ai.usage.completionTokens":Sn.completionTokens,"gen_ai.response.finish_reasons":[Ht],"gen_ai.response.id":qn.id,"gen_ai.response.model":qn.modelId,"gen_ai.usage.input_tokens":Sn.promptTokens,"gen_ai.usage.output_tokens":Sn.completionTokens}}))}catch{}finally{au.end()}Nr.enqueue({type:"step-finish",finishReason:Ht,usage:Sn,experimental_providerMetadata:qa,logprobs:Uu,request:Fu,response:{...qn,headers:lr==null?void 0:lr.headers},warnings:Jt,isContinued:Si==="continue",messageId:$a});let Bn=DP(ei,Sn);if(Si==="done")Nr.enqueue({type:"finish",finishReason:Ht,usage:Bn,experimental_providerMetadata:qa,logprobs:Uu,response:{...qn,headers:lr==null?void 0:lr.headers}}),It.closeStream();else{if(bt==="continue"){let _o=rr[rr.length-1];typeof _o.content=="string"?_o.content+=$i:_o.content.push({text:$i,type:"text"})}else rr.push(..._T({text:$i,tools:P??{},toolCalls:Wr,toolResults:ho,messageId:$a,generateMessageId:pr}));await Yt({currentStep:it+1,responseMessages:rr,usage:Bn,stepType:Si,previousStepText:Md,hasLeadingWhitespace:Ts,messageId:Si==="continue"?$a:pr()})}}})))}await Yt({currentStep:0,responseMessages:[],usage:{promptTokens:0,completionTokens:0,totalTokens:0},previousStepText:"",stepType:"initial",hasLeadingWhitespace:!1,messageId:pr()})}}).catch(en=>{It.addStream(new ReadableStream({start(Yt){Yt.enqueue({type:"error",error:en}),Yt.close()}})),It.closeStream()})}get warnings(){return this.warningsPromise.value}get usage(){return this.usagePromise.value}get finishReason(){return this.finishReasonPromise.value}get experimental_providerMetadata(){return this.providerMetadataPromise.value}get text(){return this.textPromise.value}get toolCalls(){return this.toolCallsPromise.value}get toolResults(){return this.toolResultsPromise.value}get request(){return this.requestPromise.value}get response(){return this.responsePromise.value}get steps(){return this.stepsPromise.value}teeStream(){let[e,t]=this.baseStream.tee();return this.baseStream=t,e}get textStream(){return N0(this.teeStream().pipeThrough(new TransformStream({transform({part:e},t){e.type==="text-delta"?t.enqueue(e.textDelta):e.type==="error"&&t.error(e.error)}})))}get fullStream(){return N0(this.teeStream().pipeThrough(new TransformStream({transform({part:e},t){t.enqueue(e)}})))}get experimental_partialOutputStream(){if(this.output==null)throw new MP;return N0(this.teeStream().pipeThrough(new TransformStream({transform({partialOutput:e},t){e!=null&&t.enqueue(e)}})))}toDataStreamInternal({getErrorMessage:e=()=>"An error occurred.",sendUsage:t=!0}={}){let r="",n=new TransformStream({async transform(u,h){h.enqueue(u),u.type==="text-delta"&&(r+=u.textDelta)}}),s=new TransformStream({transform:async(u,h)=>{let b=u.type;switch(b){case"text-delta":{h.enqueue(yl("text",u.textDelta));break}case"tool-call-streaming-start":{h.enqueue(yl("tool_call_streaming_start",{toolCallId:u.toolCallId,toolName:u.toolName}));break}case"tool-call-delta":{h.enqueue(yl("tool_call_delta",{toolCallId:u.toolCallId,argsTextDelta:u.argsTextDelta}));break}case"tool-call":{h.enqueue(yl("tool_call",{toolCallId:u.toolCallId,toolName:u.toolName,args:u.args}));break}case"tool-result":{h.enqueue(yl("tool_result",{toolCallId:u.toolCallId,result:u.result}));break}case"error":{h.enqueue(yl("error",e(u.error)));break}case"step-start":{h.enqueue(yl("start_step",{messageId:u.messageId}));break}case"step-finish":{h.enqueue(yl("finish_step",{finishReason:u.finishReason,usage:t?{promptTokens:u.usage.promptTokens,completionTokens:u.usage.completionTokens}:void 0,isContinued:u.isContinued}));break}case"finish":{h.enqueue(yl("finish_message",{finishReason:u.finishReason,usage:t?{promptTokens:u.usage.promptTokens,completionTokens:u.usage.completionTokens}:void 0}));break}default:{let N=b;throw new Error(`Unknown chunk type: ${N}`)}}}});return this.fullStream.pipeThrough(n).pipeThrough(s)}pipeDataStreamToResponse(e,{status:t,statusText:r,headers:n,data:s,getErrorMessage:u,sendUsage:h}={}){lT({response:e,status:t,statusText:r,headers:cT(n,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"}),stream:this.toDataStream({data:s,getErrorMessage:u,sendUsage:h})})}pipeTextStreamToResponse(e,t){lT({response:e,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText,headers:cT(t==null?void 0:t.headers,{contentType:"text/plain; charset=utf-8"}),stream:this.textStream.pipeThrough(new TextEncoderStream)})}toDataStream(e){let t=this.toDataStreamInternal({getErrorMessage:e==null?void 0:e.getErrorMessage,sendUsage:e==null?void 0:e.sendUsage}).pipeThrough(new TextEncoderStream);return e!=null&&e.data?R0(e==null?void 0:e.data.stream,t):t}mergeIntoDataStream(e){e.merge(this.toDataStreamInternal({getErrorMessage:e.onError}))}toDataStreamResponse({headers:e,status:t,statusText:r,data:n,getErrorMessage:s,sendUsage:u}={}){return new Response(this.toDataStream({data:n,getErrorMessage:s,sendUsage:u}),{status:t,statusText:r,headers:ly(e,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}toTextStreamResponse(e){var t;return new Response(this.textStream.pipeThrough(new TextEncoderStream),{status:(t=e==null?void 0:e.status)!=null?t:200,headers:ly(e==null?void 0:e.headers,{contentType:"text/plain; charset=utf-8"})})}};var tA="AI_NoSuchProviderError",rA=`vercel.ai.error.${tA}`,nA=Symbol.for(rA),aA;aA=nA;var iA={};P0(iA,{mergeIntoDataStream:()=>uA,toDataStream:()=>oA,toDataStreamResponse:()=>sA});function iw(e={}){let t=new TextEncoder,r="";return new TransformStream({async start(){e.onStart&&await e.onStart()},async transform(n,s){s.enqueue(t.encode(n)),r+=n,e.onToken&&await e.onToken(n),e.onText&&typeof n=="string"&&await e.onText(n)},async flush(){e.onCompletion&&await e.onCompletion(r),e.onFinal&&await e.onFinal(r)}})}function k0(e,t){return e.pipeThrough(new TransformStream({transform:async(r,n)=>{var s;if(typeof r=="string"){n.enqueue(r);return}if("event"in r){r.event==="on_chat_model_stream"&&gT((s=r.data)==null?void 0:s.chunk,n);return}gT(r,n)}})).pipeThrough(iw(t)).pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform:async(r,n)=>{n.enqueue(yl("text",r))}}))}function oA(e,t){return k0(e,t).pipeThrough(new TextEncoderStream)}function sA(e,t){var r;let n=k0(e,t==null?void 0:t.callbacks).pipeThrough(new TextEncoderStream),s=t==null?void 0:t.data,u=t==null?void 0:t.init,h=s?R0(s.stream,n):n;return new Response(h,{status:(r=u==null?void 0:u.status)!=null?r:200,statusText:u==null?void 0:u.statusText,headers:ly(u==null?void 0:u.headers,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function uA(e,t){t.dataStream.merge(k0(e,t.callbacks))}function gT(e,t){if(typeof e.content=="string")t.enqueue(e.content);else{let r=e.content;for(let n of r)n.type==="text"&&t.enqueue(n.text)}}var cA={};P0(cA,{mergeIntoDataStream:()=>dA,toDataStream:()=>lA,toDataStreamResponse:()=>fA});function O0(e,t){let r=pA();return Mb(e[Symbol.asyncIterator]()).pipeThrough(new TransformStream({async transform(n,s){s.enqueue(r(n.delta))}})).pipeThrough(iw(t)).pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform:async(n,s)=>{s.enqueue(yl("text",n))}}))}function lA(e,t){return O0(e,t).pipeThrough(new TextEncoderStream)}function fA(e,t={}){var r;let{init:n,data:s,callbacks:u}=t,h=O0(e,u).pipeThrough(new TextEncoderStream),b=s?R0(s.stream,h):h;return new Response(b,{status:(r=n==null?void 0:n.status)!=null?r:200,statusText:n==null?void 0:n.statusText,headers:ly(n==null?void 0:n.headers,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function dA(e,t){t.dataStream.merge(O0(e,t.callbacks))}function pA(){let e=!0;return t=>(e&&(t=t.trimStart(),t&&(e=!1)),t)}var EU=15*1e3;var Bh=require("vscode");var dy="experimental_providerMetadata";function ow(e){let t=e.filter(({role:h})=>h=="user"||h=="tool"),r=e.filter(({role:h})=>h=="assistant");function n(h,{content:b}){var N;return h+(Array.isArray(b)&&((N=b[b.length-1])!=null&&N[dy])?1:0)}function s(h){let{content:b}=h;Array.isArray(b)||(b=[{type:"text",text:b}]),b[b.length-1][dy]={anthropic:{cacheControl:{type:"ephemeral"}}},h.content=b}function u(h){let{content:b}=h;Array.isArray(b)&&b[b.length-1][dy]&&delete b[b.length-1][dy]}r.reduce(n,0)||s(r.pop()),s(t.pop()),t.slice(0,-2).forEach(u)}var Em=require("vscode");var uw=`
When responding, start straight with the answer, like you are writing a technical documentation. No confirmation, no small talk.
You are communicating with the user via tools, always try to use tool calling where appropriate.
The user does not see the tools and doesn't know what they are. Never mention tool names and never explain that you are using them.
Use question tool to collect all necessary information to better understand what the user wants if the request is ambiguous or missing something.
Use sourcecode and documents tools to understand the current project and tasks. 
Use editor tool to create and modify files.
`,vA=e=>S_`
    Files in the project root directory:
    <files>
        ${e.join(`
`)||"empty (no files here)"}
    </files>
`,mA=e=>S_`
    Top-level project directories: 
    <directories>
        ${e.join(`
`)||"empty (no sub-directories here)"}
    </directories>
`,cw=async()=>{if(!Em.workspace.workspaceFolders)return[""];let e=await Dg(""),t=e.filter(({isFile:n})=>n).map(({name:n})=>n),r=e.filter(({isDirectory:n})=>n).map(({name:n})=>n);return[mA(r),`

`,vA(t)]},lw=()=>S_`
    Files open in editor windows: 
    <files>
        ${F_().map(xp).join(`
`)}
    </files>
`,fw=()=>{var e,t,r,n;return S_`
    Current file:
    <file>
        ${xp(Em.Uri.file(((t=(e=Em.window.activeTextEditor)==null?void 0:e.document)==null?void 0:t.fileName)||""))}
    </file>
    ${`

`}
    Programming language of the current file: 
    <language>
        ${(n=(r=Em.window.activeTextEditor)==null?void 0:r.document)==null?void 0:n.languageId}
    </language>
`};function sw(){var t,r;let e=(t=Em.window.activeTextEditor)==null?void 0:t.selection;return e&&!e.isEmpty?(r=Em.window.activeTextEditor)==null?void 0:r.document.getText(e):""}var dw=()=>sw()&&S_`
    The selected text in the active editor is:
    <selection>
        ${sw()}
    </selection>
`;var pw={about:"Tell me about yourself",writing:"Describe your writing style",developer:"What is your experience as a software developer?",process:"Describe how you write code",environment:"What you have now in the editor workspace?"},hA=`
I am the AI assistant, working in VSCode editor.
I can access all content and tools in the current editor workspace.
I am proactively reading the code and configuration files to get detailed understanding of the environment.
`,_A=`
I'd describe my approach like this:

I'm direct and to the point. I don't waste time with pleasantries or unnecessary context. 
My goal is to provide accurate, practical solutions to coding problems as efficiently as possible.

I use short code snippets to illustrate my points. These snippets are always properly formatted 
and indented for readability. I explain the key parts of the code, but I assume a certain level of 
programming knowledge from my audience.

I often break down my answers into steps or bullet points for clarity. I'm not afraid to point out 
flaws in the original question or suggest better approaches if I see them.

I include relevant documentation links or references to support my answers, but I don't just link-drop 
without explanation. I summarize the key points and explain why they're relevant.

My tone is professional and sometimes a bit terse. I'm here to solve problems, not to make friends. 
However, I'm also not rude or dismissive. If a question is unclear, I ask for clarification rather than 
making assumptions.

I'm aware of best practices and potential pitfalls, so I often include warnings about edge cases or 
performance issues that might not be immediately obvious.
`,gA=`
I'm a seasoned software developer with a deep understanding of core programming principles and system design. 
My experience spans multiple domains, allowing me to approach problems from various angles.

I excel at breaking down complex requirements into manageable components and designing scalable, maintainable 
solutions. My code is clean, well-documented, and follows best practices for readability and efficiency.

I'm particularly strong in algorithmic thinking and optimization. I can analyze performance bottlenecks 
and implement effective solutions, whether it's improving time complexity or reducing resource usage.

I have a solid grasp of software architecture patterns and can adapt them to fit project needs. 
I'm comfortable designing and implementing APIs, working with databases, and integrating various system components.

Testing is integral to my development process. I write comprehensive unit tests and understand 
the value of integration and end-to-end testing in ensuring robust, reliable software.

I stay current with industry trends and continuously refine my skills. However, I'm pragmatic in my approach, 
focusing on proven technologies that add real value rather than chasing every new trend.

Debugging and troubleshooting are areas where I shine. I can quickly isolate issues in complex systems 
and implement effective fixes.

Lastly, I'm a strong communicator. I can explain technical concepts clearly to both technical 
and non-technical stakeholders, facilitating better collaboration across teams.
`,yA=`
When designing and building complex code, my thought process typically follows these steps:

I start by thoroughly analyzing the problem domain. I break down the requirements, 
identifying the core functionalities and potential edge cases.

Next, I consider the overall architecture. I think about how different components will interact, 
data flow, and potential bottlenecks. I often sketch out high-level diagrams to visualize the system structure.

I evaluate trade-offs between different design patterns and approaches. I consider factors like scalability, 
maintainability, and performance. I try to anticipate future requirements to make the system extensible.

Before diving into implementation, I plan out the data structures and algorithms I'll use. 
I consider time and space complexity, thinking about how the solution will perform with larger datasets.

I break the problem down into smaller, manageable modules or functions. I define clear interfaces 
between these components, thinking about how they'll be tested in isolation.

As I start coding, I focus on creating a minimal viable implementation of each component. 
I write unit tests alongside the code, using test-driven development where appropriate.

I constantly refactor as I go, looking for opportunities to improve code clarity and efficiency. 
I'm always thinking about how another developer would read and understand my code.

For particularly complex parts, I often step back and reconsider my approach. Sometimes I'll implement 
a quick prototype to validate a concept before fully committing to it.

Throughout the process, I document my code and decisions. I write clear comments explaining the 'why' 
behind complex logic, not just the 'what'.

As the system comes together, I start thinking about integration testing and how different components interact. 
I look for potential race conditions or unexpected behaviors in the system as a whole.

Finally, I review the entire solution, considering aspects like error handling, logging, and monitoring. 
I think about how the system will behave in production and what tools will be needed to maintain it.

This process is iterative, and I'm always ready to revisit earlier decisions as new information or challenges arise. The goal is to create a robust, efficient, and maintainable solution that solves the problem at hand while being flexible enough to adapt to future needs.
`;async function vw(){let e=[],t=ah([await cw(),`

`,lw(),`

`,fw(),`

`,dw()]),r={about:hA,writing:_A,developer:gA,process:yA,environment:t};for(let n in pw)r[n]&&(e.push({role:"user",content:ah(pw[n])}),e.push({role:"assistant",content:ah(r[n])}));return e}var Mp=require("vscode");async function mw(e){let t=[];for(let{id:r,name:n,modelDescription:s,value:u}of e.references){let h=String(u);if(r!="vscode.implicit.viewport"){if(u instanceof Mp.Uri){let b=await Mp.workspace.fs.stat(u);if(b.type&Mp.FileType.File)h=(await Mp.workspace.openTextDocument(u)).getText();else if(b.type&Mp.FileType.Directory){let N=await Dg(xp(u)),P=N.filter(({isFile:H})=>H).map(({path:H})=>H),j=N.filter(({isDirectory:H})=>H).map(({path:H})=>H);h=bA(j)+SA(P)}n=xp(u)}else u instanceof Mp.Location&&(h=(await Mp.workspace.openTextDocument(u.uri)).getText(u.range),n+=" from "+xp(u.uri));s&&(n+=` (${s})`),t.push({role:"user",content:`Read ${n}`}),t.push({role:"assistant",content:h})}}return t}var SA=e=>`
<files>
${e.join(`
`)||"empty (no files here)"}
</files>
`,bA=e=>`
<directories>
    ${e.join(`
`)||"empty (no sub-directories here)"}
</directories>
`;var D_=require("vscode");var{fs:hw}=D_.workspace,_w="sourcecode",EA=`
Read and analyze source code files in the project

Commands:
- /stat: checks if the specified path exists and returns basic information about it
- /read: returns the content of a file or directory at the given path
`,TA=O.object({command:O.enum(["stat","read"]).describe("Command"),path:O.string().describe("File or directory path")}),wA="Looking at the source files ...",IA=(e,t,r)=>`
Found ${e} directory containing ${t} sub-directories and ${r} files.
`,NA=(e,t)=>`
Found ${e} file (${t} lines).
`,DA=(e,t)=>`
<file_content path="${e}">
${t}
</file_content>
`;async function CA({command:e,path:t},{log:r,stream:n}){r.info(t,{command:e,event:`tool.${_w}.${e}`});let s=Rn(t),u=null;try{u=await hw.stat(s)}catch{return e!=="stat"&&r.warn("[sourcecode] Path does not exist",{path:t,command:e}),"Error: Path does not exist - "+t}if(u.type&D_.FileType.Directory)return await xA(e,t,s);e!=="stat"&&n.reference(Ou(s));let h=await Af(s),b=h.split(`
`),N=NA(t,b.length);return e=="read"&&(N+=DA(t,h)),N}async function xA(e,t,r){let n=[],s=[];for(let[h,b]of await hw.readDirectory(r))b&D_.FileType.File?s.push(h):b&D_.FileType.Directory&&n.push(h+"/");let u=IA(t,n.length,s.length);return e=="read"&&(u+=`
`+n.concat(s).join("/n")),u}var gw={name:_w,description:EA,parameters:TA,execute:CA,progress:wA};var C_=require("vscode");var{fs:yw}=C_.workspace,Sw="documents",PA=`
Read task-related documentation files

Commands:
- /stat: checks if the specified documentation path exists and returns basic information about it
- /read: returns the content of a documentation file or directory at the given path
`,AA=O.object({command:O.enum(["stat","read"]).describe("Command"),path:O.string().describe("File or directory path")}),RA="Looking at the available documents ...",kA=(e,t,r)=>`
Found ${e} directory containing ${t} sub-directories and ${r} files.
`,OA=(e,t)=>`
Found ${e} file (${t} lines).
`,MA=(e,t)=>`
<file_content path="${e}">
${t}
</file_content>
`;async function LA({command:e,path:t},{log:r}){let n=Rn(t),s=null;r.info(t,{command:e,event:`tool.${Sw}.${e}`});try{s=await yw.stat(n)}catch{return e!=="stat"&&r.warn("[documents] Path does not exist",{path:t,command:e}),"Error: Path does not exist - "+t}if(s.type&C_.FileType.Directory)return await FA(e,t,n);let u=await Af(n),h=u.split(`
`),b=OA(t,h.length);return e=="read"&&(b+=MA(t,u)),b}async function FA(e,t,r){let n=[],s=[];for(let[h,b]of await yw.readDirectory(r))b&C_.FileType.File?s.push(h):b&C_.FileType.Directory&&n.push(h+"/");let u=kA(t,n.length,s.length);return e=="read"&&(u+=`
`+n.concat(s).join("/n")),u}var bw={name:Sw,description:PA,parameters:AA,execute:LA,progress:RA};var x_=require("vscode");var lo=require("vscode");async function py(e,t){var P,j,H;let r=e.edits.find(Q=>Q.id==t);if(!r)return;let n=new lo.WorkspaceEdit,s=Ou(Rn(r.path));try{await lo.workspace.fs.stat(s)}catch{s=s.with({scheme:"untitled"})}let u=await lo.workspace.openTextDocument(s),h=u.getText().replace(/\r\n/g,`
`),b=h==r.after.replace(/\r\n/g,`
`)?r.before:r.after,N=new lo.Range(new lo.Position(0,0),new lo.Position(u.lineCount,0));n.replace(s,N,b),await lo.workspace.applyEdit(n),((H=(j=(P=lo.window.activeTextEditor)==null?void 0:P.document)==null?void 0:j.uri)==null?void 0:H.path)!=s.path&&await lo.window.showTextDocument(u),UA(r.search)}function UA(e){var N;let t=lo.window.activeTextEditor,r=t==null?void 0:t.document,n=(N=r==null?void 0:r.getText())==null?void 0:N.replace(/\r\n/g,`
`);if(!e||!t||!r)return;let s=n.indexOf(e);if(s==-1)return;let u=n.slice(0,s).split(`
`).length-1,h=e.split(`
`).length,b=new lo.Position(u,0);t.selection=new lo.Selection(b,b),t.revealRange(new lo.Range(b,new lo.Position(u+h,0)))}var qh=require("vscode");function Ew(e,t,r,n,s,u,h,b){if(h.startsWith(".documents"))return M0(e,t,u,h);let N=new qh.MarkdownString(`

`),P=e.id,j=encodeURIComponent(JSON.stringify([h,n,P])),H=`command:multicoder.diffView?${j}`,Q=ce=>`<sub><span class="codicon codicon-${ce}" style="color:var(--vscode-textLink-foreground);"></span></sub>`;N.supportThemeIcons=!0,N.isTrusted={enabledCommands:["multicoder.diffView"]},N.supportHtml=!0,N.appendMarkdown(`[${Q("diff-single")} ${s} (${h})](${H} 'Open Diff')`),N.appendCodeblock(u,b),t.markdown(N),t.button({title:"Apply",command:"multicoder.action",arguments:[pe],tooltip:"Click to apply changes, click again to revert"});function pe(){e.log.info(h,{event:"action.apply"}),py(r,n)}}function M0(e,t,r,n){let s=new qh.MarkdownString(`

`);s.supportHtml=!0,s.appendMarkdown(r),t.markdown(s),t.button({title:"Edit",command:"multicoder.action",arguments:[u],tooltip:"Click to edit the document"});async function u(){let h=Rn(n),b=await qh.workspace.openTextDocument(h);qh.window.showTextDocument(b),e.log.info(n,{event:"action.edit"})}}var ww="editor",jA=`
Create and modify source files or documents

Commands:
- /create: creates a new file with the specified content
- /insert: inserts new content just before the matched lines
- /append: adds new content immediately after the matched lines
- /update: replaces matched text block with new content

Usage:
- To add new content always use /insert or /append
- To replace content use /update
- To delete content, use /update with empty content
- Keep modifications focused and atomic
- Test changes in small increments
`,YA=`
Matching lines to find in the original file:
- For /create: Always use empty string ("")
- For entire file content: Use empty string ("")
- For specific blocks: Use exact lines including whitespace (but NOT the entire file)
- For /insert: Use first 1-3 lines of target block
- For /append: Use last 3-5 lines of target block
- Ensure match is unique within file to avoid ambiguity
`,$A=O.object({command:O.enum(["create","insert","append","update"]).describe("Command"),path:O.string().describe("File path"),match:O.string().describe(YA),content:O.string().describe("New or updated text"),summary:O.string().describe("A very short (3-10 words) summary of this change")}),qA="Writing code ...";async function BA(e,t){let{path:r,command:n}=e,{shared:s}=t;if(s.phase&&!r.startsWith(".documents"))return"Error: cannot modify source code yet. At this point you should only work on task documents.";let{error:u}=await Iw(e);if(u)return"Tool error: "+u;let h=n=="create"?"created":"modified";return s.phase?`Document ${h}. Provide a very short summary using summary tool`:`${r} ${h}`}async function Iw({path:e,command:t,match:r,content:n}){let s=Rn(e),u=null,h=null,b=n;try{if(await x_.workspace.fs.stat(s),t==="create")return{error:"File already exists: "+e}}catch{if(t!=="create")return{error:"File not found: "+e}}switch(t){case"insert":case"append":case"update":if(u=await x_.workspace.openTextDocument(s),h=await Af(s),b=VA(h,r,n,u.eol,t),!b)return{error:"Cannot find exact match. The file has not been modified. Read the file again to get the current content."}}return{document:u,before:h,after:b}}async function zA(e,t){let{path:r,summary:n,command:s,match:u,content:h}=e,{log:b,stream:N,shared:P}=t;if(P.phase&&!r.startsWith(".documents")){b.warn(`[workflow] Code not allowed: ${n}`,{path:r,command:s,summary:n});return}let{document:j,before:H,after:Q,error:pe}=await Iw(e);if(pe)return;let ce=Rn(r);b.info(n,{path:r,command:s,event:`tool.${ww}.${s}`});try{await Ng(ce,Q)}catch(Ne){throw b.warn("Cannot write file - "+Ne.message,{path:r,command:s,summary:n,...Ne}),Ne}j=await x_.workspace.openTextDocument(ce);let se=j.languageId,ue=Ig();P.edits.push({id:ue,summary:n,path:r,before:H,after:Q,search:h}),s=="create"?HA(t,N,P,ue,n,h,r,se):Ew(t,N,P,ue,n,h||u,r,se)}function GA(e){return/^\s*\/\//.test(e)||/^\s*\/\*/.test(e)}function Tw(e,t){let r=GA(e)?"":`
`;return e.endsWith(`
`)&&t.startsWith(`
`)?e+t:e.endsWith(`
`)||t.startsWith(`
`)?e+r+t:e+r+`
`+t}function VA(e,t,r,n,s){let u=e.replace(/\r\n/g,`
`);t||(t=u),s=="insert"&&(r=Tw(r,t)),s=="append"&&(r=Tw(t,r));let h=u.replace(t,r);return u==h?null:(n==2&&(h=h.replace(/\n/g,`\r
`)),h)}function HA(e,t,r,n,s,u,h,b){if(h.startsWith(".documents"))return M0(e,t,u,h);async function N(){e.log.info(h,{event:"action.create"}),py(r,n)}let P=new x_.MarkdownString(`

`),j=e.id,H=encodeURIComponent(JSON.stringify([h,n,j])),Q=`command:multicoder.diffView?${H}`,pe=ce=>`<sub><span class="codicon codicon-${ce}" style="color:var(--vscode-textLink-foreground);"></span></sub>`;P.supportThemeIcons=!0,P.isTrusted={enabledCommands:["multicoder.diffView"]},P.supportHtml=!0,P.appendMarkdown(`[${pe("diff-single")} ${s} (${h})](${Q} 'Open Diff')`),P.appendCodeblock(u,b),t.markdown(P),t.button({title:"Create",command:"multicoder.action",arguments:[N],tooltip:"Click to create file, click again to revert"})}var Nw={name:ww,description:jA,parameters:$A,execute:BA,finalize:zA,progress:qA};var Dw=require("vscode");var{fs:vj}=Dw.workspace,Cw="filesystem",KA=`
Manage files and directories

Commands:
- /create: creates a new directory at the specified path
- /delete: deletes a file or directory at the specified path
`,WA=O.object({command:O.enum(["create","delete"]).describe("Command"),path:O.string().describe("File or directory path")}),JA="Working with files ...";async function ZA({command:e,path:t},{log:r}){let n=Rn(t);return r.info(t,{command:e,event:`tool.${Cw}.${e}`}),"ok"}var xw={name:Cw,description:KA,parameters:WA,execute:ZA,progress:JA};var Pw="question",XA=`
    Use this tool to ask questions in order to collect all relevant info for the task.
    You can ask one question at a time. If you have more questions, use this tool several times.
    Provide the list of suggested answers, so that the user can just click on answer text instead of typing.
`,QA=O.object({question:O.string().describe("Question text"),suggestedAnswers:O.array(O.string()).describe("Suggest possible answers to the user"),multipleChoice:O.boolean().describe("True if this is a multiple choice question"),defaultAnswer:O.string().describe("The default answer to use")}),eR="Preparing questions ...",L0=[];async function tR({question:e,suggestedAnswers:t,multipleChoice:r,defaultAnswer:n},s){let u=[],{log:h,stream:b,shared:N}=s,P=n||"No answer";for(h.info(e,{suggestedAnswers:t,multipleChoice:r,defaultAnswer:n,event:"tool."+Pw});;){if(b.markdown(rR({question:e})),r&&u.length?b.markdown(nR(u)):b.markdown(`

(`+P+`)

`),N.auto)return P;let j=["auto","next"],H=aR(t,u,r),Q=await Lp(s,{commands:j,followups:H});if({stream:b}=s,r){if(Q.command=="next"||!Q.prompt)return P=u.length?u.join(", "):P,L0.push({question:e,answer:P}),P}else return P=Q.prompt||P,L0.push({question:e,answer:P}),P;u.push(Q.prompt)}}var rR=({question:e})=>`

---
Q: **${e}**
`,nR=e=>`
${e.map(t=>`
- ${t}`)}
`;function aR(e,t,r){let n=[];return e.forEach(s=>{t.indexOf(s)==-1&&!/please/i.test(s)&&n.push({command:"",prompt:s})}),r&&n.push({command:"next",prompt:"",label:"\u25B7\xA0 next step (Enter)"}),n}var Aw={name:Pw,description:XA,parameters:QA,execute:tR,progress:eR,latest:L0};var Rw="list",iR=`
    Allows to present the information as a list
`,oR=O.object({header:O.string().describe("Item header"),content:O.string().describe("Item content")}),sR=O.object({title:O.string().describe("Title"),items:O.array(oR).describe("List items"),comments:O.string().describe("Comments")});async function uR({title:e,items:t,comments:r},{log:n,stream:s}){return n.info(e,{event:"tool."+Rw}),s.markdown(`

# `+e+`
`),t.forEach(({header:u,content:h})=>{s.markdown(`
## `+u+`
`),s.markdown(`
`+h+`
`)}),"ok"}var kw={name:Rw,description:iR,parameters:sR,execute:uR};var Ow="summary",cR=`
    Shows summary, explanations or walkthrough section at the end of the response or after each task step.
    Allows the user to see the progress of completing the task.
    Always use this tool at the end of each step or when the task is finished.
`,lR=O.object({text:O.string().describe("Short walkthrough or summary of this step")});async function fR({text:e},{log:t,stream:r}){return t.info(`${e==null?void 0:e.length} chars`,{text:e,event:"tool."+Ow}),r.markdown(`

`+e+`

`),"ok"}var Mw={name:Ow,description:cR,parameters:lR,execute:fR};var Lw="followups",dR=`
    Displays followup actions to the user at the end of the conversation turn.
`,pR=O.object({actions:O.array(O.string()).describe("Short followup actions (5-10 words)")});async function vR({actions:e},{log:t}){return t.info(`${e==null?void 0:e.length} options`,{actions:e,event:"tool."+Lw}),"ok"}var Fw={name:Lw,description:dR,parameters:pR,execute:vR};var Uw="evaluation",mR=`
    Reports the task evaluation results. Use this tool when requested to evaluate a task.

    Evaluate the task for 
    - clarity (ambiguity, incompleteness, imprecision),
    - complexity (functional scope, architectural scale, required skills level)
    - workload (workflow type, projected effort, budget estimate)

    Carefully choose the most appropriate level for each evaluated dimension.
`,hR=O.number().describe(`
The ambiguity level:
    0 - n/a (not applicable)
    1 - very low
    2 - low
    3 - medium
    4 - high
    5 - very high

Ambiguity implies that something can be interpreted in multiple valid ways.
`),_R=O.number().describe(`
The incompleteness level:
    0 - n/a (not applicable)
    1 - very low
    2 - low
    3 - medium
    4 - high
    5 - very high

Incompleteness refers to missing information or parts.
`),gR=O.number().describe(`
The imprecision level:
    0 - n/a (not applicable)
    1 - very low
    2 - low
    3 - medium
    4 - high
    5 - very high

Imprecision refers to lack of exactness or accuracy.
`),yR=O.number().describe(`
The functional scope level:
    0 - n/a (not applicable)
    1 - implementation details, simple bugfix, code formatting
    2 - user story, issue, enhancement, complex bugfix
    3 - product feature, architectural refactoring
    4 - epic, application, library, subsystem
    5 - full product, platform, framework
`),SR=O.number().describe(`
The architectural scale level:
    0 - n/a (not applicable)
    1 - code level (local scope): variable naming, control flow, error handling
    2 - component level (single module): classes, functions, state management, data structures
    3 - service level (multiple modules): APIs, database models, service integrations
    4 - application level (system-wide): application architecture, system design
    5 - enterprise level (cross-system): distributed systems, cloud infrastructure, scalability
`),bR=O.number().describe(`
The required software engineering skills level:
    0 - n/a (not applicable)
    1 - junior (1 year)
    2 - mid (1-3 years)
    3 - senior (3-5 years)
    4 - staff (5-10 years)
    5 - principal (10+) years
`),ER=O.number().describe(`
The applicable workflow type:
    0 - n/a (not applicable)
    1 - single commit
    2 - pull request
    3 - sprint/iteration
    4 - small project
    5 - large project
`),TR=O.number().describe(`
The projected effort level:
    0 - n/a (not applicable)
    1 - very small (minutes)
    2 - small (hours)
    3 - medium (days)
    4 - large (weeks)
    5 - very large (months)
`),wR=O.number().describe(`
The development budget estimate:
    0 - n/a (not applicable)
    1 - very low
    2 - $20-200
    3 - $200-2000
    4 - $2000-20000
    5 - above $20000
`),IR=O.string().describe("Suggestions how to improve the request"),NR=O.boolean().describe(`
    true if task requirements need further clarification or refinement
`),DR=O.boolean().describe(`
    true if solution is not trivial and will benefit from detailed design
`),CR=O.boolean().describe(`
    true to split the task into smaller, manageable steps
`),xR=O.object({ambiguity:hR,incompleteness:_R,imprecision:gR,functionalScope:yR,architecturalScale:SR,skillsLevel:bR,workflowType:ER,projectedEffort:TR,budgetEstimate:wR,clarifyRequirements:NR,designSolution:DR,splitIntoParts:CR,suggestions:IR});async function PR(e,{log:t}){let r=N=>N.toFixed(1),[n,s,u]=jw(e),h=`${r(n)} ${r(s)} ${r(u)} `,b=`${e.clarifyRequirements} ${e.designSolution} ${e.splitIntoParts}`;return t.info(h+b,{uncertainty:n,complexity:s,workload:u,...e,event:"tool."+Uw}),"ok"}function jw(e){let t=(e.ambiguity+e.incompleteness+e.imprecision)/3,r=(e.architecturalScale+e.functionalScope+e.skillsLevel)/3,n=(e.projectedEffort+e.workflowType+e.budgetEstimate)/3;return[t,r,n]}var Yw={name:Uw,description:mR,parameters:xR,execute:PR,compute:jw};var AR=[gw,bw,Nw,xw,Aw,kw,Mw,Fw,Yw],fo=Object.fromEntries(AR.map(e=>[e.name,RR(e)]));function RR(e){return{...e,async execute(t,r){return e.execute?e.execute(t,r.abortSignal.context):"ok"}}}function $w(e){try{return JSON.parse(e)}catch{return null}}function qw(e){return JSON.stringify(e)}function Bw(e){async function t({error:r,toolCall:n}){if($h.isInstance(r)){let s=r.toolName.split(".");if(s.length==2){let[u,h]=s,b=fo[u],N=$w(n.args);if(b){let P={...r,event:"repair.tool"};return e.log.warn(`Tool name: ${r.toolName}`,P),"command"in b.parameters.shape&&N&&!N.command?(N.command=h,{...n,toolName:u,args:qw(N)}):{...n,toolName:u}}}return null}if(N_.isInstance(r)){let s=r.toolName,u=$w(r.toolArgs),h=r.cause,b=[];if(u&&vm.isInstance(h)){let N=h.cause;if(N instanceof Ec){for(let j of N.issues){let H=j.path.join(".");if(b.push(H),s==fo.followups.name&&H=="actions"&&j.code=="invalid_type"&&j.expected=="array"&&j.received=="string")u.actions=u.actions.split(`
`);else if(s==fo.editor.name&&H=="match"&&j.code=="invalid_type"&&j.expected=="string"&&j.received=="undefined")u.match="";else if(s==fo.editor.name&&H=="content"&&j.code=="invalid_type"&&j.expected=="string"&&j.received=="undefined")u.content="";else if(s==fo.editor.name&&H=="summary"&&j.code=="invalid_type"&&j.expected=="string"&&j.received=="undefined")u.summary=`${u.command} ${u.path}`;else return null}let P={...r,event:"repair.args"};return e.log.warn(`Tool arguments: ${r.toolName}.${b.join(", ")}`,P),{...n,args:qw(u)}}}return null}return null}return t}var kR=`
<table><tr><td>
    <span class="codicon codicon-run-all" style="color:var(--vscode-textLink-foreground);"></span>
</td><td>
    <span  style="color:var(--vscode-textLink-foreground);">Running in automatic mode. Press the stop button to switch</span>
</td></tr></table>
`;async function Gw(e,t){let{log:r,stream:n,shared:s,request:u,messages:h}=e,b="chat.next";if(h.length||(b="chat.start",e.resume=null,h.push(...await vw())),s.edits||(s.edits=[],s.phase="",YS()),s.auto&&(u.command=="resume"?n.markdown(`

Resuming iterrupted task

`):e.resume=null),s.auto=u.command=="auto",s.auto){let H=new Bh.MarkdownString("");H.supportHtml=!0,H.supportThemeIcons=!0,H.appendMarkdown(kR),e.stream.markdown(H)}e.interrupted=null,e.token.onCancellationRequested(async H=>{if(r.warn("Interrupted",{event:"chat.stop"}),e.interrupted=Lp(e,{}),s.auto){let Q=e.interrupted,pe=await Bh.window.showInformationMessage("Stopped automatic mode task","Resume interactive","Stop");pe&&pe.startsWith("Resume")&&(e.interrupted===Q?Bh.commands.executeCommand("workbench.action.chat.open","@multicoder /resume"):await Bh.window.showInformationMessage("Chat window already in use"))}});let N=u.references.map(({id:H,name:Q})=>Q+" "+H).join(`
`),P=u.toolReferences.map(({name:H})=>H).join(`
`),j=(u.command?"/"+u.command+" ":"")+u.prompt;return r.info(j,{event:b,command:u.command,references:N,toolrefs:P}),h.push(...await mw(u)),new Promise((H,Q)=>{let pe=0,ce=se=>r.error(new Error(se));if(e.resolve=se=>pe++?ce("Resolve closed promise"):H(se),e.reject=se=>pe++?ce("Reject closed promise"):Q(se),e.resume){let se=e.resume;return e.resume=null,se(e.request)}Promise.resolve(t(e)).then(se=>e.resolve(se)).catch(se=>e.reject(se))})}function Lp(e,t){return new Promise(r=>{e.resume=r,e.resolve(t)})}async function F0(e,t,r=""){let{log:n,stream:s,shared:u,model:h,messages:b}=e;Tm(e,t);let N=0,P=0,j=0,H=0,Q=0;function pe(ce,se,ue={}){s.markdown(""),s.progress(`Retrying (${se}): ${ce}`),n.warn(ce,{...ue,count:se,event:"retry"})}for(;;){ow(b),await e.interrupted;let ce=new AbortController,se=ce.signal;se.context=e;let ue=await aw({model:h,system:uw,messages:b,tools:fo,temperature:.2,maxTokens:8192,maxSteps:1,abortSignal:se,experimental_toolCallStreaming:!0,experimental_repairToolCall:Bw(e)}),Ne=!1;for await(let Xe of ue.fullStream){if(e.token.isCancellationRequested)break;switch(Xe.type){case"text-delta":e.stream.markdown(Xe.textDelta);break;case"tool-call-streaming-start":let Ct=fo[Xe.toolName].progress;Ct&&(e.stream.markdown(""),e.stream.progress(Ct));break;case"error":if($h.isInstance(Xe.error)&&++N<=5){Ne=!0;let $r=`Unknown tool ${Xe.error.toolName}`;pe($r,N,Xe.error);break}if(N_.isInstance(Xe.error)&&++N<=5){Ne=!0;let $r=`Invalid arguments for tool ${Xe.error.toolName}`;pe($r,N,Xe.error);break}if(A0.isInstance(Xe.error)&&++N<=5){Ne=!0,pe("Tool call repair failed",N,Xe.error);break}let{event:Pt,count:pr,message:wr}=Xe.error;if(Pt=="retry"){pe(wr,pr,Xe.error);break}throw Xe.error}}if(e.interrupted){await e.interrupted;continue}let Ue=await ue.response,rt=await ue.toolCalls,Re=await ue.toolResults;if(Ne)continue;N=0;let nt="";for(let Xe of Re)Xe.result.startsWith("Tool error: ")&&(nt=Xe.result.slice(12));if(nt)if(++P<3){pe(nt,P);continue}else if(++j<2)pe("Tool execution error",j);else throw new Error(nt);else j=0;if(P=0,Ue.messages.length==1){let{role:Xe,content:Ct}=Ue.messages[0];if(Xe=="assistant"&&Array.isArray(Ct)&&Ct.length==1){let Pt=Ct[0];if(Pt.type=="text"&&Pt.text===""&&++H<=5){pe("Empty response",H),await zw(5*H);continue}}}H=0;for(let{toolName:Xe,args:Ct}of Re){let Pt=fo[Xe];Pt!=null&&Pt.finalize&&await Pt.finalize(Ct,e)}if(b.push(...Ue.messages),rt.length){Q=0;for(let Xe of rt)if(Xe.toolName==r)return Xe.args}else if(r){if(++Q>3)throw new Error(`Unable to call ${r} tool`);pe("Unexpected stop",Q,{name:r}),await zw(5*Q),b.push({role:"user",content:`Reply using ${r} tool`})}else return}}async function bs(e,t,r,n=""){return n&&(e.stream.markdown(""),e.stream.progress(n)),F0(e,r,t.name)}function Lu(e){let t=e.messages.concat();return{restore(){e.messages.length=0,e.messages.push(...t)}}}function Tm(e,t,r=""){let n=e.messages;if(!t&&r){n.push({role:"assistant",content:r});return}let s=n.pop();if(s.role=="system"||s.role=="assistant")n.push(s,{role:"user",content:t||"?"});else if(s.role=="tool"){let u=s.content.slice();u.push({...u.pop(),result:t}),n.push({role:"tool",content:u})}else if(s.role=="user"){let{content:u}=s;u=Array.isArray(u)?u.slice():[{type:"text",text:u}],u.push({type:"text",text:t}),n.push({role:"user",content:u})}else throw new Error("Unsupported prompt structure");r&&n.push({role:"assistant",content:r})}async function zw(e){return new Promise(t=>setTimeout(t,e*1e3))}var yy=require("vscode");var{evaluation:U0}=fo,OR=()=>`
    Evaluate the task and reply using ${U0.name} tool, taking into account the included documents (if any)
`,Vw=U0.compute;async function Hw(e){let t=Lu(e),r=await bs(e,U0,OR(),"Deciding next steps...");return t.restore(),r}var my=require("vscode");var{editor:MR,question:LR,summary:vy,followups:Ww}=fo,{fs:Kw}=my.workspace,FR=(e,t)=>`
    Use ${MR.name} tool to create requirements document in the ${e}/ directory.
    Clarify the request, removing any ambiguities or omissions.
    Use ${LR.name} tool to obtain the missing information.
    For the existing project, include implied requirements derived from the project configuration and context.
    Focus strictly on the requirements - DO NOT try to design the solution, define data structures or write some code at this point.
    Adjust the content and structure according to the task complexity (should very short and simple for trivial tasks).
    Produce a minimal, but complete document, do not leave any open questions for the future.

    Also consider the suggestions below:
    <suggestions>
      ${t}
    </suggestions>

    Use a very dense, concise, minimalist writing style.
    Provide a short summary using ${vy.name} tool.
`,UR=(e,t)=>`Read the existing requirements document(s):
    <document-filenames>
      ${e}
    </document-filenames>

    Make the following changes in the document(s):
    <changes>
      ${t}
    </changes>

    Modify the document(s), then deliver a very short summary using ${vy.name} tool.
`,jR=()=>`
    Carefully review the requirements document to find any missing elements.
    Add or correct any significant items and remove anything that is not strictly necessary.
    Focus strictly on the requirements - DO NOT try to design the solution, define data structures or write some code at this point.
`,YR=()=>`
    Suggest possible high-level modifications which may make the requirements more clear and easy to understand. 
    For example, increase or decrease detalization, add/remove sections, split/merge sections etc.
    Offer them as followup actions using ${Ww.name} tool.
    Never ever include any other actions, only modifications of the requirements.
`;async function Jw(e,t,r){e.shared.phase="clarify";let n=Lu(e),s=new Set;for(let[u]of await Kw.readDirectory(Rn(t)))s.add(u);for(await bs(e,vy,FR(t,r),"Clarifying requirements...");!e.shared.auto;){let u=Lu(e),{actions:h}=await bs(e,Ww,YR());u.restore();let b=["auto","improve","next"],N=h.map(H=>({command:"",prompt:H,label:H}));N.push({command:"improve",prompt:"",label:"\u2B6E\xA0 review and improve"}),N.push({command:"auto",prompt:"",label:"\u2A20\xA0 auto-run to completion"}),N.push({command:"next",prompt:"",label:"\u25B7\xA0 next step (Enter)"});let P=await Lp(e,{commands:b,followups:N});if(n.restore(),P.command=="next"||P.command=="auto"||!P.prompt&&!P.command)break;let j=[];for(let[H,Q]of await Kw.readDirectory(Rn(t)))Q&my.FileType.File&&!s.has(H)&&j.push(t+"/"+H);r=P.command=="improve"?jR():P.prompt,await bs(e,vy,UR(j,r),"Updating requirements...")}e.shared.phase=""}var _y=require("vscode");var{editor:$R,summary:hy,followups:Xw}=fo,{fs:Zw}=_y.workspace,qR=e=>`
    Use ${$R.name} tool to create solution design document(s) in the ${e}/ directory.
    Analyze the current project, do the research and design the solution.
    Your goal is to find the most simple solution, very easy to understand and maintain. 
    Only include the features which are explicitely required. Skip anything that can be added at a later stage.
    Adjust the content and structure of the spec according to the task complexity (should very short and simple for trivial tasks).
    Apply a very dense, concise, minimalist writing style.
    Provide a short specification summary using ${hy.name} tool.
`,BR=(e,t)=>`Read the existing design document(s):
    <document-filenames>
      ${e}
    </document-filenames>

    Make the following changes in the document(s):
    <changes>
      ${t}
    </changes>

    Modify the document(s), then deliver a very short summary using ${hy.name} tool.
`,zR=()=>`
    Carefully review the design document(s) to find any missing elements.
    Add or correct any significant items and remove anything that is not strictly necessary.
    Focus strictly on the solution design - DO NOT try to write code, DO NOT make step-by-step plan at this point.
`,GR=()=>`
    Suggest possible high-level modifications which may make the solution design more clear and easy to understand. 
    For example, increase or decrease detalization, add/remove sections, split/merge sections etc.
    Offer them as followup actions using ${Xw.name} tool.
    Never ever include any other actions, only modifications of the solution design.
`;async function Qw(e,t,r){e.shared.phase="design";let n=Lu(e),s=new Set;for(let[u]of await Zw.readDirectory(Rn(t)))s.add(u);for(await bs(e,hy,qR(t),"Designing solution...");!e.shared.auto;){let u=Lu(e),{actions:h}=await bs(e,Xw,GR());u.restore();let b=["auto","improve","next"],N=h.map(Q=>({command:"",prompt:Q,label:Q}));N.push({command:"improve",prompt:"",label:"\u2B6E\xA0 review and improve"}),N.push({command:"auto",prompt:"",label:"\u2A20\xA0 auto-run to completion"}),N.push({command:"next",prompt:"",label:"\u25B7\xA0 next step (Enter)"});let P=await Lp(e,{commands:b,followups:N});if(n.restore(),P.command=="next"||P.command=="auto"||!P.prompt&&!P.command)break;let j=[];for(let[Q,pe]of await Zw.readDirectory(Rn(t)))pe&_y.FileType.File&&!s.has(Q)&&j.push(t+"/"+Q);let H=P.command=="improve"?zR():P.prompt;await bs(e,hy,BR(j,H),"Updating design...")}e.shared.phase=""}var zh=require("vscode");var{list:gy,followups:eI}=fo,VR=()=>`
    Split the task into smaller, more manageable steps and present them using the ${gy.name} tool.
    The list should contain task steps. If the work is very small, use just one single step.
    Each step has a name (header) and a specification of the work to do in this step.
    Strictly follow the requirements and design documents if available.
    Take into account the changes made in the previous tasks.
    Carefully think through all steps and mentally verify the proposed implementation.
    Follow KISS, YAGNI and SOLID principles, focus on simplicity above all other things.
    Use a very dense, concise, minimalist writing style.
`,HR=(e,t)=>`Read the existing implementation plan:
    <document-filename>
      ${e}/implementation_plan.md
    </document-filename>

    Make the following changes in the plan:
    <changes>
      ${t}
    </changes>

    Modify the plan, then present it using the ${gy.name} tool.
    The list should contain task steps. If the work is very small, use just one single step.
    Each step has a name (header) and a specification of the work to do in this step.
    Strictly follow the requirements and design documents if available.
    Take into account the changes made in the previous tasks.
    Carefully think through all steps and mentally verify the proposed implementation.
    Follow KISS, YAGNI and SOLID principles.
`,KR=()=>`
    Carefully analyse each section of the plan to identify any inconsistencies or logical errors. 
    Check for edge cases, cross-dependencies and anything, that can affect successful implementation.
`,WR=()=>`
    Suggest possible high-level modifications which may improve this implementation plan. 
    For example, increase or decrease detalization, add/remove sections, split/merge sections etc.
    Offer them as followup actions using ${eI.name} tool.
    Never ever include any other actions, only modifications of the implementation plan.
`,JR=({title:e,items:t})=>`# ${e}

${t.map(({header:r,content:n})=>`## ${r}

${n}

`).join("")}
`;function ZR(e,t,r){r.stream.button({title:"Edit",command:"multicoder.action",arguments:[n],tooltip:"Click to edit the plan"});async function n(){let s=await zh.workspace.openTextDocument(t);zh.window.showTextDocument(s)}r.stream.markdown(`
`+e.comments+`
`)}async function XR(e,t,r){if(await Af(r)==t)return;let s=await zh.commands.executeCommand("vscode.executeDocumentSymbolProvider",r);if(!s||s.length===0)return;let u=await zh.workspace.openTextDocument(r),h=s[0],b=h.name.replace(/^[#\s]+/,""),N=h.children.map(({name:P,range:j})=>({header:P.replace(/^[#\s]+/,""),content:u.getText(j).slice(P.length).trim()}));e.title=b,e.items=N}async function tI(e,t,r){e.shared.phase="plan";let n=Lu(e),s=await bs(e,gy,VR(),"Planning..."),u=Rn(t+"/implementation_plan.md");for(;;){let h=JR(s);if(await Ng(u,h),e.shared.auto)break;ZR(s,u,e);let b=Lu(e),{actions:N}=await bs(e,eI,WR());b.restore();let P=["auto","improve","next"],j=N.map(Q=>({command:"",prompt:Q,label:Q}));j.push({command:"improve",prompt:"",label:"\u2B6E\xA0 review and improve"}),j.push({command:"auto",prompt:"",label:"\u2A20\xA0 auto-run to completion"}),j.push({command:"next",prompt:"",label:"\u25B7\xA0 next step (Enter)"});let H=await Lp(e,{commands:P,followups:j});if(n.restore(),H.command=="next"||H.command=="auto"||!H.prompt&&!H.command){await XR(s,h,u);break}r=H.command=="improve"?KR():H.prompt,s=await bs(e,gy,HR(t,r),"Updating planning...")}return e.shared.phase="",s}var wm=require("vscode");var{summary:vg}=fo,QR=()=>`
    Implement the task, then deliver the summary using ${vg.name} tool.
`,ek=e=>`
    We have now implemented all the steps of the plan:
    <implemented>
    ${e.title}
    </implemented>
    Deliver the summary of this work using ${vg.name} tool.
`,tk=(e,t,r,n)=>`Step ${e+1} (${t}) is now completed.

${r}

${n.length?"Completed changes:":""}
${n.map(({summary:s,path:u})=>`- ${s} ( ${u} )`).join(`
`)}
`,rk=(e,t)=>`We will now work on the step ${t+1}:

## ${e.header}

${e.content}
`,nk=(e,t,r)=>`
<table><tr><th> $(list-tree) ${e} (${t+1}/${r})</th></tr></table>
`;async function j0(e,t,r,n,s){let u=null,h=e.shared.edits.length;if(!r||r.items.length==1)u=await bs(e,vg,QR());else{Tm(e,"",`Do you want me to work on ${r.title}?`);for(let b=0;b<r.items.length;b++){let N=Lu(e),P=r.items[b],j=P.header.replace(/^[\d\.\s]+/,""),H=e.shared.edits.length,Q=new wm.MarkdownString("");Q.supportHtml=!0,Q.supportThemeIcons=!0,Q.appendMarkdown(nk(j,b,r.items.length)),e.stream.markdown(Q),Tm(e,rk(P,b));let pe=await Y0(e,n+1,s+"/"+(b+1),j);N.restore();let ce=e.shared.edits.slice(H);Tm(e,tk(b,j,pe.text,ce))}u=await bs(e,vg,ek(r))}if(e.shared.auto&&n)return u;for(;;){let b=e.shared.edits.slice(h);if(b.length>1&&await ak(e,b,t||(r==null?void 0:r.title)||"Task completed"),!n)return u;let j=await Lp(e,{commands:["auto","next"],followups:[{command:"auto",prompt:"",label:"\u2A20\xA0 auto-run to completion"},{command:"next",prompt:"",label:"\u25B7\xA0 next step (Enter)"}]});if(j.command=="next"||j.command=="auto")return u;h=e.shared.edits.length,await bs(e,vg,j.prompt)}}async function ak(e,t,r){let n=new wm.MarkdownString(`

`),s=(...Q)=>`command:multicoder.diffView?${encodeURIComponent(JSON.stringify(Q))}`,u=Q=>`<span class="codicon codicon-${Q}" style="color:var(--vscode-foreground);"></span>`;n.supportThemeIcons=!0,n.isTrusted={enabledCommands:["multicoder.diffView"]},n.supportHtml=!0,n.appendMarkdown(`<h3>${u("check")} ${r}</h3>

`),t.forEach(({summary:Q,path:pe,id:ce})=>{n.appendMarkdown(`- [${Q}](${s(pe,ce,e.id)} 'Open Diff')
`)}),n.appendMarkdown(`

`),e.stream.markdown(n),e.stream.button({title:"Apply All",command:"multicoder.action",arguments:[H],tooltip:"Click to apply changes, click again to revert"});let h=new Set(t.map(({path:Q})=>Q)),b=F_(),N=new Map;async function P(Q){try{return await Af(Q)}catch{return""}}for(let Q of h.values()){let pe="",ce="",se=Rn(Q),ue=Ou(se);b.find(Ne=>Ne.path===ue.path)?pe=(await wm.workspace.openTextDocument(ue)).getText():pe=await P(ue),ce=await P(se),N.set(Q,{before:pe,after:ce})}let j=!1;async function H(){let Q=new wm.WorkspaceEdit;for(let pe of h.values()){let{before:ce,after:se}=N.get(pe)||{},ue=Ou(Rn(pe));ce||(ue=ue.with({scheme:"untitled"}));let Ne=await wm.workspace.openTextDocument(ue),Ue=Ne.lineAt(0).range.union(Ne.lineAt(Ne.lineCount-1).range),rt=Ne.getText(),Re=j?ce:se;rt!==Re&&Q.replace(ue,Ue,Re)}await wm.workspace.applyEdit(Q),j=!j,e.log.info(r,{event:"action.all"})}}var{fs:ik}=yy.workspace,ok=".documents/task",sk=(e,t,r)=>`<document filename="${r}/${t}">
${e}
</document>
`;async function Y0(e,t=0,r=ok,n=""){let s=Lu(e),u=0,h=0,b=null;for(;;){s.restore(),e.shared.phase="";for(let[j,H]of await ik.readDirectory(Rn(r)))if(H&yy.FileType.File){let Q=await Af(Rn(r+"/"+j));Tm(e,sk(Q,j,r))}if(b)return await j0(e,n,b,t,r);let N="implement",P="";switch(e.request.command){case"chat":return{};case"spec":N="clarify";break;case"design":N="design";break;case"plan":N="plan";break;default:let j=await Hw(e),[H,Q,pe]=Vw(j);if(P=j.suggestions,j.architecturalScale==0&&!t)return{};j.splitIntoParts&&(N="plan"),j.designSolution&&!h&&(N="design"),j.clarifyRequirements&&!u&&!h&&!t&&(N="clarify"),!h&&Q>2.5&&N!="clarify"&&(N="design"),pe>2&&N=="implement"&&(N="plan")}if(N=="clarify"){await Jw(e,r,P),++u;continue}if(N=="design"){await Qw(e,r,P),++h;continue}if(N=="plan"){b=await tI(e,r,P);continue}return await j0(e,n,null,t,r)}}var uk=e=>`We have a new request:
<request>
${e}
</request>
`;async function rI(e){let t=e.request.prompt,r=Lu(e);Tm(e,uk(t)),(await Y0(e)).text?Tm(e,""," "):(r.restore(),await F0(e,t))}var aI=require("vscode"),ck=()=>`
Multicoder can work with LLM models provided by **GitHub Copilot** (default configuration) or 
send requests directly to the core provider APIs (**Anthropic**, **OpenAI**).

If you have your own API key and want to use it instead of the Github models, select 'Core Providers' in the Model Provider dropdown (settings panel)
and set your API key(s) using the buttons below.

`;async function nI(e,t){var n;let r=await e.ext.secrets.get(t)||((n=process==null?void 0:process.env)==null?void 0:n[t]);return r&&r.slice(0,12)+"..."+r.slice(-4)}async function $0(e){let{stream:t,telemetry:r}=e;aI.commands.executeCommand("workbench.action.openSettings","@ext:multicoder.multicoder"),r.logUsage("config"),t.markdown(ck());let n=await nI(e,"ANTHROPIC_API_KEY");t.markdown(`Anthropic API key: ${n}`),t.button({command:"multicoder.storeApiKey",title:"Set Anthropic key",arguments:["ANTHROPIC_API_KEY","Anthropic API key"]}),t.markdown(`

`);let s=await nI(e,"OPENAI_API_KEY");t.markdown(`OpenAI API key: ${s}`),t.button({command:"multicoder.storeApiKey",title:"Set OpenAI key",arguments:["OPENAI_API_KEY","OpenAI API key"]})}var iI,oI;async function lk(e){var Q,pe;let{request:t,ext:r,telemetry:n}=e,s=t.model.id,u=Rv.workspace.getConfiguration("multicoder"),h=u.get("modelProvider");if(s==iI&&h==oI&&e.model)return;iI=s,oI=h;let b=t.model.family;if(b.startsWith("o1")&&(b="gpt-4o"),h=="default"&&(h="copilot"),h=="copilot"){e.model=c0({id:b,provider:"copilot",apiKey:""}),n.logUsage("model",{model:b});return}if(h=="auto"&&(h=(Q=f0.find(ce=>ce.family==b))==null?void 0:Q.provider,!h))throw new Error("Cannot find model: "+b);let N=lE.find(ce=>ce.id==h),P=f0.find(ce=>ce.provider==h&&ce.family==b),{envKeyName:j}=N,H=await r.secrets.get(j)||((pe=process==null?void 0:process.env)==null?void 0:pe[j]);if(!H){await $0(e);return}e.model=c0({...P,apiKey:H}),n.logUsage("model",{model:b})}function fk({history:e}){for(let t=e.length-1;t>=0;t--){let r=e[t];if(r instanceof Rv.ChatResponseTurn){let{id:n,messages:s}=r.result.metadata||{};if(n)return[n,s]}}return[]}function sI(e){let{ext:t,log:r,recent:n}=e,s=Rv.chat.createChatParticipant("multicoder",async(N,P,j,H)=>{let[Q=Ig(),pe]=fk(P),ce=n.get(Q);if(!pe&&P.history.length){let se=P.history[0];ce=n.get(se.prompt)}pe=pe||[],ce||(ce={id:Q,messages:pe,shared:{},...e,request:{},chat:{},stream:{}},ce.log={...e.log,context:ce},n.set(Q,ce)),Q=ce.id,Object.assign(ce,{token:H}),Object.assign(ce.request,N),Object.assign(ce.chat,P),Object.assign(ce.stream,j),P.history.length||n.set(N.prompt,ce),b(ce.request);try{if(await lk(ce),!ce.model)return;if(N.command=="options")return await $0(ce),{metadata:{id:Q,messages:pe}};let se=await Gw(ce,rI)||{};return se.id=Q,se.messages=ce.messages,{metadata:se}}catch(se){throw r.error(se),ce.model=null,se}});s.iconPath=Rv.Uri.joinPath(t.extensionUri,"resources","multicoder.png"),s.onDidReceiveFeedback(({kind:N})=>{r.info(N?"Good":"Bad",{event:"feedback"})}),s.followupProvider={provideFollowups(N){var P;return h(N.metadata?N.metadata.commands:["auto","resume"]),((P=N.metadata)==null?void 0:P.followups)||[]}};let u=t.extension.packageJSON.contributes.chatParticipants[0].commands;function h(N){for(let{name:P,when:j}of u){let H=!!N&&N.includes(P)!=j.startsWith("!");Rv.commands.executeCommand("setContext",j.replace("!",""),H)}}function b(N){!N.command&&u.find(({name:P})=>"/"+P==N.prompt)&&(r.warn("Command not processed: "+N.prompt),N.command=N.prompt.slice(1),N.prompt="")}}function dk(e){let t={ext:e,config:uI.workspace.getConfiguration("multicoder"),log:null,telemetry:null,recent:new Map};MS(t),FS(t),jS(t),BS(t),sI(t)}function pk(){}0&&(module.exports={activate,deactivate});
/*! Bundled license information:

@microsoft/1ds-core-js/dist/es5/ms.core.js:
  (*!
   * 1DS JS SDK Core, 4.3.4
   * Copyright (c) Microsoft and contributors. All rights reserved.
   * (Microsoft Internal Only)
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.5 *)
  (*!
   * NevWare21 Solutions LLC - ts-async, 0.5.3
   * https://github.com/nevware21/ts-async
   * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
   * Licensed under the MIT license.
   *)

@microsoft/1ds-post-js/dist/es5/ms.post.js:
  (*!
   * 1DS JS SDK POST plugin, 4.3.4
   * Copyright (c) Microsoft and contributors. All rights reserved.
   * (Microsoft Internal Only)
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.5 *)
  (*!
   * NevWare21 Solutions LLC - ts-async, 0.5.3
   * https://github.com/nevware21/ts-async
   * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
   * Licensed under the MIT license.
   *)

@microsoft/applicationinsights-common/dist/es5/applicationinsights-common.js:
  (*!
   * Application Insights JavaScript SDK - Common, 3.3.4
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.5 *)

@microsoft/applicationinsights-web-basic/dist/es5/applicationinsights-web-basic.js:
  (*!
   * Application Insights JavaScript Web SDK - Basic, 3.3.4
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.5 *)
  (*!
   * NevWare21 Solutions LLC - ts-async, 0.5.3
   * https://github.com/nevware21/ts-async
   * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
   * Licensed under the MIT license.
   *)
*/
//# sourceMappingURL=extension.js.map
