var oN=Object.create;var Gg=Object.defineProperty;var sN=Object.getOwnPropertyDescriptor;var uN=Object.getOwnPropertyNames;var cN=Object.getPrototypeOf,lN=Object.prototype.hasOwnProperty;var Ld=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),YS=(e,t)=>{for(var r in t)Gg(e,r,{get:t[r],enumerable:!0})},$S=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let s of uN(t))!lN.call(e,s)&&s!==r&&Gg(e,s,{get:()=>t[s],enumerable:!(n=sN(t,s))||n.enumerable});return e};var s0=(e,t,r)=>(r=e!=null?oN(cN(e)):{},$S(t||!e||!e.__esModule?Gg(r,"default",{value:e,enumerable:!0}):r,e)),fN=e=>$S(Gg({},"__esModule",{value:!0}),e);var JS=Ld((Vk,WS)=>{function qS(e){return Array.isArray(e)?e:[e]}var f0="",BS=" ",c0="\\",vN=/^\s+$/,mN=/(?:[^\\]|^)\\$/,hN=/^\\!/,_N=/^\\#/,gN=/\r?\n/g,yN=/^\.*\/|^\.+$/,l0="/",GS="node-ignore";typeof Symbol<"u"&&(GS=Symbol.for("node-ignore"));var HS=GS,SN=(e,t,r)=>Object.defineProperty(e,t,{value:r}),wN=/([0-z])-([0-z])/g,VS=()=>!1,bN=e=>e.replace(wN,(t,r,n)=>r.charCodeAt(0)<=n.charCodeAt(0)?t:f0),EN=e=>{let{length:t}=e;return e.slice(0,t-t%2)},TN=[[/^\uFEFF/,()=>f0],[/((?:\\\\)*?)(\\?\s+)$/,(e,t,r)=>t+(r.indexOf("\\")===0?BS:f0)],[/(\\+?)\s/g,(e,t)=>{let{length:r}=t;return t.slice(0,r-r%2)+BS}],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,r)=>t+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)(\\\*)+(?=.+)/g,(e,t,r)=>{let n=r.replace(/\\\*/g,"[^\\/]*");return t+n}],[/\\\\\\(?=[$.|*+(){^])/g,()=>c0],[/\\\\/g,()=>c0],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,r,n,s)=>t===c0?`\\[${r}${EN(n)}${s}`:s==="]"&&n.length%2===0?`[${bN(r)}${n}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>`${t?`${t}[^/]+`:"[^/]*"}(?=$|\\/$)`]],zS=Object.create(null),IN=(e,t)=>{let r=zS[e];return r||(r=TN.reduce((n,[s,u])=>n.replace(s,u.bind(e)),e),zS[e]=r),t?new RegExp(r,"i"):new RegExp(r)},v0=e=>typeof e=="string",NN=e=>e&&v0(e)&&!vN.test(e)&&!mN.test(e)&&e.indexOf("#")!==0,DN=e=>e.split(gN),d0=class{constructor(t,r,n,s){this.origin=t,this.pattern=r,this.negative=n,this.regex=s}},CN=(e,t)=>{let r=e,n=!1;e.indexOf("!")===0&&(n=!0,e=e.substr(1)),e=e.replace(hN,"!").replace(_N,"#");let s=IN(e,t);return new d0(r,e,n,s)},xN=(e,t)=>{throw new t(e)},xm=(e,t,r)=>v0(e)?e?xm.isNotRelative(e)?r(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${t}\``,TypeError),KS=e=>yN.test(e);xm.isNotRelative=KS;xm.convert=e=>e;var p0=class{constructor({ignorecase:t=!0,ignoreCase:r=t,allowRelativePaths:n=!1}={}){SN(this,HS,!0),this._rules=[],this._ignoreCase=r,this._allowRelativePaths=n,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[HS]){this._rules=this._rules.concat(t._rules),this._added=!0;return}if(NN(t)){let r=CN(t,this._ignoreCase);this._added=!0,this._rules.push(r)}}add(t){return this._added=!1,qS(v0(t)?DN(t):t).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,r){let n=!1,s=!1;return this._rules.forEach(u=>{let{negative:h}=u;if(s===h&&n!==s||h&&!n&&!s&&!r)return;u.regex.test(t)&&(n=!h,s=h)}),{ignored:n,unignored:s}}_test(t,r,n,s){let u=t&&xm.convert(t);return xm(u,t,this._allowRelativePaths?VS:xN),this._t(u,r,n,s)}_t(t,r,n,s){if(t in r)return r[t];if(s||(s=t.split(l0)),s.pop(),!s.length)return r[t]=this._testOne(t,n);let u=this._t(s.join(l0)+l0,r,n,s);return r[t]=u.ignored?u:this._testOne(t,n)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(t){return qS(t).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}},Vg=e=>new p0(e),PN=e=>xm(e&&xm.convert(e),e,VS);Vg.isPathValid=PN;Vg.default=Vg;WS.exports=Vg;if(typeof process<"u"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let e=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");xm.convert=e;let t=/^[a-z]:\//i;xm.isNotRelative=r=>t.test(r)||KS(r)}});var ow=Ld((Qg,iw)=>{(function(e,t){typeof Qg=="object"&&typeof iw<"u"?t(Qg):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.oneDS=e.oneDS||{}))})(Qg,function(e){"use strict";var t="function",r="object",n="undefined",s="prototype",u=Object,h=u[s];function S(a,c){return a||c}function I(a,c){return a[c]}var C=void 0,F=null,H="",ne="function",fe="object",ie="prototype",Q="__proto__",re="undefined",le="constructor",he="Symbol",je="_polyfill",Ee="length",ze="name",_t="call",at="toString",Dt=S(Object),st=I(Dt,ie),Ut=S(String),jr=I(Ut,ie),Ca=S(Math),ma=S(Array),Or=I(ma,ie),gn=I(Or,"slice");function nt(a,c){try{return{v:a.apply(this,c)}}catch(p){return{e:p}}}function Ni(a,c){var p=nt(a);return p.e?c:p.v}var Ye;function Er(a){return function(c){return typeof c===a}}function Bn(a){var c="[object "+a+"]";return function(p){return!!(p&&zt(p)===c)}}function zt(a){return st[at].call(a)}function It(a,c){return typeof a===c}function tt(a){return typeof a===re||a===re}function Xn(a){return!Vt(a)}function rt(a){return a===F||tt(a)}function su(a){return a===F||!Vt(a)}function Vt(a){return!!a||a!==C}function Ho(a){return!Ye&&(Ye=["string","number","boolean",re,"symbol","bigint"]),a!==fe&&Ye.indexOf(a)!==-1}var Gt=Er("string"),er=Er(ne);function Qn(a){return!a&&rt(a)?!1:!!a&&typeof a===fe}var Ct=I(ma,"isArray"),ln=Bn("Date"),ir=Er("number"),lt=Er("boolean"),Et=Bn("Error");function Mr(a){return!!(a&&a.then&&er(a.then))}function Un(a){return!a||!Za(a)}function Za(a){return!(!a||Ni(function(){return!(a&&0+a)},!a))}var an=I(Dt,"getOwnPropertyDescriptor");function En(a,c){return!!a&&st.hasOwnProperty[_t](a,c)}var Vi=S(I(Dt,"hasOwn"),ia);function ia(a,c){return En(a,c)||!!an(a,c)}function Lr(a,c,p){if(a&&Qn(a)){for(var g in a)if(Vi(a,g)&&c[_t](p||a,g,a[g])===-1)break}}var Zt={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function cr(a){var c={};if(c[Zt.c]=!0,c[Zt.e]=!0,a.l){c.get=function(){return a.l.v};var p=an(a.l,"v");p&&p.set&&(c.set=function(g){a.l.v=g})}return Lr(a,function(g,b){c[Zt[g]]=Xn(b)?c[Zt[g]]:b}),c}var Xr=I(Dt,"defineProperty");function Ol(a,c,p,g,b,x){var k={e:x,c:b};return p&&(k.g=p),g&&(k.s=g),Xr(a,c,cr(k))}function Hn(a,c,p){return Xr(a,c,cr(p))}function Ml(a,c,p,g,b){var x={};return Lr(a,function(k,P){mo(x,k,c?P:k,b),mo(x,P,p?P:k,b)}),g?g(x):x}function mo(a,c,p,g){Xr(a,c,{value:p,enumerable:!0,writable:!!g})}var Rn=S(Ut),As="[object Error]";function tr(a,c){var p=H,g=st[at][_t](a);g===As&&(a={stack:Rn(a.stack),message:Rn(a.message),name:Rn(a.name)});try{p=JSON.stringify(a,F,c?typeof c=="number"?c:4:C),p=(p?p.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):F)||Rn(a)}catch(b){p=" - "+tr(b,c)}return g+": "+p}function jn(a){throw new Error(a)}function Xa(a){throw new TypeError(a)}var Qa=I(Dt,"freeze");function ei(a){return a}function Mf(a){return a[Q]||F}var Uc=I(Dt,"assign"),mi=I(Dt,"keys");function uu(a){return Qa&&Lr(a,function(c,p){(Ct(p)||Qn(p))&&uu(p)}),Ki(a)}var Ki=S(Qa,ei),cu=S(I(Dt,"seal"),ei),ha=S(I(Dt,"getPrototypeOf"),Mf);function zn(a){return Ml(a,1,0,Ki)}function Bu(a){return Ml(a,0,0,Ki)}var lu=Bu({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),Ll="__tsUtils$gblCfg",_a;function Cr(){var a;return typeof globalThis!==re&&(a=globalThis),!a&&typeof self!==re&&(a=self),!a&&typeof window!==re&&(a=window),!a&&typeof global!==re&&(a=global),a}function yn(){if(!_a){var a=nt(Cr).v||{};_a=a[Ll]=a[Ll]||{}}return _a}var en=xa;function xa(a,c,p){var g=c?c[a]:F;return function(b){var x=(b?b[a]:F)||g;if(x||p){var k=arguments;return(x||p).apply(b,x?gn[_t](k,1):k)}Xa('"'+Rn(a)+'" not defined for '+tr(b))}}function ho(a){return function(c){return c[a]}}var Hu=I(Ca,"max"),hi=en("slice",jr),Kr=en("substring",jr),_o=xa("substr",jr,zo);function zo(a,c,p){return rt(a)&&Xa("Invalid "+tr(a)),p<0?H:(c=c||0,c<0&&(c=Hu(c+a[Ee],0)),tt(p)?hi(a,c):hi(a,c,c+p))}function Gn(a,c){return Kr(a,0,c)}var Go="_urid",fu;function ti(){if(!fu){var a=yn();fu=a.gblSym=a.gblSym||{k:{},s:{}}}return fu}var fn;function ea(a){var c={description:Rn(a),toString:function(){return he+"("+a+")"}};return c[je]=!0,c}function zu(a){var c=ti();if(!Vi(c.k,a)){var p=ea(a),g=mi(c.s).length;p[Go]=function(){return g+"_"+p[at]()},c.k[a]=p,c.s[p[Go]()]=Rn(a)}return c.k[a]}function _i(a){!fn&&(fn={});var c,p=lu[a];return p&&(c=fn[p]=fn[p]||ea(he+"."+p)),c}var Tr;function ga(){Tr=yn()}function Lf(a){var c={};return!Tr&&ga(),c.b=Tr.lzy,Xr(c,"v",{configurable:!0,get:function(){var p=a();return Tr.lzy||Xr(c,"v",{value:p}),c.b=Tr.lzy,p}}),c}function Pa(a){return Xr({toJSON:function(){return a}},"v",{value:a})}var Vo="window",jc;function Ko(a,c){var p;return function(){return!Tr&&ga(),(!p||Tr.lzy)&&(p=Pa(nt(a,c).v)),p.v}}function Ff(a){return!Tr&&ga(),(!jc||a===!1||Tr.lzy)&&(jc=Pa(nt(Cr).v||F)),jc.v}function on(a,c){var p;if(!jc||c===!1?p=Ff(c):p=jc.v,p&&p[a])return p[a];if(a===Vo)try{return window}catch{}return F}function Fl(){return!!ri()}var ri=Ko(on,["document"]);function $d(){return!!ta()}var ta=Ko(on,[Vo]);function Zp(){return!!gi()}var gi=Ko(on,["navigator"]);function Ul(){return!!Wi()}var Wi=Ko(on,["history"]),Uf=Ko(function(){return!!nt(function(){return process&&(process.versions||{}).node}).v}),_r,Wo;function jf(){return _r=Pa(nt(on,[he]).v),_r}function Ya(a){var c=(Tr.lzy?0:_r)||jf();return c.v?c.v[a]:C}function Yc(){return!!kt()}function kt(){return!Tr&&ga(),((Tr.lzy?0:_r)||jf()).v}function yi(a,c){var p=lu[a];!Tr&&ga();var g=(Tr.lzy?0:_r)||jf();return g.v?g.v[p||a]:c?C:_i(a)}function Gu(a,c){!Tr&&ga();var p=(Tr.lzy?0:_r)||jf();return p.v?p.v(a):c?F:ea(a)}function jl(a){return!Tr&&ga(),Wo=(Tr.lzy?0:Wo)||Pa(nt(Ya,["for"]).v),(Wo.v||zu)(a)}function Gv(a){return!!a&&er(a.next)}function Di(a){return!su(a)&&er(a[yi(3)])}var Yl;function qd(a,c,p){if(a&&(Gv(a)||(!Yl&&(Yl=Pa(yi(3))),a=a[Yl.v]?a[Yl.v]():F),Gv(a))){var g=C,b=C;try{for(var x=0;!(b=a.next()).done&&c[_t](p||a,b.value,x,a)!==-1;)x++}catch(k){g={e:k},a.throw&&(b=F,a.throw(g))}finally{try{b&&!b.done&&a.return&&a.return(b)}finally{if(g)throw g.e}}}}function du(a,c,p){return a.apply(c,p)}function Ci(a,c){return!tt(c)&&a&&(Ct(c)?du(a.push,a,c):Gv(c)||Di(c)?qd(c,function(p){a.push(p)}):a.push(c)),a}function ft(a,c,p){if(a)for(var g=a[Ee]>>>0,b=0;b<g&&!(b in a&&c[_t](p||a,a[b],b,a)===-1);b++);}var ya=en("indexOf",Or),pu=en("map",Or);function Rs(a,c,p){return((a?a.slice:F)||gn).apply(a,gn[_t](arguments,1))}function Bd(a,c,p){return ya(a,c,p)!==-1}var Hd=xa("includes",Or,Bd),Sn=en("reduce",Or),Si=S(I(Dt,"create"),zd);function zd(a){if(!a)return{};var c=typeof a;c!==fe&&c!==ne&&Xa("Prototype must be an Object or function: "+tr(a));function p(){}return p[ie]=a,new p}var xi;function ni(a,c){var p=Dt.setPrototypeOf||function(g,b){var x;!xi&&(xi=Pa((x={},x[Q]=[],x instanceof Array))),xi.v?g[Q]=b:Lr(b,function(k,P){return g[k]=P})};return p(a,c)}function Hm(a,c,p){nt(Hn,[c,ze,{v:a,c:!0,e:!1}]),c=ni(c,p);function g(){this[le]=c,nt(Hn,[this,ze,{v:a,c:!0,e:!1}])}return c[ie]=p===F?Si(p):(g[ie]=p[ie],new g),c}function Vv(a,c){c&&(a[ze]=c)}function Xp(a,c,p){var g=p||Error,b=g[ie][ze],x=Error.captureStackTrace;return Hm(a,function(){var k=this,P=arguments;try{nt(Vv,[g,a]);var M=du(g,k,gn[_t](P))||k;if(M!==k){var j=ha(k);j!==ha(M)&&ni(M,j)}return x&&x(M,k[le]),c&&c(M,P),M}finally{nt(Vv,[g,b])}},g)}function vu(){return(Date.now||Qp)()}function Qp(){return new Date().getTime()}function bh(a){return function(p){return rt(p)&&Xa("strTrim called ["+tr(p)+"]"),p&&p.replace&&(p=p.replace(a,H)),p}}var Gd=bh(/^\s+|(?=\s)\s+$/g),$a=xa("trim",jr,Gd),$l,ql,Ji;function wi(a){if(!a||typeof a!==fe)return!1;Ji||(Ji=$d()?ta():!0);var c=!1;if(a!==Ji){ql||($l=Function[ie][at],ql=$l[_t](Dt));try{var p=ha(a);c=!p,c||(En(p,le)&&(p=p[le]),c=!!(p&&typeof p===ne&&$l[_t](p)===ql))}catch{}}return c}function mu(a){return a.value&&rv(a),!0}var ev=[Yf,rv,tv,Kd];function Pi(a,c,p,g){var b;return ft(a,function(x){if(x.k===c)return b=x,-1}),b||(b={k:c,v:c},a.push(b),g(b)),b.v}function Vd(a,c,p,g){var b=p.handler,x=p.path?g?p.path.concat(g):p.path:[],k={handler:p.handler,src:p.src,path:x},P=typeof c,M=!1,j=c===F;j||(c&&P===fe?M=wi(c):j=Ho(P));var z={type:P,isPrim:j,isPlain:M,value:c,result:c,path:x,origin:p.src,copy:function(J,K){return Vd(a,J,K?k:p,K)},copyTo:function(J,K){return hu(a,J,K,k)}};return z.isPrim?b&&b[_t](p,z)?z.result:c:Pi(a,c,x,function(J){Hn(z,"result",{g:function(){return J.v},s:function(X){J.v=X}});for(var K=0,ee=b;!(ee||(K<ev.length?ev[K++]:mu))[_t](p,z);)ee=F})}function hu(a,c,p,g){if(!rt(p))for(var b in p)c[b]=Vd(a,p[b],g,b);return c}function $c(a,c,p){var g={handler:p,src:c,path:[]};return hu([],a,c,g)}function Bl(a,c){var p={handler:c,src:a};return Vd([],a,p)}function Yf(a){var c=a.value;if(Ct(c)){var p=a.result=[];return p.length=c.length,a.copyTo(p,c),!0}return!1}function Kd(a){var c=a.value;return ln(c)?(a.result=new Date(c.getTime()),!0):!1}function tv(a){return a.type===ne}function rv(a){var c=a.value;if(c&&a.isPlain){var p=a.result={};return a.copyTo(p,c),!0}return!1}function _u(a,c){return ft(c,function(p){$c(a,p)}),a}function Wd(a,c,p,g,b,x,k){return _u(Bl(a)||{},gn[_t](arguments))}var ks=ho(Ee),Vu;function Ai(){return!Tr&&ga(),(!Vu||Tr.lzy)&&(Vu=Pa(nt(on,["performance"]).v)),Vu.v}function Hl(){var a=Ai();return a&&a.now?a.now():vu()}var $f=xa("endsWith",jr,qc);function qc(a,c,p){Gt(a)||Xa("'"+tr(a)+"' is not a string");var g=Gt(c)?c:Rn(c),b=!tt(p)&&p<a[Ee]?p:a[Ee];return Kr(a,b-g[Ee],b)===g}var Zi=en("indexOf",jr),Kv=xa("startsWith",jr,Jo);function Jo(a,c,p){Gt(a)||Xa("'"+tr(a)+"' is not a string");var g=Gt(c)?c:Rn(c),b=p>0?p:0;return Kr(a,b,b+g[Ee])===g}var go="ref",Xi="unref",gu="hasRef",qf="enabled";function Bc(a,c,p){var g=!0,b=a?c(F):F,x;function k(){return g=!1,b&&b[Xi]&&b[Xi](),x}function P(){b&&p(b),b=F}function M(){return b=c(b),g||k(),x}function j(z){!z&&b&&P(),z&&!b&&M()}return x={cancel:P,refresh:M},x[gu]=function(){return b&&b[gu]?b[gu]():g},x[go]=function(){return g=!0,b&&b[go]&&b[go](),x},x[Xi]=k,x=Xr(x,qf,{get:function(){return!!b},set:j}),{h:x,dn:function(){b=F}}}function Hc(a,c,p){var g=Ct(c),b=g?c.length:0,x=(b>0?c[0]:g?C:c)||setTimeout,k=(b>1?c[1]:C)||clearTimeout,P=p[0];p[0]=function(){M.dn(),du(P,C,gn[_t](arguments))};var M=Bc(a,function(j){if(j){if(j.refresh)return j.refresh(),j;du(k,C,[j])}return du(x,C,p)},function(j){du(k,C,[j])});return M.h}function Ku(a,c){return Hc(!0,C,gn[_t](arguments))}function Bf(a,c){return Hc(!1,C,gn[_t](arguments))}(Ff()||{}).Symbol,(Ff()||{}).Reflect;var zl="hasOwnProperty",Hf=function(a,c){return Hf=u.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,g){p.__proto__=g}||function(p,g){for(var b in g)g[zl](b)&&(p[b]=g[b])},Hf(a,c)};function Wu(a,c){typeof c!==t&&c!==null&&Xa("Class extends value "+String(c)+" is not a constructor or null"),Hf(a,c);function p(){this.constructor=a}a[s]=c===null?Si(c):(p[s]=c[s],new p)}function Qi(a,c){for(var p=0,g=c.length,b=a.length;p<g;p++,b++)a[b]=c[p];return a}var zc,yo="constructor",bi="prototype",Zo="function",Zr="_dynInstFuncs",Os="_isDynProxy",eo="_dynClass",Gc="_dynCls$",Vc="_dynInstChk",Xo=Vc,Gl="_dfOpts",Qo="_unknown_",yu="__proto__",ai="_dyn"+yu,Jd="__dynProto$Gbl",Ju="_dynInstProto",qa="useBaseInst",zf="setInstFuncs",Zd=Object,Vl=Zd.getPrototypeOf,Kl=Zd.getOwnPropertyNames,Xd=Ff(),Wv=Xd[Jd]||(Xd[Jd]={o:(zc={},zc[zf]=!0,zc[qa]=!0,zc),n:1e3});function Zu(a){return a&&(a===Zd[bi]||a===Array[bi])}function So(a){return Zu(a)||a===Function[bi]}function to(a){var c;if(a){if(Vl)return Vl(a);var p=a[yu]||a[bi]||(a[yo]?a[yo][bi]:null);c=a[ai]||p,En(a,ai)||(delete a[Ju],c=a[ai]=a[Ju]||a[ai],a[Ju]=p)}return c}function wn(a,c){var p=[];if(Kl)p=Kl(a);else for(var g in a)typeof g=="string"&&En(a,g)&&p.push(g);if(p&&p.length>0)for(var b=0;b<p.length;b++)c(p[b])}function Wl(a,c,p){return c!==yo&&typeof a[c]===Zo&&(p||En(a,c))&&c!==yu&&c!==bi}function Xu(a){Xa("DynamicProto: "+a)}function Qu(a){var c=Si(null);return wn(a,function(p){!c[p]&&Wl(a,p,!1)&&(c[p]=a[p])}),c}function Qd(a,c){for(var p=a.length-1;p>=0;p--)if(a[p]===c)return!0;return!1}function Ri(a,c,p,g){function b(M,j,z){var J=j[z];if(J[Os]&&g){var K=M[Zr]||{};K[Xo]!==!1&&(J=(K[j[eo]]||{})[z]||J)}return function(){return J.apply(M,arguments)}}var x=Si(null);wn(p,function(M){x[M]=b(c,p,M)});for(var k=to(a),P=[];k&&!So(k)&&!Qd(P,k);)wn(k,function(M){!x[M]&&Wl(k,M,!Vl)&&(x[M]=b(c,k,M))}),P.push(k),k=to(k);return x}function Su(a,c,p,g){var b=null;if(a&&En(p,eo)){var x=a[Zr]||Si(null);if(b=(x[p[eo]]||Si(null))[c],b||Xu("Missing ["+c+"] "+Zo),!b[Vc]&&x[Xo]!==!1){for(var k=!En(a,c),P=to(a),M=[];k&&P&&!So(P)&&!Qd(M,P);){var j=P[c];if(j){k=j===g;break}M.push(P),P=to(P)}try{k&&(a[c]=b),b[Vc]=1}catch{x[Xo]=!1}}}return b}function Ms(a,c,p){var g=c[a];return g===p&&(g=to(c)[a]),typeof g!==Zo&&Xu("["+a+"] is not a "+Zo),g}function or(a,c,p,g,b){function x(M,j){var z=function(){var J=Su(this,j,M,z)||Ms(j,M,z);return J.apply(this,arguments)};return z[Os]=1,z}if(!Zu(a)){var k=p[Zr]=p[Zr]||Si(null);if(!Zu(k)){var P=k[c]=k[c]||Si(null);k[Xo]!==!1&&(k[Xo]=!!b),Zu(P)||wn(p,function(M){Wl(p,M,!1)&&p[M]!==g[M]&&(P[M]=p[M],delete p[M],(!En(a,M)||a[M]&&!a[M][Os])&&(a[M]=x(a,M)))})}}}function wo(a,c){if(Vl){for(var p=[],g=to(c);g&&!So(g)&&!Qd(p,g);){if(g===a)return!0;p.push(g),g=to(g)}return!1}return!0}function es(a,c){return En(a,bi)?a.name||c||Qo:((a||{})[yo]||{}).name||c||Qo}function ki(a,c,p,g){En(a,bi)||Xu("theClass is an invalid class definition.");var b=a[bi];wo(b,c)||Xu("["+es(a)+"] not in hierarchy of ["+es(c)+"]");var x=null;En(b,eo)?x=b[eo]:(x=Gc+es(a,"_")+"$"+Wv.n,Wv.n++,b[eo]=x);var k=ki[Gl],P=!!k[qa];P&&g&&g[qa]!==void 0&&(P=!!g[qa]);var M=Qu(c),j=Ri(b,c,M,P);p(c,j);var z=!!Vl&&!!k[zf];z&&g&&(z=!!g[zf]),or(b,x,c,M,z!==!1)}ki[Gl]=Wv.o;var Gf=100,Oi=zn,wu=Oi({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}),dn=Oi({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2}),ii="toLowerCase",Yr="blkVal",dt="length",ec="rdOnly",bo="notify",Ls="warnToConsole",ro="throwInternal",bu="setDf",Mi="watch",Hr="logger",Eo="apply",$r="push",To="splice",Vf="hdlr",Io="cancel",Yn="initialize",no="identifier",ts="removeNotificationListener",Aa="addNotificationListener",Ba="isInitialized",Kc="instrumentationKey",tc="INACTIVE",Kf="value",Fs="getNotifyMgr",No="getPlugin",Do="name",rc="iKey",Co="time",Vn="processNext",Wf="getProcessTelContext",nc="pollInternalLogs",Us="enabled",Ei="stopPollingInternalLogs",rs="unload",js="onComplete",Li="version",Wc="loggingLevelConsole",Eu="createNew",Sa="teardown",Tu="messageId",Ys="message",Fi="isAsync",ac="diagLog",pn="_doTeardown",oa="update",Ui="getNext",ic="setNextPlugin",ns="protocol",ep="userAgent",Ti="split",Jc="nodeType",Ra="replace",Jf="logInternalMessage",oi="type",as="handler",is="status",tp="getResponseHeader",Jl="getAllResponseHeaders",Zf="isChildEvt",Zl="data",xo="getCtx",si="setCtx",Zc="complete",Jv="itemsReceived",oc="urlString",sc="sendPOST",os="headers",Xl="timeout",zm="setRequestHeader",rp="traceId",Ql="spanId",uc="traceFlags",nv;function Zv(a,c){nv||(nv=Xp("AggregationError",function(g,b){b[dt]>1&&(g.errors=b[1])}));var p=a||"One or more errors occurred.";throw ft(c,function(g,b){p+=`
`.concat(b," > ").concat(tr(g))}),new nv(p,c||[])}var cc="Promise",Xv="rejected";function ef(a,c){return np(a,function(p){return c?c({status:"fulfilled",rejected:!1,value:p}):p},function(p){return c?c({status:Xv,rejected:!0,reason:p}):p})}function np(a,c,p,g){var b=a;try{if(Mr(a))(c||p)&&(b=a.then(c,p));else try{c&&(b=c(a))}catch(x){if(p)b=p(x);else throw x}}finally{g&&ao(b,g)}return b}function ao(a,c){var p=a;return c&&(Mr(a)?a.finally?p=a.finally(c):p=a.then(function(g){return c(),g},function(g){throw c(),g}):c()),p}var av=["pending","resolving","resolved",Xv],Gm="dispatchEvent",Xf;function iv(a){var c;return a&&a.createEvent&&(c=a.createEvent("Event")),!!c&&c.initEvent}function ap(a,c,p,g){var b=ri();!Xf&&(Xf=Pa(!!nt(iv,[b]).v));var x=Xf.v?b.createEvent("Event"):g?new Event(c):{};if(p&&p(x),Xf.v&&x.initEvent(c,!1,!0),x&&a[Gm])a[Gm](x);else{var k=a["on"+c];if(k)k(x);else{var P=on("console");P&&(P.error||P.log)(c,tr(x))}}}var Xc="unhandledRejection",Qf=Xc.toLowerCase(),lc=10,$s;function Qc(a){return er(a)?a.toString():tr(a)}function Qv(a,c,p){var g=Rs(arguments,3),b=0,x=!1,k,P=[],M=!1,j=null,z;function J(Qe,Yt){try{M=!0,j&&j.cancel(),j=null;var gr=a(function(la,mr){P.push(function(){try{var La=b===2?Qe:Yt,Yo=tt(La)?k:er(La)?La(k):La;Mr(Yo)?Yo.then(la,mr):La?la(Yo):b===3?mr(Yo):la(Yo)}catch($o){mr($o)}}),x&&me()},g);return gr}finally{}}function K(Qe){return J(void 0,Qe)}function ee(Qe){var Yt=Qe,gr=Qe;return er(Qe)&&(Yt=function(la){return Qe&&Qe(),la},gr=function(la){throw Qe&&Qe(),la}),J(Yt,gr)}function X(){return av[b]}function me(){if(P.length>0){var Qe=P.slice();P=[],M=!0,j&&j.cancel(),j=null,c(Qe)}}function we(Qe,Yt){return function(gr){if(b===Yt){if(Qe===2&&Mr(gr)){b=1,gr.then(we(2,1),we(3,1));return}b=Qe,x=!0,k=gr,me(),!M&&Qe===3&&!j&&(j=Ku(Me,lc))}}}function Me(){if(!M)if(M=!0,Uf())process.emit(Xc,k,z);else{var Qe=ta()||Ff();!$s&&($s=Pa(nt(on,[cc+"RejectionEvent"]).v)),ap(Qe,Qf,function(Yt){return Hn(Yt,"promise",{g:function(){return z}}),Yt.reason=k,Yt},!!$s.v)}}z={then:J,catch:K,finally:ee},Xr(z,"state",{get:X}),Yc()&&(z[yi(11)]="IPromise");function Ze(){return"IPromise "+X()+(x?" - "+Qc(k):"")}return z.toString=Ze,function(){er(p)||Xa(cc+": executor is not a function - "+Qc(p));var Yt=we(3,0);try{p.call(z,we(2,0),Yt)}catch(gr){Yt(gr)}}(),z}function ip(a){return function(c){var p=Rs(arguments,1);return a(function(g,b){try{var x=[],k=1;qd(c,function(P,M){P&&(k++,np(P,function(j){x[M]=j,--k===0&&g(x)},b))}),k--,k===0&&g(x)}catch(P){b(P)}},p)}}function el(a){return Pa(function(c){var p=Rs(arguments,1);return a(function(g,b){var x=[],k=1;function P(M,j){k++,ef(M,function(z){z.rejected?x[j]={status:Xv,reason:z.reason}:x[j]={status:"fulfilled",value:z.value},--k===0&&g(x)})}try{Ct(c)?ft(c,P):Di(c)?qd(c,P):Xa("Input is not an iterable"),k--,k===0&&g(x)}catch(M){b(M)}},p)})}function op(a){ft(a,function(c){try{c()}catch{}})}function qs(a){var c=ir(a)?a:0;return function(p){Ku(function(){op(p)},c)}}function zr(a,c){return Qv(zr,qs(c),a,c)}var fc;function wa(a,c){!fc&&(fc=Pa(nt(on,[cc]).v||null));var p=fc.v;if(!p)return zr(a);er(a)||Xa(cc+": executor is not a function - "+tr(a));var g=0;function b(){return av[g]}var x=new p(function(k,P){function M(z){g=2,k(z)}function j(z){g=3,P(z)}a(M,j)});return Xr(x,"state",{get:b}),x}var sp;function ed(a){return Qv(ed,op,a)}function tl(a,c){return!sp&&(sp=el(ed)),sp.v(a,c)}var dc;function ui(a,c){return!dc&&(dc=Pa(wa)),dc.v.call(this,a,c)}var td=ip(ui),sa=void 0,pr="",Bs="channels",Tn="core",ss="createPerfMgr",pc="disabled",vc="extensionConfig",Hs="extensions",io="processTelemetry",tf="priority",ov="eventsSent",rf="eventsDiscarded",sv="eventsSendRequest",nf="perfEvent",rl="offlineEventsStored",up="offlineBatchSent",ra="offlineBatchDrop",nl="getPerfMgr",ba="domain",Iu="path",cp="Not dynamic - ",rd=/-([a-z])/g,Ea=/([^\w\d_$])/g,nd=/^(\d+[\w\d_$])/;function lp(a){return!rt(a)}function zs(a){var c=a;return c&&Gt(c)&&(c=c[Ra](rd,function(p,g){return g.toUpperCase()}),c=c[Ra](Ea,"_"),c=c[Ra](nd,function(p,g){return"_"+g})),c}function pt(a,c){return a&&c?Zi(a,c)!==-1:!1}function us(a){return a&&a.toISOString()||""}function cs(a){return Et(a)?a[Do]:pr}function ji(a,c,p,g,b){var x=p;return a&&(x=a[c],x!==p&&(!b||b(x))&&(!g||g(p))&&(x=p,a[c]=x)),x}function af(a,c,p){var g;return a?(g=a[c],!g&&rt(g)&&(g=tt(p)?{}:p,a[c]=g)):g=tt(p)?{}:p,g}function al(a,c){var p=null,g=null;return er(a)?p=a:g=a,function(){var b=arguments;if(p&&(g=p()),g)return g[c][Eo](g,b)}}function ls(a,c,p){if(a&&c&&Qn(a)&&Qn(c)){var g=function(x){if(Gt(x)){var k=c[x];er(k)?(!p||p(x,!0,c,a))&&(a[x]=al(c,x)):(!p||p(x,!1,c,a))&&(Vi(a,x)&&delete a[x],Hn(a,x,{g:function(){return c[x]},s:function(P){c[x]=P}}))}};for(var b in c)g(b)}return a}function oo(a,c,p,g,b){a&&c&&p&&(b!==!1||tt(a[c]))&&(a[c]=al(p,g))}function il(a,c,p,g){return a&&c&&Qn(a)&&Ct(p)&&ft(p,function(b){Gt(b)&&oo(a,b,c,b,g)}),a}function ad(a){return a&&Uc&&(a=u(Uc({},a))),a}function Gs(a){try{return a.responseText}catch{}return null}function of(a,c){return a?"XDomainRequest,Response:"+Gs(a)||"":c}function ol(a,c){return a?"XMLHttpRequest,Status:"+a[is]+",Response:"+Gs(a)||a.response||"":c}function sf(a,c){return c&&(ir(c)?a=[c].concat(a):Ct(c)&&(a=c.concat(a))),a}var fp="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",dp="withCredentials",uv="timeout";function pp(a,c,p,g,b,x){g===void 0&&(g=!1),b===void 0&&(b=!1);function k(M,j,z){try{M[j]=z}catch{}}var P=new XMLHttpRequest;return g&&k(P,fp,g),p&&k(P,dp,p),P.open(a,c,!b),p&&k(P,dp,p),!b&&x&&k(P,uv,x),P}function Nu(a){var c={};if(Gt(a)){var p=$a(a)[Ti](/[\r\n]+/);ft(p,function(g){if(g){var b=g.indexOf(": ");if(b!==-1){var x=$a(g.substring(0,b))[ii](),k=$a(g.substring(b+1));c[x]=k}else c[$a(g)]=1}})}return c}function mc(a,c,p){if(!a[p]&&c&&c[tp]){var g=c[tp](p);g&&(a[p]=$a(g))}return a}var uf="kill-duration",Po="kill-duration-seconds",fs="time-delta-millis";function Ao(a,c){var p={};return a[Jl]?p=Nu(a[Jl]()):c&&(p=mc(p,a,fs),p=mc(p,a,uf),p=mc(p,a,Po)),p}var Ro="documentMode",hc="location",vp="console",_c="JSON",mp="crypto",hp="msCrypto",id="ReactNative",ds="msie",ko="trident/",Oo="XMLHttpRequest",od=null,cf=null,sl=!1,ka=null,ps=null;function sd(a,c){var p=!1;if(a){try{if(p=c in a,!p){var g=a[s];g&&(p=c in g)}}catch{}if(!p)try{var b=new a;p=!tt(b[c])}catch{}}return p}function Ha(a){sl=a}function Vs(a){if(a&&sl){var c=on("__mockLocation");if(c)return c}return typeof location===r&&location?location:on(hc)}function lf(){return typeof console!==n?console:on(vp)}function vs(){return!!(typeof JSON===r&&JSON||on(_c)!==null)}function Ta(){return vs()?JSON||on(_c):null}function Du(){return on(mp)}function ud(){return on(hp)}function ul(){var a=gi();return a&&a.product?a.product===id:!1}function Cu(){var a=gi();if(a&&(a[ep]!==cf||od===null)){cf=a[ep];var c=(cf||pr)[ii]();od=pt(c,ds)||pt(c,ko)}return od}function em(a){if(a===void 0&&(a=null),!a){var c=gi()||{};a=c?(c.userAgent||pr)[ii]():pr}var p=(a||pr)[ii]();if(pt(p,ds)){var g=ri()||{};return Math.max(parseInt(p[Ti](ds)[1]),g[Ro]||0)}else if(pt(p,ko)){var b=parseInt(p[Ti](ko)[1]);if(b)return b+4}return null}function cv(a){return(ps===null||a===!1)&&(ps=Zp()&&!!gi().sendBeacon),ps}function tm(a){var c=!1;try{c=!!on("fetch");var p=on("Request");c&&a&&p&&(c=sd(p,"keepalive"))}catch{}return c}function cl(){return ka===null&&(ka=typeof XDomainRequest!==n,ka&&ff()&&(ka=ka&&!sd(on(Oo),"withCredentials"))),ka}function ff(){var a=!1;try{var c=on(Oo);a=!!c}catch{}return a}function lv(a,c){if(a)for(var p=0;p<a[dt];p++){var g=a[p];if(g[Do]&&g[Do]===c)return g}return{}}function Vm(a){var c=ri();return c&&a?lv(c.querySelectorAll("meta"),a).content:null}function cd(a){var c,p=Ai();if(p){var g=p.getEntriesByType("navigation")||[];c=lv((g[dt]>0?g[0]:{}).serverTiming,a).description}return c}var _p=4294967296,ll=4294967295,xu=123456789,gp=987654321,ms=!1,ld=xu,df=gp;function hs(a){a<0&&(a>>>=0),ld=xu+a&ll,df=gp-a&ll,ms=!0}function gc(){try{var a=vu()&2147483647;hs((Math.random()*_p^a)+a)}catch{}}function rm(a){return a>0?Math.floor(fl()/ll*(a+1))>>>0:0}function fl(a){var c=0,p=Du()||ud();return p&&p.getRandomValues&&(c=p.getRandomValues(new Uint32Array(1))[0]&ll),c===0&&Cu()&&(ms||gc(),c=Km()&ll),c===0&&(c=Math.floor(_p*Math.random()|0)),a||(c>>>=0),c}function Km(a){df=36969*(df&65535)+(df>>16)&ll,ld=18e3*(ld&65535)+(ld>>16)&ll;var c=(df<<16)+(ld&65535)>>>0&ll|0;return a||(c>>>=0),c}function nm(a){a===void 0&&(a=22);for(var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=fl()>>>0,g=0,b=pr;b[dt]<a;)g++,b+=c.charAt(p&63),p>>>=6,g===5&&(p=(fl()<<2&4294967295|p&3)>>>0,g=0);return b}var pf="3.3.5",fv="."+nm(6),am=0;function Pu(a){return a[Jc]===1||a[Jc]===9||!+a[Jc]}function so(a,c){var p=c[a.id];if(!p){p={};try{Pu(c)&&Hn(c,a.id,{e:!1,v:p})}catch{}}return p}function Ks(a,c){return c===void 0&&(c=!1),zs(a+am+++(c?"."+pf:pr)+fv)}function Au(a){var c={id:Ks("_aiData-"+(a||pr)+"."+pf),accept:function(p){return Pu(p)},get:function(p,g,b,x){var k=p[c.id];return k?k[zs(g)]:(x&&(k=so(c,p),k[zs(g)]=b),b)},kill:function(p,g){if(p&&p[g])try{delete p[g]}catch{}}};return c}function dl(a){return a&&Qn(a)&&(a.isVal||a.fb||Vi(a,"v")||Vi(a,"mrg")||Vi(a,"ref")||a.set)}function pl(a,c,p){var g,b=p.dfVal||Vt;if(c&&p.fb){var x=p.fb;Ct(x)||(x=[x]);for(var k=0;k<x[dt];k++){var P=x[k],M=c[P];if(b(M)?g=M:a&&(M=a.cfg[P],b(M)&&(g=M),a.set(a.cfg,Rn(P),M)),b(g))break}}return!b(g)&&b(p.v)&&(g=p.v),g}function fd(a,c,p){var g=p;if(p&&dl(p)&&(g=pl(a,c,p)),g){dl(g)&&(g=fd(a,c,g));var b;Ct(g)?(b=[],b[dt]=g[dt]):wi(g)&&(b={}),b&&(Lr(g,function(x,k){k&&dl(k)&&(k=fd(a,c,k)),b[x]=k}),g=b)}return g}function vf(a,c,p,g){var b,x,k,P=g,M,j,z,J;dl(P)?(b=P.isVal,x=P.set,z=P[ec],J=P[Yr],M=P.mrg,j=P.ref,!j&&tt(j)&&(j=!!M),k=pl(a,c,P)):k=g,J&&a[Yr](c,p);var K,ee=!0,X=c[p];(X||!rt(X))&&(K=X,ee=!1,b&&K!==k&&!b(K)&&(K=k,ee=!0),x&&(K=x(K,k,c),ee=K===k)),ee?k?K=fd(a,c,k):K=k:(wi(K)||Ct(k))&&M&&k&&(wi(k)||Ct(k))&&Lr(k,function(me,we){vf(a,K,me,we)}),a.set(c,p,K),j&&a.ref(c,p),z&&a[ec](c,p)}var Mo=jl("[[ai_dynCfg_1]]"),yc=jl("[[ai_blkDynCfg_1]]"),im=jl("[[ai_frcDynCfg_1]]");function om(a){if(a){var c;if(Ct(a)?(c=[],c[dt]=a[dt]):wi(a)&&(c={}),c)return Lr(a,function(p,g){c[p]=om(g)}),c}return a}function yp(a){if(a){var c=a[Mo]||a;if(c.cfg&&(c.cfg===a||c.cfg[Mo]===c))return c}return null}function Sp(a){if(a&&(wi(a)||Ct(a)))try{a[yc]=!0}catch{}return a}function Lo(a){if(a)try{a[im]=!0}catch{}return a}function Ru(a,c,p){var g=!1;return p&&!a[c.blkVal]&&(g=p[im],!g&&!p[yc]&&(g=wi(p)||Ct(p))),g}function vl(a){Xa("InvalidAccess:"+a)}var sm=["push","pop","shift","unshift","splice"],wp=function(a,c,p,g){a&&a[ro](3,108,"".concat(p," [").concat(c,"] failed - ")+tr(g))};function um(a,c,p){Ct(c)&&ft(sm,function(g){var b=c[g];c[g]=function(){for(var x=[],k=0;k<arguments.length;k++)x[k]=arguments[k];var P=b[Eo](this,x);return dd(a,c,p,"Patching"),P}})}function dv(a,c){var p=an(a,c);return p&&p.get}function bp(a,c,p,g){var b={n:p,h:[],trk:function(j){j&&j.fn&&(ya(b.h,j)===-1&&b.h[$r](j),a.trk(j,b))},clr:function(j){var z=ya(b.h,j);z!==-1&&b.h[To](z,1)}},x=!0,k=!1;function P(){x&&(k=k||Ru(P,a,g),g&&!g[Mo]&&k&&(g=dd(a,g,p,"Converting")),x=!1);var j=a.act;return j&&b.trk(j),g}P[a.prop]={chng:function(){a.add(b)}};function M(j){if(g!==j){P[a.ro]&&!a.upd&&vl("["+p+"] is read-only:"+tr(c)),x&&(k=k||Ru(P,a,g),x=!1);var z=k&&P[a.rf];if(k)if(z){Lr(g,function(K){g[K]=j?j[K]:sa});try{Lr(j,function(K,ee){Sc(a,g,K,ee)}),j=g}catch(K){wp((a.hdlr||{})[Hr],p,"Assigning",K),k=!1}}else g&&g[Mo]&&Lr(g,function(K){var ee=dv(g,K);if(ee){var X=ee[a.prop];X&&X.chng()}});if(j!==g){var J=j&&Ru(P,a,j);!z&&J&&(j=dd(a,j,p,"Converting")),g=j,k=J}a.add(b)}}Hn(c,b.n,{g:P,s:M})}function Sc(a,c,p,g){if(c){var b=dv(c,p),x=b&&!!b[a.prop];x?c[p]=g:bp(a,c,p,g)}return c}function uo(a,c,p,g){if(c){var b=dv(c,p),x=b&&!!b[a.prop],k=g&&g[0],P=g&&g[1],M=g&&g[2];if(!x){if(M)try{Sp(c)}catch(j){wp((a.hdlr||{})[Hr],p,"Blocking",j)}try{Sc(a,c,p,c[p]),b=dv(c,p)}catch(j){wp((a.hdlr||{})[Hr],p,"State",j)}}k&&(b[a.rf]=k),P&&(b[a.ro]=P),M&&(b[a.blkVal]=!0)}return c}function dd(a,c,p,g){try{Lr(c,function(b,x){Sc(a,c,b,x)}),c[Mo]||(Xr(c,Mo,{get:function(){return a[Vf]}}),um(a,c,p))}catch(b){wp((a.hdlr||{})[Hr],p,g,b)}return c}var ml="[[ai_",Fo="]]";function Eh(a){var c,p=Gu(ml+"get"+a.uid+Fo),g=Gu(ml+"ro"+a.uid+Fo),b=Gu(ml+"rf"+a.uid+Fo),x=Gu(ml+"blkVal"+a.uid+Fo),k=Gu(ml+"dtl"+a.uid+Fo),P=null,M=null,j;function z(X,me){var we=j.act;try{j.act=X,X&&X[k]&&(ft(X[k],function(Ze){Ze.clr(X)}),X[k]=[]),me({cfg:a.cfg,set:a.set.bind(a),setDf:a[bu].bind(a),ref:a.ref.bind(a),rdOnly:a[ec].bind(a)})}catch(Ze){var Me=a[Hr];throw Me&&Me[ro](1,107,tr(Ze)),Ze}finally{j.act=we||null}}function J(){if(P){var X=P;P=null,M&&M[Io](),M=null;var me=[];if(ft(X,function(we){if(we&&(we[k]&&(ft(we[k],function(Me){Me.clr(we)}),we[k]=null),we.fn))try{z(we,we.fn)}catch(Me){me[$r](Me)}}),P)try{J()}catch(we){me[$r](we)}me[dt]>0&&Zv("Watcher error(s): ",me)}}function K(X){if(X&&X.h[dt]>0){P||(P=[]),M||(M=Ku(function(){M=null,J()},0));for(var me=0;me<X.h[dt];me++){var we=X.h[me];we&&ya(P,we)===-1&&P[$r](we)}}}function ee(X,me){if(X){var we=X[k]=X[k]||[];ya(we,me)===-1&&we[$r](me)}}return j=(c={prop:p,ro:g,rf:b},c[Yr]=x,c[Vf]=a,c.add=K,c[bo]=J,c.use=z,c.trk=ee,c),j}function Ep(a,c){var p={fn:c,rm:function(){p.fn=null,a=null,c=null}};return Hn(p,"toJSON",{v:function(){return"WatcherHandler"+(p.fn?"":"[X]")}}),a.use(p,c),p}function Wm(a,c,p){var g,b=yp(c);if(b)return b;var x=Ks("dyncfg",!0),k=c&&p!==!1?c:om(c),P;function M(){P[bo]()}function j(Me,Ze,Qe){try{Me=Sc(P,Me,Ze,Qe)}catch(Yt){wp(a,Ze,"Setting value",Yt)}return Me[Ze]}function z(Me){return Ep(P,Me)}function J(Me,Ze){P.use(null,function(Qe){var Yt=P.upd;try{tt(Ze)||(P.upd=Ze),Me(Qe)}finally{P.upd=Yt}})}function K(Me,Ze){var Qe;return uo(P,Me,Ze,(Qe={},Qe[0]=!0,Qe))[Ze]}function ee(Me,Ze){var Qe;return uo(P,Me,Ze,(Qe={},Qe[1]=!0,Qe))[Ze]}function X(Me,Ze){var Qe;return uo(P,Me,Ze,(Qe={},Qe[2]=!0,Qe))[Ze]}function me(Me,Ze){return Ze&&Lr(Ze,function(Qe,Yt){vf(we,Me,Qe,Yt)}),Me}var we=(g={uid:null,cfg:k},g[Hr]=a,g[bo]=M,g.set=j,g[bu]=me,g[Mi]=z,g.ref=K,g[ec]=ee,g[Yr]=X,g._block=J,g);return Hn(we,"uid",{c:!1,e:!1,w:!1,v:x}),P=Eh(we),dd(P,k,"config","Creating"),we}function Th(a,c){a?(a[Ls](c),a[ro](2,108,c)):vl(c)}function Oa(a,c,p,g){var b=Wm(p,a||{},g);return c&&b[bu](b.cfg,c),b}function pd(a,c,p){var g=a[Mo]||a;return g.cfg&&(g.cfg===a||g.cfg[Mo]===g)?g[Mi](c):(Th(p,cp+tr(a)),Oa(a,null,p)[Mi](c))}function vd(a,c){if(a&&a[rs])return a[rs](c)}function cm(a,c,p){var g;return p||(g=ui(function(b){p=b})),a&&ks(a)>0?ef(vd(a[0],c),function(){cm(Rs(a,1),c,p)}):p(),g}var hl=500,ci="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";function co(a){return{mrg:!0,v:a}}var md=[ov,rf,sv,nf],ku=null,wc;function _s(a,c){return function(){var p=arguments,g=lm(c);if(g){var b=g.listener;b&&b[a]&&b[a][Eo](b,p)}}}function pv(){var a=on("Microsoft");return a&&(ku=a.ApplicationInsights),ku}function lm(a){var c=ku;return!c&&a.disableDbgExt!==!0&&(c=ku||pv()),c?c.ChromeDbgExt:null}function vt(a){if(!wc){wc={};for(var c=0;c<md[dt];c++)wc[md[c]]=_s(md[c],a)}return wc}var Ou,Ws="warnToConsole",mf="AI (Internal): ",fm="AI: ",bc="AITR_",hd={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},gs=(Ou={},Ou[0]=null,Ou[1]="errorToConsole",Ou[2]=Ws,Ou[3]="debugToConsole",Ou);function dm(a){return a?'"'+a[Ra](/\"/g,pr)+'"':pr}function Tp(a,c){var p=lf();if(p){var g="log";p[a]&&(g=a),er(p[g])&&p[g](c)}}var _l=function(){function a(c,p,g,b){g===void 0&&(g=!1);var x=this;x[Tu]=c,x[Ys]=(g?fm:mf)+c;var k=pr;vs()&&(k=Ta().stringify(b));var P=(p?" message:"+dm(p):pr)+(b?" props:"+dm(k):pr);x[Ys]+=P}return a.dataType="MessageData",a}();function Ec(a,c){return(a||{})[Hr]||new Tc(c)}var Tc=function(){function a(c){this.identifier="DiagnosticLogger",this.queue=[];var p=0,g={},b,x,k,P,M;ki(a,this,function(j){M=J(c||{}),j.consoleLoggingLevel=function(){return b},j[ro]=function(X,me,we,Me,Ze){Ze===void 0&&(Ze=!1);var Qe=new _l(me,we,Ze,Me);if(P)throw tr(Qe);var Yt=gs[X]||Ws;if(tt(Qe[Ys]))ee("throw"+(X===1?"Critical":"Warning"),Qe);else{if(Ze){var gr=+Qe[Tu];!g[gr]&&b>=X&&(j[Yt](Qe[Ys]),g[gr]=!0)}else b>=X&&j[Yt](Qe[Ys]);z(X,Qe)}},j.debugToConsole=function(X){Tp("debug",X),ee("warning",X)},j[Ls]=function(X){Tp("warn",X),ee("warning",X)},j.errorToConsole=function(X){Tp("error",X),ee("error",X)},j.resetInternalMessageCount=function(){p=0,g={}},j[Jf]=z,j[rs]=function(X){M&&M.rm(),M=null};function z(X,me){if(!K()){var we=!0,Me=bc+me[Tu];if(g[Me]?we=!1:g[Me]=!0,we&&(X<=x&&(j.queue[$r](me),p++,ee(X===1?"error":"warn",me)),p===k)){var Ze="Internal events throttle limit per PageView reached for this app.",Qe=new _l(23,Ze,!1);j.queue[$r](Qe),X===1?j.errorToConsole(Ze):j[Ls](Ze)}}}function J(X){return pd(Oa(X,hd,j).cfg,function(me){var we=me.cfg;b=we[Wc],x=we.loggingLevelTelemetry,k=we.maxMessageLimit,P=we.enableDebug})}function K(){return p>=k}function ee(X,me){var we=lm(c||{});we&&we[ac]&&we[ac](X,me)}})}return a.__ieDyn=1,a}();function vv(a){return a||new Tc}function Wr(a,c,p,g,b,x){x===void 0&&(x=!1),vv(a)[ro](c,p,g,b,x)}function ys(a,c){vv(a)[Ls](c)}function mv(a,c,p){vv(a)[Jf](c,p)}var hv,Js,Ip="toGMTString",_v="toUTCString",gv="cookie",_d="expires",gd="isCookieUseDisabled",gl="disableCookiesUsage",Ic="_ckMgr",Np=null,yl=null,yv=null,lo,Sv={},yd={},pm=(hv={cookieCfg:co((Js={},Js[ba]={fb:"cookieDomain",dfVal:lp},Js.path={fb:"cookiePath",dfVal:lp},Js.enabled=sa,Js.ignoreCookies=sa,Js.blockedCookies=sa,Js)),cookieDomain:sa,cookiePath:sa},hv[gl]=sa,hv);function Ss(){!lo&&(lo=Lf(function(){return ri()}))}function Jm(a,c){var p=ws[Ic]||yd[Ic];return p||(p=ws[Ic]=ws(a,c),yd[Ic]=p),p}function Mu(a){return a?a.isEnabled():!0}function wv(a,c){return c&&a&&Ct(a.ignoreCookies)?ya(a.ignoreCookies,c)!==-1:!1}function Sl(a,c){return c&&a&&Ct(a.blockedCookies)&&ya(a.blockedCookies,c)!==-1?!0:wv(a,c)}function vm(a,c){var p=c[Us];if(rt(p)){var g=void 0;tt(a[gd])||(g=!a[gd]),tt(a[gl])||(g=!a[gl]),p=g}return p}function Uo(a,c){var p;if(a)p=a.getCookieMgr();else if(c){var g=c.cookieCfg;g&&g[Ic]?p=g[Ic]:p=ws(c)}return p||(p=Jm(c,(a||{})[Hr])),p}function ws(a,c){var p,g,b,x,k,P,M,j,z;a=Oa(a||yd,null,c).cfg,k=pd(a,function(K){K[bu](K.cfg,pm),g=K.ref(K.cfg,"cookieCfg"),b=g[Iu]||"/",x=g[ba],P=vm(a,g)!==!1,M=g.getCookie||sr,j=g.setCookie||Yi,z=g.delCookie||Yi},c);var J=(p={isEnabled:function(){var K=vm(a,g)!==!1&&P&&kn(c),ee=yd[Ic];return K&&ee&&J!==ee&&(K=Mu(ee)),K},setEnabled:function(K){P=K!==!1,g[Us]=K},set:function(K,ee,X,me,we){var Me=!1;if(Mu(J)&&!Sl(g,K)){var Ze={},Qe=$a(ee||pr),Yt=Zi(Qe,";");if(Yt!==-1&&(Qe=$a(Gn(ee,Yt)),Ze=hf(Kr(ee,Yt+1))),ji(Ze,ba,me||x,Za,tt),!rt(X)){var gr=Cu();if(tt(Ze[_d])){var la=vu(),mr=la+X*1e3;if(mr>0){var La=new Date;La.setTime(mr),ji(Ze,_d,wl(La,gr?Ip:_v)||wl(La,gr?Ip:_v)||pr,Za)}}gr||ji(Ze,"max-age",pr+X,null,tt)}var Yo=Vs();Yo&&Yo[ns]==="https:"&&(ji(Ze,"secure",null,null,tt),yl===null&&(yl=!$i((gi()||{})[ep])),yl&&ji(Ze,"SameSite","None",null,tt)),ji(Ze,Iu,we||b,null,tt),j(K,Sd(Qe,Ze)),Me=!0}return Me},get:function(K){var ee=pr;return Mu(J)&&!wv(g,K)&&(ee=M(K)),ee},del:function(K,ee){var X=!1;return Mu(J)&&(X=J.purge(K,ee)),X},purge:function(K,ee){var X,me=!1;if(kn(c)){var we=(X={},X[Iu]=ee||"/",X[_d]="Thu, 01 Jan 1970 00:00:01 GMT",X);Cu()||(we["max-age"]="0"),z(K,Sd(pr,we)),me=!0}return me}},p[rs]=function(K){k&&k.rm(),k=null},p);return J[Ic]=J,J}function kn(a){if(Np===null){Np=!1,!lo&&Ss();try{var c=lo.v||{};Np=c[gv]!==void 0}catch(p){Wr(a,2,68,"Cannot access document.cookie - "+cs(p),{exception:tr(p)})}}return Np}function hf(a){var c={};if(a&&a[dt]){var p=$a(a)[Ti](";");ft(p,function(g){if(g=$a(g||pr),g){var b=Zi(g,"=");b===-1?c[g]=null:c[$a(Gn(g,b))]=$a(Kr(g,b+1))}})}return c}function wl(a,c){return er(a[c])?a[c]():null}function Sd(a,c){var p=a||pr;return Lr(c,function(g,b){p+="; "+g+(rt(b)?pr:"="+b)}),p}function sr(a){var c=pr;if(!lo&&Ss(),lo.v){var p=lo.v[gv]||pr;yv!==p&&(Sv=hf(p),yv=p),c=$a(Sv[a]||pr)}return c}function Yi(a,c){!lo&&Ss(),lo.v&&(lo.v[gv]=a+"="+c)}function $i(a){return Gt(a)?!!(pt(a,"CPU iPhone OS 12")||pt(a,"iPad; CPU OS 12")||pt(a,"Macintosh; Intel Mac OS X 10_14")&&pt(a,"Version/")&&pt(a,"Safari")||pt(a,"Macintosh; Intel Mac OS X 10_14")&&$f(a,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||pt(a,"Chrome/5")||pt(a,"Chrome/6")||pt(a,"UnrealEngine")&&!pt(a,"Chrome")||pt(a,"UCBrowser/12")||pt(a,"UCBrowser/11")):!1}var Ia={perfEvtsSendAll:!1};function bl(a){a.h=null;var c=a.cb;a.cb=[],ft(c,function(p){nt(p.fn,[p.arg])})}function vn(a,c,p,g){ft(a,function(b){b&&b[c]&&(p?(p.cb[$r]({fn:g,arg:b}),p.h=p.h||Ku(bl,0,p)):nt(g,[b]))})}var El=function(){function a(c){this.listeners=[];var p,g,b=[],x={h:null,cb:[]},k=Oa(c,Ia);g=k[Mi](function(P){p=!!P.cfg.perfEvtsSendAll}),ki(a,this,function(P){Hn(P,"listeners",{g:function(){return b}}),P[Aa]=function(M){b[$r](M)},P[ts]=function(M){for(var j=ya(b,M);j>-1;)b[To](j,1),j=ya(b,M)},P[ov]=function(M){vn(b,ov,x,function(j){j[ov](M)})},P[rf]=function(M,j){vn(b,rf,x,function(z){z[rf](M,j)})},P[sv]=function(M,j){vn(b,sv,j?x:null,function(z){z[sv](M,j)})},P[nf]=function(M){M&&(p||!M[Zf]())&&vn(b,nf,null,function(j){M[Fi]?Ku(function(){return j[nf](M)},0):j[nf](M)})},P[rl]=function(M){M&&M[dt]&&vn(b,rl,x,function(j){j[rl](M)})},P[up]=function(M){M&&M[Zl]&&vn(b,up,x,function(j){j[up](M)})},P[ra]=function(M,j){if(M>0){var z=j||0;vn(b,ra,x,function(J){J[ra](M,z)})}},P[rs]=function(M){var j=function(){g&&g.rm(),g=null,b=[],x.h&&x.h[Io](),x.h=null,x.cb=[]},z;if(vn(b,"unload",null,function(J){var K=J[rs](M);K&&(z||(z=[]),z[$r](K))}),z)return ui(function(J){return ef(td(z),function(){j(),J()})});j()}})}return a.__ieDyn=1,a}(),Zs="ctx",Dp="ParentContextKey",Xs="ChildrenContextKey",bv=null,Lu=function(){function a(c,p,g){var b=this;if(b.start=vu(),b[Do]=c,b[Fi]=g,b[Zf]=function(){return!1},er(p)){var x;Hn(b,"payload",{g:function(){return!x&&er(p)&&(x=p(),p=null),x}})}b[xo]=function(k){return k?k===a[Dp]||k===a[Xs]?b[k]:(b[Zs]||{})[k]:null},b[si]=function(k,P){if(k)if(k===a[Dp])b[k]||(b[Zf]=function(){return!0}),b[k]=P;else if(k===a[Xs])b[k]=P;else{var M=b[Zs]=b[Zs]||{};M[k]=P}},b[Zc]=function(){var k=0,P=b[xo](a[Xs]);if(Ct(P))for(var M=0;M<P[dt];M++){var j=P[M];j&&(k+=j[Co])}b[Co]=vu()-b.start,b.exTime=b[Co]-k,b[Zc]=function(){}}}return a.ParentContextKey="parent",a.ChildrenContextKey="childEvts",a}(),Ev=function(){function a(c){this.ctx={},ki(a,this,function(p){p.create=function(g,b,x){return new Lu(g,b,x)},p.fire=function(g){g&&(g[Zc](),c&&er(c[nf])&&c[nf](g))},p[si]=function(g,b){if(g){var x=p[Zs]=p[Zs]||{};x[g]=b}},p[xo]=function(g){return(p[Zs]||{})[g]}})}return a.__ieDyn=1,a}(),Tv="CoreUtils.doPerf";function f(a,c,p,g,b){if(a){var x=a;if(x[nl]&&(x=x[nl]()),x){var k=void 0,P=x[xo](Tv);try{if(k=x.create(c(),g,b),k){if(P&&k[si]&&(k[si](Lu[Dp],P),P[xo]&&P[si])){var M=P[xo](Lu[Xs]);M||(M=[],P[si](Lu[Xs],M)),M[$r](k)}return x[si](Tv,k),p(k)}}catch(j){k&&k[si]&&k[si]("exception",j)}finally{k&&x.fire(k),x[si](Tv,P)}}}return p()}function m(){return bv}function y(){var a=N();return Kr(a,0,8)+"-"+Kr(a,8,12)+"-"+Kr(a,12,16)+"-"+Kr(a,16,20)+"-"+Kr(a,20)}function N(){for(var a=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],c=pr,p,g=0;g<4;g++)p=fl(),c+=a[p&15]+a[p>>4&15]+a[p>>8&15]+a[p>>12&15]+a[p>>16&15]+a[p>>20&15]+a[p>>24&15]+a[p>>28&15];var b=a[8+(fl()&3)|0];return _o(c,0,8)+_o(c,9,4)+"4"+_o(c,13,3)+b+_o(c,16,3)+_o(c,19,12)}var U=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,G="00",V="ff",te="00000000000000000000000000000000",ve="0000000000000000",_e=1;function We(a,c,p){return a&&a[dt]===c&&a!==p?!!a.match(/^[\da-f]*$/i):!1}function Ot(a,c,p){return We(a,c)?a:p}function rr(a){(isNaN(a)||a<0||a>255)&&(a=1);for(var c=a.toString(16);c[dt]<2;)c="0"+c;return c}function ur(a,c,p,g){var b;return b={},b[Li]=We(g,2,V)?g:G,b[rp]=nr(a)?a:N(),b[Ql]=jt(c)?c:Gn(N(),16),b.traceFlags=p>=0&&p<=255?p:1,b}function ut(a,c){var p;if(!a||(Ct(a)&&(a=a[0]||""),!a||!Gt(a)||a[dt]>8192))return null;if(a.indexOf(",")!==-1){var g=a[Ti](",");a=g[c>0&&g[dt]>c?c:0]}var b=U.exec($a(a));return!b||b[1]===V||b[2]===te||b[3]===ve?null:(p={version:(b[1]||pr)[ii](),traceId:(b[2]||pr)[ii](),spanId:(b[3]||pr)[ii]()},p[uc]=parseInt(b[4],16),p)}function nr(a){return We(a,32,te)}function jt(a){return We(a,16,ve)}function Ir(a){return!(!a||!We(a[Li],2,V)||!We(a[rp],32,te)||!We(a[Ql],16,ve)||!We(rr(a[uc]),2))}function Nr(a){return Ir(a)?(a[uc]&_e)===_e:!1}function Pt(a){if(a){var c=rr(a[uc]);We(c,2)||(c="01");var p=a[Li]||G;return p!=="00"&&p!=="ff"&&(p=G),"".concat(p.toLowerCase(),"-").concat(Ot(a.traceId,32,te).toLowerCase(),"-").concat(Ot(a.spanId,16,ve).toLowerCase(),"-").concat(c.toLowerCase())}return""}function In(a){var c="traceparent",p=ut(Vm(c),a);return p||(p=ut(cd(c),a)),p}var _f=Au("plugin");function Nn(a){return _f.get(a,"state",{},!0)}function qi(a,c){for(var p=[],g=null,b=a[Ui](),x;b;){var k=b[No]();if(k){g&&g[ic]&&k[io]&&g[ic](k),x=Nn(k);var P=!!x[Ba];k[Ba]&&(P=k[Ba]()),P||p[$r](k),g=k,b=b[Ui]()}}ft(p,function(M){var j=a[Tn]();M[Yn](a.getCfg(),j,c,a[Ui]()),x=Nn(M),!M[Tn]&&!x[Tn]&&(x[Tn]=j),x[Ba]=!0,delete x[Sa]})}function wd(a){return a.sort(function(c,p){var g=0;if(p){var b=p[io];c[io]?g=b?c[tf]-p[tf]:1:b&&(g=-1)}else g=c?1:-1;return g})}function Iv(a){var c={};return{getName:function(){return c[Do]},setName:function(p){a&&a.setName(p),c[Do]=p},getTraceId:function(){return c[rp]},setTraceId:function(p){a&&a.setTraceId(p),nr(p)&&(c[rp]=p)},getSpanId:function(){return c[Ql]},setSpanId:function(p){a&&a.setSpanId(p),jt(p)&&(c[Ql]=p)},getTraceFlags:function(){return c[uc]},setTraceFlags:function(p){a&&a.setTraceFlags(p),c[uc]=p}}}var bd="TelemetryPluginChain",Ed="_hasRun",Cp="_getTelCtx",mm=0;function ke(a,c,p){for(;a;){if(a[No]()===p)return a;a=a[Ui]()}return mn([p],c.config||{},c)}function Tt(a,c,p,g){var b=null,x=[];c||(c=Oa({},null,p[Hr])),g!==null&&(b=g?ke(a,p,g):a);var k={_next:M,ctx:{core:function(){return p},diagLog:function(){return Ec(p,c.cfg)},getCfg:function(){return c.cfg},getExtCfg:z,getConfig:J,hasNext:function(){return!!b},getNext:function(){return b},setNext:function(ee){b=ee},iterate:K,onComplete:P}};function P(ee,X){for(var me=[],we=2;we<arguments.length;we++)me[we-2]=arguments[we];ee&&x[$r]({func:ee,self:tt(X)?k.ctx:X,args:me})}function M(){var ee=b;if(b=ee?ee[Ui]():null,!ee){var X=x;X&&X[dt]>0&&(ft(X,function(me){try{me.func.call(me.self,me.args)}catch(we){Wr(p[Hr],2,73,"Unexpected Exception during onComplete - "+tr(we))}}),x=[])}return ee}function j(ee,X){var me=null,we=c.cfg;if(we&&ee){var Me=we[vc];!Me&&X&&(Me={}),we[vc]=Me,Me=c.ref(we,vc),Me&&(me=Me[ee],!me&&X&&(me={}),Me[ee]=me,me=c.ref(Me,ee))}return me}function z(ee,X){var me=j(ee,!0);return X&&Lr(X,function(we,Me){if(rt(me[we])){var Ze=c.cfg[we];(Ze||!rt(Ze))&&(me[we]=Ze)}vf(c,me,we,Me)}),c[bu](me,X)}function J(ee,X,me){me===void 0&&(me=!1);var we,Me=j(ee,!1),Ze=c.cfg;return Me&&(Me[X]||!rt(Me[X]))?we=Me[X]:(Ze[X]||!rt(Ze[X]))&&(we=Ze[X]),we||!rt(we)?we:me}function K(ee){for(var X;X=k._next();){var me=X[No]();me&&ee(me)}}return k}function Bt(a,c,p,g){var b=Oa(c),x=Tt(a,b,p,g),k=x.ctx;function P(j){var z=x._next();return z&&z[io](j,k),!z}function M(j,z){return j===void 0&&(j=null),Ct(j)&&(j=mn(j,b.cfg,p,z)),Bt(j||k[Ui](),b.cfg,p,z)}return k[Vn]=P,k[Eu]=M,k}function Gr(a,c,p){var g=Oa(c.config),b=Tt(a,g,c,p),x=b.ctx;function k(M){var j=b._next();return j&&j[rs](x,M),!j}function P(M,j){return M===void 0&&(M=null),Ct(M)&&(M=mn(M,g.cfg,c,j)),Gr(M||x[Ui](),c,j)}return x[Vn]=k,x[Eu]=P,x}function sn(a,c,p){var g=Oa(c.config),b=Tt(a,g,c,p),x=b.ctx;function k(M){return x.iterate(function(j){er(j[oa])&&j[oa](x,M)})}function P(M,j){return M===void 0&&(M=null),Ct(M)&&(M=mn(M,g.cfg,c,j)),sn(M||x[Ui](),c,j)}return x[Vn]=k,x[Eu]=P,x}function mn(a,c,p,g){var b=null,x=!g;if(Ct(a)&&a[dt]>0){var k=null;ft(a,function(P){if(!x&&g===P&&(x=!0),x&&P&&er(P[io])){var M=ua(P,c,p);b||(b=M),k&&k._setNext(M),k=M}})}return g&&!b?mn([g],c,p):b}function ua(a,c,p){var g=null,b=er(a[io]),x=er(a[ic]),k;a?k=a[no]+"-"+a[tf]+"-"+mm++:k="Unknown-0-"+mm++;var P={getPlugin:function(){return a},getNext:function(){return g},processTelemetry:z,unload:J,update:K,_id:k,_setNext:function(ee){g=ee}};function M(){var ee;return a&&er(a[Cp])&&(ee=a[Cp]()),ee||(ee=Bt(P,c,p)),ee}function j(ee,X,me,we,Me){var Ze=!1,Qe=a?a[no]:bd,Yt=ee[Ed];return Yt||(Yt=ee[Ed]={}),ee.setNext(g),a&&f(ee[Tn](),function(){return Qe+":"+me},function(){Yt[k]=!0;try{var gr=g?g._id:pr;gr&&(Yt[gr]=!1),Ze=X(ee)}catch(mr){var la=g?Yt[g._id]:!0;la&&(Ze=!0),(!g||!la)&&Wr(ee[ac](),1,73,"Plugin ["+Qe+"] failed during "+me+" - "+tr(mr)+", run flags: "+tr(Yt))}},we,Me),Ze}function z(ee,X){X=X||M();function me(we){if(!a||!b)return!1;var Me=Nn(a);return Me[Sa]||Me[pc]?!1:(x&&a[ic](g),a[io](ee,we),!0)}j(X,me,"processTelemetry",function(){return{item:ee}},!ee.sync)||X[Vn](ee)}function J(ee,X){function me(){var we=!1;if(a){var Me=Nn(a),Ze=a[Tn]||Me[Tn];a&&(!Ze||Ze===ee.core())&&!Me[Sa]&&(Me[Tn]=null,Me[Sa]=!0,Me[Ba]=!1,a[Sa]&&a[Sa](ee,X)===!0&&(we=!0))}return we}j(ee,me,"unload",function(){},X[Fi])||ee[Vn](X)}function K(ee,X){function me(){var we=!1;if(a){var Me=Nn(a),Ze=a[Tn]||Me[Tn];a&&(!Ze||Ze===ee.core())&&!Me[Sa]&&a[oa]&&a[oa](ee,X)===!0&&(we=!0)}return we}j(ee,me,"update",function(){},!1)||ee[Vn](X)}return Ki(P)}var Fu=function(){function a(c,p,g,b){var x=this,k=Bt(c,p,g,b);il(x,k,mi(k))}return a}();function bs(){var a=[];function c(g){g&&a[$r](g)}function p(g,b){ft(a,function(x){try{x(g,b)}catch(k){Wr(g[ac](),2,73,"Unexpected error calling unload handler - "+tr(k))}}),a=[]}return{add:c,run:p}}var Uu,Tl;function hm(a,c){Uu=a,Tl=c}function xp(){var a=[];function c(g){var b=a;a=[],ft(b,function(x){try{(x.rm||x.remove).call(x)}catch(k){Wr(g,2,73,"Unloading:"+tr(k))}}),Uu&&b[dt]>Uu&&(Tl?Tl("doUnload",b):Wr(null,1,48,"Max unload hooks exceeded. An excessive number of unload hooks has been detected."))}function p(g){g&&(Ci(a,g),Uu&&a[dt]>Uu&&(Tl?Tl("Add",a):Wr(null,1,48,"Max unload hooks exceeded. An excessive number of unload hooks has been detected.")))}return{run:c,add:p}}var gf,Nc="getPlugin",H_=(gf={},gf[vc]={isVal:lp,v:{}},gf),Ih=function(){function a(){var c=this,p,g,b,x,k;j(),ki(a,c,function(z){z[Yn]=function(J,K,ee,X){M(J,K,X),p=!0},z[Sa]=function(J,K){var ee,X=z[Tn];if(!X||J&&X!==J[Tn]())return;var me,we=!1,Me=J||Gr(null,X,b&&b[Nc]?b[Nc]():b),Ze=K||(ee={reason:0},ee[Fi]=!1,ee);function Qe(){we||(we=!0,x.run(Me,K),k.run(Me[ac]()),me===!0&&Me[Vn](Ze),j())}return!z[pn]||z[pn](Me,Ze,Qe)!==!0?Qe():me=!0,me},z[oa]=function(J,K){var ee=z[Tn];if(!ee||J&&ee!==J[Tn]())return;var X,me=!1,we=J||sn(null,ee,b&&b[Nc]?b[Nc]():b),Me=K||{reason:0};function Ze(){me||(me=!0,M(we.getCfg(),we.core(),we[Ui]()))}return!z._doUpdate||z._doUpdate(we,Me,Ze)!==!0?Ze():X=!0,X},oo(z,"_addUnloadCb",function(){return x},"add"),oo(z,"_addHook",function(){return k},"add"),Hn(z,"_unloadHooks",{g:function(){return k}})}),c[ac]=function(z){return P(z)[ac]()},c[Ba]=function(){return p},c.setInitialized=function(z){p=z},c[ic]=function(z){b=z},c[Vn]=function(z,J){J?J[Vn](z):b&&er(b[io])&&b[io](z,null)},c._getTelCtx=P;function P(z){z===void 0&&(z=null);var J=z;if(!J){var K=g||Bt(null,{},c[Tn]);b&&b[Nc]?J=K[Eu](null,b[Nc]):J=K[Eu](null,b)}return J}function M(z,J,K){Oa(z,H_,Ec(J)),!K&&J&&(K=J[Wf]()[Ui]());var ee=b;b&&b[Nc]&&(ee=b[Nc]()),c[Tn]=J,g=Bt(K,z,J,ee)}function j(){p=!1,c[Tn]=null,g=null,b=null,k=xp(),x=bs()}}return a.__ieDyn=1,a}();function u_(a,c,p){var g={id:c,fn:p};Ci(a,g);var b={remove:function(){ft(a,function(x,k){if(x.id===g.id)return a[To](k,1),-1})}};return b}function Zm(a,c,p){for(var g=!1,b=a[dt],x=0;x<b;++x){var k=a[x];if(k)try{if(k.fn[Eo](null,[c])===!1){g=!0;break}}catch(P){Wr(p,2,64,"Telemetry initializer failed: "+cs(P),{exception:tr(P)},!0)}}return!g}var z_=function(a){Wu(c,a);function c(){var p=a.call(this)||this;p.identifier="TelemetryInitializerPlugin",p.priority=199;var g,b;x(),ki(c,p,function(k,P){k.addTelemetryInitializer=function(M){return u_(b,g++,M)},k[io]=function(M,j){Zm(b,M,j?j[ac]():k[ac]())&&k[Vn](M,j)},k[pn]=function(){x()}});function x(){g=0,b=[]}return p}return c.__ieDyn=1,c}(Ih),yf,Nv="Plugins must provide initialize method",_m="_notificationManager",Sf="SDK is still unloading...",Dv="SDK is not initialized",Nh=100,c_=5e4,Td=uu((yf={cookieCfg:{}},yf[Hs]={rdOnly:!0,ref:!0,v:[]},yf[Bs]={rdOnly:!0,ref:!0,v:[]},yf[vc]={ref:!0,v:{}},yf[ss]=sa,yf.loggingLevelConsole=0,yf.diagnosticLogInterval=sa,yf));function l_(a,c){return new Ev(c)}function G_(a,c,p){var g,b=[],x=[],k={};return ft(p,function(P){(rt(P)||rt(P[Yn]))&&jn(Nv);var M=P[tf],j=P[no];P&&M&&(rt(k[M])?k[M]=j:ys(a,"Two extensions have same priority #"+M+" - "+k[M]+", "+j)),!M||M<c?b[$r](P):x[$r](P)}),g={},g[Tn]=b,g[Bs]=x,g}function Dh(a,c){var p=!1;return ft(c,function(g){if(g===a)return p=!0,-1}),p}function gm(a,c,p,g){p&&Lr(p,function(b,x){g&&wi(x)&&wi(c[b])&&gm(a,c[b],x,g),g&&wi(x)&&wi(c[b])?gm(a,c[b],x,g):a.set(c,b,x)})}function Ch(a,c){var p=null,g=-1;return ft(a,function(b,x){if(b.w===c)return p=b,g=x,-1}),{i:g,l:p}}function Xm(a,c){var p=Ch(a,c).l;return p||(p={w:c,rm:function(){var g=Ch(a,c);g.i!==-1&&a[To](g.i,1)}},a[$r](p)),p}function Cv(a,c,p){ft(c,function(g){var b=pd(a,g.w,p);delete g.w,g.rm=function(){b.rm()}})}function Id(a,c,p,g){return c.add(a[Mi](function(b){var x=b.cfg.disableDbgExt;x===!0&&g&&(p[ts](g),g=null),p&&!g&&x!==!0&&(g=vt(b.cfg),p[Aa](g))})),g}function xh(a){return Hn({rm:function(){a.rm()}},"toJSON",{v:function(){return"aicore::onCfgChange<"+JSON.stringify(a)+">"}})}var ym=function(){function a(){var c,p,g,b,x,k,P,M,j,z,J,K,ee,X,me,we,Me,Ze,Qe,Yt,gr,la,mr,La,Yo,$o,Ac,di,Cf,Be,At,On;ki(a,this,function(Se){xr(),Se._getDbgPlgTargets=function(){return[mr,b]},Se[Ba]=function(){return p},Se.activeStatus=function(){return $o},Se._setPendingStatus=function(){$o=3},Se[Yn]=function(Ie,it,Lt,Rt){ee&&jn(Sf),Se[Ba]()&&jn("Core cannot be initialized more than once"),c=Oa(Ie,Td,Lt||Se[Hr],!1),Ie=c.cfg,qo(c[Mi](function(xn){var fa=xn.cfg,Ii=$o===3;if(!Ii){di=fa.initInMemoMaxSize||Nh;var Hi=fa[Kc],Pf=fa.endpointUrl;if(rt(Hi)){gr=null,$o=dn[tc];var nh="Please provide instrumentation key";p?(Wr(g,1,100,nh),Mn()):jn(nh);return}var ah=[];if(Mr(Hi)?(ah[$r](Hi),gr=null):gr=Hi,Mr(Pf)?(ah[$r](Pf),Ac=null):Ac=Pf,ah[dt]){Cf=!1,$o=3;var K_=lp(fa.initTimeOut)?fa.initTimeOut:c_,Lg=tl(ah);Ku(function(){Cf||ar()},K_),ef(Lg,function(Oh){try{if(Cf)return;if(!Oh.rejected){var Cl=Oh[Kf];if(Cl&&Cl[dt]){var W_=Cl[0];if(gr=W_&&W_[Kf],Cl[dt]>1){var J_=Cl[1];Ac=J_&&J_[Kf]}}gr&&(Ie[Kc]=gr,Ie.endpointUrl=Ac)}ar()}catch{Cf||ar()}})}else ar();var d_=xn.ref(xn.cfg,vc);Lr(d_,function(Oh){xn.ref(d_,Oh)})}})),x=Rt,Qe=Id(c,Ze,x&&Se[Fs](),Qe),Lp(),Se[Hr]=Lt;var Xt=Ie[Hs];if(z=[],z[$r].apply(z,Qi(Qi([],it,!1),Xt)),J=Ie[Bs],na(null),(!K||K[dt]===0)&&jn("No "+Bs+" available"),J&&J[dt]>1){var Rr=Se[No]("TeeChannelController");(!Rr||!Rr.plugin)&&Wr(g,1,28,"TeeChannel required")}Cv(Ie,la,g),la=null,p=!0,$o===dn.ACTIVE&&Mn()},Se.getChannels=function(){var Ie=[];return K&&ft(K,function(it){Ie[$r](it)}),Ki(Ie)},Se.track=function(Ie){f(Se[nl](),function(){return"AppInsightsCore:track"},function(){Ie===null&&(aa(Ie),jn("Invalid telemetry item")),!Ie[Do]&&rt(Ie[Do])&&(aa(Ie),jn("telemetry name required")),Ie[rc]=Ie[rc]||gr,Ie[Co]=Ie[Co]||us(new Date),Ie.ver=Ie.ver||"4.0",!ee&&Se[Ba]()&&$o===dn.ACTIVE?za()[Vn](Ie):$o!==dn[tc]&&b[dt]<=di&&b[$r](Ie)},function(){return{item:Ie}},!Ie.sync)},Se[Wf]=za,Se[Fs]=function(){return x||(x=new El(c.cfg),Se[_m]=x),x},Se[Aa]=function(Ie){Se.getNotifyMgr()[Aa](Ie)},Se[ts]=function(Ie){x&&x[ts](Ie)},Se.getCookieMgr=function(){return M||(M=ws(c.cfg,Se[Hr])),M},Se.setCookieMgr=function(Ie){M!==Ie&&(vd(M,!1),M=Ie)},Se[nl]=function(){return k||P||m()},Se.setPerfMgr=function(Ie){k=Ie},Se.eventCnt=function(){return b[dt]},Se.releaseQueue=function(){if(p&&b[dt]>0){var Ie=b;b=[],$o===2?ft(Ie,function(it){it[rc]=it[rc]||gr,za()[Vn](it)}):Wr(g,2,20,"core init status is not active")}},Se[nc]=function(Ie){return me=Ie||null,On=!1,Be&&Be[Io](),Fa(!0)};function ar(){Cf=!0,rt(gr)?($o=dn[tc],Wr(g,1,112,"ikey can't be resolved from promises")):$o=dn.ACTIVE,Mn()}function Mn(){p&&(Se.releaseQueue(),Se[nc]())}function Fa(Ie){if((!Be||!Be[Us])&&!On){var it=Ie||g&&g.queue[dt]>0;it&&(At||(At=!0,qo(c[Mi](function(Lt){var Rt=Lt.cfg.diagnosticLogInterval;(!Rt||!(Rt>0))&&(Rt=1e4);var Xt=!1;Be&&(Xt=Be[Us],Be[Io]()),Be=Bf(Mp,Rt),Be.unref(),Be[Us]=Xt}))),Be[Us]=!0)}return Be}Se[Ei]=function(){On=!0,Be&&Be[Io](),Mp()},il(Se,function(){return X},["addTelemetryInitializer"]),Se[rs]=function(Ie,it,Lt){var Rt;Ie===void 0&&(Ie=!0),p||jn(Dv),ee&&jn(Sf);var Xt=(Rt={reason:50},Rt[Fi]=Ie,Rt.flushComplete=!1,Rt),Rr;Ie&&!it&&(Rr=ui(function(Ii){it=Ii}));var xn=Gr(kd(),Se);xn[js](function(){Ze.run(Se[Hr]),cm([M,x,g],Ie,function(){xr(),it&&it(Xt)})},Se);function fa(Ii){Xt.flushComplete=Ii,ee=!0,Me.run(xn,Xt),Se[Ei](),xn[Vn](Xt)}return Mp(),xf(Ie,fa,6,Lt),Rr},Se[No]=Ga,Se.addPlugin=function(Ie,it,Lt,Rt){if(!Ie){Rt&&Rt(!1),Rv(Nv);return}var Xt=Ga(Ie[no]);if(Xt&&!it){Rt&&Rt(!1),Rv("Plugin ["+Ie[no]+"] is already loaded!");return}var Rr={reason:16};function xn(Hi){z[$r](Ie),Rr.added=[Ie],na(Rr),Rt&&Rt(!0)}if(Xt){var fa=[Xt.plugin],Ii={reason:2,isAsync:!!Lt};pi(fa,Ii,function(Hi){Hi?(Rr.removed=fa,Rr.reason|=32,xn()):Rt&&Rt(!1)})}else xn()},Se.updateCfg=function(Ie,it){it===void 0&&(it=!0);var Lt;if(Se[Ba]()){Lt={reason:1,cfg:c.cfg,oldCfg:Wd({},c.cfg),newConfig:Wd({},Ie),merge:it},Ie=Lt.newConfig;var Rt=c.cfg;Ie[Hs]=Rt[Hs],Ie[Bs]=Rt[Bs]}c._block(function(Xt){var Rr=Xt.cfg;gm(Xt,Rr,Ie,it),it||Lr(Rr,function(xn){Vi(Ie,xn)||Xt.set(Rr,xn,sa)}),Xt[bu](Rr,Td)},!0),c[bo](),Lt&&Fp(Lt)},Se.evtNamespace=function(){return we},Se.flush=xf,Se.getTraceCtx=function(Ie){return Yt||(Yt=Iv()),Yt},Se.setTraceCtx=function(Ie){Yt=Ie||null},Se.addUnloadHook=qo,oo(Se,"addUnloadCb",function(){return Me},"add"),Se.onCfgChange=function(Ie){var it;return p?it=pd(c.cfg,Ie,Se[Hr]):it=Xm(la,Ie),xh(it)},Se.getWParam=function(){return Fl()||c.cfg.enableWParam?0:-1};function Bi(){var Ie={};La=[];var it=function(Lt){Lt&&ft(Lt,function(Rt){if(Rt[no]&&Rt[Li]&&!Ie[Rt.identifier]){var Xt=Rt[no]+"="+Rt[Li];La[$r](Xt),Ie[Rt.identifier]=Rt}})};it(K),J&&ft(J,function(Lt){it(Lt)}),it(z)}function xr(){p=!1,c=Oa({},Td,Se[Hr]),c.cfg[Wc]=1,Hn(Se,"config",{g:function(){return c.cfg},s:function(it){Se.updateCfg(it,!1)}}),Hn(Se,"pluginVersionStringArr",{g:function(){return La||Bi(),La}}),Hn(Se,"pluginVersionString",{g:function(){return Yo||(La||Bi(),Yo=La.join(";")),Yo||pr}}),Hn(Se,"logger",{g:function(){return g||(g=new Tc(c.cfg),c[Hr]=g),g},s:function(it){c[Hr]=it,g!==it&&(vd(g,!1),g=it)}}),Se[Hr]=new Tc(c.cfg),mr=[];var Ie=Se.config[Hs]||[];Ie.splice(0,Ie[dt]),Ci(Ie,mr),X=new z_,b=[],vd(x,!1),x=null,k=null,P=null,vd(M,!1),M=null,j=null,z=[],J=null,K=null,ee=!1,me=null,we=Ks("AIBaseCore",!0),Me=bs(),Yt=null,gr=null,Ze=xp(),la=[],Yo=null,La=null,On=!1,Be=null,At=!1,$o=0,Ac=null,di=null,Cf=!1}function za(){var Ie=Bt(kd(),c.cfg,Se);return Ie[js](Fa),Ie}function na(Ie){var it=G_(Se[Hr],hl,z);j=null,Yo=null,La=null,K=(J||[])[0]||[],K=wd(Ci(K,it[Bs]));var Lt=Ci(wd(it[Tn]),K);mr=Ki(Lt);var Rt=Se.config[Hs]||[];Rt.splice(0,Rt[dt]),Ci(Rt,mr);var Xt=za();K&&K[dt]>0&&qi(Xt[Eu](K),Lt),qi(Xt,Lt),Ie&&Fp(Ie)}function Ga(Ie){var it=null,Lt=null,Rt=[];return ft(mr,function(Xt){if(Xt[no]===Ie&&Xt!==X)return Lt=Xt,-1;Xt.getChannel&&Rt[$r](Xt)}),!Lt&&Rt[dt]>0&&ft(Rt,function(Xt){if(Lt=Xt.getChannel(Ie),!Lt)return-1}),Lt&&(it={plugin:Lt,setEnabled:function(Xt){Nn(Lt)[pc]=!Xt},isEnabled:function(){var Xt=Nn(Lt);return!Xt[Sa]&&!Xt[pc]},remove:function(Xt,Rr){var xn;Xt===void 0&&(Xt=!0);var fa=[Lt],Ii=(xn={reason:1},xn[Fi]=Xt,xn);pi(fa,Ii,function(Hi){Hi&&na({reason:32,removed:fa}),Rr&&Rr(Hi)})}}),it}function kd(){if(!j){var Ie=(mr||[]).slice();ya(Ie,X)===-1&&Ie[$r](X),j=mn(wd(Ie),c.cfg,Se)}return j}function pi(Ie,it,Lt){if(Ie&&Ie[dt]>0){var Rt=mn(Ie,c.cfg,Se),Xt=Gr(Rt,Se);Xt[js](function(){var Rr=!1,xn=[];ft(z,function(Ii,Hi){Dh(Ii,Ie)?Rr=!0:xn[$r](Ii)}),z=xn,Yo=null,La=null;var fa=[];J&&(ft(J,function(Ii,Hi){var Pf=[];ft(Ii,function(nh){Dh(nh,Ie)?Rr=!0:Pf[$r](nh)}),fa[$r](Pf)}),J=fa),Lt&&Lt(Rr),Fa()}),Xt[Vn](it)}else Lt(!1)}function Mp(){if(g&&g.queue){var Ie=g.queue.slice(0);g.queue[dt]=0,ft(Ie,function(it){var Lt,Rt=(Lt={},Lt[Do]=me||"InternalMessageId: "+it[Tu],Lt[rc]=gr,Lt[Co]=us(new Date),Lt.baseType=_l.dataType,Lt.baseData={message:it[Ys]},Lt);Se.track(Rt)})}}function xf(Ie,it,Lt,Rt){var Xt=1,Rr=!1,xn=null;Rt=Rt||5e3;function fa(){Xt--,Rr&&Xt===0&&(xn&&xn[Io](),xn=null,it&&it(Rr),it=null)}if(K&&K[dt]>0){var Ii=za()[Eu](K);Ii.iterate(function(Hi){if(Hi.flush){Xt++;var Pf=!1;Hi.flush(Ie,function(){Pf=!0,fa()},Lt)||Pf||(Ie&&xn==null?xn=Ku(function(){xn=null,fa()},Rt):fa())}})}return Rr=!0,fa(),!0}function Lp(){var Ie;qo(c[Mi](function(it){var Lt=it.cfg.enablePerfMgr;if(Lt){var Rt=it.cfg[ss];(Ie!==Rt||!Ie)&&(Rt||(Rt=l_),af(it.cfg,ss,Rt),Ie=Rt,P=null),!k&&!P&&er(Rt)&&(P=Rt(Se,Se[Fs]()))}else P=null,Ie=null}))}function Fp(Ie){var it=sn(kd(),Se);it[js](Fa),(!Se._updateHook||Se._updateHook(it,Ie)!==!0)&&it[Vn](Ie)}function Rv(Ie){var it=Se[Hr];it?(Wr(it,2,73,Ie),Fa()):jn(Ie)}function aa(Ie){var it=Se[Fs]();it&&it[rf]([Ie],2)}function qo(Ie){Ze.add(Ie)}})}return a.__ieDyn=1,a}();function Pr(a,c){try{if(a&&a!==""){var p=Ta().parse(a);if(p&&p[Jv]&&p[Jv]>=p.itemsAccepted&&p.itemsReceived-p.itemsAccepted===p.errors[dt])return p}}catch(g){Wr(c,1,43,"Cannot parse the response. "+(g[Do]||tr(g)),{response:a})}return null}var Qs="",Nd="NoResponseBody",xv="&"+Nd+"=true",Pv="POST",Sm=function(){function a(){var c=0,p,g,b,x,k,P,M,j,z,J,K,ee,X,me;ki(a,this,function(we,Me){var Ze=!0;Cf(),we[Yn]=function(Be,At){b=At,g&&Wr(b,1,28,"Sender is already initialized"),we.SetConfig(Be),g=!0},we._getDbgPlgTargets=function(){return[g,x,P,p]},we.SetConfig=function(Be){try{if(k=Be.senderOnCompleteCallBack||{},P=!!Be.disableCredentials,M=Be.fetchCredentials,x=!!Be.isOneDs,p=!!Be.enableSendPromise,z=!!Be.disableXhr,J=!!Be.disableBeacon,K=!!Be.disableBeaconSync,me=Be.timeWrapper,X=!!Be.addNoResponse,ee=!!Be.disableFetchKeepAlive,j={sendPOST:$o},x||(Ze=!1),P){var At=Vs();At&&At.protocol&&At.protocol[ii]()==="file:"&&(Ze=!1)}return!0}catch{}return!1},we.getSyncFetchPayload=function(){return c},we.getSenderInst=function(Be,At){return Be&&Be[dt]?la(Be,At):null},we.getFallbackInst=function(){return j},we[pn]=function(Be,At){Cf()};function Qe(Be,At){mr(At,200,{},Be)}function Yt(Be,At){Wr(b,2,26,"Failed to send telemetry.",{message:Be}),mr(At,400,{})}function gr(Be){Yt("No endpoint url is provided for the batch",Be)}function la(Be,At){for(var On,Se=0,ar=null,Mn=0;ar==null&&Mn<Be[dt];)Se=Be[Mn],!z&&Se===1?cl()?ar=di:ff()&&(ar=$o):Se===2&&tm(At)&&(!At||!ee)?ar=Ac:Se===3&&cv()&&(At?!K:!J)&&(ar=Yo),Mn++;return ar?(On={_transport:Se,_isSync:At},On[sc]=ar,On):null}function mr(Be,At,On,Se){try{Be&&Be(At,On,Se)}catch{}}function La(Be,At){var On=gi(),Se=Be[oc];if(!Se)return gr(At),!0;Se=Be[oc]+(X?xv:Qs);var ar=Be[Zl],Mn=x?ar:new Blob([ar],{type:"text/plain;charset=UTF-8"}),Fa=On.sendBeacon(Se,Mn);return Fa}function Yo(Be,At,On){var Se=Be[Zl];try{if(Se)if(La(Be,At))Qe(Qs,At);else{var ar=k&&k.beaconOnRetry;ar&&er(ar)?ar(Be,At,La):(j&&j[sc](Be,At,!0),Wr(b,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(Mn){x&&ys(b,"Failed to send telemetry using sendBeacon API. Ex:"+tr(Mn)),mr(At,x?0:400,{},Qs)}}function $o(Be,At,On){var Se,ar,Mn,Fa=Be[os]||{};!On&&p&&(Se=ui(function(na,Ga){ar=na,Mn=Ga})),x&&On&&Be.disableXhrSync&&(On=!1);var Bi=Be[oc];if(!Bi){gr(At),ar&&ar(!1);return}var xr=pp(Pv,Bi,Ze,!0,On,Be[Xl]);x||xr[zm]("Content-type","application/json"),ft(mi(Fa),function(na){xr[zm](na,Fa[na])}),xr.onreadystatechange=function(){x||(za(xr),xr.readyState===4&&ar&&ar(!0))},xr.onload=function(){x&&za(xr)};function za(na){var Ga=k&&k.xhrOnComplete,kd=Ga&&er(Ga);if(kd)Ga(na,At,Be);else{var pi=Gs(na);mr(At,na[is],Ao(na,x),pi)}}return xr.onerror=function(na){mr(At,x?xr[is]:400,Ao(xr,x),x?Qs:ol(xr)),Mn&&Mn(na)},xr.ontimeout=function(){mr(At,x?xr[is]:500,Ao(xr,x),x?Qs:ol(xr)),ar&&ar(!1)},xr.send(Be[Zl]),Se}function Ac(Be,At,On){var Se,ar=Be[oc],Mn=Be[Zl],Fa=x?Mn:new Blob([Mn],{type:"application/json"}),Bi,xr,za,na=new Headers,Ga=Mn[dt],kd=!1,pi=!1,Mp=Be[os]||{},xf=(Se={method:Pv,body:Fa},Se[ci]=!0,Se);Be.headers&&mi(Be.headers)[dt]>0&&(ft(mi(Mp),function(aa){na.append(aa,Mp[aa])}),xf[os]=na),M?xf.credentials=M:Ze&&x&&(xf.credentials="include"),On&&(xf.keepalive=!0,c+=Ga,x?Be._sendReason===2&&(kd=!0,X&&(ar+=xv)):kd=!0);var Lp=new Request(ar,xf);try{Lp[ci]=!0}catch{}if(!On&&p&&(Bi=ui(function(aa,qo){xr=aa,za=qo})),!ar){gr(At),xr&&xr(!1);return}function Fp(aa){mr(At,x?0:400,{},x?Qs:aa)}function Rv(aa,qo,Ie){var it=aa[is],Lt=k.fetchOnComplete;Lt&&er(Lt)?Lt(aa,At,Ie||Qs,qo):mr(At,it,{},Ie||Qs)}try{ef(fetch(x?ar:Lp,x?xf:null),function(aa){if(On&&(c-=Ga,Ga=0),!pi)if(pi=!0,aa.rejected)Fp(aa.reason&&aa.reason[Ys]),za&&za(aa.reason);else{var qo=aa[Kf];try{!x&&!qo.ok?(Fp(qo.statusText),xr&&xr(!1)):x&&!qo.body?(Rv(qo,null,Qs),xr&&xr(!0)):ef(qo.text(),function(Ie){Rv(qo,Be,Ie[Kf]),xr&&xr(!0)})}catch(Ie){Fp(tr(Ie)),za&&za(Ie)}}})}catch(aa){pi||(Fp(tr(aa)),za&&za(aa))}return kd&&!pi&&(pi=!0,mr(At,200,{}),xr&&xr(!0)),x&&!pi&&Be[Xl]>0&&me&&me.set(function(){pi||(pi=!0,mr(At,500,{}),xr&&xr(!0))},Be[Xl]),Bi}function di(Be,At,On){var Se=ta(),ar=new XDomainRequest,Mn=Be[Zl];ar.onload=function(){var na=Gs(ar),Ga=k&&k.xdrOnComplete;Ga&&er(Ga)?Ga(ar,At,Be):mr(At,200,{},na)},ar.onerror=function(){mr(At,400,{},x?Qs:of(ar))},ar.ontimeout=function(){mr(At,500,{})},ar.onprogress=function(){};var Fa=Se&&Se.location&&Se.location[ns]||"",Bi=Be[oc];if(!Bi){gr(At);return}if(!x&&Bi.lastIndexOf(Fa,0)!==0){var xr="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";Wr(b,2,40,". "+xr),Yt(xr,At);return}var za=x?Bi:Bi[Ra](/^(https?:)/,"");ar.open(Pv,za),Be[Xl]&&(ar[Xl]=Be[Xl]),ar.send(Mn),x&&On?me&&me.set(function(){ar.send(Mn)},0):ar.send(Mn)}function Cf(){c=0,g=!1,p=!1,b=null,x=null,k=null,P=null,M=null,j=null,z=!1,J=!1,K=!1,ee=!1,X=!1,me=null}})}return a.__ieDyn=1,a}(),wf="on",Pp="attachEvent",f_="addEventListener",Ap="detachEvent",Il="removeEventListener",Nl="events",Dl="visibilitychange",Dc="pagehide",Cc="pageshow",ju="unload",bf="beforeunload",eu=Ks("aiEvtPageHide"),Ef=Ks("aiEvtPageShow"),Dd=/\.[\.]+/g,Ph=/[\.]+$/,Qm=1,Tf=Au("events"),If=/^([^.]*)(?:\.(.+)|)/;function Cd(a){return a&&a[Ra]?a[Ra](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,pr):a}function Rp(a,c){var p;if(c){var g=pr;Ct(c)?(g=pr,ft(c,function(x){x=Cd(x),x&&(x[0]!=="."&&(x="."+x),g+=x)})):g=Cd(c),g&&(g[0]!=="."&&(g="."+g),a=(a||pr)+g)}var b=If.exec(a||pr)||[];return p={},p[oi]=b[1],p.ns=(b[2]||pr).replace(Dd,".").replace(Ph,pr)[Ti](".").sort().join("."),p}function eh(a,c,p){var g=[],b=Tf.get(a,Nl,{},!1),x=Rp(c,p);return Lr(b,function(k,P){ft(P,function(M){var j;(!x[oi]||x[oi]===M.evtName[oi])&&(!x.ns||x.ns===x.ns)&&g[$r]((j={},j[Do]=M.evtName[oi]+(M.evtName.ns?"."+M.evtName.ns:pr),j.handler=M[as],j))})}),g}function Av(a,c,p){p===void 0&&(p=!0);var g=Tf.get(a,Nl,{},p),b=g[c];return b||(b=g[c]=[]),b}function wm(a,c,p,g){a&&c&&c[oi]&&(a[Il]?a[Il](c[oi],p,g):a[Ap]&&a[Ap](wf+c[oi],p))}function Ah(a,c,p,g){var b=!1;return a&&c&&c[oi]&&p&&(a[f_]?(a[f_](c[oi],p,g),b=!0):a[Pp]&&(a[Pp](wf+c[oi],p),b=!0)),b}function Rh(a,c,p,g){for(var b=c[dt];b--;){var x=c[b];x&&(!p.ns||p.ns===x.evtName.ns)&&(!g||g(x))&&(wm(a,x.evtName,x[as],x.capture),c[To](b,1))}}function kh(a,c,p){if(c[oi])Rh(a,Av(a,c[oi]),c,p);else{var g=Tf.get(a,Nl,{});Lr(g,function(b,x){Rh(a,x,c,p)}),mi(g)[dt]===0&&Tf.kill(a,Nl)}}function $n(a,c){var p;return c?(Ct(c)?p=[a].concat(c):p=[a,c],p=Rp("xx",p).ns[Ti](".")):p=a,p}function xd(a,c,p,g,b){var x;b===void 0&&(b=!1);var k=!1;if(a)try{var P=Rp(c,g);if(k=Ah(a,P,p,b),k&&Tf.accept(a)){var M=(x={guid:Qm++,evtName:P},x[as]=p,x.capture=b,x);Av(a,P.type)[$r](M)}}catch{}return k}function Kn(a,c,p,g,b){if(b===void 0&&(b=!1),a)try{var x=Rp(c,g),k=!1;kh(a,x,function(P){return x.ns&&!p||P[as]===p?(k=!0,!0):!1}),k||wm(a,x,p,b)}catch{}}function V_(a,c,p,g){return g===void 0&&(g=!1),xd(a,c,p,null,g)}function kp(a,c,p,g){g===void 0&&(g=!1),Kn(a,c,p,null,g)}function Pd(a,c,p){var g=!1,b=ta();b&&(g=xd(b,a,c,p),g=xd(b.body,a,c,p)||g);var x=ri();return x&&(g=xd(x,a,c,p)||g),g}function d(a,c,p){var g=ta();g&&(Kn(g,a,c,p),Kn(g.body,a,c,p));var b=ri();b&&Kn(b,a,c,p)}function _(a,c,p,g){var b=!1;return c&&a&&a[dt]>0&&ft(a,function(x){x&&(!p||ya(p,x)===-1)&&(b=Pd(x,c,g)||b)}),b}function E(a,c,p,g){var b=!1;return c&&a&&Ct(a)&&(b=_(a,c,p,g),!b&&p&&p[dt]>0&&(b=_(a,c,null,g))),b}function D(a,c,p){a&&Ct(a)&&ft(a,function(g){g&&d(g,c,p)})}function R(a,c,p){return E([bf,ju,Dc],a,c,p)}function $(a,c){D([bf,ju,Dc],a,c)}function q(a,c,p){function g(k){var P=ri();a&&P&&P.visibilityState==="hidden"&&a(k)}var b=$n(eu,p),x=_([Dc],a,c,b);return(!c||ya(c,Dl)===-1)&&(x=_([Dl],g,c,b)||x),!x&&c&&(x=q(a,null,p)),x}function Z(a,c){var p=$n(eu,c);D([Dc],a,p),D([Dl],null,p)}function oe(a,c,p){function g(k){var P=ri();a&&P&&P.visibilityState==="visible"&&a(k)}var b=$n(Ef,p),x=_([Cc],a,c,b);return x=_([Dl],g,c,b)||x,!x&&c&&(x=oe(a,null,p)),x}function ue(a,c){var p=$n(Ef,c);D([Cc],a,p),D([Dl],null,p)}var Pe=Oi({DISABLED:0,CRITICAL:1,WARNING:2,DEBUG:3}),Ge="",Ve="https://browser.events.data.microsoft.com/OneCollector/1.0/",De="version",ge="properties",Ue="initialize",Te="logger",Je="indexOf",Ae="timings",Ce="pollInternalLogs",qe="value",Ht="kind",Kt="length",lr="processTelemetryStart",Dr="handleField",tn="rmSanitizer",Jr="rmFieldSanitizer",qn="canHandle",qr,Ma="4.3.5",et="1DS-Web-JS-"+Ma,mt=h.hasOwnProperty,wr="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",vr="withCredentials",Nt="timeout",Ar=(qr={},qr[0]=0,qr[2]=6,qr[1]=1,qr[3]=7,qr[4098]=6,qr[4097]=1,qr[4099]=7,qr),bt=null,hn=Fl(),ht=$d();function Dn(a){return!(a===Ge||rt(a))}function Cn(a){if(a){var c=Zi(a,"-");if(c>-1)return Gn(a,c)}return Ge}function li(){return bt===null&&(bt=!tt(Uint8Array)&&!fi()&&!ul()),bt}function Yu(a){return!!(a&&ir(a)&&a>=1&&a<=4)}function Es(a,c,p){if(!c&&!Dn(c)||typeof a!="string")return null;var g=typeof c;if(g==="string"||g==="number"||g==="boolean"||Ct(c))c={value:c};else if(g==="object"&&!mt.call(c,"value"))c={value:p?JSON.stringify(c):c};else if(rt(c[qe])||c[qe]===Ge||!Gt(c[qe])&&!ir(c[qe])&&!lt(c[qe])&&!Ct(c[qe]))return null;if(Ct(c[qe])&&!Pc(c[qe]))return null;if(!rt(c[Ht])){if(Ct(c[qe])||!bn(c[Ht]))return null;c[qe]=c[qe].toString()}return c}function Op(a,c,p){var g=-1;if(!tt(a))if(c>0&&(c===32?g=8192:c<=13&&(g=c<<5)),Wn(p))g===-1&&(g=0),g|=p;else{var b=Ar[Ts(a)]||-1;g!==-1&&b!==-1?g|=b:b===6&&(g=b)}return g}function tu(a,c,p){p===void 0&&(p=!0);var g;return a&&(g=a.get(c),p&&g&&decodeURIComponent&&(g=decodeURIComponent(g))),g||Ge}function jo(a){a===void 0&&(a="D");var c=y();return a==="B"?c="{"+c+"}":a==="P"?c="("+c+")":a==="N"&&(c=c.replace(/-/g,Ge)),c}function xc(a,c,p,g,b){var x={},k=!1,P=0,M=arguments[Kt],j=arguments;for(lt(j[0])&&(k=j[0],P++);P<M;P++){var a=j[P];Lr(a,function(J,K){k&&K&&Qn(K)?Ct(K)?(x[J]=x[J]||[],ft(K,function(ee,X){ee&&Qn(ee)?x[J][X]=xc(!0,x[J][X],ee):x[J][X]=ee})):x[J]=xc(!0,x[J],K):x[J]=K})}return x}var ca=Hl;function bn(a){return a===0||a>0&&a<=13||a===32}function Wn(a){return a>=0&&a<=9}function fi(){var a=gi();if(!tt(a)&&a.userAgent){var c=a.userAgent.toLowerCase();if((c[Je]("safari")>=0||c[Je]("firefox")>=0)&&c[Je]("chrome")<0)return!0}return!1}function Pc(a){return a[Kt]>0}function Ad(a,c){var p=a;p[Ae]=p[Ae]||{},p[Ae][lr]=p[Ae][lr]||{},p[Ae][lr][c]=ca()}function Ts(a){var c=0;if(a!=null){var p=typeof a;p==="string"?c=1:p==="number"?c=2:p==="boolean"?c=3:p===r&&(c=4,Ct(a)?(c=4096,a[Kt]>0&&(c|=Ts(a[0]))):mt.call(a,"value")&&(c=8192|Ts(a[qe])))}return c}function Nf(){return!!on("chrome")}function Df(a,c,p,g,b,x){g===void 0&&(g=!1),b===void 0&&(b=!1);function k(M,j,z){try{M[j]=z}catch{}}var P=new XMLHttpRequest;return g&&k(P,wr,g),p&&k(P,vr,p),P.open(a,c,!b),p&&k(P,vr,p),!b&&x&&k(P,Nt,x),P}function Rd(a){return a>0}var th=uu({endpointUrl:Ve,propertyStorageOverride:{isVal:bm}});function bm(a){return a&&(!a.getProperty||!a.setProperty)&&jn("Invalid property storage override passed."),!0}var Em=function(a){Wu(c,a);function c(){var p=a.call(this)||this;return ki(c,p,function(g,b){g[Ue]=function(x,k,P,M){f(g,function(){return"AppInsightsCore.initialize"},function(){try{b[Ue](Oa(x,th,P||g[Te],!1).cfg,k,P,M)}catch(J){var j=g[Te],z=tr(J);z[Je]("channels")!==-1&&(z+=`
 - Channels must be provided through config.channels only!`),Wr(j,1,514,"SDK Initialization Failed - no telemetry will be sent: "+z)}},function(){return{config:x,extensions:k,logger:P,notificationManager:M}})},g.track=function(x){f(g,function(){return"AppInsightsCore.track"},function(){var k=x;if(k){k[Ae]=k[Ae]||{},k[Ae].trackStart=ca(),Yu(k.latency)||(k.latency=1);var P=k.ext=k.ext||{};P.sdk=P.sdk||{},P.sdk.ver=et;var M=k.baseData=k.baseData||{};M[ge]=M[ge]||{};var j=M[ge];j[De]=j[De]||g.pluginVersionString||Ge}b.track(k)},function(){return{item:x}},!x.sync)},g[Ce]=function(x){return b[Ce](x||"InternalLog")}}),p}return c.__ieDyn=1,c}(ym),rh=Oi({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,Pii_IPv6ScrubLastHextets:14,Pii_DropValue:15,CustomerContent_GenericContent:32}),Tm=Oi({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),Im=Oi({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),Nm=Oi({Normal:1,Critical:2}),ru=Oi({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),Dm=function(){function a(c){var p=this,g={},b=[],x=[];c&&x.push(c);function k(z,J){var K,ee=g[z];if(ee&&(K=ee[J]),!K&&K!==null){if(Gt(z)&&Gt(J))if(x[Kt]>0){for(var X=0;X<x[Kt];X++)if(x[X][Dr](z,J)){K={canHandle:!0,fieldHandler:x[X]};break}}else b[Kt]===0&&(K={canHandle:!0});if(!K&&K!==null){K=null;for(var X=0;X<b[Kt];X++)if(b[X][Dr](z,J)){K={canHandle:!0,handler:b[X],fieldHandler:null};break}}ee||(ee=g[z]={}),ee[J]=K}return K}p.clearCache=function(){g={}},p.addSanitizer=function(z){z&&(Hd(b,z)||b.push(z),g={})},p.addFieldSanitizer=function(z){z&&(Hd(x,z)||x.push(z),g={})},p[tn]=function(z){if(z){var J=ya(b,z);J!==-1&&(b.splice(J,1),g={}),ft(b,function(K){K&&K[tn]&&K[tn](z)})}},p[Jr]=function(z){if(z){var J=ya(x,z);J!==-1&&(x.splice(J,1),g={}),ft(b,function(K){K&&K[Jr]&&K[Jr](z)})}},p.isEmpty=function(){return ks(b)+ks(x)===0},p[Dr]=function(z,J){var K=k(z,J);return K?K[qn]:!1},p[qe]=function(z,J,K,ee){var X=k(z,J);if(X&&X[qn]){if(!X||!X[qn])return null;if(X.handler)return X.handler[qe](z,J,K,ee);if(!Gt(J)||rt(K)||K===Ge)return null;var me=null,we=Ts(K);if((we&8192)===8192){var Me=we&-8193;if(me=K,!Dn(me[qe])||Me!==1&&Me!==2&&Me!==3&&(Me&4096)!==4096)return null}else we===1||we===2||we===3||(we&4096)===4096?me=M(z,J,K):we===4&&(me=M(z,J,ee?JSON.stringify(K):K));if(me)return P(X,z,J,we,me,ee)}return null},p.property=function(z,J,K,ee){var X=k(z,J);if(!X||!X[qn]||!Gt(J)||rt(K)||!Dn(K[qe]))return null;var me=Ts(K[qe]);return me===0?null:P(X,z,J,me,K,ee)};function P(z,J,K,ee,X,me){if(z.handler)return z.handler.property(J,K,X,me);if(!rt(X[Ht])){if((ee&4096)===4096||!bn(X[Ht]))return null;X[qe]=X[qe].toString()}return j(z.fieldHandler,J,K,ee,X)}function M(z,J,K){return Dn(K)?{value:K}:null}function j(z,J,K,ee,X){if(X&&z){var me=z.getSanitizer(J,K,ee,X[Ht],X.propertyType);if(me)if(ee===4){var we={},Me=X[qe];Lr(Me,function(Qe,Yt){var gr=J+"."+K;if(Dn(Yt)){var la=M(gr,Qe,Yt);la=j(z,gr,Qe,Ts(Yt),la),la&&(we[Qe]=la[qe])}}),X[qe]=we}else{var Ze={path:J,name:K,type:ee,prop:X,sanitizer:p};X=me.call(p,Ze)}}return X}}return a.getFieldType=Ts,a}();e.ActiveStatus=dn,e.AppInsightsCore=Em,e.BaseTelemetryPlugin=Ih,e.DiagnosticLogger=Tc,e.EventLatency=Tm,e.EventPersistence=Nm,e.EventPropertyType=Im,e.EventsDiscardedReason=wu,e.FullVersionString=et,e.InternalAppInsightsCore=ym,e.LoggingSeverity=Pe,e.MinChannelPriorty=Gf,e.NotificationManager=El,e.PerfEvent=Lu,e.PerfManager=Ev,e.ProcessTelemetryContext=Fu,e.SenderPostManager=Sm,e.TraceLevel=ru,e.Undefined=n,e.ValueKind=rh,e.ValueSanitizer=Dm,e.Version=Ma,e._InternalLogMessage=_l,e.__getRegisteredEvents=eh,e._appendHeader=mc,e._getAllResponseHeaders=Ao,e._logInternalMessage=mv,e._testHookMaxUnloadHooksCb=hm,e._throwInternal=Wr,e._warnToConsole=ys,e.addEventHandler=Pd,e.addEventListeners=E,e.addPageHideEventListener=q,e.addPageShowEventListener=oe,e.addPageUnloadEventListener=R,e.areCookiesSupported=kn,e.arrForEach=ft,e.arrIndexOf=ya,e.arrMap=pu,e.arrReduce=Sn,e.attachEvent=V_,e.blockDynamicConversion=Sp,e.convertAllHeadersToMap=Nu,e.cookieAvailable=kn,e.createCookieMgr=ws,e.createDynamicConfig=Oa,e.createEnumStyle=Oi,e.createGuid=jo,e.createProcessTelemetryContext=Bt,e.createTraceParent=ur,e.createUniqueNamespace=Ks,e.createUnloadHandlerContainer=bs,e.dateNow=vu,e.detachEvent=kp,e.disallowsSameSiteNone=$i,e.doPerf=f,e.dumpObj=tr,e.eventOff=Kn,e.eventOn=xd,e.extend=xc,e.findW3cTraceParent=In,e.forceDynamicConversion=Lo,e.formatErrorMessageXdr=of,e.formatErrorMessageXhr=ol,e.formatTraceParent=Pt,e.generateW3CId=N,e.getCommonSchemaMetaData=Op,e.getConsole=lf,e.getCookieValue=tu,e.getCrypto=Du,e.getDocument=ri,e.getDynamicConfigHandler=yp,e.getExceptionName=cs,e.getFieldValueType=Ts,e.getGlobal=Ff,e.getGlobalInst=on,e.getHistory=Wi,e.getIEVersion=em,e.getISOString=us,e.getJSON=Ta,e.getLocation=Vs,e.getMsCrypto=ud,e.getNavigator=gi,e.getPerformance=Ai,e.getResponseText=Gs,e.getSetValue=af,e.getTenantId=Cn,e.getTime=ca,e.getWindow=ta,e.hasDocument=Fl,e.hasHistory=Ul,e.hasJSON=vs,e.hasNavigator=Zp,e.hasOwnProperty=En,e.hasWindow=$d,e.isArray=Ct,e.isArrayValid=Pc,e.isBeaconsSupported=cv,e.isBoolean=lt,e.isChromium=Nf,e.isDate=ln,e.isDocumentObjectAvailable=hn,e.isError=Et,e.isFetchSupported=tm,e.isFunction=er,e.isGreaterThanZero=Rd,e.isIE=Cu,e.isLatency=Yu,e.isNotTruthy=Un,e.isNullOrUndefined=rt,e.isNumber=ir,e.isObject=Qn,e.isReactNative=ul,e.isSampledFlag=Nr,e.isString=Gt,e.isTruthy=Za,e.isTypeof=It,e.isUint8ArrayAvailable=li,e.isUndefined=tt,e.isValidSpanId=jt,e.isValidTraceId=nr,e.isValidTraceParent=Ir,e.isValueAssigned=Dn,e.isValueKind=bn,e.isWindowObjectAvailable=ht,e.isXhrSupported=ff,e.mergeEvtNamespace=$n,e.newGuid=y,e.newId=nm,e.normalizeJsName=zs,e.objDefineAccessors=Ol,e.objForEachKey=Lr,e.objFreeze=Ki,e.objKeys=mi,e.objSeal=cu,e.onConfigChange=pd,e.openXhr=Df,e.optimizeObject=ad,e.parseResponse=Pr,e.parseTraceParent=ut,e.perfNow=Hl,e.prependTransports=sf,e.proxyAssign=ls,e.proxyFunctionAs=oo,e.proxyFunctions=il,e.random32=fl,e.randomValue=rm,e.removeEventHandler=d,e.removeEventListeners=D,e.removePageHideEventListener=Z,e.removePageShowEventListener=ue,e.removePageUnloadEventListener=$,e.safeGetCookieMgr=Uo,e.safeGetLogger=Ec,e.sanitizeProperty=Es,e.setEnableEnvMocks=Ha,e.setProcessTelemetryTimings=Ad,e.setValue=ji,e.strContains=pt,e.strEndsWith=$f,e.strFunction=t,e.strObject=r,e.strPrototype=s,e.strStartsWith=Kv,e.strTrim=$a,e.strUndefined=n,e.throwError=jn,e.toISOString=us,e.useXDomainRequest=cl})});var uw=Ld((ey,sw)=>{(function(e,t){typeof ey=="object"&&typeof sw<"u"?t(ey):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.oneDS=e.oneDS||{}))})(ey,function(e){"use strict";var t="REAL_TIME",r="NEAR_REAL_TIME",n="BEST_EFFORT",s="function",u="object",h="undefined",S="prototype",I=Object,C=I[S];function F(d,_){return d||_}function H(d,_){return d[_]}var ne=void 0,fe=null,ie="",Q="function",re="object",le="prototype",he="__proto__",je="undefined",Ee="constructor",ze="Symbol",_t="_polyfill",at="length",Dt="name",st="call",Ut="toString",jr=F(Object),Ca=H(jr,le),ma=F(String),Or=H(ma,le),gn=F(Math),nt=F(Array),Ni=H(nt,le),Ye=H(Ni,"slice");function Er(d,_){try{return{v:d.apply(this,_)}}catch(E){return{e:E}}}function Bn(d){return function(_){return typeof _===d}}function zt(d){return typeof d===je||d===je}function It(d){return!rt(d)}function tt(d){return d===fe||zt(d)}function Xn(d){return d===fe||!rt(d)}function rt(d){return!!d||d!==ne}var su=Bn("string"),Vt=Bn(Q);function Ho(d){return!d&&tt(d)?!1:!!d&&typeof d===re}var Gt=H(nt,"isArray"),er=Bn("number"),Qn=Bn("boolean");function Ct(d){return!!(d&&d.then&&Vt(d.then))}var ln=H(jr,"getOwnPropertyDescriptor");function ir(d,_){return!!d&&Ca.hasOwnProperty[st](d,_)}var lt=F(H(jr,"hasOwn"),Et);function Et(d,_){return ir(d,_)||!!ln(d,_)}function Mr(d,_,E){if(d&&Ho(d)){for(var D in d)if(lt(d,D)&&_[st](E||d,D,d[D])===-1)break}}var Un={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function Za(d){var _={};if(_[Un.c]=!0,_[Un.e]=!0,d.l){_.get=function(){return d.l.v};var E=ln(d.l,"v");E&&E.set&&(_.set=function(D){d.l.v=D})}return Mr(d,function(D,R){_[Un[D]]=It(R)?_[Un[D]]:R}),_}var an=H(jr,"defineProperty");function En(d,_,E){return an(d,_,Za(E))}function Vi(d,_,E,D,R){var $={};return Mr(d,function(q,Z){ia($,q,_?Z:q,R),ia($,Z,E?Z:q,R)}),D?D($):$}function ia(d,_,E,D){an(d,_,{value:E,enumerable:!0,writable:!!D})}var Lr=F(ma),Zt="[object Error]";function cr(d,_){var E=ie,D=Ca[Ut][st](d);D===Zt&&(d={stack:Lr(d.stack),message:Lr(d.message),name:Lr(d.name)});try{E=JSON.stringify(d,fe,_?typeof _=="number"?_:4:ne),E=(E?E.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):fe)||Lr(d)}catch(R){E=" - "+cr(R,_)}return D+": "+E}function Xr(d){throw new TypeError(d)}var Ol=H(jr,"freeze");function Hn(d){return d}function Ml(d){return d[he]||fe}var mo=H(jr,"assign"),Rn=H(jr,"keys");function As(d){return Ol&&Mr(d,function(_,E){(Gt(E)||Ho(E))&&As(E)}),tr(d)}var tr=F(Ol,Hn),jn=F(H(jr,"getPrototypeOf"),Ml);function Xa(d){return Vi(d,1,0,tr)}function Qa(d){return Vi(d,0,0,tr)}var ei=Qa({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),Mf="__tsUtils$gblCfg",Uc;function mi(){var d;return typeof globalThis!==je&&(d=globalThis),!d&&typeof self!==je&&(d=self),!d&&typeof window!==je&&(d=window),!d&&typeof global!==je&&(d=global),d}function uu(){if(!Uc){var d=Er(mi).v||{};Uc=d[Mf]=d[Mf]||{}}return Uc}var Ki=cu;function cu(d,_,E){var D=_?_[d]:fe;return function(R){var $=(R?R[d]:fe)||D;if($||E){var q=arguments;return($||E).apply(R,$?Ye[st](q,1):q)}Xr('"'+Lr(d)+'" not defined for '+cr(R))}}var ha=H(gn,"max"),zn=Ki("slice",Or),Bu=Ki("substring",Or),lu=cu("substr",Or,Ll);function Ll(d,_,E){return tt(d)&&Xr("Invalid "+cr(d)),E<0?ie:(_=_||0,_<0&&(_=ha(_+d[at],0)),zt(E)?zn(d,_):zn(d,_,_+E))}function _a(d,_){return Bu(d,0,_)}var Cr="_urid",yn;function en(){if(!yn){var d=uu();yn=d.gblSym=d.gblSym||{k:{},s:{}}}return yn}var xa;function ho(d){var _={description:Lr(d),toString:function(){return ze+"("+d+")"}};return _[_t]=!0,_}function Hu(d){var _=en();if(!lt(_.k,d)){var E=ho(d),D=Rn(_.s).length;E[Cr]=function(){return D+"_"+E[Ut]()},_.k[d]=E,_.s[E[Cr]()]=Lr(d)}return _.k[d]}function hi(d){!xa&&(xa={});var _,E=ei[d];return E&&(_=xa[E]=xa[E]||ho(ze+"."+E)),_}var Kr;function _o(){Kr=uu()}function zo(d){return an({toJSON:function(){return d}},"v",{value:d})}var Gn="window",Go;function fu(d,_){var E;return function(){return!Kr&&_o(),(!E||Kr.lzy)&&(E=zo(Er(d,_).v)),E.v}}function ti(d){return!Kr&&_o(),(!Go||d===!1||Kr.lzy)&&(Go=zo(Er(mi).v||fe)),Go.v}function fn(d,_){var E;if(!Go||_===!1?E=ti(_):E=Go.v,E&&E[d])return E[d];if(d===Gn)try{return window}catch{}return fe}var ea=fu(fn,["document"]);function zu(){return!!_i()}var _i=fu(fn,[Gn]);function Tr(){return!!ga()}var ga=fu(fn,["navigator"]),Lf=fu(function(){return!!Er(function(){return process&&(process.versions||{}).node}).v}),Pa,Vo;function jc(){return Pa=zo(Er(fn,[ze]).v),Pa}function Ko(d){var _=(Kr.lzy?0:Pa)||jc();return _.v?_.v[d]:ne}function Ff(){return!!on()}function on(){return!Kr&&_o(),((Kr.lzy?0:Pa)||jc()).v}function Fl(d,_){var E=ei[d];!Kr&&_o();var D=(Kr.lzy?0:Pa)||jc();return D.v?D.v[E||d]:_?ne:hi(d)}function ri(d,_){!Kr&&_o();var E=(Kr.lzy?0:Pa)||jc();return E.v?E.v(d):_?fe:ho(d)}function $d(d){return!Kr&&_o(),Vo=(Kr.lzy?0:Vo)||zo(Er(Ko,["for"]).v),(Vo.v||Hu)(d)}function ta(d){return!!d&&Vt(d.next)}function Zp(d){return!Xn(d)&&Vt(d[Fl(3)])}var gi;function Ul(d,_,E){if(d&&(ta(d)||(!gi&&(gi=zo(Fl(3))),d=d[gi.v]?d[gi.v]():fe),ta(d))){var D=ne,R=ne;try{for(var $=0;!(R=d.next()).done&&_[st](E||d,R.value,$,d)!==-1;)$++}catch(q){D={e:q},d.throw&&(R=fe,d.throw(D))}finally{try{R&&!R.done&&d.return&&d.return(R)}finally{if(D)throw D.e}}}}function Wi(d,_,E){return d.apply(_,E)}function Uf(d,_){return!zt(_)&&d&&(Gt(_)?Wi(d.push,d,_):ta(_)||Zp(_)?Ul(_,function(E){d.push(E)}):d.push(_)),d}function _r(d,_,E){if(d)for(var D=d[at]>>>0,R=0;R<D&&!(R in d&&_[st](E||d,d[R],R,d)===-1);R++);}var Wo=Ki("indexOf",Ni);function jf(d,_,E){return((d?d.slice:fe)||Ye).apply(d,Ye[st](arguments,1))}var Ya=F(H(jr,"create"),Yc);function Yc(d){if(!d)return{};var _=typeof d;_!==re&&_!==Q&&Xr("Prototype must be an Object or function: "+cr(d));function E(){}return E[le]=d,new E}var kt;function yi(d,_){var E=jr.setPrototypeOf||function(D,R){var $;!kt&&(kt=zo(($={},$[he]=[],$ instanceof Array))),kt.v?D[he]=R:Mr(R,function(q,Z){return D[q]=Z})};return E(d,_)}function Gu(d,_,E){Er(En,[_,Dt,{v:d,c:!0,e:!1}]),_=yi(_,E);function D(){this[Ee]=_,Er(En,[this,Dt,{v:d,c:!0,e:!1}])}return _[le]=E===fe?Ya(E):(D[le]=E[le],new D),_}function jl(d,_){_&&(d[Dt]=_)}function Gv(d,_,E){var D=E||Error,R=D[le][Dt],$=Error.captureStackTrace;return Gu(d,function(){var q=this,Z=arguments;try{Er(jl,[D,d]);var oe=Wi(D,q,Ye[st](Z))||q;if(oe!==q){var ue=jn(q);ue!==jn(oe)&&yi(oe,ue)}return $&&$(oe,q[Ee]),_&&_(oe,Z),oe}finally{Er(jl,[D,R])}},D)}function Di(){return(Date.now||Yl)()}function Yl(){return new Date().getTime()}function qd(d){return function(E){return tt(E)&&Xr("strTrim called ["+cr(E)+"]"),E&&E.replace&&(E=E.replace(d,ie)),E}}var du=qd(/^\s+|(?=\s)\s+$/g),Ci=cu("trim",Or,du),ft,ya,pu;function Rs(d){if(!d||typeof d!==re)return!1;pu||(pu=zu()?_i():!0);var _=!1;if(d!==pu){ya||(ft=Function[le][Ut],ya=ft[st](jr));try{var E=jn(d);_=!E,_||(ir(E,Ee)&&(E=E[Ee]),_=!!(E&&typeof E===Q&&ft[st](E)===ya))}catch{}}return _}function Bd(){return Di()}var Hd=Ki("indexOf",Or),Sn=cu("startsWith",Or,Si);function Si(d,_,E){su(d)||Xr("'"+cr(d)+"' is not a string");var D=su(_)?_:Lr(_),R=E>0?E:0;return Bu(d,R,R+D[at])===D}var zd="ref",xi="unref",ni="hasRef",Hm="enabled";function Vv(d,_,E){var D=!0,R=d?_(fe):fe,$;function q(){return D=!1,R&&R[xi]&&R[xi](),$}function Z(){R&&E(R),R=fe}function oe(){return R=_(R),D||q(),$}function ue(Pe){!Pe&&R&&Z(),Pe&&!R&&oe()}return $={cancel:Z,refresh:oe},$[ni]=function(){return R&&R[ni]?R[ni]():D},$[zd]=function(){return D=!0,R&&R[zd]&&R[zd](),$},$[xi]=q,$=an($,Hm,{get:function(){return!!R},set:ue}),{h:$,dn:function(){R=fe}}}function Xp(d,_,E){var D=Gt(_),R=D?_.length:0,$=(R>0?_[0]:D?ne:_)||setTimeout,q=(R>1?_[1]:ne)||clearTimeout,Z=E[0];E[0]=function(){oe.dn(),Wi(Z,ne,Ye[st](arguments))};var oe=Vv(d,function(ue){if(ue){if(ue.refresh)return ue.refresh(),ue;Wi(q,ne,[ue])}return Wi($,ne,E)},function(ue){Wi(q,ne,[ue])});return oe.h}function vu(d,_){return Xp(!0,ne,Ye[st](arguments))}function Qp(d,_,E){return Xp(!0,d,Ye[st](arguments,1))}(ti()||{}).Symbol,(ti()||{}).Reflect;var bh="hasOwnProperty",Gd=function(d,_){return Gd=I.setPrototypeOf||{__proto__:[]}instanceof Array&&function(E,D){E.__proto__=D}||function(E,D){for(var R in D)D[bh](R)&&(E[R]=D[R])},Gd(d,_)};function $a(d,_){typeof _!==s&&_!==null&&Xr("Class extends value "+String(_)+" is not a constructor or null"),Gd(d,_);function E(){this.constructor=d}d[S]=_===null?Ya(_):(E[S]=_[S],new E)}var $l,ql="constructor",Ji="prototype",wi="function",mu="_dynInstFuncs",ev="_isDynProxy",Pi="_dynClass",Vd="_dynCls$",hu="_dynInstChk",$c=hu,Bl="_dfOpts",Yf="_unknown_",Kd="__proto__",tv="_dyn"+Kd,rv="__dynProto$Gbl",_u="_dynInstProto",Wd="useBaseInst",ks="setInstFuncs",Vu=Object,Ai=Vu.getPrototypeOf,Hl=Vu.getOwnPropertyNames,$f=ti(),qc=$f[rv]||($f[rv]={o:($l={},$l[ks]=!0,$l[Wd]=!0,$l),n:1e3});function Zi(d){return d&&(d===Vu[Ji]||d===Array[Ji])}function Kv(d){return Zi(d)||d===Function[Ji]}function Jo(d){var _;if(d){if(Ai)return Ai(d);var E=d[Kd]||d[Ji]||(d[ql]?d[ql][Ji]:null);_=d[tv]||E,ir(d,tv)||(delete d[_u],_=d[tv]=d[_u]||d[tv],d[_u]=E)}return _}function go(d,_){var E=[];if(Hl)E=Hl(d);else for(var D in d)typeof D=="string"&&ir(d,D)&&E.push(D);if(E&&E.length>0)for(var R=0;R<E.length;R++)_(E[R])}function Xi(d,_,E){return _!==ql&&typeof d[_]===wi&&(E||ir(d,_))&&_!==Kd&&_!==Ji}function gu(d){Xr("DynamicProto: "+d)}function qf(d){var _=Ya(null);return go(d,function(E){!_[E]&&Xi(d,E,!1)&&(_[E]=d[E])}),_}function Bc(d,_){for(var E=d.length-1;E>=0;E--)if(d[E]===_)return!0;return!1}function Hc(d,_,E,D){function R(oe,ue,Pe){var Ge=ue[Pe];if(Ge[ev]&&D){var Ve=oe[mu]||{};Ve[$c]!==!1&&(Ge=(Ve[ue[Pi]]||{})[Pe]||Ge)}return function(){return Ge.apply(oe,arguments)}}var $=Ya(null);go(E,function(oe){$[oe]=R(_,E,oe)});for(var q=Jo(d),Z=[];q&&!Kv(q)&&!Bc(Z,q);)go(q,function(oe){!$[oe]&&Xi(q,oe,!Ai)&&($[oe]=R(_,q,oe))}),Z.push(q),q=Jo(q);return $}function Ku(d,_,E,D){var R=null;if(d&&ir(E,Pi)){var $=d[mu]||Ya(null);if(R=($[E[Pi]]||Ya(null))[_],R||gu("Missing ["+_+"] "+wi),!R[hu]&&$[$c]!==!1){for(var q=!ir(d,_),Z=Jo(d),oe=[];q&&Z&&!Kv(Z)&&!Bc(oe,Z);){var ue=Z[_];if(ue){q=ue===D;break}oe.push(Z),Z=Jo(Z)}try{q&&(d[_]=R),R[hu]=1}catch{$[$c]=!1}}}return R}function Bf(d,_,E){var D=_[d];return D===E&&(D=Jo(_)[d]),typeof D!==wi&&gu("["+d+"] is not a "+wi),D}function zl(d,_,E,D,R){function $(oe,ue){var Pe=function(){var Ge=Ku(this,ue,oe,Pe)||Bf(ue,oe,Pe);return Ge.apply(this,arguments)};return Pe[ev]=1,Pe}if(!Zi(d)){var q=E[mu]=E[mu]||Ya(null);if(!Zi(q)){var Z=q[_]=q[_]||Ya(null);q[$c]!==!1&&(q[$c]=!!R),Zi(Z)||go(E,function(oe){Xi(E,oe,!1)&&E[oe]!==D[oe]&&(Z[oe]=E[oe],delete E[oe],(!ir(d,oe)||d[oe]&&!d[oe][ev])&&(d[oe]=$(d,oe)))})}}}function Hf(d,_){if(Ai){for(var E=[],D=Jo(_);D&&!Kv(D)&&!Bc(E,D);){if(D===d)return!0;E.push(D),D=Jo(D)}return!1}return!0}function Wu(d,_){return ir(d,Ji)?d.name||_||Yf:((d||{})[ql]||{}).name||_||Yf}function Qi(d,_,E,D){ir(d,Ji)||gu("theClass is an invalid class definition.");var R=d[Ji];Hf(R,_)||gu("["+Wu(d)+"] not in hierarchy of ["+Wu(_)+"]");var $=null;ir(R,Pi)?$=R[Pi]:($=Vd+Wu(d,"_")+"$"+qc.n,qc.n++,R[Pi]=$);var q=Qi[Bl],Z=!!q[Wd];Z&&D&&D[Wd]!==void 0&&(Z=!!D[Wd]);var oe=qf(_),ue=Hc(R,_,oe,Z);E(_,ue);var Pe=!!Ai&&!!q[ks];Pe&&D&&(Pe=!!D[ks]),zl(R,$,_,oe,Pe!==!1)}Qi[Bl]=qc.o;var zc=Xa,yo=zc({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}),bi="toLowerCase",Zo="blkVal",Zr="length",Os="rdOnly",eo="notify",Gc="warnToConsole",Vc="throwInternal",Xo="setDf",Gl="watch",Qo="logger",yu="apply",ai="push",Jd="splice",Ju="hdlr",qa="cancel",zf="initialize",Zd="identifier",Vl="isInitialized",Kl="value",Xd="getPlugin",Wv="name",Zu="time",So="processNext",to="getProcessTelContext",wn="unload",Wl="loggingLevelConsole",Xu="createNew",Qu="teardown",Qd="messageId",Ri="message",Su="isAsync",Ms="diagLog",or="_doTeardown",wo="update",es="getNext",ki="setNextPlugin",Gf="protocol",Oi="userAgent",wu="split",dn="nodeType",ii="replace",Yr="logInternalMessage",dt="type",ec="handler",bo="status",Ls="getResponseHeader",ro="getAllResponseHeaders",bu="isChildEvt",Mi="data",Hr="getCtx",Eo="setCtx",$r="complete",To="urlString",Vf="sendPOST",Io="headers",Yn="timeout",no="setRequestHeader",ts;function Aa(d,_){ts||(ts=Gv("AggregationError",function(D,R){R[Zr]>1&&(D.errors=R[1])}));var E=d||"One or more errors occurred.";throw _r(_,function(D,R){E+=`
`.concat(R," > ").concat(cr(D))}),new ts(E,_||[])}var Ba="Promise",Kc="rejected";function tc(d,_){return Kf(d,function(E){return _?_({status:"fulfilled",rejected:!1,value:E}):E},function(E){return _?_({status:Kc,rejected:!0,reason:E}):E})}function Kf(d,_,E,D){var R=d;try{if(Ct(d))(_||E)&&(R=d.then(_,E));else try{_&&(R=_(d))}catch($){if(E)R=E($);else throw $}}finally{D&&Fs(R,D)}return R}function Fs(d,_){var E=d;return _&&(Ct(d)?d.finally?E=d.finally(_):E=d.then(function(D){return _(),D},function(D){throw _(),D}):_()),E}var No=["pending","resolving","resolved",Kc],Do="dispatchEvent",rc;function Co(d){var _;return d&&d.createEvent&&(_=d.createEvent("Event")),!!_&&_.initEvent}function Vn(d,_,E,D){var R=ea();!rc&&(rc=zo(!!Er(Co,[R]).v));var $=rc.v?R.createEvent("Event"):D?new Event(_):{};if(E&&E($),rc.v&&$.initEvent(_,!1,!0),$&&d[Do])d[Do]($);else{var q=d["on"+_];if(q)q($);else{var Z=fn("console");Z&&(Z.error||Z.log)(_,cr($))}}}var Wf="unhandledRejection",nc=Wf.toLowerCase(),Us=10,Ei;function rs(d){return Vt(d)?d.toString():cr(d)}function js(d,_,E){var D=jf(arguments,3),R=0,$=!1,q,Z=[],oe=!1,ue=null,Pe;function Ge(Ce,qe){try{oe=!0,ue&&ue.cancel(),ue=null;var Ht=d(function(Kt,lr){Z.push(function(){try{var Dr=R===2?Ce:qe,tn=zt(Dr)?q:Vt(Dr)?Dr(q):Dr;Ct(tn)?tn.then(Kt,lr):Dr?Kt(tn):R===3?lr(tn):Kt(tn)}catch(Jr){lr(Jr)}}),$&&Ue()},D);return Ht}finally{}}function Ve(Ce){return Ge(void 0,Ce)}function De(Ce){var qe=Ce,Ht=Ce;return Vt(Ce)&&(qe=function(Kt){return Ce&&Ce(),Kt},Ht=function(Kt){throw Ce&&Ce(),Kt}),Ge(qe,Ht)}function ge(){return No[R]}function Ue(){if(Z.length>0){var Ce=Z.slice();Z=[],oe=!0,ue&&ue.cancel(),ue=null,_(Ce)}}function Te(Ce,qe){return function(Ht){if(R===qe){if(Ce===2&&Ct(Ht)){R=1,Ht.then(Te(2,1),Te(3,1));return}R=Ce,$=!0,q=Ht,Ue(),!oe&&Ce===3&&!ue&&(ue=vu(Je,Us))}}}function Je(){if(!oe)if(oe=!0,Lf())process.emit(Wf,q,Pe);else{var Ce=_i()||ti();!Ei&&(Ei=zo(Er(fn,[Ba+"RejectionEvent"]).v)),Vn(Ce,nc,function(qe){return En(qe,"promise",{g:function(){return Pe}}),qe.reason=q,qe},!!Ei.v)}}Pe={then:Ge,catch:Ve,finally:De},an(Pe,"state",{get:ge}),Ff()&&(Pe[Fl(11)]="IPromise");function Ae(){return"IPromise "+ge()+($?" - "+rs(q):"")}return Pe.toString=Ae,function(){Vt(E)||Xr(Ba+": executor is not a function - "+rs(E));var qe=Te(3,0);try{E.call(Pe,Te(2,0),qe)}catch(Ht){qe(Ht)}}(),Pe}function Li(d){_r(d,function(_){try{_()}catch{}})}function Wc(d){var _=er(d)?d:0;return function(E){vu(function(){Li(E)},_)}}function Eu(d,_){return js(Eu,Wc(_),d,_)}var Sa;function Tu(d,_){!Sa&&(Sa=zo(Er(fn,[Ba]).v||null));var E=Sa.v;if(!E)return Eu(d);Vt(d)||Xr(Ba+": executor is not a function - "+cr(d));var D=0;function R(){return No[D]}var $=new E(function(q,Z){function oe(Pe){D=2,q(Pe)}function ue(Pe){D=3,Z(Pe)}d(oe,ue)});return an($,"state",{get:R}),$}var Ys;function Fi(d,_){return!Ys&&(Ys=zo(Tu)),Ys.v.call(this,d,_)}var ac=void 0,pn="",oa="core",Ui="disabled",ic="extensionConfig",ns="processTelemetry",ep="priority",Ti="getPerfMgr",Jc="Not dynamic - ",Ra=/-([a-z])/g,Jf=/([^\w\d_$])/g,oi=/^(\d+[\w\d_$])/;function as(d){return!tt(d)}function is(d){var _=d;return _&&su(_)&&(_=_[ii](Ra,function(E,D){return D.toUpperCase()}),_=_[ii](Jf,"_"),_=_[ii](oi,function(E,D){return"_"+D})),_}function tp(d,_){return d&&_?Hd(d,_)!==-1:!1}function Jl(d,_){var E=null,D=null;return Vt(d)?E=d:D=d,function(){var R=arguments;if(E&&(D=E()),D)return D[_][yu](D,R)}}function Zf(d,_,E,D,R){d&&_&&E&&(R!==!1||zt(d[_]))&&(d[_]=Jl(E,D))}function Zl(d,_,E,D){return d&&_&&Ho(d)&&Gt(E)&&_r(E,function(R){su(R)&&Zf(d,R,_,R,D)}),d}function xo(d){return d&&mo&&(d=I(mo({},d))),d}function si(d){try{return d.responseText}catch{}return null}function Zc(d,_){return d?"XDomainRequest,Response:"+si(d)||"":_}function Jv(d,_){return d?"XMLHttpRequest,Status:"+d[bo]+",Response:"+si(d)||d.response||"":_}function oc(d,_){return _&&(er(_)?d=[_].concat(d):Gt(_)&&(d=_.concat(d))),d}var sc="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",os="withCredentials",Xl="timeout";function zm(d,_,E,D,R,$){D===void 0&&(D=!1),R===void 0&&(R=!1);function q(oe,ue,Pe){try{oe[ue]=Pe}catch{}}var Z=new XMLHttpRequest;return D&&q(Z,sc,D),E&&q(Z,os,E),Z.open(d,_,!R),E&&q(Z,os,E),!R&&$&&q(Z,Xl,$),Z}function rp(d){var _={};if(su(d)){var E=Ci(d)[wu](/[\r\n]+/);_r(E,function(D){if(D){var R=D.indexOf(": ");if(R!==-1){var $=Ci(D.substring(0,R))[bi](),q=Ci(D.substring(R+1));_[$]=q}else _[Ci(D)]=1}})}return _}function Ql(d,_,E){if(!d[E]&&_&&_[Ls]){var D=_[Ls](E);D&&(d[E]=Ci(D))}return d}var uc="kill-duration",nv="kill-duration-seconds",Zv="time-delta-millis";function cc(d,_){var E={};return d[ro]?E=rp(d[ro]()):_&&(E=Ql(E,d,Zv),E=Ql(E,d,uc),E=Ql(E,d,nv)),E}var Xv="location",ef="console",np="JSON",ao="crypto",av="msCrypto",Gm="ReactNative",Xf="msie",iv="trident/",ap="XMLHttpRequest",Xc=null,Qf=null,lc=!1,$s=null,Qc=null;function Qv(d,_){var E=!1;if(d){try{if(E=_ in d,!E){var D=d[S];D&&(E=_ in D)}}catch{}if(!E)try{var R=new d;E=!zt(R[_])}catch{}}return E}function ip(d){if(d&&lc){var _=fn("__mockLocation");if(_)return _}return typeof location===u&&location?location:fn(Xv)}function el(){return typeof console!==h?console:fn(ef)}function op(){return!!(typeof JSON===u&&JSON||fn(np)!==null)}function qs(){return op()?JSON||fn(np):null}function zr(){return fn(ao)}function fc(){return fn(av)}function wa(){var d=ga();return d&&d.product?d.product===Gm:!1}function sp(){var d=ga();if(d&&(d[Oi]!==Qf||Xc===null)){Qf=d[Oi];var _=(Qf||pn)[bi]();Xc=tp(_,Xf)||tp(_,iv)}return Xc}function ed(d){return(Qc===null||d===!1)&&(Qc=Tr()&&!!ga().sendBeacon),Qc}function tl(d){var _=!1;try{_=!!fn("fetch");var E=fn("Request");_&&d&&E&&(_=Qv(E,"keepalive"))}catch{}return _}function dc(){return $s===null&&($s=typeof XDomainRequest!==h,$s&&ui()&&($s=$s&&!Qv(fn(ap),"withCredentials"))),$s}function ui(){var d=!1;try{var _=fn(ap);d=!!_}catch{}return d}var td=4294967296,sa=4294967295,pr=123456789,Bs=987654321,Tn=!1,ss=pr,pc=Bs;function vc(d){d<0&&(d>>>=0),ss=pr+d&sa,pc=Bs-d&sa,Tn=!0}function Hs(){try{var d=Di()&2147483647;vc((Math.random()*td^d)+d)}catch{}}function io(d){var _=0,E=zr()||fc();return E&&E.getRandomValues&&(_=E.getRandomValues(new Uint32Array(1))[0]&sa),_===0&&sp()&&(Tn||Hs(),_=tf()&sa),_===0&&(_=Math.floor(td*Math.random()|0)),d||(_>>>=0),_}function tf(d){pc=36969*(pc&65535)+(pc>>16)&sa,ss=18e3*(ss&65535)+(ss>>16)&sa;var _=(pc<<16)+(ss&65535)>>>0&sa|0;return d||(_>>>=0),_}function ov(d){d===void 0&&(d=22);for(var _="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",E=io()>>>0,D=0,R=pn;R[Zr]<d;)D++,R+=_.charAt(E&63),E>>>=6,D===5&&(E=(io()<<2&4294967295|E&3)>>>0,D=0);return R}var rf="3.3.5",sv="."+ov(6),nf=0;function rl(d){return d[dn]===1||d[dn]===9||!+d[dn]}function up(d,_){var E=_[d.id];if(!E){E={};try{rl(_)&&En(_,d.id,{e:!1,v:E})}catch{}}return E}function ra(d,_){return _===void 0&&(_=!1),is(d+nf+++(_?"."+rf:pn)+sv)}function nl(d){var _={id:ra("_aiData-"+(d||pn)+"."+rf),accept:function(E){return rl(E)},get:function(E,D,R,$){var q=E[_.id];return q?q[is(D)]:($&&(q=up(_,E),q[is(D)]=R),R)},kill:function(E,D){if(E&&E[D])try{delete E[D]}catch{}}};return _}function ba(d){return d&&Ho(d)&&(d.isVal||d.fb||lt(d,"v")||lt(d,"mrg")||lt(d,"ref")||d.set)}function Iu(d,_,E){var D,R=E.dfVal||rt;if(_&&E.fb){var $=E.fb;Gt($)||($=[$]);for(var q=0;q<$[Zr];q++){var Z=$[q],oe=_[Z];if(R(oe)?D=oe:d&&(oe=d.cfg[Z],R(oe)&&(D=oe),d.set(d.cfg,Lr(Z),oe)),R(D))break}}return!R(D)&&R(E.v)&&(D=E.v),D}function cp(d,_,E){var D=E;if(E&&ba(E)&&(D=Iu(d,_,E)),D){ba(D)&&(D=cp(d,_,D));var R;Gt(D)?(R=[],R[Zr]=D[Zr]):Rs(D)&&(R={}),R&&(Mr(D,function($,q){q&&ba(q)&&(q=cp(d,_,q)),R[$]=q}),D=R)}return D}function rd(d,_,E,D){var R,$,q,Z=D,oe,ue,Pe,Ge;ba(Z)?(R=Z.isVal,$=Z.set,Pe=Z[Os],Ge=Z[Zo],oe=Z.mrg,ue=Z.ref,!ue&&zt(ue)&&(ue=!!oe),q=Iu(d,_,Z)):q=D,Ge&&d[Zo](_,E);var Ve,De=!0,ge=_[E];(ge||!tt(ge))&&(Ve=ge,De=!1,R&&Ve!==q&&!R(Ve)&&(Ve=q,De=!0),$&&(Ve=$(Ve,q,_),De=Ve===q)),De?q?Ve=cp(d,_,q):Ve=q:(Rs(Ve)||Gt(q))&&oe&&q&&(Rs(q)||Gt(q))&&Mr(q,function(Ue,Te){rd(d,Ve,Ue,Te)}),d.set(_,E,Ve),ue&&d.ref(_,E),Pe&&d[Os](_,E)}var Ea=$d("[[ai_dynCfg_1]]"),nd=$d("[[ai_blkDynCfg_1]]"),lp=$d("[[ai_frcDynCfg_1]]");function zs(d){if(d){var _;if(Gt(d)?(_=[],_[Zr]=d[Zr]):Rs(d)&&(_={}),_)return Mr(d,function(E,D){_[E]=zs(D)}),_}return d}function pt(d){if(d){var _=d[Ea]||d;if(_.cfg&&(_.cfg===d||_.cfg[Ea]===_))return _}return null}function us(d){if(d&&(Rs(d)||Gt(d)))try{d[nd]=!0}catch{}return d}function cs(d,_,E){var D=!1;return E&&!d[_.blkVal]&&(D=E[lp],!D&&!E[nd]&&(D=Rs(E)||Gt(E))),D}function ji(d){Xr("InvalidAccess:"+d)}var af=["push","pop","shift","unshift","splice"],al=function(d,_,E,D){d&&d[Vc](3,108,"".concat(E," [").concat(_,"] failed - ")+cr(D))};function ls(d,_,E){Gt(_)&&_r(af,function(D){var R=_[D];_[D]=function(){for(var $=[],q=0;q<arguments.length;q++)$[q]=arguments[q];var Z=R[yu](this,$);return of(d,_,E,"Patching"),Z}})}function oo(d,_){var E=ln(d,_);return E&&E.get}function il(d,_,E,D){var R={n:E,h:[],trk:function(ue){ue&&ue.fn&&(Wo(R.h,ue)===-1&&R.h[ai](ue),d.trk(ue,R))},clr:function(ue){var Pe=Wo(R.h,ue);Pe!==-1&&R.h[Jd](Pe,1)}},$=!0,q=!1;function Z(){$&&(q=q||cs(Z,d,D),D&&!D[Ea]&&q&&(D=of(d,D,E,"Converting")),$=!1);var ue=d.act;return ue&&R.trk(ue),D}Z[d.prop]={chng:function(){d.add(R)}};function oe(ue){if(D!==ue){Z[d.ro]&&!d.upd&&ji("["+E+"] is read-only:"+cr(_)),$&&(q=q||cs(Z,d,D),$=!1);var Pe=q&&Z[d.rf];if(q)if(Pe){Mr(D,function(Ve){D[Ve]=ue?ue[Ve]:ac});try{Mr(ue,function(Ve,De){ad(d,D,Ve,De)}),ue=D}catch(Ve){al((d.hdlr||{})[Qo],E,"Assigning",Ve),q=!1}}else D&&D[Ea]&&Mr(D,function(Ve){var De=oo(D,Ve);if(De){var ge=De[d.prop];ge&&ge.chng()}});if(ue!==D){var Ge=ue&&cs(Z,d,ue);!Pe&&Ge&&(ue=of(d,ue,E,"Converting")),D=ue,q=Ge}d.add(R)}}En(_,R.n,{g:Z,s:oe})}function ad(d,_,E,D){if(_){var R=oo(_,E),$=R&&!!R[d.prop];$?_[E]=D:il(d,_,E,D)}return _}function Gs(d,_,E,D){if(_){var R=oo(_,E),$=R&&!!R[d.prop],q=D&&D[0],Z=D&&D[1],oe=D&&D[2];if(!$){if(oe)try{us(_)}catch(ue){al((d.hdlr||{})[Qo],E,"Blocking",ue)}try{ad(d,_,E,_[E]),R=oo(_,E)}catch(ue){al((d.hdlr||{})[Qo],E,"State",ue)}}q&&(R[d.rf]=q),Z&&(R[d.ro]=Z),oe&&(R[d.blkVal]=!0)}return _}function of(d,_,E,D){try{Mr(_,function(R,$){ad(d,_,R,$)}),_[Ea]||(an(_,Ea,{get:function(){return d[Ju]}}),ls(d,_,E))}catch(R){al((d.hdlr||{})[Qo],E,D,R)}return _}var ol="[[ai_",sf="]]";function fp(d){var _,E=ri(ol+"get"+d.uid+sf),D=ri(ol+"ro"+d.uid+sf),R=ri(ol+"rf"+d.uid+sf),$=ri(ol+"blkVal"+d.uid+sf),q=ri(ol+"dtl"+d.uid+sf),Z=null,oe=null,ue;function Pe(ge,Ue){var Te=ue.act;try{ue.act=ge,ge&&ge[q]&&(_r(ge[q],function(Ae){Ae.clr(ge)}),ge[q]=[]),Ue({cfg:d.cfg,set:d.set.bind(d),setDf:d[Xo].bind(d),ref:d.ref.bind(d),rdOnly:d[Os].bind(d)})}catch(Ae){var Je=d[Qo];throw Je&&Je[Vc](1,107,cr(Ae)),Ae}finally{ue.act=Te||null}}function Ge(){if(Z){var ge=Z;Z=null,oe&&oe[qa](),oe=null;var Ue=[];if(_r(ge,function(Te){if(Te&&(Te[q]&&(_r(Te[q],function(Je){Je.clr(Te)}),Te[q]=null),Te.fn))try{Pe(Te,Te.fn)}catch(Je){Ue[ai](Je)}}),Z)try{Ge()}catch(Te){Ue[ai](Te)}Ue[Zr]>0&&Aa("Watcher error(s): ",Ue)}}function Ve(ge){if(ge&&ge.h[Zr]>0){Z||(Z=[]),oe||(oe=vu(function(){oe=null,Ge()},0));for(var Ue=0;Ue<ge.h[Zr];Ue++){var Te=ge.h[Ue];Te&&Wo(Z,Te)===-1&&Z[ai](Te)}}}function De(ge,Ue){if(ge){var Te=ge[q]=ge[q]||[];Wo(Te,Ue)===-1&&Te[ai](Ue)}}return ue=(_={prop:E,ro:D,rf:R},_[Zo]=$,_[Ju]=d,_.add=Ve,_[eo]=Ge,_.use=Pe,_.trk=De,_),ue}function dp(d,_){var E={fn:_,rm:function(){E.fn=null,d=null,_=null}};return En(E,"toJSON",{v:function(){return"WatcherHandler"+(E.fn?"":"[X]")}}),d.use(E,_),E}function uv(d,_,E){var D,R=pt(_);if(R)return R;var $=ra("dyncfg",!0),q=_&&E!==!1?_:zs(_),Z;function oe(){Z[eo]()}function ue(Je,Ae,Ce){try{Je=ad(Z,Je,Ae,Ce)}catch(qe){al(d,Ae,"Setting value",qe)}return Je[Ae]}function Pe(Je){return dp(Z,Je)}function Ge(Je,Ae){Z.use(null,function(Ce){var qe=Z.upd;try{zt(Ae)||(Z.upd=Ae),Je(Ce)}finally{Z.upd=qe}})}function Ve(Je,Ae){var Ce;return Gs(Z,Je,Ae,(Ce={},Ce[0]=!0,Ce))[Ae]}function De(Je,Ae){var Ce;return Gs(Z,Je,Ae,(Ce={},Ce[1]=!0,Ce))[Ae]}function ge(Je,Ae){var Ce;return Gs(Z,Je,Ae,(Ce={},Ce[2]=!0,Ce))[Ae]}function Ue(Je,Ae){return Ae&&Mr(Ae,function(Ce,qe){rd(Te,Je,Ce,qe)}),Je}var Te=(D={uid:null,cfg:q},D[Qo]=d,D[eo]=oe,D.set=ue,D[Xo]=Ue,D[Gl]=Pe,D.ref=Ve,D[Os]=De,D[Zo]=ge,D._block=Ge,D);return En(Te,"uid",{c:!1,e:!1,w:!1,v:$}),Z=fp(Te),of(Z,q,"config","Creating"),Te}function pp(d,_){d?(d[Gc](_),d[Vc](2,108,_)):ji(_)}function Nu(d,_,E,D){var R=uv(E,d||{},D);return _&&R[Xo](R.cfg,_),R}function mc(d,_,E){var D=d[Ea]||d;return D.cfg&&(D.cfg===d||D.cfg[Ea]===D)?D[Gl](_):(pp(E,Jc+cr(d)),Nu(d,null,E)[Gl](_))}var uf="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Po=null;function fs(){var d=fn("Microsoft");return d&&(Po=d.ApplicationInsights),Po}function Ao(d){var _=Po;return!_&&d.disableDbgExt!==!0&&(_=Po||fs()),_?_.ChromeDbgExt:null}var Ro,hc="warnToConsole",vp="AI (Internal): ",_c="AI: ",mp="AITR_",hp={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},id=(Ro={},Ro[0]=null,Ro[1]="errorToConsole",Ro[2]=hc,Ro[3]="debugToConsole",Ro);function ds(d){return d?'"'+d[ii](/\"/g,pn)+'"':pn}function ko(d,_){var E=el();if(E){var D="log";E[d]&&(D=d),Vt(E[D])&&E[D](_)}}var Oo=function(){function d(_,E,D,R){D===void 0&&(D=!1);var $=this;$[Qd]=_,$[Ri]=(D?_c:vp)+_;var q=pn;op()&&(q=qs().stringify(R));var Z=(E?" message:"+ds(E):pn)+(R?" props:"+ds(q):pn);$[Ri]+=Z}return d.dataType="MessageData",d}();function od(d,_){return(d||{})[Qo]||new cf(_)}var cf=function(){function d(_){this.identifier="DiagnosticLogger",this.queue=[];var E=0,D={},R,$,q,Z,oe;Qi(d,this,function(ue){oe=Ge(_||{}),ue.consoleLoggingLevel=function(){return R},ue[Vc]=function(ge,Ue,Te,Je,Ae){Ae===void 0&&(Ae=!1);var Ce=new Oo(Ue,Te,Ae,Je);if(Z)throw cr(Ce);var qe=id[ge]||hc;if(zt(Ce[Ri]))De("throw"+(ge===1?"Critical":"Warning"),Ce);else{if(Ae){var Ht=+Ce[Qd];!D[Ht]&&R>=ge&&(ue[qe](Ce[Ri]),D[Ht]=!0)}else R>=ge&&ue[qe](Ce[Ri]);Pe(ge,Ce)}},ue.debugToConsole=function(ge){ko("debug",ge),De("warning",ge)},ue[Gc]=function(ge){ko("warn",ge),De("warning",ge)},ue.errorToConsole=function(ge){ko("error",ge),De("error",ge)},ue.resetInternalMessageCount=function(){E=0,D={}},ue[Yr]=Pe,ue[wn]=function(ge){oe&&oe.rm(),oe=null};function Pe(ge,Ue){if(!Ve()){var Te=!0,Je=mp+Ue[Qd];if(D[Je]?Te=!1:D[Je]=!0,Te&&(ge<=$&&(ue.queue[ai](Ue),E++,De(ge===1?"error":"warn",Ue)),E===q)){var Ae="Internal events throttle limit per PageView reached for this app.",Ce=new Oo(23,Ae,!1);ue.queue[ai](Ce),ge===1?ue.errorToConsole(Ae):ue[Gc](Ae)}}}function Ge(ge){return mc(Nu(ge,hp,ue).cfg,function(Ue){var Te=Ue.cfg;R=Te[Wl],$=Te.loggingLevelTelemetry,q=Te.maxMessageLimit,Z=Te.enableDebug})}function Ve(){return E>=q}function De(ge,Ue){var Te=Ao(_||{});Te&&Te[Ms]&&Te[Ms](ge,Ue)}})}return d.__ieDyn=1,d}();function sl(d){return d||new cf}function ka(d,_,E,D,R,$){$===void 0&&($=!1),sl(d)[Vc](_,E,D,R,$)}function ps(d,_){sl(d)[Gc](_)}var sd="ctx",Ha="ParentContextKey",Vs="ChildrenContextKey",lf=function(){function d(_,E,D){var R=this;if(R.start=Di(),R[Wv]=_,R[Su]=D,R[bu]=function(){return!1},Vt(E)){var $;En(R,"payload",{g:function(){return!$&&Vt(E)&&($=E(),E=null),$}})}R[Hr]=function(q){return q?q===d[Ha]||q===d[Vs]?R[q]:(R[sd]||{})[q]:null},R[Eo]=function(q,Z){if(q)if(q===d[Ha])R[q]||(R[bu]=function(){return!0}),R[q]=Z;else if(q===d[Vs])R[q]=Z;else{var oe=R[sd]=R[sd]||{};oe[q]=Z}},R[$r]=function(){var q=0,Z=R[Hr](d[Vs]);if(Gt(Z))for(var oe=0;oe<Z[Zr];oe++){var ue=Z[oe];ue&&(q+=ue[Zu])}R[Zu]=Di()-R.start,R.exTime=R[Zu]-q,R[$r]=function(){}}}return d.ParentContextKey="parent",d.ChildrenContextKey="childEvts",d}(),vs="CoreUtils.doPerf";function Ta(d,_,E,D,R){if(d){var $=d;if($[Ti]&&($=$[Ti]()),$){var q=void 0,Z=$[Hr](vs);try{if(q=$.create(_(),D,R),q){if(Z&&q[Eo]&&(q[Eo](lf[Ha],Z),Z[Hr]&&Z[Eo])){var oe=Z[Hr](lf[Vs]);oe||(oe=[],Z[Eo](lf[Vs],oe)),oe[ai](q)}return $[Eo](vs,q),E(q)}}catch(ue){q&&q[Eo]&&q[Eo]("exception",ue)}finally{q&&$.fire(q),$[Eo](vs,Z)}}}return E()}var Du=nl("plugin");function ud(d){return Du.get(d,"state",{},!0)}var ul="TelemetryPluginChain",Cu="_hasRun",em="_getTelCtx",cv=0;function tm(d,_,E){for(;d;){if(d[Xd]()===E)return d;d=d[es]()}return cd([E],_.config||{},_)}function cl(d,_,E,D){var R=null,$=[];_||(_=Nu({},null,E[Qo])),D!==null&&(R=D?tm(d,E,D):d);var q={_next:oe,ctx:{core:function(){return E},diagLog:function(){return od(E,_.cfg)},getCfg:function(){return _.cfg},getExtCfg:Pe,getConfig:Ge,hasNext:function(){return!!R},getNext:function(){return R},setNext:function(De){R=De},iterate:Ve,onComplete:Z}};function Z(De,ge){for(var Ue=[],Te=2;Te<arguments.length;Te++)Ue[Te-2]=arguments[Te];De&&$[ai]({func:De,self:zt(ge)?q.ctx:ge,args:Ue})}function oe(){var De=R;if(R=De?De[es]():null,!De){var ge=$;ge&&ge[Zr]>0&&(_r(ge,function(Ue){try{Ue.func.call(Ue.self,Ue.args)}catch(Te){ka(E[Qo],2,73,"Unexpected Exception during onComplete - "+cr(Te))}}),$=[])}return De}function ue(De,ge){var Ue=null,Te=_.cfg;if(Te&&De){var Je=Te[ic];!Je&&ge&&(Je={}),Te[ic]=Je,Je=_.ref(Te,ic),Je&&(Ue=Je[De],!Ue&&ge&&(Ue={}),Je[De]=Ue,Ue=_.ref(Je,De))}return Ue}function Pe(De,ge){var Ue=ue(De,!0);return ge&&Mr(ge,function(Te,Je){if(tt(Ue[Te])){var Ae=_.cfg[Te];(Ae||!tt(Ae))&&(Ue[Te]=Ae)}rd(_,Ue,Te,Je)}),_[Xo](Ue,ge)}function Ge(De,ge,Ue){Ue===void 0&&(Ue=!1);var Te,Je=ue(De,!1),Ae=_.cfg;return Je&&(Je[ge]||!tt(Je[ge]))?Te=Je[ge]:(Ae[ge]||!tt(Ae[ge]))&&(Te=Ae[ge]),Te||!tt(Te)?Te:Ue}function Ve(De){for(var ge;ge=q._next();){var Ue=ge[Xd]();Ue&&De(Ue)}}return q}function ff(d,_,E,D){var R=Nu(_),$=cl(d,R,E,D),q=$.ctx;function Z(ue){var Pe=$._next();return Pe&&Pe[ns](ue,q),!Pe}function oe(ue,Pe){return ue===void 0&&(ue=null),Gt(ue)&&(ue=cd(ue,R.cfg,E,Pe)),ff(ue||q[es](),R.cfg,E,Pe)}return q[So]=Z,q[Xu]=oe,q}function lv(d,_,E){var D=Nu(_.config),R=cl(d,D,_,E),$=R.ctx;function q(oe){var ue=R._next();return ue&&ue[wn]($,oe),!ue}function Z(oe,ue){return oe===void 0&&(oe=null),Gt(oe)&&(oe=cd(oe,D.cfg,_,ue)),lv(oe||$[es](),_,ue)}return $[So]=q,$[Xu]=Z,$}function Vm(d,_,E){var D=Nu(_.config),R=cl(d,D,_,E),$=R.ctx;function q(oe){return $.iterate(function(ue){Vt(ue[wo])&&ue[wo]($,oe)})}function Z(oe,ue){return oe===void 0&&(oe=null),Gt(oe)&&(oe=cd(oe,D.cfg,_,ue)),Vm(oe||$[es](),_,ue)}return $[So]=q,$[Xu]=Z,$}function cd(d,_,E,D){var R=null,$=!D;if(Gt(d)&&d[Zr]>0){var q=null;_r(d,function(Z){if(!$&&D===Z&&($=!0),$&&Z&&Vt(Z[ns])){var oe=_p(Z,_,E);R||(R=oe),q&&q._setNext(oe),q=oe}})}return D&&!R?cd([D],_,E):R}function _p(d,_,E){var D=null,R=Vt(d[ns]),$=Vt(d[ki]),q;d?q=d[Zd]+"-"+d[ep]+"-"+cv++:q="Unknown-0-"+cv++;var Z={getPlugin:function(){return d},getNext:function(){return D},processTelemetry:Pe,unload:Ge,update:Ve,_id:q,_setNext:function(De){D=De}};function oe(){var De;return d&&Vt(d[em])&&(De=d[em]()),De||(De=ff(Z,_,E)),De}function ue(De,ge,Ue,Te,Je){var Ae=!1,Ce=d?d[Zd]:ul,qe=De[Cu];return qe||(qe=De[Cu]={}),De.setNext(D),d&&Ta(De[oa](),function(){return Ce+":"+Ue},function(){qe[q]=!0;try{var Ht=D?D._id:pn;Ht&&(qe[Ht]=!1),Ae=ge(De)}catch(lr){var Kt=D?qe[D._id]:!0;Kt&&(Ae=!0),(!D||!Kt)&&ka(De[Ms](),1,73,"Plugin ["+Ce+"] failed during "+Ue+" - "+cr(lr)+", run flags: "+cr(qe))}},Te,Je),Ae}function Pe(De,ge){ge=ge||oe();function Ue(Te){if(!d||!R)return!1;var Je=ud(d);return Je[Qu]||Je[Ui]?!1:($&&d[ki](D),d[ns](De,Te),!0)}ue(ge,Ue,"processTelemetry",function(){return{item:De}},!De.sync)||ge[So](De)}function Ge(De,ge){function Ue(){var Te=!1;if(d){var Je=ud(d),Ae=d[oa]||Je[oa];d&&(!Ae||Ae===De.core())&&!Je[Qu]&&(Je[oa]=null,Je[Qu]=!0,Je[Vl]=!1,d[Qu]&&d[Qu](De,ge)===!0&&(Te=!0))}return Te}ue(De,Ue,"unload",function(){},ge[Su])||De[So](ge)}function Ve(De,ge){function Ue(){var Te=!1;if(d){var Je=ud(d),Ae=d[oa]||Je[oa];d&&(!Ae||Ae===De.core())&&!Je[Qu]&&d[wo]&&d[wo](De,ge)===!0&&(Te=!0)}return Te}ue(De,Ue,"update",function(){},!1)||De[So](ge)}return tr(Z)}function ll(){var d=[];function _(D){D&&d[ai](D)}function E(D,R){_r(d,function($){try{$(D,R)}catch(q){ka(D[Ms](),2,73,"Unexpected error calling unload handler - "+cr(q))}}),d=[]}return{add:_,run:E}}function xu(){var d=[];function _(D){var R=d;d=[],_r(R,function($){try{($.rm||$.remove).call($)}catch(q){ka(D,2,73,"Unloading:"+cr(q))}})}function E(D){D&&Uf(d,D)}return{run:_,add:E}}var gp,ms="getPlugin",ld=(gp={},gp[ic]={isVal:as,v:{}},gp),df=function(){function d(){var _=this,E,D,R,$,q;ue(),Qi(d,_,function(Pe){Pe[zf]=function(Ge,Ve,De,ge){oe(Ge,Ve,ge),E=!0},Pe[Qu]=function(Ge,Ve){var De,ge=Pe[oa];if(!ge||Ge&&ge!==Ge[oa]())return;var Ue,Te=!1,Je=Ge||lv(null,ge,R&&R[ms]?R[ms]():R),Ae=Ve||(De={reason:0},De[Su]=!1,De);function Ce(){Te||(Te=!0,$.run(Je,Ve),q.run(Je[Ms]()),Ue===!0&&Je[So](Ae),ue())}return!Pe[or]||Pe[or](Je,Ae,Ce)!==!0?Ce():Ue=!0,Ue},Pe[wo]=function(Ge,Ve){var De=Pe[oa];if(!De||Ge&&De!==Ge[oa]())return;var ge,Ue=!1,Te=Ge||Vm(null,De,R&&R[ms]?R[ms]():R),Je=Ve||{reason:0};function Ae(){Ue||(Ue=!0,oe(Te.getCfg(),Te.core(),Te[es]()))}return!Pe._doUpdate||Pe._doUpdate(Te,Je,Ae)!==!0?Ae():ge=!0,ge},Zf(Pe,"_addUnloadCb",function(){return $},"add"),Zf(Pe,"_addHook",function(){return q},"add"),En(Pe,"_unloadHooks",{g:function(){return q}})}),_[Ms]=function(Pe){return Z(Pe)[Ms]()},_[Vl]=function(){return E},_.setInitialized=function(Pe){E=Pe},_[ki]=function(Pe){R=Pe},_[So]=function(Pe,Ge){Ge?Ge[So](Pe):R&&Vt(R[ns])&&R[ns](Pe,null)},_._getTelCtx=Z;function Z(Pe){Pe===void 0&&(Pe=null);var Ge=Pe;if(!Ge){var Ve=D||ff(null,{},_[oa]);R&&R[ms]?Ge=Ve[Xu](null,R[ms]):Ge=Ve[Xu](null,R)}return Ge}function oe(Pe,Ge,Ve){Nu(Pe,ld,od(Ge)),!Ve&&Ge&&(Ve=Ge[to]()[es]());var De=R;R&&R[ms]&&(De=R[ms]()),_[oa]=Ge,D=ff(Ve,Pe,Ge,De)}function ue(){E=!1,_[oa]=null,D=null,R=null,q=xu(),$=ll()}}return d.__ieDyn=1,d}(),hs="",gc="NoResponseBody",rm="&"+gc+"=true",fl="POST",Km=function(){function d(){var _=0,E,D,R,$,q,Z,oe,ue,Pe,Ge,Ve,De,ge,Ue;Qi(d,this,function(Te,Je){var Ae=!0;Ma(),Te[zf]=function(et,mt){R=mt,D&&ka(R,1,28,"Sender is already initialized"),Te.SetConfig(et),D=!0},Te._getDbgPlgTargets=function(){return[D,$,Z,E]},Te.SetConfig=function(et){try{if(q=et.senderOnCompleteCallBack||{},Z=!!et.disableCredentials,oe=et.fetchCredentials,$=!!et.isOneDs,E=!!et.enableSendPromise,Pe=!!et.disableXhr,Ge=!!et.disableBeacon,Ve=!!et.disableBeaconSync,Ue=et.timeWrapper,ge=!!et.addNoResponse,De=!!et.disableFetchKeepAlive,ue={sendPOST:Jr},$||(Ae=!1),Z){var mt=ip();mt&&mt.protocol&&mt.protocol[bi]()==="file:"&&(Ae=!1)}return!0}catch{}return!1},Te.getSyncFetchPayload=function(){return _},Te.getSenderInst=function(et,mt){return et&&et[Zr]?Kt(et,mt):null},Te.getFallbackInst=function(){return ue},Te[or]=function(et,mt){Ma()};function Ce(et,mt){lr(mt,200,{},et)}function qe(et,mt){ka(R,2,26,"Failed to send telemetry.",{message:et}),lr(mt,400,{})}function Ht(et){qe("No endpoint url is provided for the batch",et)}function Kt(et,mt){for(var wr,vr=0,Nt=null,Ar=0;Nt==null&&Ar<et[Zr];)vr=et[Ar],!Pe&&vr===1?dc()?Nt=qr:ui()&&(Nt=Jr):vr===2&&tl(mt)&&(!mt||!De)?Nt=qn:vr===3&&ed()&&(mt?!Ve:!Ge)&&(Nt=tn),Ar++;return Nt?(wr={_transport:vr,_isSync:mt},wr[Vf]=Nt,wr):null}function lr(et,mt,wr,vr){try{et&&et(mt,wr,vr)}catch{}}function Dr(et,mt){var wr=ga(),vr=et[To];if(!vr)return Ht(mt),!0;vr=et[To]+(ge?rm:hs);var Nt=et[Mi],Ar=$?Nt:new Blob([Nt],{type:"text/plain;charset=UTF-8"}),bt=wr.sendBeacon(vr,Ar);return bt}function tn(et,mt,wr){var vr=et[Mi];try{if(vr)if(Dr(et,mt))Ce(hs,mt);else{var Nt=q&&q.beaconOnRetry;Nt&&Vt(Nt)?Nt(et,mt,Dr):(ue&&ue[Vf](et,mt,!0),ka(R,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(Ar){$&&ps(R,"Failed to send telemetry using sendBeacon API. Ex:"+cr(Ar)),lr(mt,$?0:400,{},hs)}}function Jr(et,mt,wr){var vr,Nt,Ar,bt=et[Io]||{};!wr&&E&&(vr=Fi(function(Cn,li){Nt=Cn,Ar=li})),$&&wr&&et.disableXhrSync&&(wr=!1);var hn=et[To];if(!hn){Ht(mt),Nt&&Nt(!1);return}var ht=zm(fl,hn,Ae,!0,wr,et[Yn]);$||ht[no]("Content-type","application/json"),_r(Rn(bt),function(Cn){ht[no](Cn,bt[Cn])}),ht.onreadystatechange=function(){$||(Dn(ht),ht.readyState===4&&Nt&&Nt(!0))},ht.onload=function(){$&&Dn(ht)};function Dn(Cn){var li=q&&q.xhrOnComplete,Yu=li&&Vt(li);if(Yu)li(Cn,mt,et);else{var Es=si(Cn);lr(mt,Cn[bo],cc(Cn,$),Es)}}return ht.onerror=function(Cn){lr(mt,$?ht[bo]:400,cc(ht,$),$?hs:Jv(ht)),Ar&&Ar(Cn)},ht.ontimeout=function(){lr(mt,$?ht[bo]:500,cc(ht,$),$?hs:Jv(ht)),Nt&&Nt(!1)},ht.send(et[Mi]),vr}function qn(et,mt,wr){var vr,Nt=et[To],Ar=et[Mi],bt=$?Ar:new Blob([Ar],{type:"application/json"}),hn,ht,Dn,Cn=new Headers,li=Ar[Zr],Yu=!1,Es=!1,Op=et[Io]||{},tu=(vr={method:fl,body:bt},vr[uf]=!0,vr);et.headers&&Rn(et.headers)[Zr]>0&&(_r(Rn(Op),function(bn){Cn.append(bn,Op[bn])}),tu[Io]=Cn),oe?tu.credentials=oe:Ae&&$&&(tu.credentials="include"),wr&&(tu.keepalive=!0,_+=li,$?et._sendReason===2&&(Yu=!0,ge&&(Nt+=rm)):Yu=!0);var jo=new Request(Nt,tu);try{jo[uf]=!0}catch{}if(!wr&&E&&(hn=Fi(function(bn,Wn){ht=bn,Dn=Wn})),!Nt){Ht(mt),ht&&ht(!1);return}function xc(bn){lr(mt,$?0:400,{},$?hs:bn)}function ca(bn,Wn,fi){var Pc=bn[bo],Ad=q.fetchOnComplete;Ad&&Vt(Ad)?Ad(bn,mt,fi||hs,Wn):lr(mt,Pc,{},fi||hs)}try{tc(fetch($?Nt:jo,$?tu:null),function(bn){if(wr&&(_-=li,li=0),!Es)if(Es=!0,bn.rejected)xc(bn.reason&&bn.reason[Ri]),Dn&&Dn(bn.reason);else{var Wn=bn[Kl];try{!$&&!Wn.ok?(xc(Wn.statusText),ht&&ht(!1)):$&&!Wn.body?(ca(Wn,null,hs),ht&&ht(!0)):tc(Wn.text(),function(fi){ca(Wn,et,fi[Kl]),ht&&ht(!0)})}catch(fi){xc(cr(fi)),Dn&&Dn(fi)}}})}catch(bn){Es||(xc(cr(bn)),Dn&&Dn(bn))}return Yu&&!Es&&(Es=!0,lr(mt,200,{}),ht&&ht(!0)),$&&!Es&&et[Yn]>0&&Ue&&Ue.set(function(){Es||(Es=!0,lr(mt,500,{}),ht&&ht(!0))},et[Yn]),hn}function qr(et,mt,wr){var vr=_i(),Nt=new XDomainRequest,Ar=et[Mi];Nt.onload=function(){var Cn=si(Nt),li=q&&q.xdrOnComplete;li&&Vt(li)?li(Nt,mt,et):lr(mt,200,{},Cn)},Nt.onerror=function(){lr(mt,400,{},$?hs:Zc(Nt))},Nt.ontimeout=function(){lr(mt,500,{})},Nt.onprogress=function(){};var bt=vr&&vr.location&&vr.location[Gf]||"",hn=et[To];if(!hn){Ht(mt);return}if(!$&&hn.lastIndexOf(bt,0)!==0){var ht="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";ka(R,2,40,". "+ht),qe(ht,mt);return}var Dn=$?hn:hn[ii](/^(https?:)/,"");Nt.open(fl,Dn),et[Yn]&&(Nt[Yn]=et[Yn]),Nt.send(Ar),$&&wr?Ue&&Ue.set(function(){Nt.send(Ar)},0):Nt.send(Ar)}function Ma(){_=0,D=!1,E=!1,R=null,$=null,q=null,Z=null,oe=null,ue=null,Pe=!1,Ge=!1,Ve=!1,De=!1,ge=!1,Ue=null}})}return d.__ieDyn=1,d}(),nm="on",pf="attachEvent",fv="addEventListener",am="detachEvent",Pu="removeEventListener",so="events",Ks="visibilitychange",Au="pagehide",dl="pageshow",pl="unload",fd="beforeunload",vf=ra("aiEvtPageHide"),Mo=ra("aiEvtPageShow"),yc=/\.[\.]+/g,im=/[\.]+$/,om=1,yp=nl("events"),Sp=/^([^.]*)(?:\.(.+)|)/;function Lo(d){return d&&d[ii]?d[ii](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,pn):d}function Ru(d,_){var E;if(_){var D=pn;Gt(_)?(D=pn,_r(_,function($){$=Lo($),$&&($[0]!=="."&&($="."+$),D+=$)})):D=Lo(_),D&&(D[0]!=="."&&(D="."+D),d=(d||pn)+D)}var R=Sp.exec(d||pn)||[];return E={},E[dt]=R[1],E.ns=(R[2]||pn).replace(yc,".").replace(im,pn)[wu](".").sort().join("."),E}function vl(d,_,E){E===void 0&&(E=!0);var D=yp.get(d,so,{},E),R=D[_];return R||(R=D[_]=[]),R}function sm(d,_,E,D){d&&_&&_[dt]&&(d[Pu]?d[Pu](_[dt],E,D):d[am]&&d[am](nm+_[dt],E))}function wp(d,_,E,D){var R=!1;return d&&_&&_[dt]&&E&&(d[fv]?(d[fv](_[dt],E,D),R=!0):d[pf]&&(d[pf](nm+_[dt],E),R=!0)),R}function um(d,_,E,D){for(var R=_[Zr];R--;){var $=_[R];$&&(!E.ns||E.ns===$.evtName.ns)&&(!D||D($))&&(sm(d,$.evtName,$[ec],$.capture),_[Jd](R,1))}}function dv(d,_,E){if(_[dt])um(d,vl(d,_[dt]),_,E);else{var D=yp.get(d,so,{});Mr(D,function(R,$){um(d,$,_,E)}),Rn(D)[Zr]===0&&yp.kill(d,so)}}function bp(d,_){var E;return _?(Gt(_)?E=[d].concat(_):E=[d,_],E=Ru("xx",E).ns[wu](".")):E=d,E}function Sc(d,_,E,D,R){var $;R===void 0&&(R=!1);var q=!1;if(d)try{var Z=Ru(_,D);if(q=wp(d,Z,E,R),q&&yp.accept(d)){var oe=($={guid:om++,evtName:Z},$[ec]=E,$.capture=R,$);vl(d,Z.type)[ai](oe)}}catch{}return q}function uo(d,_,E,D,R){if(R===void 0&&(R=!1),d)try{var $=Ru(_,D),q=!1;dv(d,$,function(Z){return $.ns&&!E||Z[ec]===E?(q=!0,!0):!1}),q||sm(d,$,E,R)}catch{}}function dd(d,_,E){var D=!1,R=_i();R&&(D=Sc(R,d,_,E),D=Sc(R.body,d,_,E)||D);var $=ea();return $&&(D=Sc($,d,_,E)||D),D}function ml(d,_,E){var D=_i();D&&(uo(D,d,_,E),uo(D.body,d,_,E));var R=ea();R&&uo(R,d,_,E)}function Fo(d,_,E,D){var R=!1;return _&&d&&d[Zr]>0&&_r(d,function($){$&&(!E||Wo(E,$)===-1)&&(R=dd($,_,D)||R)}),R}function Eh(d,_,E,D){var R=!1;return _&&d&&Gt(d)&&(R=Fo(d,_,E,D),!R&&E&&E[Zr]>0&&(R=Fo(d,_,null,D))),R}function Ep(d,_,E){d&&Gt(d)&&_r(d,function(D){D&&ml(D,_,E)})}function Wm(d,_,E){return Eh([fd,pl,Au],d,_,E)}function Th(d,_){Ep([fd,pl,Au],d,_)}function Oa(d,_,E){function D(q){var Z=ea();d&&Z&&Z.visibilityState==="hidden"&&d(q)}var R=bp(vf,E),$=Fo([Au],d,_,R);return(!_||Wo(_,Ks)===-1)&&($=Fo([Ks],D,_,R)||$),!$&&_&&($=Oa(d,null,E)),$}function pd(d,_){var E=bp(vf,_);Ep([Au],d,E),Ep([Ks],null,E)}function vd(d,_,E){function D(q){var Z=ea();d&&Z&&Z.visibilityState==="visible"&&d(q)}var R=bp(Mo,E),$=Fo([dl],d,_,R);return $=Fo([Ks],D,_,R)||$,!$&&_&&($=vd(d,null,E)),$}function cm(d,_){var E=bp(Mo,_);Ep([dl],d,E),Ep([Ks],null,E)}var hl="",ci="timings",co="value",md="kind",ku="length",wc="processTelemetryStart",_s,pv="4.3.5",lm="1DS-Web-JS-"+pv,vt=C.hasOwnProperty,Ou=(_s={},_s[0]=0,_s[2]=6,_s[1]=1,_s[3]=7,_s[4098]=6,_s[4097]=1,_s[4099]=7,_s);function Ws(d){return!(d===hl||tt(d))}function mf(d){if(d){var _=Hd(d,"-");if(_>-1)return _a(d,_)}return hl}function fm(d,_,E){if(!_&&!Ws(_)||typeof d!="string")return null;var D=typeof _;if(D==="string"||D==="number"||D==="boolean"||Gt(_))_={value:_};else if(D==="object"&&!vt.call(_,"value"))_={value:E?JSON.stringify(_):_};else if(tt(_[co])||_[co]===hl||!su(_[co])&&!er(_[co])&&!Qn(_[co])&&!Gt(_[co]))return null;if(Gt(_[co])&&!_l(_[co]))return null;if(!tt(_[md])){if(Gt(_[co])||!dm(_[md]))return null;_[co]=_[co].toString()}return _}function bc(d,_,E){var D=-1;if(!zt(d))if(_>0&&(_===32?D=8192:_<=13&&(D=_<<5)),Tp(E))D===-1&&(D=0),D|=E;else{var R=Ou[Tc(d)]||-1;D!==-1&&R!==-1?D|=R:R===6&&(D=R)}return D}function hd(d,_,E,D,R){var $={},q=!1,Z=0,oe=arguments[ku],ue=arguments;for(Qn(ue[0])&&(q=ue[0],Z++);Z<oe;Z++){var d=ue[Z];Mr(d,function(Ge,Ve){q&&Ve&&Ho(Ve)?Gt(Ve)?($[Ge]=$[Ge]||[],_r(Ve,function(De,ge){De&&Ho(De)?$[Ge][ge]=hd(!0,$[Ge][ge],De):$[Ge][ge]=De})):$[Ge]=hd(!0,$[Ge],Ve):$[Ge]=Ve})}return $}var gs=Bd;function dm(d){return d===0||d>0&&d<=13||d===32}function Tp(d){return d>=0&&d<=9}function _l(d){return d[ku]>0}function Ec(d,_){var E=d;E[ci]=E[ci]||{},E[ci][wc]=E[ci][wc]||{},E[ci][wc][_]=gs()}function Tc(d){var _=0;if(d!=null){var E=typeof d;E==="string"?_=1:E==="number"?_=2:E==="boolean"?_=3:E===u&&(_=4,Gt(d)?(_=4096,d[ku]>0&&(_|=Tc(d[0]))):vt.call(d,"value")&&(_=8192|Tc(d[co])))}return _}function vv(){return!!fn("chrome")}function Wr(d){return d>0}var ys="",mv="drop",hv="send",Js="requeue",Ip="rspFail",_v="oth",gv="no-cache, no-store",_d="application/x-json-stream",gd="cache-control",gl="content-type",Ic="kill-tokens",Np="kill-duration",yl="time-delta-millis",yv="client-version",lo="client-id",Sv="time-delta-to-apply-millis",yd="upload-time",pm="apikey",Ss="AuthMsaDeviceTicket",Jm="WebAuthToken",Mu="AuthXToken",wv="NoResponseBody",Sl="msfpc",vm="trace",Uo="user",ws="allowRequestSending",kn="firstRequestSent",hf="shouldAddClockSkewHeaders",wl="getClockSkewHeaderValue",Sd="setClockSkew",sr="length",Yi="concat",$i="iKey",Ia="count",bl="events",vn="push",El="split",Zs="splice",Dp="toLowerCase",Xs="hdrs",bv="useHdrs",Lu="initialize",Ev="setTimeoutOverride",Tv="clearTimeoutOverride",f="payloadPreprocessor",m="overrideEndpointUrl",y="avoidOptions",N="disableEventTimings",U="stringifyObjects",G="enableCompoundKey",V="disableXhrSync",te="disableFetchKeepAlive",ve="addNoResponse",_e="excludeCsMetaData",We="useSendBeacon",Ot="fetchCredentials",rr="alwaysUseXhrOverride",ur="unloadTransports",ut="serializeOfflineEvt",nr="getOfflineRequestDetails",jt="createPayload",Ir="createOneDSPayload",Nr="payloadBlob",Pt="headers",In="_thePayload",_f="urlString",Nn="batches",qi="sendType",wd="addHeader",Iv="canSendRequest",bd="sendQueuedRequests",Ed="isCompletelyIdle",Cp="setUnloading",mm="isTenantKilled",ke="resume",Tt="sendSynchronousBatch",Bt="_transport",Gr="getWParam",sn="isBeacon",mn="timings",ua="isTeardown",Fu="isSync",bs="data",Uu="timeout",Tl="_sendReason",hm="setKillSwitchTenants",xp="_backOffTransmission",gf="identifier",Nc="disableOptimizeObj",H_="ignoreMc1Ms0CookieProcessing",Ih="eventsLimitInMem",u_="autoFlushEventsLimit",Zm="disableAutoBatchFlushLimit",z_="overrideInstrumentationKey",yf="disableTelemetry",Nv="baseData",_m="sendAttempt",Sf="latency",Dv="sync";function Nh(d){var _=(d.ext||{}).intweb;return _&&Ws(_[Sl])?_[Sl]:null}function c_(d){for(var _=null,E=0;_===null&&E<d[sr];E++)_=Nh(d[E]);return _}var Td=function(){function d(_,E){var D=E?[][Yi](E):[],R=this,$=c_(D);R[$i]=function(){return _},R.Msfpc=function(){return $||ys},R[Ia]=function(){return D[sr]},R[bl]=function(){return D},R.addEvent=function(q){return q?(D[vn](q),$||($=Nh(q)),!0):!1},R[El]=function(q,Z){var oe;if(q<D[sr]){var ue=D[sr]-q;tt(Z)||(ue=Z<ue?Z:ue),oe=D[Zs](q,ue),$=c_(D)}return new d(_,oe)}}return d.create=function(_,E){return new d(_,E)},d}(),l_=function(){function d(){var _=!0,E=!0,D=!0,R="use-collector-delta",$=!1;Qi(d,this,function(q){q[ws]=function(){return _},q[kn]=function(){D&&(D=!1,$||(_=!1))},q[hf]=function(){return E},q[wl]=function(){return R},q[Sd]=function(Z){$||(Z?(R=Z,E=!0,$=!0):E=!1,_=!0)}})}return d.__ieDyn=1,d}(),G_=1e3,Dh=function(){function d(){var _={};function E(D){var R=[];return D&&_r(D,function($){R[vn](Ci($))}),R}Qi(d,this,function(D){D[hm]=function(R,$){if(R&&$)try{var q=E(R[El](","));if($==="this-request-only")return q;for(var Z=parseInt($,10)*G_,oe=0;oe<q[sr];++oe)_[q[oe]]=Di()+Z}catch{return[]}return[]},D[mm]=function(R){var $=_,q=Ci(R);return $[q]!==void 0&&$[q]>Di()?!0:(delete $[q],!1)}})}return d.__ieDyn=1,d}(),gm=.8,Ch=1.2,Xm=3e3,Cv=6e5;function Id(d){return!(d>=300&&d<500&&d!=429||d==501||d==505)}function xh(d){var _=0,E=Xm*gm,D=Xm*Ch,R=Math.floor(Math.random()*(D-E))+E;return _=Math.pow(2,d)*R,Math.min(_,Cv)}var ym=20,Pr=3984588,Qs=65e3,Nd=2e6,xv=Math.min(Nd,Qs),Pv="metadata",Sm="f",wf=/\./,Pp=function(){function d(_,E,D,R,$,q){var Z="data",oe="baseData",ue="ext",Pe=!!R,Ge=!0,Ve=E,De={},ge=!!q,Ue=$||bc;Qi(d,this,function(Te){Te.createPayload=function(Ce,qe,Ht,Kt,lr,Dr){return{apiKeys:[],payloadBlob:ys,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:Ce,isTeardown:qe,isSync:Ht,isBeacon:Kt,sendType:Dr,sendReason:lr}},Te.appendPayload=function(Ce,qe,Ht){var Kt=Ce&&qe&&!Ce.overflow;return Kt&&Ta(_,function(){return"Serializer:appendPayload"},function(){for(var lr=qe.events(),Dr=Ce.payloadBlob,tn=Ce.numEvents,Jr=!1,qn=[],qr=[],Ma=Ce.isBeacon,et=Ma?Qs:Pr,mt=Ma?xv:Nd,wr=0,vr=0;wr<lr.length;){var Nt=lr[wr];if(Nt){if(tn>=Ht){Ce.overflow=qe.split(wr);break}var Ar=Te.getEventBlob(Nt);if(Ar&&Ar.length<=mt){var bt=Ar.length,hn=Dr.length;if(hn+bt>et){Ce.overflow=qe.split(wr);break}Dr&&(Dr+=`
`),Dr+=Ar,vr++,vr>ym&&(lu(Dr,0,1),vr=0),Jr=!0,tn++}else Ar?qn.push(Nt):qr.push(Nt),lr.splice(wr,1),wr--}wr++}if(qn.length>0&&Ce.sizeExceed.push(Td.create(qe.iKey(),qn)),qr.length>0&&Ce.failedEvts.push(Td.create(qe.iKey(),qr)),Jr){Ce.batches.push(qe),Ce.payloadBlob=Dr,Ce.numEvents=tn;var ht=qe.iKey();Wo(Ce.apiKeys,ht)===-1&&Ce.apiKeys.push(ht)}},function(){return{payload:Ce,theBatch:{iKey:qe.iKey(),evts:qe.events()},max:Ht}}),Kt},Te.getEventBlob=function(Ce){try{return Ta(_,function(){return"Serializer.getEventBlob"},function(){var qe={};qe.name=Ce.name,qe.time=Ce.time,qe.ver=Ce.ver,qe.iKey="o:"+mf(Ce.iKey);var Ht={},Kt;ge||(Kt=function(Jr,qn,qr){f_(Ue,Ht,Jr,qn,qr)});var lr=Ce[ue];lr&&(qe[ue]=Ht,Mr(lr,function(Jr,qn){var qr=Ht[Jr]={};Ae(qn,qr,"ext."+Jr,!0,null,null,!0)}));var Dr=qe[Z]={};Dr.baseType=Ce.baseType;var tn=Dr[oe]={};return Ae(Ce.baseData,tn,oe,!1,[oe],Kt,Ge),Ae(Ce.data,Dr,Z,!1,[],Kt,Ge),JSON.stringify(qe)},function(){return{item:Ce}})}catch{return null}};function Je(Ce,qe){var Ht=De[Ce];return Ht===void 0&&(Ce.length>=7&&(Ht=Sn(Ce,"ext.metadata")||Sn(Ce,"ext.web")),De[Ce]=Ht),Ht}function Ae(Ce,qe,Ht,Kt,lr,Dr,tn){Mr(Ce,function(Jr,qn){var qr=null;if(qn||Ws(qn)){var Ma=Ht,et=Jr,mt=lr,wr=qe;if(Pe&&!Kt&&wf.test(Jr)){var vr=Jr.split("."),Nt=vr.length;if(Nt>1){mt&&(mt=mt.slice());for(var Ar=0;Ar<Nt-1;Ar++){var bt=vr[Ar];wr=wr[bt]=wr[bt]||{},Ma+="."+bt,mt&&mt.push(bt)}et=vr[Nt-1]}}var hn=Kt&&Je(Ma);if(!hn&&Ve&&Ve.handleField(Ma,et)?qr=Ve.value(Ma,et,qn,D):qr=fm(et,qn,D),qr){var ht=qr.value;if(wr[et]=ht,Dr&&Dr(mt,et,qr),tn&&typeof ht=="object"&&!Gt(ht)){var Dn=mt;Dn&&(Dn=Dn.slice(),Dn.push(et)),Ae(qn,ht,Ma+"."+et,Kt,Dn,Dr,tn)}}}})}})}return d.__ieDyn=1,d}();function f_(d,_,E,D,R){if(R&&_){var $=d(R.value,R.kind,R.propertyType);if($>-1){var q=_[Pv];q||(q=_[Pv]={f:{}});var Z=q[Sm];if(Z||(Z=q[Sm]={}),E)for(var oe=0;oe<E.length;oe++){var ue=E[oe];Z[ue]||(Z[ue]={f:{}});var Pe=Z[ue][Sm];Pe||(Pe=Z[ue][Sm]={}),Z=Pe}Z=Z[D]={},Gt(R.value)?Z.a={t:$}:Z.t=$}}}function Ap(d,_){return{set:function(E,D){for(var R=[],$=2;$<arguments.length;$++)R[$-2]=arguments[$];return Qp([d,_],E,D,R)}}}var Il,Nl="sendAttempt",Dl="&"+wv+"=true",Dc="?cors=true&"+gl[Dp]()+"="+_d,Cc=(Il={},Il[1]=Js,Il[100]=Js,Il[200]="sent",Il[8004]=mv,Il[8003]=mv,Il),ju={},bf={};function eu(d,_,E){ju[d]=_,E!==!1&&(bf[_]=d)}eu(Ss,Ss,!1),eu(yv,yv),eu(lo,"Client-Id"),eu(pm,pm),eu(Sv,Sv),eu(yd,yd),eu(Mu,Mu);function Ef(d,_){var E=!1;if(d&&_){var D=Rn(d);if(D&&D[sr]>0)for(var R=_[Dp](),$=0;$<D[sr];$++){var q=D[$];if(q&&ir(_,q)&&q[Dp]()===R){E=!0;break}}}return E}function Dd(d,_,E,D){_&&E&&E[sr]>0&&(D&&ju[_]?(d[Xs][ju[_]]=E,d[bv]=!0):d.url+="&"+_+"="+E)}function Ph(d,_,E){for(var D=0;D<d[sr];D++)if(d[D].name===_){d[D].value=E;return}d[vn]({name:_,value:E})}function Qm(d,_){for(var E=0;E<d[sr];E++)if(d[E].name===_){d[Zs](E,1);return}}var Tf=function(){function d(_,E,D,R){var $,q,Z,oe,ue=!1,Pe,Ge,Ve,De,ge,Ue,Te,Je,Ae,Ce,qe,Ht,Kt,lr,Dr,tn,Jr,qn,qr,Ma,et,mt,wr,vr,Nt,Ar,bt,hn;Qi(d,this,function(ht){Es();var Dn=!0;ht[Lu]=function(a,c,p){vr||(ge=c,Ht=c.getCookieMgr(),Ge=p,Ve=Ge.diagLog(),Uf(Ma,mc(a,function(g){var b,x=g.cfg,k=g.cfg.extensionConfig[p.identifier];Nt=Ap(k[Ev],k[Tv]),Ws(x.anonCookieName)?Ph(Te,"anoncknm",x.anonCookieName):Qm(Te,"anoncknm"),et=k[f],mt=k.payloadListener;var P=k.httpXHROverride,M=k[m]?k[m]:x.endpointUrl;$=M+Dc,lr=zt(k[y])?!0:!k[y],qe=!k[N];var j=k.valueSanitizer,z=k[U],J=!!x[G];zt(k[G])||(J=!!k[G]),Dr=k.xhrTimeout,tn=!!k[V],Jr=!!k[te],qr=k[ve]!==!1,Ar=!!k[_e],c.getPlugin("LocalStorage")&&(Jr=!0),ue=!wa(),Ce=new Pp(ge,j,z,J,bc,Ar),tt(k[We])||(ue=!!k[We]),k[Ot]&&(hn=k[Ot]);var K=li();bt?bt.SetConfig(K):(bt=new Km,bt[Lu](K,Ve));var ee=P,X=k[rr]?P:null,me=k[rr]?P:null,we=[3,2];if(!P){Ue=!1;var Me=[];wa()?(Me=[2,1],we=[2,1,3]):Me=[1,2,3],Me=oc(Me,k.transports),P=Cn(Me,!1),P||ps(Ve,"No available transport to send events"),ee=Cn(Me,!0)}X||(we=oc(we,k[ur]),X=Cn(we,!0)),qn=!Ue&&(ue&&ed()||!Jr&&tl(!0)),De=(b={},b[0]=P,b[1]=ee||Cn([1,2,3],!0),b[2]=X||ee||Cn([1],!0),b[3]=me||Cn([2,3],!0)||ee||Cn([1],!0),b)})),vr=!0)},ht.addResponseHandler=function(a){return wr[vn](a),{rm:function(){var c=wr.indexOf(a);c>=0&&wr[Zs](c,1)}}},ht[ut]=function(a){try{if(Ce)return Ce.getEventBlob(a)}catch{}return ys},ht[nr]=function(){try{var a=Ce&&Ce[jt](0,!1,!1,!1,1,0);return Nf(a,lr)}catch{}return null},ht[Ir]=function(a,c){try{var p=[];_r(a,function(P){c&&(P=xo(P));var M=Td.create(P[$i],[P]);p[vn](M)});for(var g=null;p[sr]>0&&Ce;){var b=p.shift();b&&b[Ia]()>0&&(g=g||Ce[jt](0,!1,!1,!1,1,0),Ce.appendPayload(g,b,_))}var x=Nf(g,lr),k={data:g[Nr],urlString:x.url,headers:x[Xs],timeout:Dr,disableXhrSync:tn,disableFetchKeepAlive:Jr};return lr&&(Ef(k[Pt],gd)||(k[Pt][gd]=gv),Ef(k[Pt],gl)||(k[Pt][gl]=_d)),k}catch{}return null};function Cn(a,c){try{return bt&&bt.getSenderInst(a,c)}catch{}return null}ht._getDbgPlgTargets=function(){return[De[0],q,Ce,De,li(),$]};function li(){try{var a={xdrOnComplete:Yu,fetchOnComplete:Op,xhrOnComplete:tu,beaconOnRetry:xc},c={enableSendPromise:!1,isOneDs:!0,disableCredentials:!Dn,fetchCredentials:hn,disableXhr:!1,disableBeacon:!ue,disableBeaconSync:!ue,disableFetchKeepAlive:Jr,timeWrapper:Nt,addNoResponse:qr,senderOnCompleteCallBack:a};return c}catch{}return null}function Yu(a,c,p){var g=si(a);jo(c,200,{},g),Nm(g)}function Es(){var a;$=null,q=new Dh,Z=!1,oe=new l_,ue=!1,Pe=0,Ge=null,Ve=null,De=null,ge=null,Ue=!0,Te=[],Je={},Ae=[],Ce=null,qe=!1,Ht=null,Kt=!1,lr=!1,Dr=a,tn=a,Jr=a,qn=a,qr=a,Ma=[],et=a,mt=a,wr=[],vr=!1,Nt=Ap(),Ar=!1,bt=null}function Op(a,c,p,g){var b=function(P,M,j){jo(c,P,M,j),Nm(j)},x={},k=a[Pt];k&&k.forEach(function(P,M){x[M]=P}),b(a.status,x,p||ys)}function tu(a,c,p){var g=si(a);jo(c,a.status,cc(a,!0),g),Nm(g)}function jo(a,c,p,g){try{a(c,p,g)}catch(b){ka(Ve,2,518,cr(b))}}function xc(a,c,p){var g=a,b=200,x=g[In],k=a[_f]+(qr?Dl:ys);try{var P=ga();if(x){var M=!!ge.getPlugin("LocalStorage"),j=[],z=[];_r(x[Nn],function(J){if(j&&J&&J[Ia]()>0)for(var K=J[bl](),ee=0;ee<K[sr];ee++)if(P.sendBeacon(k,Ce.getEventBlob(K[ee])))z[vn](J[ee]);else{j[vn](J[El](ee));break}else j[vn](J[El](0))}),z[sr]>0&&(x.sentEvts=z),M||ru(j,8003,x[qi],!0)}else b=0}catch(J){ps(Ve,"Failed to send telemetry using sendBeacon API. Ex:"+cr(J)),b=0}finally{jo(c,b,{},ys)}}function ca(a){return a===2||a===3}function bn(a){return Kt&&ca(a)&&(a=2),a}ht[wd]=function(a,c){Je[a]=c},ht.removeHeader=function(a){delete Je[a]},ht[Iv]=function(){return Wn()&&oe[ws]()},ht[bd]=function(a,c){zt(a)&&(a=0),Kt&&(a=bn(a),c=2),Pc(Ae,a,0)&&Ts(fi(),0,!1,a,c||0)},ht[Ed]=function(){return!Z&&Pe===0&&Ae[sr]===0},ht[Cp]=function(a){Kt=a},ht.addBatch=function(a){if(a&&a[Ia]()>0){if(q.isTenantKilled(a[$i]()))return!1;Ae[vn](a)}return!0},ht.teardown=function(){Ae[sr]>0&&Ts(fi(),0,!0,2,2),_r(Ma,function(a){a&&a.rm&&a.rm()}),Ma=[]},ht.pause=function(){Z=!0},ht[ke]=function(){Z=!1,ht[bd](0,4)},ht[Tt]=function(a,c,p){a&&a[Ia]()>0&&(tt(c)&&(c=1),Kt&&(c=bn(c),p=2),Ts([a],0,!1,c,p||0))};function Wn(){return!Z&&Pe<E}function fi(){var a=Ae;return Ae=[],a}function Pc(a,c,p){var g=!1;return a&&a[sr]>0&&!Z&&De[c]&&Ce&&(g=c!==0||Wn()&&(p>0||oe[ws]())),g}function Ad(a){var c={};return a&&_r(a,function(p,g){c[g]={iKey:p[$i](),evts:p[bl]()}}),c}function Ts(a,c,p,g,b){if(!(!a||a[sr]===0)){if(Z){ru(a,1,g);return}g=bn(g);try{var x=a,k=g!==0;Ta(ge,function(){return"HttpManager:_sendBatches"},function(P){P&&(a=a.slice(0));for(var M=[],j=null,z=gs(),J=De[g]||(k?De[1]:De[0]),K=J&&J[Bt],ee=qn&&(Kt||ca(g)||K===3||J._isSync&&K===2);Pc(a,g,c);){var X=a.shift();X&&X[Ia]()>0&&(q.isTenantKilled(X[$i]())?M[vn](X):(j=j||Ce[jt](c,p,k,ee,b,g),Ce.appendPayload(j,X,_)?j.overflow!==null&&(a=[j.overflow][Yi](a),j.overflow=null,Rd(j,z,gs(),b),z=gs(),j=null):(Rd(j,z,gs(),b),z=gs(),a=[X][Yi](a),j=null)))}j&&Rd(j,z,gs(),b),a[sr]>0&&(Ae=a[Yi](Ae)),ru(M,8004,g)},function(){return{batches:Ad(x),retryCount:c,isTeardown:p,isSynchronous:k,sendReason:b,useSendBeacon:ca(g),sendType:g}},!k)}catch(P){ka(Ve,2,48,"Unexpected Exception sending batch: "+cr(P))}}}function Nf(a,c){var p={url:$,hdrs:{},useHdrs:!1};c?(p[Xs]=hd(p[Xs],Je),p.useHdrs=Rn(p.hdrs)[sr]>0):Mr(Je,function(P,M){bf[P]?Dd(p,bf[P],M,!1):(p[Xs][P]=M,p[bv]=!0)}),Dd(p,lo,"NO_AUTH",c),Dd(p,yv,lm,c);var g=ys;_r(a.apiKeys,function(P){g[sr]>0&&(g+=","),g+=P}),Dd(p,pm,g,c),Dd(p,yd,Di().toString(),c);var b=Im(a);if(Ws(b)&&(p.url+="&ext.intweb.msfpc="+b),oe[hf]()&&Dd(p,Sv,oe[wl](),c),ge[Gr]){var x=ge[Gr]();x>=0&&(p.url+="&w="+x)}for(var k=0;k<Te[sr];k++)p.url+="&"+Te[k].name+"="+Te[k].value;return p}function Df(a,c,p){a[c]=a[c]||{},a[c][Ge.identifier]=p}function Rd(a,c,p,g){if(a&&a.payloadBlob&&a.payloadBlob[sr]>0){var b=!!et,x=De[a.sendType];!ca(a[qi])&&a[sn]&&a.sendReason===2&&(x=De[2]||De[3]||x);var k=lr;(a.isBeacon||x[Bt]===3)&&(k=!1);var P=Nf(a,k);k=k||P[bv];var M=gs();Ta(ge,function(){return"HttpManager:_doPayloadSend"},function(){for(var j=0;j<a.batches[sr];j++)for(var z=a[Nn][j],J=z[bl](),K=0;K<J[sr];K++){var ee=J[K];if(qe){var X=ee[mn]=ee[mn]||{};Df(X,"sendEventStart",M),Df(X,"serializationStart",c),Df(X,"serializationCompleted",p)}ee[Nl]>0?ee[Nl]++:ee[Nl]=1}ru(a[Nn],1e3+(g||0),a[qi],!0);var me={data:a[Nr],urlString:P.url,headers:P[Xs],_thePayload:a,_sendReason:g,timeout:Dr,disableXhrSync:tn,disableFetchKeepAlive:Jr};k&&(Ef(me[Pt],gd)||(me[Pt][gd]=gv),Ef(me[Pt],gl)||(me[Pt][gl]=_d));var we=null;x&&(we=function(Me){oe[kn]();var Ze=function(Yt,gr){bm(Yt,gr,a,g)},Qe=a[ua]||a[Fu];try{x.sendPOST(Me,Ze,Qe),mt&&mt(me,Me,Qe,a[sn])}catch(Yt){ps(Ve,"Unexpected exception sending payload. Ex:"+cr(Yt)),jo(Ze,0,{})}}),Ta(ge,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(we)if(a[qi]===0&&Pe++,b&&!a.isBeacon&&x[Bt]!==3){var Me={data:me[bs],urlString:me[_f],headers:hd({},me[Pt]),timeout:me[Uu],disableXhrSync:me[V],disableFetchKeepAlive:me[te]},Ze=!1;Ta(ge,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{et(Me,function(Qe){Ze=!0,!Ue&&!Qe[In]&&(Qe[In]=Qe[In]||me[In],Qe[Tl]=Qe[Tl]||me[Tl]),we(Qe)},a.isSync||a[ua])}catch{Ze||we(me)}})}else we(me)})},function(){return{thePayload:a,serializationStart:c,serializationCompleted:p,sendReason:g}},a[Fu])}a.sizeExceed&&a.sizeExceed[sr]>0&&ru(a.sizeExceed,8003,a[qi]),a.failedEvts&&a.failedEvts[sr]>0&&ru(a.failedEvts,8002,a[qi])}function th(a,c){qe&&_r(a,function(p){var g=p[mn]=p[mn]||{};Df(g,"sendEventCompleted",c)})}function bm(a,c,p,g){var b=9e3,x=null,k=!1,P=!1;try{var M=!0;if(typeof a!==h){if(c){oe[Sd](c[yl]);var j=c[Np]||c["kill-duration-seconds"];_r(q[hm](c[Ic],j),function(J){_r(p[Nn],function(K){if(K[$i]()===J){x=x||[];var ee=K[El](0);p.numEvents-=ee[Ia](),x[vn](ee)}})})}if(a==200||a==204){b=200;return}(!Id(a)||p.numEvents<=0)&&(M=!1),b=9e3+a%1e3}if(M){b=100;var z=p.retryCnt;p[qi]===0&&(z<D?(k=!0,Tm(function(){p[qi]===0&&Pe--,Ts(p[Nn],z+1,p[ua],Kt?2:p[qi],5)},Kt,xh(z))):(P=!0,Kt&&(b=8001)))}}finally{k||(oe[Sd](),Em(p,b,g,P)),ru(x,8004,p[qi])}}function Em(a,c,p,g){try{g&&Ge[xp]();var b=a[Nn];c===200&&(b=a.sentEvts||a[Nn],!g&&!a[Fu]&&Ge._clearBackOff(),rh(b)),ru(b,c,a[qi],!0)}finally{a[qi]===0&&(Pe--,p!==5&&ht.sendQueuedRequests(a[qi],p))}}function rh(a){if(qe){var c=gs();_r(a,function(p){p&&p[Ia]()>0&&th(p[bl](),c)})}}function Tm(a,c,p){c?a():Nt.set(a,p)}function Im(a){for(var c=0;c<a.batches[sr];c++){var p=a[Nn][c].Msfpc();if(p)return encodeURIComponent(p)}return ys}function Nm(a){var c=wr;try{for(var p=0;p<c[sr];p++)try{c[p](a)}catch(b){ka(Ve,1,519,"Response handler failed: "+b)}if(a){var g=JSON.parse(a);Ws(g.webResult)&&Ws(g.webResult[Sl])&&Ht.set("MSFPC",g.webResult[Sl],365*86400)}}catch{}}function ru(a,c,p,g){if(a&&a[sr]>0&&R){var b=R[Dm(c)];if(b){var x=p!==0;Ta(ge,function(){return"HttpManager:_sendBatchesNotification"},function(){Tm(function(){try{b.call(R,a,c,x,p)}catch(k){ka(Ve,1,74,"send request notification failed: "+k)}},g||x,0)},function(){return{batches:Ad(a),reason:c,isSync:x,sendSync:g,sendType:p}},!x)}}}function Dm(a){var c=Cc[a];return Ws(c)||(c=_v,a>=9e3&&a<=9999?c=Ip:a>=8e3&&a<=8999?c=mv:a>=1e3&&a<=1999&&(c=hv)),c}})}return d.__ieDyn=1,d}(),If=.25,Cd=500,Rp=20,eh=6,Av=2,wm=4,Ah=2,Rh=1,kh=1e4,$n="eventsDiscarded",xd="",Kn=void 0,V_=As({eventsLimitInMem:{isVal:Wr,v:kh},immediateEventLimit:{isVal:Wr,v:500},autoFlushEventsLimit:{isVal:Wr,v:0},disableAutoBatchFlushLimit:!1,httpXHROverride:{isVal:kp,v:Kn},overrideInstrumentationKey:Kn,overrideEndpointUrl:Kn,disableTelemetry:!1,ignoreMc1Ms0CookieProcessing:!1,setTimeoutOverride:Kn,clearTimeoutOverride:Kn,payloadPreprocessor:Kn,payloadListener:Kn,disableEventTimings:Kn,valueSanitizer:Kn,stringifyObjects:Kn,enableCompoundKey:Kn,disableOptimizeObj:!1,fetchCredentials:Kn,transports:Kn,unloadTransports:Kn,useSendBeacon:Kn,disableFetchKeepAlive:Kn,avoidOptions:!1,xhrTimeout:Kn,disableXhrSync:Kn,alwaysUseXhrOverride:!1,maxEventRetryAttempts:{isVal:er,v:eh},maxUnloadEventRetryAttempts:{isVal:er,v:Av},addNoResponse:Kn,excludeCsMetaData:Kn});function kp(d){return d&&d.sendPOST}var Pd=function(d){$a(_,d);function _(){var E=d.call(this)||this;E.identifier="PostChannel",E.priority=1011,E.version="4.3.5";var D,R=!1,$=[],q,Z=!1,oe=0,ue,Pe=0,Ge,Ve={},De=t,ge,Ue,Te,Je,Ae,Ce,qe,Ht,Kt,lr,Dr,tn,Jr,qn,qr,Ma,et,mt,wr,vr,Nt,Ar;return Qi(_,E,function(bt,hn){bn(),bt._getDbgPlgTargets=function(){return[Ae,D]},bt[Lu]=function(P,M,j){Ta(M,function(){return"PostChannel:initialize"},function(){hn[Lu](P,M,j),wr=M.getNotifyMgr();try{qr=bp(ra(bt[gf]),M.evtNamespace&&M.evtNamespace()),bt._addHook(mc(P,function(z){var J=z.cfg,K=ff(null,J,M);D=K.getExtCfg(bt[gf],V_),Ma=Ap(D[Ev],D[Tv]),Dr=!D[Nc]&&vv(),et=D[H_],Dn(M),Ge=D[Ih],ue=D.immediateEventLimit,qe=D[u_],Jr=D.maxEventRetryAttempts,qn=D.maxUnloadEventRetryAttempts,mt=D[Zm],Ct(J.endpointUrl)?bt.pause():Z&&bt[ke](),k(),Nt=D[z_],Ar=!!D[yf],vr&&ht();var ee=J.disablePageUnloadEvents||[];vr=Wm(Yu,ee,qr),vr=Oa(Yu,ee,qr)||vr,vr=vd(Es,J.disablePageShowEvents,qr)||vr})),Ae[Lu](P,bt.core,bt)}catch(z){throw bt.setInitialized(!1),z}},function(){return{theConfig:P,core:M,extensions:j}})},bt.processTelemetry=function(P,M){Ec(P,bt[gf]),M=M||bt._getTelCtx(M);var j=P;!Ar&&!R&&(Nt&&(j[$i]=Nt),tu(j,!0),tn?Pc(2,2):ca()),bt.processNext(j,M)},bt.getOfflineSupport=function(){try{var P=Ae&&Ae[nr]();if(Ae)return{getUrl:function(){return P?P.url:null},serialize:li,batch:Cn,shouldProcess:function(M){return!Ar},createPayload:function(M){return null},createOneDSPayload:function(M){if(Ae[Ir])return Ae[Ir](M,Dr)}}}catch{}return null},bt._doTeardown=function(P,M){Pc(2,2),R=!0,Ae.teardown(),ht(),bn()};function ht(){Th(null,qr),pd(null,qr),cm(null,qr)}function Dn(P){var M=P[Gr];P[Gr]=function(){var j=0;return et&&(j=j|2),j|M.call(P)}}function Cn(P){var M=xd;return P&&P[sr]&&_r(P,function(j){M&&(M+=`
`),M+=j}),M}function li(P){var M=xd;try{Op(P),M=Ae[ut](P)}catch{}return M}function Yu(P){var M=P||_i().event;M.type!=="beforeunload"&&(tn=!0,Ae[Cp](tn)),Pc(2,2)}function Es(P){tn=!1,Ae[Cp](tn)}function Op(P){P.ext&&P.ext[vm]&&delete P.ext[vm],P.ext&&P.ext[Uo]&&P.ext[Uo].id&&delete P.ext[Uo].id,Dr&&(P.ext=xo(P.ext),P[Nv]&&(P[Nv]=xo(P[Nv])),P[bs]&&(P[bs]=xo(P[bs])))}function tu(P,M){if(P[_m]||(P[_m]=0),P[Sf]||(P[Sf]=1),Op(P),P[Dv]){if(Te||Z)P[Sf]=3,P[Dv]=!1;else if(Ae){Dr&&(P=xo(P)),Ae[Tt](Td.create(P[$i],[P]),P[Dv]===!0?1:P[Dv],3);return}}var j=P[Sf],z=Pe,J=Ge;j===4&&(z=oe,J=ue);var K=!1;if(z<J)K=!Df(P,M);else{var ee=1,X=Rp;j===4&&(ee=4,X=1),K=!0,Rd(P[$i],P[Sf],ee,X)&&(K=!Df(P,M))}K&&Dm($n,[P],yo.QueueFull)}bt.setEventQueueLimits=function(P,M){D[Ih]=Ge=Wr(P)?P:kh,D[u_]=qe=Wr(M)?M:0,k();var j=Pe>P;if(!j&&Ht>0)for(var z=1;!j&&z<=3;z++){var J=Ce[z];J&&J[Nn]&&_r(J[Nn],function(K){K&&K[Ia]()>=Ht&&(j=!0)})}Nf(!0,j)},bt.pause=function(){fi(),Z=!0,Ae&&Ae.pause()},bt[ke]=function(){Z=!1,Ae&&Ae[ke](),ca()},bt._loadTransmitProfiles=function(P){Tm(),Mr(P,function(M,j){var z=j[sr];if(z>=2){var J=z>2?j[2]:0;if(j[Zs](0,z-2),j[1]<0&&(j[0]=-1),j[1]>0&&j[0]>0){var K=j[0]/j[1];j[0]=Math.ceil(K)*j[1]}J>=0&&j[1]>=0&&J>j[1]&&(J=j[1]),j[vn](J),Ve[M]=j}})},bt.flush=function(P,M,j){P===void 0&&(P=!0);var z;if(!Z)if(j=j||1,P)M||(z=Fi(function(K){M=K})),q==null?(fi(),bm(1,0,j),q=Wn(function(){q=null,Em(M,j)},0)):$[vn](M);else{var J=fi();jo(1,1,j),M&&M(),J&&ca()}return z},bt.setMsaAuthTicket=function(P){Ae[wd](Ss,P)},bt.setAuthPluginHeader=function(P){Ae[wd](Jm,P)},bt.removeAuthPluginHeader=function(){Ae.removeHeader(Jm)},bt.hasEvents=xc,bt._setTransmitProfile=function(P){De!==P&&Ve[P]!==void 0&&(fi(),De=P,ca())},Zl(bt,function(){return Ae},["addResponseHandler"]);function jo(P,M,j){var z=bm(P,M,j);return Ae[bd](M,j),z}function xc(){return Pe>0}function ca(){if(Kt>=0&&bm(Kt,0,lr)&&Ae[bd](0,lr),oe>0&&!Ue&&!Z){var P=Ve[De][2];P>=0&&(Ue=Wn(function(){Ue=null,jo(4,0,1),ca()},P))}var M=Ve[De][1];!ge&&!q&&M>=0&&!Z&&(xc()?ge=Wn(function(){ge=null,jo(Je===0?3:1,0,1),Je++,Je%=2,ca()},M):Je=0)}bt[xp]=function(){Te<wm&&(Te++,fi(),ca())},bt._clearBackOff=function(){Te&&(Te=0,fi(),ca())};function bn(){D=null,R=!1,$=[],q=null,Z=!1,oe=0,ue=500,Pe=0,Ge=kh,Ve={},De=t,ge=null,Ue=null,Te=0,Je=0,Ce={},qe=0,vr=!1,Ht=0,Kt=-1,lr=null,Dr=!0,tn=!1,Jr=eh,qn=Av,qr=null,Nt=null,Ar=!1,Ma=Ap(),Ae=new Tf(Cd,Ah,Rh,{requeue:Nm,send:c,sent:p,drop:g,rspFail:b,oth:x}),Im(),Ad(),k()}function Wn(P,M){M===0&&Te&&(M=1);var j=1e3;return Te&&(j=xh(Te-1)),Ma.set(P,M*j)}function fi(){return ge!==null?(ge.cancel(),ge=null,Je=0,!0):!1}function Pc(P,M){fi(),q&&(q.cancel(),q=null),Z||jo(1,P,M)}function Ad(){Ce[4]={batches:[],iKeyMap:{}},Ce[3]={batches:[],iKeyMap:{}},Ce[2]={batches:[],iKeyMap:{}},Ce[1]={batches:[],iKeyMap:{}}}function Ts(P,M,j){var z=Ce[M];z||(M=1,z=Ce[M]);var J=z.iKeyMap[P];return!J&&j&&(J=Td.create(P),z.batches[vn](J),z.iKeyMap[P]=J),J}function Nf(P,M){Ae[Iv]()&&!Te&&(qe>0&&Pe>qe&&(M=!0),M&&q==null&&bt.flush(P,function(){},20))}function Df(P,M){Dr&&(P=xo(P));var j=P[Sf],z=Ts(P[$i],j,!0);return z.addEvent(P)?(j!==4?(Pe++,M&&P[_m]===0&&Nf(!P.sync,Ht>0&&z[Ia]()>=Ht)):oe++,!0):!1}function Rd(P,M,j,z){for(;j<=M;){var J=Ts(P,M,!0);if(J&&J[Ia]()>0){var K=J[El](0,z),ee=K[Ia]();if(ee>0)return j===4?oe-=ee:Pe-=ee,a($n,[K],yo.QueueFull),!0}j++}return th(),!1}function th(){for(var P=0,M=0,j=function(J){var K=Ce[J];K&&K[Nn]&&_r(K[Nn],function(ee){J===4?P+=ee[Ia]():M+=ee[Ia]()})},z=1;z<=4;z++)j(z);Pe=M,oe=P}function bm(P,M,j){var z=!1,J=M===0;return!J||Ae[Iv]()?Ta(bt.core,function(){return"PostChannel._queueBatches"},function(){for(var K=[],ee=4;ee>=P;){var X=Ce[ee];X&&X.batches&&X.batches[sr]>0&&(_r(X[Nn],function(me){Ae.addBatch(me)?z=z||me&&me[Ia]()>0:K=K[Yi](me[bl]()),ee===4?oe-=me[Ia]():Pe-=me[Ia]()}),X[Nn]=[],X.iKeyMap={}),ee--}K[sr]>0&&Dm($n,K,yo.KillSwitch),z&&Kt>=P&&(Kt=-1,lr=0)},function(){return{latency:P,sendType:M,sendReason:j}},!J):(Kt=Kt>=0?Math.min(Kt,P):P,lr=Math.max(lr,j)),z}function Em(P,M){jo(1,0,M),th(),rh(function(){P&&P(),$[sr]>0?q=Wn(function(){q=null,Em($.shift(),M)},0):(q=null,ca())})}function rh(P){Ae[Ed]()?P():q=Wn(function(){q=null,rh(P)},If)}function Tm(){fi(),Im(),De=t,ca()}function Im(){Ve={},Ve[t]=[2,1,0],Ve[r]=[6,3,0],Ve[n]=[18,9,0]}function Nm(P,M){var j=[],z=Jr;tn&&(z=qn),_r(P,function(J){J&&J[Ia]()>0&&_r(J[bl](),function(K){K&&(K[Dv]&&(K[Sf]=4,K[Dv]=!1),K[_m]<z?(Ec(K,bt[gf]),tu(K,!1)):j[vn](K))})}),j[sr]>0&&Dm($n,j,yo.NonRetryableStatus),tn&&Pc(2,2)}function ru(P,M){var j=wr||{},z=j[P];if(z)try{z.apply(j,M)}catch(J){ka(bt.diagLog(),1,74,P+" notification failed: "+J)}}function Dm(P,M){for(var j=[],z=2;z<arguments.length;z++)j[z-2]=arguments[z];M&&M[sr]>0&&ru(P,[M][Yi](j))}function a(P,M){for(var j=[],z=2;z<arguments.length;z++)j[z-2]=arguments[z];M&&M[sr]>0&&_r(M,function(J){J&&J[Ia]()>0&&ru(P,[J.events()][Yi](j))})}function c(P,M,j){P&&P[sr]>0&&ru("eventsSendRequest",[M>=1e3&&M<=1999?M-1e3:0,j!==!0])}function p(P,M){a("eventsSent",P,M),ca()}function g(P,M){a($n,P,M>=8e3&&M<=8999?M-8e3:yo.Unknown)}function b(P){a($n,P,yo.NonRetryableStatus),ca()}function x(P,M){a($n,P,yo.Unknown),ca()}function k(){mt?Ht=0:Ht=Math.max(Cd*(Ah+1),Ge/6)}}),E}return _.__ieDyn=1,_}(df);e.BE_PROFILE=n,e.NRT_PROFILE=r,e.PostChannel=Pd,e.RT_PROFILE=t})});var lw=Ld(Ov=>{"use strict";var FN=Ov&&Ov.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),UN=Ov&&Ov.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),cw=Ov&&Ov.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&FN(t,e,r);return UN(t,e),t};Object.defineProperty(Ov,"__esModule",{value:!0});Ov.oneDataSystemClientFactory=void 0;var jN=async(e,t,r)=>{let n=await Promise.resolve().then(()=>cw(ow())),s=await Promise.resolve().then(()=>cw(uw())),u=new n.AppInsightsCore,h=new s.PostChannel,S={instrumentationKey:e,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[h]]};if(r){S.extensionConfig={};let F={alwaysUseXhrOverride:!0,httpXHROverride:r};S.extensionConfig[h.identifier]=F}let C=t.workspace.getConfiguration("telemetry").get("internalTesting");return u.initialize(S,[]),u.addTelemetryInitializer(F=>{F.ext=F.ext??{},F.ext.web=F.ext.web??{},F.ext.web.consentDetails='{"GPC_DataSharingOptIn":false}',C&&(F.ext.utc=F.ext.utc??{},F.ext.utc.flags=8462029)}),u},YN=async(e,t,r)=>{let n=await jN(e,t,r);return{logEvent:(h,S)=>{try{n==null||n.track({name:h,baseData:{name:h,properties:S==null?void 0:S.properties,measurements:S==null?void 0:S.measurements}})}catch(I){throw new Error(`Failed to log event to app insights!
`+I.message)}},flush:async()=>{try{return new Promise((S,I)=>{if(!n){S();return}n.flush(!0,C=>{if(!C){I("Failed to flush app 1DS!");return}})})}catch(h){throw new Error(`Failed to flush 1DS!
`+h.message)}},dispose:async()=>new Promise(S=>{if(!n){S();return}n.unload(!1,()=>{S(),n=void 0},1e3)})}};Ov.oneDataSystemClientFactory=YN});var dw=Ld((ty,fw)=>{(function(e,t){typeof ty=="object"&&typeof fw<"u"?t(ty):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(ty,function(e){"use strict";function t(f,m){return f||m}function r(f,m){return f[m]}var n=void 0,s=null,u="",h="function",S="object",I="prototype",C="__proto__",F="undefined",H="constructor",ne="Symbol",fe="_polyfill",ie="length",Q="name",re="call",le="toString",he=t(Object),je=r(he,I),Ee=t(String),ze=r(Ee,I),_t=t(Math),at=t(Array),Dt=r(at,I),st=r(Dt,"slice");function Ut(f,m){try{return{v:f.apply(this,m)}}catch(y){return{e:y}}}function jr(f){return function(m){return typeof m===f}}function Ca(f){var m="[object "+f+"]";return function(y){return!!(y&&ma(y)===m)}}function ma(f){return je[le].call(f)}function Or(f){return typeof f===F||f===F}function gn(f){return!Ni(f)}function nt(f){return f===s||Or(f)}function Ni(f){return!!f||f!==n}var Ye=jr("string"),Er=jr(h);function Bn(f){return!f&&nt(f)?!1:!!f&&typeof f===S}var zt=r(at,"isArray"),It=Ca("Error"),tt=r(he,"getOwnPropertyDescriptor");function Xn(f,m){return!!f&&je.hasOwnProperty[re](f,m)}var rt=t(r(he,"hasOwn"),su);function su(f,m){return Xn(f,m)||!!tt(f,m)}function Vt(f,m,y){if(f&&Bn(f)){for(var N in f)if(rt(f,N)&&m[re](y||f,N,f[N])===-1)break}}var Ho={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function Gt(f){var m={};if(m[Ho.c]=!0,m[Ho.e]=!0,f.l){m.get=function(){return f.l.v};var y=tt(f.l,"v");y&&y.set&&(m.set=function(N){f.l.v=N})}return Vt(f,function(N,U){m[Ho[N]]=gn(U)?m[Ho[N]]:U}),m}var er=r(he,"defineProperty");function Qn(f,m,y){return er(f,m,Gt(y))}function Ct(f,m,y,N,U){var G={};return Vt(f,function(V,te){ln(G,V,m?te:V,U),ln(G,te,y?te:V,U)}),N?N(G):G}function ln(f,m,y,N){er(f,m,{value:y,enumerable:!0,writable:!!N})}var ir=t(Ee),lt="[object Error]";function Et(f,m){var y=u,N=je[le][re](f);N===lt&&(f={stack:ir(f.stack),message:ir(f.message),name:ir(f.name)});try{y=JSON.stringify(f,s,m?typeof m=="number"?m:4:n),y=(y?y.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):s)||ir(f)}catch(U){y=" - "+Et(U,m)}return N+": "+y}function Mr(f){throw new Error(f)}function Un(f){throw new TypeError(f)}var Za=r(he,"freeze");function an(f){return f}function En(f){return f[C]||s}var Vi=r(he,"assign"),ia=r(he,"keys"),Lr=t(Za,an),Zt=t(r(he,"getPrototypeOf"),En);function cr(f){return Ct(f,1,0,Lr)}function Xr(f){var m={};return Vt(f,function(y,N){ln(m,y,N[1]),ln(m,N[0],N[1])}),Lr(m)}function Ol(f){return Xr(f)}var Hn="__tsUtils$gblCfg",Ml;function mo(){var f;return typeof globalThis!==F&&(f=globalThis),!f&&typeof self!==F&&(f=self),!f&&typeof window!==F&&(f=window),!f&&typeof global!==F&&(f=global),f}function Rn(){if(!Ml){var f=Ut(mo).v||{};Ml=f[Hn]=f[Hn]||{}}return Ml}var As=tr;function tr(f,m,y){var N=m?m[f]:s;return function(U){var G=(U?U[f]:s)||N;if(G||y){var V=arguments;return(G||y).apply(U,G?st[re](V,1):V)}Un('"'+ir(f)+'" not defined for '+Et(U))}}var jn=r(_t,"max"),Xa=As("slice",ze),Qa=As("substring",ze),ei=tr("substr",ze,Mf);function Mf(f,m,y){return nt(f)&&Un("Invalid "+Et(f)),y<0?u:(m=m||0,m<0&&(m=jn(m+f[ie],0)),Or(y)?Xa(f,m):Xa(f,m,m+y))}function Uc(f,m){return Qa(f,0,m)}var mi="_urid",uu;function Ki(){if(!uu){var f=Rn();uu=f.gblSym=f.gblSym||{k:{},s:{}}}return uu}function cu(f){var m={description:ir(f),toString:function(){return ne+"("+f+")"}};return m[fe]=!0,m}function ha(f){var m=Ki();if(!rt(m.k,f)){var y=cu(f),N=ia(m.s).length;y[mi]=function(){return N+"_"+y[le]()},m.k[f]=y,m.s[y[mi]()]=ir(f)}return m.k[f]}var zn;function Bu(){zn=Rn()}function lu(f){return er({toJSON:function(){return f}},"v",{value:f})}var Ll="window",_a;function Cr(f,m){var y;return function(){return!zn&&Bu(),(!y||zn.lzy)&&(y=lu(Ut(f,m).v)),y.v}}function yn(f){return!zn&&Bu(),(!_a||f===!1||zn.lzy)&&(_a=lu(Ut(mo).v||s)),_a.v}function en(f,m){var y;if(!_a||m===!1?y=yn(m):y=_a.v,y&&y[f])return y[f];if(f===Ll)try{return window}catch{}return s}var xa=Cr(en,["document"]);function ho(){return!!Hu()}var Hu=Cr(en,[Ll]);function hi(){return!!Kr()}var Kr=Cr(en,["navigator"]),_o,zo;function Gn(){return _o=lu(Ut(en,[ne]).v),_o}function Go(f){var m=(zn.lzy?0:_o)||Gn();return m.v?m.v[f]:n}function fu(f,m){!zn&&Bu();var y=(zn.lzy?0:_o)||Gn();return y.v?y.v(f):m?s:cu(f)}function ti(f){return!zn&&Bu(),zo=(zn.lzy?0:zo)||lu(Ut(Go,["for"]).v),(zo.v||ha)(f)}function fn(f,m,y){return f.apply(m,y)}function ea(f,m,y){if(f)for(var N=f[ie]>>>0,U=0;U<N&&!(U in f&&m[re](y||f,f[U],U,f)===-1);U++);}var zu=As("indexOf",Dt),_i=As("map",Dt),Tr=As("reduce",Dt),ga=t(r(he,"create"),Lf);function Lf(f){if(!f)return{};var m=typeof f;m!==S&&m!==h&&Un("Prototype must be an Object or function: "+Et(f));function y(){}return y[I]=f,new y}var Pa;function Vo(f,m){var y=he.setPrototypeOf||function(N,U){var G;!Pa&&(Pa=lu((G={},G[C]=[],G instanceof Array))),Pa.v?N[C]=U:Vt(U,function(V,te){return N[V]=te})};return y(f,m)}function jc(f,m,y){Ut(Qn,[m,Q,{v:f,c:!0,e:!1}]),m=Vo(m,y);function N(){this[H]=m,Ut(Qn,[this,Q,{v:f,c:!0,e:!1}])}return m[I]=y===s?ga(y):(N[I]=y[I],new N),m}function Ko(f,m){m&&(f[Q]=m)}function Ff(f,m,y){var N=y||Error,U=N[I][Q],G=Error.captureStackTrace;return jc(f,function(){var V=this,te=arguments;try{Ut(Ko,[N,f]);var ve=fn(N,V,st[re](te))||V;if(ve!==V){var _e=Zt(V);_e!==Zt(ve)&&Vo(ve,_e)}return G&&G(ve,V[H]),m&&m(ve,te),ve}finally{Ut(Ko,[N,U])}},N)}function on(){return(Date.now||Fl)()}function Fl(){return new Date().getTime()}function ri(f){return function(y){return nt(y)&&Un("strTrim called ["+Et(y)+"]"),y&&y.replace&&(y=y.replace(f,u)),y}}var $d=ri(/^\s+|(?=\s)\s+$/g),ta=tr("trim",ze,$d),Zp,gi,Ul;function Wi(f){if(!f||typeof f!==S)return!1;Ul||(Ul=ho()?Hu():!0);var m=!1;if(f!==Ul){gi||(Zp=Function[I][le],gi=Zp[re](he));try{var y=Zt(f);m=!y,m||(Xn(y,H)&&(y=y[H]),m=!!(y&&typeof y===h&&Zp[re](y)===gi))}catch{}}return m}var Uf;function _r(){return!zn&&Bu(),(!Uf||zn.lzy)&&(Uf=lu(Ut(en,["performance"]).v)),Uf.v}var Wo=tr("endsWith",ze,jf);function jf(f,m,y){Ye(f)||Un("'"+Et(f)+"' is not a string");var N=Ye(m)?m:ir(m),U=!Or(y)&&y<f[ie]?y:f[ie];return Qa(f,U-N[ie],U)===N}var Ya=As("indexOf",ze),Yc="ref",kt="unref",yi="hasRef",Gu="enabled";function jl(f,m,y){var N=!0,U=f?m(s):s,G;function V(){return N=!1,U&&U[kt]&&U[kt](),G}function te(){U&&y(U),U=s}function ve(){return U=m(U),N||V(),G}function _e(We){!We&&U&&te(),We&&!U&&ve()}return G={cancel:te,refresh:ve},G[yi]=function(){return U&&U[yi]?U[yi]():N},G[Yc]=function(){return N=!0,U&&U[Yc]&&U[Yc](),G},G[kt]=V,G=er(G,Gu,{get:function(){return!!U},set:_e}),{h:G,dn:function(){U=s}}}function Gv(f,m,y){var N=zt(m),U=N?m.length:0,G=(U>0?m[0]:N?n:m)||setTimeout,V=(U>1?m[1]:n)||clearTimeout,te=y[0];y[0]=function(){ve.dn(),fn(te,n,st[re](arguments))};var ve=jl(f,function(_e){if(_e){if(_e.refresh)return _e.refresh(),_e;fn(V,n,[_e])}return fn(G,n,y)},function(_e){fn(V,n,[_e])});return ve.h}function Di(f,m){return Gv(!0,n,st[re](arguments))}var Yl=cr,qd=Ol,du="toLowerCase",Ci="blkVal",ft="length",ya="rdOnly",pu="notify",Rs="warnToConsole",Bd="throwInternal",Hd="setDf",Sn="watch",Si="logger",zd="apply",xi="push",ni="splice",Hm="hdlr",Vv="cancel",Xp="name",vu="unload",Qp="version",bh="loggingLevelConsole",Gd="messageId",$a="message",$l="diagLog",ql="userAgent",Ji="split",wi="nodeType",mu="replace",ev="logInternalMessage",Pi="type",Vd="handler",hu="traceId",$c="spanId",Bl="traceFlags",Yf="getAttribute",Kd;function tv(f,m){Kd||(Kd=Ff("AggregationError",function(N,U){U[ft]>1&&(N.errors=U[1])}));var y=f||"One or more errors occurred.";throw ea(m,function(N,U){y+=`
`.concat(U," > ").concat(Et(N))}),new Kd(y,m||[])}var rv="function",_u="object",Wd="undefined",ks="prototype",Vu=Object,Ai=Vu[ks];(yn()||{}).Symbol,(yn()||{}).Reflect;var Hl="hasOwnProperty",$f=function(f){for(var m,y=1,N=arguments.length;y<N;y++){m=arguments[y];for(var U in m)Ai[Hl].call(m,U)&&(f[U]=m[U])}return f},qc=Vi||$f,Zi=function(f,m){return Zi=Vu.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,N){y.__proto__=N}||function(y,N){for(var U in N)N[Hl](U)&&(y[U]=N[U])},Zi(f,m)};function Kv(f,m){typeof m!==rv&&m!==null&&Un("Class extends value "+String(m)+" is not a constructor or null"),Zi(f,m);function y(){this.constructor=f}f[ks]=m===null?ga(m):(y[ks]=m[ks],new y)}var Jo,go="constructor",Xi="prototype",gu="function",qf="_dynInstFuncs",Bc="_isDynProxy",Hc="_dynClass",Ku="_dynCls$",Bf="_dynInstChk",zl=Bf,Hf="_dfOpts",Wu="_unknown_",Qi="__proto__",zc="_dyn"+Qi,yo="__dynProto$Gbl",bi="_dynInstProto",Zo="useBaseInst",Zr="setInstFuncs",Os=Object,eo=Os.getPrototypeOf,Gc=Os.getOwnPropertyNames,Vc=yn(),Xo=Vc[yo]||(Vc[yo]={o:(Jo={},Jo[Zr]=!0,Jo[Zo]=!0,Jo),n:1e3});function Gl(f){return f&&(f===Os[Xi]||f===Array[Xi])}function Qo(f){return Gl(f)||f===Function[Xi]}function yu(f){var m;if(f){if(eo)return eo(f);var y=f[Qi]||f[Xi]||(f[go]?f[go][Xi]:null);m=f[zc]||y,Xn(f,zc)||(delete f[bi],m=f[zc]=f[bi]||f[zc],f[bi]=y)}return m}function ai(f,m){var y=[];if(Gc)y=Gc(f);else for(var N in f)typeof N=="string"&&Xn(f,N)&&y.push(N);if(y&&y.length>0)for(var U=0;U<y.length;U++)m(y[U])}function Jd(f,m,y){return m!==go&&typeof f[m]===gu&&(y||Xn(f,m))&&m!==Qi&&m!==Xi}function Ju(f){Un("DynamicProto: "+f)}function qa(f){var m=ga(null);return ai(f,function(y){!m[y]&&Jd(f,y,!1)&&(m[y]=f[y])}),m}function zf(f,m){for(var y=f.length-1;y>=0;y--)if(f[y]===m)return!0;return!1}function Zd(f,m,y,N){function U(ve,_e,We){var Ot=_e[We];if(Ot[Bc]&&N){var rr=ve[qf]||{};rr[zl]!==!1&&(Ot=(rr[_e[Hc]]||{})[We]||Ot)}return function(){return Ot.apply(ve,arguments)}}var G=ga(null);ai(y,function(ve){G[ve]=U(m,y,ve)});for(var V=yu(f),te=[];V&&!Qo(V)&&!zf(te,V);)ai(V,function(ve){!G[ve]&&Jd(V,ve,!eo)&&(G[ve]=U(m,V,ve))}),te.push(V),V=yu(V);return G}function Vl(f,m,y,N){var U=null;if(f&&Xn(y,Hc)){var G=f[qf]||ga(null);if(U=(G[y[Hc]]||ga(null))[m],U||Ju("Missing ["+m+"] "+gu),!U[Bf]&&G[zl]!==!1){for(var V=!Xn(f,m),te=yu(f),ve=[];V&&te&&!Qo(te)&&!zf(ve,te);){var _e=te[m];if(_e){V=_e===N;break}ve.push(te),te=yu(te)}try{V&&(f[m]=U),U[Bf]=1}catch{G[zl]=!1}}}return U}function Kl(f,m,y){var N=m[f];return N===y&&(N=yu(m)[f]),typeof N!==gu&&Ju("["+f+"] is not a "+gu),N}function Xd(f,m,y,N,U){function G(ve,_e){var We=function(){var Ot=Vl(this,_e,ve,We)||Kl(_e,ve,We);return Ot.apply(this,arguments)};return We[Bc]=1,We}if(!Gl(f)){var V=y[qf]=y[qf]||ga(null);if(!Gl(V)){var te=V[m]=V[m]||ga(null);V[zl]!==!1&&(V[zl]=!!U),Gl(te)||ai(y,function(ve){Jd(y,ve,!1)&&y[ve]!==N[ve]&&(te[ve]=y[ve],delete y[ve],(!Xn(f,ve)||f[ve]&&!f[ve][Bc])&&(f[ve]=G(f,ve)))})}}}function Wv(f,m){if(eo){for(var y=[],N=yu(m);N&&!Qo(N)&&!zf(y,N);){if(N===f)return!0;y.push(N),N=yu(N)}return!1}return!0}function Zu(f,m){return Xn(f,Xi)?f.name||m||Wu:((f||{})[go]||{}).name||m||Wu}function So(f,m,y,N){Xn(f,Xi)||Ju("theClass is an invalid class definition.");var U=f[Xi];Wv(U,m)||Ju("["+Zu(f)+"] not in hierarchy of ["+Zu(m)+"]");var G=null;Xn(U,Hc)?G=U[Hc]:(G=Ku+Zu(f,"_")+"$"+Xo.n,Xo.n++,U[Hc]=G);var V=So[Hf],te=!!V[Zo];te&&N&&N[Zo]!==void 0&&(te=!!N[Zo]);var ve=qa(m),_e=Zd(U,m,ve,te);y(m,_e);var We=!!eo&&!!V[Zr];We&&N&&(We=!!N[Zr]),Xd(U,G,m,ve,We!==!1)}So[Hf]=Xo.o;var to=void 0,wn="",Wl="Not dynamic - ",Xu=/-([a-z])/g,Qu=/([^\w\d_$])/g,Qd=/^(\d+[\w\d_$])/;function Ri(f){return!nt(f)}function Su(f){var m=f;return m&&Ye(m)&&(m=m[mu](Xu,function(y,N){return N.toUpperCase()}),m=m[mu](Qu,"_"),m=m[mu](Qd,function(y,N){return"_"+N})),m}function Ms(f,m){return f&&m?Ya(f,m)!==-1:!1}function or(f){return f&&f.toISOString()||""}function wo(f){return It(f)?f[Xp]:wn}function es(f){return function(){function m(){var y=this;f&&Vt(f,function(N,U){y[N]=U})}return m}()}var ki="console",Gf="JSON",Oi="crypto",wu="msCrypto",dn="msie",ii="trident/",Yr=null,dt=null,ec=null;function bo(){return typeof console!==Wd?console:en(ki)}function Ls(){return!!(typeof JSON===_u&&JSON||en(Gf)!==null)}function ro(){return Ls()?JSON||en(Gf):null}function bu(){return en(Oi)}function Mi(){return en(wu)}function Hr(){var f=Kr();if(f&&(f[ql]!==dt||Yr===null)){dt=f[ql];var m=(dt||wn)[du]();Yr=Ms(m,dn)||Ms(m,ii)}return Yr}function Eo(f){return(ec===null||f===!1)&&(ec=hi()&&!!Kr().sendBeacon),ec}function $r(f,m){if(f)for(var y=0;y<f[ft];y++){var N=f[y];if(N[Xp]&&N[Xp]===m)return N}return{}}function To(f){var m=xa();return m&&f?$r(m.querySelectorAll("meta"),f).content:null}function Vf(f){var m,y=_r();if(y){var N=y.getEntriesByType("navigation")||[];m=$r((N[ft]>0?N[0]:{}).serverTiming,f).description}return m}var Io=4294967296,Yn=4294967295,no=123456789,ts=987654321,Aa=!1,Ba=no,Kc=ts;function tc(f){f<0&&(f>>>=0),Ba=no+f&Yn,Kc=ts-f&Yn,Aa=!0}function Kf(){try{var f=on()&2147483647;tc((Math.random()*Io^f)+f)}catch{}}function Fs(f){return f>0?Math.floor(No()/Yn*(f+1))>>>0:0}function No(f){var m=0,y=bu()||Mi();return y&&y.getRandomValues&&(m=y.getRandomValues(new Uint32Array(1))[0]&Yn),m===0&&Hr()&&(Aa||Kf(),m=Do()&Yn),m===0&&(m=Math.floor(Io*Math.random()|0)),f||(m>>>=0),m}function Do(f){Kc=36969*(Kc&65535)+(Kc>>16)&Yn,Ba=18e3*(Ba&65535)+(Ba>>16)&Yn;var m=(Kc<<16)+(Ba&65535)>>>0&Yn|0;return f||(m>>>=0),m}function rc(f){f===void 0&&(f=22);for(var m="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",y=No()>>>0,N=0,U=wn;U[ft]<f;)N++,U+=m.charAt(y&63),y>>>=6,N===5&&(y=(No()<<2&4294967295|y&3)>>>0,N=0);return U}var Co="3.3.5",Vn="."+rc(6),Wf=0;function nc(f){return f[wi]===1||f[wi]===9||!+f[wi]}function Us(f,m){var y=m[f.id];if(!y){y={};try{nc(m)&&Qn(m,f.id,{e:!1,v:y})}catch{}}return y}function Ei(f,m){return m===void 0&&(m=!1),Su(f+Wf+++(m?"."+Co:wn)+Vn)}function rs(f){var m={id:Ei("_aiData-"+(f||wn)+"."+Co),accept:function(y){return nc(y)},get:function(y,N,U,G){var V=y[m.id];return V?V[Su(N)]:(G&&(V=Us(m,y),V[Su(N)]=U),U)},kill:function(y,N){if(y&&y[N])try{delete y[N]}catch{}}};return m}function js(f){return f&&Bn(f)&&(f.isVal||f.fb||rt(f,"v")||rt(f,"mrg")||rt(f,"ref")||f.set)}function Li(f,m,y){var N,U=y.dfVal||Ni;if(m&&y.fb){var G=y.fb;zt(G)||(G=[G]);for(var V=0;V<G[ft];V++){var te=G[V],ve=m[te];if(U(ve)?N=ve:f&&(ve=f.cfg[te],U(ve)&&(N=ve),f.set(f.cfg,ir(te),ve)),U(N))break}}return!U(N)&&U(y.v)&&(N=y.v),N}function Wc(f,m,y){var N=y;if(y&&js(y)&&(N=Li(f,m,y)),N){js(N)&&(N=Wc(f,m,N));var U;zt(N)?(U=[],U[ft]=N[ft]):Wi(N)&&(U={}),U&&(Vt(N,function(G,V){V&&js(V)&&(V=Wc(f,m,V)),U[G]=V}),N=U)}return N}function Eu(f,m,y,N){var U,G,V,te=N,ve,_e,We,Ot;js(te)?(U=te.isVal,G=te.set,We=te[ya],Ot=te[Ci],ve=te.mrg,_e=te.ref,!_e&&Or(_e)&&(_e=!!ve),V=Li(f,m,te)):V=N,Ot&&f[Ci](m,y);var rr,ur=!0,ut=m[y];(ut||!nt(ut))&&(rr=ut,ur=!1,U&&rr!==V&&!U(rr)&&(rr=V,ur=!0),G&&(rr=G(rr,V,m),ur=rr===V)),ur?V?rr=Wc(f,m,V):rr=V:(Wi(rr)||zt(V))&&ve&&V&&(Wi(V)||zt(V))&&Vt(V,function(nr,jt){Eu(f,rr,nr,jt)}),f.set(m,y,rr),_e&&f.ref(m,y),We&&f[ya](m,y)}var Sa=ti("[[ai_dynCfg_1]]"),Tu=ti("[[ai_blkDynCfg_1]]"),Ys=ti("[[ai_frcDynCfg_1]]");function Fi(f){if(f){var m;if(zt(f)?(m=[],m[ft]=f[ft]):Wi(f)&&(m={}),m)return Vt(f,function(y,N){m[y]=Fi(N)}),m}return f}function ac(f){if(f){var m=f[Sa]||f;if(m.cfg&&(m.cfg===f||m.cfg[Sa]===m))return m}return null}function pn(f){if(f&&(Wi(f)||zt(f)))try{f[Tu]=!0}catch{}return f}function oa(f,m,y){var N=!1;return y&&!f[m.blkVal]&&(N=y[Ys],!N&&!y[Tu]&&(N=Wi(y)||zt(y))),N}function Ui(f){Un("InvalidAccess:"+f)}var ic=["push","pop","shift","unshift","splice"],ns=function(f,m,y,N){f&&f[Bd](3,108,"".concat(y," [").concat(m,"] failed - ")+Et(N))};function ep(f,m,y){zt(m)&&ea(ic,function(N){var U=m[N];m[N]=function(){for(var G=[],V=0;V<arguments.length;V++)G[V]=arguments[V];var te=U[zd](this,G);return oi(f,m,y,"Patching"),te}})}function Ti(f,m){var y=tt(f,m);return y&&y.get}function Jc(f,m,y,N){var U={n:y,h:[],trk:function(_e){_e&&_e.fn&&(zu(U.h,_e)===-1&&U.h[xi](_e),f.trk(_e,U))},clr:function(_e){var We=zu(U.h,_e);We!==-1&&U.h[ni](We,1)}},G=!0,V=!1;function te(){G&&(V=V||oa(te,f,N),N&&!N[Sa]&&V&&(N=oi(f,N,y,"Converting")),G=!1);var _e=f.act;return _e&&U.trk(_e),N}te[f.prop]={chng:function(){f.add(U)}};function ve(_e){if(N!==_e){te[f.ro]&&!f.upd&&Ui("["+y+"] is read-only:"+Et(m)),G&&(V=V||oa(te,f,N),G=!1);var We=V&&te[f.rf];if(V)if(We){Vt(N,function(rr){N[rr]=_e?_e[rr]:to});try{Vt(_e,function(rr,ur){Ra(f,N,rr,ur)}),_e=N}catch(rr){ns((f.hdlr||{})[Si],y,"Assigning",rr),V=!1}}else N&&N[Sa]&&Vt(N,function(rr){var ur=Ti(N,rr);if(ur){var ut=ur[f.prop];ut&&ut.chng()}});if(_e!==N){var Ot=_e&&oa(te,f,_e);!We&&Ot&&(_e=oi(f,_e,y,"Converting")),N=_e,V=Ot}f.add(U)}}Qn(m,U.n,{g:te,s:ve})}function Ra(f,m,y,N){if(m){var U=Ti(m,y),G=U&&!!U[f.prop];G?m[y]=N:Jc(f,m,y,N)}return m}function Jf(f,m,y,N){if(m){var U=Ti(m,y),G=U&&!!U[f.prop],V=N&&N[0],te=N&&N[1],ve=N&&N[2];if(!G){if(ve)try{pn(m)}catch(_e){ns((f.hdlr||{})[Si],y,"Blocking",_e)}try{Ra(f,m,y,m[y]),U=Ti(m,y)}catch(_e){ns((f.hdlr||{})[Si],y,"State",_e)}}V&&(U[f.rf]=V),te&&(U[f.ro]=te),ve&&(U[f.blkVal]=!0)}return m}function oi(f,m,y,N){try{Vt(m,function(U,G){Ra(f,m,U,G)}),m[Sa]||(er(m,Sa,{get:function(){return f[Hm]}}),ep(f,m,y))}catch(U){ns((f.hdlr||{})[Si],y,N,U)}return m}var as="[[ai_",is="]]";function tp(f){var m,y=fu(as+"get"+f.uid+is),N=fu(as+"ro"+f.uid+is),U=fu(as+"rf"+f.uid+is),G=fu(as+"blkVal"+f.uid+is),V=fu(as+"dtl"+f.uid+is),te=null,ve=null,_e;function We(ut,nr){var jt=_e.act;try{_e.act=ut,ut&&ut[V]&&(ea(ut[V],function(Nr){Nr.clr(ut)}),ut[V]=[]),nr({cfg:f.cfg,set:f.set.bind(f),setDf:f[Hd].bind(f),ref:f.ref.bind(f),rdOnly:f[ya].bind(f)})}catch(Nr){var Ir=f[Si];throw Ir&&Ir[Bd](1,107,Et(Nr)),Nr}finally{_e.act=jt||null}}function Ot(){if(te){var ut=te;te=null,ve&&ve[Vv](),ve=null;var nr=[];if(ea(ut,function(jt){if(jt&&(jt[V]&&(ea(jt[V],function(Ir){Ir.clr(jt)}),jt[V]=null),jt.fn))try{We(jt,jt.fn)}catch(Ir){nr[xi](Ir)}}),te)try{Ot()}catch(jt){nr[xi](jt)}nr[ft]>0&&tv("Watcher error(s): ",nr)}}function rr(ut){if(ut&&ut.h[ft]>0){te||(te=[]),ve||(ve=Di(function(){ve=null,Ot()},0));for(var nr=0;nr<ut.h[ft];nr++){var jt=ut.h[nr];jt&&zu(te,jt)===-1&&te[xi](jt)}}}function ur(ut,nr){if(ut){var jt=ut[V]=ut[V]||[];zu(jt,nr)===-1&&jt[xi](nr)}}return _e=(m={prop:y,ro:N,rf:U},m[Ci]=G,m[Hm]=f,m.add=rr,m[pu]=Ot,m.use=We,m.trk=ur,m),_e}function Jl(f,m){var y={fn:m,rm:function(){y.fn=null,f=null,m=null}};return Qn(y,"toJSON",{v:function(){return"WatcherHandler"+(y.fn?"":"[X]")}}),f.use(y,m),y}function Zf(f,m,y){var N,U=ac(m);if(U)return U;var G=Ei("dyncfg",!0),V=m&&y!==!1?m:Fi(m),te;function ve(){te[pu]()}function _e(Ir,Nr,Pt){try{Ir=Ra(te,Ir,Nr,Pt)}catch(In){ns(f,Nr,"Setting value",In)}return Ir[Nr]}function We(Ir){return Jl(te,Ir)}function Ot(Ir,Nr){te.use(null,function(Pt){var In=te.upd;try{Or(Nr)||(te.upd=Nr),Ir(Pt)}finally{te.upd=In}})}function rr(Ir,Nr){var Pt;return Jf(te,Ir,Nr,(Pt={},Pt[0]=!0,Pt))[Nr]}function ur(Ir,Nr){var Pt;return Jf(te,Ir,Nr,(Pt={},Pt[1]=!0,Pt))[Nr]}function ut(Ir,Nr){var Pt;return Jf(te,Ir,Nr,(Pt={},Pt[2]=!0,Pt))[Nr]}function nr(Ir,Nr){return Nr&&Vt(Nr,function(Pt,In){Eu(jt,Ir,Pt,In)}),Ir}var jt=(N={uid:null,cfg:V},N[Si]=f,N[pu]=ve,N.set=_e,N[Hd]=nr,N[Sn]=We,N.ref=rr,N[ya]=ur,N[Ci]=ut,N._block=Ot,N);return Qn(jt,"uid",{c:!1,e:!1,w:!1,v:G}),te=tp(jt),oi(te,V,"config","Creating"),jt}function Zl(f,m){f?(f[Rs](m),f[Bd](2,108,m)):Ui(m)}function xo(f,m,y,N){var U=Zf(y,f||{},N);return m&&U[Hd](U.cfg,m),U}function si(f,m,y){var N=f[Sa]||f;return N.cfg&&(N.cfg===f||N.cfg[Sa]===N)?N[Sn](m):(Zl(y,Wl+Et(f)),xo(f,null,y)[Sn](m))}var Zc=null;function Jv(){var f=en("Microsoft");return f&&(Zc=f.ApplicationInsights),Zc}function oc(f){var m=Zc;return!m&&f.disableDbgExt!==!0&&(m=Zc||Jv()),m?m.ChromeDbgExt:null}var sc,os="warnToConsole",Xl="AI (Internal): ",zm="AI: ",rp="AITR_",Ql={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},uc=(sc={},sc[0]=null,sc[1]="errorToConsole",sc[2]=os,sc[3]="debugToConsole",sc);function nv(f){return f?'"'+f[mu](/\"/g,wn)+'"':wn}function Zv(f,m){var y=bo();if(y){var N="log";y[f]&&(N=f),Er(y[N])&&y[N](m)}}var cc=function(){function f(m,y,N,U){N===void 0&&(N=!1);var G=this;G[Gd]=m,G[$a]=(N?zm:Xl)+m;var V=wn;Ls()&&(V=ro().stringify(U));var te=(y?" message:"+nv(y):wn)+(U?" props:"+nv(V):wn);G[$a]+=te}return f.dataType="MessageData",f}();function Xv(f,m){return(f||{})[Si]||new ef(m)}var ef=function(){function f(m){this.identifier="DiagnosticLogger",this.queue=[];var y=0,N={},U,G,V,te,ve;So(f,this,function(_e){ve=Ot(m||{}),_e.consoleLoggingLevel=function(){return U},_e[Bd]=function(ut,nr,jt,Ir,Nr){Nr===void 0&&(Nr=!1);var Pt=new cc(nr,jt,Nr,Ir);if(te)throw Et(Pt);var In=uc[ut]||os;if(Or(Pt[$a]))ur("throw"+(ut===1?"Critical":"Warning"),Pt);else{if(Nr){var _f=+Pt[Gd];!N[_f]&&U>=ut&&(_e[In](Pt[$a]),N[_f]=!0)}else U>=ut&&_e[In](Pt[$a]);We(ut,Pt)}},_e.debugToConsole=function(ut){Zv("debug",ut),ur("warning",ut)},_e[Rs]=function(ut){Zv("warn",ut),ur("warning",ut)},_e.errorToConsole=function(ut){Zv("error",ut),ur("error",ut)},_e.resetInternalMessageCount=function(){y=0,N={}},_e[ev]=We,_e[vu]=function(ut){ve&&ve.rm(),ve=null};function We(ut,nr){if(!rr()){var jt=!0,Ir=rp+nr[Gd];if(N[Ir]?jt=!1:N[Ir]=!0,jt&&(ut<=G&&(_e.queue[xi](nr),y++,ur(ut===1?"error":"warn",nr)),y===V)){var Nr="Internal events throttle limit per PageView reached for this app.",Pt=new cc(23,Nr,!1);_e.queue[xi](Pt),ut===1?_e.errorToConsole(Nr):_e[Rs](Nr)}}}function Ot(ut){return si(xo(ut,Ql,_e).cfg,function(nr){var jt=nr.cfg;U=jt[bh],G=jt.loggingLevelTelemetry,V=jt.maxMessageLimit,te=jt.enableDebug})}function rr(){return y>=V}function ur(ut,nr){var jt=oc(m||{});jt&&jt[$l]&&jt[$l](ut,nr)}})}return f.__ieDyn=1,f}();function np(f){return f||new ef}function ao(f,m,y,N,U,G){G===void 0&&(G=!1),np(f)[Bd](m,y,N,U,G)}function av(){for(var f=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],m=wn,y,N=0;N<4;N++)y=No(),m+=f[y&15]+f[y>>4&15]+f[y>>8&15]+f[y>>12&15]+f[y>>16&15]+f[y>>20&15]+f[y>>24&15]+f[y>>28&15];var U=f[8+(No()&3)|0];return ei(m,0,8)+ei(m,9,4)+"4"+ei(m,13,3)+U+ei(m,16,3)+ei(m,19,12)}var Gm=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,Xf="00",iv="ff",ap="00000000000000000000000000000000",Xc="0000000000000000",Qf=1;function lc(f,m,y){return f&&f[ft]===m&&f!==y?!!f.match(/^[\da-f]*$/i):!1}function $s(f,m,y){return lc(f,m)?f:y}function Qc(f){(isNaN(f)||f<0||f>255)&&(f=1);for(var m=f.toString(16);m[ft]<2;)m="0"+m;return m}function Qv(f,m,y,N){var U;return U={},U[Qp]=lc(N,2,iv)?N:Xf,U[hu]=el(f)?f:av(),U[$c]=op(m)?m:Uc(av(),16),U.traceFlags=y>=0&&y<=255?y:1,U}function ip(f,m){var y;if(!f||(zt(f)&&(f=f[0]||""),!f||!Ye(f)||f[ft]>8192))return null;if(f.indexOf(",")!==-1){var N=f[Ji](",");f=N[m>0&&N[ft]>m?m:0]}var U=Gm.exec(ta(f));return!U||U[1]===iv||U[2]===ap||U[3]===Xc?null:(y={version:(U[1]||wn)[du](),traceId:(U[2]||wn)[du](),spanId:(U[3]||wn)[du]()},y[Bl]=parseInt(U[4],16),y)}function el(f){return lc(f,32,ap)}function op(f){return lc(f,16,Xc)}function qs(f){return!(!f||!lc(f[Qp],2,iv)||!lc(f[hu],32,ap)||!lc(f[$c],16,Xc)||!lc(Qc(f[Bl]),2))}function zr(f){return qs(f)?(f[Bl]&Qf)===Qf:!1}function fc(f){if(f){var m=Qc(f[Bl]);lc(m,2)||(m="01");var y=f[Qp]||Xf;return y!=="00"&&y!=="ff"&&(y=Xf),"".concat(y.toLowerCase(),"-").concat($s(f.traceId,32,ap).toLowerCase(),"-").concat($s(f.spanId,16,Xc).toLowerCase(),"-").concat(m.toLowerCase())}return""}function wa(f){var m="traceparent",y=ip(To(m),f);return y||(y=ip(Vf(m),f)),y}function sp(f){var m=f.getElementsByTagName("script"),y=[];return ea(m,function(N){var U=N[Yf]("src");if(U){var G=N[Yf]("crossorigin"),V=N.hasAttribute("async")===!0,te=N.hasAttribute("defer")===!0,ve=N[Yf]("referrerpolicy"),_e={url:U};G&&(_e.crossOrigin=G),V&&(_e.async=V),te&&(_e.defer=te),ve&&(_e.referrerPolicy=ve),y[xi](_e)}}),y}var ed="on",tl="attachEvent",dc="addEventListener",ui="detachEvent",td="removeEventListener",sa="events";Ei("aiEvtPageHide"),Ei("aiEvtPageShow");var pr=/\.[\.]+/g,Bs=/[\.]+$/,Tn=1,ss=rs("events"),pc=/^([^.]*)(?:\.(.+)|)/;function vc(f){return f&&f[mu]?f[mu](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,wn):f}function Hs(f,m){var y;if(m){var N=wn;zt(m)?(N=wn,ea(m,function(G){G=vc(G),G&&(G[0]!=="."&&(G="."+G),N+=G)})):N=vc(m),N&&(N[0]!=="."&&(N="."+N),f=(f||wn)+N)}var U=pc.exec(f||wn)||[];return y={},y[Pi]=U[1],y.ns=(U[2]||wn).replace(pr,".").replace(Bs,wn)[Ji](".").sort().join("."),y}function io(f,m,y){y===void 0&&(y=!0);var N=ss.get(f,sa,{},y),U=N[m];return U||(U=N[m]=[]),U}function tf(f,m,y,N){f&&m&&m[Pi]&&(f[td]?f[td](m[Pi],y,N):f[ui]&&f[ui](ed+m[Pi],y))}function ov(f,m,y,N){var U=!1;return f&&m&&m[Pi]&&y&&(f[dc]?(f[dc](m[Pi],y,N),U=!0):f[tl]&&(f[tl](ed+m[Pi],y),U=!0)),U}function rf(f,m,y,N){for(var U=m[ft];U--;){var G=m[U];G&&(!y.ns||y.ns===G.evtName.ns)&&(!N||N(G))&&(tf(f,G.evtName,G[Vd],G.capture),m[ni](U,1))}}function sv(f,m,y){if(m[Pi])rf(f,io(f,m[Pi]),m,y);else{var N=ss.get(f,sa,{});Vt(N,function(U,G){rf(f,G,m,y)}),ia(N)[ft]===0&&ss.kill(f,sa)}}function nf(f,m){var y;return m?(zt(m)?y=[f].concat(m):y=[f,m],y=Hs("xx",y).ns[Ji](".")):y=f,y}function rl(f,m,y,N,U){var G;U===void 0&&(U=!1);var V=!1;if(f)try{var te=Hs(m,N);if(V=ov(f,te,y,U),V&&ss.accept(f)){var ve=(G={guid:Tn++,evtName:te},G[Vd]=y,G.capture=U,G);io(f,te.type)[xi](ve)}}catch{}return V}function up(f,m,y,N,U){if(U===void 0&&(U=!1),f)try{var G=Hs(m,N),V=!1;sv(f,G,function(te){return G.ns&&!y||te[Vd]===y?(V=!0,!0):!1}),V||tf(f,G,y,U)}catch{}}var ra="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",nl="sampleRate",ba="ProcessLegacy",Iu="http.method",cp="https://dc.services.visualstudio.com",rd="/v2/track",Ea="not_specified",nd="iKey",lp=qd({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),zs="split",pt="length",us="toLowerCase",cs="ingestionendpoint",ji="toString",af="push",al="removeItem",ls="name",oo="message",il="count",ad="preTriggerDate",Gs="disabled",of="interval",ol="daysOfMonth",sf="date",fp="getUTCDate",dp="stringify",uv="pathname",pp="match",Nu="correlationHeaderExcludePatterns",mc="extensionConfig",uf="exceptions",Po="parsedStack",fs="properties",Ao="measurements",Ro="sizeInBytes",hc="typeName",vp="severityLevel",_c="problemGroup",mp="isManual",hp="hasFullStack",id="assembly",ds="fileName",ko="line",Oo="method",od="level",cf="aiDataContract",sl="duration",ka="receivedResponse";function ps(f,m,y){var N=m[pt],U=sd(f,m);if(U[pt]!==N){for(var G=0,V=U;y[V]!==void 0;)G++,V=Qa(U,0,147)+Cu(G);U=V}return U}function sd(f,m){var y;return m&&(m=ta(ir(m)),m[pt]>150&&(y=Qa(m,0,150),ao(f,2,57,"name is too long.  It has been truncated to 150 characters.",{name:m},!0))),y||m}function Ha(f,m,y){y===void 0&&(y=1024);var N;return m&&(y=y||1024,m=ta(ir(m)),m[pt]>y&&(N=Qa(m,0,y),ao(f,2,61,"string value is too long. It has been truncated to "+y+" characters.",{value:m},!0))),N||m}function Vs(f,m){return ul(f,m,2048,66)}function lf(f,m){var y;return m&&m[pt]>32768&&(y=Qa(m,0,32768),ao(f,2,56,"message is too long, it has been truncated to 32768 characters.",{message:m},!0)),y||m}function vs(f,m){var y;if(m){var N=""+m;N[pt]>32768&&(y=Qa(N,0,32768),ao(f,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:m},!0))}return y||m}function Ta(f,m){if(m){var y={};Vt(m,function(N,U){if(Bn(U)&&Ls())try{U=ro()[dp](U)}catch(G){ao(f,2,49,"custom property is not valid",{exception:G},!0)}U=Ha(f,U,8192),N=ps(f,N,y),y[N]=U}),m=y}return m}function Du(f,m){if(m){var y={};Vt(m,function(N,U){N=ps(f,N,y),y[N]=U}),m=y}return m}function ud(f,m){return m&&ul(f,m,128,69)[ji]()}function ul(f,m,y,N){var U;return m&&(m=ta(ir(m)),m[pt]>y&&(U=Qa(m,0,y),ao(f,2,N,"input is too long, it has been truncated to "+y+" characters.",{data:m},!0))),U||m}function Cu(f){var m="00"+f;return ei(m,m[pt]-3)}var em=xa()||{},cv=0,tm=[null,null,null,null,null];function cl(f){var m=cv,y=tm,N=y[m];return em.createElement?y[m]||(N=y[m]=em.createElement("a")):N={host:cd(f,!0)},N.href=f,m++,m>=y[pt]&&(m=0),cv=m,N}function ff(f){var m,y=cl(f);return y&&(m=y.href),m}function lv(f){var m,y=cl(f);return y&&(m=y[uv]),m}function Vm(f,m){return f?f.toUpperCase()+" "+m:m}function cd(f,m){var y=_p(f,m)||"";if(y){var N=y[pp](/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(N!=null&&N[pt]>3&&Ye(N[2])&&N[2][pt]>0)return N[2]+(N[3]||"")}return y}function _p(f,m){var y=null;if(f){var N=f[pp](/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(N!=null&&N[pt]>2&&Ye(N[2])&&N[2][pt]>0&&(y=N[2]||"",m&&N[pt]>2)){var U=(N[1]||"")[us](),G=N[3]||"";(U==="http"&&G===":80"||U==="https"&&G===":443")&&(G=""),y+=G}}return y}var ll=[cp+rd,"https://breeze.aimon.applicationinsights.io"+rd,"https://dc-int.services.visualstudio.com"+rd],xu="cid-v1:";function gp(f){return zu(ll,f[us]())!==-1}function ms(f){xu=f}function ld(){return xu}function df(f,m,y){if(!m||f&&f.disableCorrelationHeaders)return!1;if(f&&f[Nu]){for(var N=0;N<f.correlationHeaderExcludePatterns[pt];N++)if(f[Nu][N].test(m))return!1}var U=cl(m).host[us]();if(U&&(Ya(U,":443")!==-1||Ya(U,":80")!==-1)&&(U=(_p(m,!0)||"")[us]()),(!f||!f.enableCorsCorrelation)&&U&&U!==y)return!1;var G=f&&f.correlationHeaderDomains;if(G){var V;if(ea(G,function(_e){var We=new RegExp(_e.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));V=V||We.test(U)}),!V)return!1}var te=f&&f.correlationHeaderExcludedDomains;if(!te||te[pt]===0)return!0;for(var N=0;N<te[pt];N++){var ve=new RegExp(te[N].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(ve.test(U))return!1}return U&&U[pt]>0}function hs(f){if(f){var m=gc(f,lp[1]);if(m&&m!==xu)return m}}function gc(f,m){if(f)for(var y=f[zs](","),N=0;N<y[pt];++N){var U=y[N][zs]("=");if(U[pt]===2&&U[0]===m)return U[1]}}function rm(f,m,y,N){var U,G=N,V=N;if(m&&m[pt]>0){var te=cl(m);if(U=te.host,!G)if(te[uv]!=null){var ve=te.pathname[pt]===0?"/":te[uv];ve.charAt(0)!=="/"&&(ve="/"+ve),V=te[uv],G=Ha(f,y?y+" "+ve:ve)}else G=Ha(f,m)}else U=N,G=N;return{target:U,name:G,data:V}}function fl(){var f=_r();if(f&&f.now&&f.timing){var m=f.now()+f.timing.navigationStart;if(m>0)return m}return on()}function Km(f,m){var y=null;return f!==0&&m!==0&&!nt(f)&&!nt(m)&&(y=m-f),y}function nm(f,m){var y=f||{};return{getName:function(){return y[ls]},setName:function(N){m&&m.setName(N),y[ls]=N},getTraceId:function(){return y.traceID},setTraceId:function(N){m&&m.setTraceId(N),el(N)&&(y.traceID=N)},getSpanId:function(){return y.parentID},setSpanId:function(N){m&&m.setSpanId(N),op(N)&&(y.parentID=N)},getTraceFlags:function(){return y.traceFlags},setTraceFlags:function(N){m&&m.setTraceFlags(N),y.traceFlags=N}}}var pf=Yl({LocalStorage:0,SessionStorage:1}),fv=Yl({AI:0,AI_AND_W3C:1,W3C:2}),am=Yl({Normal:1,Critical:2}),Pu=void 0,so=void 0,Ks="";function Au(){return yc()?dl(pf.LocalStorage):null}function dl(f){try{if(nt(yn()))return null;var m=new Date()[ji](),y=en(f===pf.LocalStorage?"localStorage":"sessionStorage"),N=Ks+m;y.setItem(N,m);var U=y.getItem(N)!==m;if(y[al](N),!U)return y}catch{}return null}function pl(){return Sp()?dl(pf.SessionStorage):null}function fd(){Pu=!1,so=!1}function vf(f){Ks=f||""}function Mo(){Pu=yc(!0),so=Sp(!0)}function yc(f){return(f||Pu===void 0)&&(Pu=!!dl(pf.LocalStorage)),Pu}function im(f,m){var y=Au();if(y!==null)try{return y.getItem(m)}catch(N){Pu=!1,ao(f,2,1,"Browser failed read of local storage. "+wo(N),{exception:Et(N)})}return null}function om(f,m,y){var N=Au();if(N!==null)try{return N.setItem(m,y),!0}catch(U){Pu=!1,ao(f,2,3,"Browser failed write to local storage. "+wo(U),{exception:Et(U)})}return!1}function yp(f,m){var y=Au();if(y!==null)try{return y[al](m),!0}catch(N){Pu=!1,ao(f,2,5,"Browser failed removal of local storage item. "+wo(N),{exception:Et(N)})}return!1}function Sp(f){return(f||so===void 0)&&(so=!!dl(pf.SessionStorage)),so}function Lo(){var f=[];return Sp()&&Vt(en("sessionStorage"),function(m){f[af](m)}),f}function Ru(f,m){var y=pl();if(y!==null)try{return y.getItem(m)}catch(N){so=!1,ao(f,2,2,"Browser failed read of session storage. "+wo(N),{exception:Et(N)})}return null}function vl(f,m,y){var N=pl();if(N!==null)try{return N.setItem(m,y),!0}catch(U){so=!1,ao(f,2,4,"Browser failed write to session storage. "+wo(U),{exception:Et(U)})}return!1}function sm(f,m){var y=pl();if(y!==null)try{return y[al](m),!0}catch(N){so=!1,ao(f,2,6,"Browser failed removal of session storage item. "+wo(N),{exception:Et(N)})}return!1}var wp="appInsightsThrottle",um=function(){function f(m,y){var N=this,U,G,V,te,ve,_e,We,Ot=!1,rr=!1;ut(),N._getDbgPlgTargets=function(){return[We]},N.getConfig=function(){return V},N.canThrottle=function(ke){var Tt=Ed(ke),Bt=nr(ke);return Nr(Bt,U,Tt)},N.isTriggered=function(ke){return Cp(ke)},N.isReady=function(){return Ot},N.flush=function(ke){try{var Tt=mm(ke);if(Tt&&Tt[pt]>0){var Bt=Tt.slice(0);return We[ke]=[],ea(Bt,function(Gr){ur(Gr.msgID,Gr[oo],Gr.severity,!1)}),!0}}catch{}return!1},N.flushAll=function(){try{if(We){var ke=!0;return Vt(We,function(Tt){var Bt=N.flush(parseInt(Tt));ke=ke&&Bt}),ke}}catch{}return!1},N.onReadyState=function(ke,Tt){return Tt===void 0&&(Tt=!0),Ot=nt(ke)?!0:ke,Ot&&Tt?N.flushAll():null},N.sendMessage=function(ke,Tt,Bt){return ur(ke,Tt,Bt,!0)};function ur(ke,Tt,Bt,Gr){if(Ot){var sn=bd(ke);if(!sn)return;var mn=nr(ke),ua=Ed(ke),Fu=Nr(mn,U,ua),bs=!1,Uu=0,Tl=Cp(ke);try{Fu&&!Tl?(Uu=Math.min(mn.limit.maxSendNumber,ua[il]+1),ua[il]=0,bs=!0,ve[ke]=!0,ua[ad]=new Date):(ve[ke]=Fu,ua[il]+=1);var hm=Pt(ke);qi(G,hm,ua);for(var xp=0;xp<Uu;xp++)Iv(ke,G,Tt,Bt)}catch{}return{isThrottled:bs,throttleNum:Uu}}else if(Gr){var gf=mm(ke);gf[af]({msgID:ke,message:Tt,severity:Bt})}return null}function ut(){G=Xv(m),ve={},te={},We={},V={},jt(109),_e=Ri(y)?y:"",m.addUnloadHook(si(m.config,function(ke){var Tt=ke.cfg;U=yc();var Bt=Tt.throttleMgrCfg||{};Vt(Bt,function(Gr,sn){jt(parseInt(Gr),sn)})}))}function nr(ke){return V[ke]||V[109]}function jt(ke,Tt){var Bt,Gr;try{var sn=Tt||{},mn={};mn[Gs]=!!sn[Gs];var ua=sn[of]||{};rr=(ua==null?void 0:ua.daysOfMonth)&&(ua==null?void 0:ua.daysOfMonth[pt])>0,mn[of]=Ir(ua);var Fu={samplingRate:((Bt=sn.limit)===null||Bt===void 0?void 0:Bt.samplingRate)||100,maxSendNumber:((Gr=sn.limit)===null||Gr===void 0?void 0:Gr.maxSendNumber)||1};mn.limit=Fu,V[ke]=mn}catch{}}function Ir(ke){ke=ke||{};var Tt=ke==null?void 0:ke.monthInterval,Bt=ke==null?void 0:ke.dayInterval;return nt(Tt)&&nt(Bt)&&(ke.monthInterval=3,rr||(ke[ol]=[28],rr=!0)),ke={monthInterval:ke==null?void 0:ke.monthInterval,dayInterval:ke==null?void 0:ke.dayInterval,daysOfMonth:ke==null?void 0:ke.daysOfMonth},ke}function Nr(ke,Tt,Bt){if(ke&&!ke[Gs]&&Tt&&Ri(Bt)){var Gr=Nn(),sn=Bt[sf],mn=ke[of],ua=1;if(mn!=null&&mn.monthInterval){var Fu=(Gr.getUTCFullYear()-sn.getUTCFullYear())*12+Gr.getUTCMonth()-sn.getUTCMonth();ua=wd(mn.monthInterval,0,Fu)}var bs=1;if(rr)bs=zu(mn[ol],Gr[fp]());else if(mn!=null&&mn.dayInterval){var Uu=Math.floor((Gr.getTime()-sn.getTime())/864e5);bs=wd(mn.dayInterval,0,Uu)}return ua>=0&&bs>=0}return!1}function Pt(ke,Tt){var Bt=Ri(Tt)?Tt:"";return ke?wp+Bt+"-"+ke:null}function In(ke){try{if(ke){var Tt=new Date;return ke.getUTCFullYear()===Tt.getUTCFullYear()&&ke.getUTCMonth()===Tt.getUTCMonth()&&ke[fp]()===Tt[fp]()}}catch{}return!1}function _f(ke,Tt,Bt){try{var Gr={date:Nn(),count:0};if(ke){var sn=JSON.parse(ke),mn={date:Nn(sn[sf])||Gr[sf],count:sn[il]||Gr[il],preTriggerDate:sn.preTriggerDate?Nn(sn[ad]):void 0};return mn}else return qi(Tt,Bt,Gr),Gr}catch{}return null}function Nn(ke){try{if(ke){var Tt=new Date(ke);if(!isNaN(Tt.getDate()))return Tt}else return new Date}catch{}return null}function qi(ke,Tt,Bt){try{return om(ke,Tt,ta(JSON[dp](Bt)))}catch{}return!1}function wd(ke,Tt,Bt){return ke<=0?1:Bt>=Tt&&(Bt-Tt)%ke==0?Math.floor((Bt-Tt)/ke)+1:-1}function Iv(ke,Tt,Bt,Gr){ao(Tt,Gr||1,ke,Bt)}function bd(ke){try{var Tt=nr(ke);return Fs(1e6)<=Tt.limit.samplingRate}catch{}return!1}function Ed(ke){try{var Tt=te[ke];if(!Tt){var Bt=Pt(ke,_e);Tt=_f(im(G,Bt),G,Bt),te[ke]=Tt}return te[ke]}catch{}return null}function Cp(ke){var Tt=ve[ke];if(nt(Tt)){Tt=!1;var Bt=Ed(ke);Bt&&(Tt=In(Bt[ad])),ve[ke]=Tt}return ve[ke]}function mm(ke){return We=We||{},nt(We[ke])&&(We[ke]=[]),We[ke]}}return f}(),dv=";",bp="=";function Sc(f){if(!f)return{};var m=f[zs](dv),y=Tr(m,function(U,G){var V=G[zs](bp);if(V[pt]===2){var te=V[0][us](),ve=V[1];U[te]=ve}return U},{});if(ia(y)[pt]>0){if(y.endpointsuffix){var N=y.location?y.location+".":"";y[cs]=y[cs]||"https://"+N+"dc."+y.endpointsuffix}y[cs]=y[cs]||cp,Wo(y[cs],"/")&&(y[cs]=y[cs].slice(0,-1))}return y}var uo={parse:Sc},dd=function(){function f(m,y,N){var U=this,G=this;G.ver=1,G.sampleRate=100,G.tags={},G[ls]=Ha(m,N)||Ea,G.data=y,G.time=or(new Date),G[cf]={time:1,iKey:1,name:1,sampleRate:function(){return U.sampleRate===100?4:1},tags:1,data:1}}return f}(),ml=function(){function f(m,y,N,U){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var G=this;G.ver=2,G[ls]=Ha(m,y)||Ea,G[fs]=Ta(m,N),G[Ao]=Du(m,U)}return f.envelopeType="Microsoft.ApplicationInsights.{0}.Event",f.dataType="EventData",f}(),Fo=58,Eh=/^\s{0,50}(from\s|at\s|Line\s{1,5}\d{1,10}\s{1,5}of|\w{1,50}@\w{1,80}|[^\(\s\n]+:[0-9\?]+(?::[0-9\?]+)?)/,Ep=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+):([0-9\?]+)\)?$/,Wm=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+)\)?$/,Th=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\)\]]+)\)?$/,Oa=/(?:^|\(|\s{0,10}[\w\)]+\@)?([^\(\n\s\]\)]+)(?:\:([0-9]+)(?:\:([0-9]+))?)?\)?(?:,|$)/,pd=/([^\(\s\n]+):([0-9]+):([0-9]+)$/,vd=/([^\(\s\n]+):([0-9]+)$/,cm="<no_method>",hl="error",ci="stack",co="stackDetails",md="errorSrc",ku="message",wc="description",_s=[{re:Ep,len:5,m:1,fn:2,ln:3,col:4},{chk:lm,pre:pv,re:Wm,len:4,m:1,fn:2,ln:3},{re:Th,len:3,m:1,fn:2,hdl:Js},{re:Oa,len:2,fn:1,hdl:Js}];function pv(f){return f.replace(/(\(anonymous\))/,"<anonymous>")}function lm(f){return Ya(f,"[native")<0}function vt(f,m){var y=f;return y&&!Ye(y)&&(JSON&&JSON[dp]?(y=JSON[dp](f),m&&(!y||y==="{}")&&(Er(f[ji])?y=f[ji]():y=""+f)):y=""+f+" - (Missing JSON.stringify)"),y||""}function Ou(f,m){var y=f;return f&&(y&&!Ye(y)&&(y=f[ku]||f[wc]||y),y&&!Ye(y)&&(y=vt(y,!0)),f.filename&&(y=y+" @"+(f.filename||"")+":"+(f.lineno||"?")+":"+(f.colno||"?"))),m&&m!=="String"&&m!=="Object"&&m!=="Error"&&Ya(y||"",m)===-1&&(y=m+": "+y),y||""}function Ws(f){try{if(Bn(f))return"hasFullStack"in f&&"typeName"in f}catch{}return!1}function mf(f){try{if(Bn(f))return"ver"in f&&"exceptions"in f&&"properties"in f}catch{}return!1}function fm(f){return f&&f.src&&Ye(f.src)&&f.obj&&zt(f.obj)}function bc(f){var m=f||"";Ye(m)||(Ye(m[ci])?m=m[ci]:m=""+m);var y=m[zs](`
`);return{src:m,obj:y}}function hd(f){for(var m=[],y=f[zs](`
`),N=0;N<y[pt];N++){var U=y[N];y[N+1]&&(U+="@"+y[N+1],N++),m[af](U)}return{src:f,obj:m}}function gs(f){var m=null;if(f)try{if(f[ci])m=bc(f[ci]);else if(f[hl]&&f[hl][ci])m=bc(f[hl][ci]);else if(f.exception&&f.exception[ci])m=bc(f.exception[ci]);else if(fm(f))m=f;else if(fm(f[co]))m=f[co];else if(Hu()&&Hu().opera&&f[ku])m=hd(f[oo]);else if(f.reason&&f.reason[ci])m=bc(f.reason[ci]);else if(Ye(f))m=bc(f);else{var y=f[ku]||f[wc]||"";Ye(f[md])&&(y&&(y+=`
`),y+=" from "+f[md]),y&&(m=bc(y))}}catch(N){m=bc(N)}return m||{src:"",obj:null}}function dm(f){var m="";return f&&(f.obj?m=f.obj.join(`
`):m=f.src||""),m}function Tp(f){var m,y=f.obj;if(y&&y[pt]>0){m=[];var N=0,U=!1,G=0;ea(y,function(nr){if(U||Ip(nr)){var jt=ir(nr);U=!0;var Ir=gv(jt,N);Ir&&(G+=Ir[Ro],m[af](Ir),N++)}});var V=32*1024;if(G>V)for(var te=0,ve=m[pt]-1,_e=0,We=te,Ot=ve;te<ve;){var rr=m[te][Ro],ur=m[ve][Ro];if(_e+=rr+ur,_e>V){var ut=Ot-We+1;m.splice(We,ut);break}We=te,Ot=ve,te++,ve--}}return m}function _l(f){var m="";if(f&&(m=f.typeName||f[ls]||"",!m))try{var y=/function (.{1,200})\(/,N=y.exec(f.constructor[ji]());m=N&&N[pt]>1?N[1]:""}catch{}return m}function Ec(f){if(f)try{if(!Ye(f)){var m=_l(f),y=vt(f,!1);return(!y||y==="{}")&&(f[hl]&&(f=f[hl],m=_l(f)),y=vt(f,!0)),Ya(y,m)!==0&&m!=="String"?m+":"+y:y}}catch{}return""+(f||"")}var Tc=function(){function f(m,y,N,U,G,V){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var te=this;te.ver=2,mf(y)?(te[uf]=y[uf]||[],te[fs]=y[fs],te[Ao]=y[Ao],y[vp]&&(te[vp]=y[vp]),y.id&&(te.id=y.id,y[fs].id=y.id),y[_c]&&(te[_c]=y[_c]),nt(y[mp])||(te[mp]=y[mp])):(N||(N={}),V&&(N.id=V),te[uf]=[ys(m,y,N)],te[fs]=Ta(m,N),te[Ao]=Du(m,U),G&&(te[vp]=G),V&&(te.id=V))}return f.CreateAutoException=function(m,y,N,U,G,V,te,ve){var _e,We=_l(G||V||m);return _e={},_e[oo]=Ou(m,We),_e.url=y,_e.lineNumber=N,_e.columnNumber=U,_e.error=Ec(G||V||m),_e.evt=Ec(V||m),_e[hc]=We,_e.stackDetails=gs(te||G||V),_e.errorSrc=ve,_e},f.CreateFromInterface=function(m,y,N,U){var G=y[uf]&&_i(y[uf],function(te){return mv(m,te)}),V=new f(m,qc(qc({},y),{exceptions:G}),N,U);return V},f.prototype.toInterface=function(){var m,y=this,N=y.exceptions,U=y.properties,G=y.measurements,V=y.severityLevel,te=y.problemGroup,ve=y.id,_e=y.isManual,We=N instanceof Array&&_i(N,function(Ot){return Ot.toInterface()})||void 0;return m={ver:"4.0"},m[uf]=We,m.severityLevel=V,m.properties=U,m.measurements=G,m.problemGroup=te,m.id=ve,m.isManual=_e,m},f.CreateSimpleException=function(m,y,N,U,G,V){var te;return{exceptions:[(te={},te[hp]=!0,te.message=m,te.stack=G,te.typeName=y,te)]}},f.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",f.dataType="ExceptionData",f.formatError=Ec,f}(),vv=Lr({id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2});function Wr(){var f,m=this,y=zt(m[Po])&&_i(m[Po],function(U){return gl(U)}),N=(f={id:m.id,outerId:m.outerId,typeName:m[hc],message:m[oo],hasFullStack:m[hp],stack:m[ci]},f[Po]=y||void 0,f);return N}function ys(f,m,y){var N,U,G,V,te,ve,_e,We;if(Ws(m))V=m[hc],te=m[oo],_e=m[ci],We=m[Po]||[],ve=m[hp];else{var Ot=m,rr=Ot&&Ot.evt;It(Ot)||(Ot=Ot[hl]||rr||Ot),V=Ha(f,_l(Ot))||Ea,te=lf(f,Ou(m||Ot,V))||Ea;var ur=m[co]||gs(m);We=Tp(ur),zt(We)&&_i(We,function(ut){ut[id]=Ha(f,ut[id]),ut[ds]=Ha(f,ut[ds])}),_e=vs(f,dm(ur)),ve=zt(We)&&We[pt]>0,y&&(y[hc]=y[hc]||V)}return N={},N[cf]=vv,N.id=U,N.outerId=G,N[hc]=V,N[oo]=te,N[hp]=ve,N.stack=_e,N[Po]=We,N.toInterface=Wr,N}function mv(f,m){var y=zt(m[Po])&&_i(m[Po],function(U){return _d(U)})||m[Po],N=ys(f,qc(qc({},m),{parsedStack:y}));return N}function hv(f,m){var y=m[pp](pd);if(y&&y[pt]>=4)f[ds]=y[1],f[ko]=parseInt(y[2]);else{var N=m[pp](vd);N&&N[pt]>=3?(f[ds]=N[1],f[ko]=parseInt(N[2])):f[ds]=m}}function Js(f,m,y){var N=f[ds];m.fn&&y&&y[pt]>m.fn&&(m.ln&&y[pt]>m.ln?(N=ta(y[m.fn]||""),f[ko]=parseInt(ta(y[m.ln]||""))||0):N=ta(y[m.fn]||"")),N&&hv(f,N)}function Ip(f){var m=!1;if(f&&Ye(f)){var y=ta(f);y&&(m=Eh.test(y))}return m}var _v=Lr({level:1,method:1,assembly:0,fileName:0,line:0});function gv(f,m){var y,N;if(f&&Ye(f)&&ta(f)){N=(y={},y[cf]=_v,y[od]=m,y[id]=ta(f),y[Oo]=cm,y.fileName="",y.line=0,y[Ro]=0,y);for(var U=0;U<_s[pt];){var G=_s[U];if(G.chk&&!G.chk(f))break;G.pre&&(f=G.pre(f));var V=f[pp](G.re);if(V&&V[pt]>=G.len){G.m&&(N[Oo]=ta(V[G.m]||cm)),G.hdl?G.hdl(N,G,V):G.fn&&(G.ln?(N[ds]=ta(V[G.fn]||""),N[ko]=parseInt(ta(V[G.ln]||""))||0):hv(N,V[G.fn]||""));break}U++}}return gd(N)}function _d(f){var m,y=(m={},m[cf]=_v,m.level=f[od],m.method=f[Oo],m.assembly=f[id],m.fileName=f[ds],m.line=f[ko],m[Ro]=0,m);return gd(y)}function gd(f){var m=Fo;return f&&(m+=f.method[pt],m+=f.assembly[pt],m+=f.fileName[pt],m+=f.level.toString()[pt],m+=f.line.toString()[pt],f[Ro]=m),f}function gl(f){return{level:f[od],method:f[Oo],assembly:f[id],fileName:f[ds],line:f[ko]}}var Ic=function(){function f(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return f}(),Np=function(){function f(m,y,N,U,G,V,te,ve,_e){this.aiDataContract={ver:1,metrics:1,properties:0};var We=this;We.ver=2;var Ot=new Ic;Ot[il]=U>0?U:void 0,Ot.max=isNaN(V)||V===null?void 0:V,Ot.min=isNaN(G)||G===null?void 0:G,Ot[ls]=Ha(m,y)||Ea,Ot.value=N,Ot.stdDev=isNaN(te)||te===null?void 0:te,We.metrics=[Ot],We[fs]=Ta(m,ve),We[Ao]=Du(m,_e)}return f.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",f.dataType="MetricData",f}(),yl="";function yv(f,m){return m===void 0&&(m=!1),f==null?m:f.toString()[us]()==="true"}function lo(f){(isNaN(f)||f<0)&&(f=0),f=Math.round(f);var m=yl+f%1e3,y=yl+Math.floor(f/1e3)%60,N=yl+Math.floor(f/(1e3*60))%60,U=yl+Math.floor(f/(1e3*60*60))%24,G=Math.floor(f/(1e3*60*60*24));return m=m[pt]===1?"00"+m:m[pt]===2?"0"+m:m,y=y[pt]<2?"0"+y:y,N=N[pt]<2?"0"+N:N,U=U[pt]<2?"0"+U:U,(G>0?G+".":yl)+U+":"+N+":"+y+"."+m}function Sv(f,m){var y=null;return ea(f,function(N){if(N.identifier===m)return y=N,-1}),y}function yd(f,m,y,N,U){return!U&&Ye(f)&&(f==="Script error."||f==="Script error")}var pm=function(){function f(m,y,N,U,G,V,te){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var ve=this;ve.ver=2,ve.id=ud(m,te),ve.url=Vs(m,N),ve[ls]=Ha(m,y)||Ea,isNaN(U)||(ve[sl]=lo(U)),ve[fs]=Ta(m,G),ve[Ao]=Du(m,V)}return f.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",f.dataType="PageviewData",f}(),Ss=function(){function f(m,y,N,U,G,V,te,ve,_e,We,Ot,rr){_e===void 0&&(_e="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var ur=this;ur.ver=2,ur.id=y,ur[sl]=lo(G),ur.success=V,ur.resultCode=te+"",ur.type=Ha(m,_e);var ut=rm(m,N,ve,U);ur.data=Vs(m,U)||ut.data,ur.target=Ha(m,ut.target),We&&(ur.target="".concat(ur.target," | ").concat(We)),ur[ls]=Ha(m,ut[ls]),ur[fs]=Ta(m,Ot),ur[Ao]=Du(m,rr)}return f.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",f.dataType="RemoteDependencyData",f}(),Jm=function(){function f(m,y,N,U,G){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var V=this;V.ver=2,y=y||Ea,V[oo]=lf(m,y),V[fs]=Ta(m,U),V[Ao]=Du(m,G),N&&(V[vp]=N)}return f.envelopeType="Microsoft.ApplicationInsights.{0}.Message",f.dataType="MessageData",f}(),Mu=function(){function f(m,y,N,U,G,V,te){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var ve=this;ve.ver=2,ve.url=Vs(m,N),ve[ls]=Ha(m,y)||Ea,ve[fs]=Ta(m,G),ve[Ao]=Du(m,V),te&&(ve.domProcessing=te.domProcessing,ve[sl]=te[sl],ve.networkConnect=te.networkConnect,ve.perfTotal=te.perfTotal,ve[ka]=te[ka],ve.sentRequest=te.sentRequest)}return f.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",f.dataType="PageviewPerformanceData",f}(),wv=function(){function f(m,y){this.aiDataContract={baseType:1,baseData:1},this.baseType=m,this.baseData=y}return f}(),Sl=Yl({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),vm=function(){function f(){}return f.getConfig=function(m,y,N,U){U===void 0&&(U=!1);var G;return N&&m[mc]&&m[mc][N]&&!nt(m[mc][N][y])?G=m[mc][N][y]:G=m[y],nt(G)?U:G},f}();function Uo(f){var m="ai."+f+".";return function(y){return m+y}}var ws=Uo("application"),kn=Uo("device"),hf=Uo("location"),wl=Uo("operation"),Sd=Uo("session"),sr=Uo("user"),Yi=Uo("cloud"),$i=Uo("internal"),Ia=function(f){Kv(m,f);function m(){return f.call(this)||this}return m}(es({applicationVersion:ws("ver"),applicationBuild:ws("build"),applicationTypeId:ws("typeId"),applicationId:ws("applicationId"),applicationLayer:ws("layer"),deviceId:kn("id"),deviceIp:kn("ip"),deviceLanguage:kn("language"),deviceLocale:kn("locale"),deviceModel:kn("model"),deviceFriendlyName:kn("friendlyName"),deviceNetwork:kn("network"),deviceNetworkName:kn("networkName"),deviceOEMName:kn("oemName"),deviceOS:kn("os"),deviceOSVersion:kn("osVersion"),deviceRoleInstance:kn("roleInstance"),deviceRoleName:kn("roleName"),deviceScreenResolution:kn("screenResolution"),deviceType:kn("type"),deviceMachineName:kn("machineName"),deviceVMName:kn("vmName"),deviceBrowser:kn("browser"),deviceBrowserVersion:kn("browserVersion"),locationIp:hf("ip"),locationCountry:hf("country"),locationProvince:hf("province"),locationCity:hf("city"),operationId:wl("id"),operationName:wl("name"),operationParentId:wl("parentId"),operationRootId:wl("rootId"),operationSyntheticSource:wl("syntheticSource"),operationCorrelationVector:wl("correlationVector"),sessionId:Sd("id"),sessionIsFirst:Sd("isFirst"),sessionIsNew:Sd("isNew"),userAccountAcquisitionDate:sr("accountAcquisitionDate"),userAccountId:sr("accountId"),userAgent:sr("userAgent"),userId:sr("id"),userStoreRegion:sr("storeRegion"),userAuthUserId:sr("authUserId"),userAnonymousUserAcquisitionDate:sr("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:sr("authUserAcquisitionDate"),cloudName:Yi("name"),cloudRole:Yi("role"),cloudRoleVer:Yi("roleVer"),cloudRoleInstance:Yi("roleInstance"),cloudEnvironment:Yi("environment"),cloudLocation:Yi("location"),cloudDeploymentUnit:Yi("deploymentUnit"),internalNodeName:$i("nodeName"),internalSdkVersion:$i("sdkVersion"),internalAgentVersion:$i("agentVersion"),internalSnippet:$i("snippet"),internalSdkSrc:$i("sdkSrc")}));function bl(f,m,y,N,U,G){var V;y=Ha(N,y)||Ea,(nt(f)||nt(m)||nt(y))&&Mr("Input doesn't contain all required fields");var te="";f[nd]&&(te=f[nd],delete f[nd]);var ve=(V={},V[ls]=y,V.time=or(new Date),V.iKey=te,V.ext=G||{},V.tags=[],V.data={},V.baseType=m,V.baseData=f,V);return nt(U)||Vt(U,function(_e,We){ve.data[_e]=We}),ve}var vn=function(){function f(){}return f.create=bl,f}(),El={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},Zs=new Ia;function Dp(f){var m=null;if(Er(Event))m=new Event(f);else{var y=xa();y&&y.createEvent&&(m=y.createEvent("Event"),m.initEvent(f,!0,!0))}return m}function Xs(f,m){up(f,null,null,m)}function bv(f){var m=xa(),y=Kr(),N=!1,U=[],G=1;y&&!nt(y.onLine)&&!y.onLine&&(G=2);var V=0,te=rr(),ve=nf(Ei("OfflineListener"),f);try{if(We(Hu())&&(N=!0),m){var _e=m.body||m;_e.ononline&&We(_e)&&(N=!0)}}catch{N=!1}function We(Pt){var In=!1;return Pt&&(In=rl(Pt,"online",nr,ve),In&&rl(Pt,"offline",jt,ve)),In}function Ot(){return te}function rr(){return!(V===2||G===2)}function ur(){var Pt=rr();te!==Pt&&(te=Pt,ea(U,function(In){var _f={isOnline:te,rState:G,uState:V};try{In(_f)}catch{}}))}function ut(Pt){V=Pt,ur()}function nr(){G=1,ur()}function jt(){G=2,ur()}function Ir(){var Pt=Hu();if(Pt&&N){if(Xs(Pt,ve),m){var In=m.body||m;Or(In.ononline)||Xs(In,ve)}N=!1}}function Nr(Pt){return U[af](Pt),{rm:function(){var In=U.indexOf(Pt);if(In>-1)return U.splice(In,1)}}}return{isOnline:Ot,isListening:function(){return N},unload:Ir,addListener:Nr,setOnlineState:ut}}var Lu="AppInsightsPropertiesPlugin",Ev="AppInsightsChannelPlugin",Tv="ApplicationInsightsAnalytics";e.AnalyticsPluginIdentifier=Tv,e.BreezeChannelIdentifier=Ev,e.ConfigurationManager=vm,e.ConnectionStringParser=uo,e.ContextTagKeys=Ia,e.CtxTagKeys=Zs,e.DEFAULT_BREEZE_ENDPOINT=cp,e.DEFAULT_BREEZE_PATH=rd,e.Data=wv,e.DisabledPropertyName=ra,e.DistributedTracingModes=fv,e.Envelope=dd,e.Event=ml,e.EventPersistence=am,e.Exception=Tc,e.Extensions=El,e.HttpMethod=Iu,e.Metric=Np,e.PageView=pm,e.PageViewPerformance=Mu,e.ProcessLegacy=ba,e.PropertiesPluginIdentifier=Lu,e.RemoteDependencyData=Ss,e.RequestHeaders=lp,e.SampleRate=nl,e.SeverityLevel=Sl,e.TelemetryItemCreator=vn,e.ThrottleMgr=um,e.Trace=Jm,e.correlationIdCanIncludeCorrelationHeader=df,e.correlationIdGetCorrelationContext=hs,e.correlationIdGetCorrelationContextValue=gc,e.correlationIdGetPrefix=ld,e.correlationIdSetPrefix=ms,e.createDistributedTraceContextFromTrace=nm,e.createDomEvent=Dp,e.createOfflineListener=bv,e.createTelemetryItem=bl,e.createTraceParent=Qv,e.dataSanitizeException=vs,e.dataSanitizeId=ud,e.dataSanitizeInput=ul,e.dataSanitizeKey=sd,e.dataSanitizeKeyAndAddUniqueness=ps,e.dataSanitizeMeasurements=Du,e.dataSanitizeMessage=lf,e.dataSanitizeProperties=Ta,e.dataSanitizeString=Ha,e.dataSanitizeUrl=Vs,e.dateTimeUtilsDuration=Km,e.dateTimeUtilsNow=fl,e.dsPadNumber=Cu,e.findAllScripts=sp,e.findW3cTraceParent=wa,e.formatTraceParent=fc,e.getExtensionByName=Sv,e.isBeaconApiSupported=Eo,e.isCrossOriginError=yd,e.isInternalApplicationInsightsEndpoint=gp,e.isSampledFlag=zr,e.isValidSpanId=op,e.isValidTraceId=el,e.isValidTraceParent=qs,e.msToTimeSpan=lo,e.parseConnectionString=Sc,e.parseTraceParent=ip,e.strNotSpecified=Ea,e.stringToBoolOrDefault=yv,e.urlGetAbsoluteUrl=ff,e.urlGetCompleteUrl=Vm,e.urlGetPathName=lv,e.urlParseFullHost=_p,e.urlParseHost=cd,e.urlParseUrl=cl,e.utlCanUseLocalStorage=yc,e.utlCanUseSessionStorage=Sp,e.utlDisableStorage=fd,e.utlEnableStorage=Mo,e.utlGetLocalStorage=im,e.utlGetSessionStorage=Ru,e.utlGetSessionStorageKeys=Lo,e.utlRemoveSessionStorage=sm,e.utlRemoveStorage=yp,e.utlSetLocalStorage=om,e.utlSetSessionStorage=vl,e.utlSetStoragePrefix=vf})});var _0=Ld(ry=>{"use strict";Object.defineProperty(ry,"__esModule",{value:!0});ry.TelemetryUtil=void 0;var h0=class e{static applyReplacements(t,r){for(let n of Object.keys(t))for(let s of r)s.lookup.test(n)&&(s.replacementString!==void 0?t[n]=s.replacementString:delete t[n])}static shouldUseOneDataSystemSDK(t){return t.length===74&&t[32]==="-"&&t[41]==="-"&&t[46]==="-"&&t[51]==="-"&&t[56]==="-"&&t[69]==="-"}static getAdditionalCommonProperties(t){return{"common.os":t.platform,"common.nodeArch":t.architecture,"common.platformversion":(t.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.9.8"}}static getInstance(){return e._instance||(e._instance=new e),e._instance}};ry.TelemetryUtil=h0});var vw=Ld((ny,pw)=>{(function(e,t){typeof ny=="object"&&typeof pw<"u"?t(ny):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(ny,function(e){"use strict";function t(i,o){return i||o}function r(i,o){return i[o]}var n=void 0,s=null,u="",h="function",S="object",I="prototype",C="__proto__",F="undefined",H="constructor",ne="Symbol",fe="_polyfill",ie="length",Q="name",re="call",le="toString",he=t(Object),je=r(he,I),Ee=t(String),ze=r(Ee,I),_t=t(Math),at=t(Array),Dt=r(at,I),st=r(Dt,"slice");function Ut(i,o){try{return{v:i.apply(this,o)}}catch(l){return{e:l}}}function jr(i,o){var l=Ut(i);return l.e?o:l.v}var Ca;function ma(i){return function(o){return typeof o===i}}function Or(i){var o="[object "+i+"]";return function(l){return!!(l&&gn(l)===o)}}function gn(i){return je[le].call(i)}function nt(i){return typeof i===F||i===F}function Ni(i){return!Bn(i)}function Ye(i){return i===s||nt(i)}function Er(i){return i===s||!Bn(i)}function Bn(i){return!!i||i!==n}function zt(i){return!Ca&&(Ca=["string","number","boolean",F,"symbol","bigint"]),i!==S&&Ca.indexOf(i)!==-1}var It=ma("string"),tt=ma(h);function Xn(i){return!i&&Ye(i)?!1:!!i&&typeof i===S}var rt=r(at,"isArray"),su=Or("Date"),Vt=ma("number"),Ho=ma("boolean"),Gt=Or("Error");function er(i){return!!(i&&i.then&&tt(i.then))}function Qn(i){return!(!i||jr(function(){return!(i&&0+i)},!i))}var Ct=r(he,"getOwnPropertyDescriptor");function ln(i,o){return!!i&&je.hasOwnProperty[re](i,o)}var ir=t(r(he,"hasOwn"),lt);function lt(i,o){return ln(i,o)||!!Ct(i,o)}function Et(i,o,l){if(i&&Xn(i)){for(var v in i)if(ir(i,v)&&o[re](l||i,v,i[v])===-1)break}}var Mr={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function Un(i){var o={};if(o[Mr.c]=!0,o[Mr.e]=!0,i.l){o.get=function(){return i.l.v};var l=Ct(i.l,"v");l&&l.set&&(o.set=function(v){i.l.v=v})}return Et(i,function(v,w){o[Mr[v]]=Ni(w)?o[Mr[v]]:w}),o}var Za=r(he,"defineProperty");function an(i,o,l){return Za(i,o,Un(l))}function En(i,o,l,v,w){var T={};return Et(i,function(A,L){Vi(T,A,o?L:A,w),Vi(T,L,l?L:A,w)}),v?v(T):T}function Vi(i,o,l,v){Za(i,o,{value:l,enumerable:!0,writable:!!v})}var ia=t(Ee),Lr="[object Error]";function Zt(i,o){var l=u,v=je[le][re](i);v===Lr&&(i={stack:ia(i.stack),message:ia(i.message),name:ia(i.name)});try{l=JSON.stringify(i,s,o?typeof o=="number"?o:4:n),l=(l?l.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):s)||ia(i)}catch(w){l=" - "+Zt(w,o)}return v+": "+l}function cr(i){throw new Error(i)}function Xr(i){throw new TypeError(i)}var Ol=r(he,"freeze");function Hn(i){return i}function Ml(i){return i[C]||s}var mo=r(he,"assign"),Rn=r(he,"keys");function As(i){return Ol&&Et(i,function(o,l){(rt(l)||Xn(l))&&As(l)}),tr(i)}var tr=t(Ol,Hn),jn=t(r(he,"getPrototypeOf"),Ml);function Xa(i){return En(i,1,0,tr)}function Qa(i){return En(i,0,0,tr)}function ei(i){var o={};return Et(i,function(l,v){Vi(o,l,v[1]),Vi(o,v[0],v[1])}),tr(o)}function Mf(i){return ei(i)}var Uc=Qa({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),mi="__tsUtils$gblCfg",uu;function Ki(){var i;return typeof globalThis!==F&&(i=globalThis),!i&&typeof self!==F&&(i=self),!i&&typeof window!==F&&(i=window),!i&&typeof global!==F&&(i=global),i}function cu(){if(!uu){var i=Ut(Ki).v||{};uu=i[mi]=i[mi]||{}}return uu}var ha=zn;function zn(i,o,l){var v=o?o[i]:s;return function(w){var T=(w?w[i]:s)||v;if(T||l){var A=arguments;return(T||l).apply(w,T?st[re](A,1):A)}Xr('"'+ia(i)+'" not defined for '+Zt(w))}}function Bu(i){return function(o){return o[i]}}var lu=r(_t,"max"),Ll=ha("slice",ze),_a=ha("substring",ze),Cr=zn("substr",ze,yn);function yn(i,o,l){return Ye(i)&&Xr("Invalid "+Zt(i)),l<0?u:(o=o||0,o<0&&(o=lu(o+i[ie],0)),nt(l)?Ll(i,o):Ll(i,o,o+l))}function en(i,o){return _a(i,0,o)}var xa="_urid",ho;function Hu(){if(!ho){var i=cu();ho=i.gblSym=i.gblSym||{k:{},s:{}}}return ho}var hi;function Kr(i){var o={description:ia(i),toString:function(){return ne+"("+i+")"}};return o[fe]=!0,o}function _o(i){var o=Hu();if(!ir(o.k,i)){var l=Kr(i),v=Rn(o.s).length;l[xa]=function(){return v+"_"+l[le]()},o.k[i]=l,o.s[l[xa]()]=ia(i)}return o.k[i]}function zo(i){!hi&&(hi={});var o,l=Uc[i];return l&&(o=hi[l]=hi[l]||Kr(ne+"."+l)),o}var Gn;function Go(){Gn=cu()}function fu(i){var o={};return!Gn&&Go(),o.b=Gn.lzy,Za(o,"v",{configurable:!0,get:function(){var l=i();return Gn.lzy||Za(o,"v",{value:l}),o.b=Gn.lzy,l}}),o}function ti(i){return Za({toJSON:function(){return i}},"v",{value:i})}var fn="window",ea;function zu(i,o){var l;return function(){return!Gn&&Go(),(!l||Gn.lzy)&&(l=ti(Ut(i,o).v)),l.v}}function _i(i){return!Gn&&Go(),(!ea||i===!1||Gn.lzy)&&(ea=ti(Ut(Ki).v||s)),ea.v}function Tr(i,o){var l;if(!ea||o===!1?l=_i(o):l=ea.v,l&&l[i])return l[i];if(i===fn)try{return window}catch{}return s}function ga(){return!!Lf()}var Lf=zu(Tr,["document"]);function Pa(){return!!Vo()}var Vo=zu(Tr,[fn]);function jc(){return!!Ko()}var Ko=zu(Tr,["navigator"]),Ff=zu(function(){return!!Ut(function(){return process&&(process.versions||{}).node}).v}),on,Fl;function ri(){return on=ti(Ut(Tr,[ne]).v),on}function $d(i){var o=(Gn.lzy?0:on)||ri();return o.v?o.v[i]:n}function ta(){return!!Zp()}function Zp(){return!Gn&&Go(),((Gn.lzy?0:on)||ri()).v}function gi(i,o){var l=Uc[i];!Gn&&Go();var v=(Gn.lzy?0:on)||ri();return v.v?v.v[l||i]:o?n:zo(i)}function Ul(i,o){!Gn&&Go();var l=(Gn.lzy?0:on)||ri();return l.v?l.v(i):o?s:Kr(i)}function Wi(i){return!Gn&&Go(),Fl=(Gn.lzy?0:Fl)||ti(Ut($d,["for"]).v),(Fl.v||_o)(i)}function Uf(i){return!!i&&tt(i.next)}function _r(i){return!Er(i)&&tt(i[gi(3)])}var Wo;function jf(i,o,l){if(i&&(Uf(i)||(!Wo&&(Wo=ti(gi(3))),i=i[Wo.v]?i[Wo.v]():s),Uf(i))){var v=n,w=n;try{for(var T=0;!(w=i.next()).done&&o[re](l||i,w.value,T,i)!==-1;)T++}catch(A){v={e:A},i.throw&&(w=s,i.throw(v))}finally{try{w&&!w.done&&i.return&&i.return(w)}finally{if(v)throw v.e}}}}function Ya(i,o,l){return i.apply(o,l)}function Yc(i,o){return!nt(o)&&i&&(rt(o)?Ya(i.push,i,o):Uf(o)||_r(o)?jf(o,function(l){i.push(l)}):i.push(o)),i}function kt(i,o,l){if(i)for(var v=i[ie]>>>0,w=0;w<v&&!(w in i&&o[re](l||i,i[w],w,i)===-1);w++);}var yi=ha("indexOf",Dt),Gu=ha("map",Dt);function jl(i,o,l){return((i?i.slice:s)||st).apply(i,st[re](arguments,1))}var Gv=ha("reduce",Dt),Di=t(r(he,"create"),Yl);function Yl(i){if(!i)return{};var o=typeof i;o!==S&&o!==h&&Xr("Prototype must be an Object or function: "+Zt(i));function l(){}return l[I]=i,new l}var qd;function du(i,o){var l=he.setPrototypeOf||function(v,w){var T;!qd&&(qd=ti((T={},T[C]=[],T instanceof Array))),qd.v?v[C]=w:Et(w,function(A,L){return v[A]=L})};return l(i,o)}function Ci(i,o,l){Ut(an,[o,Q,{v:i,c:!0,e:!1}]),o=du(o,l);function v(){this[H]=o,Ut(an,[this,Q,{v:i,c:!0,e:!1}])}return o[I]=l===s?Di(l):(v[I]=l[I],new v),o}function ft(i,o){o&&(i[Q]=o)}function ya(i,o,l){var v=l||Error,w=v[I][Q],T=Error.captureStackTrace;return Ci(i,function(){var A=this,L=arguments;try{Ut(ft,[v,i]);var Y=Ya(v,A,st[re](L))||A;if(Y!==A){var B=jn(A);B!==jn(Y)&&du(Y,B)}return T&&T(Y,A[H]),o&&o(Y,L),Y}finally{Ut(ft,[v,w])}},v)}function pu(){return(Date.now||Rs)()}function Rs(){return new Date().getTime()}function Bd(i){return function(l){return Ye(l)&&Xr("strTrim called ["+Zt(l)+"]"),l&&l.replace&&(l=l.replace(i,u)),l}}var Hd=Bd(/^\s+|(?=\s)\s+$/g),Sn=zn("trim",ze,Hd),Si,zd,xi;function ni(i){if(!i||typeof i!==S)return!1;xi||(xi=Pa()?Vo():!0);var o=!1;if(i!==xi){zd||(Si=Function[I][le],zd=Si[re](he));try{var l=jn(i);o=!l,o||(ln(l,H)&&(l=l[H]),o=!!(l&&typeof l===h&&Si[re](l)===zd))}catch{}}return o}function Hm(i){return i.value&&Ji(i),!0}var Vv=[$a,Ji,ql,$l];function Xp(i,o,l,v){var w;return kt(i,function(T){if(T.k===o)return w=T,-1}),w||(w={k:o,v:o},i.push(w),v(w)),w.v}function vu(i,o,l,v){var w=l.handler,T=l.path?v?l.path.concat(v):l.path:[],A={handler:l.handler,src:l.src,path:T},L=typeof o,Y=!1,B=o===s;B||(o&&L===S?Y=ni(o):B=zt(L));var W={type:L,isPrim:B,isPlain:Y,value:o,result:o,path:T,origin:l.src,copy:function(ce,de){return vu(i,ce,de?A:l,de)},copyTo:function(ce,de){return Qp(i,ce,de,A)}};return W.isPrim?w&&w[re](l,W)?W.result:o:Xp(i,o,T,function(ce){an(W,"result",{g:function(){return ce.v},s:function(se){ce.v=se}});for(var de=0,pe=w;!(pe||(de<Vv.length?Vv[de++]:Hm))[re](l,W);)pe=s})}function Qp(i,o,l,v){if(!Ye(l))for(var w in l)o[w]=vu(i,l[w],v,w);return o}function bh(i,o,l){var v={handler:l,src:o,path:[]};return Qp([],i,o,v)}function Gd(i,o){var l={handler:o,src:i};return vu([],i,l)}function $a(i){var o=i.value;if(rt(o)){var l=i.result=[];return l.length=o.length,i.copyTo(l,o),!0}return!1}function $l(i){var o=i.value;return su(o)?(i.result=new Date(o.getTime()),!0):!1}function ql(i){return i.type===h}function Ji(i){var o=i.value;if(o&&i.isPlain){var l=i.result={};return i.copyTo(l,o),!0}return!1}function wi(i,o){return kt(o,function(l){bh(i,l)}),i}function mu(i,o,l,v,w,T,A){return wi(Gd(i)||{},st[re](arguments))}var ev=Bu(ie),Pi=zn("endsWith",ze,Vd);function Vd(i,o,l){It(i)||Xr("'"+Zt(i)+"' is not a string");var v=It(o)?o:ia(o),w=!nt(l)&&l<i[ie]?l:i[ie];return _a(i,w-v[ie],w)===v}var hu=ha("indexOf",ze),$c="ref",Bl="unref",Yf="hasRef",Kd="enabled";function tv(i,o,l){var v=!0,w=i?o(s):s,T;function A(){return v=!1,w&&w[Bl]&&w[Bl](),T}function L(){w&&l(w),w=s}function Y(){return w=o(w),v||A(),T}function B(W){!W&&w&&L(),W&&!w&&Y()}return T={cancel:L,refresh:Y},T[Yf]=function(){return w&&w[Yf]?w[Yf]():v},T[$c]=function(){return v=!0,w&&w[$c]&&w[$c](),T},T[Bl]=A,T=Za(T,Kd,{get:function(){return!!w},set:B}),{h:T,dn:function(){w=s}}}function rv(i,o,l){var v=rt(o),w=v?o.length:0,T=(w>0?o[0]:v?n:o)||setTimeout,A=(w>1?o[1]:n)||clearTimeout,L=l[0];l[0]=function(){Y.dn(),Ya(L,n,st[re](arguments))};var Y=tv(i,function(B){if(B){if(B.refresh)return B.refresh(),B;Ya(A,n,[B])}return Ya(T,n,l)},function(B){Ya(A,n,[B])});return Y.h}function _u(i,o){return rv(!0,n,st[re](arguments))}function Wd(i,o){return rv(!1,n,st[re](arguments))}var ks,Vu="constructor",Ai="prototype",Hl="function",$f="_dynInstFuncs",qc="_isDynProxy",Zi="_dynClass",Kv="_dynCls$",Jo="_dynInstChk",go=Jo,Xi="_dfOpts",gu="_unknown_",qf="__proto__",Bc="_dyn"+qf,Hc="__dynProto$Gbl",Ku="_dynInstProto",Bf="useBaseInst",zl="setInstFuncs",Hf=Object,Wu=Hf.getPrototypeOf,Qi=Hf.getOwnPropertyNames,zc=_i(),yo=zc[Hc]||(zc[Hc]={o:(ks={},ks[zl]=!0,ks[Bf]=!0,ks),n:1e3});function bi(i){return i&&(i===Hf[Ai]||i===Array[Ai])}function Zo(i){return bi(i)||i===Function[Ai]}function Zr(i){var o;if(i){if(Wu)return Wu(i);var l=i[qf]||i[Ai]||(i[Vu]?i[Vu][Ai]:null);o=i[Bc]||l,ln(i,Bc)||(delete i[Ku],o=i[Bc]=i[Ku]||i[Bc],i[Ku]=l)}return o}function Os(i,o){var l=[];if(Qi)l=Qi(i);else for(var v in i)typeof v=="string"&&ln(i,v)&&l.push(v);if(l&&l.length>0)for(var w=0;w<l.length;w++)o(l[w])}function eo(i,o,l){return o!==Vu&&typeof i[o]===Hl&&(l||ln(i,o))&&o!==qf&&o!==Ai}function Gc(i){Xr("DynamicProto: "+i)}function Vc(i){var o=Di(null);return Os(i,function(l){!o[l]&&eo(i,l,!1)&&(o[l]=i[l])}),o}function Xo(i,o){for(var l=i.length-1;l>=0;l--)if(i[l]===o)return!0;return!1}function Gl(i,o,l,v){function w(Y,B,W){var ce=B[W];if(ce[qc]&&v){var de=Y[$f]||{};de[go]!==!1&&(ce=(de[B[Zi]]||{})[W]||ce)}return function(){return ce.apply(Y,arguments)}}var T=Di(null);Os(l,function(Y){T[Y]=w(o,l,Y)});for(var A=Zr(i),L=[];A&&!Zo(A)&&!Xo(L,A);)Os(A,function(Y){!T[Y]&&eo(A,Y,!Wu)&&(T[Y]=w(o,A,Y))}),L.push(A),A=Zr(A);return T}function Qo(i,o,l,v){var w=null;if(i&&ln(l,Zi)){var T=i[$f]||Di(null);if(w=(T[l[Zi]]||Di(null))[o],w||Gc("Missing ["+o+"] "+Hl),!w[Jo]&&T[go]!==!1){for(var A=!ln(i,o),L=Zr(i),Y=[];A&&L&&!Zo(L)&&!Xo(Y,L);){var B=L[o];if(B){A=B===v;break}Y.push(L),L=Zr(L)}try{A&&(i[o]=w),w[Jo]=1}catch{T[go]=!1}}}return w}function yu(i,o,l){var v=o[i];return v===l&&(v=Zr(o)[i]),typeof v!==Hl&&Gc("["+i+"] is not a "+Hl),v}function ai(i,o,l,v,w){function T(Y,B){var W=function(){var ce=Qo(this,B,Y,W)||yu(B,Y,W);return ce.apply(this,arguments)};return W[qc]=1,W}if(!bi(i)){var A=l[$f]=l[$f]||Di(null);if(!bi(A)){var L=A[o]=A[o]||Di(null);A[go]!==!1&&(A[go]=!!w),bi(L)||Os(l,function(Y){eo(l,Y,!1)&&l[Y]!==v[Y]&&(L[Y]=l[Y],delete l[Y],(!ln(i,Y)||i[Y]&&!i[Y][qc])&&(i[Y]=T(i,Y)))})}}}function Jd(i,o){if(Wu){for(var l=[],v=Zr(o);v&&!Zo(v)&&!Xo(l,v);){if(v===i)return!0;l.push(v),v=Zr(v)}return!1}return!0}function Ju(i,o){return ln(i,Ai)?i.name||o||gu:((i||{})[Vu]||{}).name||o||gu}function qa(i,o,l,v){ln(i,Ai)||Gc("theClass is an invalid class definition.");var w=i[Ai];Jd(w,o)||Gc("["+Ju(i)+"] not in hierarchy of ["+Ju(o)+"]");var T=null;ln(w,Zi)?T=w[Zi]:(T=Kv+Ju(i,"_")+"$"+yo.n,yo.n++,w[Zi]=T);var A=qa[Xi],L=!!A[Bf];L&&v&&v[Bf]!==void 0&&(L=!!v[Bf]);var Y=Vc(o),B=Gl(w,o,Y,L);l(o,B);var W=!!Wu&&!!A[zl];W&&v&&(W=!!v[zl]),ai(w,T,o,Y,W!==!1)}qa[Xi]=yo.o;var zf="function",Zd="object",Vl="undefined",Kl="prototype",Xd=Object,Wv=Xd[Kl];(_i()||{}).Symbol,(_i()||{}).Reflect;var Zu="hasOwnProperty",So=function(i){for(var o,l=1,v=arguments.length;l<v;l++){o=arguments[l];for(var w in o)Wv[Zu].call(o,w)&&(i[w]=o[w])}return i},to=mo||So,wn=function(i,o){return wn=Xd.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,v){l.__proto__=v}||function(l,v){for(var w in v)v[Zu](w)&&(l[w]=v[w])},wn(i,o)};function Wl(i,o){typeof o!==zf&&o!==null&&Xr("Class extends value "+String(o)+" is not a constructor or null"),wn(i,o);function l(){this.constructor=i}i[Kl]=o===null?Di(o):(l[Kl]=o[Kl],new l)}function Xu(i,o){for(var l=0,v=o.length,w=i.length;l<v;l++,w++)i[w]=o[l];return i}var Qu=Xa,Qd=Mf,Ri=Qu({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2}),Su="toLowerCase",Ms="blkVal",or="length",wo="rdOnly",es="notify",ki="warnToConsole",Gf="throwInternal",Oi="setDf",wu="watch",dn="logger",ii="apply",Yr="push",dt="splice",ec="hdlr",bo="cancel",Ls="initialize",ro="identifier",bu="removeNotificationListener",Mi="addNotificationListener",Hr="isInitialized",Eo="instrumentationKey",$r="INACTIVE",To="value",Vf="getNotifyMgr",Io="getPlugin",Yn="name",no="iKey",ts="time",Aa="processNext",Ba="getProcessTelContext",Kc="pollInternalLogs",tc="enabled",Kf="stopPollingInternalLogs",Fs="unload",No="onComplete",Do="version",rc="loggingLevelConsole",Co="createNew",Vn="teardown",Wf="messageId",nc="message",Us="isAsync",Ei="diagLog",rs="_doTeardown",js="update",Li="getNext",Wc="setNextPlugin",Eu="protocol",Sa="userAgent",Tu="split",Ys="nodeType",Fi="replace",ac="logInternalMessage",pn="type",oa="handler",Ui="status",ic="getResponseHeader",ns="getAllResponseHeaders",ep="isChildEvt",Ti="data",Jc="getCtx",Ra="setCtx",Jf="complete",oi="itemsReceived",as="urlString",is="sendPOST",tp="headers",Jl="timeout",Zf="setRequestHeader",Zl="traceId",xo="spanId",si="traceFlags",Zc;function Jv(i,o){Zc||(Zc=ya("AggregationError",function(v,w){w[or]>1&&(v.errors=w[1])}));var l=i||"One or more errors occurred.";throw kt(o,function(v,w){l+=`
`.concat(w," > ").concat(Zt(v))}),new Zc(l,o||[])}var oc="Promise",sc="rejected";function os(i,o){return Xl(i,function(l){return o?o({status:"fulfilled",rejected:!1,value:l}):l},function(l){return o?o({status:sc,rejected:!0,reason:l}):l})}function Xl(i,o,l,v){var w=i;try{if(er(i))(o||l)&&(w=i.then(o,l));else try{o&&(w=o(i))}catch(T){if(l)w=l(T);else throw T}}finally{v&&zm(w,v)}return w}function zm(i,o){var l=i;return o&&(er(i)?i.finally?l=i.finally(o):l=i.then(function(v){return o(),v},function(v){throw o(),v}):o()),l}var rp=["pending","resolving","resolved",sc],Ql="dispatchEvent",uc;function nv(i){var o;return i&&i.createEvent&&(o=i.createEvent("Event")),!!o&&o.initEvent}function Zv(i,o,l,v){var w=Lf();!uc&&(uc=ti(!!Ut(nv,[w]).v));var T=uc.v?w.createEvent("Event"):v?new Event(o):{};if(l&&l(T),uc.v&&T.initEvent(o,!1,!0),T&&i[Ql])i[Ql](T);else{var A=i["on"+o];if(A)A(T);else{var L=Tr("console");L&&(L.error||L.log)(o,Zt(T))}}}var cc="unhandledRejection",Xv=cc.toLowerCase(),ef=10,np;function ao(i){return tt(i)?i.toString():Zt(i)}function av(i,o,l){var v=jl(arguments,3),w=0,T=!1,A,L=[],Y=!1,B=null,W;function ce(Ke,ct){try{Y=!0,B&&B.cancel(),B=null;var Sr=i(function(rn,nn){L.push(function(){try{var Pn=w===2?Ke:ct,Wt=nt(Pn)?A:tt(Pn)?Pn(A):Pn;er(Wt)?Wt.then(rn,nn):Pn?rn(Wt):w===3?nn(Wt):rn(Wt)}catch($t){nn($t)}}),T&&Re()},v);return Sr}finally{}}function de(Ke){return ce(void 0,Ke)}function pe(Ke){var ct=Ke,Sr=Ke;return tt(Ke)&&(ct=function(rn){return Ke&&Ke(),rn},Sr=function(rn){throw Ke&&Ke(),rn}),ce(ct,Sr)}function se(){return rp[w]}function Re(){if(L.length>0){var Ke=L.slice();L=[],Y=!0,B&&B.cancel(),B=null,o(Ke)}}function ye(Ke,ct){return function(Sr){if(w===ct){if(Ke===2&&er(Sr)){w=1,Sr.then(ye(2,1),ye(3,1));return}w=Ke,T=!0,A=Sr,Re(),!Y&&Ke===3&&!B&&(B=_u(Oe,ef))}}}function Oe(){if(!Y)if(Y=!0,Ff())process.emit(cc,A,W);else{var Ke=Vo()||_i();!np&&(np=ti(Ut(Tr,[oc+"RejectionEvent"]).v)),Zv(Ke,Xv,function(ct){return an(ct,"promise",{g:function(){return W}}),ct.reason=A,ct},!!np.v)}}W={then:ce,catch:de,finally:pe},Za(W,"state",{get:se}),ta()&&(W[gi(11)]="IPromise");function Le(){return"IPromise "+se()+(T?" - "+ao(A):"")}return W.toString=Le,function(){tt(l)||Xr(oc+": executor is not a function - "+ao(l));var ct=ye(3,0);try{l.call(W,ye(2,0),ct)}catch(Sr){ct(Sr)}}(),W}function Gm(i){return function(o){var l=jl(arguments,1);return i(function(v,w){try{var T=[],A=1;jf(o,function(L,Y){L&&(A++,Xl(L,function(B){T[Y]=B,--A===0&&v(T)},w))}),A--,A===0&&v(T)}catch(L){w(L)}},l)}}function Xf(i){return ti(function(o){var l=jl(arguments,1);return i(function(v,w){var T=[],A=1;function L(Y,B){A++,os(Y,function(W){W.rejected?T[B]={status:sc,reason:W.reason}:T[B]={status:"fulfilled",value:W.value},--A===0&&v(T)})}try{rt(o)?kt(o,L):_r(o)?jf(o,L):Xr("Input is not an iterable"),A--,A===0&&v(T)}catch(Y){w(Y)}},l)})}function iv(i){kt(i,function(o){try{o()}catch{}})}function ap(i){var o=Vt(i)?i:0;return function(l){_u(function(){iv(l)},o)}}function Xc(i,o){return av(Xc,ap(o),i,o)}var Qf;function lc(i,o){!Qf&&(Qf=ti(Ut(Tr,[oc]).v||null));var l=Qf.v;if(!l)return Xc(i);tt(i)||Xr(oc+": executor is not a function - "+Zt(i));var v=0;function w(){return rp[v]}var T=new l(function(A,L){function Y(W){v=2,A(W)}function B(W){v=3,L(W)}i(Y,B)});return Za(T,"state",{get:w}),T}var $s;function Qc(i){return av(Qc,iv,i)}function Qv(i,o){return!$s&&($s=Xf(Qc)),$s.v(i,o)}var ip;function el(i,o){return!ip&&(ip=ti(lc)),ip.v.call(this,i,o)}var op=Gm(el),qs=void 0,zr="",fc="channels",wa="core",sp="createPerfMgr",ed="disabled",tl="extensionConfig",dc="extensions",ui="processTelemetry",td="priority",sa="eventsSent",pr="eventsDiscarded",Bs="eventsSendRequest",Tn="perfEvent",ss="offlineEventsStored",pc="offlineBatchSent",vc="offlineBatchDrop",Hs="getPerfMgr",io="domain",tf="path",ov="Not dynamic - ",rf=/-([a-z])/g,sv=/([^\w\d_$])/g,nf=/^(\d+[\w\d_$])/;function rl(i){return!Ye(i)}function up(i){var o=i;return o&&It(o)&&(o=o[Fi](rf,function(l,v){return v.toUpperCase()}),o=o[Fi](sv,"_"),o=o[Fi](nf,function(l,v){return"_"+v})),o}function ra(i,o){return i&&o?hu(i,o)!==-1:!1}function nl(i){return i&&i.toISOString()||""}function ba(i){return Gt(i)?i[Yn]:zr}function Iu(i,o,l,v,w){var T=l;return i&&(T=i[o],T!==l&&(!w||w(T))&&(!v||v(l))&&(T=l,i[o]=T)),T}function cp(i,o,l){var v;return i?(v=i[o],!v&&Ye(v)&&(v=nt(l)?{}:l,i[o]=v)):v=nt(l)?{}:l,v}function rd(i,o){var l=null,v=null;return tt(i)?l=i:v=i,function(){var w=arguments;if(l&&(v=l()),v)return v[o][ii](v,w)}}function Ea(i,o,l,v,w){i&&o&&l&&(w!==!1||nt(i[o]))&&(i[o]=rd(l,v))}function nd(i,o,l,v){return i&&o&&Xn(i)&&rt(l)&&kt(l,function(w){It(w)&&Ea(i,w,o,w,v)}),i}function lp(i){return function(){function o(){var l=this;i&&Et(i,function(v,w){l[v]=w})}return o}()}function zs(i){return i&&mo&&(i=Xd(mo({},i))),i}function pt(i,o,l,v,w,T){var A=arguments,L=A[0]||{},Y=A[or],B=!1,W=1;for(Y>0&&Ho(L)&&(B=L,L=A[W]||{},W++),Xn(L)||(L={});W<Y;W++){var ce=A[W],de=rt(ce),pe=Xn(ce);for(var se in ce){var Re=de&&se in ce||pe&&ir(ce,se);if(Re){var ye=ce[se],Oe=void 0;if(B&&ye&&((Oe=rt(ye))||ni(ye))){var Le=L[se];Oe?rt(Le)||(Le=[]):ni(Le)||(Le={}),ye=pt(B,Le,ye)}ye!==void 0&&(L[se]=ye)}}}return L}function us(i){try{return i.responseText}catch{}return null}function cs(i,o){return i?"XDomainRequest,Response:"+us(i)||"":o}function ji(i,o){return i?"XMLHttpRequest,Status:"+i[Ui]+",Response:"+us(i)||i.response||"":o}function af(i,o){return o&&(Vt(o)?i=[o].concat(i):rt(o)&&(i=o.concat(i))),i}var al="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",ls="withCredentials",oo="timeout";function il(i,o,l,v,w,T){v===void 0&&(v=!1),w===void 0&&(w=!1);function A(Y,B,W){try{Y[B]=W}catch{}}var L=new XMLHttpRequest;return v&&A(L,al,v),l&&A(L,ls,l),L.open(i,o,!w),l&&A(L,ls,l),!w&&T&&A(L,oo,T),L}function ad(i){var o={};if(It(i)){var l=Sn(i)[Tu](/[\r\n]+/);kt(l,function(v){if(v){var w=v.indexOf(": ");if(w!==-1){var T=Sn(v.substring(0,w))[Su](),A=Sn(v.substring(w+1));o[T]=A}else o[Sn(v)]=1}})}return o}function Gs(i,o,l){if(!i[l]&&o&&o[ic]){var v=o[ic](l);v&&(i[l]=Sn(v))}return i}var of="kill-duration",ol="kill-duration-seconds",sf="time-delta-millis";function fp(i,o){var l={};return i[ns]?l=ad(i[ns]()):o&&(l=Gs(l,i,sf),l=Gs(l,i,of),l=Gs(l,i,ol)),l}var dp="documentMode",uv="location",pp="console",Nu="JSON",mc="crypto",uf="msCrypto",Po="msie",fs="trident/",Ao="XMLHttpRequest",Ro=null,hc=null,vp=!1,_c=null,mp=null;function hp(i,o){var l=!1;if(i){try{if(l=o in i,!l){var v=i[Kl];v&&(l=o in v)}}catch{}if(!l)try{var w=new i;l=!nt(w[o])}catch{}}return l}function id(i){if(i&&vp){var o=Tr("__mockLocation");if(o)return o}return typeof location===Zd&&location?location:Tr(uv)}function ds(){return typeof console!==Vl?console:Tr(pp)}function ko(){return!!(typeof JSON===Zd&&JSON||Tr(Nu)!==null)}function Oo(){return ko()?JSON||Tr(Nu):null}function od(){return Tr(mc)}function cf(){return Tr(uf)}function sl(){var i=Ko();if(i&&(i[Sa]!==hc||Ro===null)){hc=i[Sa];var o=(hc||zr)[Su]();Ro=ra(o,Po)||ra(o,fs)}return Ro}function ka(i){if(i===void 0&&(i=null),!i){var o=Ko()||{};i=o?(o.userAgent||zr)[Su]():zr}var l=(i||zr)[Su]();if(ra(l,Po)){var v=Lf()||{};return Math.max(parseInt(l[Tu](Po)[1]),v[dp]||0)}else if(ra(l,fs)){var w=parseInt(l[Tu](fs)[1]);if(w)return w+4}return null}function ps(i){return(mp===null||i===!1)&&(mp=jc()&&!!Ko().sendBeacon),mp}function sd(i){var o=!1;try{o=!!Tr("fetch");var l=Tr("Request");o&&i&&l&&(o=hp(l,"keepalive"))}catch{}return o}function Ha(){return _c===null&&(_c=typeof XDomainRequest!==Vl,_c&&Vs()&&(_c=_c&&!hp(Tr(Ao),"withCredentials"))),_c}function Vs(){var i=!1;try{var o=Tr(Ao);i=!!o}catch{}return i}var lf=4294967296,vs=4294967295,Ta=123456789,Du=987654321,ud=!1,ul=Ta,Cu=Du;function em(i){i<0&&(i>>>=0),ul=Ta+i&vs,Cu=Du-i&vs,ud=!0}function cv(){try{var i=pu()&2147483647;em((Math.random()*lf^i)+i)}catch{}}function tm(i){var o=0,l=od()||cf();return l&&l.getRandomValues&&(o=l.getRandomValues(new Uint32Array(1))[0]&vs),o===0&&sl()&&(ud||cv(),o=cl()&vs),o===0&&(o=Math.floor(lf*Math.random()|0)),i||(o>>>=0),o}function cl(i){Cu=36969*(Cu&65535)+(Cu>>16)&vs,ul=18e3*(ul&65535)+(ul>>16)&vs;var o=(Cu<<16)+(ul&65535)>>>0&vs|0;return i||(o>>>=0),o}function ff(i){i===void 0&&(i=22);for(var o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",l=tm()>>>0,v=0,w=zr;w[or]<i;)v++,w+=o.charAt(l&63),l>>>=6,v===5&&(l=(tm()<<2&4294967295|l&3)>>>0,v=0);return w}var lv="3.3.5",Vm="."+ff(6),cd=0;function _p(i){return i[Ys]===1||i[Ys]===9||!+i[Ys]}function ll(i,o){var l=o[i.id];if(!l){l={};try{_p(o)&&an(o,i.id,{e:!1,v:l})}catch{}}return l}function xu(i,o){return o===void 0&&(o=!1),up(i+cd+++(o?"."+lv:zr)+Vm)}function gp(i){var o={id:xu("_aiData-"+(i||zr)+"."+lv),accept:function(l){return _p(l)},get:function(l,v,w,T){var A=l[o.id];return A?A[up(v)]:(T&&(A=ll(o,l),A[up(v)]=w),w)},kill:function(l,v){if(l&&l[v])try{delete l[v]}catch{}}};return o}function ms(i){return i&&Xn(i)&&(i.isVal||i.fb||ir(i,"v")||ir(i,"mrg")||ir(i,"ref")||i.set)}function ld(i,o,l){var v,w=l.dfVal||Bn;if(o&&l.fb){var T=l.fb;rt(T)||(T=[T]);for(var A=0;A<T[or];A++){var L=T[A],Y=o[L];if(w(Y)?v=Y:i&&(Y=i.cfg[L],w(Y)&&(v=Y),i.set(i.cfg,ia(L),Y)),w(v))break}}return!w(v)&&w(l.v)&&(v=l.v),v}function df(i,o,l){var v=l;if(l&&ms(l)&&(v=ld(i,o,l)),v){ms(v)&&(v=df(i,o,v));var w;rt(v)?(w=[],w[or]=v[or]):ni(v)&&(w={}),w&&(Et(v,function(T,A){A&&ms(A)&&(A=df(i,o,A)),w[T]=A}),v=w)}return v}function hs(i,o,l,v){var w,T,A,L=v,Y,B,W,ce;ms(L)?(w=L.isVal,T=L.set,W=L[wo],ce=L[Ms],Y=L.mrg,B=L.ref,!B&&nt(B)&&(B=!!Y),A=ld(i,o,L)):A=v,ce&&i[Ms](o,l);var de,pe=!0,se=o[l];(se||!Ye(se))&&(de=se,pe=!1,w&&de!==A&&!w(de)&&(de=A,pe=!0),T&&(de=T(de,A,o),pe=de===A)),pe?A?de=df(i,o,A):de=A:(ni(de)||rt(A))&&Y&&A&&(ni(A)||rt(A))&&Et(A,function(Re,ye){hs(i,de,Re,ye)}),i.set(o,l,de),B&&i.ref(o,l),W&&i[wo](o,l)}var gc=Wi("[[ai_dynCfg_1]]"),rm=Wi("[[ai_blkDynCfg_1]]"),fl=Wi("[[ai_frcDynCfg_1]]");function Km(i){if(i){var o;if(rt(i)?(o=[],o[or]=i[or]):ni(i)&&(o={}),o)return Et(i,function(l,v){o[l]=Km(v)}),o}return i}function nm(i){if(i){var o=i[gc]||i;if(o.cfg&&(o.cfg===i||o.cfg[gc]===o))return o}return null}function pf(i){if(i&&(ni(i)||rt(i)))try{i[rm]=!0}catch{}return i}function fv(i,o,l){var v=!1;return l&&!i[o.blkVal]&&(v=l[fl],!v&&!l[rm]&&(v=ni(l)||rt(l))),v}function am(i){Xr("InvalidAccess:"+i)}var Pu=["push","pop","shift","unshift","splice"],so=function(i,o,l,v){i&&i[Gf](3,108,"".concat(l," [").concat(o,"] failed - ")+Zt(v))};function Ks(i,o,l){rt(o)&&kt(Pu,function(v){var w=o[v];o[v]=function(){for(var T=[],A=0;A<arguments.length;A++)T[A]=arguments[A];var L=w[ii](this,T);return vf(i,o,l,"Patching"),L}})}function Au(i,o){var l=Ct(i,o);return l&&l.get}function dl(i,o,l,v){var w={n:l,h:[],trk:function(B){B&&B.fn&&(yi(w.h,B)===-1&&w.h[Yr](B),i.trk(B,w))},clr:function(B){var W=yi(w.h,B);W!==-1&&w.h[dt](W,1)}},T=!0,A=!1;function L(){T&&(A=A||fv(L,i,v),v&&!v[gc]&&A&&(v=vf(i,v,l,"Converting")),T=!1);var B=i.act;return B&&w.trk(B),v}L[i.prop]={chng:function(){i.add(w)}};function Y(B){if(v!==B){L[i.ro]&&!i.upd&&am("["+l+"] is read-only:"+Zt(o)),T&&(A=A||fv(L,i,v),T=!1);var W=A&&L[i.rf];if(A)if(W){Et(v,function(de){v[de]=B?B[de]:qs});try{Et(B,function(de,pe){pl(i,v,de,pe)}),B=v}catch(de){so((i.hdlr||{})[dn],l,"Assigning",de),A=!1}}else v&&v[gc]&&Et(v,function(de){var pe=Au(v,de);if(pe){var se=pe[i.prop];se&&se.chng()}});if(B!==v){var ce=B&&fv(L,i,B);!W&&ce&&(B=vf(i,B,l,"Converting")),v=B,A=ce}i.add(w)}}an(o,w.n,{g:L,s:Y})}function pl(i,o,l,v){if(o){var w=Au(o,l),T=w&&!!w[i.prop];T?o[l]=v:dl(i,o,l,v)}return o}function fd(i,o,l,v){if(o){var w=Au(o,l),T=w&&!!w[i.prop],A=v&&v[0],L=v&&v[1],Y=v&&v[2];if(!T){if(Y)try{pf(o)}catch(B){so((i.hdlr||{})[dn],l,"Blocking",B)}try{pl(i,o,l,o[l]),w=Au(o,l)}catch(B){so((i.hdlr||{})[dn],l,"State",B)}}A&&(w[i.rf]=A),L&&(w[i.ro]=L),Y&&(w[i.blkVal]=!0)}return o}function vf(i,o,l,v){try{Et(o,function(w,T){pl(i,o,w,T)}),o[gc]||(Za(o,gc,{get:function(){return i[ec]}}),Ks(i,o,l))}catch(w){so((i.hdlr||{})[dn],l,v,w)}return o}var Mo="[[ai_",yc="]]";function im(i){var o,l=Ul(Mo+"get"+i.uid+yc),v=Ul(Mo+"ro"+i.uid+yc),w=Ul(Mo+"rf"+i.uid+yc),T=Ul(Mo+"blkVal"+i.uid+yc),A=Ul(Mo+"dtl"+i.uid+yc),L=null,Y=null,B;function W(se,Re){var ye=B.act;try{B.act=se,se&&se[A]&&(kt(se[A],function(Le){Le.clr(se)}),se[A]=[]),Re({cfg:i.cfg,set:i.set.bind(i),setDf:i[Oi].bind(i),ref:i.ref.bind(i),rdOnly:i[wo].bind(i)})}catch(Le){var Oe=i[dn];throw Oe&&Oe[Gf](1,107,Zt(Le)),Le}finally{B.act=ye||null}}function ce(){if(L){var se=L;L=null,Y&&Y[bo](),Y=null;var Re=[];if(kt(se,function(ye){if(ye&&(ye[A]&&(kt(ye[A],function(Oe){Oe.clr(ye)}),ye[A]=null),ye.fn))try{W(ye,ye.fn)}catch(Oe){Re[Yr](Oe)}}),L)try{ce()}catch(ye){Re[Yr](ye)}Re[or]>0&&Jv("Watcher error(s): ",Re)}}function de(se){if(se&&se.h[or]>0){L||(L=[]),Y||(Y=_u(function(){Y=null,ce()},0));for(var Re=0;Re<se.h[or];Re++){var ye=se.h[Re];ye&&yi(L,ye)===-1&&L[Yr](ye)}}}function pe(se,Re){if(se){var ye=se[A]=se[A]||[];yi(ye,Re)===-1&&ye[Yr](Re)}}return B=(o={prop:l,ro:v,rf:w},o[Ms]=T,o[ec]=i,o.add=de,o[es]=ce,o.use=W,o.trk=pe,o),B}function om(i,o){var l={fn:o,rm:function(){l.fn=null,i=null,o=null}};return an(l,"toJSON",{v:function(){return"WatcherHandler"+(l.fn?"":"[X]")}}),i.use(l,o),l}function yp(i,o,l){var v,w=nm(o);if(w)return w;var T=xu("dyncfg",!0),A=o&&l!==!1?o:Km(o),L;function Y(){L[es]()}function B(Oe,Le,Ke){try{Oe=pl(L,Oe,Le,Ke)}catch(ct){so(i,Le,"Setting value",ct)}return Oe[Le]}function W(Oe){return om(L,Oe)}function ce(Oe,Le){L.use(null,function(Ke){var ct=L.upd;try{nt(Le)||(L.upd=Le),Oe(Ke)}finally{L.upd=ct}})}function de(Oe,Le){var Ke;return fd(L,Oe,Le,(Ke={},Ke[0]=!0,Ke))[Le]}function pe(Oe,Le){var Ke;return fd(L,Oe,Le,(Ke={},Ke[1]=!0,Ke))[Le]}function se(Oe,Le){var Ke;return fd(L,Oe,Le,(Ke={},Ke[2]=!0,Ke))[Le]}function Re(Oe,Le){return Le&&Et(Le,function(Ke,ct){hs(ye,Oe,Ke,ct)}),Oe}var ye=(v={uid:null,cfg:A},v[dn]=i,v[es]=Y,v.set=B,v[Oi]=Re,v[wu]=W,v.ref=de,v[wo]=pe,v[Ms]=se,v._block=ce,v);return an(ye,"uid",{c:!1,e:!1,w:!1,v:T}),L=im(ye),vf(L,A,"config","Creating"),ye}function Sp(i,o){i?(i[ki](o),i[Gf](2,108,o)):am(o)}function Lo(i,o,l,v){var w=yp(l,i||{},v);return o&&w[Oi](w.cfg,o),w}function Ru(i,o,l){var v=i[gc]||i;return v.cfg&&(v.cfg===i||v.cfg[gc]===v)?v[wu](o):(Sp(l,ov+Zt(i)),Lo(i,null,l)[wu](o))}function vl(i,o){if(i&&i[Fs])return i[Fs](o)}function sm(i,o,l){var v;return l||(v=el(function(w){l=w})),i&&ev(i)>0?os(vl(i[0],o),function(){sm(jl(i,1),o,l)}):l(),v}var wp=500,um="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";function dv(i,o,l){return!i&&Ye(i)?o:Ho(i)?i:ia(i)[Su]()==="true"}function bp(i){return{mrg:!0,v:i}}function Sc(i,o,l){return{fb:l,isVal:i,v:o}}function uo(i,o){return{fb:o,set:dv,v:!!i}}var dd=[sa,pr,Bs,Tn],ml=null,Fo;function Eh(i,o){return function(){var l=arguments,v=Wm(o);if(v){var w=v.listener;w&&w[i]&&w[i][ii](w,l)}}}function Ep(){var i=Tr("Microsoft");return i&&(ml=i.ApplicationInsights),ml}function Wm(i){var o=ml;return!o&&i.disableDbgExt!==!0&&(o=ml||Ep()),o?o.ChromeDbgExt:null}function Th(i){if(!Fo){Fo={};for(var o=0;o<dd[or];o++)Fo[dd[o]]=Eh(dd[o],i)}return Fo}var Oa,pd="warnToConsole",vd="AI (Internal): ",cm="AI: ",hl="AITR_",ci={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},co=(Oa={},Oa[0]=null,Oa[1]="errorToConsole",Oa[2]=pd,Oa[3]="debugToConsole",Oa);function md(i){return i?'"'+i[Fi](/\"/g,zr)+'"':zr}function ku(i,o){var l=ds();if(l){var v="log";l[i]&&(v=i),tt(l[v])&&l[v](o)}}var wc=function(){function i(o,l,v,w){v===void 0&&(v=!1);var T=this;T[Wf]=o,T[nc]=(v?cm:vd)+o;var A=zr;ko()&&(A=Oo().stringify(w));var L=(l?" message:"+md(l):zr)+(w?" props:"+md(A):zr);T[nc]+=L}return i.dataType="MessageData",i}();function _s(i,o){return(i||{})[dn]||new pv(o)}var pv=function(){function i(o){this.identifier="DiagnosticLogger",this.queue=[];var l=0,v={},w,T,A,L,Y;qa(i,this,function(B){Y=ce(o||{}),B.consoleLoggingLevel=function(){return w},B[Gf]=function(se,Re,ye,Oe,Le){Le===void 0&&(Le=!1);var Ke=new wc(Re,ye,Le,Oe);if(L)throw Zt(Ke);var ct=co[se]||pd;if(nt(Ke[nc]))pe("throw"+(se===1?"Critical":"Warning"),Ke);else{if(Le){var Sr=+Ke[Wf];!v[Sr]&&w>=se&&(B[ct](Ke[nc]),v[Sr]=!0)}else w>=se&&B[ct](Ke[nc]);W(se,Ke)}},B.debugToConsole=function(se){ku("debug",se),pe("warning",se)},B[ki]=function(se){ku("warn",se),pe("warning",se)},B.errorToConsole=function(se){ku("error",se),pe("error",se)},B.resetInternalMessageCount=function(){l=0,v={}},B[ac]=W,B[Fs]=function(se){Y&&Y.rm(),Y=null};function W(se,Re){if(!de()){var ye=!0,Oe=hl+Re[Wf];if(v[Oe]?ye=!1:v[Oe]=!0,ye&&(se<=T&&(B.queue[Yr](Re),l++,pe(se===1?"error":"warn",Re)),l===A)){var Le="Internal events throttle limit per PageView reached for this app.",Ke=new wc(23,Le,!1);B.queue[Yr](Ke),se===1?B.errorToConsole(Le):B[ki](Le)}}}function ce(se){return Ru(Lo(se,ci,B).cfg,function(Re){var ye=Re.cfg;w=ye[rc],T=ye.loggingLevelTelemetry,A=ye.maxMessageLimit,L=ye.enableDebug})}function de(){return l>=A}function pe(se,Re){var ye=Wm(o||{});ye&&ye[Ei]&&ye[Ei](se,Re)}})}return i.__ieDyn=1,i}();function lm(i){return i||new pv}function vt(i,o,l,v,w,T){T===void 0&&(T=!1),lm(i)[Gf](o,l,v,w,T)}function Ou(i,o){lm(i)[ki](o)}var Ws,mf,fm="toGMTString",bc="toUTCString",hd="cookie",gs="expires",dm="isCookieUseDisabled",Tp="disableCookiesUsage",_l="_ckMgr",Ec=null,Tc=null,vv=null,Wr,ys={},mv={},hv=(Ws={cookieCfg:bp((mf={},mf[io]={fb:"cookieDomain",dfVal:rl},mf.path={fb:"cookiePath",dfVal:rl},mf.enabled=qs,mf.ignoreCookies=qs,mf.blockedCookies=qs,mf)),cookieDomain:qs,cookiePath:qs},Ws[Tp]=qs,Ws);function Js(){!Wr&&(Wr=fu(function(){return Lf()}))}function Ip(i){return i?i.isEnabled():!0}function _v(i,o){return o&&i&&rt(i.ignoreCookies)?yi(i.ignoreCookies,o)!==-1:!1}function gv(i,o){return o&&i&&rt(i.blockedCookies)&&yi(i.blockedCookies,o)!==-1?!0:_v(i,o)}function _d(i,o){var l=o[tc];if(Ye(l)){var v=void 0;nt(i[dm])||(v=!i[dm]),nt(i[Tp])||(v=!i[Tp]),l=v}return l}function gd(i,o){var l,v,w,T,A,L,Y,B,W;i=Lo(i||mv,null,o).cfg,A=Ru(i,function(de){de[Oi](de.cfg,hv),v=de.ref(de.cfg,"cookieCfg"),w=v[tf]||"/",T=v[io],L=_d(i,v)!==!1,Y=v.getCookie||yv,B=v.setCookie||lo,W=v.delCookie||lo},o);var ce=(l={isEnabled:function(){var de=_d(i,v)!==!1&&L&&gl(o),pe=mv[_l];return de&&pe&&ce!==pe&&(de=Ip(pe)),de},setEnabled:function(de){L=de!==!1,v[tc]=de},set:function(de,pe,se,Re,ye){var Oe=!1;if(Ip(ce)&&!gv(v,de)){var Le={},Ke=Sn(pe||zr),ct=hu(Ke,";");if(ct!==-1&&(Ke=Sn(en(pe,ct)),Le=Ic(_a(pe,ct+1))),Iu(Le,io,Re||T,Qn,nt),!Ye(se)){var Sr=sl();if(nt(Le[gs])){var rn=pu(),nn=rn+se*1e3;if(nn>0){var Pn=new Date;Pn.setTime(nn),Iu(Le,gs,Np(Pn,Sr?fm:bc)||Np(Pn,Sr?fm:bc)||zr,Qn)}}Sr||Iu(Le,"max-age",zr+se,null,nt)}var Wt=id();Wt&&Wt[Eu]==="https:"&&(Iu(Le,"secure",null,null,nt),Tc===null&&(Tc=!Sv((Ko()||{})[Sa])),Tc&&Iu(Le,"SameSite","None",null,nt)),Iu(Le,tf,ye||w,null,nt),B(de,yl(Ke,Le)),Oe=!0}return Oe},get:function(de){var pe=zr;return Ip(ce)&&!_v(v,de)&&(pe=Y(de)),pe},del:function(de,pe){var se=!1;return Ip(ce)&&(se=ce.purge(de,pe)),se},purge:function(de,pe){var se,Re=!1;if(gl(o)){var ye=(se={},se[tf]=pe||"/",se[gs]="Thu, 01 Jan 1970 00:00:01 GMT",se);sl()||(ye["max-age"]="0"),W(de,yl(zr,ye)),Re=!0}return Re}},l[Fs]=function(de){A&&A.rm(),A=null},l);return ce[_l]=ce,ce}function gl(i){if(Ec===null){Ec=!1,!Wr&&Js();try{var o=Wr.v||{};Ec=o[hd]!==void 0}catch(l){vt(i,2,68,"Cannot access document.cookie - "+ba(l),{exception:Zt(l)})}}return Ec}function Ic(i){var o={};if(i&&i[or]){var l=Sn(i)[Tu](";");kt(l,function(v){if(v=Sn(v||zr),v){var w=hu(v,"=");w===-1?o[v]=null:o[Sn(en(v,w))]=Sn(_a(v,w+1))}})}return o}function Np(i,o){return tt(i[o])?i[o]():null}function yl(i,o){var l=i||zr;return Et(o,function(v,w){l+="; "+v+(Ye(w)?zr:"="+w)}),l}function yv(i){var o=zr;if(!Wr&&Js(),Wr.v){var l=Wr.v[hd]||zr;vv!==l&&(ys=Ic(l),vv=l),o=Sn(ys[i]||zr)}return o}function lo(i,o){!Wr&&Js(),Wr.v&&(Wr.v[hd]=i+"="+o)}function Sv(i){return It(i)?!!(ra(i,"CPU iPhone OS 12")||ra(i,"iPad; CPU OS 12")||ra(i,"Macintosh; Intel Mac OS X 10_14")&&ra(i,"Version/")&&ra(i,"Safari")||ra(i,"Macintosh; Intel Mac OS X 10_14")&&Pi(i,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||ra(i,"Chrome/5")||ra(i,"Chrome/6")||ra(i,"UnrealEngine")&&!ra(i,"Chrome")||ra(i,"UCBrowser/12")||ra(i,"UCBrowser/11")):!1}var yd={perfEvtsSendAll:!1};function pm(i){i.h=null;var o=i.cb;i.cb=[],kt(o,function(l){Ut(l.fn,[l.arg])})}function Ss(i,o,l,v){kt(i,function(w){w&&w[o]&&(l?(l.cb[Yr]({fn:v,arg:w}),l.h=l.h||_u(pm,0,l)):Ut(v,[w]))})}var Jm=function(){function i(o){this.listeners=[];var l,v,w=[],T={h:null,cb:[]},A=Lo(o,yd);v=A[wu](function(L){l=!!L.cfg.perfEvtsSendAll}),qa(i,this,function(L){an(L,"listeners",{g:function(){return w}}),L[Mi]=function(Y){w[Yr](Y)},L[bu]=function(Y){for(var B=yi(w,Y);B>-1;)w[dt](B,1),B=yi(w,Y)},L[sa]=function(Y){Ss(w,sa,T,function(B){B[sa](Y)})},L[pr]=function(Y,B){Ss(w,pr,T,function(W){W[pr](Y,B)})},L[Bs]=function(Y,B){Ss(w,Bs,B?T:null,function(W){W[Bs](Y,B)})},L[Tn]=function(Y){Y&&(l||!Y[ep]())&&Ss(w,Tn,null,function(B){Y[Us]?_u(function(){return B[Tn](Y)},0):B[Tn](Y)})},L[ss]=function(Y){Y&&Y[or]&&Ss(w,ss,T,function(B){B[ss](Y)})},L[pc]=function(Y){Y&&Y[Ti]&&Ss(w,pc,T,function(B){B[pc](Y)})},L[vc]=function(Y,B){if(Y>0){var W=B||0;Ss(w,vc,T,function(ce){ce[vc](Y,W)})}},L[Fs]=function(Y){var B=function(){v&&v.rm(),v=null,w=[],T.h&&T.h[bo](),T.h=null,T.cb=[]},W;if(Ss(w,"unload",null,function(ce){var de=ce[Fs](Y);de&&(W||(W=[]),W[Yr](de))}),W)return el(function(ce){return os(op(W),function(){B(),ce()})});B()}})}return i.__ieDyn=1,i}(),Mu="ctx",wv="ParentContextKey",Sl="ChildrenContextKey",vm=null,Uo=function(){function i(o,l,v){var w=this;if(w.start=pu(),w[Yn]=o,w[Us]=v,w[ep]=function(){return!1},tt(l)){var T;an(w,"payload",{g:function(){return!T&&tt(l)&&(T=l(),l=null),T}})}w[Jc]=function(A){return A?A===i[wv]||A===i[Sl]?w[A]:(w[Mu]||{})[A]:null},w[Ra]=function(A,L){if(A)if(A===i[wv])w[A]||(w[ep]=function(){return!0}),w[A]=L;else if(A===i[Sl])w[A]=L;else{var Y=w[Mu]=w[Mu]||{};Y[A]=L}},w[Jf]=function(){var A=0,L=w[Jc](i[Sl]);if(rt(L))for(var Y=0;Y<L[or];Y++){var B=L[Y];B&&(A+=B[ts])}w[ts]=pu()-w.start,w.exTime=w[ts]-A,w[Jf]=function(){}}}return i.ParentContextKey="parent",i.ChildrenContextKey="childEvts",i}(),ws=function(){function i(o){this.ctx={},qa(i,this,function(l){l.create=function(v,w,T){return new Uo(v,w,T)},l.fire=function(v){v&&(v[Jf](),o&&tt(o[Tn])&&o[Tn](v))},l[Ra]=function(v,w){if(v){var T=l[Mu]=l[Mu]||{};T[v]=w}},l[Jc]=function(v){return(l[Mu]||{})[v]}})}return i.__ieDyn=1,i}(),kn="CoreUtils.doPerf";function hf(i,o,l,v,w){if(i){var T=i;if(T[Hs]&&(T=T[Hs]()),T){var A=void 0,L=T[Jc](kn);try{if(A=T.create(o(),v,w),A){if(L&&A[Ra]&&(A[Ra](Uo[wv],L),L[Jc]&&L[Ra])){var Y=L[Jc](Uo[Sl]);Y||(Y=[],L[Ra](Uo[Sl],Y)),Y[Yr](A)}return T[Ra](kn,A),l(A)}}catch(B){A&&A[Ra]&&A[Ra]("exception",B)}finally{A&&T.fire(A),T[Ra](kn,L)}}}return l()}function wl(){return vm}var Sd="00000000000000000000000000000000",sr="0000000000000000";function Yi(i,o,l){return i&&i[or]===o&&i!==l?!!i.match(/^[\da-f]*$/i):!1}function $i(i){return Yi(i,32,Sd)}function Ia(i){return Yi(i,16,sr)}var bl=gp("plugin");function vn(i){return bl.get(i,"state",{},!0)}function El(i,o){for(var l=[],v=null,w=i[Li](),T;w;){var A=w[Io]();if(A){v&&v[Wc]&&A[ui]&&v[Wc](A),T=vn(A);var L=!!T[Hr];A[Hr]&&(L=A[Hr]()),L||l[Yr](A),v=A,w=w[Li]()}}kt(l,function(Y){var B=i[wa]();Y[Ls](i.getCfg(),B,o,i[Li]()),T=vn(Y),!Y[wa]&&!T[wa]&&(T[wa]=B),T[Hr]=!0,delete T[Vn]})}function Zs(i){return i.sort(function(o,l){var v=0;if(l){var w=l[ui];o[ui]?v=w?o[td]-l[td]:1:w&&(v=-1)}else v=o?1:-1;return v})}function Dp(i){var o={};return{getName:function(){return o[Yn]},setName:function(l){i&&i.setName(l),o[Yn]=l},getTraceId:function(){return o[Zl]},setTraceId:function(l){i&&i.setTraceId(l),$i(l)&&(o[Zl]=l)},getSpanId:function(){return o[xo]},setSpanId:function(l){i&&i.setSpanId(l),Ia(l)&&(o[xo]=l)},getTraceFlags:function(){return o[si]},setTraceFlags:function(l){i&&i.setTraceFlags(l),o[si]=l}}}var Xs="TelemetryPluginChain",bv="_hasRun",Lu="_getTelCtx",Ev=0;function Tv(i,o,l){for(;i;){if(i[Io]()===l)return i;i=i[Li]()}return U([l],o.config||{},o)}function f(i,o,l,v){var w=null,T=[];o||(o=Lo({},null,l[dn])),v!==null&&(w=v?Tv(i,l,v):i);var A={_next:Y,ctx:{core:function(){return l},diagLog:function(){return _s(l,o.cfg)},getCfg:function(){return o.cfg},getExtCfg:W,getConfig:ce,hasNext:function(){return!!w},getNext:function(){return w},setNext:function(pe){w=pe},iterate:de,onComplete:L}};function L(pe,se){for(var Re=[],ye=2;ye<arguments.length;ye++)Re[ye-2]=arguments[ye];pe&&T[Yr]({func:pe,self:nt(se)?A.ctx:se,args:Re})}function Y(){var pe=w;if(w=pe?pe[Li]():null,!pe){var se=T;se&&se[or]>0&&(kt(se,function(Re){try{Re.func.call(Re.self,Re.args)}catch(ye){vt(l[dn],2,73,"Unexpected Exception during onComplete - "+Zt(ye))}}),T=[])}return pe}function B(pe,se){var Re=null,ye=o.cfg;if(ye&&pe){var Oe=ye[tl];!Oe&&se&&(Oe={}),ye[tl]=Oe,Oe=o.ref(ye,tl),Oe&&(Re=Oe[pe],!Re&&se&&(Re={}),Oe[pe]=Re,Re=o.ref(Oe,pe))}return Re}function W(pe,se){var Re=B(pe,!0);return se&&Et(se,function(ye,Oe){if(Ye(Re[ye])){var Le=o.cfg[ye];(Le||!Ye(Le))&&(Re[ye]=Le)}hs(o,Re,ye,Oe)}),o[Oi](Re,se)}function ce(pe,se,Re){Re===void 0&&(Re=!1);var ye,Oe=B(pe,!1),Le=o.cfg;return Oe&&(Oe[se]||!Ye(Oe[se]))?ye=Oe[se]:(Le[se]||!Ye(Le[se]))&&(ye=Le[se]),ye||!Ye(ye)?ye:Re}function de(pe){for(var se;se=A._next();){var Re=se[Io]();Re&&pe(Re)}}return A}function m(i,o,l,v){var w=Lo(o),T=f(i,w,l,v),A=T.ctx;function L(B){var W=T._next();return W&&W[ui](B,A),!W}function Y(B,W){return B===void 0&&(B=null),rt(B)&&(B=U(B,w.cfg,l,W)),m(B||A[Li](),w.cfg,l,W)}return A[Aa]=L,A[Co]=Y,A}function y(i,o,l){var v=Lo(o.config),w=f(i,v,o,l),T=w.ctx;function A(Y){var B=w._next();return B&&B[Fs](T,Y),!B}function L(Y,B){return Y===void 0&&(Y=null),rt(Y)&&(Y=U(Y,v.cfg,o,B)),y(Y||T[Li](),o,B)}return T[Aa]=A,T[Co]=L,T}function N(i,o,l){var v=Lo(o.config),w=f(i,v,o,l),T=w.ctx;function A(Y){return T.iterate(function(B){tt(B[js])&&B[js](T,Y)})}function L(Y,B){return Y===void 0&&(Y=null),rt(Y)&&(Y=U(Y,v.cfg,o,B)),N(Y||T[Li](),o,B)}return T[Aa]=A,T[Co]=L,T}function U(i,o,l,v){var w=null,T=!v;if(rt(i)&&i[or]>0){var A=null;kt(i,function(L){if(!T&&v===L&&(T=!0),T&&L&&tt(L[ui])){var Y=G(L,o,l);w||(w=Y),A&&A._setNext(Y),A=Y}})}return v&&!w?U([v],o,l):w}function G(i,o,l){var v=null,w=tt(i[ui]),T=tt(i[Wc]),A;i?A=i[ro]+"-"+i[td]+"-"+Ev++:A="Unknown-0-"+Ev++;var L={getPlugin:function(){return i},getNext:function(){return v},processTelemetry:W,unload:ce,update:de,_id:A,_setNext:function(pe){v=pe}};function Y(){var pe;return i&&tt(i[Lu])&&(pe=i[Lu]()),pe||(pe=m(L,o,l)),pe}function B(pe,se,Re,ye,Oe){var Le=!1,Ke=i?i[ro]:Xs,ct=pe[bv];return ct||(ct=pe[bv]={}),pe.setNext(v),i&&hf(pe[wa](),function(){return Ke+":"+Re},function(){ct[A]=!0;try{var Sr=v?v._id:zr;Sr&&(ct[Sr]=!1),Le=se(pe)}catch(nn){var rn=v?ct[v._id]:!0;rn&&(Le=!0),(!v||!rn)&&vt(pe[Ei](),1,73,"Plugin ["+Ke+"] failed during "+Re+" - "+Zt(nn)+", run flags: "+Zt(ct))}},ye,Oe),Le}function W(pe,se){se=se||Y();function Re(ye){if(!i||!w)return!1;var Oe=vn(i);return Oe[Vn]||Oe[ed]?!1:(T&&i[Wc](v),i[ui](pe,ye),!0)}B(se,Re,"processTelemetry",function(){return{item:pe}},!pe.sync)||se[Aa](pe)}function ce(pe,se){function Re(){var ye=!1;if(i){var Oe=vn(i),Le=i[wa]||Oe[wa];i&&(!Le||Le===pe.core())&&!Oe[Vn]&&(Oe[wa]=null,Oe[Vn]=!0,Oe[Hr]=!1,i[Vn]&&i[Vn](pe,se)===!0&&(ye=!0))}return ye}B(pe,Re,"unload",function(){},se[Us])||pe[Aa](se)}function de(pe,se){function Re(){var ye=!1;if(i){var Oe=vn(i),Le=i[wa]||Oe[wa];i&&(!Le||Le===pe.core())&&!Oe[Vn]&&i[js]&&i[js](pe,se)===!0&&(ye=!0)}return ye}B(pe,Re,"update",function(){},!1)||pe[Aa](se)}return tr(L)}function V(){var i=[];function o(v){v&&i[Yr](v)}function l(v,w){kt(i,function(T){try{T(v,w)}catch(A){vt(v[Ei](),2,73,"Unexpected error calling unload handler - "+Zt(A))}}),i=[]}return{add:o,run:l}}function te(){var i=[];function o(v){var w=i;i=[],kt(w,function(T){try{(T.rm||T.remove).call(T)}catch(A){vt(v,2,73,"Unloading:"+Zt(A))}})}function l(v){v&&Yc(i,v)}return{run:o,add:l}}var ve,_e="getPlugin",We=(ve={},ve[tl]={isVal:rl,v:{}},ve),Ot=function(){function i(){var o=this,l,v,w,T,A;B(),qa(i,o,function(W){W[Ls]=function(ce,de,pe,se){Y(ce,de,se),l=!0},W[Vn]=function(ce,de){var pe,se=W[wa];if(!se||ce&&se!==ce[wa]())return;var Re,ye=!1,Oe=ce||y(null,se,w&&w[_e]?w[_e]():w),Le=de||(pe={reason:0},pe[Us]=!1,pe);function Ke(){ye||(ye=!0,T.run(Oe,de),A.run(Oe[Ei]()),Re===!0&&Oe[Aa](Le),B())}return!W[rs]||W[rs](Oe,Le,Ke)!==!0?Ke():Re=!0,Re},W[js]=function(ce,de){var pe=W[wa];if(!pe||ce&&pe!==ce[wa]())return;var se,Re=!1,ye=ce||N(null,pe,w&&w[_e]?w[_e]():w),Oe=de||{reason:0};function Le(){Re||(Re=!0,Y(ye.getCfg(),ye.core(),ye[Li]()))}return!W._doUpdate||W._doUpdate(ye,Oe,Le)!==!0?Le():se=!0,se},Ea(W,"_addUnloadCb",function(){return T},"add"),Ea(W,"_addHook",function(){return A},"add"),an(W,"_unloadHooks",{g:function(){return A}})}),o[Ei]=function(W){return L(W)[Ei]()},o[Hr]=function(){return l},o.setInitialized=function(W){l=W},o[Wc]=function(W){w=W},o[Aa]=function(W,ce){ce?ce[Aa](W):w&&tt(w[ui])&&w[ui](W,null)},o._getTelCtx=L;function L(W){W===void 0&&(W=null);var ce=W;if(!ce){var de=v||m(null,{},o[wa]);w&&w[_e]?ce=de[Co](null,w[_e]):ce=de[Co](null,w)}return ce}function Y(W,ce,de){Lo(W,We,_s(ce)),!de&&ce&&(de=ce[Ba]()[Li]());var pe=w;w&&w[_e]&&(pe=w[_e]()),o[wa]=ce,v=m(de,W,ce,pe)}function B(){l=!1,o[wa]=null,v=null,w=null,A=te(),T=V()}}return i.__ieDyn=1,i}();function rr(i,o,l){var v={id:o,fn:l};Yc(i,v);var w={remove:function(){kt(i,function(T,A){if(T.id===v.id)return i[dt](A,1),-1})}};return w}function ur(i,o,l){for(var v=!1,w=i[or],T=0;T<w;++T){var A=i[T];if(A)try{if(A.fn[ii](null,[o])===!1){v=!0;break}}catch(L){vt(l,2,64,"Telemetry initializer failed: "+ba(L),{exception:Zt(L)},!0)}}return!v}var ut=function(i){Wl(o,i);function o(){var l=i.call(this)||this;l.identifier="TelemetryInitializerPlugin",l.priority=199;var v,w;T(),qa(o,l,function(A,L){A.addTelemetryInitializer=function(Y){return rr(w,v++,Y)},A[ui]=function(Y,B){ur(w,Y,B?B[Ei]():A[Ei]())&&A[Aa](Y,B)},A[rs]=function(){T()}});function T(){v=0,w=[]}return l}return o.__ieDyn=1,o}(Ot),nr,jt="Plugins must provide initialize method",Ir="_notificationManager",Nr="SDK is still unloading...",Pt="SDK is not initialized",In=100,_f=5e4,Nn=As((nr={cookieCfg:{}},nr[dc]={rdOnly:!0,ref:!0,v:[]},nr[fc]={rdOnly:!0,ref:!0,v:[]},nr[tl]={ref:!0,v:{}},nr[sp]=qs,nr.loggingLevelConsole=0,nr.diagnosticLogInterval=qs,nr));function qi(i,o){return new ws(o)}function wd(i,o,l){var v,w=[],T=[],A={};return kt(l,function(L){(Ye(L)||Ye(L[Ls]))&&cr(jt);var Y=L[td],B=L[ro];L&&Y&&(Ye(A[Y])?A[Y]=B:Ou(i,"Two extensions have same priority #"+Y+" - "+A[Y]+", "+B)),!Y||Y<o?w[Yr](L):T[Yr](L)}),v={},v[wa]=w,v[fc]=T,v}function Iv(i,o){var l=!1;return kt(o,function(v){if(v===i)return l=!0,-1}),l}function bd(i,o,l,v){l&&Et(l,function(w,T){v&&ni(T)&&ni(o[w])&&bd(i,o[w],T,v),v&&ni(T)&&ni(o[w])?bd(i,o[w],T,v):i.set(o,w,T)})}function Ed(i,o){var l=null,v=-1;return kt(i,function(w,T){if(w.w===o)return l=w,v=T,-1}),{i:v,l}}function Cp(i,o){var l=Ed(i,o).l;return l||(l={w:o,rm:function(){var v=Ed(i,o);v.i!==-1&&i[dt](v.i,1)}},i[Yr](l)),l}function mm(i,o,l){kt(o,function(v){var w=Ru(i,v.w,l);delete v.w,v.rm=function(){w.rm()}})}function ke(i,o,l,v){return o.add(i[wu](function(w){var T=w.cfg.disableDbgExt;T===!0&&v&&(l[bu](v),v=null),l&&!v&&T!==!0&&(v=Th(w.cfg),l[Mi](v))})),v}function Tt(i){return an({rm:function(){i.rm()}},"toJSON",{v:function(){return"aicore::onCfgChange<"+JSON.stringify(i)+">"}})}var Bt=function(){function i(){var o,l,v,w,T,A,L,Y,B,W,ce,de,pe,se,Re,ye,Oe,Le,Ke,ct,Sr,rn,nn,Pn,Wt,$t,Qr,Ka,da,Xe,qt,Ln;qa(i,this,function(Fe){be(),Fe._getDbgPlgTargets=function(){return[nn,w]},Fe[Hr]=function(){return l},Fe.activeStatus=function(){return $t},Fe._setPendingStatus=function(){$t=3},Fe[Ls]=function(xe,gt,Jt,xt){pe&&cr(Nr),Fe[Hr]()&&cr("Core cannot be initialized more than once"),o=Lo(xe,Nn,Jt||Fe[dn],!1),xe=o.cfg,nu(o[wu](function(An){var Ja=An.cfg,Bo=$t===3;if(!Bo){Ka=Ja.initInMemoMaxSize||In;var au=Ja[Eo],Yp=Ja.endpointUrl;if(Ye(au)){Sr=null,$t=Ri[$r];var $p="Please provide instrumentation key";l?(vt(v,1,100,$p),pa()):cr($p);return}var h_=[];if(er(au)?(h_[Yr](au),Sr=null):Sr=au,er(Yp)?(h_[Yr](Yp),Qr=null):Qr=Yp,h_[or]){da=!1,$t=3;var X_=rl(Ja.initTimeOut)?Ja.initTimeOut:_f,r0=Qv(h_);_u(function(){da||Qt()},X_),os(r0,function(ch){try{if(da)return;if(!ch.rejected){var lh=ch[To];if(lh&&lh[or]){var qg=lh[0];if(Sr=qg&&qg[To],lh[or]>1){var Bg=lh[1];Qr=Bg&&Bg[To]}}Sr&&(xe[Eo]=Sr,xe.endpointUrl=Qr)}Qt()}catch{da||Qt()}})}else Qt();var __=An.ref(An.cfg,tl);Et(__,function(ch){An.ref(__,ch)})}})),T=xt,Ke=ke(o,Le,T&&Fe[Vf](),Ke),sh(),Fe[dn]=Jt;var fr=xe[dc];if(W=[],W[Yr].apply(W,Xu(Xu([],gt,!1),fr)),ce=xe[fc],vi(null),(!de||de[or]===0)&&cr("No "+fc+" available"),ce&&ce[or]>1){var Jn=Fe[Io]("TeeChannelController");(!Jn||!Jn.plugin)&&vt(v,1,28,"TeeChannel required")}mm(xe,rn,v),rn=null,l=!0,$t===Ri.ACTIVE&&pa()},Fe.getChannels=function(){var xe=[];return de&&kt(de,function(gt){xe[Yr](gt)}),tr(xe)},Fe.track=function(xe){hf(Fe[Hs](),function(){return"AppInsightsCore:track"},function(){xe===null&&(Wa(xe),cr("Invalid telemetry item")),!xe[Yn]&&Ye(xe[Yn])&&(Wa(xe),cr("telemetry name required")),xe[no]=xe[no]||Sr,xe[ts]=xe[ts]||nl(new Date),xe.ver=xe.ver||"4.0",!pe&&Fe[Hr]()&&$t===Ri.ACTIVE?fo()[Aa](xe):$t!==Ri[$r]&&w[or]<=Ka&&w[Yr](xe)},function(){return{item:xe}},!xe.sync)},Fe[Ba]=fo,Fe[Vf]=function(){return T||(T=new Jm(o.cfg),Fe[Ir]=T),T},Fe[Mi]=function(xe){Fe.getNotifyMgr()[Mi](xe)},Fe[bu]=function(xe){T&&T[bu](xe)},Fe.getCookieMgr=function(){return Y||(Y=gd(o.cfg,Fe[dn])),Y},Fe.setCookieMgr=function(xe){Y!==xe&&(vl(Y,!1),Y=xe)},Fe[Hs]=function(){return A||L||wl()},Fe.setPerfMgr=function(xe){A=xe},Fe.eventCnt=function(){return w[or]},Fe.releaseQueue=function(){if(l&&w[or]>0){var xe=w;w=[],$t===2?kt(xe,function(gt){gt[no]=gt[no]||Sr,fo()[Aa](gt)}):vt(v,2,20,"core init status is not active")}},Fe[Kc]=function(xe){return Re=xe||null,Ln=!1,Xe&&Xe[bo](),Fn(!0)};function Qt(){da=!0,Ye(Sr)?($t=Ri[$r],vt(v,1,112,"ikey can't be resolved from promises")):$t=Ri.ACTIVE,pa()}function pa(){l&&(Fe.releaseQueue(),Fe[Kc]())}function Fn(xe){if((!Xe||!Xe[tc])&&!Ln){var gt=xe||v&&v.queue[or]>0;gt&&(qt||(qt=!0,nu(o[wu](function(Jt){var xt=Jt.cfg.diagnosticLogInterval;(!xt||!(xt>0))&&(xt=1e4);var fr=!1;Xe&&(fr=Xe[tc],Xe[bo]()),Xe=Wd(oh,xt),Xe.unref(),Xe[tc]=fr}))),Xe[tc]=!0)}return Xe}Fe[Kf]=function(){Ln=!0,Xe&&Xe[bo](),oh()},nd(Fe,function(){return se},["addTelemetryInitializer"]),Fe[Fs]=function(xe,gt,Jt){var xt;xe===void 0&&(xe=!0),l||cr(Pt),pe&&cr(Nr);var fr=(xt={reason:50},xt[Us]=xe,xt.flushComplete=!1,xt),Jn;xe&&!gt&&(Jn=el(function(Bo){gt=Bo}));var An=y(Od(),Fe);An[No](function(){Le.run(Fe[dn]),sm([Y,T,v],xe,function(){be(),gt&&gt(fr)})},Fe);function Ja(Bo){fr.flushComplete=Bo,pe=!0,Oe.run(An,fr),Fe[Kf](),An[Aa](fr)}return oh(),Up(xe,Ja,6,Jt),Jn},Fe[Io]=Ds,Fe.addPlugin=function(xe,gt,Jt,xt){if(!xe){xt&&xt(!1),uh(jt);return}var fr=Ds(xe[ro]);if(fr&&!gt){xt&&xt(!1),uh("Plugin ["+xe[ro]+"] is already loaded!");return}var Jn={reason:16};function An(au){W[Yr](xe),Jn.added=[xe],vi(Jn),xt&&xt(!0)}if(fr){var Ja=[fr.plugin],Bo={reason:2,isAsync:!!Jt};Rc(Ja,Bo,function(au){au?(Jn.removed=Ja,Jn.reason|=32,An()):xt&&xt(!1)})}else An()},Fe.updateCfg=function(xe,gt){gt===void 0&&(gt=!0);var Jt;if(Fe[Hr]()){Jt={reason:1,cfg:o.cfg,oldCfg:mu({},o.cfg),newConfig:mu({},xe),merge:gt},xe=Jt.newConfig;var xt=o.cfg;xe[dc]=xt[dc],xe[fc]=xt[fc]}o._block(function(fr){var Jn=fr.cfg;bd(fr,Jn,xe,gt),gt||Et(Jn,function(An){ir(xe,An)||fr.set(Jn,An,qs)}),fr[Oi](Jn,Nn)},!0),o[es](),Jt&&jp(Jt)},Fe.evtNamespace=function(){return ye},Fe.flush=Up,Fe.getTraceCtx=function(xe){return ct||(ct=Dp()),ct},Fe.setTraceCtx=function(xe){ct=xe||null},Fe.addUnloadHook=nu,Ea(Fe,"addUnloadCb",function(){return Oe},"add"),Fe.onCfgChange=function(xe){var gt;return l?gt=Ru(o.cfg,xe,Fe[dn]):gt=Cp(rn,xe),Tt(gt)},Fe.getWParam=function(){return ga()||o.cfg.enableWParam?0:-1};function Ns(){var xe={};Pn=[];var gt=function(Jt){Jt&&kt(Jt,function(xt){if(xt[ro]&&xt[Do]&&!xe[xt.identifier]){var fr=xt[ro]+"="+xt[Do];Pn[Yr](fr),xe[xt.identifier]=xt}})};gt(de),ce&&kt(ce,function(Jt){gt(Jt)}),gt(W)}function be(){l=!1,o=Lo({},Nn,Fe[dn]),o.cfg[rc]=1,an(Fe,"config",{g:function(){return o.cfg},s:function(gt){Fe.updateCfg(gt,!1)}}),an(Fe,"pluginVersionStringArr",{g:function(){return Pn||Ns(),Pn}}),an(Fe,"pluginVersionString",{g:function(){return Wt||(Pn||Ns(),Wt=Pn.join(";")),Wt||zr}}),an(Fe,"logger",{g:function(){return v||(v=new pv(o.cfg),o[dn]=v),v},s:function(gt){o[dn]=gt,v!==gt&&(vl(v,!1),v=gt)}}),Fe[dn]=new pv(o.cfg),nn=[];var xe=Fe.config[dc]||[];xe.splice(0,xe[or]),Yc(xe,nn),se=new ut,w=[],vl(T,!1),T=null,A=null,L=null,vl(Y,!1),Y=null,B=null,W=[],ce=null,de=null,pe=!1,Re=null,ye=xu("AIBaseCore",!0),Oe=V(),ct=null,Sr=null,Le=te(),rn=[],Wt=null,Pn=null,Ln=!1,Xe=null,qt=!1,$t=0,Qr=null,Ka=null,da=!1}function fo(){var xe=m(Od(),o.cfg,Fe);return xe[No](Fn),xe}function vi(xe){var gt=wd(Fe[dn],wp,W);B=null,Wt=null,Pn=null,de=(ce||[])[0]||[],de=Zs(Yc(de,gt[fc]));var Jt=Yc(Zs(gt[wa]),de);nn=tr(Jt);var xt=Fe.config[dc]||[];xt.splice(0,xt[or]),Yc(xt,nn);var fr=fo();de&&de[or]>0&&El(fr[Co](de),Jt),El(fr,Jt),xe&&jp(xe)}function Ds(xe){var gt=null,Jt=null,xt=[];return kt(nn,function(fr){if(fr[ro]===xe&&fr!==se)return Jt=fr,-1;fr.getChannel&&xt[Yr](fr)}),!Jt&&xt[or]>0&&kt(xt,function(fr){if(Jt=fr.getChannel(xe),!Jt)return-1}),Jt&&(gt={plugin:Jt,setEnabled:function(fr){vn(Jt)[ed]=!fr},isEnabled:function(){var fr=vn(Jt);return!fr[Vn]&&!fr[ed]},remove:function(fr,Jn){var An;fr===void 0&&(fr=!0);var Ja=[Jt],Bo=(An={reason:1},An[Us]=fr,An);Rc(Ja,Bo,function(au){au&&vi({reason:32,removed:Ja}),Jn&&Jn(au)})}}),gt}function Od(){if(!B){var xe=(nn||[]).slice();yi(xe,se)===-1&&xe[Yr](se),B=U(Zs(xe),o.cfg,Fe)}return B}function Rc(xe,gt,Jt){if(xe&&xe[or]>0){var xt=U(xe,o.cfg,Fe),fr=y(xt,Fe);fr[No](function(){var Jn=!1,An=[];kt(W,function(Bo,au){Iv(Bo,xe)?Jn=!0:An[Yr](Bo)}),W=An,Wt=null,Pn=null;var Ja=[];ce&&(kt(ce,function(Bo,au){var Yp=[];kt(Bo,function($p){Iv($p,xe)?Jn=!0:Yp[Yr]($p)}),Ja[Yr](Yp)}),ce=Ja),Jt&&Jt(Jn),Fn()}),fr[Aa](gt)}else Jt(!1)}function oh(){if(v&&v.queue){var xe=v.queue.slice(0);v.queue[or]=0,kt(xe,function(gt){var Jt,xt=(Jt={},Jt[Yn]=Re||"InternalMessageId: "+gt[Wf],Jt[no]=Sr,Jt[ts]=nl(new Date),Jt.baseType=wc.dataType,Jt.baseData={message:gt[nc]},Jt);Fe.track(xt)})}}function Up(xe,gt,Jt,xt){var fr=1,Jn=!1,An=null;xt=xt||5e3;function Ja(){fr--,Jn&&fr===0&&(An&&An[bo](),An=null,gt&&gt(Jn),gt=null)}if(de&&de[or]>0){var Bo=fo()[Co](de);Bo.iterate(function(au){if(au.flush){fr++;var Yp=!1;au.flush(xe,function(){Yp=!0,Ja()},Jt)||Yp||(xe&&An==null?An=_u(function(){An=null,Ja()},xt):Ja())}})}return Jn=!0,Ja(),!0}function sh(){var xe;nu(o[wu](function(gt){var Jt=gt.cfg.enablePerfMgr;if(Jt){var xt=gt.cfg[sp];(xe!==xt||!xe)&&(xt||(xt=qi),cp(gt.cfg,sp,xt),xe=xt,L=null),!A&&!L&&tt(xt)&&(L=xt(Fe,Fe[Vf]()))}else L=null,xe=null}))}function jp(xe){var gt=N(Od(),Fe);gt[No](Fn),(!Fe._updateHook||Fe._updateHook(gt,xe)!==!0)&&gt[Aa](xe)}function uh(xe){var gt=Fe[dn];gt?(vt(gt,2,73,xe),Fn()):cr(xe)}function Wa(xe){var gt=Fe[Vf]();gt&&gt[pr]([xe],2)}function nu(xe){Le.add(xe)}})}return i.__ieDyn=1,i}();function Gr(i,o){try{if(i&&i!==""){var l=Oo().parse(i);if(l&&l[oi]&&l[oi]>=l.itemsAccepted&&l.itemsReceived-l.itemsAccepted===l.errors[or])return l}}catch(v){vt(o,1,43,"Cannot parse the response. "+(v[Yn]||Zt(v)),{response:i})}return null}var sn="",mn="NoResponseBody",ua="&"+mn+"=true",Fu="POST",bs=function(){function i(){var o=0,l,v,w,T,A,L,Y,B,W,ce,de,pe,se,Re;qa(i,this,function(ye,Oe){var Le=!0;da(),ye[Ls]=function(Xe,qt){w=qt,v&&vt(w,1,28,"Sender is already initialized"),ye.SetConfig(Xe),v=!0},ye._getDbgPlgTargets=function(){return[v,T,L,l]},ye.SetConfig=function(Xe){try{if(A=Xe.senderOnCompleteCallBack||{},L=!!Xe.disableCredentials,Y=Xe.fetchCredentials,T=!!Xe.isOneDs,l=!!Xe.enableSendPromise,W=!!Xe.disableXhr,ce=!!Xe.disableBeacon,de=!!Xe.disableBeaconSync,Re=Xe.timeWrapper,se=!!Xe.addNoResponse,pe=!!Xe.disableFetchKeepAlive,B={sendPOST:$t},T||(Le=!1),L){var qt=id();qt&&qt.protocol&&qt.protocol[Su]()==="file:"&&(Le=!1)}return!0}catch{}return!1},ye.getSyncFetchPayload=function(){return o},ye.getSenderInst=function(Xe,qt){return Xe&&Xe[or]?rn(Xe,qt):null},ye.getFallbackInst=function(){return B},ye[rs]=function(Xe,qt){da()};function Ke(Xe,qt){nn(qt,200,{},Xe)}function ct(Xe,qt){vt(w,2,26,"Failed to send telemetry.",{message:Xe}),nn(qt,400,{})}function Sr(Xe){ct("No endpoint url is provided for the batch",Xe)}function rn(Xe,qt){for(var Ln,Fe=0,Qt=null,pa=0;Qt==null&&pa<Xe[or];)Fe=Xe[pa],!W&&Fe===1?Ha()?Qt=Ka:Vs()&&(Qt=$t):Fe===2&&sd(qt)&&(!qt||!pe)?Qt=Qr:Fe===3&&ps()&&(qt?!de:!ce)&&(Qt=Wt),pa++;return Qt?(Ln={_transport:Fe,_isSync:qt},Ln[is]=Qt,Ln):null}function nn(Xe,qt,Ln,Fe){try{Xe&&Xe(qt,Ln,Fe)}catch{}}function Pn(Xe,qt){var Ln=Ko(),Fe=Xe[as];if(!Fe)return Sr(qt),!0;Fe=Xe[as]+(se?ua:sn);var Qt=Xe[Ti],pa=T?Qt:new Blob([Qt],{type:"text/plain;charset=UTF-8"}),Fn=Ln.sendBeacon(Fe,pa);return Fn}function Wt(Xe,qt,Ln){var Fe=Xe[Ti];try{if(Fe)if(Pn(Xe,qt))Ke(sn,qt);else{var Qt=A&&A.beaconOnRetry;Qt&&tt(Qt)?Qt(Xe,qt,Pn):(B&&B[is](Xe,qt,!0),vt(w,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(pa){T&&Ou(w,"Failed to send telemetry using sendBeacon API. Ex:"+Zt(pa)),nn(qt,T?0:400,{},sn)}}function $t(Xe,qt,Ln){var Fe,Qt,pa,Fn=Xe[tp]||{};!Ln&&l&&(Fe=el(function(vi,Ds){Qt=vi,pa=Ds})),T&&Ln&&Xe.disableXhrSync&&(Ln=!1);var Ns=Xe[as];if(!Ns){Sr(qt),Qt&&Qt(!1);return}var be=il(Fu,Ns,Le,!0,Ln,Xe[Jl]);T||be[Zf]("Content-type","application/json"),kt(Rn(Fn),function(vi){be[Zf](vi,Fn[vi])}),be.onreadystatechange=function(){T||(fo(be),be.readyState===4&&Qt&&Qt(!0))},be.onload=function(){T&&fo(be)};function fo(vi){var Ds=A&&A.xhrOnComplete,Od=Ds&&tt(Ds);if(Od)Ds(vi,qt,Xe);else{var Rc=us(vi);nn(qt,vi[Ui],fp(vi,T),Rc)}}return be.onerror=function(vi){nn(qt,T?be[Ui]:400,fp(be,T),T?sn:ji(be)),pa&&pa(vi)},be.ontimeout=function(){nn(qt,T?be[Ui]:500,fp(be,T),T?sn:ji(be)),Qt&&Qt(!1)},be.send(Xe[Ti]),Fe}function Qr(Xe,qt,Ln){var Fe,Qt=Xe[as],pa=Xe[Ti],Fn=T?pa:new Blob([pa],{type:"application/json"}),Ns,be,fo,vi=new Headers,Ds=pa[or],Od=!1,Rc=!1,oh=Xe[tp]||{},Up=(Fe={method:Fu,body:Fn},Fe[um]=!0,Fe);Xe.headers&&Rn(Xe.headers)[or]>0&&(kt(Rn(oh),function(Wa){vi.append(Wa,oh[Wa])}),Up[tp]=vi),Y?Up.credentials=Y:Le&&T&&(Up.credentials="include"),Ln&&(Up.keepalive=!0,o+=Ds,T?Xe._sendReason===2&&(Od=!0,se&&(Qt+=ua)):Od=!0);var sh=new Request(Qt,Up);try{sh[um]=!0}catch{}if(!Ln&&l&&(Ns=el(function(Wa,nu){be=Wa,fo=nu})),!Qt){Sr(qt),be&&be(!1);return}function jp(Wa){nn(qt,T?0:400,{},T?sn:Wa)}function uh(Wa,nu,xe){var gt=Wa[Ui],Jt=A.fetchOnComplete;Jt&&tt(Jt)?Jt(Wa,qt,xe||sn,nu):nn(qt,gt,{},xe||sn)}try{os(fetch(T?Qt:sh,T?Up:null),function(Wa){if(Ln&&(o-=Ds,Ds=0),!Rc)if(Rc=!0,Wa.rejected)jp(Wa.reason&&Wa.reason[nc]),fo&&fo(Wa.reason);else{var nu=Wa[To];try{!T&&!nu.ok?(jp(nu.statusText),be&&be(!1)):T&&!nu.body?(uh(nu,null,sn),be&&be(!0)):os(nu.text(),function(xe){uh(nu,Xe,xe[To]),be&&be(!0)})}catch(xe){jp(Zt(xe)),fo&&fo(xe)}}})}catch(Wa){Rc||(jp(Zt(Wa)),fo&&fo(Wa))}return Od&&!Rc&&(Rc=!0,nn(qt,200,{}),be&&be(!0)),T&&!Rc&&Xe[Jl]>0&&Re&&Re.set(function(){Rc||(Rc=!0,nn(qt,500,{}),be&&be(!0))},Xe[Jl]),Ns}function Ka(Xe,qt,Ln){var Fe=Vo(),Qt=new XDomainRequest,pa=Xe[Ti];Qt.onload=function(){var vi=us(Qt),Ds=A&&A.xdrOnComplete;Ds&&tt(Ds)?Ds(Qt,qt,Xe):nn(qt,200,{},vi)},Qt.onerror=function(){nn(qt,400,{},T?sn:cs(Qt))},Qt.ontimeout=function(){nn(qt,500,{})},Qt.onprogress=function(){};var Fn=Fe&&Fe.location&&Fe.location[Eu]||"",Ns=Xe[as];if(!Ns){Sr(qt);return}if(!T&&Ns.lastIndexOf(Fn,0)!==0){var be="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";vt(w,2,40,". "+be),ct(be,qt);return}var fo=T?Ns:Ns[Fi](/^(https?:)/,"");Qt.open(Fu,fo),Xe[Jl]&&(Qt[Jl]=Xe[Jl]),Qt.send(pa),T&&Ln?Re&&Re.set(function(){Qt.send(pa)},0):Qt.send(pa)}function da(){o=0,v=!1,l=!1,w=null,T=null,A=null,L=null,Y=null,B=null,W=!1,ce=!1,de=!1,pe=!1,se=!1,Re=null}})}return i.__ieDyn=1,i}(),Uu="on",Tl="attachEvent",hm="addEventListener",xp="detachEvent",gf="removeEventListener",Nc="events";xu("aiEvtPageHide"),xu("aiEvtPageShow");var H_=/\.[\.]+/g,Ih=/[\.]+$/,u_=1,Zm=gp("events"),z_=/^([^.]*)(?:\.(.+)|)/;function yf(i){return i&&i[Fi]?i[Fi](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,zr):i}function Nv(i,o){var l;if(o){var v=zr;rt(o)?(v=zr,kt(o,function(T){T=yf(T),T&&(T[0]!=="."&&(T="."+T),v+=T)})):v=yf(o),v&&(v[0]!=="."&&(v="."+v),i=(i||zr)+v)}var w=z_.exec(i||zr)||[];return l={},l[pn]=w[1],l.ns=(w[2]||zr).replace(H_,".").replace(Ih,zr)[Tu](".").sort().join("."),l}function _m(i,o,l){l===void 0&&(l=!0);var v=Zm.get(i,Nc,{},l),w=v[o];return w||(w=v[o]=[]),w}function Sf(i,o,l,v){i&&o&&o[pn]&&(i[gf]?i[gf](o[pn],l,v):i[xp]&&i[xp](Uu+o[pn],l))}function Dv(i,o,l,v){var w=!1;return i&&o&&o[pn]&&l&&(i[hm]?(i[hm](o[pn],l,v),w=!0):i[Tl]&&(i[Tl](Uu+o[pn],l),w=!0)),w}function Nh(i,o,l,v){for(var w=o[or];w--;){var T=o[w];T&&(!l.ns||l.ns===T.evtName.ns)&&(!v||v(T))&&(Sf(i,T.evtName,T[oa],T.capture),o[dt](w,1))}}function c_(i,o,l){if(o[pn])Nh(i,_m(i,o[pn]),o,l);else{var v=Zm.get(i,Nc,{});Et(v,function(w,T){Nh(i,T,o,l)}),Rn(v)[or]===0&&Zm.kill(i,Nc)}}function Td(i,o){var l;return o?(rt(o)?l=[i].concat(o):l=[i,o],l=Nv("xx",l).ns[Tu](".")):l=i,l}function l_(i,o,l,v,w){var T;w===void 0&&(w=!1);var A=!1;if(i)try{var L=Nv(o,v);if(A=Dv(i,L,l,w),A&&Zm.accept(i)){var Y=(T={guid:u_++,evtName:L},T[oa]=l,T.capture=w,T);_m(i,L.type)[Yr](Y)}}catch{}return A}function G_(i,o,l,v,w){if(w===void 0&&(w=!1),i)try{var T=Nv(o,v),A=!1;c_(i,T,function(L){return T.ns&&!l||L[oa]===l?(A=!0,!0):!1}),A||Sf(i,T,l,w)}catch{}}var Dh="sampleRate",gm="ProcessLegacy",Ch="http.method",Xm="https://dc.services.visualstudio.com",Cv="/v2/track",Id="not_specified",xh=Qd({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),ym="split",Pr="length",Qs="toLowerCase",Nd="ingestionendpoint",xv="toString",Pv="push",Sm="removeItem",wf="name",Pp="message",f_="count",Ap="stringify",Il="pathname",Nl="match",Dl="exceptions",Dc="parsedStack",Cc="properties",ju="measurements",bf="sizeInBytes",eu="typeName",Ef="severityLevel",Dd="problemGroup",Ph="isManual",Qm="hasFullStack",Tf="assembly",If="fileName",Cd="line",Rp="method",eh="level",Av="aiDataContract",wm="duration",Ah="receivedResponse";function Rh(i,o,l){var v=o[Pr],w=kh(i,o);if(w[Pr]!==v){for(var T=0,A=w;l[A]!==void 0;)T++,A=_a(w,0,147)+E(T);w=A}return w}function kh(i,o){var l;return o&&(o=Sn(ia(o)),o[Pr]>150&&(l=_a(o,0,150),vt(i,2,57,"name is too long.  It has been truncated to 150 characters.",{name:o},!0))),l||o}function $n(i,o,l){l===void 0&&(l=1024);var v;return o&&(l=l||1024,o=Sn(ia(o)),o[Pr]>l&&(v=_a(o,0,l),vt(i,2,61,"string value is too long. It has been truncated to "+l+" characters.",{value:o},!0))),v||o}function xd(i,o){return _(i,o,2048,66)}function Kn(i,o){var l;return o&&o[Pr]>32768&&(l=_a(o,0,32768),vt(i,2,56,"message is too long, it has been truncated to 32768 characters.",{message:o},!0)),l||o}function V_(i,o){var l;if(o){var v=""+o;v[Pr]>32768&&(l=_a(v,0,32768),vt(i,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:o},!0))}return l||o}function kp(i,o){if(o){var l={};Et(o,function(v,w){if(Xn(w)&&ko())try{w=Oo()[Ap](w)}catch(T){vt(i,2,49,"custom property is not valid",{exception:T},!0)}w=$n(i,w,8192),v=Rh(i,v,l),l[v]=w}),o=l}return o}function Pd(i,o){if(o){var l={};Et(o,function(v,w){v=Rh(i,v,l),l[v]=w}),o=l}return o}function d(i,o){return o&&_(i,o,128,69)[xv]()}function _(i,o,l,v){var w;return o&&(o=Sn(ia(o)),o[Pr]>l&&(w=_a(o,0,l),vt(i,2,v,"input is too long, it has been truncated to "+l+" characters.",{data:o},!0))),w||o}function E(i){var o="00"+i;return Cr(o,o[Pr]-3)}var D=Lf()||{},R=0,$=[null,null,null,null,null];function q(i){var o=R,l=$,v=l[o];return D.createElement?l[o]||(v=l[o]=D.createElement("a")):v={host:Z(i,!0)},v.href=i,o++,o>=l[Pr]&&(o=0),R=o,v}function Z(i,o){var l=oe(i,o)||"";if(l){var v=l[Nl](/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(v!=null&&v[Pr]>3&&It(v[2])&&v[2][Pr]>0)return v[2]+(v[3]||"")}return l}function oe(i,o){var l=null;if(i){var v=i[Nl](/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(v!=null&&v[Pr]>2&&It(v[2])&&v[2][Pr]>0&&(l=v[2]||"",o&&v[Pr]>2)){var w=(v[1]||"")[Qs](),T=v[3]||"";(w==="http"&&T===":80"||w==="https"&&T===":443")&&(T=""),l+=T}}return l}var ue=[Xm+Cv,"https://breeze.aimon.applicationinsights.io"+Cv,"https://dc-int.services.visualstudio.com"+Cv];function Pe(i){return yi(ue,i[Qs]())!==-1}function Ge(i,o,l,v){var w,T=v,A=v;if(o&&o[Pr]>0){var L=q(o);if(w=L.host,!T)if(L[Il]!=null){var Y=L.pathname[Pr]===0?"/":L[Il];Y.charAt(0)!=="/"&&(Y="/"+Y),A=L[Il],T=$n(i,l?l+" "+Y:Y)}else T=$n(i,o)}else w=v,T=v;return{target:w,name:T,data:A}}var Ve=Qu({LocalStorage:0,SessionStorage:1}),De=void 0,ge="";function Ue(i){try{if(Ye(_i()))return null;var o=new Date()[xv](),l=Tr(i===Ve.LocalStorage?"localStorage":"sessionStorage"),v=ge+o;l.setItem(v,o);var w=l.getItem(v)!==o;if(l[Sm](v),!w)return l}catch{}return null}function Te(){return Ae()?Ue(Ve.SessionStorage):null}function Je(i){ge=i||""}function Ae(i){return(i||De===void 0)&&(De=!!Ue(Ve.SessionStorage)),De}function Ce(i,o){var l=Te();if(l!==null)try{return l.getItem(o)}catch(v){De=!1,vt(i,2,2,"Browser failed read of session storage. "+ba(v),{exception:Zt(v)})}return null}function qe(i,o,l){var v=Te();if(v!==null)try{return v.setItem(o,l),!0}catch(w){De=!1,vt(i,2,4,"Browser failed write to session storage. "+ba(w),{exception:Zt(w)})}return!1}function Ht(i,o){var l=Te();if(l!==null)try{return l[Sm](o),!0}catch(v){De=!1,vt(i,2,6,"Browser failed removal of session storage item. "+ba(v),{exception:Zt(v)})}return!1}var Kt=";",lr="=";function Dr(i){if(!i)return{};var o=i[ym](Kt),l=Gv(o,function(w,T){var A=T[ym](lr);if(A[Pr]===2){var L=A[0][Qs](),Y=A[1];w[L]=Y}return w},{});if(Rn(l)[Pr]>0){if(l.endpointsuffix){var v=l.location?l.location+".":"";l[Nd]=l[Nd]||"https://"+v+"dc."+l.endpointsuffix}l[Nd]=l[Nd]||Xm,Pi(l[Nd],"/")&&(l[Nd]=l[Nd].slice(0,-1))}return l}var tn=function(){function i(o,l,v){var w=this,T=this;T.ver=1,T.sampleRate=100,T.tags={},T[wf]=$n(o,v)||Id,T.data=l,T.time=nl(new Date),T[Av]={time:1,iKey:1,name:1,sampleRate:function(){return w.sampleRate===100?4:1},tags:1,data:1}}return i}(),Jr=function(){function i(o,l,v,w){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var T=this;T.ver=2,T[wf]=$n(o,l)||Id,T[Cc]=kp(o,v),T[ju]=Pd(o,w)}return i.envelopeType="Microsoft.ApplicationInsights.{0}.Event",i.dataType="EventData",i}(),qn=58,qr=/^\s{0,50}(from\s|at\s|Line\s{1,5}\d{1,10}\s{1,5}of|\w{1,50}@\w{1,80}|[^\(\s\n]+:[0-9\?]+(?::[0-9\?]+)?)/,Ma=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+):([0-9\?]+)\)?$/,et=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\]]+):([0-9\?]+)\)?$/,mt=/^(?:\s{0,50}at)?\s{0,50}([^\@\()\s]+)?\s{0,50}(?:\s|\@|\()\s{0,5}([^\(\s\n\)\]]+)\)?$/,wr=/(?:^|\(|\s{0,10}[\w\)]+\@)?([^\(\n\s\]\)]+)(?:\:([0-9]+)(?:\:([0-9]+))?)?\)?(?:,|$)/,vr=/([^\(\s\n]+):([0-9]+):([0-9]+)$/,Nt=/([^\(\s\n]+):([0-9]+)$/,Ar="<no_method>",bt="error",hn="stack",ht="stackDetails",Dn="errorSrc",Cn="message",li="description",Yu=[{re:Ma,len:5,m:1,fn:2,ln:3,col:4},{chk:Op,pre:Es,re:et,len:4,m:1,fn:2,ln:3},{re:mt,len:3,m:1,fn:2,hdl:Im},{re:wr,len:2,fn:1,hdl:Im}];function Es(i){return i.replace(/(\(anonymous\))/,"<anonymous>")}function Op(i){return hu(i,"[native")<0}function tu(i,o){var l=i;return l&&!It(l)&&(JSON&&JSON[Ap]?(l=JSON[Ap](i),o&&(!l||l==="{}")&&(tt(i[xv])?l=i[xv]():l=""+i)):l=""+i+" - (Missing JSON.stringify)"),l||""}function jo(i,o){var l=i;return i&&(l&&!It(l)&&(l=i[Cn]||i[li]||l),l&&!It(l)&&(l=tu(l,!0)),i.filename&&(l=l+" @"+(i.filename||"")+":"+(i.lineno||"?")+":"+(i.colno||"?"))),o&&o!=="String"&&o!=="Object"&&o!=="Error"&&hu(l||"",o)===-1&&(l=o+": "+l),l||""}function xc(i){try{if(Xn(i))return"hasFullStack"in i&&"typeName"in i}catch{}return!1}function ca(i){try{if(Xn(i))return"ver"in i&&"exceptions"in i&&"properties"in i}catch{}return!1}function bn(i){return i&&i.src&&It(i.src)&&i.obj&&rt(i.obj)}function Wn(i){var o=i||"";It(o)||(It(o[hn])?o=o[hn]:o=""+o);var l=o[ym](`
`);return{src:o,obj:l}}function fi(i){for(var o=[],l=i[ym](`
`),v=0;v<l[Pr];v++){var w=l[v];l[v+1]&&(w+="@"+l[v+1],v++),o[Pv](w)}return{src:i,obj:o}}function Pc(i){var o=null;if(i)try{if(i[hn])o=Wn(i[hn]);else if(i[bt]&&i[bt][hn])o=Wn(i[bt][hn]);else if(i.exception&&i.exception[hn])o=Wn(i.exception[hn]);else if(bn(i))o=i;else if(bn(i[ht]))o=i[ht];else if(Vo()&&Vo().opera&&i[Cn])o=fi(i[Pp]);else if(i.reason&&i.reason[hn])o=Wn(i.reason[hn]);else if(It(i))o=Wn(i);else{var l=i[Cn]||i[li]||"";It(i[Dn])&&(l&&(l+=`
`),l+=" from "+i[Dn]),l&&(o=Wn(l))}}catch(v){o=Wn(v)}return o||{src:"",obj:null}}function Ad(i){var o="";return i&&(i.obj?o=i.obj.join(`
`):o=i.src||""),o}function Ts(i){var o,l=i.obj;if(l&&l[Pr]>0){o=[];var v=0,w=!1,T=0;kt(l,function(Re){if(w||Nm(Re)){var ye=ia(Re);w=!0;var Oe=Dm(ye,v);Oe&&(T+=Oe[bf],o[Pv](Oe),v++)}});var A=32*1024;if(T>A)for(var L=0,Y=o[Pr]-1,B=0,W=L,ce=Y;L<Y;){var de=o[L][bf],pe=o[Y][bf];if(B+=de+pe,B>A){var se=ce-W+1;o.splice(W,se);break}W=L,ce=Y,L++,Y--}}return o}function Nf(i){var o="";if(i&&(o=i.typeName||i[wf]||"",!o))try{var l=/function (.{1,200})\(/,v=l.exec(i.constructor[xv]());o=v&&v[Pr]>1?v[1]:""}catch{}return o}function Df(i){if(i)try{if(!It(i)){var o=Nf(i),l=tu(i,!1);return(!l||l==="{}")&&(i[bt]&&(i=i[bt],o=Nf(i)),l=tu(i,!0)),hu(l,o)!==0&&o!=="String"?o+":"+l:l}}catch{}return""+(i||"")}var Rd=function(){function i(o,l,v,w,T,A){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var L=this;L.ver=2,ca(l)?(L[Dl]=l[Dl]||[],L[Cc]=l[Cc],L[ju]=l[ju],l[Ef]&&(L[Ef]=l[Ef]),l.id&&(L.id=l.id,l[Cc].id=l.id),l[Dd]&&(L[Dd]=l[Dd]),Ye(l[Ph])||(L[Ph]=l[Ph])):(v||(v={}),A&&(v.id=A),L[Dl]=[Em(o,l,v)],L[Cc]=kp(o,v),L[ju]=Pd(o,w),T&&(L[Ef]=T),A&&(L.id=A))}return i.CreateAutoException=function(o,l,v,w,T,A,L,Y){var B,W=Nf(T||A||o);return B={},B[Pp]=jo(o,W),B.url=l,B.lineNumber=v,B.columnNumber=w,B.error=Df(T||A||o),B.evt=Df(A||o),B[eu]=W,B.stackDetails=Pc(L||T||A),B.errorSrc=Y,B},i.CreateFromInterface=function(o,l,v,w){var T=l[Dl]&&Gu(l[Dl],function(L){return rh(o,L)}),A=new i(o,to(to({},l),{exceptions:T}),v,w);return A},i.prototype.toInterface=function(){var o,l=this,v=l.exceptions,w=l.properties,T=l.measurements,A=l.severityLevel,L=l.problemGroup,Y=l.id,B=l.isManual,W=v instanceof Array&&Gu(v,function(ce){return ce.toInterface()})||void 0;return o={ver:"4.0"},o[Dl]=W,o.severityLevel=A,o.properties=w,o.measurements=T,o.problemGroup=L,o.id=Y,o.isManual=B,o},i.CreateSimpleException=function(o,l,v,w,T,A){var L;return{exceptions:[(L={},L[Qm]=!0,L.message=o,L.stack=T,L.typeName=l,L)]}},i.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",i.dataType="ExceptionData",i.formatError=Df,i}(),th=tr({id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2});function bm(){var i,o=this,l=rt(o[Dc])&&Gu(o[Dc],function(w){return p(w)}),v=(i={id:o.id,outerId:o.outerId,typeName:o[eu],message:o[Pp],hasFullStack:o[Qm],stack:o[hn]},i[Dc]=l||void 0,i);return v}function Em(i,o,l){var v,w,T,A,L,Y,B,W;if(xc(o))A=o[eu],L=o[Pp],B=o[hn],W=o[Dc]||[],Y=o[Qm];else{var ce=o,de=ce&&ce.evt;Gt(ce)||(ce=ce[bt]||de||ce),A=$n(i,Nf(ce))||Id,L=Kn(i,jo(o||ce,A))||Id;var pe=o[ht]||Pc(o);W=Ts(pe),rt(W)&&Gu(W,function(se){se[Tf]=$n(i,se[Tf]),se[If]=$n(i,se[If])}),B=V_(i,Ad(pe)),Y=rt(W)&&W[Pr]>0,l&&(l[eu]=l[eu]||A)}return v={},v[Av]=th,v.id=w,v.outerId=T,v[eu]=A,v[Pp]=L,v[Qm]=Y,v.stack=B,v[Dc]=W,v.toInterface=bm,v}function rh(i,o){var l=rt(o[Dc])&&Gu(o[Dc],function(w){return a(w)})||o[Dc],v=Em(i,to(to({},o),{parsedStack:l}));return v}function Tm(i,o){var l=o[Nl](vr);if(l&&l[Pr]>=4)i[If]=l[1],i[Cd]=parseInt(l[2]);else{var v=o[Nl](Nt);v&&v[Pr]>=3?(i[If]=v[1],i[Cd]=parseInt(v[2])):i[If]=o}}function Im(i,o,l){var v=i[If];o.fn&&l&&l[Pr]>o.fn&&(o.ln&&l[Pr]>o.ln?(v=Sn(l[o.fn]||""),i[Cd]=parseInt(Sn(l[o.ln]||""))||0):v=Sn(l[o.fn]||"")),v&&Tm(i,v)}function Nm(i){var o=!1;if(i&&It(i)){var l=Sn(i);l&&(o=qr.test(l))}return o}var ru=tr({level:1,method:1,assembly:0,fileName:0,line:0});function Dm(i,o){var l,v;if(i&&It(i)&&Sn(i)){v=(l={},l[Av]=ru,l[eh]=o,l[Tf]=Sn(i),l[Rp]=Ar,l.fileName="",l.line=0,l[bf]=0,l);for(var w=0;w<Yu[Pr];){var T=Yu[w];if(T.chk&&!T.chk(i))break;T.pre&&(i=T.pre(i));var A=i[Nl](T.re);if(A&&A[Pr]>=T.len){T.m&&(v[Rp]=Sn(A[T.m]||Ar)),T.hdl?T.hdl(v,T,A):T.fn&&(T.ln?(v[If]=Sn(A[T.fn]||""),v[Cd]=parseInt(Sn(A[T.ln]||""))||0):Tm(v,A[T.fn]||""));break}w++}}return c(v)}function a(i){var o,l=(o={},o[Av]=ru,o.level=i[eh],o.method=i[Rp],o.assembly=i[Tf],o.fileName=i[If],o.line=i[Cd],o[bf]=0,o);return c(l)}function c(i){var o=qn;return i&&(o+=i.method[Pr],o+=i.assembly[Pr],o+=i.fileName[Pr],o+=i.level.toString()[Pr],o+=i.line.toString()[Pr],i[bf]=o),i}function p(i){return{level:i[eh],method:i[Rp],assembly:i[Tf],fileName:i[If],line:i[Cd]}}var g=function(){function i(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return i}(),b=function(){function i(o,l,v,w,T,A,L,Y,B){this.aiDataContract={ver:1,metrics:1,properties:0};var W=this;W.ver=2;var ce=new g;ce[f_]=w>0?w:void 0,ce.max=isNaN(A)||A===null?void 0:A,ce.min=isNaN(T)||T===null?void 0:T,ce[wf]=$n(o,l)||Id,ce.value=v,ce.stdDev=isNaN(L)||L===null?void 0:L,W.metrics=[ce],W[Cc]=kp(o,Y),W[ju]=Pd(o,B)}return i.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",i.dataType="MetricData",i}(),x="";function k(i){(isNaN(i)||i<0)&&(i=0),i=Math.round(i);var o=x+i%1e3,l=x+Math.floor(i/1e3)%60,v=x+Math.floor(i/(1e3*60))%60,w=x+Math.floor(i/(1e3*60*60))%24,T=Math.floor(i/(1e3*60*60*24));return o=o[Pr]===1?"00"+o:o[Pr]===2?"0"+o:o,l=l[Pr]<2?"0"+l:l,v=v[Pr]<2?"0"+v:v,w=w[Pr]<2?"0"+w:w,(T>0?T+".":x)+w+":"+v+":"+l+"."+o}var P=function(){function i(o,l,v,w,T,A,L){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var Y=this;Y.ver=2,Y.id=d(o,L),Y.url=xd(o,v),Y[wf]=$n(o,l)||Id,isNaN(w)||(Y[wm]=k(w)),Y[Cc]=kp(o,T),Y[ju]=Pd(o,A)}return i.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",i.dataType="PageviewData",i}(),M=function(){function i(o,l,v,w,T,A,L,Y,B,W,ce,de){B===void 0&&(B="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var pe=this;pe.ver=2,pe.id=l,pe[wm]=k(T),pe.success=A,pe.resultCode=L+"",pe.type=$n(o,B);var se=Ge(o,v,Y,w);pe.data=xd(o,w)||se.data,pe.target=$n(o,se.target),W&&(pe.target="".concat(pe.target," | ").concat(W)),pe[wf]=$n(o,se[wf]),pe[Cc]=kp(o,ce),pe[ju]=Pd(o,de)}return i.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",i.dataType="RemoteDependencyData",i}(),j=function(){function i(o,l,v,w,T){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var A=this;A.ver=2,l=l||Id,A[Pp]=Kn(o,l),A[Cc]=kp(o,w),A[ju]=Pd(o,T),v&&(A[Ef]=v)}return i.envelopeType="Microsoft.ApplicationInsights.{0}.Message",i.dataType="MessageData",i}(),z=function(){function i(o,l,v,w,T,A,L){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var Y=this;Y.ver=2,Y.url=xd(o,v),Y[wf]=$n(o,l)||Id,Y[Cc]=kp(o,T),Y[ju]=Pd(o,A),L&&(Y.domProcessing=L.domProcessing,Y[wm]=L[wm],Y.networkConnect=L.networkConnect,Y.perfTotal=L.perfTotal,Y[Ah]=L[Ah],Y.sentRequest=L.sentRequest)}return i.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",i.dataType="PageviewPerformanceData",i}(),J=function(){function i(o,l){this.aiDataContract={baseType:1,baseData:1},this.baseType=o,this.baseData=l}return i}(),K=Qu({Verbose:0,Information:1,Warning:2,Error:3,Critical:4});function ee(i){var o="ai."+i+".";return function(l){return o+l}}var X=ee("application"),me=ee("device"),we=ee("location"),Me=ee("operation"),Ze=ee("session"),Qe=ee("user"),Yt=ee("cloud"),gr=ee("internal"),la=function(i){Wl(o,i);function o(){return i.call(this)||this}return o}(lp({applicationVersion:X("ver"),applicationBuild:X("build"),applicationTypeId:X("typeId"),applicationId:X("applicationId"),applicationLayer:X("layer"),deviceId:me("id"),deviceIp:me("ip"),deviceLanguage:me("language"),deviceLocale:me("locale"),deviceModel:me("model"),deviceFriendlyName:me("friendlyName"),deviceNetwork:me("network"),deviceNetworkName:me("networkName"),deviceOEMName:me("oemName"),deviceOS:me("os"),deviceOSVersion:me("osVersion"),deviceRoleInstance:me("roleInstance"),deviceRoleName:me("roleName"),deviceScreenResolution:me("screenResolution"),deviceType:me("type"),deviceMachineName:me("machineName"),deviceVMName:me("vmName"),deviceBrowser:me("browser"),deviceBrowserVersion:me("browserVersion"),locationIp:we("ip"),locationCountry:we("country"),locationProvince:we("province"),locationCity:we("city"),operationId:Me("id"),operationName:Me("name"),operationParentId:Me("parentId"),operationRootId:Me("rootId"),operationSyntheticSource:Me("syntheticSource"),operationCorrelationVector:Me("correlationVector"),sessionId:Ze("id"),sessionIsFirst:Ze("isFirst"),sessionIsNew:Ze("isNew"),userAccountAcquisitionDate:Qe("accountAcquisitionDate"),userAccountId:Qe("accountId"),userAgent:Qe("userAgent"),userId:Qe("id"),userStoreRegion:Qe("storeRegion"),userAuthUserId:Qe("authUserId"),userAnonymousUserAcquisitionDate:Qe("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Qe("authUserAcquisitionDate"),cloudName:Yt("name"),cloudRole:Yt("role"),cloudRoleVer:Yt("roleVer"),cloudRoleInstance:Yt("roleInstance"),cloudEnvironment:Yt("environment"),cloudLocation:Yt("location"),cloudDeploymentUnit:Yt("deploymentUnit"),internalNodeName:gr("nodeName"),internalSdkVersion:gr("sdkVersion"),internalAgentVersion:gr("agentVersion"),internalSnippet:gr("snippet"),internalSdkSrc:gr("sdkSrc")})),mr=new la;function La(i,o){G_(i,null,null,o)}function Yo(i){var o=Lf(),l=Ko(),v=!1,w=[],T=1;l&&!Ye(l.onLine)&&!l.onLine&&(T=2);var A=0,L=de(),Y=Td(xu("OfflineListener"),i);try{if(W(Vo())&&(v=!0),o){var B=o.body||o;B.ononline&&W(B)&&(v=!0)}}catch{v=!1}function W(Ke){var ct=!1;return Ke&&(ct=l_(Ke,"online",Re,Y),ct&&l_(Ke,"offline",ye,Y)),ct}function ce(){return L}function de(){return!(A===2||T===2)}function pe(){var Ke=de();L!==Ke&&(L=Ke,kt(w,function(ct){var Sr={isOnline:L,rState:T,uState:A};try{ct(Sr)}catch{}}))}function se(Ke){A=Ke,pe()}function Re(){T=1,pe()}function ye(){T=2,pe()}function Oe(){var Ke=Vo();if(Ke&&v){if(La(Ke,Y),o){var ct=o.body||o;nt(ct.ononline)||La(ct,Y)}v=!1}}function Le(Ke){return w[Pv](Ke),{rm:function(){var ct=w.indexOf(Ke);if(ct>-1)return w.splice(ct,1)}}}return{isOnline:ce,isListening:function(){return v},unload:Oe,addListener:Le,setOnlineState:se}}var $o="AppInsightsChannelPlugin",Ac="duration",di="tags",Cf="deviceType",Be="data",At="name",On="traceID",Se="length",ar="stringify",Mn="measurements",Fa="dataType",Bi="envelopeType",xr="toString",za="_get",na="enqueue",Ga="count",kd="eventsLimitInMem",pi="push",Mp="item",xf="emitLineDelimitedJson",Lp="clear",Fp="createNew",Rv="markAsSent",aa="clearSent",qo="bufferOverride",Ie="BUFFER_KEY",it="SENT_BUFFER_KEY",Lt="concat",Rt="MAX_BUFFER_SIZE",Xt="triggerSend",Rr="diagLog",xn="initialize",fa="_sender",Ii="endpointUrl",Hi="instrumentationKey",Pf="customHeaders",nh="maxBatchSizeInBytes",ah="onunloadDisableBeacon",K_="isBeaconApiDisabled",Lg="alwaysUseXhrOverride",d_="disableXhr",Oh="enableSessionStorageBuffer",Cl="_buffer",W_="onunloadDisableFetch",J_="disableSendBeaconSplit",Vy="enableSendPromise",Fg="getSenderInst",SS="unloadTransports",wS="convertUndefined",bS="maxBatchInterval",Ug="serialize",Mh="_onError",Ky="_onPartialSuccess",jg="_onSuccess",Wy="itemsReceived",Jy="itemsAccepted",Zy="oriPayload",Xy="baseType",Yg="sampleRate",ES="eventsSendRequest",TS="getSamplingScore",LI="getHashCodeScore",Qy="baseType",Va="baseData",Is="properties",IS="true";function zi(i,o,l){return Iu(i,o,l,Qn)}function FI(i,o,l){var v=l[di]=l[di]||{},w=o.ext=o.ext||{},T=o[di]=o[di]||[],A=w.user;A&&(zi(v,mr.userAuthUserId,A.authId),zi(v,mr.userId,A.id||A.localId));var L=w.app;L&&zi(v,mr.sessionId,L.sesId);var Y=w.device;Y&&(zi(v,mr.deviceId,Y.id||Y.localId),zi(v,mr[Cf],Y.deviceClass),zi(v,mr.deviceIp,Y.ip),zi(v,mr.deviceModel,Y.model),zi(v,mr[Cf],Y[Cf]));var B=o.ext.web;if(B){zi(v,mr.deviceLanguage,B.browserLang),zi(v,mr.deviceBrowserVersion,B.browserVer),zi(v,mr.deviceBrowser,B.browser);var W=l[Be]=l[Be]||{},ce=W[Va]=W[Va]||{},de=ce[Is]=ce[Is]||{};zi(de,"domain",B.domain),zi(de,"isManual",B.isManual?IS:null),zi(de,"screenRes",B.screenRes),zi(de,"userConsent",B.userConsent?IS:null)}var pe=w.os;pe&&(zi(v,mr.deviceOS,pe[At]),zi(v,mr.deviceOSVersion,pe.osVer));var se=w.trace;se&&(zi(v,mr.operationParentId,se.parentID),zi(v,mr.operationName,$n(i,se[At])),zi(v,mr.operationId,se[On]));for(var Re={},ye=T[Se]-1;ye>=0;ye--){var Oe=T[ye];Et(Oe,function(Ke,ct){Re[Ke]=ct}),T.splice(ye,1)}Et(T,function(Ke,ct){Re[Ke]=ct});var Le=to(to({},v),Re);Le[mr.internalSdkVersion]||(Le[mr.internalSdkVersion]=$n(i,"javascript:".concat(UI.Version),64)),l[di]=zs(Le)}function ih(i,o,l){Ye(i)||Et(i,function(v,w){Vt(w)?l[v]=w:It(w)?o[v]=w:ko()&&(o[v]=Oo()[ar](w))})}function Lh(i,o){Ye(i)||Et(i,function(l,v){i[l]=v||o})}function Fh(i,o,l,v){var w=new tn(i,v,o);zi(w,"sampleRate",l[Dh]),(l[Va]||{}).startTime&&(w.time=nl(l[Va].startTime)),w.iKey=l.iKey;var T=l.iKey.replace(/-/g,"");return w[At]=w[At].replace("{0}",T),FI(i,l,w),l[di]=l[di]||[],zs(w)}function Uh(i,o){Ye(o[Va])&&vt(i,1,46,"telemetryItem.baseData cannot be null.")}var UI={Version:"3.3.5"};function jI(i,o,l){Uh(i,o);var v=o[Va][Mn]||{},w=o[Va][Is]||{};ih(o[Be],w,v),Ye(l)||Lh(w,l);var T=o[Va];if(Ye(T))return Ou(i,"Invalid input for dependency data"),null;var A=T[Is]&&T[Is][Ch]?T[Is][Ch]:"GET",L=new M(i,T.id,T.target,T[At],T[Ac],T.success,T.responseCode,A,T.type,T.correlationContext,w,v),Y=new J(M[Fa],L);return Fh(i,M[Bi],o,Y)}function NS(i,o,l){Uh(i,o);var v={},w={};o[Qy]!==Jr[Fa]&&(v.baseTypeSource=o[Qy]),o[Qy]===Jr[Fa]?(v=o[Va][Is]||{},w=o[Va][Mn]||{}):o[Va]&&ih(o[Va],v,w),ih(o[Be],v,w),Ye(l)||Lh(v,l);var T=o[Va][At],A=new Jr(i,T,v,w),L=new J(Jr[Fa],A);return Fh(i,Jr[Bi],o,L)}function YI(i,o,l){Uh(i,o);var v=o[Va][Mn]||{},w=o[Va][Is]||{};ih(o[Be],w,v),Ye(l)||Lh(w,l);var T=o[Va],A=Rd.CreateFromInterface(i,T,w,v),L=new J(Rd[Fa],A);return Fh(i,Rd[Bi],o,L)}function $I(i,o,l){Uh(i,o);var v=o[Va],w=v[Is]||{},T=v[Mn]||{};ih(o[Be],w,T),Ye(l)||Lh(w,l);var A=new b(i,v[At],v.average,v.sampleCount,v.min,v.max,v.stdDev,w,T),L=new J(b[Fa],A);return Fh(i,b[Bi],o,L)}function qI(i,o,l){Uh(i,o);var v,w=o[Va];!Ye(w)&&!Ye(w[Is])&&!Ye(w[Is][Ac])?(v=w[Is][Ac],delete w[Is][Ac]):!Ye(o[Be])&&!Ye(o[Be][Ac])&&(v=o[Be][Ac],delete o[Be][Ac]);var T=o[Va],A;((o.ext||{}).trace||{})[On]&&(A=o.ext.trace[On]);var L=T.id||A,Y=T[At],B=T.uri,W=T[Is]||{},ce=T[Mn]||{};if(Ye(T.refUri)||(W.refUri=T.refUri),Ye(T.pageType)||(W.pageType=T.pageType),Ye(T.isLoggedIn)||(W.isLoggedIn=T.isLoggedIn[xr]()),!Ye(T[Is])){var de=T[Is];Et(de,function(Re,ye){W[Re]=ye})}ih(o[Be],W,ce),Ye(l)||Lh(W,l);var pe=new P(i,Y,B,v,W,ce,L),se=new J(P[Fa],pe);return Fh(i,P[Bi],o,se)}function BI(i,o,l){Uh(i,o);var v=o[Va],w=v[At],T=v.uri||v.url,A=v[Is]||{},L=v[Mn]||{};ih(o[Be],A,L),Ye(l)||Lh(A,l);var Y=new z(i,w,T,void 0,A,L,v),B=new J(z[Fa],Y);return Fh(i,z[Bi],o,B)}function HI(i,o,l){Uh(i,o);var v=o[Va].message,w=o[Va].severityLevel,T=o[Va][Is]||{},A=o[Va][Mn]||{};ih(o[Be],T,A),Ye(l)||Lh(T,l);var L=new j(i,v,w,T,A),Y=new J(j[Fa],L);return Fh(i,j[Bi],o,Y)}var DS=function(){function i(o,l){var v=[],w=!1,T=l.maxRetryCnt;this[za]=function(){return v},this._set=function(A){return v=A,v},qa(i,this,function(A){A[na]=function(L){if(A[Ga]()>=l[kd]){w||(vt(o,2,105,"Maximum in-memory buffer size reached: "+A[Ga](),!0),w=!0);return}L.cnt=L.cnt||0,!(!Ye(T)&&L.cnt>T)&&v[pi](L)},A[Ga]=function(){return v[Se]},A.size=function(){for(var L=v[Se],Y=0;Y<v[Se];Y++)L+=v[Y].item[Se];return l[xf]||(L+=2),L},A[Lp]=function(){v=[],w=!1},A.getItems=function(){return v.slice(0)},A.batchPayloads=function(L){if(L&&L[Se]>0){var Y=[];kt(L,function(W){Y[pi](W[Mp])});var B=l[xf]?Y.join(`
`):"["+Y.join(",")+"]";return B}return null},A[Fp]=function(L,Y,B){var W=v.slice(0);L=L||o,Y=Y||{};var ce=B?new CS(L,Y):new e0(L,Y);return kt(W,function(de){ce[na](de)}),ce}})}return i.__ieDyn=1,i}(),e0=function(i){Wl(o,i);function o(l,v){var w=i.call(this,l,v)||this;return qa(o,w,function(T,A){T[Rv]=function(L){A[Lp]()},T[aa]=function(L){}}),w}return o.__ieDyn=1,o}(DS),zI=["AI_buffer","AI_sentBuffer"],CS=function(i){Wl(o,i);function o(v,w){var T=i.call(this,v,w)||this,A=!1,L=w==null?void 0:w.namePrefix,Y=w[qo]||{getItem:Ce,setItem:qe},B=Y.getItem,W=Y.setItem,ce=w.maxRetryCnt;return qa(o,T,function(de,pe){var se=ct(o[Ie]),Re=ct(o[it]),ye=nn(),Oe=Re[Lt](ye),Le=de._set(se[Lt](Oe));Le[Se]>o[Rt]&&(Le[Se]=o[Rt]),rn(o[it],[]),rn(o[Ie],Le),de[na]=function(Wt){if(de[Ga]()>=o[Rt]){A||(vt(v,2,67,"Maximum buffer size reached: "+de[Ga](),!0),A=!0);return}Wt.cnt=Wt.cnt||0,!(!Ye(ce)&&Wt.cnt>ce)&&(pe[na](Wt),rn(o.BUFFER_KEY,de[za]()))},de[Lp]=function(){pe[Lp](),rn(o.BUFFER_KEY,de[za]()),rn(o[it],[]),A=!1},de[Rv]=function(Wt){rn(o[Ie],de._set(Ke(Wt,de[za]())));var $t=ct(o[it]);$t instanceof Array&&Wt instanceof Array&&($t=$t[Lt](Wt),$t[Se]>o[Rt]&&(vt(v,1,67,"Sent buffer reached its maximum size: "+$t[Se],!0),$t[Se]=o[Rt]),rn(o[it],$t))},de[aa]=function(Wt){var $t=ct(o[it]);$t=Ke(Wt,$t),rn(o[it],$t)},de[Fp]=function(Wt,$t,Qr){Qr=!!Qr;var Ka=de[za]().slice(0),da=ct(o[it]).slice(0);Wt=Wt||v,$t=$t||{},de[Lp]();var Xe=Qr?new o(Wt,$t):new e0(Wt,$t);return kt(Ka,function(qt){Xe[na](qt)}),Qr&&Xe[Rv](da),Xe};function Ke(Wt,$t){var Qr=[],Ka=[];return kt(Wt,function(da){Ka[pi](da[Mp])}),kt($t,function(da){!tt(da)&&yi(Ka,da[Mp])===-1&&Qr[pi](da)}),Qr}function ct(Wt){var $t=Wt;return $t=L?L+"_"+$t:$t,Sr($t)}function Sr(Wt){try{var $t=B(v,Wt);if($t){var Qr=Oo().parse($t);if(It(Qr)&&(Qr=Oo().parse(Qr)),Qr&&rt(Qr))return Qr}}catch(Ka){vt(v,1,42," storage key: "+Wt+", "+ba(Ka),{exception:Zt(Ka)})}return[]}function rn(Wt,$t){var Qr=Wt;try{Qr=L?L+"_"+Qr:Qr;var Ka=JSON[ar]($t);W(v,Qr,Ka)}catch(da){W(v,Qr,JSON[ar]([])),vt(v,2,41," storage key: "+Qr+", "+ba(da)+". Buffer cleared",{exception:Zt(da)})}}function nn(){var Wt=[];try{return kt(zI,function($t){var Qr=Pn($t);if(Wt=Wt[Lt](Qr),L){var Ka=L+"_"+$t,da=Pn(Ka);Wt=Wt[Lt](da)}}),Wt}catch($t){vt(v,2,41,"Transfer events from previous buffers: "+ba($t)+". previous Buffer items can not be removed",{exception:Zt($t)})}return[]}function Pn(Wt){try{var $t=Sr(Wt),Qr=[];return kt($t,function(Ka){var da={item:Ka,cnt:0};Qr[pi](da)}),Ht(v,Wt),Qr}catch{}return[]}}),T}var l;return l=o,o.VERSION="_1",o.BUFFER_KEY="AI_buffer"+l.VERSION,o.SENT_BUFFER_KEY="AI_sentBuffer"+l.VERSION,o.MAX_BUFFER_SIZE=2e3,o}(DS),GI=function(){function i(o){qa(i,this,function(l){l[Ug]=function(A){var L=v(A,"root");try{return Oo()[ar](L)}catch(Y){vt(o,1,48,Y&&tt(Y[xr])?Y[xr]():"Error serializing object",null,!0)}};function v(A,L){var Y="__aiCircularRefCheck",B={};if(!A)return vt(o,1,48,"cannot serialize object because it is null or undefined",{name:L},!0),B;if(A[Y])return vt(o,2,50,"Circular reference detected while serializing object",{name:L},!0),B;if(!A.aiDataContract){if(L==="measurements")B=T(A,"number",L);else if(L==="properties")B=T(A,"string",L);else if(L==="tags")B=T(A,"string",L);else if(rt(A))B=w(A,L);else{vt(o,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:L},!0);try{Oo()[ar](A),B=A}catch(W){vt(o,1,48,W&&tt(W[xr])?W[xr]():"Error serializing object",null,!0)}}return B}return A[Y]=!0,Et(A.aiDataContract,function(W,ce){var de=tt(ce)?ce()&1:ce&1,pe=tt(ce)?ce()&4:ce&4,se=ce&2,Re=A[W]!==void 0,ye=Xn(A[W])&&A[W]!==null;if(de&&!Re&&!se)vt(o,1,24,"Missing required field specification. The field is required but not present on source",{field:W,name:L});else if(!pe){var Oe=void 0;ye?se?Oe=w(A[W],W):Oe=v(A[W],W):Oe=A[W],Oe!==void 0&&(B[W]=Oe)}}),delete A[Y],B}function w(A,L){var Y;if(A)if(!rt(A))vt(o,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:L},!0);else{Y=[];for(var B=0;B<A[Se];B++){var W=A[B],ce=v(W,L+"["+B+"]");Y[pi](ce)}}return Y}function T(A,L,Y){var B;return A&&(B={},Et(A,function(W,ce){if(L==="string")ce===void 0?B[W]="undefined":ce===null?B[W]="null":ce[xr]?B[W]=ce[xr]():B[W]="invalid field: toString() is not defined.";else if(L==="number")if(ce===void 0)B[W]="undefined";else if(ce===null)B[W]="null";else{var de=parseFloat(ce);B[W]=de}else B[W]="invalid field: "+Y+" is of unknown type.",vt(o,1,B[W],null,!0)})),B}})}return i.__ieDyn=1,i}(),VI=8,KI=function(){function i(){}return i.prototype.getHashCodeScore=function(o){var l=this.getHashCode(o)/i.INT_MAX_VALUE;return l*100},i.prototype.getHashCode=function(o){if(o==="")return 0;for(;o[Se]<VI;)o=o[Lt](o);for(var l=5381,v=0;v<o[Se];++v)l=(l<<5)+l+o.charCodeAt(v),l=l&l;return Math.abs(l)},i.INT_MAX_VALUE=2147483647,i}(),WI=function(){function i(){var o=this,l=new KI,v=new la;o[TS]=function(w){var T=0;return w[di]&&w[di][v.userId]?T=l.getHashCodeScore(w[di][v.userId]):w.ext&&w.ext.user&&w.ext.user.id?T=l[LI](w.ext.user.id):w[di]&&w[di][v.operationId]?T=l.getHashCodeScore(w[di][v.operationId]):w.ext&&w.ext.telemetryTrace&&w.ext.telemetryTrace[On]?T=l.getHashCodeScore(w.ext.telemetryTrace[On]):T=Math.random()*100,T}}return i}(),JI=function(){function i(o,l){this.INT_MAX_VALUE=2147483647;var v=l||_s(null);(o>100||o<0)&&(v.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:o},!0),o=100),this[Yg]=o,this.samplingScoreGenerator=new WI}return i.prototype.isSampledIn=function(o){var l=this[Yg],v=!1;return l==null||l>=100||o.baseType===b[Fa]?!0:(v=this.samplingScoreGenerator[TS](o)<l,v)},i}(),Ua,Cm,kv=void 0,xS="",ZI=65e3;function PS(i){try{return i.responseText}catch{}return null}function XI(i){return i&&i.sendPOST}var AS=As((Ua={endpointUrl:Sc(Qn,Xm+Cv)},Ua[xf]=uo(),Ua[bS]=15e3,Ua[nh]=102400,Ua.disableTelemetry=uo(),Ua[Oh]=uo(!0),Ua.isRetryDisabled=uo(),Ua[K_]=uo(!0),Ua[J_]=uo(!0),Ua[d_]=uo(),Ua[W_]=uo(),Ua[ah]=uo(),Ua[Hi]=kv,Ua.namePrefix=kv,Ua.samplingPercentage=Sc(QI,100),Ua[Pf]=kv,Ua[wS]=kv,Ua[kd]=1e4,Ua[qo]=!1,Ua.httpXHROverride={isVal:XI,v:kv},Ua[Lg]=uo(),Ua.transports=kv,Ua.retryCodes=kv,Ua.maxRetryCnt={isVal:Vt,v:10},Ua));function QI(i){return!isNaN(i)&&i>0&&i<=100}var eN=(Cm={},Cm[Jr.dataType]=NS,Cm[j.dataType]=HI,Cm[P.dataType]=qI,Cm[z.dataType]=BI,Cm[Rd.dataType]=YI,Cm[b.dataType]=$I,Cm[M.dataType]=jI,Cm),RS=function(i){Wl(o,i);function o(){var l=i.call(this)||this;l.priority=1001,l.identifier=$o;var v,w,T,A,L,Y,B,W=0,ce,de,pe,se,Re,ye,Oe,Le,Ke,ct,Sr,rn,nn,Pn,Wt,$t,Qr,Ka,da,Xe,qt,Ln,Fe,Qt,pa,Fn,Ns;return qa(o,l,function(be,fo){LS(),be.pause=function(){ch(),T=!0},be.resume=function(){T&&(T=!1,w=null,An(),__())},be.flush=function(ae,Ne,yt){if(ae===void 0&&(ae=!0),!T){ch();try{return be[Xt](ae,null,yt||1)}catch(St){vt(be[Rr](),1,22,"flush failed, telemetry will not be collected: "+ba(St),{exception:Zt(St)})}}},be.onunloadFlush=function(){if(!T)if(Oe||Xe)try{return be[Xt](!0,au,2)}catch(ae){vt(be[Rr](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+ba(ae),{exception:Zt(ae)})}else be.flush(!1)},be.addHeader=function(ae,Ne){B[ae]=Ne},be[xn]=function(ae,Ne,yt,St){be.isInitialized()&&vt(be[Rr](),1,28,"Sender is already initialized"),fo[xn](ae,Ne,yt,St);var br=be.identifier;L=new GI(Ne.logger),v=0,w=null,be[fa]=null,Y=0;var hr=be[Rr]();pe=Td(xu("Sender"),Ne.evtNamespace&&Ne.evtNamespace()),de=Yo(pe),be._addHook(Ru(ae,function(Vr){var ja=Vr.cfg;ja.storagePrefix&&Je(ja.storagePrefix);var Md=m(null,ja,Ne),kr=Md.getExtCfg(br,AS),FS=kr[Ii];if(se&&FS===se){var n0=ja[Ii];n0&&n0!==FS&&(kr[Ii]=n0)}er(kr[Hi])&&(kr[Hi]=ja[Hi]),an(be,"_senderConfig",{g:function(){return kr}}),Re!==kr[Ii]&&(se=Re=kr[Ii]),Ne.activeStatus()===Ri.PENDING?be.pause():Ne.activeStatus()===Ri.ACTIVE&&be.resume(),ct&&ct!==kr[Pf]&&kt(ct,function(iu){delete B[iu.header]}),ye=kr[nh],Oe=(kr[ah]===!1||kr[K_]===!1)&&ps(),Le=kr[ah]===!1&&ps(),Ke=kr[K_]===!1&&ps(),Xe=kr[Lg],qt=!!kr[d_],Ns=kr.retryCodes;var a0=kr[qo],g_=!!kr[Oh]&&(!!a0||Ae()),US=kr.namePrefix,aN=g_!==$t||g_&&Ka!==US||g_&&Qr!==a0;if(be[Cl]){if(aN)try{be._buffer=be._buffer[Fp](hr,kr,g_)}catch(iu){vt(be[Rr](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+ba(iu),{exception:Zt(iu)})}An()}else be[Cl]=g_?new CS(hr,kr):new e0(hr,kr);Ka=US,$t=g_,Qr=a0,Ln=!kr[W_]&&sd(!0),pa=!!kr[J_],be._sample=new JI(kr.samplingPercentage,hr),rn=kr[Hi],!er(rn)&&!MS(rn,ja)&&vt(hr,1,100,"Invalid Instrumentation key "+rn),ct=kr[Pf],It(se)&&!Pe(se)&&ct&&ct[Se]>0?kt(ct,function(iu){l.addHeader(iu.header,iu.value)}):ct=null,da=kr[Vy];var jS=Ds();Fn?Fn.SetConfig(jS):(Fn=new bs,Fn[xn](jS,hr));var Hg=kr.httpXHROverride,zg=null,Q_=null,iN=af([3,1,2],kr.transports);zg=Fn&&Fn[Fg](iN,!1);var i0=Fn&&Fn.getFallbackInst();Fe=function(iu,jh){return xt(i0,iu,jh)},Qt=function(iu,jh){return xt(i0,iu,jh,!1)},zg=Xe?Hg:zg||Hg||i0,be[fa]=function(iu,jh){return xt(zg,iu,jh)},Ln&&(ce=h_);var o0=af([3,1],kr[SS]);Ln||(o0=o0.filter(function(iu){return iu!==2})),Q_=Fn&&Fn[Fg](o0,!0),Q_=Xe?Hg:Q_||Hg,(Xe||kr[SS]||!ce)&&Q_&&(ce=function(iu,jh){return xt(Q_,iu,jh)}),ce||(ce=Fe),Sr=kr.disableTelemetry,nn=kr[wS]||kv,Pn=kr.isRetryDisabled,Wt=kr[bS]}))},be.processTelemetry=function(ae,Ne){var yt;Ne=be._getTelCtx(Ne);var St=Ne[Rr]();try{var br=jp(ae,St);if(!br)return;var hr=uh(ae,St);if(!hr)return;var Vr=L[Ug](hr),ja=be[Cl];An(Vr);var Md=(yt={},yt[Mp]=Vr,yt.cnt=0,yt);ja[na](Md),__()}catch(kr){vt(St,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+ba(kr),{exception:Zt(kr)})}be.processNext(ae,Ne)},be.isCompletelyIdle=function(){return!T&&W===0&&be._buffer[Ga]()===0},be.getOfflineListener=function(){return de},be._xhrReadyStateChange=function(ae,Ne,yt){if(!$p(Ne))return Od(ae,Ne,yt)},be[Xt]=function(ae,Ne,yt){ae===void 0&&(ae=!0);var St;if(!T)try{var br=be[Cl];if(Sr)br[Lp]();else if(br[Ga]()>0){var hr=br.getItems();Bg(yt||0,ae),Ne?St=Ne.call(be,hr,ae):St=be[fa](hr,ae)}ch()}catch(ja){var Vr=ka();(!Vr||Vr>9)&&vt(be[Rr](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+ba(ja),{exception:Zt(ja)})}return St},be.getOfflineSupport=function(){var ae;return ae={getUrl:function(){return se},createPayload:xe},ae[Ug]=Wa,ae.batch=nu,ae.shouldProcess=function(Ne){return!!jp(Ne)},ae},be._doTeardown=function(ae,Ne){be.onunloadFlush(),vl(de,!1),LS()},be[Mh]=function(ae,Ne,yt){if(!$p(ae))return Rc(ae,Ne)},be[Ky]=function(ae,Ne){if(!$p(ae))return oh(ae,Ne)},be[jg]=function(ae,Ne){if(!$p(ae))return Up(ae)},be._xdrOnLoad=function(ae,Ne){if(!$p(Ne))return vi(ae,Ne)};function vi(ae,Ne){var yt=PS(ae);if(ae&&(yt+""=="200"||yt===""))v=0,be[jg](Ne,0);else{var St=Gr(yt);St&&St[Wy]&&St[Wy]>St[Jy]&&!Pn?be[Ky](Ne,St):be[Mh](Ne,cs(ae))}}function Ds(){var ae;try{var Ne={xdrOnComplete:function(St,br,hr){var Vr=sh(hr);if(Vr)return vi(St,Vr)},fetchOnComplete:function(St,br,hr,Vr){var ja=sh(Vr);if(ja)return Ja(St.status,ja,St.url,ja[Se],St.statusText,hr||"")},xhrOnComplete:function(St,br,hr){var Vr=sh(hr);if(Vr)return Od(St,Vr,Vr[Se])},beaconOnRetry:function(St,br,hr){return Yp(St,br,hr)}},yt=(ae={},ae[Vy]=da,ae.isOneDs=!1,ae.disableCredentials=!1,ae[d_]=qt,ae.disableBeacon=!Ke,ae.disableBeaconSync=!Le,ae.senderOnCompleteCallBack=Ne,ae);return yt}catch{}return null}function Od(ae,Ne,yt){ae.readyState===4&&Ja(ae.status,Ne,ae.responseURL,yt,ji(ae),PS(ae)||ae.response)}function Rc(ae,Ne,yt){vt(be[Rr](),2,26,"Failed to send telemetry.",{message:Ne}),be._buffer&&be._buffer[aa](ae)}function oh(ae,Ne){for(var yt=[],St=[],br=Ne.errors.reverse(),hr=0,Vr=br;hr<Vr.length;hr++){var ja=Vr[hr],Md=ae.splice(ja.index,1)[0];lh(ja.statusCode)?St[pi](Md):yt[pi](Md)}ae[Se]>0&&be[jg](ae,Ne[Jy]),yt[Se]>0&&be[Mh](yt,ji(null,["partial success",Ne[Jy],"of",Ne.itemsReceived].join(" "))),St[Se]>0&&(X_(St),vt(be[Rr](),2,40,"Partial success. Delivered: "+ae[Se]+", Failed: "+yt[Se]+". Will retry to send "+St[Se]+" our of "+Ne[Wy]+" items"))}function Up(ae,Ne){be._buffer&&be._buffer[aa](ae)}function sh(ae){try{if(ae){var Ne=ae,yt=Ne[Zy];return yt&&yt[Se]?yt:null}}catch{}return null}function jp(ae,Ne){if(Sr)return!1;if(!ae)return Ne&&vt(Ne,1,7,"Cannot send empty telemetry"),!1;if(ae.baseData&&!ae[Xy])return Ne&&vt(Ne,1,70,"Cannot send telemetry without baseData and baseType"),!1;if(ae[Xy]||(ae[Xy]="EventData"),!be[fa])return Ne&&vt(Ne,1,28,"Sender was not initialized"),!1;if(gt(ae))ae[Dh]=be._sample[Yg];else return Ne&&vt(Ne,2,33,"Telemetry item was sampled out and not sent",{SampleRate:be._sample[Yg]}),!1;return!0}function uh(ae,Ne){var yt=ae.iKey||rn,St=o.constructEnvelope(ae,yt,Ne,nn);if(!St){vt(Ne,1,47,"Unable to create an AppInsights envelope");return}var br=!1;if(ae[di]&&ae[di][gm]&&(kt(ae[di][gm],function(hr){try{hr&&hr(St)===!1&&(br=!0,Ou(Ne,"Telemetry processor check returns false"))}catch(Vr){vt(Ne,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+ba(Vr),{exception:Zt(Vr)},!0)}}),delete ae[di][gm]),!br)return St}function Wa(ae){var Ne=xS,yt=be[Rr]();try{var St=jp(ae,yt),br=null;St&&(br=uh(ae,yt)),br&&(Ne=L[Ug](br))}catch{}return Ne}function nu(ae){var Ne=xS;return ae&&ae[Se]&&(Ne="["+ae.join(",")+"]"),Ne}function xe(ae){var Ne,yt=Jn();return Ne={urlString:se},Ne[Be]=ae,Ne.headers=yt,Ne}function gt(ae){return be._sample.isSampledIn(ae)}function Jt(ae,Ne,yt,St){Ne===200&&ae?be._onSuccess(ae,ae[Se]):St&&be[Mh](ae,St)}function xt(ae,Ne,yt,St){St===void 0&&(St=!0);var br=function(ja,Md,kr){return Jt(Ne,ja,Md,kr)},hr=fr(Ne),Vr=ae&&ae.sendPOST;return Vr&&hr?(St&&be._buffer[Rv](Ne),Vr(hr,br,!yt)):null}function fr(ae){var Ne;if(rt(ae)&&ae[Se]>0){var yt=be[Cl].batchPayloads(ae),St=Jn(),br=(Ne={},Ne[Be]=yt,Ne.urlString=se,Ne.headers=St,Ne.disableXhrSync=qt,Ne.disableFetchKeepAlive=!Ln,Ne[Zy]=ae,Ne);return br}return null}function Jn(){try{var ae=B||{};return Pe(se)&&(ae[xh[6]]=xh[7]),ae}catch{}return null}function An(ae){var Ne=ae?ae[Se]:0;return be[Cl].size()+Ne>ye?((!de||de.isOnline())&&be[Xt](!0,null,10),!0):!1}function Ja(ae,Ne,yt,St,br,hr){var Vr=null;if(be._appId||(Vr=Gr(hr),Vr&&Vr.appId&&(be._appId=Vr.appId)),(ae<200||ae>=300)&&ae!==0){if((ae===301||ae===307||ae===308)&&!Bo(yt)){be[Mh](Ne,br);return}if(de&&!de.isOnline()){if(!Pn){var ja=10;X_(Ne,ja),vt(be[Rr](),2,40,". Offline - Response Code: ".concat(ae,". Offline status: ").concat(!de.isOnline(),". Will retry to send ").concat(Ne.length," items."))}return}!Pn&&lh(ae)?(X_(Ne),vt(be[Rr](),2,40,". Response code "+ae+". Will retry to send "+Ne[Se]+" items.")):be[Mh](Ne,br)}else Bo(yt),ae===206?(Vr||(Vr=Gr(hr)),Vr&&!Pn?be[Ky](Ne,Vr):be[Mh](Ne,br)):(v=0,be[jg](Ne,St))}function Bo(ae){return Y>=10?!1:!Ye(ae)&&ae!==""&&ae!==se?(se=ae,++Y,!0):!1}function au(ae,Ne){if(ce)ce(ae,!1);else{var yt=Fn&&Fn[Fg]([3],!0);return xt(yt,ae,Ne)}}function Yp(ae,Ne,yt){var St=ae,br=St&&St[Zy];if(pa)Qt&&Qt(br,!0),vt(be[Rr](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var hr=[],Vr=0;Vr<br[Se];Vr++){var ja=br[Vr],Md=[ja],kr=fr(Md);yt(kr,Ne)?be._onSuccess(Md,Md[Se]):hr[pi](ja)}hr[Se]>0&&(Qt&&Qt(hr,!0),vt(be[Rr](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function $p(ae){try{if(ae&&ae[Se])return It(ae[0])}catch{}return null}function h_(ae,Ne){var yt=null;if(rt(ae)){for(var St=ae[Se],br=0;br<ae[Se];br++)St+=ae[br].item[Se];var hr=Fn.getSyncFetchPayload();hr+St<=ZI?yt=2:ps()?yt=3:(yt=1,vt(be[Rr](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."));var Vr=Fn&&Fn[Fg]([yt],!0);return xt(Vr,ae,Ne)}return null}function X_(ae,Ne){if(Ne===void 0&&(Ne=1),!(!ae||ae[Se]===0)){var yt=be[Cl];yt[aa](ae),v++;for(var St=0,br=ae;St<br.length;St++){var hr=br[St];hr.cnt=hr.cnt||0,hr.cnt++,yt[na](hr)}r0(Ne),__()}}function r0(ae){var Ne=10,yt;if(v<=1)yt=Ne;else{var St=(Math.pow(2,v)-1)/2,br=Math.floor(Math.random()*St*Ne)+1;br=ae*br,yt=Math.max(Math.min(br,3600),Ne)}var hr=pu()+yt*1e3;w=hr}function __(){if(!A&&!T){var ae=w?Math.max(0,w-pu()):0,Ne=Math.max(Wt,ae);A=_u(function(){A=null,be[Xt](!0,null,1)},Ne)}}function ch(){A&&A.cancel(),A=null,w=null}function lh(ae){return Ye(Ns)?ae===401||ae===408||ae===429||ae===500||ae===502||ae===503||ae===504:Ns[Se]&&Ns.indexOf(ae)>-1}function qg(){var ae="getNotifyMgr";return be.core[ae]?be.core[ae]():be.core._notificationManager}function Bg(ae,Ne){var yt=qg();if(yt&&yt[ES])try{yt[ES](ae,Ne)}catch(St){vt(be[Rr](),1,74,"send request notification failed: "+ba(St),{exception:Zt(St)})}}function MS(ae,Ne){var yt=Ne.disableInstrumentationKeyValidation,St=Ye(yt)?!1:yt;if(St)return!0;var br="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",hr=new RegExp(br);return hr.test(ae)}function LS(){be[fa]=null,be[Cl]=null,be._appId=null,be._sample=null,B={},de=null,v=0,w=null,T=!1,A=null,L=null,Y=0,W=0,ce=null,pe=null,se=null,Re=null,ye=0,Oe=!1,ct=null,Sr=!1,rn=null,nn=kv,Pn=!1,$t=null,Ka=kv,qt=!1,Ln=!1,pa=!1,Fe=null,Qt=null,Fn=null,an(be,"_senderConfig",{g:function(){return pt({},AS)}})}}),l}return o.constructEnvelope=function(l,v,w,T){var A;v!==l.iKey&&!Ye(v)?A=to(to({},l),{iKey:v}):A=l;var L=eN[A.baseType]||NS;return L(w,A,T)},o}(Ot),p_="instrumentationKey",$g="connectionString",kS="instrumentationkey",v_="endpointUrl",OS="ingestionendpoint",Z_="userOverrideEndpointUrl",m_,t0=void 0,tN=(m_={diagnosticLogInterval:Sc(rN,1e4)},m_[$g]=t0,m_[v_]=t0,m_[p_]=t0,m_.extensionConfig={},m_);function rN(i){return i&&i>0}var nN=function(){function i(o){var l=new Bt,v;(Ye(o)||Ye(o[p_])&&Ye(o[$g]))&&cr("Invalid input configuration"),qa(i,this,function(T){an(T,"config",{g:function(){return v}}),A(),T.initialize=A,T.track=w,nd(T,l,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange","getTraceCtx","updateCfg","addTelemetryInitializer"]);function A(){var L=Lo(o||{},tN);v=L.cfg,l.addUnloadHook(Ru(L,function(){var Y=v[$g];if(er(Y)){var B=Qc(function(pe,se){os(Y,function(Re){var ye=Re.value,Oe=v[p_];if(!Re.rejected&&ye){v[$g]=ye;var Le=Dr(ye);Oe=Le[kS]||Oe}pe(Oe)})}),W=Qc(function(pe,se){os(Y,function(Re){var ye=Re.value,Oe=v[v_];if(!Re.rejected&&ye){var Le=Dr(ye),Ke=Le[OS];Oe=Ke?Ke+Cv:Oe}pe(Oe)})});v[p_]=B,v[v_]=v[Z_]||W}if(It(Y)){var ce=Dr(Y),de=ce[OS];v[v_]=v[Z_]?v[Z_]:de+Cv,v[p_]=ce[kS]||v[p_]}v[v_]=v[Z_]?v[Z_]:v[v_]})),l.initialize(v,[new RS])}});function w(T){T&&(T.baseData=T.baseData||{},T.baseType=T.baseType||"EventData"),l.track(T)}}return i.__ieDyn=1,i}();e.AppInsightsCore=Bt,e.ApplicationInsights=nN,e.Sender=RS,e.SeverityLevel=K,e.arrForEach=kt,e.isNullOrUndefined=Ye,e.proxyFunctions=nd,e.throwError=cr})});var mw=Ld(Mv=>{"use strict";var $N=Mv&&Mv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),qN=Mv&&Mv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),BN=Mv&&Mv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&$N(t,e,r);return qN(t,e),t};Object.defineProperty(Mv,"__esModule",{value:!0});Mv.appInsightsClientFactory=void 0;var HN=dw(),zN=_0(),GN=async(e,t,r,n,s)=>{let u;try{let S=await Promise.resolve().then(()=>BN(vw())),I={};if(n){let H={alwaysUseXhrOverride:!0,httpXHROverride:n};I[HN.BreezeChannelIdentifier]=H}let C;e.startsWith("InstrumentationKey=")||(C=e);let F=C?{instrumentationKey:C}:{connectionString:e};u=new S.ApplicationInsights({...F,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0,extensionConfig:I})}catch(S){return Promise.reject(S)}return{logEvent:(S,I)=>{let C={...I==null?void 0:I.properties,...I==null?void 0:I.measurements};s!=null&&s.length&&zN.TelemetryUtil.applyReplacements(C,s),u==null||u.track({name:S,data:C,baseType:"EventData",ext:{user:{id:t,authId:t},app:{sesId:r}},baseData:{name:S,properties:I==null?void 0:I.properties,measurements:I==null?void 0:I.measurements}})},flush:async()=>{u==null||u.flush(!1)},dispose:async()=>new Promise(I=>{u==null||u.unload(!0,()=>{I(),u=void 0},1e3)})}};Mv.appInsightsClientFactory=GN});var hw=Ld(ay=>{"use strict";Object.defineProperty(ay,"__esModule",{value:!0});ay.BaseTelemetryReporter=void 0;var g0=class{constructor(t,r,n){this.telemetrySender=t,this.vscodeAPI=r,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this._onDidChangeTelemetryLevel=new this.vscodeAPI.EventEmitter,this.onDidChangeTelemetryLevel=this._onDidChangeTelemetryLevel.event,this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,n),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates(()=>{this.updateUserOptIn()})}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender(),this._onDidChangeTelemetryLevel.fire(this.telemetryLevel)}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(t,r,n,s){s?this.telemetrySender.sendEventData(t,{properties:r,measurements:n}):this.telemetryLogger.logUsage(t,{properties:r,measurements:n})}sendTelemetryEvent(t,r,n){this.internalSendTelemetryEvent(t,r,n,!1)}sendRawTelemetryEvent(t,r,n){let s={...r};for(let u of Object.keys(s??{})){let h=s[u];typeof u=="string"&&h!==void 0&&(s[u]=new this.vscodeAPI.TelemetryTrustedValue(typeof h=="string"?h:h.value))}this.sendTelemetryEvent(t,s,n)}sendDangerousTelemetryEvent(t,r,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(t,r,n,!0)}internalSendTelemetryErrorEvent(t,r,n,s){s?this.telemetrySender.sendEventData(t,{properties:r,measurements:n}):this.telemetryLogger.logError(t,{properties:r,measurements:n})}sendTelemetryErrorEvent(t,r,n){this.internalSendTelemetryErrorEvent(t,r,n,!1)}sendDangerousTelemetryErrorEvent(t,r,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(t,r,n,!0)}async dispose(){return await this.telemetrySender.dispose(),this.telemetryLogger.dispose(),Promise.all(this.disposables.map(t=>t.dispose()))}};ay.BaseTelemetryReporter=g0});var _w=Ld(iy=>{"use strict";Object.defineProperty(iy,"__esModule",{value:!0});iy.BaseTelemetrySender=void 0;var Pm;(function(e){e[e.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",e[e.INSTANTIATING=1]="INSTANTIATING",e[e.INSTANTIATED=2]="INSTANTIATED"})(Pm||(Pm={}));var y0=class{constructor(t,r){this._instantiationStatus=Pm.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=r,this._key=t}sendEventData(t,r){if(!this._telemetryClient){this._instantiationStatus!==Pm.INSTANTIATED&&this._eventQueue.push({eventName:t,data:r});return}this._telemetryClient.logEvent(t,r)}sendErrorData(t,r){if(!this._telemetryClient){this._instantiationStatus!==Pm.INSTANTIATED&&this._exceptionQueue.push({exception:t,data:r});return}let n={stack:t.stack,message:t.message,name:t.name};if(r){let s=r.properties||r;r.properties={...s,...n}}else r={properties:n};this._telemetryClient.logEvent("unhandlederror",r)}async flush(){var t;return(t=this._telemetryClient)==null?void 0:t.flush()}async dispose(){this._telemetryClient&&(await this._telemetryClient.dispose(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:t,data:r})=>this.sendEventData(t,r)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:t,data:r})=>this.sendErrorData(t,r)),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===Pm.NOT_INSTANTIATED&&(this._instantiationStatus=Pm.INSTANTIATING,this._clientFactory(this._key).then(t=>{this._telemetryClient=t,this._instantiationStatus=Pm.INSTANTIATED,this._flushQueues()}).catch(t=>{console.error(t),this._instantiationStatus=Pm.INSTANTIATED}))}};iy.BaseTelemetrySender=y0});var Sw=Ld(Am=>{"use strict";var VN=Am&&Am.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var s=Object.getOwnPropertyDescriptor(t,r);(!s||("get"in s?!t.__esModule:s.writable||s.configurable))&&(s={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,s)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),KN=Am&&Am.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),b0=Am&&Am.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&VN(t,e,r);return KN(t,e),t};Object.defineProperty(Am,"__esModule",{value:!0});var WN=b0(require("https")),S0=b0(require("os")),oy=b0(require("vscode")),JN=lw(),ZN=mw(),XN=hw(),QN=_w(),gw=_0();function yw(){return{sendPOST:(t,r)=>{let n={method:"POST",headers:{...t.headers,"Content-Type":"application/json","Content-Length":Buffer.byteLength(t.data)}};try{let s=WN.request(t.urlString,n,u=>{u.on("data",function(h){r(u.statusCode??200,u.headers,h.toString())}),u.on("error",function(){r(0,{})})});s.write(t.data,u=>{u&&r(0,{})}),s.end()}catch{r(0,{})}}}}var w0=class extends XN.BaseTelemetryReporter{constructor(t,r){let n=h=>(0,ZN.appInsightsClientFactory)(h,oy.env.machineId,oy.env.sessionId,yw(),r);gw.TelemetryUtil.shouldUseOneDataSystemSDK(t)&&(n=h=>(0,JN.oneDataSystemClientFactory)(h,oy,yw()));let s={release:S0.release(),platform:S0.platform(),architecture:S0.arch()},u=new QN.BaseTelemetrySender(t,n);if(t&&t.indexOf("AIF-")===0)throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(u,oy,{additionalCommonProperties:gw.TelemetryUtil.getAdditionalCommonProperties(s)})}};Am.default=w0});var wb=Ld((r1,b_)=>{"use strict";var ND=typeof Buffer<"u",_b=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,gb=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function yb(e,t,r){r==null&&t!==null&&typeof t=="object"&&(r=t,t=void 0),ND&&Buffer.isBuffer(e)&&(e=e.toString()),e&&e.charCodeAt(0)===65279&&(e=e.slice(1));let n=JSON.parse(e,t);if(n===null||typeof n!="object")return n;let s=r&&r.protoAction||"error",u=r&&r.constructorAction||"error";if(s==="ignore"&&u==="ignore")return n;if(s!=="ignore"&&u!=="ignore"){if(_b.test(e)===!1&&gb.test(e)===!1)return n}else if(s!=="ignore"&&u==="ignore"){if(_b.test(e)===!1)return n}else if(gb.test(e)===!1)return n;return Sb(n,{protoAction:s,constructorAction:u,safe:r&&r.safe})}function Sb(e,{protoAction:t="error",constructorAction:r="error",safe:n}={}){let s=[e];for(;s.length;){let u=s;s=[];for(let h of u){if(t!=="ignore"&&Object.prototype.hasOwnProperty.call(h,"__proto__")){if(n===!0)return null;if(t==="error")throw new SyntaxError("Object contains forbidden prototype property");delete h.__proto__}if(r!=="ignore"&&Object.prototype.hasOwnProperty.call(h,"constructor")&&Object.prototype.hasOwnProperty.call(h.constructor,"prototype")){if(n===!0)return null;if(r==="error")throw new SyntaxError("Object contains forbidden prototype property");delete h.constructor}for(let S in h){let I=h[S];I&&typeof I=="object"&&s.push(I)}}}return e}function P0(e,t,r){let n=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return yb(e,t,r)}finally{Error.stackTraceLimit=n}}function DD(e,t){let r=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return yb(e,t,{safe:!0})}catch{return null}finally{Error.stackTraceLimit=r}}b_.exports=P0;b_.exports.default=P0;b_.exports.parse=P0;b_.exports.safeParse=DD;b_.exports.scan=Sb});var Bk={};YS(Bk,{activate:()=>$k,deactivate:()=>qk});module.exports=fN(Bk);var MI=require("vscode");var Pw=require("vscode");var N0={};YS(N0,{action:()=>dN,diffView:()=>rD,storeApiKey:()=>pN,work:()=>nD});function dN(e){return t=>{typeof t=="function"&&t()}}var u0=require("vscode");function pN({ext:e,log:t}){return async(r,n)=>{let s=await u0.window.showInputBox({prompt:`Enter the ${n}`});s&&(t.info(n,{event:"action.key"}),await e.secrets.store(r,s),u0.window.showInformationMessage(`${n} stored successfully`))}}var Cw=require("vscode");var ph=require("vscode"),MN=s0(JS());var m0=require("crypto");var ZS="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";var AN=128,fh,dh;function XS(e){!fh||fh.length<e?(fh=Buffer.allocUnsafe(e*AN),m0.webcrypto.getRandomValues(fh),dh=0):dh+e>fh.length&&(m0.webcrypto.getRandomValues(fh),dh=0),dh+=e}function RN(e){return XS(e|=0),fh.subarray(dh-e,dh)}function kN(e,t,r){let n=(2<<31-Math.clz32(e.length-1|1))-1,s=Math.ceil(1.6*n*t/e.length);return(u=t)=>{let h="";for(;;){let S=r(s),I=s;for(;I--;)if(h+=e[S[I]&n]||"",h.length>=u)return h}}}function QS(e,t=21){return kN(e,t,RN)}function ew(e=21){XS(e|=0);let t="";for(let r=dh-e;r<dh;r++)t+=ZS[fh[r]&63];return t}var Fd=require("vscode"),Jg="multicoder",tw,rw,Kg=(rw=(tw=Fd.workspace.workspaceFolders)==null?void 0:tw[0])==null?void 0:rw.uri,Wg=new Map;function ON(e){return e.path.split("/").pop()}function Af(e){if(e.scheme==Jg)return e.path=="/"?"./":e.path.slice(1);let t=Fd.workspace.getWorkspaceFolder(e);if(t){let u="";return String(t.uri)!==String(e)&&(u=Fd.workspace.asRelativePath(e,!1).replace(/\\/g,"/")),String(t.uri)!==String(Kg)&&(u=".folders/"+ON(t.uri)+(u?"/"+u:"")),u||(u="."),u}if(e.scheme==="untitled")return".untitled/"+e.path;let r=e.path.split("/"),n=r.pop(),s=r.pop();return Wg.has(s)||Wg.set(s,Fd.Uri.joinPath(e,"../")),".external/"+s+"/"+n}function Na(e,t){return(e=="."||e=="./")&&(e=""),e=e.startsWith("/")?e:"/"+e,Fd.Uri.from({scheme:Jg,path:e,authority:t})}function $u(e){let[t,r,...n]=e.path.split("/");if(r==".multicoder")return e.with({scheme:"file",authority:""});if(r==".untitled")return Fd.Uri.from({scheme:"untitled",path:n.join("/")});if(r==".external"){let s=n.shift();if(Wg.has(s))return Fd.Uri.joinPath(Wg.get(s),n.join("/"));throw new Error("Unknown external directory: "+s)}if(r==".folders"){let s=n.shift();for(let u of Fd.workspace.workspaceFolders||[])if(u.uri.path.endsWith("/"+s))return Fd.Uri.joinPath(u.uri,n.join("/"));throw new Error("Unknown workspace folder: "+s)}if(Kg)return e.path?Fd.Uri.joinPath(Kg,e.path):Kg;throw new Error("Cannot find source Uri")}var{fs:nw}=ph.workspace,LN=QS("1234567890abcdef",10);function Zg(){return LN()}function Xg(){let e=[];for(let t of ph.window.tabGroups.all.flatMap(r=>r.tabs))t.input instanceof ph.TabInputText&&e.push(t.input.uri);return e}async function vh(e){return new TextDecoder().decode(await nw.readFile(e))}async function aw(e,t){return await nw.writeFile(e,new TextEncoder().encode(t))}var ww=s0(Sw()),eD="InstrumentationKey=4a0957be-8ce1-4335-8aa5-1fb742355aa5;IngestionEndpoint=https://westeurope-5.in.applicationinsights.azure.com/;LiveEndpoint=https://westeurope.livediagnostics.monitor.azure.com/;ApplicationId=b0fce7b4-deeb-43b7-aa17-e5024c6c504c";function tD(e){return{logUsage(t,r){e.sendTelemetryEvent(t,r)},logError(t,r={}){if(t&&typeof t=="object"){let{message:n,stack:s}=t,u=String(t.name||"error").toLowerCase(),h=String(t);e.sendTelemetryErrorEvent(u,{...t,...r,message:n,stack:s,text:h})}else e.sendTelemetryErrorEvent(String(t).toLowerCase().replace(/\W+/g,"-"),r)}}}function bw(e){let t=new ww.default(eD),r=tD(t);e.telemetry=r,r.logUsage("activated"),e.ext.subscriptions.push(t)}var Ew=require("vscode");function Tw(e){let t=Ew.window.createOutputChannel("Multicoder",{log:!0});function r(s){if(!s||typeof s!="object")return;let{event:u,...h}=s,S=Object.entries(h).map(([I,C])=>`
    ${I}: ${C}`);S.length&&t.trace(S.join(""))}function n(s){let u={};return s!=null&&s.model&&(u.modelId=s.model.modelId,u.modelProvider=s.model.provider),u}e.log={error(s,u={}){t.error(s),e.telemetry.logError(s,{...n(this.context),...u}),r(u)},warn(s,u={}){t.warn((u!=null&&u.event?`[${u.event}] `:"")+s),e.telemetry.logUsage((u==null?void 0:u.event)||"warning",{text:s,...n(this.context),...u}),r(u)},info(s,u={}){t.info((u!=null&&u.event?`[${u.event}] `:"")+s),e.telemetry.logUsage((u==null?void 0:u.event)||"info",{text:s,...n(this.context),...u}),r(u)},context:null},e.ext.subscriptions.push(t)}var un=require("vscode");var{fs:eg}=un.workspace,Lv=new Map,Yh=new Map,y_=new Map;function Nw(e){let t=new E0,r=un.workspace.registerFileSystemProvider(Jg,t,{isCaseSensitive:!0,isReadonly:!1});e.ext.subscriptions.push(r)}function xl(e){return e.authority+e.path}async function Iw(e){try{return await eg.stat(e)}catch{}}function tg(e){let t=e?un.FileType.Directory:un.FileType.File,r=Date.now();return{type:t,ctime:r,mtime:r,size:0,content:null}}var E0=class{async stat(t){if(t.query){if(y_.has(t.query))return y_.get(t.query);throw un.FileSystemError.FileNotFound(t)}let r=Lv.get(xl(t));if(!r&&t.path.startsWith("/.multicoder"))throw un.FileSystemError.FileNotFound(t);if(!r)return await eg.stat($u(t));if(!r.type)throw un.FileSystemError.FileNotFound(t);return r}async readFile(t){if(t.query){if(y_.has(t.query))return y_.get(t.query).content;throw un.FileSystemError.FileNotFound(t)}let r=Lv.get(xl(t));if(!r&&t.path.startsWith("/.multicoder"))throw un.FileSystemError.FileNotFound(t);if(!r)return await eg.readFile($u(t));if(r.type&un.FileType.Directory)throw un.FileSystemError.FileIsADirectory(t);if(!r.type)throw un.FileSystemError.FileNotFound(t);return r.content}async writeFile(t,r,n){if(t.query)throw un.FileSystemError.NoPermissions;let s=Lv.get(xl(t)),u=!!(s!=null&&s.type);if(!s&&!t.path.startsWith("/.multicoder")&&(s=await Iw($u(t)),u=!!s),s||(s=tg()),s.type&un.FileType.Directory)throw un.FileSystemError.FileIsADirectory(t);if(!u&&!n.create)throw un.FileSystemError.FileNotFound(t);if(u&&n.create&&!n.overwrite)throw un.FileSystemError.FileExists(t);s.mtime=Date.now(),s.content=r,s.size=r.length,Lv.set(xl(t),s),Yh.has(xl(t))&&this._emitter.fire([{type:un.FileChangeType.Changed,uri:t}])}async readDirectory(t){if(t.query)throw un.FileSystemError.NoPermissions;let r=new Map,n=null;try{if(!t.path.startsWith("/.multicoder")){let s=$u(t),u=await eg.stat(s),h=await eg.readDirectory($u(t));for(let[S,I]of h)r.set(S,I)}}catch(s){n=s}for(let[s,u]of Lv){let h=s.split("/"),S=h.pop();h.join("/")===xl(t)&&(u.type?r.set(S,u.type):r.has(S)&&r.delete(S))}if(n&&r.size==0&&!t.path.startsWith("/.multicoder"))throw n;return Array.from(r.entries())}async delete(t,r){if(t.query)throw un.FileSystemError.NoPermissions;let n=Lv.get(xl(t)),s=!!(n!=null&&n.type);if(!n&&!t.path.startsWith("/.multicoder")&&(n=await Iw($u(t)),s=!!n),!s)throw un.FileSystemError.FileNotFound(t);n||(n=tg()),n.type=0,n.content=null,n.size=0,Lv.set(xl(t),n),Yh.has(xl(t))&&this._emitter.fire([{type:un.FileChangeType.Deleted,uri:t}])}rename(t,r,n){}async createDirectory(t){if(t.query)throw un.FileSystemError.NoPermissions;let r=tg(!0);Lv.set(xl(t),r),Yh.has(xl(t))&&this._emitter.fire([{type:un.FileChangeType.Created,uri:t}])}_emitter=new un.EventEmitter;onDidChangeFile=this._emitter.event;watch(t,r){let n={},s=Yh.get(xl(t))||new Set;return s.add(n),Yh.set(xl(t),s),new un.Disposable(()=>{s.delete(n),s.size||Yh.set(xl(t),null)})}},T0=new Map;function Dw(){Lv=new Map,Yh=new Map,y_=new Map,T0=new Map;let e=tg();e.content=new Uint8Array,e.permissions=un.FilePermission.Readonly,Lv.set("/~empty",e)}function I0(e,t){let r=T0.get(t);if(!r){let n=tg();n.content=new TextEncoder().encode(t),n.size=n.content.length,n.permissions=un.FilePermission.Readonly,r=ew(),T0.set(t,r),y_.set(r,n)}return Na(e,"snapshot").with({query:r})}function rD(e){return async(t,r,n)=>{var C,F;let s=e.recent.get(n),u=t.split("/").pop();if(!s)return;let h=(F=(C=s.shared)==null?void 0:C.edits)==null?void 0:F.find(H=>H.id===r);if(!h)return;let S=I0(t,h.before),I=I0(t,h.after);await Cw.commands.executeCommand("vscode.diff",S,I,`${u} (Multicoder)`),e.log.info(u,{event:"action.diff"})}}var wO=require("vscode");async function xw(){}function nD(e){return()=>{xw()}}function Aw(e){Object.entries(N0).forEach(([t,r])=>{let n=Pw.commands.registerCommand(`multicoder.${t}`,r(e));e.ext.subscriptions.push(n)})}var zv=require("vscode");var Rw="vercel.ai.error",aD=Symbol.for(Rw),kw,iD=class Ow extends Error{constructor({name:t,message:r,cause:n}){super(r),this[kw]=!0,this.name=t,this.cause=n}static isInstance(t){return Ow.hasMarker(t,Rw)}static hasMarker(t,r){let n=Symbol.for(r);return t!=null&&typeof t=="object"&&n in t&&typeof t[n]=="boolean"&&t[n]===!0}};kw=aD;var Ft=iD,Mw="AI_APICallError",Lw=`vercel.ai.error.${Mw}`,oD=Symbol.for(Lw),Fw,Pl=class extends Ft{constructor({message:e,url:t,requestBodyValues:r,statusCode:n,responseHeaders:s,responseBody:u,cause:h,isRetryable:S=n!=null&&(n===408||n===409||n===429||n>=500),data:I}){super({name:Mw,message:e,cause:h}),this[Fw]=!0,this.url=t,this.requestBodyValues=r,this.statusCode=n,this.responseHeaders=s,this.responseBody=u,this.isRetryable=S,this.data=I}static isInstance(e){return Ft.hasMarker(e,Lw)}};Fw=oD;var Uw="AI_EmptyResponseBodyError",jw=`vercel.ai.error.${Uw}`,sD=Symbol.for(jw),Yw,C0=class extends Ft{constructor({message:e="Empty response body"}={}){super({name:Uw,message:e}),this[Yw]=!0}static isInstance(e){return Ft.hasMarker(e,jw)}};Yw=sD;function mh(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var $w="AI_InvalidArgumentError",qw=`vercel.ai.error.${$w}`,uD=Symbol.for(qw),Bw,Hw=class extends Ft{constructor({message:e,cause:t,argument:r}){super({name:$w,message:e,cause:t}),this[Bw]=!0,this.argument=r}static isInstance(e){return Ft.hasMarker(e,qw)}};Bw=uD;var zw="AI_InvalidPromptError",Gw=`vercel.ai.error.${zw}`,cD=Symbol.for(Gw),Vw,Fv=class extends Ft{constructor({prompt:e,message:t,cause:r}){super({name:zw,message:`Invalid prompt: ${t}`,cause:r}),this[Vw]=!0,this.prompt=e}static isInstance(e){return Ft.hasMarker(e,Gw)}};Vw=cD;var Kw="AI_InvalidResponseDataError",Ww=`vercel.ai.error.${Kw}`,lD=Symbol.for(Ww),Jw,rg=class extends Ft{constructor({data:e,message:t=`Invalid response data: ${JSON.stringify(e)}.`}){super({name:Kw,message:t}),this[Jw]=!0,this.data=e}static isInstance(e){return Ft.hasMarker(e,Ww)}};Jw=lD;var Zw="AI_JSONParseError",Xw=`vercel.ai.error.${Zw}`,fD=Symbol.for(Xw),Qw,S_=class extends Ft{constructor({text:e,cause:t}){super({name:Zw,message:`JSON parsing failed: Text: ${e}.
Error message: ${mh(t)}`,cause:t}),this[Qw]=!0,this.text=e}static isInstance(e){return Ft.hasMarker(e,Xw)}};Qw=fD;var eb="AI_LoadAPIKeyError",tb=`vercel.ai.error.${eb}`,dD=Symbol.for(tb),rb,w_=class extends Ft{constructor({message:e}){super({name:eb,message:e}),this[rb]=!0}static isInstance(e){return Ft.hasMarker(e,tb)}};rb=dD;var pD="AI_LoadSettingError",vD=`vercel.ai.error.${pD}`,mD=Symbol.for(vD),hD;hD=mD;var _D="AI_NoContentGeneratedError",gD=`vercel.ai.error.${_D}`,yD=Symbol.for(gD),SD;SD=yD;var nb="AI_NoSuchModelError",ab=`vercel.ai.error.${nb}`,wD=Symbol.for(ab),ib,x0=class extends Ft{constructor({errorName:e=nb,modelId:t,modelType:r,message:n=`No such ${r}: ${t}`}){super({name:e,message:n}),this[ib]=!0,this.modelId=t,this.modelType=r}static isInstance(e){return Ft.hasMarker(e,ab)}};ib=wD;var ob="AI_TooManyEmbeddingValuesForCallError",sb=`vercel.ai.error.${ob}`,bD=Symbol.for(sb),ub,cb=class extends Ft{constructor(e){super({name:ob,message:`Too many values for a single embedding call. The ${e.provider} model "${e.modelId}" can only embed up to ${e.maxEmbeddingsPerCall} values per call, but ${e.values.length} values were provided.`}),this[ub]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return Ft.hasMarker(e,sb)}};ub=bD;var lb="AI_TypeValidationError",fb=`vercel.ai.error.${lb}`,ED=Symbol.for(fb),db,TD=class D0 extends Ft{constructor({value:t,cause:r}){super({name:lb,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${mh(r)}`,cause:r}),this[db]=!0,this.value=t}static isInstance(t){return Ft.hasMarker(t,fb)}static wrap({value:t,cause:r}){return D0.isInstance(r)&&r.value===t?r:new D0({value:t,cause:r})}};db=ED;var Rm=TD,pb="AI_UnsupportedFunctionalityError",vb=`vercel.ai.error.${pb}`,ID=Symbol.for(vb),mb,Zn=class extends Ft{constructor({functionality:e,message:t=`'${e}' functionality not supported.`}){super({name:pb,message:t}),this[mb]=!0,this.functionality=e}static isInstance(e){return Ft.hasMarker(e,vb)}};mb=ID;var hb=(e,t=21)=>(r=t)=>{let n="",s=r|0;for(;s--;)n+=e[Math.random()*e.length|0];return n};var dy=s0(wb(),1);var CD=Object.defineProperty,xD=(e,t,r)=>t in e?CD(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,sy=(e,t,r)=>xD(e,typeof t!="symbol"?t+"":t,r),uy=class extends Error{constructor(t,r){super(t),sy(this,"type"),sy(this,"field"),sy(this,"value"),sy(this,"line"),this.name="ParseError",this.type=r.type,this.field=r.field,this.value=r.value,this.line=r.line}};function A0(e){}function bb(e){let{onEvent:t=A0,onError:r=A0,onRetry:n=A0,onComment:s}=e,u="",h=!0,S,I="",C="";function F(Q){let re=h?Q.replace(/^\xEF\xBB\xBF/,""):Q,[le,he]=PD(`${u}${re}`);for(let je of le)H(je);u=he,h=!1}function H(Q){if(Q===""){fe();return}if(Q.startsWith(":")){s&&s(Q.slice(Q.startsWith(": ")?2:1));return}let re=Q.indexOf(":");if(re!==-1){let le=Q.slice(0,re),he=Q[re+1]===" "?2:1,je=Q.slice(re+he);ne(le,je,Q);return}ne(Q,"",Q)}function ne(Q,re,le){switch(Q){case"event":C=re;break;case"data":I=`${I}${re}
`;break;case"id":S=re.includes("\0")?void 0:re;break;case"retry":/^\d+$/.test(re)?n(parseInt(re,10)):r(new uy(`Invalid \`retry\` value: "${re}"`,{type:"invalid-retry",value:re,line:le}));break;default:r(new uy(`Unknown field "${Q.length>20?`${Q.slice(0,20)}\u2026`:Q}"`,{type:"unknown-field",field:Q,value:re,line:le}));break}}function fe(){I.length>0&&t({id:S,event:C||void 0,data:I.endsWith(`
`)?I.slice(0,-1):I}),S=void 0,I="",C=""}function ie(Q={}){u&&Q.consume&&H(u),S=void 0,I="",C="",u=""}return{feed:F,reset:ie}}function PD(e){let t=[],r="",n=e.length;for(let s=0;s<n;s++){let u=e[s];u==="\r"&&e[s+1]===`
`?(t.push(r),r="",s++):u==="\r"||u===`
`?(t.push(r),r=""):r+=u}return[t,r]}var cy=class extends TransformStream{constructor({onError:t,onRetry:r,onComment:n}={}){let s;super({start(u){s=bb({onEvent:h=>{u.enqueue(h)},onError(h){t==="terminate"?u.error(h):typeof t=="function"&&t(h)},onRetry:r,onComment:n})},transform(u){s.feed(u)}})}};function Ud(...e){return e.reduce((t,r)=>({...t,...r??{}}),{})}function Eb(e){return new ReadableStream({async pull(t){try{let{value:r,done:n}=await e.next();n?t.close():t.enqueue(r)}catch(r){t.error(r)}},cancel(){}})}async function Tb(e){return e==null?Promise.resolve():new Promise(t=>setTimeout(t,e))}function ly(e){let t={};return e.headers.forEach((r,n)=>{t[n]=r}),t}var qp=({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{let s=hb(r,t);if(e==null)return s;if(r.includes(n))throw new Hw({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return u=>`${e}${n}${s(u)}`},km=qp();function Ib(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}function AD(e){return Object.fromEntries(Object.entries(e).filter(([t,r])=>r!=null))}function ng(e){return e instanceof Error&&(e.name==="AbortError"||e.name==="TimeoutError")}function fy({apiKey:e,environmentVariableName:t,apiKeyParameterName:r="apiKey",description:n}){if(typeof e=="string")return e;if(e!=null)throw new w_({message:`${n} API key must be a string.`});if(typeof process>"u")throw new w_({message:`${n} API key is missing. Pass it using the '${r}' parameter. Environment variables is not supported in this environment.`});if(e=process.env[t],e==null)throw new w_({message:`${n} API key is missing. Pass it using the '${r}' parameter or the ${t} environment variable.`});if(typeof e!="string")throw new w_({message:`${n} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}var ag=Symbol.for("vercel.ai.validator");function RD(e){return{[ag]:!0,validate:e}}function kD(e){return typeof e=="object"&&e!==null&&ag in e&&e[ag]===!0&&"validate"in e}function OD(e){return kD(e)?e:MD(e)}function MD(e){return RD(t=>{let r=e.safeParse(t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}})}function LD({value:e,schema:t}){let r=hh({value:e,schema:t});if(!r.success)throw Rm.wrap({value:e,cause:r.error});return r.value}function hh({value:e,schema:t}){let r=OD(t);try{if(r.validate==null)return{success:!0,value:e};let n=r.validate(e);return n.success?n:{success:!1,error:Rm.wrap({value:e,cause:n.error})}}catch(n){return{success:!1,error:Rm.wrap({value:e,cause:n})}}}function FD({text:e,schema:t}){try{let r=dy.default.parse(e);return t==null?r:LD({value:r,schema:t})}catch(r){throw S_.isInstance(r)||Rm.isInstance(r)?r:new S_({text:e,cause:r})}}function Uv({text:e,schema:t}){try{let r=dy.default.parse(e);if(t==null)return{success:!0,value:r,rawValue:r};let n=hh({value:r,schema:t});return n.success?{...n,rawValue:r}:n}catch(r){return{success:!1,error:S_.isInstance(r)?r:new S_({text:e,cause:r})}}}function R0(e){try{return dy.default.parse(e),!0}catch{return!1}}var UD=()=>globalThis.fetch,Rf=async({url:e,headers:t,body:r,failedResponseHandler:n,successfulResponseHandler:s,abortSignal:u,fetch:h})=>jD({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(r),values:r},failedResponseHandler:n,successfulResponseHandler:s,abortSignal:u,fetch:h}),jD=async({url:e,headers:t={},body:r,successfulResponseHandler:n,failedResponseHandler:s,abortSignal:u,fetch:h=UD()})=>{try{let S=await h(e,{method:"POST",headers:AD(t),body:r.content,signal:u}),I=ly(S);if(!S.ok){let C;try{C=await s({response:S,url:e,requestBodyValues:r.values})}catch(F){throw ng(F)||Pl.isInstance(F)?F:new Pl({message:"Failed to process error response",cause:F,statusCode:S.status,url:e,responseHeaders:I,requestBodyValues:r.values})}throw C.value}try{return await n({response:S,url:e,requestBodyValues:r.values})}catch(C){throw C instanceof Error&&(ng(C)||Pl.isInstance(C))?C:new Pl({message:"Failed to process successful response",cause:C,statusCode:S.status,url:e,responseHeaders:I,requestBodyValues:r.values})}}catch(S){if(ng(S))throw S;if(S instanceof TypeError&&S.message==="fetch failed"){let I=S.cause;if(I!=null)throw new Pl({message:`Cannot connect to API: ${I.message}`,cause:I,url:e,requestBodyValues:r.values,isRetryable:!0})}throw S}};async function Nb(e){return typeof e=="function"&&(e=e()),Promise.resolve(e)}var py=({errorSchema:e,errorToMessage:t,isRetryable:r})=>async({response:n,url:s,requestBodyValues:u})=>{let h=await n.text(),S=ly(n);if(h.trim()==="")return{responseHeaders:S,value:new Pl({message:n.statusText,url:s,requestBodyValues:u,statusCode:n.status,responseHeaders:S,responseBody:h,isRetryable:r==null?void 0:r(n)})};try{let I=FD({text:h,schema:e});return{responseHeaders:S,value:new Pl({message:t(I),url:s,requestBodyValues:u,statusCode:n.status,responseHeaders:S,responseBody:h,data:I,isRetryable:r==null?void 0:r(n,I)})}}catch{return{responseHeaders:S,value:new Pl({message:n.statusText,url:s,requestBodyValues:u,statusCode:n.status,responseHeaders:S,responseBody:h,isRetryable:r==null?void 0:r(n)})}}},E_=e=>async({response:t})=>{let r=ly(t);if(t.body==null)throw new C0({});return{responseHeaders:r,value:t.body.pipeThrough(new TextDecoderStream).pipeThrough(new cy).pipeThrough(new TransformStream({transform({data:n},s){n!=="[DONE]"&&s.enqueue(Uv({text:n,schema:e}))}}))}};var jv=e=>async({response:t,url:r,requestBodyValues:n})=>{let s=await t.text(),u=Uv({text:s,schema:e}),h=ly(t);if(!u.success)throw new Pl({message:"Invalid JSON response",cause:u.error,statusCode:t.status,responseHeaders:h,responseBody:s,url:r,requestBodyValues:n});return{responseHeaders:h,value:u.value,rawValue:u.rawValue}};var{btoa:YD,atob:$D}=globalThis;function Db(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r=$D(t);return Uint8Array.from(r,n=>n.codePointAt(0))}function $h(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCodePoint(e[r]);return YD(t)}function vy(e){return e==null?void 0:e.replace(/\/$/,"")}var _n;(function(e){e.assertEqual=s=>s;function t(s){}e.assertIs=t;function r(s){throw new Error}e.assertNever=r,e.arrayToEnum=s=>{let u={};for(let h of s)u[h]=h;return u},e.getValidEnumValues=s=>{let u=e.objectKeys(s).filter(S=>typeof s[s[S]]!="number"),h={};for(let S of u)h[S]=s[S];return e.objectValues(h)},e.objectValues=s=>e.objectKeys(s).map(function(u){return s[u]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{let u=[];for(let h in s)Object.prototype.hasOwnProperty.call(s,h)&&u.push(h);return u},e.find=(s,u)=>{for(let h of s)if(u(h))return h},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&isFinite(s)&&Math.floor(s)===s;function n(s,u=" | "){return s.map(h=>typeof h=="string"?`'${h}'`:h).join(u)}e.joinValues=n,e.jsonStringifyReplacer=(s,u)=>typeof u=="bigint"?u.toString():u})(_n||(_n={}));var O0;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(O0||(O0={}));var wt=_n.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Mm=e=>{switch(typeof e){case"undefined":return wt.undefined;case"string":return wt.string;case"number":return isNaN(e)?wt.nan:wt.number;case"boolean":return wt.boolean;case"function":return wt.function;case"bigint":return wt.bigint;case"symbol":return wt.symbol;case"object":return Array.isArray(e)?wt.array:e===null?wt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?wt.promise:typeof Map<"u"&&e instanceof Map?wt.map:typeof Set<"u"&&e instanceof Set?wt.set:typeof Date<"u"&&e instanceof Date?wt.date:wt.object;default:return wt.unknown}},$e=_n.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),qD=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),kc=class e extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){let r=t||function(u){return u.message},n={_errors:[]},s=u=>{for(let h of u.issues)if(h.code==="invalid_union")h.unionErrors.map(s);else if(h.code==="invalid_return_type")s(h.returnTypeError);else if(h.code==="invalid_arguments")s(h.argumentsError);else if(h.path.length===0)n._errors.push(r(h));else{let S=n,I=0;for(;I<h.path.length;){let C=h.path[I];I===h.path.length-1?(S[C]=S[C]||{_errors:[]},S[C]._errors.push(r(h))):S[C]=S[C]||{_errors:[]},S=S[C],I++}}};return s(this),n}static assert(t){if(!(t instanceof e))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,_n.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){let r={},n=[];for(let s of this.issues)s.path.length>0?(r[s.path[0]]=r[s.path[0]]||[],r[s.path[0]].push(t(s))):n.push(t(s));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};kc.create=e=>new kc(e);var N_=(e,t)=>{let r;switch(e.code){case $e.invalid_type:e.received===wt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case $e.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,_n.jsonStringifyReplacer)}`;break;case $e.unrecognized_keys:r=`Unrecognized key(s) in object: ${_n.joinValues(e.keys,", ")}`;break;case $e.invalid_union:r="Invalid input";break;case $e.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${_n.joinValues(e.options)}`;break;case $e.invalid_enum_value:r=`Invalid enum value. Expected ${_n.joinValues(e.options)}, received '${e.received}'`;break;case $e.invalid_arguments:r="Invalid function arguments";break;case $e.invalid_return_type:r="Invalid function return type";break;case $e.invalid_date:r="Invalid date";break;case $e.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:_n.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case $e.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case $e.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case $e.custom:r="Invalid input";break;case $e.invalid_intersection_types:r="Intersection results could not be merged";break;case $e.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case $e.not_finite:r="Number must be finite";break;default:r=t.defaultError,_n.assertNever(e)}return{message:r}},Pb=N_;function BD(e){Pb=e}function my(){return Pb}var hy=e=>{let{data:t,path:r,errorMaps:n,issueData:s}=e,u=[...r,...s.path||[]],h={...s,path:u};if(s.message!==void 0)return{...s,path:u,message:s.message};let S="",I=n.filter(C=>!!C).slice().reverse();for(let C of I)S=C(h,{data:t,defaultError:S}).message;return{...s,path:u,message:S}},HD=[];function ot(e,t){let r=my(),n=hy({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===N_?void 0:N_].filter(s=>!!s)});e.common.issues.push(n)}var qu=class e{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){let n=[];for(let s of r){if(s.status==="aborted")return yr;s.status==="dirty"&&t.dirty(),n.push(s.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){let n=[];for(let s of r){let u=await s.key,h=await s.value;n.push({key:u,value:h})}return e.mergeObjectSync(t,n)}static mergeObjectSync(t,r){let n={};for(let s of r){let{key:u,value:h}=s;if(u.status==="aborted"||h.status==="aborted")return yr;u.status==="dirty"&&t.dirty(),h.status==="dirty"&&t.dirty(),u.value!=="__proto__"&&(typeof h.value<"u"||s.alwaysSet)&&(n[u.value]=h.value)}return{status:t.value,value:n}}},yr=Object.freeze({status:"aborted"}),I_=e=>({status:"dirty",value:e}),Oc=e=>({status:"valid",value:e}),M0=e=>e.status==="aborted",L0=e=>e.status==="dirty",qh=e=>e.status==="valid",sg=e=>typeof Promise<"u"&&e instanceof Promise;function _y(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function Ab(e,t,r,n,s){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!s)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!s:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?s.call(e,r):s?s.value=r:t.set(e,r),r}var Mt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Mt||(Mt={}));var ig,og,jd=class{constructor(t,r,n,s){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=s}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},Cb=(e,t)=>{if(qh(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new kc(e.common.issues);return this._error=r,this._error}}};function Fr(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:s}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(h,S)=>{var I,C;let{message:F}=e;return h.code==="invalid_enum_value"?{message:F??S.defaultError}:typeof S.data>"u"?{message:(I=F??n)!==null&&I!==void 0?I:S.defaultError}:h.code!=="invalid_type"?{message:S.defaultError}:{message:(C=F??r)!==null&&C!==void 0?C:S.defaultError}},description:s}}var Ur=class{get description(){return this._def.description}_getType(t){return Mm(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:Mm(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new qu,ctx:{common:t.parent.common,data:t.data,parsedType:Mm(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let r=this._parse(t);if(sg(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){let r=this._parse(t);return Promise.resolve(r)}parse(t,r){let n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;let s={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Mm(t)},u=this._parseSync({data:t,path:s.path,parent:s});return Cb(s,u)}"~validate"(t){var r,n;let s={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Mm(t)};if(!this["~standard"].async)try{let u=this._parseSync({data:t,path:[],parent:s});return qh(u)?{value:u.value}:{issues:s.common.issues}}catch(u){!((n=(r=u==null?void 0:u.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),s.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:s}).then(u=>qh(u)?{value:u.value}:{issues:s.common.issues})}async parseAsync(t,r){let n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){let n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Mm(t)},s=this._parse({data:t,path:n.path,parent:n}),u=await(sg(s)?s:Promise.resolve(s));return Cb(n,u)}refine(t,r){let n=s=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(s):r;return this._refinement((s,u)=>{let h=t(s),S=()=>u.addIssue({code:$e.custom,...n(s)});return typeof Promise<"u"&&h instanceof Promise?h.then(I=>I?!0:(S(),!1)):h?!0:(S(),!1)})}refinement(t,r){return this._refinement((n,s)=>t(n)?!0:(s.addIssue(typeof r=="function"?r(n,s):r),!1))}_refinement(t){return new kf({schema:this,typeName:He.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Al.create(this,this._def)}nullable(){return $v.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Fm.create(this)}promise(){return yh.create(this,this._def)}or(t){return Wh.create([this,t],this._def)}and(t){return Jh.create(this,t,this._def)}transform(t){return new kf({...Fr(this._def),schema:this,typeName:He.ZodEffects,effect:{type:"transform",transform:t}})}default(t){let r=typeof t=="function"?t:()=>t;return new t_({...Fr(this._def),innerType:this,defaultValue:r,typeName:He.ZodDefault})}brand(){return new ug({typeName:He.ZodBranded,type:this,...Fr(this._def)})}catch(t){let r=typeof t=="function"?t:()=>t;return new r_({...Fr(this._def),innerType:this,catchValue:r,typeName:He.ZodCatch})}describe(t){let r=this.constructor;return new r({...this._def,description:t})}pipe(t){return cg.create(this,t)}readonly(){return n_.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},zD=/^c[^\s-]{8,}$/i,GD=/^[0-9a-z]+$/,VD=/^[0-9A-HJKMNP-TV-Z]{26}$/i,KD=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,WD=/^[a-z0-9_-]{21}$/i,JD=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,ZD=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,XD=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,QD="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",k0,eC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,tC=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,rC=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,nC=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,aC=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,iC=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Rb="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",oC=new RegExp(`^${Rb}$`);function kb(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function sC(e){return new RegExp(`^${kb(e)}$`)}function Ob(e){let t=`${Rb}T${kb(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function uC(e,t){return!!((t==="v4"||!t)&&eC.test(e)||(t==="v6"||!t)&&rC.test(e))}function cC(e,t){if(!JD.test(e))return!1;try{let[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),s=JSON.parse(atob(n));return!(typeof s!="object"||s===null||!s.typ||!s.alg||t&&s.alg!==t)}catch{return!1}}function lC(e,t){return!!((t==="v4"||!t)&&tC.test(e)||(t==="v6"||!t)&&nC.test(e))}var _h=class e extends Ur{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==wt.string){let u=this._getOrReturnCtx(t);return ot(u,{code:$e.invalid_type,expected:wt.string,received:u.parsedType}),yr}let n=new qu,s;for(let u of this._def.checks)if(u.kind==="min")t.data.length<u.value&&(s=this._getOrReturnCtx(t,s),ot(s,{code:$e.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),n.dirty());else if(u.kind==="max")t.data.length>u.value&&(s=this._getOrReturnCtx(t,s),ot(s,{code:$e.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!1,message:u.message}),n.dirty());else if(u.kind==="length"){let h=t.data.length>u.value,S=t.data.length<u.value;(h||S)&&(s=this._getOrReturnCtx(t,s),h?ot(s,{code:$e.too_big,maximum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}):S&&ot(s,{code:$e.too_small,minimum:u.value,type:"string",inclusive:!0,exact:!0,message:u.message}),n.dirty())}else if(u.kind==="email")XD.test(t.data)||(s=this._getOrReturnCtx(t,s),ot(s,{validation:"email",code:$e.invalid_string,message:u.message}),n.dirty());else if(u.kind==="emoji")k0||(k0=new RegExp(QD,"u")),k0.test(t.data)||(s=this._getOrReturnCtx(t,s),ot(s,{validation:"emoji",code:$e.invalid_string,message:u.message}),n.dirty());else if(u.kind==="uuid")KD.test(t.data)||(s=this._getOrReturnCtx(t,s),ot(s,{validation:"uuid",code:$e.invalid_string,message:u.message}),n.dirty());else if(u.kind==="nanoid")WD.test(t.data)||(s=this._getOrReturnCtx(t,s),ot(s,{validation:"nanoid",code:$e.invalid_string,message:u.message}),n.dirty());else if(u.kind==="cuid")zD.test(t.data)||(s=this._getOrReturnCtx(t,s),ot(s,{validation:"cuid",code:$e.invalid_string,message:u.message}),n.dirty());else if(u.kind==="cuid2")GD.test(t.data)||(s=this._getOrReturnCtx(t,s),ot(s,{validation:"cuid2",code:$e.invalid_string,message:u.message}),n.dirty());else if(u.kind==="ulid")VD.test(t.data)||(s=this._getOrReturnCtx(t,s),ot(s,{validation:"ulid",code:$e.invalid_string,message:u.message}),n.dirty());else if(u.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),ot(s,{validation:"url",code:$e.invalid_string,message:u.message}),n.dirty()}else u.kind==="regex"?(u.regex.lastIndex=0,u.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),ot(s,{validation:"regex",code:$e.invalid_string,message:u.message}),n.dirty())):u.kind==="trim"?t.data=t.data.trim():u.kind==="includes"?t.data.includes(u.value,u.position)||(s=this._getOrReturnCtx(t,s),ot(s,{code:$e.invalid_string,validation:{includes:u.value,position:u.position},message:u.message}),n.dirty()):u.kind==="toLowerCase"?t.data=t.data.toLowerCase():u.kind==="toUpperCase"?t.data=t.data.toUpperCase():u.kind==="startsWith"?t.data.startsWith(u.value)||(s=this._getOrReturnCtx(t,s),ot(s,{code:$e.invalid_string,validation:{startsWith:u.value},message:u.message}),n.dirty()):u.kind==="endsWith"?t.data.endsWith(u.value)||(s=this._getOrReturnCtx(t,s),ot(s,{code:$e.invalid_string,validation:{endsWith:u.value},message:u.message}),n.dirty()):u.kind==="datetime"?Ob(u).test(t.data)||(s=this._getOrReturnCtx(t,s),ot(s,{code:$e.invalid_string,validation:"datetime",message:u.message}),n.dirty()):u.kind==="date"?oC.test(t.data)||(s=this._getOrReturnCtx(t,s),ot(s,{code:$e.invalid_string,validation:"date",message:u.message}),n.dirty()):u.kind==="time"?sC(u).test(t.data)||(s=this._getOrReturnCtx(t,s),ot(s,{code:$e.invalid_string,validation:"time",message:u.message}),n.dirty()):u.kind==="duration"?ZD.test(t.data)||(s=this._getOrReturnCtx(t,s),ot(s,{validation:"duration",code:$e.invalid_string,message:u.message}),n.dirty()):u.kind==="ip"?uC(t.data,u.version)||(s=this._getOrReturnCtx(t,s),ot(s,{validation:"ip",code:$e.invalid_string,message:u.message}),n.dirty()):u.kind==="jwt"?cC(t.data,u.alg)||(s=this._getOrReturnCtx(t,s),ot(s,{validation:"jwt",code:$e.invalid_string,message:u.message}),n.dirty()):u.kind==="cidr"?lC(t.data,u.version)||(s=this._getOrReturnCtx(t,s),ot(s,{validation:"cidr",code:$e.invalid_string,message:u.message}),n.dirty()):u.kind==="base64"?aC.test(t.data)||(s=this._getOrReturnCtx(t,s),ot(s,{validation:"base64",code:$e.invalid_string,message:u.message}),n.dirty()):u.kind==="base64url"?iC.test(t.data)||(s=this._getOrReturnCtx(t,s),ot(s,{validation:"base64url",code:$e.invalid_string,message:u.message}),n.dirty()):_n.assertNever(u);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(s=>t.test(s),{validation:r,code:$e.invalid_string,...Mt.errToObj(n)})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Mt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Mt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Mt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Mt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Mt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Mt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Mt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Mt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Mt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Mt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Mt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Mt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Mt.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...Mt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Mt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Mt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Mt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Mt.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Mt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Mt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Mt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Mt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Mt.errToObj(r)})}nonempty(t){return this.min(1,Mt.errToObj(t))}trim(){return new e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};_h.create=e=>{var t;return new _h({checks:[],typeName:He.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Fr(e)})};function fC(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,s=r>n?r:n,u=parseInt(e.toFixed(s).replace(".","")),h=parseInt(t.toFixed(s).replace(".",""));return u%h/Math.pow(10,s)}var Bh=class e extends Ur{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==wt.number){let u=this._getOrReturnCtx(t);return ot(u,{code:$e.invalid_type,expected:wt.number,received:u.parsedType}),yr}let n,s=new qu;for(let u of this._def.checks)u.kind==="int"?_n.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),ot(n,{code:$e.invalid_type,expected:"integer",received:"float",message:u.message}),s.dirty()):u.kind==="min"?(u.inclusive?t.data<u.value:t.data<=u.value)&&(n=this._getOrReturnCtx(t,n),ot(n,{code:$e.too_small,minimum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),s.dirty()):u.kind==="max"?(u.inclusive?t.data>u.value:t.data>=u.value)&&(n=this._getOrReturnCtx(t,n),ot(n,{code:$e.too_big,maximum:u.value,type:"number",inclusive:u.inclusive,exact:!1,message:u.message}),s.dirty()):u.kind==="multipleOf"?fC(t.data,u.value)!==0&&(n=this._getOrReturnCtx(t,n),ot(n,{code:$e.not_multiple_of,multipleOf:u.value,message:u.message}),s.dirty()):u.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),ot(n,{code:$e.not_finite,message:u.message}),s.dirty()):_n.assertNever(u);return{status:s.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Mt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Mt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Mt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Mt.toString(r))}setLimit(t,r,n,s){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Mt.toString(s)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Mt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Mt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Mt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Mt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Mt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Mt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Mt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Mt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Mt.toString(t)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&_n.isInteger(t.value))}get isFinite(){let t=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}};Bh.create=e=>new Bh({checks:[],typeName:He.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Fr(e)});var Hh=class e extends Ur{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==wt.bigint)return this._getInvalidInput(t);let n,s=new qu;for(let u of this._def.checks)u.kind==="min"?(u.inclusive?t.data<u.value:t.data<=u.value)&&(n=this._getOrReturnCtx(t,n),ot(n,{code:$e.too_small,type:"bigint",minimum:u.value,inclusive:u.inclusive,message:u.message}),s.dirty()):u.kind==="max"?(u.inclusive?t.data>u.value:t.data>=u.value)&&(n=this._getOrReturnCtx(t,n),ot(n,{code:$e.too_big,type:"bigint",maximum:u.value,inclusive:u.inclusive,message:u.message}),s.dirty()):u.kind==="multipleOf"?t.data%u.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),ot(n,{code:$e.not_multiple_of,multipleOf:u.value,message:u.message}),s.dirty()):_n.assertNever(u);return{status:s.value,value:t.data}}_getInvalidInput(t){let r=this._getOrReturnCtx(t);return ot(r,{code:$e.invalid_type,expected:wt.bigint,received:r.parsedType}),yr}gte(t,r){return this.setLimit("min",t,!0,Mt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Mt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Mt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Mt.toString(r))}setLimit(t,r,n,s){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Mt.toString(s)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Mt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Mt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Mt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Mt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Mt.toString(r)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};Hh.create=e=>{var t;return new Hh({checks:[],typeName:He.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Fr(e)})};var zh=class extends Ur{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==wt.boolean){let n=this._getOrReturnCtx(t);return ot(n,{code:$e.invalid_type,expected:wt.boolean,received:n.parsedType}),yr}return Oc(t.data)}};zh.create=e=>new zh({typeName:He.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Fr(e)});var Gh=class e extends Ur{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==wt.date){let u=this._getOrReturnCtx(t);return ot(u,{code:$e.invalid_type,expected:wt.date,received:u.parsedType}),yr}if(isNaN(t.data.getTime())){let u=this._getOrReturnCtx(t);return ot(u,{code:$e.invalid_date}),yr}let n=new qu,s;for(let u of this._def.checks)u.kind==="min"?t.data.getTime()<u.value&&(s=this._getOrReturnCtx(t,s),ot(s,{code:$e.too_small,message:u.message,inclusive:!0,exact:!1,minimum:u.value,type:"date"}),n.dirty()):u.kind==="max"?t.data.getTime()>u.value&&(s=this._getOrReturnCtx(t,s),ot(s,{code:$e.too_big,message:u.message,inclusive:!0,exact:!1,maximum:u.value,type:"date"}),n.dirty()):_n.assertNever(u);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Mt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Mt.toString(r)})}get minDate(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}};Gh.create=e=>new Gh({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:He.ZodDate,...Fr(e)});var D_=class extends Ur{_parse(t){if(this._getType(t)!==wt.symbol){let n=this._getOrReturnCtx(t);return ot(n,{code:$e.invalid_type,expected:wt.symbol,received:n.parsedType}),yr}return Oc(t.data)}};D_.create=e=>new D_({typeName:He.ZodSymbol,...Fr(e)});var Vh=class extends Ur{_parse(t){if(this._getType(t)!==wt.undefined){let n=this._getOrReturnCtx(t);return ot(n,{code:$e.invalid_type,expected:wt.undefined,received:n.parsedType}),yr}return Oc(t.data)}};Vh.create=e=>new Vh({typeName:He.ZodUndefined,...Fr(e)});var Kh=class extends Ur{_parse(t){if(this._getType(t)!==wt.null){let n=this._getOrReturnCtx(t);return ot(n,{code:$e.invalid_type,expected:wt.null,received:n.parsedType}),yr}return Oc(t.data)}};Kh.create=e=>new Kh({typeName:He.ZodNull,...Fr(e)});var gh=class extends Ur{constructor(){super(...arguments),this._any=!0}_parse(t){return Oc(t.data)}};gh.create=e=>new gh({typeName:He.ZodAny,...Fr(e)});var Lm=class extends Ur{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Oc(t.data)}};Lm.create=e=>new Lm({typeName:He.ZodUnknown,...Fr(e)});var Bp=class extends Ur{_parse(t){let r=this._getOrReturnCtx(t);return ot(r,{code:$e.invalid_type,expected:wt.never,received:r.parsedType}),yr}};Bp.create=e=>new Bp({typeName:He.ZodNever,...Fr(e)});var C_=class extends Ur{_parse(t){if(this._getType(t)!==wt.undefined){let n=this._getOrReturnCtx(t);return ot(n,{code:$e.invalid_type,expected:wt.void,received:n.parsedType}),yr}return Oc(t.data)}};C_.create=e=>new C_({typeName:He.ZodVoid,...Fr(e)});var Fm=class e extends Ur{_parse(t){let{ctx:r,status:n}=this._processInputParams(t),s=this._def;if(r.parsedType!==wt.array)return ot(r,{code:$e.invalid_type,expected:wt.array,received:r.parsedType}),yr;if(s.exactLength!==null){let h=r.data.length>s.exactLength.value,S=r.data.length<s.exactLength.value;(h||S)&&(ot(r,{code:h?$e.too_big:$e.too_small,minimum:S?s.exactLength.value:void 0,maximum:h?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),n.dirty())}if(s.minLength!==null&&r.data.length<s.minLength.value&&(ot(r,{code:$e.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),n.dirty()),s.maxLength!==null&&r.data.length>s.maxLength.value&&(ot(r,{code:$e.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((h,S)=>s.type._parseAsync(new jd(r,h,r.path,S)))).then(h=>qu.mergeArray(n,h));let u=[...r.data].map((h,S)=>s.type._parseSync(new jd(r,h,r.path,S)));return qu.mergeArray(n,u)}get element(){return this._def.type}min(t,r){return new e({...this._def,minLength:{value:t,message:Mt.toString(r)}})}max(t,r){return new e({...this._def,maxLength:{value:t,message:Mt.toString(r)}})}length(t,r){return new e({...this._def,exactLength:{value:t,message:Mt.toString(r)}})}nonempty(t){return this.min(1,t)}};Fm.create=(e,t)=>new Fm({type:e,minLength:null,maxLength:null,exactLength:null,typeName:He.ZodArray,...Fr(t)});function T_(e){if(e instanceof Rl){let t={};for(let r in e.shape){let n=e.shape[r];t[r]=Al.create(T_(n))}return new Rl({...e._def,shape:()=>t})}else return e instanceof Fm?new Fm({...e._def,type:T_(e.element)}):e instanceof Al?Al.create(T_(e.unwrap())):e instanceof $v?$v.create(T_(e.unwrap())):e instanceof Yv?Yv.create(e.items.map(t=>T_(t))):e}var Rl=class e extends Ur{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let t=this._def.shape(),r=_n.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==wt.object){let C=this._getOrReturnCtx(t);return ot(C,{code:$e.invalid_type,expected:wt.object,received:C.parsedType}),yr}let{status:n,ctx:s}=this._processInputParams(t),{shape:u,keys:h}=this._getCached(),S=[];if(!(this._def.catchall instanceof Bp&&this._def.unknownKeys==="strip"))for(let C in s.data)h.includes(C)||S.push(C);let I=[];for(let C of h){let F=u[C],H=s.data[C];I.push({key:{status:"valid",value:C},value:F._parse(new jd(s,H,s.path,C)),alwaysSet:C in s.data})}if(this._def.catchall instanceof Bp){let C=this._def.unknownKeys;if(C==="passthrough")for(let F of S)I.push({key:{status:"valid",value:F},value:{status:"valid",value:s.data[F]}});else if(C==="strict")S.length>0&&(ot(s,{code:$e.unrecognized_keys,keys:S}),n.dirty());else if(C!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let C=this._def.catchall;for(let F of S){let H=s.data[F];I.push({key:{status:"valid",value:F},value:C._parse(new jd(s,H,s.path,F)),alwaysSet:F in s.data})}}return s.common.async?Promise.resolve().then(async()=>{let C=[];for(let F of I){let H=await F.key,ne=await F.value;C.push({key:H,value:ne,alwaysSet:F.alwaysSet})}return C}).then(C=>qu.mergeObjectSync(n,C)):qu.mergeObjectSync(n,I)}get shape(){return this._def.shape()}strict(t){return Mt.errToObj,new e({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var s,u,h,S;let I=(h=(u=(s=this._def).errorMap)===null||u===void 0?void 0:u.call(s,r,n).message)!==null&&h!==void 0?h:n.defaultError;return r.code==="unrecognized_keys"?{message:(S=Mt.errToObj(t).message)!==null&&S!==void 0?S:I}:{message:I}}}:{}})}strip(){return new e({...this._def,unknownKeys:"strip"})}passthrough(){return new e({...this._def,unknownKeys:"passthrough"})}extend(t){return new e({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:He.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new e({...this._def,catchall:t})}pick(t){let r={};return _n.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new e({...this._def,shape:()=>r})}omit(t){let r={};return _n.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new e({...this._def,shape:()=>r})}deepPartial(){return T_(this)}partial(t){let r={};return _n.objectKeys(this.shape).forEach(n=>{let s=this.shape[n];t&&!t[n]?r[n]=s:r[n]=s.optional()}),new e({...this._def,shape:()=>r})}required(t){let r={};return _n.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let u=this.shape[n];for(;u instanceof Al;)u=u._def.innerType;r[n]=u}}),new e({...this._def,shape:()=>r})}keyof(){return Mb(_n.objectKeys(this.shape))}};Rl.create=(e,t)=>new Rl({shape:()=>e,unknownKeys:"strip",catchall:Bp.create(),typeName:He.ZodObject,...Fr(t)});Rl.strictCreate=(e,t)=>new Rl({shape:()=>e,unknownKeys:"strict",catchall:Bp.create(),typeName:He.ZodObject,...Fr(t)});Rl.lazycreate=(e,t)=>new Rl({shape:e,unknownKeys:"strip",catchall:Bp.create(),typeName:He.ZodObject,...Fr(t)});var Wh=class extends Ur{_parse(t){let{ctx:r}=this._processInputParams(t),n=this._def.options;function s(u){for(let S of u)if(S.result.status==="valid")return S.result;for(let S of u)if(S.result.status==="dirty")return r.common.issues.push(...S.ctx.common.issues),S.result;let h=u.map(S=>new kc(S.ctx.common.issues));return ot(r,{code:$e.invalid_union,unionErrors:h}),yr}if(r.common.async)return Promise.all(n.map(async u=>{let h={...r,common:{...r.common,issues:[]},parent:null};return{result:await u._parseAsync({data:r.data,path:r.path,parent:h}),ctx:h}})).then(s);{let u,h=[];for(let I of n){let C={...r,common:{...r.common,issues:[]},parent:null},F=I._parseSync({data:r.data,path:r.path,parent:C});if(F.status==="valid")return F;F.status==="dirty"&&!u&&(u={result:F,ctx:C}),C.common.issues.length&&h.push(C.common.issues)}if(u)return r.common.issues.push(...u.ctx.common.issues),u.result;let S=h.map(I=>new kc(I));return ot(r,{code:$e.invalid_union,unionErrors:S}),yr}}get options(){return this._def.options}};Wh.create=(e,t)=>new Wh({options:e,typeName:He.ZodUnion,...Fr(t)});var Om=e=>e instanceof Zh?Om(e.schema):e instanceof kf?Om(e.innerType()):e instanceof Xh?[e.value]:e instanceof Qh?e.options:e instanceof e_?_n.objectValues(e.enum):e instanceof t_?Om(e._def.innerType):e instanceof Vh?[void 0]:e instanceof Kh?[null]:e instanceof Al?[void 0,...Om(e.unwrap())]:e instanceof $v?[null,...Om(e.unwrap())]:e instanceof ug||e instanceof n_?Om(e.unwrap()):e instanceof r_?Om(e._def.innerType):[],gy=class e extends Ur{_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==wt.object)return ot(r,{code:$e.invalid_type,expected:wt.object,received:r.parsedType}),yr;let n=this.discriminator,s=r.data[n],u=this.optionsMap.get(s);return u?r.common.async?u._parseAsync({data:r.data,path:r.path,parent:r}):u._parseSync({data:r.data,path:r.path,parent:r}):(ot(r,{code:$e.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),yr)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){let s=new Map;for(let u of r){let h=Om(u.shape[t]);if(!h.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let S of h){if(s.has(S))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(S)}`);s.set(S,u)}}return new e({typeName:He.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:s,...Fr(n)})}};function F0(e,t){let r=Mm(e),n=Mm(t);if(e===t)return{valid:!0,data:e};if(r===wt.object&&n===wt.object){let s=_n.objectKeys(t),u=_n.objectKeys(e).filter(S=>s.indexOf(S)!==-1),h={...e,...t};for(let S of u){let I=F0(e[S],t[S]);if(!I.valid)return{valid:!1};h[S]=I.data}return{valid:!0,data:h}}else if(r===wt.array&&n===wt.array){if(e.length!==t.length)return{valid:!1};let s=[];for(let u=0;u<e.length;u++){let h=e[u],S=t[u],I=F0(h,S);if(!I.valid)return{valid:!1};s.push(I.data)}return{valid:!0,data:s}}else return r===wt.date&&n===wt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}var Jh=class extends Ur{_parse(t){let{status:r,ctx:n}=this._processInputParams(t),s=(u,h)=>{if(M0(u)||M0(h))return yr;let S=F0(u.value,h.value);return S.valid?((L0(u)||L0(h))&&r.dirty(),{status:r.value,value:S.data}):(ot(n,{code:$e.invalid_intersection_types}),yr)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([u,h])=>s(u,h)):s(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};Jh.create=(e,t,r)=>new Jh({left:e,right:t,typeName:He.ZodIntersection,...Fr(r)});var Yv=class e extends Ur{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==wt.array)return ot(n,{code:$e.invalid_type,expected:wt.array,received:n.parsedType}),yr;if(n.data.length<this._def.items.length)return ot(n,{code:$e.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),yr;!this._def.rest&&n.data.length>this._def.items.length&&(ot(n,{code:$e.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let u=[...n.data].map((h,S)=>{let I=this._def.items[S]||this._def.rest;return I?I._parse(new jd(n,h,n.path,S)):null}).filter(h=>!!h);return n.common.async?Promise.all(u).then(h=>qu.mergeArray(r,h)):qu.mergeArray(r,u)}get items(){return this._def.items}rest(t){return new e({...this._def,rest:t})}};Yv.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Yv({items:e,typeName:He.ZodTuple,rest:null,...Fr(t)})};var yy=class e extends Ur{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==wt.object)return ot(n,{code:$e.invalid_type,expected:wt.object,received:n.parsedType}),yr;let s=[],u=this._def.keyType,h=this._def.valueType;for(let S in n.data)s.push({key:u._parse(new jd(n,S,n.path,S)),value:h._parse(new jd(n,n.data[S],n.path,S)),alwaysSet:S in n.data});return n.common.async?qu.mergeObjectAsync(r,s):qu.mergeObjectSync(r,s)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Ur?new e({keyType:t,valueType:r,typeName:He.ZodRecord,...Fr(n)}):new e({keyType:_h.create(),valueType:t,typeName:He.ZodRecord,...Fr(r)})}},x_=class extends Ur{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==wt.map)return ot(n,{code:$e.invalid_type,expected:wt.map,received:n.parsedType}),yr;let s=this._def.keyType,u=this._def.valueType,h=[...n.data.entries()].map(([S,I],C)=>({key:s._parse(new jd(n,S,n.path,[C,"key"])),value:u._parse(new jd(n,I,n.path,[C,"value"]))}));if(n.common.async){let S=new Map;return Promise.resolve().then(async()=>{for(let I of h){let C=await I.key,F=await I.value;if(C.status==="aborted"||F.status==="aborted")return yr;(C.status==="dirty"||F.status==="dirty")&&r.dirty(),S.set(C.value,F.value)}return{status:r.value,value:S}})}else{let S=new Map;for(let I of h){let C=I.key,F=I.value;if(C.status==="aborted"||F.status==="aborted")return yr;(C.status==="dirty"||F.status==="dirty")&&r.dirty(),S.set(C.value,F.value)}return{status:r.value,value:S}}}};x_.create=(e,t,r)=>new x_({valueType:t,keyType:e,typeName:He.ZodMap,...Fr(r)});var P_=class e extends Ur{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==wt.set)return ot(n,{code:$e.invalid_type,expected:wt.set,received:n.parsedType}),yr;let s=this._def;s.minSize!==null&&n.data.size<s.minSize.value&&(ot(n,{code:$e.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),r.dirty()),s.maxSize!==null&&n.data.size>s.maxSize.value&&(ot(n,{code:$e.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),r.dirty());let u=this._def.valueType;function h(I){let C=new Set;for(let F of I){if(F.status==="aborted")return yr;F.status==="dirty"&&r.dirty(),C.add(F.value)}return{status:r.value,value:C}}let S=[...n.data.values()].map((I,C)=>u._parse(new jd(n,I,n.path,C)));return n.common.async?Promise.all(S).then(I=>h(I)):h(S)}min(t,r){return new e({...this._def,minSize:{value:t,message:Mt.toString(r)}})}max(t,r){return new e({...this._def,maxSize:{value:t,message:Mt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}};P_.create=(e,t)=>new P_({valueType:e,minSize:null,maxSize:null,typeName:He.ZodSet,...Fr(t)});var Sy=class e extends Ur{constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==wt.function)return ot(r,{code:$e.invalid_type,expected:wt.function,received:r.parsedType}),yr;function n(S,I){return hy({data:S,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,my(),N_].filter(C=>!!C),issueData:{code:$e.invalid_arguments,argumentsError:I}})}function s(S,I){return hy({data:S,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,my(),N_].filter(C=>!!C),issueData:{code:$e.invalid_return_type,returnTypeError:I}})}let u={errorMap:r.common.contextualErrorMap},h=r.data;if(this._def.returns instanceof yh){let S=this;return Oc(async function(...I){let C=new kc([]),F=await S._def.args.parseAsync(I,u).catch(fe=>{throw C.addIssue(n(I,fe)),C}),H=await Reflect.apply(h,this,F);return await S._def.returns._def.type.parseAsync(H,u).catch(fe=>{throw C.addIssue(s(H,fe)),C})})}else{let S=this;return Oc(function(...I){let C=S._def.args.safeParse(I,u);if(!C.success)throw new kc([n(I,C.error)]);let F=Reflect.apply(h,this,C.data),H=S._def.returns.safeParse(F,u);if(!H.success)throw new kc([s(F,H.error)]);return H.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new e({...this._def,args:Yv.create(t).rest(Lm.create())})}returns(t){return new e({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new e({args:t||Yv.create([]).rest(Lm.create()),returns:r||Lm.create(),typeName:He.ZodFunction,...Fr(n)})}},Zh=class extends Ur{get schema(){return this._def.getter()}_parse(t){let{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};Zh.create=(e,t)=>new Zh({getter:e,typeName:He.ZodLazy,...Fr(t)});var Xh=class extends Ur{_parse(t){if(t.data!==this._def.value){let r=this._getOrReturnCtx(t);return ot(r,{received:r.data,code:$e.invalid_literal,expected:this._def.value}),yr}return{status:"valid",value:t.data}}get value(){return this._def.value}};Xh.create=(e,t)=>new Xh({value:e,typeName:He.ZodLiteral,...Fr(t)});function Mb(e,t){return new Qh({values:e,typeName:He.ZodEnum,...Fr(t)})}var Qh=class e extends Ur{constructor(){super(...arguments),ig.set(this,void 0)}_parse(t){if(typeof t.data!="string"){let r=this._getOrReturnCtx(t),n=this._def.values;return ot(r,{expected:_n.joinValues(n),received:r.parsedType,code:$e.invalid_type}),yr}if(_y(this,ig,"f")||Ab(this,ig,new Set(this._def.values),"f"),!_y(this,ig,"f").has(t.data)){let r=this._getOrReturnCtx(t),n=this._def.values;return ot(r,{received:r.data,code:$e.invalid_enum_value,options:n}),yr}return Oc(t.data)}get options(){return this._def.values}get enum(){let t={};for(let r of this._def.values)t[r]=r;return t}get Values(){let t={};for(let r of this._def.values)t[r]=r;return t}get Enum(){let t={};for(let r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return e.create(t,{...this._def,...r})}exclude(t,r=this._def){return e.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}};ig=new WeakMap;Qh.create=Mb;var e_=class extends Ur{constructor(){super(...arguments),og.set(this,void 0)}_parse(t){let r=_n.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==wt.string&&n.parsedType!==wt.number){let s=_n.objectValues(r);return ot(n,{expected:_n.joinValues(s),received:n.parsedType,code:$e.invalid_type}),yr}if(_y(this,og,"f")||Ab(this,og,new Set(_n.getValidEnumValues(this._def.values)),"f"),!_y(this,og,"f").has(t.data)){let s=_n.objectValues(r);return ot(n,{received:n.data,code:$e.invalid_enum_value,options:s}),yr}return Oc(t.data)}get enum(){return this._def.values}};og=new WeakMap;e_.create=(e,t)=>new e_({values:e,typeName:He.ZodNativeEnum,...Fr(t)});var yh=class extends Ur{unwrap(){return this._def.type}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==wt.promise&&r.common.async===!1)return ot(r,{code:$e.invalid_type,expected:wt.promise,received:r.parsedType}),yr;let n=r.parsedType===wt.promise?r.data:Promise.resolve(r.data);return Oc(n.then(s=>this._def.type.parseAsync(s,{path:r.path,errorMap:r.common.contextualErrorMap})))}};yh.create=(e,t)=>new yh({type:e,typeName:He.ZodPromise,...Fr(t)});var kf=class extends Ur{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===He.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:r,ctx:n}=this._processInputParams(t),s=this._def.effect||null,u={addIssue:h=>{ot(n,h),h.fatal?r.abort():r.dirty()},get path(){return n.path}};if(u.addIssue=u.addIssue.bind(u),s.type==="preprocess"){let h=s.transform(n.data,u);if(n.common.async)return Promise.resolve(h).then(async S=>{if(r.value==="aborted")return yr;let I=await this._def.schema._parseAsync({data:S,path:n.path,parent:n});return I.status==="aborted"?yr:I.status==="dirty"||r.value==="dirty"?I_(I.value):I});{if(r.value==="aborted")return yr;let S=this._def.schema._parseSync({data:h,path:n.path,parent:n});return S.status==="aborted"?yr:S.status==="dirty"||r.value==="dirty"?I_(S.value):S}}if(s.type==="refinement"){let h=S=>{let I=s.refinement(S,u);if(n.common.async)return Promise.resolve(I);if(I instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return S};if(n.common.async===!1){let S=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return S.status==="aborted"?yr:(S.status==="dirty"&&r.dirty(),h(S.value),{status:r.value,value:S.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(S=>S.status==="aborted"?yr:(S.status==="dirty"&&r.dirty(),h(S.value).then(()=>({status:r.value,value:S.value}))))}if(s.type==="transform")if(n.common.async===!1){let h=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!qh(h))return h;let S=s.transform(h.value,u);if(S instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:S}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(h=>qh(h)?Promise.resolve(s.transform(h.value,u)).then(S=>({status:r.value,value:S})):h);_n.assertNever(s)}};kf.create=(e,t,r)=>new kf({schema:e,typeName:He.ZodEffects,effect:t,...Fr(r)});kf.createWithPreprocess=(e,t,r)=>new kf({schema:t,effect:{type:"preprocess",transform:e},typeName:He.ZodEffects,...Fr(r)});var Al=class extends Ur{_parse(t){return this._getType(t)===wt.undefined?Oc(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};Al.create=(e,t)=>new Al({innerType:e,typeName:He.ZodOptional,...Fr(t)});var $v=class extends Ur{_parse(t){return this._getType(t)===wt.null?Oc(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};$v.create=(e,t)=>new $v({innerType:e,typeName:He.ZodNullable,...Fr(t)});var t_=class extends Ur{_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return r.parsedType===wt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};t_.create=(e,t)=>new t_({innerType:e,typeName:He.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Fr(t)});var r_=class extends Ur{_parse(t){let{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},s=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return sg(s)?s.then(u=>({status:"valid",value:u.status==="valid"?u.value:this._def.catchValue({get error(){return new kc(n.common.issues)},input:n.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new kc(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};r_.create=(e,t)=>new r_({innerType:e,typeName:He.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Fr(t)});var A_=class extends Ur{_parse(t){if(this._getType(t)!==wt.nan){let n=this._getOrReturnCtx(t);return ot(n,{code:$e.invalid_type,expected:wt.nan,received:n.parsedType}),yr}return{status:"valid",value:t.data}}};A_.create=e=>new A_({typeName:He.ZodNaN,...Fr(e)});var dC=Symbol("zod_brand"),ug=class extends Ur{_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},cg=class e extends Ur{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{let u=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return u.status==="aborted"?yr:u.status==="dirty"?(r.dirty(),I_(u.value)):this._def.out._parseAsync({data:u.value,path:n.path,parent:n})})();{let s=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?yr:s.status==="dirty"?(r.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:n.path,parent:n})}}static create(t,r){return new e({in:t,out:r,typeName:He.ZodPipeline})}},n_=class extends Ur{_parse(t){let r=this._def.innerType._parse(t),n=s=>(qh(s)&&(s.value=Object.freeze(s.value)),s);return sg(r)?r.then(s=>n(s)):n(r)}unwrap(){return this._def.innerType}};n_.create=(e,t)=>new n_({innerType:e,typeName:He.ZodReadonly,...Fr(t)});function Lb(e,t={},r){return e?gh.create().superRefine((n,s)=>{var u,h;if(!e(n)){let S=typeof t=="function"?t(n):typeof t=="string"?{message:t}:t,I=(h=(u=S.fatal)!==null&&u!==void 0?u:r)!==null&&h!==void 0?h:!0,C=typeof S=="string"?{message:S}:S;s.addIssue({code:"custom",...C,fatal:I})}}):gh.create()}var pC={object:Rl.lazycreate},He;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(He||(He={}));var vC=(e,t={message:`Input not instance of ${e.name}`})=>Lb(r=>r instanceof e,t),Fb=_h.create,Ub=Bh.create,mC=A_.create,hC=Hh.create,jb=zh.create,_C=Gh.create,gC=D_.create,yC=Vh.create,SC=Kh.create,wC=gh.create,bC=Lm.create,EC=Bp.create,TC=C_.create,IC=Fm.create,NC=Rl.create,DC=Rl.strictCreate,CC=Wh.create,xC=gy.create,PC=Jh.create,AC=Yv.create,RC=yy.create,kC=x_.create,OC=P_.create,MC=Sy.create,LC=Zh.create,FC=Xh.create,UC=Qh.create,jC=e_.create,YC=yh.create,xb=kf.create,$C=Al.create,qC=$v.create,BC=kf.createWithPreprocess,HC=cg.create,zC=()=>Fb().optional(),GC=()=>Ub().optional(),VC=()=>jb().optional(),KC={string:e=>_h.create({...e,coerce:!0}),number:e=>Bh.create({...e,coerce:!0}),boolean:e=>zh.create({...e,coerce:!0}),bigint:e=>Hh.create({...e,coerce:!0}),date:e=>Gh.create({...e,coerce:!0})},WC=yr,O=Object.freeze({__proto__:null,defaultErrorMap:N_,setErrorMap:BD,getErrorMap:my,makeIssue:hy,EMPTY_PATH:HD,addIssueToContext:ot,ParseStatus:qu,INVALID:yr,DIRTY:I_,OK:Oc,isAborted:M0,isDirty:L0,isValid:qh,isAsync:sg,get util(){return _n},get objectUtil(){return O0},ZodParsedType:wt,getParsedType:Mm,ZodType:Ur,datetimeRegex:Ob,ZodString:_h,ZodNumber:Bh,ZodBigInt:Hh,ZodBoolean:zh,ZodDate:Gh,ZodSymbol:D_,ZodUndefined:Vh,ZodNull:Kh,ZodAny:gh,ZodUnknown:Lm,ZodNever:Bp,ZodVoid:C_,ZodArray:Fm,ZodObject:Rl,ZodUnion:Wh,ZodDiscriminatedUnion:gy,ZodIntersection:Jh,ZodTuple:Yv,ZodRecord:yy,ZodMap:x_,ZodSet:P_,ZodFunction:Sy,ZodLazy:Zh,ZodLiteral:Xh,ZodEnum:Qh,ZodNativeEnum:e_,ZodPromise:yh,ZodEffects:kf,ZodTransformer:kf,ZodOptional:Al,ZodNullable:$v,ZodDefault:t_,ZodCatch:r_,ZodNaN:A_,BRAND:dC,ZodBranded:ug,ZodPipeline:cg,ZodReadonly:n_,custom:Lb,Schema:Ur,ZodSchema:Ur,late:pC,get ZodFirstPartyTypeKind(){return He},coerce:KC,any:wC,array:IC,bigint:hC,boolean:jb,date:_C,discriminatedUnion:xC,effect:xb,enum:UC,function:MC,instanceof:vC,intersection:PC,lazy:LC,literal:FC,map:kC,nan:mC,nativeEnum:jC,never:EC,null:SC,nullable:qC,number:Ub,object:NC,oboolean:VC,onumber:GC,optional:$C,ostring:zC,pipeline:HC,preprocess:BC,promise:YC,record:RC,set:OC,strictObject:DC,string:Fb,symbol:gC,transformer:xb,tuple:AC,undefined:yC,union:CC,unknown:bC,void:TC,NEVER:WC,ZodIssueCode:$e,quotelessJson:qD,ZodError:kc});var JC=O.object({type:O.literal("error"),error:O.object({type:O.string(),message:O.string()})}),Yb=py({errorSchema:JC,errorToMessage:e=>e.error.message});function ZC({prompt:e}){var t,r,n,s;let u=new Set,h=XC(e),S,I=[];function C(F){var H;let ne=F==null?void 0:F.anthropic;return(H=ne==null?void 0:ne.cacheControl)!=null?H:ne==null?void 0:ne.cache_control}for(let F=0;F<h.length;F++){let H=h[F],ne=F===h.length-1,fe=H.type;switch(fe){case"system":{if(S!=null)throw new Zn({functionality:"Multiple system messages that are separated by user/assistant messages"});S=H.messages.map(({content:ie,providerMetadata:Q})=>({type:"text",text:ie,cache_control:C(Q)}));break}case"user":{let ie=[];for(let Q of H.messages){let{role:re,content:le}=Q;switch(re){case"user":{for(let he=0;he<le.length;he++){let je=le[he],Ee=he===le.length-1,ze=(t=C(je.providerMetadata))!=null?t:Ee?C(Q.providerMetadata):void 0;switch(je.type){case"text":{ie.push({type:"text",text:je.text,cache_control:ze});break}case"image":{if(je.image instanceof URL)throw new Zn({functionality:"Image URLs in user messages"});ie.push({type:"image",source:{type:"base64",media_type:(r=je.mimeType)!=null?r:"image/jpeg",data:$h(je.image)},cache_control:ze});break}case"file":{if(je.data instanceof URL)throw new Zn({functionality:"Image URLs in user messages"});if(je.mimeType!=="application/pdf")throw new Zn({functionality:"Non-PDF files in user messages"});u.add("pdfs-2024-09-25"),ie.push({type:"document",source:{type:"base64",media_type:"application/pdf",data:je.data},cache_control:ze});break}}}break}case"tool":{for(let he=0;he<le.length;he++){let je=le[he],Ee=he===le.length-1,ze=(n=C(je.providerMetadata))!=null?n:Ee?C(Q.providerMetadata):void 0,_t=je.content!=null?je.content.map(at=>{var Dt;switch(at.type){case"text":return{type:"text",text:at.text,cache_control:void 0};case"image":return{type:"image",source:{type:"base64",media_type:(Dt=at.mimeType)!=null?Dt:"image/jpeg",data:at.data},cache_control:void 0}}}):JSON.stringify(je.result);ie.push({type:"tool_result",tool_use_id:je.toolCallId,content:_t,is_error:je.isError,cache_control:ze})}break}default:{let he=re;throw new Error(`Unsupported role: ${he}`)}}}I.push({role:"user",content:ie});break}case"assistant":{let ie=[];for(let Q=0;Q<H.messages.length;Q++){let re=H.messages[Q],le=Q===H.messages.length-1,{content:he}=re;for(let je=0;je<he.length;je++){let Ee=he[je],ze=je===he.length-1,_t=(s=C(Ee.providerMetadata))!=null?s:ze?C(re.providerMetadata):void 0;switch(Ee.type){case"text":{ie.push({type:"text",text:ne&&le&&ze?Ee.text.trim():Ee.text,cache_control:_t});break}case"tool-call":{ie.push({type:"tool_use",id:Ee.toolCallId,name:Ee.toolName,input:Ee.args,cache_control:_t});break}}}}I.push({role:"assistant",content:ie});break}default:{let ie=fe;throw new Error(`Unsupported type: ${ie}`)}}}return{prompt:{system:S,messages:I},betas:u}}function XC(e){let t=[],r;for(let n of e){let{role:s}=n;switch(s){case"system":{(r==null?void 0:r.type)!=="system"&&(r={type:"system",messages:[]},t.push(r)),r.messages.push(n);break}case"assistant":{(r==null?void 0:r.type)!=="assistant"&&(r={type:"assistant",messages:[]},t.push(r)),r.messages.push(n);break}case"user":{(r==null?void 0:r.type)!=="user"&&(r={type:"user",messages:[]},t.push(r)),r.messages.push(n);break}case"tool":{(r==null?void 0:r.type)!=="user"&&(r={type:"user",messages:[]},t.push(r)),r.messages.push(n);break}default:{let u=s;throw new Error(`Unsupported role: ${u}`)}}}return t}function $b(e){switch(e){case"end_turn":case"stop_sequence":return"stop";case"tool_use":return"tool-calls";case"max_tokens":return"length";default:return"unknown"}}function QC(e){var t;let r=(t=e.tools)!=null&&t.length?e.tools:void 0,n=[],s=new Set;if(r==null)return{tools:void 0,tool_choice:void 0,toolWarnings:n,betas:s};let u=[];for(let I of r)switch(I.type){case"function":u.push({name:I.name,description:I.description,input_schema:I.parameters});break;case"provider-defined":switch(s.add("computer-use-2024-10-22"),I.id){case"anthropic.computer_20241022":u.push({name:I.name,type:"computer_20241022",display_width_px:I.args.displayWidthPx,display_height_px:I.args.displayHeightPx,display_number:I.args.displayNumber});break;case"anthropic.text_editor_20241022":u.push({name:I.name,type:"text_editor_20241022"});break;case"anthropic.bash_20241022":u.push({name:I.name,type:"bash_20241022"});break;default:n.push({type:"unsupported-tool",tool:I});break}break;default:n.push({type:"unsupported-tool",tool:I});break}let h=e.toolChoice;if(h==null)return{tools:u,tool_choice:void 0,toolWarnings:n,betas:s};let S=h.type;switch(S){case"auto":return{tools:u,tool_choice:{type:"auto"},toolWarnings:n,betas:s};case"required":return{tools:u,tool_choice:{type:"any"},toolWarnings:n,betas:s};case"none":return{tools:void 0,tool_choice:void 0,toolWarnings:n,betas:s};case"tool":return{tools:u,tool_choice:{type:"tool",name:h.toolName},toolWarnings:n,betas:s};default:{let I=S;throw new Zn({functionality:`Unsupported tool choice type: ${I}`})}}}var ex=class{constructor(e,t,r){this.specificationVersion="v1",this.defaultObjectGenerationMode="tool",this.supportsImageUrls=!1,this.modelId=e,this.settings=t,this.config=r}get provider(){return this.config.provider}async getArgs({mode:e,prompt:t,maxTokens:r,temperature:n,topP:s,topK:u,frequencyPenalty:h,presencePenalty:S,stopSequences:I,responseFormat:C,seed:F}){let H=e.type,ne=[];h!=null&&ne.push({type:"unsupported-setting",setting:"frequencyPenalty"}),S!=null&&ne.push({type:"unsupported-setting",setting:"presencePenalty"}),F!=null&&ne.push({type:"unsupported-setting",setting:"seed"}),C!=null&&C.type!=="text"&&ne.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});let{prompt:fe,betas:ie}=ZC({prompt:t}),Q={model:this.modelId,max_tokens:r??4096,temperature:n,top_k:u,top_p:s,stop_sequences:I,system:fe.system,messages:fe.messages};switch(H){case"regular":{let{tools:re,tool_choice:le,toolWarnings:he,betas:je}=QC(e);return{args:{...Q,tools:re,tool_choice:le},warnings:[...ne,...he],betas:new Set([...ie,...je])}}case"object-json":throw new Zn({functionality:"json-mode object generation"});case"object-tool":{let{name:re,description:le,parameters:he}=e.tool;return{args:{...Q,tools:[{name:re,description:le,input_schema:he}],tool_choice:{type:"tool",name:re}},warnings:ne,betas:ie}}default:{let re=H;throw new Error(`Unsupported type: ${re}`)}}}async getHeaders({betas:e,headers:t}){return Ud(await Nb(this.config.headers),e.size>0?{"anthropic-beta":Array.from(e).join(",")}:{},t)}buildRequestUrl(e){var t,r,n;return(n=(r=(t=this.config).buildRequestUrl)==null?void 0:r.call(t,this.config.baseURL,e))!=null?n:`${this.config.baseURL}/messages`}transformRequestBody(e){var t,r,n;return(n=(r=(t=this.config).transformRequestBody)==null?void 0:r.call(t,e))!=null?n:e}async doGenerate(e){var t,r,n,s;let{args:u,warnings:h,betas:S}=await this.getArgs(e),{responseHeaders:I,value:C}=await Rf({url:this.buildRequestUrl(!1),headers:await this.getHeaders({betas:S,headers:e.headers}),body:this.transformRequestBody(u),failedResponseHandler:Yb,successfulResponseHandler:jv(tx),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:F,...H}=u,ne="";for(let ie of C.content)ie.type==="text"&&(ne+=ie.text);let fe;if(C.content.some(ie=>ie.type==="tool_use")){fe=[];for(let ie of C.content)ie.type==="tool_use"&&fe.push({toolCallType:"function",toolCallId:ie.id,toolName:ie.name,args:JSON.stringify(ie.input)})}return{text:ne,toolCalls:fe,finishReason:$b(C.stop_reason),usage:{promptTokens:C.usage.input_tokens,completionTokens:C.usage.output_tokens},rawCall:{rawPrompt:F,rawSettings:H},rawResponse:{headers:I},response:{id:(t=C.id)!=null?t:void 0,modelId:(r=C.model)!=null?r:void 0},warnings:h,providerMetadata:{anthropic:{cacheCreationInputTokens:(n=C.usage.cache_creation_input_tokens)!=null?n:null,cacheReadInputTokens:(s=C.usage.cache_read_input_tokens)!=null?s:null}},request:{body:JSON.stringify(u)}}}async doStream(e){let{args:t,warnings:r,betas:n}=await this.getArgs(e),s={...t,stream:!0},{responseHeaders:u,value:h}=await Rf({url:this.buildRequestUrl(!0),headers:await this.getHeaders({betas:n,headers:e.headers}),body:this.transformRequestBody(s),failedResponseHandler:Yb,successfulResponseHandler:E_(rx),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:S,...I}=t,C="unknown",F={promptTokens:Number.NaN,completionTokens:Number.NaN},H={},ne,fe=this;return{stream:h.pipeThrough(new TransformStream({transform(ie,Q){var re,le,he,je;if(!ie.success){Q.enqueue({type:"error",error:ie.error});return}let Ee=ie.value;switch(Ee.type){case"ping":return;case"content_block_start":{let ze=Ee.content_block.type;switch(ze){case"text":return;case"tool_use":{H[Ee.index]={toolCallId:Ee.content_block.id,toolName:Ee.content_block.name,jsonText:""};return}default:{let _t=ze;throw new Error(`Unsupported content block type: ${_t}`)}}}case"content_block_stop":{if(H[Ee.index]!=null){let ze=H[Ee.index];Q.enqueue({type:"tool-call",toolCallType:"function",toolCallId:ze.toolCallId,toolName:ze.toolName,args:ze.jsonText}),delete H[Ee.index]}return}case"content_block_delta":{let ze=Ee.delta.type;switch(ze){case"text_delta":{Q.enqueue({type:"text-delta",textDelta:Ee.delta.text});return}case"input_json_delta":{let _t=H[Ee.index];Q.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:_t.toolCallId,toolName:_t.toolName,argsTextDelta:Ee.delta.partial_json}),_t.jsonText+=Ee.delta.partial_json;return}default:{let _t=ze;throw new Error(`Unsupported delta type: ${_t}`)}}}case"message_start":{F.promptTokens=Ee.message.usage.input_tokens,F.completionTokens=Ee.message.usage.output_tokens,ne={anthropic:{cacheCreationInputTokens:(re=Ee.message.usage.cache_creation_input_tokens)!=null?re:null,cacheReadInputTokens:(le=Ee.message.usage.cache_read_input_tokens)!=null?le:null}},Q.enqueue({type:"response-metadata",id:(he=Ee.message.id)!=null?he:void 0,modelId:(je=Ee.message.model)!=null?je:void 0});return}case"message_delta":{F.completionTokens=Ee.usage.output_tokens,C=$b(Ee.delta.stop_reason);return}case"message_stop":{Q.enqueue({type:"finish",finishReason:C,usage:F,providerMetadata:ne});return}case"error":{Q.enqueue({type:"error",error:Ee.error});return}default:{let ze=Ee;throw new Error(`Unsupported chunk type: ${ze}`)}}}})),rawCall:{rawPrompt:S,rawSettings:I},rawResponse:{headers:u},warnings:r,request:{body:JSON.stringify(s)}}}},tx=O.object({type:O.literal("message"),id:O.string().nullish(),model:O.string().nullish(),content:O.array(O.discriminatedUnion("type",[O.object({type:O.literal("text"),text:O.string()}),O.object({type:O.literal("tool_use"),id:O.string(),name:O.string(),input:O.unknown()})])),stop_reason:O.string().nullish(),usage:O.object({input_tokens:O.number(),output_tokens:O.number(),cache_creation_input_tokens:O.number().nullish(),cache_read_input_tokens:O.number().nullish()})}),rx=O.discriminatedUnion("type",[O.object({type:O.literal("message_start"),message:O.object({id:O.string().nullish(),model:O.string().nullish(),usage:O.object({input_tokens:O.number(),output_tokens:O.number(),cache_creation_input_tokens:O.number().nullish(),cache_read_input_tokens:O.number().nullish()})})}),O.object({type:O.literal("content_block_start"),index:O.number(),content_block:O.discriminatedUnion("type",[O.object({type:O.literal("text"),text:O.string()}),O.object({type:O.literal("tool_use"),id:O.string(),name:O.string()})])}),O.object({type:O.literal("content_block_delta"),index:O.number(),delta:O.discriminatedUnion("type",[O.object({type:O.literal("input_json_delta"),partial_json:O.string()}),O.object({type:O.literal("text_delta"),text:O.string()})])}),O.object({type:O.literal("content_block_stop"),index:O.number()}),O.object({type:O.literal("error"),error:O.object({type:O.string(),message:O.string()})}),O.object({type:O.literal("message_delta"),delta:O.object({stop_reason:O.string().nullish()}),usage:O.object({output_tokens:O.number()})}),O.object({type:O.literal("message_stop")}),O.object({type:O.literal("ping")})]),nx=O.object({command:O.string(),restart:O.boolean().optional()});function ax(e={}){return{type:"provider-defined",id:"anthropic.bash_20241022",args:{},parameters:nx,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var ix=O.object({command:O.enum(["view","create","str_replace","insert","undo_edit"]),path:O.string(),file_text:O.string().optional(),insert_line:O.number().int().optional(),new_str:O.string().optional(),old_str:O.string().optional(),view_range:O.array(O.number().int()).optional()});function ox(e={}){return{type:"provider-defined",id:"anthropic.text_editor_20241022",args:{},parameters:ix,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var sx=O.object({action:O.enum(["key","type","mouse_move","left_click","left_click_drag","right_click","middle_click","double_click","screenshot","cursor_position"]),coordinate:O.array(O.number().int()).optional(),text:O.string().optional()});function ux(e){return{type:"provider-defined",id:"anthropic.computer_20241022",args:{displayWidthPx:e.displayWidthPx,displayHeightPx:e.displayHeightPx,displayNumber:e.displayNumber},parameters:sx,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var cx={bash_20241022:ax,textEditor_20241022:ox,computer_20241022:ux};function U0(e={}){var t;let r=(t=vy(e.baseURL))!=null?t:"https://api.anthropic.com/v1",n=()=>({"anthropic-version":"2023-06-01","x-api-key":fy({apiKey:e.apiKey,environmentVariableName:"ANTHROPIC_API_KEY",description:"Anthropic"}),...e.headers}),s=(h,S={})=>new ex(h,S,{provider:"anthropic.messages",baseURL:r,headers:n,fetch:e.fetch}),u=function(h,S){if(new.target)throw new Error("The Anthropic model function cannot be called with the new keyword.");return s(h,S)};return u.languageModel=s,u.chat=s,u.messages=s,u.textEmbeddingModel=h=>{throw new x0({modelId:h,modelType:"textEmbeddingModel"})},u.tools=cx,u}var D1=U0();function lx({prompt:e,useLegacyFunctionCalling:t=!1,systemMessageMode:r="system"}){let n=[];for(let{role:s,content:u}of e)switch(s){case"system":{switch(r){case"system":{n.push({role:"system",content:u});break}case"developer":{n.push({role:"developer",content:u});break}case"remove":break;default:{let h=r;throw new Error(`Unsupported system message mode: ${h}`)}}break}case"user":{if(u.length===1&&u[0].type==="text"){n.push({role:"user",content:u[0].text});break}n.push({role:"user",content:u.map(h=>{var S,I,C;switch(h.type){case"text":return{type:"text",text:h.text};case"image":return{type:"image_url",image_url:{url:h.image instanceof URL?h.image.toString():`data:${(S=h.mimeType)!=null?S:"image/jpeg"};base64,${$h(h.image)}`,detail:(C=(I=h.providerMetadata)==null?void 0:I.openai)==null?void 0:C.imageDetail}};case"file":{if(h.data instanceof URL)throw new Zn({functionality:"'File content parts with URL data' functionality not supported."});switch(h.mimeType){case"audio/wav":return{type:"input_audio",input_audio:{data:h.data,format:"wav"}};case"audio/mp3":case"audio/mpeg":return{type:"input_audio",input_audio:{data:h.data,format:"mp3"}};default:throw new Zn({functionality:`File content part type ${h.mimeType} in user messages`})}}}})});break}case"assistant":{let h="",S=[];for(let I of u)switch(I.type){case"text":{h+=I.text;break}case"tool-call":{S.push({id:I.toolCallId,type:"function",function:{name:I.toolName,arguments:JSON.stringify(I.args)}});break}default:{let C=I;throw new Error(`Unsupported part: ${C}`)}}if(t){if(S.length>1)throw new Zn({functionality:"useLegacyFunctionCalling with multiple tool calls in one message"});n.push({role:"assistant",content:h,function_call:S.length>0?S[0].function:void 0})}else n.push({role:"assistant",content:h,tool_calls:S.length>0?S:void 0});break}case"tool":{for(let h of u)t?n.push({role:"function",name:h.toolName,content:JSON.stringify(h.result)}):n.push({role:"tool",tool_call_id:h.toolCallId,content:JSON.stringify(h.result)});break}default:{let h=s;throw new Error(`Unsupported role: ${h}`)}}return n}function qb(e){var t,r;return(r=(t=e==null?void 0:e.content)==null?void 0:t.map(({token:n,logprob:s,top_logprobs:u})=>({token:n,logprob:s,topLogprobs:u?u.map(({token:h,logprob:S})=>({token:h,logprob:S})):[]})))!=null?r:void 0}function wy(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var j0=O.object({error:O.object({message:O.string(),type:O.string().nullish(),param:O.any().nullish(),code:O.union([O.string(),O.number()]).nullish()})}),R_=py({errorSchema:j0,errorToMessage:e=>e.error.message});function by({id:e,model:t,created:r}){return{id:e??void 0,modelId:t??void 0,timestamp:r!=null?new Date(r*1e3):void 0}}function fx({mode:e,useLegacyFunctionCalling:t=!1,structuredOutputs:r}){var n;let s=(n=e.tools)!=null&&n.length?e.tools:void 0,u=[];if(s==null)return{tools:void 0,tool_choice:void 0,toolWarnings:u};let h=e.toolChoice;if(t){let C=[];for(let H of s)H.type==="provider-defined"?u.push({type:"unsupported-tool",tool:H}):C.push({name:H.name,description:H.description,parameters:H.parameters});if(h==null)return{functions:C,function_call:void 0,toolWarnings:u};switch(h.type){case"auto":case"none":case void 0:return{functions:C,function_call:void 0,toolWarnings:u};case"required":throw new Zn({functionality:"useLegacyFunctionCalling and toolChoice: required"});default:return{functions:C,function_call:{name:h.toolName},toolWarnings:u}}}let S=[];for(let C of s)C.type==="provider-defined"?u.push({type:"unsupported-tool",tool:C}):S.push({type:"function",function:{name:C.name,description:C.description,parameters:C.parameters,strict:r?!0:void 0}});if(h==null)return{tools:S,tool_choice:void 0,toolWarnings:u};let I=h.type;switch(I){case"auto":case"none":case"required":return{tools:S,tool_choice:I,toolWarnings:u};case"tool":return{tools:S,tool_choice:{type:"function",function:{name:h.toolName}},toolWarnings:u};default:{let C=I;throw new Zn({functionality:`Unsupported tool choice type: ${C}`})}}}var dx=class{constructor(e,t,r){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=r}get supportsStructuredOutputs(){var e;return(e=this.settings.structuredOutputs)!=null?e:Ey(this.modelId)}get defaultObjectGenerationMode(){return mx(this.modelId)?"tool":this.supportsStructuredOutputs?"json":"tool"}get provider(){return this.config.provider}get supportsImageUrls(){return!this.settings.downloadImages}getArgs({mode:e,prompt:t,maxTokens:r,temperature:n,topP:s,topK:u,frequencyPenalty:h,presencePenalty:S,stopSequences:I,responseFormat:C,seed:F,providerMetadata:H}){var ne,fe,ie,Q,re,le,he,je;let Ee=e.type,ze=[];u!=null&&ze.push({type:"unsupported-setting",setting:"topK"}),(C==null?void 0:C.type)==="json"&&C.schema!=null&&!this.supportsStructuredOutputs&&ze.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});let _t=this.settings.useLegacyFunctionCalling;if(_t&&this.settings.parallelToolCalls===!0)throw new Zn({functionality:"useLegacyFunctionCalling with parallelToolCalls"});if(_t&&this.supportsStructuredOutputs)throw new Zn({functionality:"structuredOutputs with useLegacyFunctionCalling"});Bb(this.modelId)==="remove"&&t.some(Dt=>Dt.role==="system")&&ze.push({type:"other",message:"system messages are removed for this model"});let at={model:this.modelId,logit_bias:this.settings.logitBias,logprobs:this.settings.logprobs===!0||typeof this.settings.logprobs=="number"?!0:void 0,top_logprobs:typeof this.settings.logprobs=="number"?this.settings.logprobs:typeof this.settings.logprobs=="boolean"&&this.settings.logprobs?0:void 0,user:this.settings.user,parallel_tool_calls:this.settings.parallelToolCalls,max_tokens:r,temperature:n,top_p:s,frequency_penalty:h,presence_penalty:S,response_format:(C==null?void 0:C.type)==="json"?this.supportsStructuredOutputs&&C.schema!=null?{type:"json_schema",json_schema:{schema:C.schema,strict:!0,name:(ne=C.name)!=null?ne:"response",description:C.description}}:{type:"json_object"}:void 0,stop:I,seed:F,max_completion_tokens:(fe=H==null?void 0:H.openai)==null?void 0:fe.maxCompletionTokens,store:(ie=H==null?void 0:H.openai)==null?void 0:ie.store,metadata:(Q=H==null?void 0:H.openai)==null?void 0:Q.metadata,prediction:(re=H==null?void 0:H.openai)==null?void 0:re.prediction,reasoning_effort:(he=(le=H==null?void 0:H.openai)==null?void 0:le.reasoningEffort)!=null?he:this.settings.reasoningEffort,messages:lx({prompt:t,useLegacyFunctionCalling:_t,systemMessageMode:Bb(this.modelId)})};switch(Ey(this.modelId)&&(at.temperature!=null&&(at.temperature=void 0,ze.push({type:"unsupported-setting",setting:"temperature",details:"temperature is not supported for reasoning models"})),at.top_p!=null&&(at.top_p=void 0,ze.push({type:"unsupported-setting",setting:"topP",details:"topP is not supported for reasoning models"})),at.frequency_penalty!=null&&(at.frequency_penalty=void 0,ze.push({type:"unsupported-setting",setting:"frequencyPenalty",details:"frequencyPenalty is not supported for reasoning models"})),at.presence_penalty!=null&&(at.presence_penalty=void 0,ze.push({type:"unsupported-setting",setting:"presencePenalty",details:"presencePenalty is not supported for reasoning models"})),at.logit_bias!=null&&(at.logit_bias=void 0,ze.push({type:"other",message:"logitBias is not supported for reasoning models"})),at.logprobs!=null&&(at.logprobs=void 0,ze.push({type:"other",message:"logprobs is not supported for reasoning models"})),at.top_logprobs!=null&&(at.top_logprobs=void 0,ze.push({type:"other",message:"topLogprobs is not supported for reasoning models"})),at.max_tokens!=null&&(at.max_completion_tokens==null&&(at.max_completion_tokens=at.max_tokens),at.max_tokens=void 0)),Ee){case"regular":{let{tools:Dt,tool_choice:st,functions:Ut,function_call:jr,toolWarnings:Ca}=fx({mode:e,useLegacyFunctionCalling:_t,structuredOutputs:this.supportsStructuredOutputs});return{args:{...at,tools:Dt,tool_choice:st,functions:Ut,function_call:jr},warnings:[...ze,...Ca]}}case"object-json":return{args:{...at,response_format:this.supportsStructuredOutputs&&e.schema!=null?{type:"json_schema",json_schema:{schema:e.schema,strict:!0,name:(je=e.name)!=null?je:"response",description:e.description}}:{type:"json_object"}},warnings:ze};case"object-tool":return{args:_t?{...at,function_call:{name:e.tool.name},functions:[{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters}]}:{...at,tool_choice:{type:"function",function:{name:e.tool.name}},tools:[{type:"function",function:{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters,strict:this.supportsStructuredOutputs?!0:void 0}}]},warnings:ze};default:{let Dt=Ee;throw new Error(`Unsupported type: ${Dt}`)}}}async doGenerate(e){var t,r,n,s,u,h,S,I;let{args:C,warnings:F}=this.getArgs(e),{responseHeaders:H,value:ne}=await Rf({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:Ud(this.config.headers(),e.headers),body:C,failedResponseHandler:R_,successfulResponseHandler:jv(px),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:fe,...ie}=C,Q=ne.choices[0],re=(t=ne.usage)==null?void 0:t.completion_tokens_details,le=(r=ne.usage)==null?void 0:r.prompt_tokens_details,he={openai:{}};return(re==null?void 0:re.reasoning_tokens)!=null&&(he.openai.reasoningTokens=re==null?void 0:re.reasoning_tokens),(re==null?void 0:re.accepted_prediction_tokens)!=null&&(he.openai.acceptedPredictionTokens=re==null?void 0:re.accepted_prediction_tokens),(re==null?void 0:re.rejected_prediction_tokens)!=null&&(he.openai.rejectedPredictionTokens=re==null?void 0:re.rejected_prediction_tokens),(le==null?void 0:le.cached_tokens)!=null&&(he.openai.cachedPromptTokens=le==null?void 0:le.cached_tokens),{text:(n=Q.message.content)!=null?n:void 0,toolCalls:this.settings.useLegacyFunctionCalling&&Q.message.function_call?[{toolCallType:"function",toolCallId:km(),toolName:Q.message.function_call.name,args:Q.message.function_call.arguments}]:(s=Q.message.tool_calls)==null?void 0:s.map(je=>{var Ee;return{toolCallType:"function",toolCallId:(Ee=je.id)!=null?Ee:km(),toolName:je.function.name,args:je.function.arguments}}),finishReason:wy(Q.finish_reason),usage:{promptTokens:(h=(u=ne.usage)==null?void 0:u.prompt_tokens)!=null?h:NaN,completionTokens:(I=(S=ne.usage)==null?void 0:S.completion_tokens)!=null?I:NaN},rawCall:{rawPrompt:fe,rawSettings:ie},rawResponse:{headers:H},request:{body:JSON.stringify(C)},response:by(ne),warnings:F,logprobs:qb(Q.logprobs),providerMetadata:he}}async doStream(e){var t;if((t=this.settings.simulateStreaming)!=null?t:hx(this.modelId)){let re=await this.doGenerate(e);return{stream:new ReadableStream({start(he){if(he.enqueue({type:"response-metadata",...re.response}),re.text&&he.enqueue({type:"text-delta",textDelta:re.text}),re.toolCalls)for(let je of re.toolCalls)he.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:je.toolCallId,toolName:je.toolName,argsTextDelta:je.args}),he.enqueue({type:"tool-call",...je});he.enqueue({type:"finish",finishReason:re.finishReason,usage:re.usage,logprobs:re.logprobs,providerMetadata:re.providerMetadata}),he.close()}}),rawCall:re.rawCall,rawResponse:re.rawResponse,warnings:re.warnings}}let{args:r,warnings:n}=this.getArgs(e),s={...r,stream:!0,stream_options:this.config.compatibility==="strict"?{include_usage:!0}:void 0},{responseHeaders:u,value:h}=await Rf({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:Ud(this.config.headers(),e.headers),body:s,failedResponseHandler:R_,successfulResponseHandler:E_(vx),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:S,...I}=r,C=[],F="unknown",H={promptTokens:void 0,completionTokens:void 0},ne,fe=!0,{useLegacyFunctionCalling:ie}=this.settings,Q={openai:{}};return{stream:h.pipeThrough(new TransformStream({transform(re,le){var he,je,Ee,ze,_t,at,Dt,st,Ut,jr,Ca,ma;if(!re.success){F="error",le.enqueue({type:"error",error:re.error});return}let Or=re.value;if("error"in Or){F="error",le.enqueue({type:"error",error:Or.error});return}if(fe&&(fe=!1,le.enqueue({type:"response-metadata",...by(Or)})),Or.usage!=null){let{prompt_tokens:Er,completion_tokens:Bn,prompt_tokens_details:zt,completion_tokens_details:It}=Or.usage;H={promptTokens:Er??void 0,completionTokens:Bn??void 0},(It==null?void 0:It.reasoning_tokens)!=null&&(Q.openai.reasoningTokens=It==null?void 0:It.reasoning_tokens),(It==null?void 0:It.accepted_prediction_tokens)!=null&&(Q.openai.acceptedPredictionTokens=It==null?void 0:It.accepted_prediction_tokens),(It==null?void 0:It.rejected_prediction_tokens)!=null&&(Q.openai.rejectedPredictionTokens=It==null?void 0:It.rejected_prediction_tokens),(zt==null?void 0:zt.cached_tokens)!=null&&(Q.openai.cachedPromptTokens=zt==null?void 0:zt.cached_tokens)}let gn=Or.choices[0];if((gn==null?void 0:gn.finish_reason)!=null&&(F=wy(gn.finish_reason)),(gn==null?void 0:gn.delta)==null)return;let nt=gn.delta;nt.content!=null&&le.enqueue({type:"text-delta",textDelta:nt.content});let Ni=qb(gn==null?void 0:gn.logprobs);Ni!=null&&Ni.length&&(ne===void 0&&(ne=[]),ne.push(...Ni));let Ye=ie&&nt.function_call!=null?[{type:"function",id:km(),function:nt.function_call,index:0}]:nt.tool_calls;if(Ye!=null)for(let Er of Ye){let Bn=Er.index;if(C[Bn]==null){if(Er.type!=="function")throw new rg({data:Er,message:"Expected 'function' type."});if(Er.id==null)throw new rg({data:Er,message:"Expected 'id' to be a string."});if(((he=Er.function)==null?void 0:he.name)==null)throw new rg({data:Er,message:"Expected 'function.name' to be a string."});C[Bn]={id:Er.id,type:"function",function:{name:Er.function.name,arguments:(je=Er.function.arguments)!=null?je:""},hasFinished:!1};let It=C[Bn];((Ee=It.function)==null?void 0:Ee.name)!=null&&((ze=It.function)==null?void 0:ze.arguments)!=null&&(It.function.arguments.length>0&&le.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:It.id,toolName:It.function.name,argsTextDelta:It.function.arguments}),R0(It.function.arguments)&&(le.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(_t=It.id)!=null?_t:km(),toolName:It.function.name,args:It.function.arguments}),It.hasFinished=!0));continue}let zt=C[Bn];zt.hasFinished||(((at=Er.function)==null?void 0:at.arguments)!=null&&(zt.function.arguments+=(st=(Dt=Er.function)==null?void 0:Dt.arguments)!=null?st:""),le.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:zt.id,toolName:zt.function.name,argsTextDelta:(Ut=Er.function.arguments)!=null?Ut:""}),((jr=zt.function)==null?void 0:jr.name)!=null&&((Ca=zt.function)==null?void 0:Ca.arguments)!=null&&R0(zt.function.arguments)&&(le.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(ma=zt.id)!=null?ma:km(),toolName:zt.function.name,args:zt.function.arguments}),zt.hasFinished=!0))}},flush(re){var le,he;re.enqueue({type:"finish",finishReason:F,logprobs:ne,usage:{promptTokens:(le=H.promptTokens)!=null?le:NaN,completionTokens:(he=H.completionTokens)!=null?he:NaN},...Q!=null?{providerMetadata:Q}:{}})}})),rawCall:{rawPrompt:S,rawSettings:I},rawResponse:{headers:u},request:{body:JSON.stringify(s)},warnings:n}}},zb=O.object({prompt_tokens:O.number().nullish(),completion_tokens:O.number().nullish(),prompt_tokens_details:O.object({cached_tokens:O.number().nullish()}).nullish(),completion_tokens_details:O.object({reasoning_tokens:O.number().nullish(),accepted_prediction_tokens:O.number().nullish(),rejected_prediction_tokens:O.number().nullish()}).nullish()}).nullish(),px=O.object({id:O.string().nullish(),created:O.number().nullish(),model:O.string().nullish(),choices:O.array(O.object({message:O.object({role:O.literal("assistant").nullish(),content:O.string().nullish(),function_call:O.object({arguments:O.string(),name:O.string()}).nullish(),tool_calls:O.array(O.object({id:O.string().nullish(),type:O.literal("function"),function:O.object({name:O.string(),arguments:O.string()})})).nullish()}),index:O.number(),logprobs:O.object({content:O.array(O.object({token:O.string(),logprob:O.number(),top_logprobs:O.array(O.object({token:O.string(),logprob:O.number()}))})).nullable()}).nullish(),finish_reason:O.string().nullish()})),usage:zb}),vx=O.union([O.object({id:O.string().nullish(),created:O.number().nullish(),model:O.string().nullish(),choices:O.array(O.object({delta:O.object({role:O.enum(["assistant"]).nullish(),content:O.string().nullish(),function_call:O.object({name:O.string().optional(),arguments:O.string().optional()}).nullish(),tool_calls:O.array(O.object({index:O.number(),id:O.string().nullish(),type:O.literal("function").optional(),function:O.object({name:O.string().nullish(),arguments:O.string().nullish()})})).nullish()}).nullish(),logprobs:O.object({content:O.array(O.object({token:O.string(),logprob:O.number(),top_logprobs:O.array(O.object({token:O.string(),logprob:O.number()}))})).nullable()}).nullish(),finish_reason:O.string().nullable().optional(),index:O.number()})),usage:zb}),j0]);function Ey(e){return e==="o1"||e.startsWith("o1-")||e==="o3"||e.startsWith("o3-")}function mx(e){return e.startsWith("gpt-4o-audio-preview")}function Bb(e){var t,r;return Ey(e)?(r=(t=Gb[e])==null?void 0:t.systemMessageMode)!=null?r:"developer":"system"}function hx(e){var t,r;return Ey(e)?(r=(t=Gb[e])==null?void 0:t.simulateStreamingByDefault)!=null?r:!0:!1}var Gb={"o1-mini":{systemMessageMode:"remove",simulateStreamingByDefault:!1},"o1-mini-2024-09-12":{systemMessageMode:"remove",simulateStreamingByDefault:!1},"o1-preview":{systemMessageMode:"remove",simulateStreamingByDefault:!1},"o1-preview-2024-09-12":{systemMessageMode:"remove",simulateStreamingByDefault:!1},"o3-mini":{systemMessageMode:"developer",simulateStreamingByDefault:!1},"o3-mini-2025-01-31":{systemMessageMode:"developer",simulateStreamingByDefault:!1}};function _x({prompt:e,inputFormat:t,user:r="user",assistant:n="assistant"}){if(t==="prompt"&&e.length===1&&e[0].role==="user"&&e[0].content.length===1&&e[0].content[0].type==="text")return{prompt:e[0].content[0].text};let s="";e[0].role==="system"&&(s+=`${e[0].content}

`,e=e.slice(1));for(let{role:u,content:h}of e)switch(u){case"system":throw new Fv({message:"Unexpected system message in prompt: ${content}",prompt:e});case"user":{let S=h.map(I=>{switch(I.type){case"text":return I.text;case"image":throw new Zn({functionality:"images"})}}).join("");s+=`${r}:
${S}

`;break}case"assistant":{let S=h.map(I=>{switch(I.type){case"text":return I.text;case"tool-call":throw new Zn({functionality:"tool-call messages"})}}).join("");s+=`${n}:
${S}

`;break}case"tool":throw new Zn({functionality:"tool messages"});default:{let S=u;throw new Error(`Unsupported role: ${S}`)}}return s+=`${n}:
`,{prompt:s,stopSequences:[`
${r}:`]}}function Hb(e){return e==null?void 0:e.tokens.map((t,r)=>({token:t,logprob:e.token_logprobs[r],topLogprobs:e.top_logprobs?Object.entries(e.top_logprobs[r]).map(([n,s])=>({token:n,logprob:s})):[]}))}var gx=class{constructor(e,t,r){this.specificationVersion="v1",this.defaultObjectGenerationMode=void 0,this.modelId=e,this.settings=t,this.config=r}get provider(){return this.config.provider}getArgs({mode:e,inputFormat:t,prompt:r,maxTokens:n,temperature:s,topP:u,topK:h,frequencyPenalty:S,presencePenalty:I,stopSequences:C,responseFormat:F,seed:H}){var ne;let fe=e.type,ie=[];h!=null&&ie.push({type:"unsupported-setting",setting:"topK"}),F!=null&&F.type!=="text"&&ie.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});let{prompt:Q,stopSequences:re}=_x({prompt:r,inputFormat:t}),le=[...re??[],...C??[]],he={model:this.modelId,echo:this.settings.echo,logit_bias:this.settings.logitBias,logprobs:typeof this.settings.logprobs=="number"?this.settings.logprobs:typeof this.settings.logprobs=="boolean"&&this.settings.logprobs?0:void 0,suffix:this.settings.suffix,user:this.settings.user,max_tokens:n,temperature:s,top_p:u,frequency_penalty:S,presence_penalty:I,seed:H,prompt:Q,stop:le.length>0?le:void 0};switch(fe){case"regular":{if((ne=e.tools)!=null&&ne.length)throw new Zn({functionality:"tools"});if(e.toolChoice)throw new Zn({functionality:"toolChoice"});return{args:he,warnings:ie}}case"object-json":throw new Zn({functionality:"object-json mode"});case"object-tool":throw new Zn({functionality:"object-tool mode"});default:{let je=fe;throw new Error(`Unsupported type: ${je}`)}}}async doGenerate(e){let{args:t,warnings:r}=this.getArgs(e),{responseHeaders:n,value:s}=await Rf({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:Ud(this.config.headers(),e.headers),body:t,failedResponseHandler:R_,successfulResponseHandler:jv(yx),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:u,...h}=t,S=s.choices[0];return{text:S.text,usage:{promptTokens:s.usage.prompt_tokens,completionTokens:s.usage.completion_tokens},finishReason:wy(S.finish_reason),logprobs:Hb(S.logprobs),rawCall:{rawPrompt:u,rawSettings:h},rawResponse:{headers:n},response:by(s),warnings:r,request:{body:JSON.stringify(t)}}}async doStream(e){let{args:t,warnings:r}=this.getArgs(e),n={...t,stream:!0,stream_options:this.config.compatibility==="strict"?{include_usage:!0}:void 0},{responseHeaders:s,value:u}=await Rf({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:Ud(this.config.headers(),e.headers),body:n,failedResponseHandler:R_,successfulResponseHandler:E_(Sx),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:h,...S}=t,I="unknown",C={promptTokens:Number.NaN,completionTokens:Number.NaN},F,H=!0;return{stream:u.pipeThrough(new TransformStream({transform(ne,fe){if(!ne.success){I="error",fe.enqueue({type:"error",error:ne.error});return}let ie=ne.value;if("error"in ie){I="error",fe.enqueue({type:"error",error:ie.error});return}H&&(H=!1,fe.enqueue({type:"response-metadata",...by(ie)})),ie.usage!=null&&(C={promptTokens:ie.usage.prompt_tokens,completionTokens:ie.usage.completion_tokens});let Q=ie.choices[0];(Q==null?void 0:Q.finish_reason)!=null&&(I=wy(Q.finish_reason)),(Q==null?void 0:Q.text)!=null&&fe.enqueue({type:"text-delta",textDelta:Q.text});let re=Hb(Q==null?void 0:Q.logprobs);re!=null&&re.length&&(F===void 0&&(F=[]),F.push(...re))},flush(ne){ne.enqueue({type:"finish",finishReason:I,logprobs:F,usage:C})}})),rawCall:{rawPrompt:h,rawSettings:S},rawResponse:{headers:s},warnings:r,request:{body:JSON.stringify(n)}}}},yx=O.object({id:O.string().nullish(),created:O.number().nullish(),model:O.string().nullish(),choices:O.array(O.object({text:O.string(),finish_reason:O.string(),logprobs:O.object({tokens:O.array(O.string()),token_logprobs:O.array(O.number()),top_logprobs:O.array(O.record(O.string(),O.number())).nullable()}).nullish()})),usage:O.object({prompt_tokens:O.number(),completion_tokens:O.number()})}),Sx=O.union([O.object({id:O.string().nullish(),created:O.number().nullish(),model:O.string().nullish(),choices:O.array(O.object({text:O.string(),finish_reason:O.string().nullish(),index:O.number(),logprobs:O.object({tokens:O.array(O.string()),token_logprobs:O.array(O.number()),top_logprobs:O.array(O.record(O.string(),O.number())).nullable()}).nullish()})),usage:O.object({prompt_tokens:O.number(),completion_tokens:O.number()}).nullish()}),j0]),wx=class{constructor(e,t,r){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=r}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){var e;return(e=this.settings.maxEmbeddingsPerCall)!=null?e:2048}get supportsParallelCalls(){var e;return(e=this.settings.supportsParallelCalls)!=null?e:!0}async doEmbed({values:e,headers:t,abortSignal:r}){if(e.length>this.maxEmbeddingsPerCall)throw new cb({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});let{responseHeaders:n,value:s}=await Rf({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:Ud(this.config.headers(),t),body:{model:this.modelId,input:e,encoding_format:"float",dimensions:this.settings.dimensions,user:this.settings.user},failedResponseHandler:R_,successfulResponseHandler:jv(bx),abortSignal:r,fetch:this.config.fetch});return{embeddings:s.data.map(u=>u.embedding),usage:s.usage?{tokens:s.usage.prompt_tokens}:void 0,rawResponse:{headers:n}}}},bx=O.object({data:O.array(O.object({embedding:O.array(O.number())})),usage:O.object({prompt_tokens:O.number()}).nullish()}),Ex={"dall-e-3":1,"dall-e-2":10},Tx=class{constructor(e,t,r){this.modelId=e,this.settings=t,this.config=r,this.specificationVersion="v1"}get maxImagesPerCall(){var e,t;return(t=(e=this.settings.maxImagesPerCall)!=null?e:Ex[this.modelId])!=null?t:1}get provider(){return this.config.provider}async doGenerate({prompt:e,n:t,size:r,aspectRatio:n,seed:s,providerOptions:u,headers:h,abortSignal:S}){var I,C,F,H;let ne=[];n!=null&&ne.push({type:"unsupported-setting",setting:"aspectRatio",details:"This model does not support aspect ratio. Use `size` instead."}),s!=null&&ne.push({type:"unsupported-setting",setting:"seed"});let fe=(F=(C=(I=this.config._internal)==null?void 0:I.currentDate)==null?void 0:C.call(I))!=null?F:new Date,{value:ie,responseHeaders:Q}=await Rf({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:Ud(this.config.headers(),h),body:{model:this.modelId,prompt:e,n:t,size:r,...(H=u.openai)!=null?H:{},response_format:"b64_json"},failedResponseHandler:R_,successfulResponseHandler:jv(Ix),abortSignal:S,fetch:this.config.fetch});return{images:ie.data.map(re=>re.b64_json),warnings:ne,response:{timestamp:fe,modelId:this.modelId,headers:Q}}}},Ix=O.object({data:O.array(O.object({b64_json:O.string()}))});function Y0(e={}){var t,r,n;let s=(t=vy(e.baseURL))!=null?t:"https://api.openai.com/v1",u=(r=e.compatibility)!=null?r:"compatible",h=(n=e.name)!=null?n:"openai",S=()=>({Authorization:`Bearer ${fy({apiKey:e.apiKey,environmentVariableName:"OPENAI_API_KEY",description:"OpenAI"})}`,"OpenAI-Organization":e.organization,"OpenAI-Project":e.project,...e.headers}),I=(ie,Q={})=>new dx(ie,Q,{provider:`${h}.chat`,url:({path:re})=>`${s}${re}`,headers:S,compatibility:u,fetch:e.fetch}),C=(ie,Q={})=>new gx(ie,Q,{provider:`${h}.completion`,url:({path:re})=>`${s}${re}`,headers:S,compatibility:u,fetch:e.fetch}),F=(ie,Q={})=>new wx(ie,Q,{provider:`${h}.embedding`,url:({path:re})=>`${s}${re}`,headers:S,fetch:e.fetch}),H=(ie,Q={})=>new Tx(ie,Q,{provider:`${h}.image`,url:({path:re})=>`${s}${re}`,headers:S,fetch:e.fetch}),ne=(ie,Q)=>{if(new.target)throw new Error("The OpenAI model function cannot be called with the new keyword.");return ie==="gpt-3.5-turbo-instruct"?C(ie,Q):I(ie,Q)},fe=function(ie,Q){return ne(ie,Q)};return fe.languageModel=ne,fe.chat=I,fe.completion=C,fe.embedding=F,fe.textEmbedding=F,fe.textEmbeddingModel=F,fe.image=H,fe.imageModel=H,fe}var K1=Y0({compatibility:"strict"});var Gi=require("vscode"),Nx=["rate limit exceeded","net::err","check your network connection","check your firewall","request failed","400 bad request","server error","error on conversation request","response contained no choices","response got filtered"];function Dx({role:e,content:t}){switch(e){case"system":return Gi.LanguageModelChatMessage.User(t);case"user":let r=t.map(u=>{switch(u.type){case"text":return new Gi.LanguageModelTextPart(u.text);case"image":throw new Error("Image content not supported");case"file":throw new Error("File content not supported")}});return Gi.LanguageModelChatMessage.User(r);case"tool":let n=t.map(u=>{switch(u.type){case"tool-result":let h=typeof u.result=="string"?u.result:JSON.stringify(u.result);return new Gi.LanguageModelToolResultPart(u.toolCallId,[new Gi.LanguageModelTextPart(h)])}});return Gi.LanguageModelChatMessage.User(n);case"assistant":let s=t.map(u=>{switch(u.type){case"text":return new Gi.LanguageModelTextPart(u.text);case"tool-call":return new Gi.LanguageModelToolCallPart(u.toolCallId,u.toolName,u.args)}});return Gi.LanguageModelChatMessage.Assistant(s)}}function Cx(e){switch(e.type){case"function":return{name:e.name,description:e.description,inputSchema:e.parameters};case"provider-defined":throw new Error("Provider-defined tools not supported")}}function xx(e){let t=String(e.message).toLowerCase();for(let r of Nx)if(t.includes(r))return!0;return!1}var $0=class{specificationVersion="v1";defaultObjectGenerationMode="json";provider="copilot";supportsImageUrls=!1;constructor(t,r,n){this.modelId=t,this.settings=r,this.config=n}async doGenerate(t){throw new Error("Not implemented")}async doStream(t){var ne;let[r]=await Gi.lm.selectChatModels({family:this.modelId,vendor:"copilot"});if(!r)throw new Error("Model not found: "+this.modelId);let{prompt:n,abortSignal:s,mode:u}=t,h=s.context;if(u.type!=="regular")throw new Error("Request mode not supported: "+u.type);let S=n.map(Dx),I=(ne=u.tools)==null?void 0:ne.map(Cx),C=n.slice(-1)[0],F=!1;if(C.role=="tool")if(C.content[0].result=="stop")F=!0;else{let fe=new Gi.LanguageModelTextPart("Should I process the last tool result now?"),ie=new Gi.LanguageModelTextPart("Yes");S.push(Gi.LanguageModelChatMessage.Assistant([fe])),S.push(Gi.LanguageModelChatMessage.User([ie]))}return{stream:new ReadableStream({async start(fe){let ie=0;if(F){fe.enqueue({type:"text-delta",textDelta:`

`}),fe.close();return}for(;;){try{let Q=await r.sendRequest(S,{tools:I,modelOptions:{temperature:t.temperature,max_tokens:t.maxTokens}},h.token);for await(let re of Q.stream){if(h.token.isCancellationRequested)break;re instanceof Gi.LanguageModelTextPart?fe.enqueue({type:"text-delta",textDelta:re.value}):re instanceof Gi.LanguageModelToolCallPart?fe.enqueue({type:"tool-call",toolCallType:"function",toolCallId:re.callId,toolName:re.name,args:JSON.stringify(re.input)}):fe.error(new Error("Unknown content format"))}fe.close();return}catch(Q){if(h.token.isCancellationRequested){fe.close();return}if(!xx(Q)||++ie>5){fe.error(Q);return}fe.enqueue({type:"error",error:{event:"retry",count:ie,message:Q.message||String(Q),cause:Q}}),String(Q.message).toLowerCase().includes("rate limit exceeded")&&await Vb(30)}await Vb(5*ie)}}}),rawCall:{rawPrompt:"",rawSettings:{}}}}};function Kb(e){let t=(n,s={})=>new $0(n,s,{provider:"copilot"}),r=function(n,s={}){return t(n,s)};return r.chat=t,r}async function Vb(e){return new Promise(t=>setTimeout(t,e*1e3))}var Px={anthropic:U0,openai:Y0,copilot:Kb},Wb={};function q0({id:e,provider:t,apiKey:r}){let n=Wb[t];if(!n){let s=Px[t];if(!s)throw new Error("Unknown provider: "+t);n=s({apiKey:r}),Wb[t]=n}return n(e,{cacheControl:!0})}var B0=[{provider:"anthropic",family:"claude-3.5-sonnet",id:"claude-3-5-sonnet-20241022",name:"Claude 3.5 Sonnet",cacheControl:!0},{provider:"openai",family:"gpt-4o",id:"gpt-4o-2024-08-06",name:"GPT 4o"},{provider:"openrouter",family:"claude-3.5-sonnet",id:"anthropic/claude-3.5-sonnet:beta",name:"Claude 3.5 Sonnet",cacheControl:!0},{provider:"openrouter",family:"gpt-4o",id:"openai/gpt-4o-2024-08-06",name:"GPT 4o"}];var Jb=[{id:"anthropic",name:"Anthropic",envKeyName:"ANTHROPIC_API_KEY",website:"https://console.anthropic.com"},{id:"openai",name:"OpenAI",envKeyName:"OPENAI_API_KEY",website:"https://platform.openai.com"},{id:"openrouter",name:"Open Router",envKeyName:"OPENROUTER_API_KEY",website:"https://openrouter.ai"}];var s_=require("vscode");var Ty=require("vscode");function Da(e,t={depth:2}){switch(typeof e){case"undefined":return"";case"number":return String(e);case"string":return e;case"function":return Da(e(t),t);case"object":let r=[];return Array.isArray(e)?r=e.map(n=>Da(n,t)).filter(n=>!!n):r=Object.entries(e).map(([n,s])=>{let u="#".repeat(t.depth),h=Da(s,{depth:t.depth+1});return h&&`${u} ${n}

`+h}),r.join(`

`)}}var Br=function(e,...t){let r=F=>/^\s*$/.test(F),n=F=>F.match(/^\s*/)[0].length,s=e.map(F=>F.split(`
`)),u=100;s.forEach(F=>{F.slice(1).forEach(H=>{r(H)||(u=Math.min(u,n(H)))})});let h=F=>F[0],S=F=>F[F.length-1],I=F=>!r(S(s[F]))||!r(h(s[F+1])),C=[];return s.forEach((F,H)=>{let ne=F.slice();if(u<100)for(let ie=1;ie<ne.length;ie++)ne[ie]=F[ie].slice(u);if(H==0||!I(H-1))for(;ne.length&&r(ne[0]);)ne.shift();if(H==s.length-1||!I(H))for(;ne.length&&r(ne[ne.length-1]);)ne.pop();let fe=ne.join(`
`);if(H==0)C.push(fe);else{let ie=t[H-1]??"";if(typeof ie=="object"||typeof ie=="function"){if(I(H-1))throw new Error("Markdown inline value not supported");C.push(ie),C.push(fe)}else{let Q=C.pop();I(H-1)||(Q&&(ie=`

`+ie),fe&&(ie=ie+`

`),ie==`



`&&(ie=`

`)),C.push(Q+ie+fe)}}}),C.length==1?C[0]:C};function kl(e,t="- ",r="",n=`
`,s=": "){return u=>Array.isArray(e)?e.map(h=>t+Da(h,u)+r).join(n):Object.entries(e).map(([h,S])=>t+h+s+Da(S,u)+r).join(n)}function Cs(e,t){return r=>{let n=Da(t,r);return n?`<${e}>
`+n+`
</${e}>`:""}}function lg(e,t,r="",n=""){return s=>{let u=Da(t,s);return u?[e,u,r]:n}}function Zb(e,t){return r=>{let n=Da(e,r);return n||t}}var _M=require("vscode");async function k_(e,t=!1){let r=Af(e),n={path:r},s=await vh(e),u=[];return n.lines=s.split(`
`).length,n.status="ok",u.push(Cs("file_metadata",kl(n))),t||u.push(Cs("file_content",s)),Da(u)}var fg=require("vscode");var{fs:Ax}=fg.workspace;async function Um(e,t=!1){let r=Af(e),n=[],s=[],u={path:r},h=[];for(let[S,I]of await Ax.readDirectory(e))I&fg.FileType.File?s.push(S):I&fg.FileType.Directory&&n.push(S+"/");if(u["sub-directories"]=n.length,u.files=s.length,u.status="ok",h.push(Cs("directory_metadata",kl(u))),!t){let S=[].concat(n,s);h.push(Zb(Cs("directory_content",S),"Directory is empty."))}return Da(h)}var Xb=require("vscode");async function Qb(e,t,r,n=!1){let s=Af(e),u={path:s,name:t},h=[];if(u.start=`Ln ${r.start.line+1}, Col ${r.start.character+1}`,u.end=`Ln ${r.end.line+1}, Col ${r.end.character+1}`,u.lines=r.start.line-r.end.line+1,h.push(Cs("symbol_metadata",kl(u))),!n){let S=await Xb.workspace.openTextDocument(e),I=S.getText(r);h.push(Cs("symbol_content",I))}return Da(h)}var eE=require("vscode");async function O_(e,t=!1){let r=Af(e),n={path:r},s=await vh(e),u=[],h=[],S=await eE.commands.executeCommand("vscode.executeDocumentSymbolProvider",e);function I(C){var F;u.push(C.name),(F=C.children)==null||F.forEach(I)}if(S&&S.length>0){let C=S[0];C.name.startsWith("# ")&&(n.title=C.name.slice(2)),S.forEach(I)}return n.lines=s.split(`
`).length,n.status="ok",h.push(Cs("document_metadata",kl(n))),u.length&&h.push(Cs("document_outline",kl(u,"","",`

`))),t||h.push(Cs("document_content",s)),Da(h)}var tE=require("vscode");async function rE(){let{activeTextEditor:e}=tE.window,{document:t,selection:r}=e||{},n="",s=[];if(!e)return"No files are currently open in the editor.";let u={path:Af(e.document.uri)};return r.isEmpty||(n=t.getText(r),u.selection=`${r.end.line-r.start.line+1} line(s)`),s.push(Cs("active_text_editor",kl(u))),s.push(Cs("active_selection",n)),Da(s)}var{fs:Rx}=Ty.workspace,kx="multicoder_sourcecode",Ox=Br`
    Read and analyze source code files in the project

    Commands:
    - /stat: checks if the specified path exists and returns basic information about it
    - /read: returns the content of a file or directory at the given path
`,Mx=O.object({command:O.enum(["stat","read"]).describe("Command"),path:O.string().describe("File or directory path")}),Lx="Looking at the source files ...";async function Fx({command:e,path:t},{id:r,log:n,stream:s}){let u=t.split("/").pop();n.info(u,{command:e,event:`tool.sourcecode.${e}`});let h=Na(t,r),S=null;try{S=await Rx.stat(h)}catch{return e!=="stat"&&n.warn("[sourcecode] Path does not exist - "+u,{command:e}),"Error: Path does not exist - "+t}return S.type&Ty.FileType.Directory?await Um(h,e=="stat"):(e!=="stat"&&s.reference($u(h)),await k_(h,e=="stat"))}var Iy={name:kx,description:Ox,parameters:Mx,execute:Fx,progress:Lx};var Ny=require("vscode");var{fs:Ux}=Ny.workspace,jx="multicoder_documents",Yx=Br`
    Read task-related documentation files

    Commands:
    - /stat: checks if the specified documentation path exists and returns basic information about it
    - /read: returns the content of a documentation file or directory at the given path
`,$x=O.object({command:O.enum(["stat","read"]).describe("Command"),path:O.string().describe("File or directory path")}),qx="Looking at the available documents ...";async function Bx({command:e,path:t},{id:r,log:n,stream:s}){let u=t.split("/").pop(),h=Na(t,r),S=null;n.info(u,{command:e,event:`tool.documents.${e}`});try{S=await Ux.stat(h)}catch{return e!=="stat"&&n.warn("[documents] Path does not exist - "+u,{command:e}),"Error: Path does not exist - "+t}return S.type&Ny.FileType.Directory?await Um(h,e=="stat"):(e!=="stat"&&!t.startsWith(".multicoder")&&s.reference($u(h)),await O_(h,e=="stat"))}var Dy={name:jx,description:Yx,parameters:$x,execute:Bx,progress:qx};var Cy=require("vscode");var a_=require("vscode");var po=require("vscode");async function nE(e,t){var C,F,H;let r=e.shared.edits.find(ne=>ne.id==t);if(!r)return;let n=new po.WorkspaceEdit,s=$u(Na(r.path,e.id));try{await po.workspace.fs.stat(s)}catch{s=s.with({scheme:"untitled"})}let u=await po.workspace.openTextDocument(s),h=u.getText().replace(/\r\n/g,`
`),S=h==r.after.replace(/\r\n/g,`
`)?r.before:r.after,I=new po.Range(new po.Position(0,0),new po.Position(u.lineCount,0));n.replace(s,I,S),await po.workspace.applyEdit(n),((H=(F=(C=po.window.activeTextEditor)==null?void 0:C.document)==null?void 0:F.uri)==null?void 0:H.path)!=s.path&&await po.window.showTextDocument(u),Hx(r.search)}function Hx(e){var I;let t=po.window.activeTextEditor,r=t==null?void 0:t.document,n=(I=r==null?void 0:r.getText())==null?void 0:I.replace(/\r\n/g,`
`);if(!e||!t||!r)return;let s=n.indexOf(e);if(s==-1)return;let u=n.slice(0,s).split(`
`).length-1,h=e.split(`
`).length,S=new po.Position(u,0);t.selection=new po.Selection(S,S),t.revealRange(new po.Range(S,new po.Position(u+h,0)))}function aE(e,t,r,n,s,u,h){let{stream:S,shared:I}=e;if(u.startsWith(".multicoder"))return zx(e,S,s,u);let C=new a_.MarkdownString(`

`),F=e.id,H=encodeURIComponent(JSON.stringify([u,r,F])),ne=`command:multicoder.diffView?${H}`,fe=le=>`<span class="codicon codicon-${le}" style="color:var(--vscode-textLink-foreground);"></span>`;C.supportThemeIcons=!0,C.isTrusted={enabledCommands:["multicoder.diffView"]},C.supportHtml=!0,C.appendMarkdown(`[${fe("diff-single")} ${n} (${u})](${ne} 'Open Diff')`),C.appendCodeblock(s,h),S.markdown(C);let ie=t=="create"?"Create":"Apply",Q=t=="create"?"create file":"apply changes";S.button({title:ie,command:"multicoder.action",arguments:[re],tooltip:`Click to ${Q}, click again to revert`});function re(){let le=u.split("/").pop();e.log.info(le,{event:"action."+ie.toLowerCase()}),nE(e,r)}}function zx(e,t,r,n){r=r.replace(/^#/gm,"##");let s=new a_.MarkdownString(`

`);s.supportHtml=!0,s.appendMarkdown(r),t.markdown(s),t.button({title:"Edit",command:"multicoder.action",arguments:[u],tooltip:"Click to edit the document"});async function u(){let h=Na(n,e.id),S=await a_.workspace.openTextDocument(h),I=n.split("/").pop();a_.window.showTextDocument(S),e.log.info(I,{event:"action.edit"})}}var iE="multicoder_followups",Gx=Br`
    Displays followup actions to the user at the end of the conversation turn.
`,Vx=Br`
    Using ${iE} tool reply with a list of followup actions.
`,Kx=O.object({actions:O.array(O.string()).describe("Short followup actions (5-10 words)")}),Wx=()=>({actions:[]});function Jx(e,{actions:t}){if(e.code=="invalid_type"){let r=e.path[0];if(e.received=="string"&&r=="actions")return{actions:String(t).split(`
`)}}}async function Zx({actions:e},t){return t.log.info(`${e==null?void 0:e.length} options`,{actions:e,event:"tool.followups"}),t.followups=e.map(r=>({command:"",prompt:r})),"stop"}var ou={name:iE,description:Gx,parameters:Kx,execute:Zx,retry:Vx,fallback:Wx,repair:Jx};var oE="multicoder_summary",Xx=Br`
    Shows summary, explanations or walkthrough section at the end of the response or after each task step.
    Allows the user to see the progress of completing the task.
    Always use this tool at the end of each step or when the task is finished.
`,Qx=Br`
    Using ${oE} tool reply with a short summary of what has been done for the current step or task.
`,eP=O.object({text:O.string().describe("Short walkthrough or summary of this step")}),tP=()=>({text:"Task completed"});async function rP({text:e},{log:t,stream:r}){return t.info(`${e.slice(0,60).replace(/\n/g," ")}...`,{summary:e,event:"tool.summary"}),r.markdown(`

`+e+`

`),`This is the end of the response. Use ${ou.name} tool to suggest the next actions.`}var va={name:oE,description:Xx,parameters:eP,execute:rP,retry:Qx,fallback:tP};var nP="multicoder_editor",aP=Br`
    Create and modify source files or documents

    Usage:
    - To add new content always use /insert or /append
    - To change more than half of the file use /update
    - To replace part of the file use /replace
    - To delete part of the file, use /replace with empty content
    - Split large edits into multiple small ones

    Important:
    - Selection must be unique within file, select 3 lines or more to avoid ambiguity
`,iP=Br`
    Editing operation to execute with the given selection and content:
    - /create: creates a new file with the specified content
    - /update: updates the entire file
    - /insert: inserts new content before selection
    - /append: adds new content after selection
    - /replace: replaces selection with new content
`,oP=Br`
    Select exact lines including whitespace:
    - For /create and /update: use empty string ("") 
    - For /insert: at least 3 lines immediately following new content, no overlap
    - For /append: at least 3 lines immediately preceding new content, no overlap
`,sP=O.object({command:O.enum(["create","insert","append","replace","update"]).describe(iP),path:O.string().describe("File path"),select:O.string().describe(oP),content:O.string().describe("New content"),summary:O.string().describe("A very short (3-10 words) summary of this change")}),uP="Writing code ...";function cP(e,{command:t,path:r,summary:n}){if(e.code=="invalid_type"){let s=e.path[0];if(e.received=="undefined"){if(s=="command"&&String(n).startsWith("Create"))return{command:"create"};if(s=="command"&&String(n).startsWith("Update"))return{command:"update"};if(s=="select")return{select:""};if(s=="summary")return{summary:`${t} ${r}`}}}}async function lP(e,t){let{path:r,command:n,select:s}=e,{shared:u}=t;if(u.phase&&!r.startsWith(".multicoder"))return"Error: cannot modify source code yet. At this point you should only work on task documents.";let{error:h}=await uE(e,t);return s&&s.split(`
`).length<2&&n!="insert"&&(r.endsWith(".md")?h="Selection is too small, use the full section text":h="Selection is too small, provide at least 3-5 lines"),h?"Tool error: "+h:"ok"}async function uE({path:e,command:t,select:r,content:n},s){let u=Na(e,s.id),h=null,S=null,I=n;try{if(await Cy.workspace.fs.stat(u),t==="create")return{error:"File already exists: "+e}}catch{if(t!=="create")return{error:"File not found: "+e}}switch(t=="insert"&&n.endsWith(r)&&(n=n.replace(r,"")),t=="update"&&r&&(r=""),t){case"insert":case"append":case"replace":case"update":if(h=await Cy.workspace.openTextDocument(u),S=await vh(u),I=vP(S,r,n,h.eol,t),typeof I=="object")return I}return{document:h,before:S,after:I}}async function fP(e,t,r){let{path:n,summary:s,command:u,select:h,content:S}=e,{log:I,shared:C}=t,F=Na(n,t.id),H=n.split("/").pop();if(r!="ok")return C.phase&&!n.startsWith(".multicoder")&&I.warn(`[workflow] Code not allowed: ${s}`,{filename:H,command:u,summary:s}),r;let{document:ne,before:fe,after:ie,error:Q}=await uE(e,t);if(Q)return Q;let re=at=>at?at.split(`
`).length:0,le=re(h),he=re(S);I.info(s,{filename:H,command:u,selectedLines:le,contentLines:he,event:`tool.editor.${u}`});try{await aw(F,ie)}catch(at){throw I.warn("Cannot write file - "+at.message,{filename:H,command:u,summary:s,...at}),at}ne=await Cy.workspace.openTextDocument(F);let je=ne.languageId,Ee=Zg();n.startsWith(".multicoder")||C.edits.push({id:Ee,summary:s,path:n,before:fe,after:ie,search:S}),aE(t,u,Ee,s,S||h,n,je),await dP(.1);let ze="";n.endsWith(".md")?ze=await O_(F,!0):ze=await k_(F,!0);let _t=u=="create"?"created":"modified";return C.phase?ze+`

Document ${_t}. Provide a very short summary using ${va.name} tool`:ze+`

File ${n} ${_t} successfully.`}async function dP(e){return new Promise(t=>setTimeout(t,e*1e3))}function pP(e){return/^\s*\/\//.test(e)||/^\s*\/\*/.test(e)}function sE(e,t){let r=pP(e)?"":`
`;return e.endsWith(`
`)&&t.startsWith(`
`)?e+t:e.endsWith(`
`)||t.startsWith(`
`)?e+r+t:e+r+`
`+t}function vP(e,t,r,n,s){let u=e.replace(/\r\n/g,`
`);if(s=="update"&&u==r)return{error:"The new content is the same as the original file. No changes were made."};if(s=="replace"&&t==r)return{error:"The new content is the same as the selection. No changes were made."};t||(t=u),(u+`
`).endsWith(t)&&(u+=`
`),s=="insert"&&(r=sE(r,t)),s=="append"&&(r=sE(t,r));let h=u.replace(t,r);return u==h?{error:"The selected text cannot be found in the current file. Did you provide exact full consecutive lines including whitespace?"}:(n==2&&(h=h.replace(/\n/g,`\r
`)),h)}var qv={name:nP,description:aP,parameters:sP,execute:lP,finalize:fP,progress:uP,repair:cP};var cE=require("vscode");var{fs:RL}=cE.workspace,mP="multicoder_filesystem",hP=Br`
    Manage files and directories

    Commands:
    - /create: creates a new directory at the specified path
    - /delete: deletes a file or directory at the specified path
`,_P=O.object({command:O.enum(["create","delete"]).describe("Command"),path:O.string().describe("File or directory path")}),gP="Working with files ...";async function yP({command:e,path:t},{id:r,log:n}){let s=t.split("/").pop(),u=Na(t,r);return n.info(s,{command:e,event:`tool.filesystem.${e}`}),"ok"}var xy={name:mP,description:hP,parameters:_P,execute:yP,progress:gP};var SP="multicoder_question",wP=Br`
    Ask a single focused question to collect missing information from the user.

    Purpose:
    - Gather specific information needed to proceed with a task
    - Resolve ambiguity in user requests
    - Guide user through decisions with clear options

    Usage guidelines:
    - Collect all necessary information step-by-step, use this tool up to 10 times if needed
    - Limit choices to 3-7 options for optimal readability
    - Avoid open-ended questions - provide concrete choices
    - Always provide most appropriate and useful default value

    Examples:
    - Yes/No decisions: "Should this function handle null values?"
    - Multiple choice: "Which HTTP method should this endpoint use?"
    - Technology selection: "Which database type best fits these requirements?"
`,bP="The main question text to display to the user. Should be clear, specific and end with question mark.",EP="Additional explanation, background information, or guidance to help user make an informed choice.",TP="List of possible answers the user can select from. Each choice should be distinct and meaningful.",IP="When true, user can select multiple choices. When false, only single choice is allowed.",NP="Pre-selected choice(s) shown initially. Must be one of the provided choices or comma-separated list.",DP=O.object({text:O.string().describe(bP),context:O.string().max(2e3).describe(EP),choices:O.array(O.string()).describe(TP),allowMultiple:O.boolean().describe(IP),defaultValue:O.string().describe(NP)}),CP="Preparing questions ...";function xP(e,{choices:t}){if(e.code=="invalid_type"){let r=e.path[0];if(e.received=="undefined"){if(r=="allowMultiple")return{allowMultiple:!1};if(r=="defaultValue"&&Array.isArray(t)&&t.length>0)return{defaultValue:t[0]}}}}var H0=[];async function PP(e,t){return e.defaultValue||"No answer"}async function AP({text:e,context:t,choices:r,allowMultiple:n,defaultValue:s},u,h){let S=[],{log:I,stream:C,shared:F}=u,H=s||"No answer";for(I.info(e,{choices:r,info:t,allowMultiple:n,defaultValue:s,event:"tool.question"});;){if(C.markdown(RP(e,t)),n&&S.length?C.markdown(kP(S)):C.markdown(`

(`+H+`)

`),F.auto)return H;let ne=OP(r,S,n),fe=await Hp(u,{followups:ne});if({stream:C}=u,n){if(!fe.prompt)return H=S.length?S.join(", "):H,H0.push({question:e,answer:H}),H}else return H=fe.prompt||H,H0.push({question:e,answer:H}),H;S.push(fe.prompt)}}var RP=(e,t)=>`

---
Q: **${e}**

${t}
`,kP=e=>`
${e.map(t=>`
- ${t}`)}
`;function OP(e,t,r){let n=[];return e.forEach(s=>{t.indexOf(s)==-1&&!/please/i.test(s)&&n.push({command:"",prompt:s})}),r&&n.push({command:"",prompt:"",label:"\u25B7\xA0 next step (Enter)"}),n}var M_={name:SP,description:wP,parameters:DP,execute:PP,finalize:AP,progress:CP,repair:xP,latest:H0};var lE="multicoder_evaluation",MP=Br`
    Reports the task evaluation results. Use this tool when requested to evaluate a task.

    Evaluate the task for 
    - clarity (ambiguity, incompleteness, imprecision),
    - complexity (functional scope, architectural scale, required skills level)
    - workload (workflow type, projected effort, budget estimate)

    Carefully choose the most appropriate level for each evaluated dimension.
`,LP=Br`
    Using ${lE} tool reply with an evaluation of this task for clarity, complexity and workload.
`,FP=O.number().describe(`
The ambiguity level:
    0 - n/a (not applicable)
    1 - very low
    2 - low
    3 - medium
    4 - high
    5 - very high

Ambiguity implies that something can be interpreted in multiple valid ways.
`),UP=O.number().describe(`
The incompleteness level:
    0 - n/a (not applicable)
    1 - very low
    2 - low
    3 - medium
    4 - high
    5 - very high

Incompleteness refers to missing information or parts.
`),jP=O.number().describe(`
The imprecision level:
    0 - n/a (not applicable)
    1 - very low
    2 - low
    3 - medium
    4 - high
    5 - very high

Imprecision refers to lack of exactness or accuracy.
`),YP=O.number().describe(`
The functional scope level:
    0 - n/a (not applicable)
    1 - implementation details, simple bugfix, code formatting
    2 - user story, issue, enhancement, complex bugfix
    3 - product feature, architectural refactoring
    4 - epic, application, library, subsystem
    5 - full product, platform, framework
`),$P=O.number().describe(`
The architectural scale level:
    0 - n/a (not applicable)
    1 - code level (local scope): variable naming, control flow, error handling
    2 - component level (single module): classes, functions, state management, data structures
    3 - service level (multiple modules): APIs, database models, service integrations
    4 - application level (system-wide): application architecture, system design
    5 - enterprise level (cross-system): distributed systems, cloud infrastructure, scalability
`),qP=O.number().describe(`
The required software engineering skills level:
    0 - n/a (not applicable)
    1 - junior (1 year)
    2 - mid (1-3 years)
    3 - senior (3-5 years)
    4 - staff (5-10 years)
    5 - principal (10+) years
`),BP=O.number().describe(`
The applicable workflow type:
    0 - n/a (not applicable)
    1 - single commit
    2 - pull request
    3 - sprint/iteration
    4 - small project
    5 - large project
`),HP=O.number().describe(`
The projected effort level:
    0 - n/a (not applicable)
    1 - very small (minutes)
    2 - small (hours)
    3 - medium (days)
    4 - large (weeks)
    5 - very large (months)
`),zP=O.number().describe(`
The development budget estimate:
    0 - n/a (not applicable)
    1 - very low
    2 - $20-200
    3 - $200-2000
    4 - $2000-20000
    5 - above $20000
`),GP=O.boolean().describe(Br`
    true if task requirements need further clarification or refinement
`),VP=O.boolean().describe(Br`
    true if solution is not trivial and will benefit from detailed design
`),KP=O.boolean().describe(Br`
    true to split the task into smaller, manageable steps
`),WP=O.object({ambiguity:FP,incompleteness:UP,imprecision:jP,functionalScope:YP,architecturalScale:$P,skillsLevel:qP,workflowType:BP,projectedEffort:HP,budgetEstimate:zP,clarifyRequirements:GP,designSolution:VP,splitIntoParts:KP}),JP=()=>({ambiguity:1,incompleteness:1,imprecision:1,functionalScope:1,architecturalScale:1,skillsLevel:1,workflowType:1,projectedEffort:1,budgetEstimate:1,clarifyRequirements:!1,designSolution:!1,splitIntoParts:!1});function ZP(e,{projectedEffort:t,budgetEstimate:r}){if(e.code=="invalid_type"){let n=e.path[0];if(e.received=="undefined"&&n=="workflowType"&&(t||r))return{workflowType:t||r}}}async function XP(e,{log:t}){let r=I=>I.toFixed(1),[n,s,u]=fE(e),h=`${r(n)} ${r(s)} ${r(u)} `,S=`${e.clarifyRequirements} ${e.designSolution} ${e.splitIntoParts}`;return t.info(h+S,{uncertainty:n,complexity:s,workload:u,...e,event:"tool.evaluation"}),"ok"}function fE(e){let t=(e.ambiguity+e.incompleteness+e.imprecision)/3,r=(e.architecturalScale+e.functionalScope+e.skillsLevel)/3,n=(e.projectedEffort+e.workflowType+e.budgetEstimate)/3;return[t,r,n]}var L_={name:lE,description:MP,parameters:WP,execute:XP,retry:LP,fallback:JP,repair:ZP,compute:fE};var pE=Symbol("Let zodToJsonSchema decide on which parser to use"),dE={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},vE=e=>typeof e=="string"?{...dE,name:e}:{...dE,...e};var mE=e=>{let t=vE(e),r=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([n,s])=>[s._def,{def:s._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]))}};function z0(e,t,r,n){n!=null&&n.errorMessages&&r&&(e.errorMessage={...e.errorMessage,[t]:r})}function cn(e,t,r,n,s){e[t]=r,z0(e,t,n,s)}function hE(){return{}}function _E(e,t){var n,s,u;let r={type:"array"};return(n=e.type)!=null&&n._def&&((u=(s=e.type)==null?void 0:s._def)==null?void 0:u.typeName)!==He.ZodAny&&(r.items=dr(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&cn(r,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&cn(r,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(cn(r,"minItems",e.exactLength.value,e.exactLength.message,t),cn(r,"maxItems",e.exactLength.value,e.exactLength.message,t)),r}function gE(e,t){let r={type:"integer",format:"int64"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"min":t.target==="jsonSchema7"?n.inclusive?cn(r,"minimum",n.value,n.message,t):cn(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),cn(r,"minimum",n.value,n.message,t));break;case"max":t.target==="jsonSchema7"?n.inclusive?cn(r,"maximum",n.value,n.message,t):cn(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),cn(r,"maximum",n.value,n.message,t));break;case"multipleOf":cn(r,"multipleOf",n.value,n.message,t);break}return r}function yE(){return{type:"boolean"}}function Py(e,t){return dr(e.type._def,t)}var SE=(e,t)=>dr(e.innerType._def,t);function G0(e,t,r){let n=r??t.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((s,u)=>G0(e,t,s))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return QP(e,t)}}var QP=(e,t)=>{let r={type:"integer",format:"unix-time"};if(t.target==="openApi3")return r;for(let n of e.checks)switch(n.kind){case"min":cn(r,"minimum",n.value,n.message,t);break;case"max":cn(r,"maximum",n.value,n.message,t);break}return r};function wE(e,t){return{...dr(e.innerType._def,t),default:e.defaultValue()}}function bE(e,t){return t.effectStrategy==="input"?dr(e.schema._def,t):{}}function EE(e){return{type:"string",enum:Array.from(e.values)}}var eA=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function TE(e,t){let r=[dr(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),dr(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(u=>!!u),n=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,s=[];return r.forEach(u=>{if(eA(u))s.push(...u.allOf),u.unevaluatedProperties===void 0&&(n=void 0);else{let h=u;if("additionalProperties"in u&&u.additionalProperties===!1){let{additionalProperties:S,...I}=u;h=I}else n=void 0;s.push(h)}}),s.length?{allOf:s,...n}:void 0}function IE(e,t){let r=typeof e.value;return r!=="bigint"&&r!=="number"&&r!=="boolean"&&r!=="string"?{type:Array.isArray(e.value)?"array":"object"}:t.target==="openApi3"?{type:r==="bigint"?"integer":r,enum:[e.value]}:{type:r==="bigint"?"integer":r,const:e.value}}var V0,zp={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(V0===void 0&&(V0=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),V0),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function Ay(e,t){let r={type:"string"};if(e.checks)for(let n of e.checks)switch(n.kind){case"min":cn(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,t);break;case"max":cn(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"email":switch(t.emailStrategy){case"format:email":Gp(r,"email",n.message,t);break;case"format:idn-email":Gp(r,"idn-email",n.message,t);break;case"pattern:zod":Mc(r,zp.email,n.message,t);break}break;case"url":Gp(r,"uri",n.message,t);break;case"uuid":Gp(r,"uuid",n.message,t);break;case"regex":Mc(r,n.regex,n.message,t);break;case"cuid":Mc(r,zp.cuid,n.message,t);break;case"cuid2":Mc(r,zp.cuid2,n.message,t);break;case"startsWith":Mc(r,RegExp(`^${K0(n.value,t)}`),n.message,t);break;case"endsWith":Mc(r,RegExp(`${K0(n.value,t)}$`),n.message,t);break;case"datetime":Gp(r,"date-time",n.message,t);break;case"date":Gp(r,"date",n.message,t);break;case"time":Gp(r,"time",n.message,t);break;case"duration":Gp(r,"duration",n.message,t);break;case"length":cn(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,t),cn(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"includes":{Mc(r,RegExp(K0(n.value,t)),n.message,t);break}case"ip":{n.version!=="v6"&&Gp(r,"ipv4",n.message,t),n.version!=="v4"&&Gp(r,"ipv6",n.message,t);break}case"base64url":Mc(r,zp.base64url,n.message,t);break;case"jwt":Mc(r,zp.jwt,n.message,t);break;case"cidr":{n.version!=="v6"&&Mc(r,zp.ipv4Cidr,n.message,t),n.version!=="v4"&&Mc(r,zp.ipv6Cidr,n.message,t);break}case"emoji":Mc(r,zp.emoji(),n.message,t);break;case"ulid":{Mc(r,zp.ulid,n.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{Gp(r,"binary",n.message,t);break}case"contentEncoding:base64":{cn(r,"contentEncoding","base64",n.message,t);break}case"pattern:zod":{Mc(r,zp.base64,n.message,t);break}}break}case"nanoid":Mc(r,zp.nanoid,n.message,t);case"toLowerCase":case"toUpperCase":case"trim":break;default:}return r}function K0(e,t){return t.patternStrategy==="escape"?rA(e):e}var tA=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function rA(e){let t="";for(let r=0;r<e.length;r++)tA.has(e[r])||(t+="\\"),t+=e[r];return t}function Gp(e,t,r,n){var s;e.format||(s=e.anyOf)!=null&&s.some(u=>u.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&n.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):cn(e,"format",t,r,n)}function Mc(e,t,r,n){var s;e.pattern||(s=e.allOf)!=null&&s.some(u=>u.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&n.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.allOf.push({pattern:NE(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):cn(e,"pattern",NE(t,n),r,n)}function NE(e,t){var I;if(!t.applyRegexFlags||!e.flags)return e.source;let r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},n=r.i?e.source.toLowerCase():e.source,s="",u=!1,h=!1,S=!1;for(let C=0;C<n.length;C++){if(u){s+=n[C],u=!1;continue}if(r.i){if(h){if(n[C].match(/[a-z]/)){S?(s+=n[C],s+=`${n[C-2]}-${n[C]}`.toUpperCase(),S=!1):n[C+1]==="-"&&((I=n[C+2])!=null&&I.match(/[a-z]/))?(s+=n[C],S=!0):s+=`${n[C]}${n[C].toUpperCase()}`;continue}}else if(n[C].match(/[a-z]/)){s+=`[${n[C]}${n[C].toUpperCase()}]`;continue}}if(r.m){if(n[C]==="^"){s+=`(^|(?<=[\r
]))`;continue}else if(n[C]==="$"){s+=`($|(?=[\r
]))`;continue}}if(r.s&&n[C]==="."){s+=h?`${n[C]}\r
`:`[${n[C]}\r
]`;continue}s+=n[C],n[C]==="\\"?u=!0:h&&n[C]==="]"?h=!1:!h&&n[C]==="["&&(h=!0)}try{new RegExp(s)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return s}function Ry(e,t){var n,s,u,h,S,I;if(t.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),t.target==="openApi3"&&((n=e.keyType)==null?void 0:n._def.typeName)===He.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((C,F)=>({...C,[F]:dr(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",F]})??{}}),{}),additionalProperties:!1};let r={type:"object",additionalProperties:dr(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??{}};if(t.target==="openApi3")return r;if(((s=e.keyType)==null?void 0:s._def.typeName)===He.ZodString&&((u=e.keyType._def.checks)!=null&&u.length)){let{type:C,...F}=Ay(e.keyType._def,t);return{...r,propertyNames:F}}else{if(((h=e.keyType)==null?void 0:h._def.typeName)===He.ZodEnum)return{...r,propertyNames:{enum:e.keyType._def.values}};if(((S=e.keyType)==null?void 0:S._def.typeName)===He.ZodBranded&&e.keyType._def.type._def.typeName===He.ZodString&&((I=e.keyType._def.type._def.checks)!=null&&I.length)){let{type:C,...F}=Py(e.keyType._def,t);return{...r,propertyNames:F}}}return r}function DE(e,t){if(t.mapStrategy==="record")return Ry(e,t);let r=dr(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},n=dr(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}function CE(e){let t=e.values,n=Object.keys(e.values).filter(u=>typeof t[t[u]]!="number").map(u=>t[u]),s=Array.from(new Set(n.map(u=>typeof u)));return{type:s.length===1?s[0]==="string"?"string":"number":["string","number"],enum:n}}function xE(){return{not:{}}}function PE(e){return e.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}var dg={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function RE(e,t){if(t.target==="openApi3")return AE(e,t);let r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(n=>n._def.typeName in dg&&(!n._def.checks||!n._def.checks.length))){let n=r.reduce((s,u)=>{let h=dg[u._def.typeName];return h&&!s.includes(h)?[...s,h]:s},[]);return{type:n.length>1?n:n[0]}}else if(r.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){let n=r.reduce((s,u)=>{let h=typeof u._def.value;switch(h){case"string":case"number":case"boolean":return[...s,h];case"bigint":return[...s,"integer"];case"object":if(u._def.value===null)return[...s,"null"];case"symbol":case"undefined":case"function":default:return s}},[]);if(n.length===r.length){let s=n.filter((u,h,S)=>S.indexOf(u)===h);return{type:s.length>1?s:s[0],enum:r.reduce((u,h)=>u.includes(h._def.value)?u:[...u,h._def.value],[])}}}else if(r.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((n,s)=>[...n,...s._def.values.filter(u=>!n.includes(u))],[])};return AE(e,t)}var AE=(e,t)=>{let r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((n,s)=>dr(n._def,{...t,currentPath:[...t.currentPath,"anyOf",`${s}`]})).filter(n=>!!n&&(!t.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return r.length?{anyOf:r}:void 0};function kE(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return t.target==="openApi3"?{type:dg[e.innerType._def.typeName],nullable:!0}:{type:[dg[e.innerType._def.typeName],"null"]};if(t.target==="openApi3"){let n=dr(e.innerType._def,{...t,currentPath:[...t.currentPath]});return n&&"$ref"in n?{allOf:[n],nullable:!0}:n&&{...n,nullable:!0}}let r=dr(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}function OE(e,t){let r={type:"number"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"int":r.type="integer",z0(r,"type",n.message,t);break;case"min":t.target==="jsonSchema7"?n.inclusive?cn(r,"minimum",n.value,n.message,t):cn(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),cn(r,"minimum",n.value,n.message,t));break;case"max":t.target==="jsonSchema7"?n.inclusive?cn(r,"maximum",n.value,n.message,t):cn(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),cn(r,"maximum",n.value,n.message,t));break;case"multipleOf":cn(r,"multipleOf",n.value,n.message,t);break}return r}function nA(e,t){return t.removeAdditionalStrategy==="strict"?e.catchall._def.typeName==="ZodNever"?e.unknownKeys!=="strict":dr(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0:e.catchall._def.typeName==="ZodNever"?e.unknownKeys==="passthrough":dr(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0}function ME(e,t){let r=t.target==="openAi",n={type:"object",...Object.entries(e.shape()).reduce((s,[u,h])=>{if(h===void 0||h._def===void 0)return s;let S=h.isOptional();S&&r&&(h instanceof Al&&(h=h._def.innerType),h.isNullable()||(h=h.nullable()),S=!1);let I=dr(h._def,{...t,currentPath:[...t.currentPath,"properties",u],propertyPath:[...t.currentPath,"properties",u]});return I===void 0?s:{properties:{...s.properties,[u]:I},required:S?s.required:[...s.required,u]}},{properties:{},required:[]}),additionalProperties:nA(e,t)};return n.required.length||delete n.required,n}var LE=(e,t)=>{var n;if(t.currentPath.toString()===((n=t.propertyPath)==null?void 0:n.toString()))return dr(e.innerType._def,t);let r=dr(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:{}},r]}:{}};var FE=(e,t)=>{if(t.pipeStrategy==="input")return dr(e.in._def,t);if(t.pipeStrategy==="output")return dr(e.out._def,t);let r=dr(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=dr(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(s=>s!==void 0)}};function UE(e,t){return dr(e.type._def,t)}function jE(e,t){let n={type:"array",uniqueItems:!0,items:dr(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&cn(n,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&cn(n,"maxItems",e.maxSize.value,e.maxSize.message,t),n}function YE(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((r,n)=>dr(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[]),additionalItems:dr(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((r,n)=>dr(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[])}}function $E(){return{not:{}}}function qE(){return{}}var BE=(e,t)=>dr(e.innerType._def,t);function dr(e,t,r=!1){var h;let n=t.seen.get(e);if(t.override){let S=(h=t.override)==null?void 0:h.call(t,e,t,n,r);if(S!==pE)return S}if(n&&!r){let S=aA(n,t);if(S!==void 0)return S}let s={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,s);let u=oA(e,e.typeName,t);return u&&sA(e,t,u),s.jsonSchema=u,u}var aA=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:iA(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((r,n)=>t.currentPath[n]===r)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{}):t.$refStrategy==="seen"?{}:void 0}},iA=(e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")},oA=(e,t,r)=>{switch(t){case He.ZodString:return Ay(e,r);case He.ZodNumber:return OE(e,r);case He.ZodObject:return ME(e,r);case He.ZodBigInt:return gE(e,r);case He.ZodBoolean:return yE();case He.ZodDate:return G0(e,r);case He.ZodUndefined:return $E();case He.ZodNull:return PE(r);case He.ZodArray:return _E(e,r);case He.ZodUnion:case He.ZodDiscriminatedUnion:return RE(e,r);case He.ZodIntersection:return TE(e,r);case He.ZodTuple:return YE(e,r);case He.ZodRecord:return Ry(e,r);case He.ZodLiteral:return IE(e,r);case He.ZodEnum:return EE(e);case He.ZodNativeEnum:return CE(e);case He.ZodNullable:return kE(e,r);case He.ZodOptional:return LE(e,r);case He.ZodMap:return DE(e,r);case He.ZodSet:return jE(e,r);case He.ZodLazy:return dr(e.getter()._def,r);case He.ZodPromise:return UE(e,r);case He.ZodNaN:case He.ZodNever:return xE();case He.ZodEffects:return bE(e,r);case He.ZodAny:return hE();case He.ZodUnknown:return qE();case He.ZodDefault:return wE(e,r);case He.ZodBranded:return Py(e,r);case He.ZodReadonly:return BE(e,r);case He.ZodCatch:return SE(e,r);case He.ZodPipeline:return FE(e,r);case He.ZodFunction:case He.ZodVoid:case He.ZodSymbol:return;default:return(n=>{})(t)}},sA=(e,t,r)=>(e.description&&(r.description=e.description,t.markdownDescription&&(r.markdownDescription=e.description)),r);var HE=(e,t)=>{let r=mE(t),n=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((I,[C,F])=>({...I,[C]:dr(F._def,{...r,currentPath:[...r.basePath,r.definitionPath,C]},!0)??{}}),{}):void 0,s=typeof t=="string"?t:(t==null?void 0:t.nameStrategy)==="title"||t==null?void 0:t.name,u=dr(e._def,s===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,s]},!1)??{},h=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;h!==void 0&&(u.title=h);let S=s===void 0?n?{...u,[r.definitionPath]:n}:u:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,s].join("/"),[r.definitionPath]:{...n,[s]:u}};return r.target==="jsonSchema7"?S.$schema="http://json-schema.org/draft-07/schema#":(r.target==="jsonSchema2019-09"||r.target==="openAi")&&(S.$schema="https://json-schema.org/draft/2019-09/schema#"),r.target==="openAi"&&("anyOf"in S||"oneOf"in S||"allOf"in S||"type"in S&&Array.isArray(S.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),S};var zE=HE;var pg={code:"0",name:"text",parse:e=>{if(typeof e!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},vg={code:"3",name:"error",parse:e=>{if(typeof e!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},mg={code:"4",name:"assistant_message",parse:e=>{if(e==null||typeof e!="object"||!("id"in e)||!("role"in e)||!("content"in e)||typeof e.id!="string"||typeof e.role!="string"||e.role!=="assistant"||!Array.isArray(e.content)||!e.content.every(t=>t!=null&&typeof t=="object"&&"type"in t&&t.type==="text"&&"text"in t&&t.text!=null&&typeof t.text=="object"&&"value"in t.text&&typeof t.text.value=="string"))throw new Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},hg={code:"5",name:"assistant_control_data",parse:e=>{if(e==null||typeof e!="object"||!("threadId"in e)||!("messageId"in e)||typeof e.threadId!="string"||typeof e.messageId!="string")throw new Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}},_g={code:"6",name:"data_message",parse:e=>{if(e==null||typeof e!="object"||!("role"in e)||!("data"in e)||typeof e.role!="string"||e.role!=="data")throw new Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}}},uA=[pg,vg,mg,hg,_g],_U={[pg.code]:pg,[vg.code]:vg,[mg.code]:mg,[hg.code]:hg,[_g.code]:_g},gU={[pg.name]:pg.code,[vg.name]:vg.code,[mg.name]:mg.code,[hg.name]:hg.code,[_g.name]:_g.code},yU=uA.map(e=>e.code);function cA(e){let t=["ROOT"],r=-1,n=null;function s(I,C,F){switch(I){case'"':{r=C,t.pop(),t.push(F),t.push("INSIDE_STRING");break}case"f":case"t":case"n":{r=C,n=C,t.pop(),t.push(F),t.push("INSIDE_LITERAL");break}case"-":{t.pop(),t.push(F),t.push("INSIDE_NUMBER");break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{r=C,t.pop(),t.push(F),t.push("INSIDE_NUMBER");break}case"{":{r=C,t.pop(),t.push(F),t.push("INSIDE_OBJECT_START");break}case"[":{r=C,t.pop(),t.push(F),t.push("INSIDE_ARRAY_START");break}}}function u(I,C){switch(I){case",":{t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{r=C,t.pop();break}}}function h(I,C){switch(I){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{r=C,t.pop();break}}}for(let I=0;I<e.length;I++){let C=e[I];switch(t[t.length-1]){case"ROOT":s(C,I,"FINISH");break;case"INSIDE_OBJECT_START":{switch(C){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}case"}":{r=I,t.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch(C){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}}break}case"INSIDE_OBJECT_KEY":{switch(C){case'"':{t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch(C){case":":{t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{s(C,I,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{u(C,I);break}case"INSIDE_STRING":{switch(C){case'"':{t.pop(),r=I;break}case"\\":{t.push("INSIDE_STRING_ESCAPE");break}default:r=I}break}case"INSIDE_ARRAY_START":{switch(C){case"]":{r=I,t.pop();break}default:{r=I,s(C,I,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(C){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{r=I,t.pop();break}default:{r=I;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{s(C,I,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{t.pop(),r=I;break}case"INSIDE_NUMBER":{switch(C){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{r=I;break}case"e":case"E":case"-":case".":break;case",":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&h(C,I),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&u(C,I);break}case"}":{t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&u(C,I);break}case"]":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&h(C,I);break}default:{t.pop();break}}break}case"INSIDE_LITERAL":{let H=e.substring(n,I+1);!"false".startsWith(H)&&!"true".startsWith(H)&&!"null".startsWith(H)?(t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?u(C,I):t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&h(C,I)):r=I;break}}}let S=e.slice(0,r+1);for(let I=t.length-1;I>=0;I--)switch(t[I]){case"INSIDE_STRING":{S+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{S+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{S+="]";break}case"INSIDE_LITERAL":{let F=e.substring(n,e.length);"true".startsWith(F)?S+="true".slice(F.length):"false".startsWith(F)?S+="false".slice(F.length):"null".startsWith(F)&&(S+="null".slice(F.length))}}return S}function GE(e){if(e===void 0)return{value:void 0,state:"undefined-input"};let t=Uv({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=Uv({text:cA(e)}),t.success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}var gg={code:"0",name:"text",parse:e=>{if(typeof e!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},yg={code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw new Error('"data" parts expect an array value.');return{type:"data",value:e}}},Sg={code:"3",name:"error",parse:e=>{if(typeof e!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},wg={code:"8",name:"message_annotations",parse:e=>{if(!Array.isArray(e))throw new Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}}},bg={code:"9",name:"tool_call",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string"||!("args"in e)||typeof e.args!="object")throw new Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:e}}},Eg={code:"a",name:"tool_result",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("result"in e))throw new Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:e}}},Tg={code:"b",name:"tool_call_streaming_start",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string")throw new Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:e}}},Ig={code:"c",name:"tool_call_delta",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("argsTextDelta"in e)||typeof e.argsTextDelta!="string")throw new Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:e}}},Ng={code:"d",name:"finish_message",parse:e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_message" parts expect an object with a "finishReason" property.');let t={finishReason:e.finishReason};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),{type:"finish_message",value:t}}},Dg={code:"e",name:"finish_step",parse:e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_step" parts expect an object with a "finishReason" property.');let t={finishReason:e.finishReason,isContinued:!1};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),"isContinued"in e&&typeof e.isContinued=="boolean"&&(t.isContinued=e.isContinued),{type:"finish_step",value:t}}},Cg={code:"f",name:"start_step",parse:e=>{if(e==null||typeof e!="object"||!("messageId"in e)||typeof e.messageId!="string")throw new Error('"start_step" parts expect an object with an "id" property.');return{type:"start_step",value:{messageId:e.messageId}}}},xg={code:"g",name:"reasoning",parse:e=>{if(typeof e!="string")throw new Error('"reasoning" parts expect a string value.');return{type:"reasoning",value:e}}},VE=[gg,yg,Sg,wg,bg,Eg,Tg,Ig,Ng,Dg,Cg,xg],wU={[gg.code]:gg,[yg.code]:yg,[Sg.code]:Sg,[wg.code]:wg,[bg.code]:bg,[Eg.code]:Eg,[Tg.code]:Tg,[Ig.code]:Ig,[Ng.code]:Ng,[Dg.code]:Dg,[Cg.code]:Cg,[xg.code]:xg},bU={[gg.name]:gg.code,[yg.name]:yg.code,[Sg.name]:Sg.code,[wg.name]:wg.code,[bg.name]:bg.code,[Eg.name]:Eg.code,[Tg.name]:Tg.code,[Ig.name]:Ig.code,[Ng.name]:Ng.code,[Dg.name]:Dg.code,[Cg.name]:Cg.code,[xg.name]:xg.code},EU=VE.map(e=>e.code);function Lc(e,t){let r=VE.find(n=>n.name===e);if(!r)throw new Error(`Invalid stream part type: ${e}`);return`${r.code}:${JSON.stringify(t)}
`}function lA(e,t){var r;let n=(r=t==null?void 0:t.useReferences)!=null?r:!1;return fA(zE(e,{$refStrategy:n?"root":"none",target:"jsonSchema7"}),{validate:s=>{let u=e.safeParse(s);return u.success?{success:!0,value:u.data}:{success:!1,error:u.error}}})}var W0=Symbol.for("vercel.ai.schema");function fA(e,{validate:t}={}){return{[W0]:!0,_type:void 0,[ag]:!0,jsonSchema:e,validate:t}}function dA(e){return typeof e=="object"&&e!==null&&W0 in e&&e[W0]===!0&&"jsonSchema"in e&&"validate"in e}function i_(e){return dA(e)?e:lA(e)}var KE=typeof globalThis=="object"?globalThis:global;var jm="1.9.0";var WE=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function pA(e){var t=new Set([e]),r=new Set,n=e.match(WE);if(!n)return function(){return!1};var s={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(s.prerelease!=null)return function(I){return I===e};function u(S){return r.add(S),!1}function h(S){return t.add(S),!0}return function(I){if(t.has(I))return!0;if(r.has(I))return!1;var C=I.match(WE);if(!C)return u(I);var F={major:+C[1],minor:+C[2],patch:+C[3],prerelease:C[4]};return F.prerelease!=null||s.major!==F.major?u(I):s.major===0?s.minor===F.minor&&s.patch<=F.patch?h(I):u(I):s.minor<=F.minor?h(I):u(I)}}var JE=pA(jm);var vA=jm.split(".")[0],Pg=Symbol.for("opentelemetry.js.api."+vA),Ag=KE;function F_(e,t,r,n){var s;n===void 0&&(n=!1);var u=Ag[Pg]=(s=Ag[Pg])!==null&&s!==void 0?s:{version:jm};if(!n&&u[e]){var h=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(h.stack||h.message),!1}if(u.version!==jm){var h=new Error("@opentelemetry/api: Registration of version v"+u.version+" for "+e+" does not match previously registered API v"+jm);return r.error(h.stack||h.message),!1}return u[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+jm+"."),!0}function Ym(e){var t,r,n=(t=Ag[Pg])===null||t===void 0?void 0:t.version;if(!(!n||!JE(n)))return(r=Ag[Pg])===null||r===void 0?void 0:r[e]}function U_(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+jm+".");var r=Ag[Pg];r&&delete r[e]}var mA=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,u=[],h;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)u.push(s.value)}catch(S){h={error:S}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(h)throw h.error}}return u},hA=function(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,u;n<s;n++)(u||!(n in t))&&(u||(u=Array.prototype.slice.call(t,0,n)),u[n]=t[n]);return e.concat(u||Array.prototype.slice.call(t))},ZE=function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Rg("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Rg("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Rg("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Rg("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Rg("verbose",this._namespace,t)},e}();function Rg(e,t,r){var n=Ym("diag");if(n)return r.unshift(t),n[e].apply(n,hA([],mA(r),!1))}var Fc;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(Fc||(Fc={}));function XE(e,t){e<Fc.NONE?e=Fc.NONE:e>Fc.ALL&&(e=Fc.ALL),t=t||{};function r(n,s){var u=t[n];return typeof u=="function"&&e>=s?u.bind(t):function(){}}return{error:r("error",Fc.ERROR),warn:r("warn",Fc.WARN),info:r("info",Fc.INFO),debug:r("debug",Fc.DEBUG),verbose:r("verbose",Fc.VERBOSE)}}var _A=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,u=[],h;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)u.push(s.value)}catch(S){h={error:S}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(h)throw h.error}}return u},gA=function(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,u;n<s;n++)(u||!(n in t))&&(u||(u=Array.prototype.slice.call(t,0,n)),u[n]=t[n]);return e.concat(u||Array.prototype.slice.call(t))},yA="diag",j_=function(){function e(){function t(s){return function(){for(var u=[],h=0;h<arguments.length;h++)u[h]=arguments[h];var S=Ym("diag");if(S)return S[s].apply(S,gA([],_A(u),!1))}}var r=this,n=function(s,u){var h,S,I;if(u===void 0&&(u={logLevel:Fc.INFO}),s===r){var C=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error((h=C.stack)!==null&&h!==void 0?h:C.message),!1}typeof u=="number"&&(u={logLevel:u});var F=Ym("diag"),H=XE((S=u.logLevel)!==null&&S!==void 0?S:Fc.INFO,s);if(F&&!u.suppressOverrideMessage){var ne=(I=new Error().stack)!==null&&I!==void 0?I:"<failed to generate stacktrace>";F.warn("Current logger will be overwritten from "+ne),H.warn("Current logger will overwrite one already registered from "+ne)}return F_("diag",H,r,!0)};r.setLogger=n,r.disable=function(){U_(yA,r)},r.createComponentLogger=function(s){return new ZE(s)},r.verbose=t("verbose"),r.debug=t("debug"),r.info=t("info"),r.warn=t("warn"),r.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}();function QE(e){return Symbol.for(e)}var SA=function(){function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(n){return r._currentContext.get(n)},r.setValue=function(n,s){var u=new e(r._currentContext);return u._currentContext.set(n,s),u},r.deleteValue=function(n){var s=new e(r._currentContext);return s._currentContext.delete(n),s}}return e}(),eT=new SA;var wA=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,u=[],h;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)u.push(s.value)}catch(S){h={error:S}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(h)throw h.error}}return u},bA=function(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,u;n<s;n++)(u||!(n in t))&&(u||(u=Array.prototype.slice.call(t,0,n)),u[n]=t[n]);return e.concat(u||Array.prototype.slice.call(t))},tT=function(){function e(){}return e.prototype.active=function(){return eT},e.prototype.with=function(t,r,n){for(var s=[],u=3;u<arguments.length;u++)s[u-3]=arguments[u];return r.call.apply(r,bA([n],wA(s),!1))},e.prototype.bind=function(t,r){return r},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}();var EA=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),s,u=[],h;try{for(;(t===void 0||t-- >0)&&!(s=n.next()).done;)u.push(s.value)}catch(S){h={error:S}}finally{try{s&&!s.done&&(r=n.return)&&r.call(n)}finally{if(h)throw h.error}}return u},TA=function(e,t,r){if(r||arguments.length===2)for(var n=0,s=t.length,u;n<s;n++)(u||!(n in t))&&(u||(u=Array.prototype.slice.call(t,0,n)),u[n]=t[n]);return e.concat(u||Array.prototype.slice.call(t))},J0="context",IA=new tT,ky=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return F_(J0,t,j_.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,r,n){for(var s,u=[],h=3;h<arguments.length;h++)u[h-3]=arguments[h];return(s=this._getContextManager()).with.apply(s,TA([t,r,n],EA(u),!1))},e.prototype.bind=function(t,r){return this._getContextManager().bind(t,r)},e.prototype._getContextManager=function(){return Ym(J0)||IA},e.prototype.disable=function(){this._getContextManager().disable(),U_(J0,j_.instance())},e}();var Oy;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(Oy||(Oy={}));var Z0="0000000000000000",X0="00000000000000000000000000000000",rT={traceId:X0,spanId:Z0,traceFlags:Oy.NONE};var Sh=function(){function e(t){t===void 0&&(t=rT),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,r){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,r){return this},e.prototype.addLink=function(t){return this},e.prototype.addLinks=function(t){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,r){},e}();var Q0=QE("OpenTelemetry Context Key SPAN");function My(e){return e.getValue(Q0)||void 0}function nT(){return My(ky.getInstance().active())}function kg(e,t){return e.setValue(Q0,t)}function aT(e){return e.deleteValue(Q0)}function iT(e,t){return kg(e,new Sh(t))}function Ly(e){var t;return(t=My(e))===null||t===void 0?void 0:t.spanContext()}var NA=/^([0-9a-f]{32})$/i,DA=/^[0-9a-f]{16}$/i;function CA(e){return NA.test(e)&&e!==X0}function xA(e){return DA.test(e)&&e!==Z0}function Fy(e){return CA(e.traceId)&&xA(e.spanId)}function oT(e){return new Sh(e)}var eS=ky.getInstance(),Uy=function(){function e(){}return e.prototype.startSpan=function(t,r,n){n===void 0&&(n=eS.active());var s=!!(r!=null&&r.root);if(s)return new Sh;var u=n&&Ly(n);return PA(u)&&Fy(u)?new Sh(u):new Sh},e.prototype.startActiveSpan=function(t,r,n,s){var u,h,S;if(!(arguments.length<2)){arguments.length===2?S=r:arguments.length===3?(u=r,S=n):(u=r,h=n,S=s);var I=h??eS.active(),C=this.startSpan(t,u,I),F=kg(I,C);return eS.with(F,S,void 0,C)}},e}();function PA(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}var AA=new Uy,sT=function(){function e(t,r,n,s){this._provider=t,this.name=r,this.version=n,this.options=s}return e.prototype.startSpan=function(t,r,n){return this._getTracer().startSpan(t,r,n)},e.prototype.startActiveSpan=function(t,r,n,s){var u=this._getTracer();return Reflect.apply(u.startActiveSpan,u,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):AA},e}();var uT=function(){function e(){}return e.prototype.getTracer=function(t,r,n){return new Uy},e}();var RA=new uT,tS=function(){function e(){}return e.prototype.getTracer=function(t,r,n){var s;return(s=this.getDelegateTracer(t,r,n))!==null&&s!==void 0?s:new sT(this,t,r,n)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:RA},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,r,n){var s;return(s=this._delegate)===null||s===void 0?void 0:s.getTracer(t,r,n)},e}();var Y_;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(Y_||(Y_={}));var rS="trace",cT=function(){function e(){this._proxyTracerProvider=new tS,this.wrapSpanContext=oT,this.isSpanContextValid=Fy,this.deleteSpan=aT,this.getSpan=My,this.getActiveSpan=nT,this.getSpanContext=Ly,this.setSpan=kg,this.setSpanContext=iT}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var r=F_(rS,this._proxyTracerProvider,j_.instance());return r&&this._proxyTracerProvider.setDelegate(t),r},e.prototype.getTracerProvider=function(){return Ym(rS)||this._proxyTracerProvider},e.prototype.getTracer=function(t,r){return this.getTracerProvider().getTracer(t,r)},e.prototype.disable=function(){U_(rS,j_.instance()),this._proxyTracerProvider=new tS},e}();var nS=cT.getInstance();var kA=Object.defineProperty,lS=(e,t)=>{for(var r in t)kA(e,r,{get:t[r],enumerable:!0})};function Yy(e,{contentType:t,dataStreamVersion:r}){let n=new Headers(e??{});return n.has("Content-Type")||n.set("Content-Type",t),r!==void 0&&n.set("X-Vercel-AI-Data-Stream",r),n}function lT(e,{contentType:t,dataStreamVersion:r}){let n={};if(e!=null)for(let[s,u]of Object.entries(e))n[s]=u;return n["Content-Type"]==null&&(n["Content-Type"]=t),r!==void 0&&(n["X-Vercel-AI-Data-Stream"]=r),n}function fT({response:e,status:t,statusText:r,headers:n,stream:s}){e.writeHead(t??200,r,n);let u=s.getReader();(async()=>{try{for(;;){let{done:S,value:I}=await u.read();if(S)break;e.write(I)}}catch(S){throw S}finally{e.end()}})()}var yT="AI_InvalidArgumentError",ST=`vercel.ai.error.${yT}`,OA=Symbol.for(ST),wT,Kp=class extends Ft{constructor({parameter:e,value:t,message:r}){super({name:yT,message:`Invalid argument for parameter ${e}: ${r}`}),this[wT]=!0,this.parameter=e,this.value=t}static isInstance(e){return Ft.hasMarker(e,ST)}};wT=OA;var bT="AI_RetryError",ET=`vercel.ai.error.${bT}`,MA=Symbol.for(ET),TT,dT=class extends Ft{constructor({message:e,reason:t,errors:r}){super({name:bT,message:e}),this[TT]=!0,this.reason=t,this.errors=r,this.lastError=r[r.length-1]}static isInstance(e){return Ft.hasMarker(e,ET)}};TT=MA;var LA=({maxRetries:e=2,initialDelayInMs:t=2e3,backoffFactor:r=2}={})=>async n=>IT(n,{maxRetries:e,delayInMs:t,backoffFactor:r});async function IT(e,{maxRetries:t,delayInMs:r,backoffFactor:n},s=[]){try{return await e()}catch(u){if(ng(u)||t===0)throw u;let h=Ib(u),S=[...s,u],I=S.length;if(I>t)throw new dT({message:`Failed after ${I} attempts. Last error: ${h}`,reason:"maxRetriesExceeded",errors:S});if(u instanceof Error&&Pl.isInstance(u)&&u.isRetryable===!0&&I<=t)return await Tb(r),IT(e,{maxRetries:t,delayInMs:n*r,backoffFactor:n},S);throw I===1?u:new dT({message:`Failed after ${I} attempts with non-retryable error: '${h}'`,reason:"errorNotRetryable",errors:S})}}function FA({maxRetries:e}){if(e!=null){if(!Number.isInteger(e))throw new Kp({parameter:"maxRetries",value:e,message:"maxRetries must be an integer"});if(e<0)throw new Kp({parameter:"maxRetries",value:e,message:"maxRetries must be >= 0"})}let t=e??2;return{maxRetries:t,retry:LA({maxRetries:t})}}function sS({operationId:e,telemetry:t}){return{"operation.name":`${e}${(t==null?void 0:t.functionId)!=null?` ${t.functionId}`:""}`,"resource.name":t==null?void 0:t.functionId,"ai.operationId":e,"ai.telemetry.functionId":t==null?void 0:t.functionId}}function UA({model:e,settings:t,telemetry:r,headers:n}){var s;return{"ai.model.provider":e.provider,"ai.model.id":e.modelId,...Object.entries(t).reduce((u,[h,S])=>(u[`ai.settings.${h}`]=S,u),{}),...Object.entries((s=r==null?void 0:r.metadata)!=null?s:{}).reduce((u,[h,S])=>(u[`ai.telemetry.metadata.${h}`]=S,u),{}),...Object.entries(n??{}).reduce((u,[h,S])=>(S!==void 0&&(u[`ai.request.headers.${h}`]=S),u),{})}}var jA={startSpan(){return jy},startActiveSpan(e,t,r,n){if(typeof t=="function")return t(jy);if(typeof r=="function")return r(jy);if(typeof n=="function")return n(jy)}},jy={spanContext(){return YA},setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording(){return!1},recordException(){return this}},YA={traceId:"",spanId:"",traceFlags:0};function $A({isEnabled:e=!1,tracer:t}={}){return e?t||nS.getTracer("ai"):jA}function uS({name:e,tracer:t,attributes:r,fn:n,endWhenDone:s=!0}){return t.startActiveSpan(e,{attributes:r},async u=>{try{let h=await n(u);return s&&u.end(),h}catch(h){try{h instanceof Error?(u.recordException({name:h.name,message:h.message,stack:h.stack}),u.setStatus({code:Y_.ERROR,message:h.message})):u.setStatus({code:Y_.ERROR})}finally{u.end()}throw h}})}function $_({telemetry:e,attributes:t}){return(e==null?void 0:e.isEnabled)!==!0?{}:Object.entries(t).reduce((r,[n,s])=>{if(s===void 0)return r;if(typeof s=="object"&&"input"in s&&typeof s.input=="function"){if((e==null?void 0:e.recordInputs)===!1)return r;let u=s.input();return u===void 0?r:{...r,[n]:u}}if(typeof s=="object"&&"output"in s&&typeof s.output=="function"){if((e==null?void 0:e.recordOutputs)===!1)return r;let u=s.output();return u===void 0?r:{...r,[n]:u}}return{...r,[n]:s}},{})}var qA="AI_NoImageGeneratedError",BA=`vercel.ai.error.${qA}`,HA=Symbol.for(BA),zA;zA=HA;var NT="AI_NoObjectGeneratedError",DT=`vercel.ai.error.${NT}`,GA=Symbol.for(DT),CT,pT=class extends Ft{constructor({message:e="No object generated.",cause:t,text:r,response:n,usage:s}){super({name:NT,message:e,cause:t}),this[CT]=!0,this.text=r,this.response=n,this.usage=s}static isInstance(e){return Ft.hasMarker(e,DT)}};CT=GA;var xT="AI_DownloadError",PT=`vercel.ai.error.${xT}`,VA=Symbol.for(PT),AT,aS=class extends Ft{constructor({url:e,statusCode:t,statusText:r,cause:n,message:s=n==null?`Failed to download ${e}: ${t} ${r}`:`Failed to download ${e}: ${n}`}){super({name:xT,message:s,cause:n}),this[AT]=!0,this.url=e,this.statusCode=t,this.statusText=r}static isInstance(e){return Ft.hasMarker(e,PT)}};AT=VA;async function KA({url:e,fetchImplementation:t=fetch}){var r;let n=e.toString();try{let s=await t(n);if(!s.ok)throw new aS({url:n,statusCode:s.status,statusText:s.statusText});return{data:new Uint8Array(await s.arrayBuffer()),mimeType:(r=s.headers.get("content-type"))!=null?r:void 0}}catch(s){throw aS.isInstance(s)?s:new aS({url:n,cause:s})}}var WA=[{mimeType:"image/gif",bytes:[71,73,70]},{mimeType:"image/png",bytes:[137,80,78,71]},{mimeType:"image/jpeg",bytes:[255,216]},{mimeType:"image/webp",bytes:[82,73,70,70]}];function JA(e){for(let{bytes:t,mimeType:r}of WA)if(e.length>=t.length&&t.every((n,s)=>e[s]===n))return r}var RT="AI_InvalidDataContentError",kT=`vercel.ai.error.${RT}`,ZA=Symbol.for(kT),OT,vT=class extends Ft{constructor({content:e,cause:t,message:r=`Invalid data content. Expected a base64 string, Uint8Array, ArrayBuffer, or Buffer, but got ${typeof e}.`}){super({name:RT,message:r,cause:t}),this[OT]=!0,this.content=e}static isInstance(e){return Ft.hasMarker(e,kT)}};OT=ZA;var MT=O.union([O.string(),O.instanceof(Uint8Array),O.instanceof(ArrayBuffer),O.custom(e=>{var t,r;return(r=(t=globalThis.Buffer)==null?void 0:t.isBuffer(e))!=null?r:!1},{message:"Must be a Buffer"})]);function XA(e){return typeof e=="string"?e:e instanceof ArrayBuffer?$h(new Uint8Array(e)):$h(e)}function $y(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")try{return Db(e)}catch(t){throw new vT({message:"Invalid data content. Content string is not a base64-encoded media.",content:e,cause:t})}if(e instanceof ArrayBuffer)return new Uint8Array(e);throw new vT({content:e})}function QA(e){try{return new TextDecoder().decode(e)}catch{throw new Error("Error decoding Uint8Array to text")}}var LT="AI_InvalidMessageRoleError",FT=`vercel.ai.error.${LT}`,eR=Symbol.for(FT),UT,tR=class extends Ft{constructor({role:e,message:t=`Invalid message role: '${e}'. Must be one of: "system", "user", "assistant", "tool".`}){super({name:LT,message:t}),this[UT]=!0,this.role=e}static isInstance(e){return Ft.hasMarker(e,FT)}};UT=eR;function rR(e){try{let[t,r]=e.split(",");return{mimeType:t.split(";")[0].split(":")[1],base64Content:r}}catch{return{mimeType:void 0,base64Content:void 0}}}async function nR({prompt:e,modelSupportsImageUrls:t=!0,modelSupportsUrl:r=()=>!1,downloadImplementation:n=KA}){let s=await iR(e.messages,n,t,r);return[...e.system!=null?[{role:"system",content:e.system}]:[],...e.messages.map(u=>aR(u,s))]}function aR(e,t){var r,n,s,u,h,S;let I=e.role;switch(I){case"system":return{role:"system",content:e.content,providerMetadata:(r=e.providerOptions)!=null?r:e.experimental_providerMetadata};case"user":return typeof e.content=="string"?{role:"user",content:[{type:"text",text:e.content}],providerMetadata:(n=e.providerOptions)!=null?n:e.experimental_providerMetadata}:{role:"user",content:e.content.map(C=>oR(C,t)).filter(C=>C.type!=="text"||C.text!==""),providerMetadata:(s=e.providerOptions)!=null?s:e.experimental_providerMetadata};case"assistant":return typeof e.content=="string"?{role:"assistant",content:[{type:"text",text:e.content}],providerMetadata:(u=e.providerOptions)!=null?u:e.experimental_providerMetadata}:{role:"assistant",content:e.content.filter(C=>C.type!=="text"||C.text!=="").map(C=>{let{experimental_providerMetadata:F,providerOptions:H,...ne}=C;return{...ne,providerMetadata:H??F}}),providerMetadata:(h=e.providerOptions)!=null?h:e.experimental_providerMetadata};case"tool":return{role:"tool",content:e.content.map(C=>{var F;return{type:"tool-result",toolCallId:C.toolCallId,toolName:C.toolName,result:C.result,content:C.experimental_content,isError:C.isError,providerMetadata:(F=C.providerOptions)!=null?F:C.experimental_providerMetadata}}),providerMetadata:(S=e.providerOptions)!=null?S:e.experimental_providerMetadata};default:{let C=I;throw new tR({role:C})}}}async function iR(e,t,r,n){let s=e.filter(h=>h.role==="user").map(h=>h.content).filter(h=>Array.isArray(h)).flat().filter(h=>h.type==="image"||h.type==="file").filter(h=>!(h.type==="image"&&r===!0)).map(h=>h.type==="image"?h.image:h.data).map(h=>typeof h=="string"&&(h.startsWith("http:")||h.startsWith("https:"))?new URL(h):h).filter(h=>h instanceof URL).filter(h=>!n(h)),u=await Promise.all(s.map(async h=>({url:h,data:await t({url:h})})));return Object.fromEntries(u.map(({url:h,data:S})=>[h.toString(),S]))}function oR(e,t){var r;if(e.type==="text")return{type:"text",text:e.text,providerMetadata:e.experimental_providerMetadata};let n=e.mimeType,s,u,h,S=e.type;switch(S){case"image":s=e.image;break;case"file":s=e.data;break;default:throw new Error(`Unsupported part type: ${S}`)}try{u=typeof s=="string"?new URL(s):s}catch{u=s}if(u instanceof URL)if(u.protocol==="data:"){let{mimeType:I,base64Content:C}=rR(u.toString());if(I==null||C==null)throw new Error(`Invalid data URL format in part ${S}`);n=I,h=$y(C)}else{let I=t[u.toString()];I?(h=I.data,n??(n=I.mimeType)):h=u}else h=$y(u);switch(S){case"image":return h instanceof Uint8Array&&(n=(r=JA(h))!=null?r:n),{type:"image",image:h,mimeType:n,providerMetadata:e.experimental_providerMetadata};case"file":{if(n==null)throw new Error("Mime type is missing for file part");return{type:"file",data:h instanceof Uint8Array?XA(h):h,mimeType:n,providerMetadata:e.experimental_providerMetadata}}}}function sR({maxTokens:e,temperature:t,topP:r,topK:n,presencePenalty:s,frequencyPenalty:u,stopSequences:h,seed:S}){if(e!=null){if(!Number.isInteger(e))throw new Kp({parameter:"maxTokens",value:e,message:"maxTokens must be an integer"});if(e<1)throw new Kp({parameter:"maxTokens",value:e,message:"maxTokens must be >= 1"})}if(t!=null&&typeof t!="number")throw new Kp({parameter:"temperature",value:t,message:"temperature must be a number"});if(r!=null&&typeof r!="number")throw new Kp({parameter:"topP",value:r,message:"topP must be a number"});if(n!=null&&typeof n!="number")throw new Kp({parameter:"topK",value:n,message:"topK must be a number"});if(s!=null&&typeof s!="number")throw new Kp({parameter:"presencePenalty",value:s,message:"presencePenalty must be a number"});if(u!=null&&typeof u!="number")throw new Kp({parameter:"frequencyPenalty",value:u,message:"frequencyPenalty must be a number"});if(S!=null&&!Number.isInteger(S))throw new Kp({parameter:"seed",value:S,message:"seed must be an integer"});return{maxTokens:e,temperature:t??0,topP:r,topK:n,presencePenalty:s,frequencyPenalty:u,stopSequences:h!=null&&h.length>0?h:void 0,seed:S}}function uR(e){var t,r,n;let s=[];for(let u of e){let h;try{h=new URL(u.url)}catch{throw new Error(`Invalid URL: ${u.url}`)}switch(h.protocol){case"http:":case"https:":{if((t=u.contentType)!=null&&t.startsWith("image/"))s.push({type:"image",image:h});else{if(!u.contentType)throw new Error("If the attachment is not an image, it must specify a content type");s.push({type:"file",data:h,mimeType:u.contentType})}break}case"data:":{let S,I,C;try{[S,I]=u.url.split(","),C=S.split(";")[0].split(":")[1]}catch{throw new Error(`Error processing data URL: ${u.url}`)}if(C==null||I==null)throw new Error(`Invalid data URL format: ${u.url}`);if((r=u.contentType)!=null&&r.startsWith("image/"))s.push({type:"image",image:$y(I)});else if((n=u.contentType)!=null&&n.startsWith("text/"))s.push({type:"text",text:QA($y(I))});else{if(!u.contentType)throw new Error("If the attachment is not an image or text, it must specify a content type");s.push({type:"file",data:I,mimeType:u.contentType})}break}default:throw new Error(`Unsupported URL protocol: ${h.protocol}`)}}return s}var jT="AI_MessageConversionError",YT=`vercel.ai.error.${jT}`,cR=Symbol.for(YT),$T,iS=class extends Ft{constructor({originalMessage:e,message:t}){super({name:jT,message:t}),this[$T]=!0,this.originalMessage=e}static isInstance(e){return Ft.hasMarker(e,YT)}};$T=cR;function lR(e,t){var r,n;let s=(r=t==null?void 0:t.tools)!=null?r:{},u=[];for(let S=0;S<e.length;S++){let I=e[S],C=S===e.length-1,{role:F,content:H,experimental_attachments:ne}=I;switch(F){case"system":{u.push({role:"system",content:H});break}case"user":{u.push({role:"user",content:ne?[{type:"text",text:H},...uR(ne)]:H});break}case"assistant":{if(I.parts!=null){let Q=function(){u.push({role:"assistant",content:he.map(Ee=>{switch(Ee.type){case"text":return{type:"text",text:Ee.text};default:return{type:"tool-call",toolCallId:Ee.toolInvocation.toolCallId,toolName:Ee.toolInvocation.toolName,args:Ee.toolInvocation.args}}})});let je=he.filter(Ee=>Ee.type==="tool-invocation").map(Ee=>Ee.toolInvocation);je.length>0&&u.push({role:"tool",content:je.map(Ee=>{if(!("result"in Ee))throw new iS({originalMessage:I,message:"ToolInvocation must have a result: "+JSON.stringify(Ee)});let{toolCallId:ze,toolName:_t,result:at}=Ee,Dt=s[_t];return(Dt==null?void 0:Dt.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:ze,toolName:_t,result:Dt.experimental_toToolResultContent(at),experimental_content:Dt.experimental_toToolResultContent(at)}:{type:"tool-result",toolCallId:ze,toolName:_t,result:at}})}),he=[],le=!1,re++};var h=Q;let re=0,le=!1,he=[];for(let je of I.parts)switch(je.type){case"reasoning":break;case"text":{le&&Q(),he.push(je);break}case"tool-invocation":{((n=je.toolInvocation.step)!=null?n:0)!==re&&Q(),he.push(je),le=!0;break}}Q();break}let fe=I.toolInvocations;if(fe==null||fe.length===0){u.push({role:"assistant",content:H});break}let ie=fe.reduce((Q,re)=>{var le;return Math.max(Q,(le=re.step)!=null?le:0)},0);for(let Q=0;Q<=ie;Q++){let re=fe.filter(le=>{var he;return((he=le.step)!=null?he:0)===Q});re.length!==0&&(u.push({role:"assistant",content:[...C&&H&&Q===0?[{type:"text",text:H}]:[],...re.map(({toolCallId:le,toolName:he,args:je})=>({type:"tool-call",toolCallId:le,toolName:he,args:je}))]}),u.push({role:"tool",content:re.map(le=>{if(!("result"in le))throw new iS({originalMessage:I,message:"ToolInvocation must have a result: "+JSON.stringify(le)});let{toolCallId:he,toolName:je,result:Ee}=le,ze=s[je];return(ze==null?void 0:ze.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:he,toolName:je,result:ze.experimental_toToolResultContent(Ee),experimental_content:ze.experimental_toToolResultContent(Ee)}:{type:"tool-result",toolCallId:he,toolName:je,result:Ee}})}))}H&&!C&&u.push({role:"assistant",content:H});break}case"data":break;default:{let fe=F;throw new iS({originalMessage:I,message:`Unsupported role: ${fe}`})}}}return u}function fR(e){if(!Array.isArray(e))return"other";if(e.length===0)return"messages";let t=e.map(dR);return t.some(r=>r==="has-ui-specific-parts")?"ui-messages":t.every(r=>r==="has-core-specific-parts"||r==="message")?"messages":"other"}function dR(e){return typeof e=="object"&&e!==null&&(e.role==="function"||e.role==="data"||"toolInvocations"in e||"experimental_attachments"in e)?"has-ui-specific-parts":typeof e=="object"&&e!==null&&"content"in e&&(Array.isArray(e.content)||"experimental_providerMetadata"in e||"providerOptions"in e)?"has-core-specific-parts":typeof e=="object"&&e!==null&&"role"in e&&"content"in e&&typeof e.content=="string"&&["system","user","assistant","tool"].includes(e.role)?"message":"other"}var cS=O.lazy(()=>O.union([O.null(),O.string(),O.number(),O.boolean(),O.record(O.string(),cS),O.array(cS)])),xs=O.record(O.string(),O.record(O.string(),cS)),pR=O.array(O.union([O.object({type:O.literal("text"),text:O.string()}),O.object({type:O.literal("image"),data:O.string(),mimeType:O.string().optional()})])),qT=O.object({type:O.literal("text"),text:O.string(),providerOptions:xs.optional(),experimental_providerMetadata:xs.optional()}),vR=O.object({type:O.literal("image"),image:O.union([MT,O.instanceof(URL)]),mimeType:O.string().optional(),providerOptions:xs.optional(),experimental_providerMetadata:xs.optional()}),mR=O.object({type:O.literal("file"),data:O.union([MT,O.instanceof(URL)]),mimeType:O.string(),providerOptions:xs.optional(),experimental_providerMetadata:xs.optional()}),hR=O.object({type:O.literal("tool-call"),toolCallId:O.string(),toolName:O.string(),args:O.unknown(),providerOptions:xs.optional(),experimental_providerMetadata:xs.optional()}),_R=O.object({type:O.literal("tool-result"),toolCallId:O.string(),toolName:O.string(),result:O.unknown(),content:pR.optional(),isError:O.boolean().optional(),providerOptions:xs.optional(),experimental_providerMetadata:xs.optional()}),gR=O.object({role:O.literal("system"),content:O.string(),providerOptions:xs.optional(),experimental_providerMetadata:xs.optional()}),yR=O.object({role:O.literal("user"),content:O.union([O.string(),O.array(O.union([qT,vR,mR]))]),providerOptions:xs.optional(),experimental_providerMetadata:xs.optional()}),SR=O.object({role:O.literal("assistant"),content:O.union([O.string(),O.array(O.union([qT,hR]))]),providerOptions:xs.optional(),experimental_providerMetadata:xs.optional()}),wR=O.object({role:O.literal("tool"),content:O.array(_R),providerOptions:xs.optional(),experimental_providerMetadata:xs.optional()}),bR=O.union([gR,yR,SR,wR]);function ER({prompt:e,tools:t}){if(e.prompt==null&&e.messages==null)throw new Fv({prompt:e,message:"prompt or messages must be defined"});if(e.prompt!=null&&e.messages!=null)throw new Fv({prompt:e,message:"prompt and messages cannot be defined at the same time"});if(e.system!=null&&typeof e.system!="string")throw new Fv({prompt:e,message:"system must be a string"});if(e.prompt!=null){if(typeof e.prompt!="string")throw new Fv({prompt:e,message:"prompt must be a string"});return{type:"prompt",system:e.system,messages:[{role:"user",content:e.prompt}]}}if(e.messages!=null){let r=fR(e.messages);if(r==="other")throw new Fv({prompt:e,message:"messages must be an array of CoreMessage or UIMessage"});let n=r==="ui-messages"?lR(e.messages,{tools:t}):e.messages,s=hh({value:n,schema:O.array(bR)});if(!s.success)throw new Fv({prompt:e,message:"messages must be an array of CoreMessage or UIMessage",cause:s.error});return{type:"messages",messages:n,system:e.system}}throw new Error("unreachable")}function TR({promptTokens:e,completionTokens:t}){return{promptTokens:e,completionTokens:t,totalTokens:e+t}}function IR(e,t){return{promptTokens:e.promptTokens+t.promptTokens,completionTokens:e.completionTokens+t.completionTokens,totalTokens:e.totalTokens+t.totalTokens}}var NR="JSON schema:",DR="You MUST answer with a JSON object that matches the JSON schema above.",CR="You MUST answer with JSON.";function xR({prompt:e,schema:t,schemaPrefix:r=t!=null?NR:void 0,schemaSuffix:n=t!=null?DR:CR}){return[e!=null&&e.length>0?e:void 0,e!=null&&e.length>0?"":void 0,r,t!=null?JSON.stringify(t):void 0,n].filter(s=>s!=null).join(`
`)}function oS(e){let t=e.pipeThrough(new TransformStream);return t[Symbol.asyncIterator]=()=>{let r=t.getReader();return{async next(){let{done:n,value:s}=await r.read();return n?{done:!0,value:void 0}:{done:!1,value:s}}}},t}var nY=qp({prefix:"aiobj",size:24});var Vp=class{constructor(){this.status={type:"pending"},this._resolve=void 0,this._reject=void 0}get value(){return this.promise?this.promise:(this.promise=new Promise((e,t)=>{this.status.type==="resolved"?e(this.status.value):this.status.type==="rejected"&&t(this.status.error),this._resolve=e,this._reject=t}),this.promise)}resolve(e){var t;this.status={type:"resolved",value:e},this.promise&&((t=this._resolve)==null||t.call(this,e))}reject(e){var t;this.status={type:"rejected",error:e},this.promise&&((t=this._reject)==null||t.call(this,e))}};function mT(){let e,t;return{promise:new Promise((n,s)=>{e=n,t=s}),resolve:e,reject:t}}function PR(){let e=[],t=null,r=!1,n=mT(),s=async()=>{if(r&&e.length===0){t==null||t.close();return}if(e.length===0)return n=mT(),await n.promise,s();try{let{value:u,done:h}=await e[0].read();h?(e.shift(),e.length>0?await s():r&&(t==null||t.close())):t==null||t.enqueue(u)}catch(u){t==null||t.error(u),e.shift(),r&&e.length===0&&(t==null||t.close())}};return{stream:new ReadableStream({start(u){t=u},pull:s,async cancel(){for(let u of e)await u.cancel();e=[],r=!0}}),addStream:u=>{if(r)throw new Error("Cannot add inner stream: outer stream is closed");e.push(u.getReader()),n.resolve()},close:()=>{r=!0,n.resolve(),e.length===0&&(t==null||t.close())},terminate:()=>{r=!0,n.resolve(),e.forEach(u=>u.cancel()),e=[],t==null||t.close()}}}function AR(){var e,t;return(t=(e=globalThis==null?void 0:globalThis.performance)==null?void 0:e.now())!=null?t:Date.now()}var iY=qp({prefix:"aiobj",size:24});var BT="AI_NoOutputSpecifiedError",HT=`vercel.ai.error.${BT}`,RR=Symbol.for(HT),zT,kR=class extends Ft{constructor({message:e="No output specified."}={}){super({name:BT,message:e}),this[zT]=!0}static isInstance(e){return Ft.hasMarker(e,HT)}};zT=RR;var GT="AI_ToolExecutionError",VT=`vercel.ai.error.${GT}`,OR=Symbol.for(VT),KT,MR=class extends Ft{constructor({toolArgs:e,toolName:t,toolCallId:r,cause:n,message:s=`Error executing tool ${t}: ${mh(n)}`}){super({name:GT,message:s,cause:n}),this[KT]=!0,this.toolArgs=e,this.toolName=t,this.toolCallId=r}static isInstance(e){return Ft.hasMarker(e,VT)}};KT=OR;function LR(e){return e!=null&&Object.keys(e).length>0}function FR({tools:e,toolChoice:t,activeTools:r}){return LR(e)?{tools:(r!=null?Object.entries(e).filter(([s])=>r.includes(s)):Object.entries(e)).map(([s,u])=>{let h=u.type;switch(h){case void 0:case"function":return{type:"function",name:s,description:u.description,parameters:i_(u.parameters).jsonSchema};case"provider-defined":return{type:"provider-defined",name:s,id:u.id,args:u.args};default:{let S=h;throw new Error(`Unsupported tool type: ${S}`)}}}),toolChoice:t==null?{type:"auto"}:typeof t=="string"?{type:t}:{type:"tool",toolName:t.toolName}}:{tools:void 0,toolChoice:void 0}}var UR=/^([\s\S]*?)(\s+)(\S*)$/;function jR(e){let t=e.match(UR);return t?{prefix:t[1],whitespace:t[2],suffix:t[3]}:void 0}var WT="AI_InvalidToolArgumentsError",JT=`vercel.ai.error.${WT}`,YR=Symbol.for(JT),ZT,q_=class extends Ft{constructor({toolArgs:e,toolName:t,cause:r,message:n=`Invalid arguments for tool ${t}: ${mh(r)}`}){super({name:WT,message:n,cause:r}),this[ZT]=!0,this.toolArgs=e,this.toolName=t}static isInstance(e){return Ft.hasMarker(e,JT)}};ZT=YR;var XT="AI_NoSuchToolError",QT=`vercel.ai.error.${XT}`,$R=Symbol.for(QT),eI,o_=class extends Ft{constructor({toolName:e,availableTools:t=void 0,message:r=`Model tried to call unavailable tool '${e}'. ${t===void 0?"No tools are available.":`Available tools: ${t.join(", ")}.`}`}){super({name:XT,message:r}),this[eI]=!0,this.toolName=e,this.availableTools=t}static isInstance(e){return Ft.hasMarker(e,QT)}};eI=$R;var tI="AI_ToolCallRepairError",rI=`vercel.ai.error.${tI}`,qR=Symbol.for(rI),nI,fS=class extends Ft{constructor({cause:e,originalError:t,message:r=`Error repairing tool call: ${mh(e)}`}){super({name:tI,message:r,cause:e}),this[nI]=!0,this.originalError=t}static isInstance(e){return Ft.hasMarker(e,rI)}};nI=qR;async function BR({toolCall:e,tools:t,repairToolCall:r,system:n,messages:s}){if(t==null)throw new o_({toolName:e.toolName});try{return await hT({toolCall:e,tools:t})}catch(u){if(r==null||!(o_.isInstance(u)||q_.isInstance(u)))throw u;let h=null;try{h=await r({toolCall:e,tools:t,parameterSchema:({toolName:S})=>i_(t[S].parameters).jsonSchema,system:n,messages:s,error:u})}catch(S){throw new fS({cause:S,originalError:u})}if(h==null)throw u;return await hT({toolCall:h,tools:t})}}async function hT({toolCall:e,tools:t}){let r=e.toolName,n=t[r];if(n==null)throw new o_({toolName:e.toolName,availableTools:Object.keys(t)});let s=i_(n.parameters),u=e.args.trim()===""?hh({value:{},schema:s}):Uv({text:e.args,schema:s});if(u.success===!1)throw new q_({toolName:r,toolArgs:e.args,cause:u.error});return{type:"tool-call",toolCallId:e.toolCallId,toolName:r,args:u.value}}function _T({text:e="",tools:t,toolCalls:r,toolResults:n,messageId:s,generateMessageId:u}){let h=[];return h.push({role:"assistant",content:[{type:"text",text:e},...r],id:s}),n.length>0&&h.push({role:"tool",id:u(),content:n.map(S=>{let I=t[S.toolName];return(I==null?void 0:I.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:S.toolCallId,toolName:S.toolName,result:I.experimental_toToolResultContent(S.result),experimental_content:I.experimental_toToolResultContent(S.result)}:{type:"tool-result",toolCallId:S.toolCallId,toolName:S.toolName,result:S.result}})}),h}var mY=qp({prefix:"aitxt",size:24}),hY=qp({prefix:"msg",size:24});var HR={};lS(HR,{object:()=>GR,text:()=>zR});var zR=()=>({type:"text",responseFormat:()=>({type:"text"}),injectIntoSystemPrompt({system:e}){return e},parsePartial({text:e}){return{partial:e}},parseOutput({text:e}){return e}}),GR=({schema:e})=>{let t=i_(e);return{type:"object",responseFormat:({model:r})=>({type:"json",schema:r.supportsStructuredOutputs?t.jsonSchema:void 0}),injectIntoSystemPrompt({system:r,model:n}){return n.supportsStructuredOutputs?r:xR({prompt:r,schema:t.jsonSchema})},parsePartial({text:r}){let n=GE(r);switch(n.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:n.value};default:{let s=n.state;throw new Error(`Unsupported parse state: ${s}`)}}},parseOutput({text:r},n){let s=Uv({text:r});if(!s.success)throw new pT({message:"No object generated: could not parse the response.",cause:s.error,text:r,response:n.response,usage:n.usage});let u=hh({value:s.value,schema:t});if(!u.success)throw new pT({message:"No object generated: response did not match schema.",cause:u.error,text:r,response:n.response,usage:n.usage});return u.value}}};function VR(e){return e===void 0?[]:Array.isArray(e)?e:[e]}function dS(e,t){let r=e.getReader(),n=t.getReader(),s,u,h=!1,S=!1;async function I(F){try{s==null&&(s=r.read());let H=await s;s=void 0,H.done?F.close():F.enqueue(H.value)}catch(H){F.error(H)}}async function C(F){try{u==null&&(u=n.read());let H=await u;u=void 0,H.done?F.close():F.enqueue(H.value)}catch(H){F.error(H)}}return new ReadableStream({async pull(F){try{if(h){await C(F);return}if(S){await I(F);return}s==null&&(s=r.read()),u==null&&(u=n.read());let{result:H,reader:ne}=await Promise.race([s.then(fe=>({result:fe,reader:r})),u.then(fe=>({result:fe,reader:n}))]);H.done||F.enqueue(H.value),ne===r?(s=void 0,H.done&&(await C(F),h=!0)):(u=void 0,H.done&&(S=!0,await I(F)))}catch(H){F.error(H)}},cancel(){r.cancel(),n.cancel()}})}function KR({tools:e,generatorStream:t,toolCallStreaming:r,tracer:n,telemetry:s,system:u,messages:h,abortSignal:S,repairToolCall:I}){let C=null,F=new ReadableStream({start(le){C=le}}),H={},ne=new Set,fe=!1,ie;function Q(){fe&&ne.size===0&&(ie!=null&&C.enqueue(ie),C.close())}let re=new TransformStream({async transform(le,he){let je=le.type;switch(je){case"text-delta":case"reasoning":case"response-metadata":case"error":{he.enqueue(le);break}case"tool-call-delta":{r&&(H[le.toolCallId]||(he.enqueue({type:"tool-call-streaming-start",toolCallId:le.toolCallId,toolName:le.toolName}),H[le.toolCallId]=!0),he.enqueue({type:"tool-call-delta",toolCallId:le.toolCallId,toolName:le.toolName,argsTextDelta:le.argsTextDelta}));break}case"tool-call":{try{let Ee=await BR({toolCall:le,tools:e,repairToolCall:I,system:u,messages:h});he.enqueue(Ee);let ze=e[Ee.toolName];if(ze.execute!=null){let _t=km();ne.add(_t),uS({name:"ai.toolCall",attributes:$_({telemetry:s,attributes:{...sS({operationId:"ai.toolCall",telemetry:s}),"ai.toolCall.name":Ee.toolName,"ai.toolCall.id":Ee.toolCallId,"ai.toolCall.args":{output:()=>JSON.stringify(Ee.args)}}}),tracer:n,fn:async at=>ze.execute(Ee.args,{toolCallId:Ee.toolCallId,messages:h,abortSignal:S}).then(Dt=>{C.enqueue({...Ee,type:"tool-result",result:Dt}),ne.delete(_t),Q();try{at.setAttributes($_({telemetry:s,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(Dt)}}}))}catch{}},Dt=>{C.enqueue({type:"error",error:new MR({toolCallId:Ee.toolCallId,toolName:Ee.toolName,toolArgs:Ee.args,cause:Dt})}),ne.delete(_t),Q()})})}}catch(Ee){C.enqueue({type:"error",error:Ee})}break}case"finish":{ie={type:"finish",finishReason:le.finishReason,logprobs:le.logprobs,usage:TR(le.usage),experimental_providerMetadata:le.providerMetadata};break}default:{let Ee=je;throw new Error(`Unhandled chunk type: ${Ee}`)}}},flush(){fe=!0,Q()}});return new ReadableStream({async start(le){return Promise.all([t.pipeThrough(re).pipeTo(new WritableStream({write(he){le.enqueue(he)},close(){}})),F.pipeTo(new WritableStream({write(he){le.enqueue(he)},close(){le.close()}}))])}})}var WR=qp({prefix:"aitxt",size:24}),JR=qp({prefix:"msg",size:24});function aI({model:e,tools:t,toolChoice:r,system:n,prompt:s,messages:u,maxRetries:h,abortSignal:S,headers:I,maxSteps:C=1,experimental_generateMessageId:F=JR,experimental_output:H,experimental_continueSteps:ne=!1,experimental_telemetry:fe,experimental_providerMetadata:ie,providerOptions:Q=ie,experimental_toolCallStreaming:re=!1,toolCallStreaming:le=re,experimental_activeTools:he,experimental_repairToolCall:je,experimental_transform:Ee,onChunk:ze,onError:_t,onFinish:at,onStepFinish:Dt,_internal:{now:st=AR,generateId:Ut=WR,currentDate:jr=()=>new Date}={},...Ca}){return new XR({model:e,telemetry:fe,headers:I,settings:Ca,maxRetries:h,abortSignal:S,system:n,prompt:s,messages:u,tools:t,toolChoice:r,toolCallStreaming:le,transforms:VR(Ee),activeTools:he,repairToolCall:je,maxSteps:C,output:H,continueSteps:ne,providerOptions:Q,onChunk:ze,onError:_t,onFinish:at,onStepFinish:Dt,now:st,currentDate:jr,generateId:Ut,generateMessageId:F})}function ZR(e){if(!e)return new TransformStream({transform(s,u){u.enqueue({part:s,partialOutput:void 0})}});let t="",r="",n="";return new TransformStream({transform(s,u){if(s.type!=="text-delta"){u.enqueue({part:s,partialOutput:void 0});return}t+=s.textDelta,r+=s.textDelta;let h=e.parsePartial({text:t});if(h!=null){let S=JSON.stringify(h.partial);S!==n&&(u.enqueue({part:{type:"text-delta",textDelta:r},partialOutput:h.partial}),n=S,r="")}},flush(s){r.length>0&&s.enqueue({part:{type:"text-delta",textDelta:r},partialOutput:void 0})}})}var XR=class{constructor({model:e,telemetry:t,headers:r,settings:n,maxRetries:s,abortSignal:u,system:h,prompt:S,messages:I,tools:C,toolChoice:F,toolCallStreaming:H,transforms:ne,activeTools:fe,repairToolCall:ie,maxSteps:Q,output:re,continueSteps:le,providerOptions:he,onChunk:je,onError:Ee,onFinish:ze,onStepFinish:_t,now:at,currentDate:Dt,generateId:st,generateMessageId:Ut}){this.warningsPromise=new Vp,this.usagePromise=new Vp,this.finishReasonPromise=new Vp,this.providerMetadataPromise=new Vp,this.textPromise=new Vp,this.reasoningPromise=new Vp,this.toolCallsPromise=new Vp,this.toolResultsPromise=new Vp,this.requestPromise=new Vp,this.responsePromise=new Vp,this.stepsPromise=new Vp;var jr;if(Q<1)throw new Kp({parameter:"maxSteps",value:Q,message:"maxSteps must be at least 1"});this.output=re;let Ca="",ma="",Or="",gn,nt={id:st(),timestamp:Dt(),modelId:e.modelId,messages:[]},Ni=[],Ye=[],Er,Bn,zt="initial",It=[],tt,Xn=new TransformStream({async transform(ln,ir){ir.enqueue(ln);let{part:lt}=ln;if((lt.type==="text-delta"||lt.type==="reasoning"||lt.type==="tool-call"||lt.type==="tool-result"||lt.type==="tool-call-streaming-start"||lt.type==="tool-call-delta")&&await(je==null?void 0:je({chunk:lt})),lt.type==="error"&&await(Ee==null?void 0:Ee({error:lt.error})),lt.type==="text-delta"&&(Ca+=lt.textDelta,ma+=lt.textDelta,Or+=lt.textDelta),lt.type==="reasoning"&&(gn=(gn??"")+lt.textDelta),lt.type==="tool-call"&&Ni.push(lt),lt.type==="tool-result"&&Ye.push(lt),lt.type==="step-finish"){let Et=_T({text:ma,tools:C??{},toolCalls:Ni,toolResults:Ye,messageId:lt.messageId,generateMessageId:Ut}),Mr=It.length,Un="done";Mr+1<Q&&(le&&lt.finishReason==="length"&&Ni.length===0?Un="continue":Ni.length>0&&Ye.length===Ni.length&&(Un="tool-result"));let Za={stepType:zt,text:Ca,reasoning:gn,toolCalls:Ni,toolResults:Ye,finishReason:lt.finishReason,usage:lt.usage,warnings:lt.warnings,logprobs:lt.logprobs,request:lt.request,response:{...lt.response,messages:[...nt.messages,...Et]},experimental_providerMetadata:lt.experimental_providerMetadata,isContinued:lt.isContinued};await(_t==null?void 0:_t(Za)),It.push(Za),Ni=[],Ye=[],Ca="",Un!=="done"&&(zt=Un),Un!=="continue"&&(nt.messages.push(...Et),ma="")}lt.type==="finish"&&(nt.id=lt.response.id,nt.timestamp=lt.response.timestamp,nt.modelId=lt.response.modelId,nt.headers=lt.response.headers,Bn=lt.usage,Er=lt.finishReason)},async flush(ln){var ir;try{if(It.length===0)return;let lt=It[It.length-1];Ct.warningsPromise.resolve(lt.warnings),Ct.requestPromise.resolve(lt.request),Ct.responsePromise.resolve(lt.response),Ct.toolCallsPromise.resolve(lt.toolCalls),Ct.toolResultsPromise.resolve(lt.toolResults),Ct.providerMetadataPromise.resolve(lt.experimental_providerMetadata);let Et=Er??"unknown",Mr=Bn??{completionTokens:NaN,promptTokens:NaN,totalTokens:NaN};Ct.finishReasonPromise.resolve(Et),Ct.usagePromise.resolve(Mr),Ct.textPromise.resolve(Or),Ct.reasoningPromise.resolve(gn),Ct.stepsPromise.resolve(It),await(ze==null?void 0:ze({finishReason:Et,logprobs:void 0,usage:Mr,text:Or,reasoning:gn,toolCalls:lt.toolCalls,toolResults:lt.toolResults,request:(ir=lt.request)!=null?ir:{},response:lt.response,warnings:lt.warnings,experimental_providerMetadata:lt.experimental_providerMetadata,steps:It})),tt.setAttributes($_({telemetry:t,attributes:{"ai.response.finishReason":Et,"ai.response.text":{output:()=>Or},"ai.response.toolCalls":{output:()=>{var Un;return(Un=lt.toolCalls)!=null&&Un.length?JSON.stringify(lt.toolCalls):void 0}},"ai.usage.promptTokens":Mr.promptTokens,"ai.usage.completionTokens":Mr.completionTokens}}))}catch(lt){ln.error(lt)}finally{tt.end()}}}),rt=PR();this.addStream=rt.addStream,this.closeStream=rt.close;let su=rt.stream;for(let ln of ne)su=su.pipeThrough(ln({tools:C,stopStream(){rt.terminate()}}));this.baseStream=su.pipeThrough(ZR(re)).pipeThrough(Xn);let{maxRetries:Vt,retry:Ho}=FA({maxRetries:s}),Gt=$A(t),er=UA({model:e,telemetry:t,headers:r,settings:{...n,maxRetries:Vt}}),Qn=ER({prompt:{system:(jr=re==null?void 0:re.injectIntoSystemPrompt({system:h,model:e}))!=null?jr:h,prompt:S,messages:I},tools:C}),Ct=this;uS({name:"ai.streamText",attributes:$_({telemetry:t,attributes:{...sS({operationId:"ai.streamText",telemetry:t}),...er,"ai.prompt":{input:()=>JSON.stringify({system:h,prompt:S,messages:I})},"ai.settings.maxSteps":Q}}),tracer:Gt,endWhenDone:!1,fn:async ln=>{tt=ln;async function ir({currentStep:lt,responseMessages:Et,usage:Mr,stepType:Un,previousStepText:Za,hasLeadingWhitespace:an,messageId:En}){var Vi;let ia=Et.length===0?Qn.type:"messages",Lr=[...Qn.messages,...Et],Zt=await nR({prompt:{type:ia,system:Qn.system,messages:Lr},modelSupportsImageUrls:e.supportsImageUrls,modelSupportsUrl:(Vi=e.supportsUrl)==null?void 0:Vi.bind(e)}),cr={type:"regular",...FR({tools:C,toolChoice:F,activeTools:fe})},{result:{stream:Xr,warnings:Ol,rawResponse:Hn,request:Ml},doStreamSpan:mo,startTimestampMs:Rn}=await Ho(()=>uS({name:"ai.streamText.doStream",attributes:$_({telemetry:t,attributes:{...sS({operationId:"ai.streamText.doStream",telemetry:t}),...er,"ai.prompt.format":{input:()=>ia},"ai.prompt.messages":{input:()=>JSON.stringify(Zt)},"ai.prompt.tools":{input:()=>{var Cr;return(Cr=cr.tools)==null?void 0:Cr.map(yn=>JSON.stringify(yn))}},"ai.prompt.toolChoice":{input:()=>cr.toolChoice!=null?JSON.stringify(cr.toolChoice):void 0},"gen_ai.system":e.provider,"gen_ai.request.model":e.modelId,"gen_ai.request.frequency_penalty":n.frequencyPenalty,"gen_ai.request.max_tokens":n.maxTokens,"gen_ai.request.presence_penalty":n.presencePenalty,"gen_ai.request.stop_sequences":n.stopSequences,"gen_ai.request.temperature":n.temperature,"gen_ai.request.top_k":n.topK,"gen_ai.request.top_p":n.topP}}),tracer:Gt,endWhenDone:!1,fn:async Cr=>({startTimestampMs:at(),doStreamSpan:Cr,result:await e.doStream({mode:cr,...sR(n),inputFormat:ia,responseFormat:re==null?void 0:re.responseFormat({model:e}),prompt:Zt,providerMetadata:he,abortSignal:u,headers:r})})})),As=KR({tools:C,generatorStream:Xr,toolCallStreaming:H,tracer:Gt,telemetry:t,system:h,messages:Lr,repairToolCall:ie,abortSignal:u}),tr=Ml??{},jn=[],Xa=[],Qa="unknown",ei={promptTokens:0,completionTokens:0,totalTokens:0},Mf,Uc=!0,mi="",uu="",Ki=Un==="continue"?Za:"",cu,ha={id:st(),timestamp:Dt(),modelId:e.modelId},zn="",Bu=!1,lu=!0,Ll=!1;async function _a({controller:Cr,chunk:yn}){Cr.enqueue(yn),mi+=yn.textDelta,Ki+=yn.textDelta,Bu=!0,Ll=yn.textDelta.trimEnd()!==yn.textDelta}Ct.addStream(As.pipeThrough(new TransformStream({async transform(Cr,yn){var en,xa,ho;if(Uc){let hi=at()-Rn;Uc=!1,mo.addEvent("ai.stream.firstChunk",{"ai.response.msToFirstChunk":hi}),mo.setAttributes({"ai.response.msToFirstChunk":hi}),yn.enqueue({type:"step-start",messageId:En,request:tr,warnings:Ol??[]})}if(Cr.type==="text-delta"&&Cr.textDelta.length===0)return;let Hu=Cr.type;switch(Hu){case"text-delta":{if(le){let hi=lu&&an?Cr.textDelta.trimStart():Cr.textDelta;if(hi.length===0)break;lu=!1,zn+=hi;let Kr=jR(zn);Kr!=null&&(zn=Kr.suffix,await _a({controller:yn,chunk:{type:"text-delta",textDelta:Kr.prefix+Kr.whitespace}}))}else await _a({controller:yn,chunk:Cr});break}case"reasoning":{yn.enqueue(Cr),uu+=Cr.textDelta;break}case"tool-call":{yn.enqueue(Cr),jn.push(Cr);break}case"tool-result":{yn.enqueue(Cr),Xa.push(Cr);break}case"response-metadata":{ha={id:(en=Cr.id)!=null?en:ha.id,timestamp:(xa=Cr.timestamp)!=null?xa:ha.timestamp,modelId:(ho=Cr.modelId)!=null?ho:ha.modelId};break}case"finish":{ei=Cr.usage,Qa=Cr.finishReason,Mf=Cr.experimental_providerMetadata,cu=Cr.logprobs;let hi=at()-Rn;mo.addEvent("ai.stream.finish"),mo.setAttributes({"ai.response.msToFinish":hi,"ai.response.avgCompletionTokensPerSecond":1e3*ei.completionTokens/hi});break}case"tool-call-streaming-start":case"tool-call-delta":{yn.enqueue(Cr);break}case"error":{yn.enqueue(Cr),Qa="error";break}default:{let hi=Hu;throw new Error(`Unknown chunk type: ${hi}`)}}},async flush(Cr){let yn=jn.length>0?JSON.stringify(jn):void 0,en="done";lt+1<Q&&(le&&Qa==="length"&&jn.length===0?en="continue":jn.length>0&&Xa.length===jn.length&&(en="tool-result")),le&&zn.length>0&&(en!=="continue"||Un==="continue"&&!Bu)&&(await _a({controller:Cr,chunk:{type:"text-delta",textDelta:zn}}),zn="");try{mo.setAttributes($_({telemetry:t,attributes:{"ai.response.finishReason":Qa,"ai.response.text":{output:()=>mi},"ai.response.toolCalls":{output:()=>yn},"ai.response.id":ha.id,"ai.response.model":ha.modelId,"ai.response.timestamp":ha.timestamp.toISOString(),"ai.usage.promptTokens":ei.promptTokens,"ai.usage.completionTokens":ei.completionTokens,"gen_ai.response.finish_reasons":[Qa],"gen_ai.response.id":ha.id,"gen_ai.response.model":ha.modelId,"gen_ai.usage.input_tokens":ei.promptTokens,"gen_ai.usage.output_tokens":ei.completionTokens}}))}catch{}finally{mo.end()}Cr.enqueue({type:"step-finish",finishReason:Qa,usage:ei,experimental_providerMetadata:Mf,logprobs:cu,request:tr,response:{...ha,headers:Hn==null?void 0:Hn.headers},warnings:Ol,isContinued:en==="continue",messageId:En});let xa=IR(Mr,ei);if(en==="done")Cr.enqueue({type:"finish",finishReason:Qa,usage:xa,experimental_providerMetadata:Mf,logprobs:cu,response:{...ha,headers:Hn==null?void 0:Hn.headers}}),Ct.closeStream();else{if(Un==="continue"){let ho=Et[Et.length-1];typeof ho.content=="string"?ho.content+=mi:ho.content.push({text:mi,type:"text"})}else Et.push(..._T({text:mi,tools:C??{},toolCalls:jn,toolResults:Xa,messageId:En,generateMessageId:Ut}));await ir({currentStep:lt+1,responseMessages:Et,usage:xa,stepType:en,previousStepText:Ki,hasLeadingWhitespace:Ll,messageId:en==="continue"?En:Ut()})}}})))}await ir({currentStep:0,responseMessages:[],usage:{promptTokens:0,completionTokens:0,totalTokens:0},previousStepText:"",stepType:"initial",hasLeadingWhitespace:!1,messageId:Ut()})}}).catch(ln=>{Ct.addStream(new ReadableStream({start(ir){ir.enqueue({type:"error",error:ln}),ir.close()}})),Ct.closeStream()})}get warnings(){return this.warningsPromise.value}get usage(){return this.usagePromise.value}get finishReason(){return this.finishReasonPromise.value}get experimental_providerMetadata(){return this.providerMetadataPromise.value}get text(){return this.textPromise.value}get reasoning(){return this.reasoningPromise.value}get toolCalls(){return this.toolCallsPromise.value}get toolResults(){return this.toolResultsPromise.value}get request(){return this.requestPromise.value}get response(){return this.responsePromise.value}get steps(){return this.stepsPromise.value}teeStream(){let[e,t]=this.baseStream.tee();return this.baseStream=t,e}get textStream(){return oS(this.teeStream().pipeThrough(new TransformStream({transform({part:e},t){e.type==="text-delta"&&t.enqueue(e.textDelta)}})))}get fullStream(){return oS(this.teeStream().pipeThrough(new TransformStream({transform({part:e},t){t.enqueue(e)}})))}async consumeStream(){let e=this.fullStream;for await(let t of e);}get experimental_partialOutputStream(){if(this.output==null)throw new kR;return oS(this.teeStream().pipeThrough(new TransformStream({transform({partialOutput:e},t){e!=null&&t.enqueue(e)}})))}toDataStreamInternal({getErrorMessage:e=()=>"An error occurred.",sendUsage:t=!0,sendReasoning:r=!1}){let n="",s=new TransformStream({async transform(h,S){S.enqueue(h),h.type==="text-delta"&&(n+=h.textDelta)}}),u=new TransformStream({transform:async(h,S)=>{let I=h.type;switch(I){case"text-delta":{S.enqueue(Lc("text",h.textDelta));break}case"reasoning":{r&&S.enqueue(Lc("reasoning",h.textDelta));break}case"tool-call-streaming-start":{S.enqueue(Lc("tool_call_streaming_start",{toolCallId:h.toolCallId,toolName:h.toolName}));break}case"tool-call-delta":{S.enqueue(Lc("tool_call_delta",{toolCallId:h.toolCallId,argsTextDelta:h.argsTextDelta}));break}case"tool-call":{S.enqueue(Lc("tool_call",{toolCallId:h.toolCallId,toolName:h.toolName,args:h.args}));break}case"tool-result":{S.enqueue(Lc("tool_result",{toolCallId:h.toolCallId,result:h.result}));break}case"error":{S.enqueue(Lc("error",e(h.error)));break}case"step-start":{S.enqueue(Lc("start_step",{messageId:h.messageId}));break}case"step-finish":{S.enqueue(Lc("finish_step",{finishReason:h.finishReason,usage:t?{promptTokens:h.usage.promptTokens,completionTokens:h.usage.completionTokens}:void 0,isContinued:h.isContinued}));break}case"finish":{S.enqueue(Lc("finish_message",{finishReason:h.finishReason,usage:t?{promptTokens:h.usage.promptTokens,completionTokens:h.usage.completionTokens}:void 0}));break}default:{let C=I;throw new Error(`Unknown chunk type: ${C}`)}}}});return this.fullStream.pipeThrough(s).pipeThrough(u)}pipeDataStreamToResponse(e,{status:t,statusText:r,headers:n,data:s,getErrorMessage:u,sendUsage:h,sendReasoning:S}={}){fT({response:e,status:t,statusText:r,headers:lT(n,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"}),stream:this.toDataStream({data:s,getErrorMessage:u,sendUsage:h,sendReasoning:S})})}pipeTextStreamToResponse(e,t){fT({response:e,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText,headers:lT(t==null?void 0:t.headers,{contentType:"text/plain; charset=utf-8"}),stream:this.textStream.pipeThrough(new TextEncoderStream)})}toDataStream(e){let t=this.toDataStreamInternal({getErrorMessage:e==null?void 0:e.getErrorMessage,sendUsage:e==null?void 0:e.sendUsage,sendReasoning:e==null?void 0:e.sendReasoning}).pipeThrough(new TextEncoderStream);return e!=null&&e.data?dS(e==null?void 0:e.data.stream,t):t}mergeIntoDataStream(e,t){e.merge(this.toDataStreamInternal({getErrorMessage:e.onError,sendUsage:t==null?void 0:t.sendUsage,sendReasoning:t==null?void 0:t.sendReasoning}))}toDataStreamResponse({headers:e,status:t,statusText:r,data:n,getErrorMessage:s,sendUsage:u,sendReasoning:h}={}){return new Response(this.toDataStream({data:n,getErrorMessage:s,sendUsage:u,sendReasoning:h}),{status:t,statusText:r,headers:Yy(e,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}toTextStreamResponse(e){var t;return new Response(this.textStream.pipeThrough(new TextEncoderStream),{status:(t=e==null?void 0:e.status)!=null?t:200,headers:Yy(e==null?void 0:e.headers,{contentType:"text/plain; charset=utf-8"})})}};var QR="AI_NoSuchProviderError",ek=`vercel.ai.error.${QR}`,tk=Symbol.for(ek),rk;rk=tk;var nk={};lS(nk,{mergeIntoDataStream:()=>ok,toDataStream:()=>ak,toDataStreamResponse:()=>ik});function iI(e={}){let t=new TextEncoder,r="";return new TransformStream({async start(){e.onStart&&await e.onStart()},async transform(n,s){s.enqueue(t.encode(n)),r+=n,e.onToken&&await e.onToken(n),e.onText&&typeof n=="string"&&await e.onText(n)},async flush(){e.onCompletion&&await e.onCompletion(r),e.onFinal&&await e.onFinal(r)}})}function pS(e,t){return e.pipeThrough(new TransformStream({transform:async(r,n)=>{var s;if(typeof r=="string"){n.enqueue(r);return}if("event"in r){r.event==="on_chat_model_stream"&&gT((s=r.data)==null?void 0:s.chunk,n);return}gT(r,n)}})).pipeThrough(iI(t)).pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform:async(r,n)=>{n.enqueue(Lc("text",r))}}))}function ak(e,t){return pS(e,t).pipeThrough(new TextEncoderStream)}function ik(e,t){var r;let n=pS(e,t==null?void 0:t.callbacks).pipeThrough(new TextEncoderStream),s=t==null?void 0:t.data,u=t==null?void 0:t.init,h=s?dS(s.stream,n):n;return new Response(h,{status:(r=u==null?void 0:u.status)!=null?r:200,statusText:u==null?void 0:u.statusText,headers:Yy(u==null?void 0:u.headers,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function ok(e,t){t.dataStream.merge(pS(e,t.callbacks))}function gT(e,t){if(typeof e.content=="string")t.enqueue(e.content);else{let r=e.content;for(let n of r)n.type==="text"&&t.enqueue(n.text)}}var sk={};lS(sk,{mergeIntoDataStream:()=>lk,toDataStream:()=>uk,toDataStreamResponse:()=>ck});function vS(e,t){let r=fk();return Eb(e[Symbol.asyncIterator]()).pipeThrough(new TransformStream({async transform(n,s){s.enqueue(r(n.delta))}})).pipeThrough(iI(t)).pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform:async(n,s)=>{s.enqueue(Lc("text",n))}}))}function uk(e,t){return vS(e,t).pipeThrough(new TextEncoderStream)}function ck(e,t={}){var r;let{init:n,data:s,callbacks:u}=t,h=vS(e,u).pipeThrough(new TextEncoderStream),S=s?dS(s.stream,h):h;return new Response(S,{status:(r=n==null?void 0:n.status)!=null?r:200,statusText:n==null?void 0:n.statusText,headers:Yy(n==null?void 0:n.headers,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function lk(e,t){t.dataStream.merge(vS(e,t.callbacks))}function fk(){let e=!0;return t=>(e&&(t=t.trimStart(),t&&(e=!1)),t)}var NY=15*1e3;function oI(e){try{return JSON.parse(e)}catch{return null}}function sI(e){return JSON.stringify(e)}function uI(e){async function t({error:r,toolCall:n}){if(o_.isInstance(r)){let s=r.toolName.split(".");if(s.length==2){let[u,h]=s,S=$m[u],I=oI(n.args);if(S){let C={...r,event:"repair.tool"};return e.log.warn(`Tool name: ${r.toolName}`,C),"command"in S.parameters.shape&&I&&!I.command?(I.command=h,{...n,toolName:u,args:sI(I)}):{...n,toolName:u}}}if($m["multicoder_"+r.toolName]){let u="multicoder_"+r.toolName;return{...n,toolName:u}}return null}if(q_.isInstance(r)){let s=r.toolName,u=oI(r.toolArgs),h=r.cause,S=[];if(u&&Rm.isInstance(h)){let I=h.cause;if(I instanceof kc){for(let F of I.issues){let H=$m[s];if(H!=null&&H.repair){let ne=H.repair(F,u);if(typeof ne=="object")Object.assign(u,ne);else return null}else return null;S.push(F.path.join("."))}let C={...r,event:"repair.args"};return e.log.warn(`Tool arguments: ${r.toolName}.${S.join(", ")}`,C),{...n,args:sI(u)}}}return null}return null}return t}var dk=[Iy,Dy,qv,xy,M_,va,ou,L_],$m=Object.fromEntries(dk.map(e=>[e.name,pk(e)]));function pk(e){return{...e,description:Da(e.description),async execute(t,r){return e.execute?e.execute(t,r.abortSignal.context):"ok"}}}var cI=e=>`# Multicoder Agent

## Role and Identity

### Role Definition
You are Multicoder Agent - an AI coding assistant integrated into VS Code. Your purpose is to help developers write better code through structured requirements gathering, solution design and implementation.

### Agentic Coding
You deliver complete, high quality, fully integrated solutions to the user requests:
- Take some time to inspect and fully undestand the existing codebase
- Maintain a clear picture of project parts, interdependencies and execution flow
- Proactively ask clarifying questions
- Collect complete detailed requirements, constraints and success criteria for each task
- Investigate the existing code and find all missing information before making any decisions
- Consider multiple paths before choosing the right solution
- Use the right level of details for the design or planning documents
- Spend as much efforts and resources as required for a high quality outcome

### Technical Competencies
- Deep understanding of software engineering principles
- Strong algorithmic and system design skills
- Experience with multiple programming languages and paradigms
- Knowledge of development best practices and patterns
- Ability to analyze tradeoffs and make design decisions

## Operating Environment

### VS Code Extension
You were added to the user's development environment by installing and activating Multicoder Agent VS Code extension. As an AI Agent, you can access the project workspace using the provided tools for:
- Editor windows and open files
- Workspace folders and file system
- Source control integration
- Terminal and output panels
- Problems and diagnostics
- Testing frameworks

### Interactive Chat
You interact with a user as a chat participant in GitHub Copilot Chat. 
- Proactively ask clarifying questions using ${M_.name} tool
- Finish your responses invoking ${va.name} tool
- Use ${ou.name} tool to provide followup actions

### Source Code
You inspect and analyze the project structure using ${Iy.name} tool
- Read the content of the project source files
- List available files and folders in project directories
- Check if the source file or directory exists

### Project Documents
The requirement specifications, design documents and implementation plans are stored separately from the project source code and available through the ${Dy.name} tool.
- Read the document content
- List available documents or document folders

### File System
You manipulate workspace files and directories using ${xy.name} tool.
- Create new directories
- Delete directories or files

### Editor
You create and modify source files and documents using ${qv.name} tool.
- Insert, modify and delete text
- Handle selections and cursors
- Format code and documents
- Apply workspace edits


## Development Workflow

### Project Understanding
- Analyze existing codebase
- Review documentation
- Identify patterns and conventions
- Map dependencies and structure

### Requirements Gathering
- Ask clarifying questions
- Validate assumptions
- Define acceptance criteria
- Document constraints

### Solution Design
- Create high-level architecture
- Define interfaces and components
- Choose appropriate patterns
- Consider alternatives
- Review tradeoffs

### Implementation Planning
- Break down into steps
- Estimate complexity
- Identify dependencies
- Define milestones

### Hierarchical Execution
- Execute step-by-step plan
- Handle subtasks recursively
- Maintain context stack
- Track progress

## Behavioral Guidelines

### Input Validation and Clarification
- Verify requirements completeness
- Resolve ambiguities early
- Ask focused questions
- Provide examples

### Response Format & Structure
- Use clear headings
- Include code blocks
- Add explanatory comments
- Show progress summaries

### Writing Style
- Be concise and direct
- Use technical terminology
- Focus on solutions
- Explain key decisions

### Coding Conventions
- Follow project style
- Use consistent naming
- Add proper comments
- Structure logically

### Development Best Practices
- Write maintainable code
- Consider performance
- Handle errors properly
- Add proper validation

### Iterative Development Approach
- Start simple
- Refine gradually
- Get feedback early
- Improve incrementally

### Error Handling and Uncertainty
- Validate inputs
- Handle edge cases
- Provide fallbacks
- Report issues clearly
`;var vk=`
You are direct and to the point. You don't waste time with pleasantries or unnecessary context. 
Your goal is to provide accurate, practical solutions to coding problems as efficiently as possible.

You use short code snippets to illustrate your points. These snippets are always properly formatted 
and indented for readability. You explain the key parts of the code, but assume a certain level of 
programming knowledge from your audience.

You often break down your answers into steps or bullet points for clarity. You're not afraid to point out 
flaws in the original question or suggest better approaches if you see them.

You include relevant documentation links or references to support your answers, but you don't just link-drop 
without explanation. You summarize the key points and explain why they're relevant.

Your tone is professional and sometimes a bit terse. You're here to solve problems, not to make friends. 
However, you're also not rude or dismissive. If a question is unclear, you ask for clarification rather than 
making assumptions.

You're aware of best practices and potential pitfalls, so you often include warnings about edge cases or 
performance issues that might not be immediately obvious.
`,mk=`
You are a seasoned software developer with a deep understanding of core programming principles and system design. 
Your experience spans multiple domains, allowing you to approach problems from various angles.

You excel at breaking down complex requirements into manageable components and designing scalable, maintainable 
solutions. Your code is clean, well-documented, and follows best practices for readability and efficiency.

You are particularly strong in algorithmic thinking and optimization. You can analyze performance bottlenecks 
and implement effective solutions, whether it's improving time complexity or reducing resource usage.

You have a solid grasp of software architecture patterns and can adapt them to fit project needs. 
You're comfortable designing and implementing APIs, working with databases, and integrating various system components.

Testing is integral to your development process. You write comprehensive unit tests and understand 
the value of integration and end-to-end testing in ensuring robust, reliable software.

You stay current with industry trends and continuously refine your skills. However, you're pragmatic in your approach, 
focusing on proven technologies that add real value rather than chasing every new trend.

Debugging and troubleshooting are areas where you shine. You can quickly isolate issues in complex systems 
and implement effective fixes.

Lastly, you're a strong communicator. You can explain technical concepts clearly to both technical 
and non-technical stakeholders, facilitating better collaboration across teams.
`,hk=`
When designing and building complex code, your thought process typically follows these steps:

You start by thoroughly analyzing the problem domain. You break down the requirements, 
identifying the core functionalities and potential edge cases.

Next, you consider the overall architecture. You think about how different components will interact, 
data flow, and potential bottlenecks. You often sketch out high-level diagrams to visualize the system structure.

You evaluate trade-offs between different design patterns and approaches. You consider factors like scalability, 
maintainability, and performance. You try to anticipate future requirements to make the system extensible.

Before diving into implementation, you plan out the data structures and algorithms you'll use. 
You consider time and space complexity, thinking about how the solution will perform with larger datasets.

You break the problem down into smaller, manageable modules or functions. You define clear interfaces 
between these components, thinking about how they'll be tested in isolation.

As you start coding, you focus on creating a minimal viable implementation of each component. 
You write unit tests alongside the code, using test-driven development where appropriate.

You constantly refactor as you go, looking for opportunities to improve code clarity and efficiency. 
You're always thinking about how another developer would read and understand your code.

For particularly complex parts, you often step back and reconsider your approach. Sometimes you'll implement 
a quick prototype to validate a concept before fully committing to it.

Throughout the process, you document your code and decisions. You write clear comments explaining the 'why' 
behind complex logic, not just the 'what'.

As the system comes together, you start thinking about integration testing and how different components interact. 
You look for potential race conditions or unexpected behaviors in the system as a whole.

Finally, you review the entire solution, considering aspects like error handling, logging, and monitoring. 
You think about how the system will behave in production and what tools will be needed to maintain it.

This process is iterative, and you're always ready to revisit earlier decisions as new information or challenges arise. The goal is to create a robust, efficient, and maintainable solution that solves the problem at hand while being flexible enough to adapt to future needs.
`;async function lI(){return[qm([{"Writing style":vk,"Software development experience":mk,"Coding process":hk}]),Bv("Agreed. I will strictly follow these instructions.")]}var Og=require("vscode");async function fI(e){let t=[];if(Og.workspace.workspaceFolders&&t.push(await Um(Na(".",e.id))),Og.window.activeTextEditor){let r=Af(Og.window.activeTextEditor.document.uri).split("/");for(let n=1;n<r.length;n++)t.push(await Um(Na(r.slice(0,n).join("/"),e.id)));t.push(await rE())}return t.length?[qm(...t),Bv("Ok. How can I help you?")]:[]}var vo=require("vscode");async function dI(e){let{request:t}=e,r=[];for(let{id:n,name:s,modelDescription:u,value:h}of t.references){let S=String(h);if(n!="vscode.implicit.viewport"){if(h instanceof vo.Uri){let I=await vo.workspace.fs.stat(h);I.type&vo.FileType.File?S=await k_(h):I.type&vo.FileType.Directory&&(S=await Um(h))}else h instanceof vo.Location&&(S=await Qb(h.uri,s,h.range));u&&(s+=` (${u})`),r.push(S)}}for(let{name:n}of t.toolReferences){let s=vo.lm.tools.find(S=>S.name==n),u=s==null?void 0:s.inputSchema;if(!u)continue;let{required:h}=u;if(n=="copilot_getChangedFiles"&&String(h)=="workspacePaths"&&vo.workspace.workspaceFolders){let S=vo.workspace.workspaceFolders.map(({uri:F})=>F.fsPath),I={workspacePaths:S},C=await qy(n,I,e);r.push(...C)}else if(n=="copilot_getErrors"&&String(h)=="filePaths"){let S=Xg(),I=S.map(({path:H})=>H),C={filePaths:I},F=await qy(n,C,e);r.push(...F)}else if(n=="copilot_testFailure"){let S=await qy(n,{},e);r.push(...S)}else if(String(h)=="query"){let S=t.prompt,I={query:S},C=await qy(n,I,e);r.push(...C)}}return r.length?[qm(...r),Bv("Ok. How should I proceed?")]:[]}async function qy(e,t,{request:r,stream:n,token:s}){let u=await vo.lm.invokeTool(e,{input:t,toolInvocationToken:r.toolInvocationToken},s),h=[];for(let S of u.content)if(S instanceof vo.LanguageModelTextPart)h.push(S.value);else if(S instanceof vo.LanguageModelPromptTsxPart){let{text:I,refs:C}=_k(S);h.push(I),C.forEach(F=>n.reference(F))}return h}function _k(e){let t=[],r=[];function n({text:s,children:u,references:h,lineBreakBefore:S}){S&&t.push(`
`),Array.isArray(h)&&h.forEach(({anchor:I})=>{try{let{external:C,scheme:F,authority:H,path:ne,query:fe,fragment:ie}=I;C?r.push(vo.Uri.parse(C)):r.push(vo.Uri.from({scheme:F,authority:H,path:ne,query:fe,fragment:ie}))}catch{}}),Array.isArray(u)?u.forEach(n):typeof s=="string"&&t.push(s)}return n(e.value.node),{text:t.join(""),refs:r}}var gk=`
<table><tr><td>
    <span class="codicon codicon-run-all" style="color:var(--vscode-textLink-foreground);"></span>
</td><td>
    <span  style="color:var(--vscode-textLink-foreground);">Running in automatic mode. Press the stop button to switch</span>
</td></tr></table>
`;async function pI(e,t){let{log:r,stream:n,shared:s,request:u,messages:h}=e,S="chat.next";if(h.length||(S="chat.start",e.resume=null,h.push(...await lI()),h.push(...await fI(e))),s.edits||(s.edits=[],s.phase="",Dw()),s.auto&&(u.command=="resume"?n.markdown(`

Resuming iterrupted task

`):e.resume=null),s.auto=u.command=="auto",s.auto){let H=new s_.MarkdownString("");H.supportHtml=!0,H.supportThemeIcons=!0,H.appendMarkdown(gk),e.stream.markdown(H)}e.interrupted=null,e.token.onCancellationRequested(async H=>{if(r.warn("Interrupted",{event:"chat.stop"}),e.interrupted=Hp(e,{}),s.auto){let ne=e.interrupted,fe=await s_.window.showInformationMessage("Stopped automatic mode task","Resume interactive","Stop");fe&&fe.startsWith("Resume")&&(e.interrupted===ne?s_.commands.executeCommand("workbench.action.chat.open","@multicoder /resume"):await s_.window.showInformationMessage("Chat window already in use"))}});let I=u.references.map(({id:H,name:ne})=>ne+" "+H).join(`
`),C=u.toolReferences.map(({name:H})=>H).join(`
`),F=(u.command?"/"+u.command+" ":"")+u.prompt;return r.info(F,{event:S,command:u.command,references:I,toolrefs:C}),h.push(...await dI(e)),new Promise((H,ne)=>{let fe=0,ie=Q=>r.error(new Error(Q));if(e.resolve=Q=>fe++?ie("Resolve closed promise"):H(Q),e.reject=Q=>fe++?ie("Reject closed promise"):ne(Q),e.resume){let Q=e.resume;return e.resume=null,Q(e.request)}Promise.resolve(t(e)).then(Q=>e.resolve(Q)).catch(Q=>e.reject(Q))})}function Hp(e,t){return new Promise(r=>{e.resume=r,e.resolve(t)})}var By="experimental_providerMetadata";function vI(e){let t=e.filter(({role:h})=>h=="user"||h=="tool"),r=e.filter(({role:h})=>h=="assistant");function n(h,{content:S}){var I;return h+(Array.isArray(S)&&((I=S[S.length-1])!=null&&I[By])?1:0)}function s(h){let{content:S}=h;Array.isArray(S)||(S=[{type:"text",text:S}]),S[S.length-1][By]={anthropic:{cacheControl:{type:"ephemeral"}}},h.content=S}function u(h){let{content:S}=h;Array.isArray(S)&&S[S.length-1][By]&&delete S[S.length-1][By]}r.reduce(n,0)||s(r.pop()),s(t.pop()),t.slice(0,-2).forEach(u)}var Hy=class{constructor(t,r){this.role=t,this.content=r}};function qm(...e){let t=e.map(r=>({type:"text",text:Da(r)}));return new Hy("user",t)}function Bv(e){return{role:"assistant",content:[{type:"text",text:Da(e)}]}}function Wp(e,t){let r=e.messages,n=r.pop();if(t instanceof Hy)if(n.role=="assistant"&&t.role=="user"||n.role!="assistant"&&t.role=="assistant")r.push(n,t);else throw new Error("Invalid message sequence");else if(n.role=="assistant")r.push(n,qm(t));else if(n.role=="user"){let{content:s}=n;s=Array.isArray(s)?s.slice():[{type:"text",text:s}],s.push({type:"text",text:Da(t)}),r.push({role:"user",content:s})}else if(n.role=="tool"){let s=n.content.slice();s.push({...s.pop(),result:Da(t)}),r.push({role:"tool",content:s})}else throw new Error("Invalid message role")}async function zy(e,t,r=""){let{log:n,stream:s,model:u,messages:h}=e;Wp(e,t);let S=0,I=0,C=0,F=0,H=0,ne=.2,fe=ne,ie=fe;function Q(re,le,he={}){s.markdown(""),s.progress(`Retrying (${le}): ${re}`),ie=fe+.2*le,n.warn(re,{...he,count:le,temperature:ie,event:"retry."+le})}for(;;){vI(h),await e.interrupted;let re=new AbortController,le=re.signal;le.context=e;let he=await aI({model:u,system:cI(u),messages:h,tools:$m,temperature:ie,maxTokens:8192,maxSteps:1,abortSignal:le,experimental_toolCallStreaming:!0,experimental_repairToolCall:uI(e)}),je=!1;for await(let st of he.fullStream){if(e.token.isCancellationRequested)break;switch(st.type){case"text-delta":e.stream.markdown(st.textDelta);break;case"tool-call-streaming-start":let Ut=$m[st.toolName].progress;Ut&&(e.stream.markdown(""),e.stream.progress(Ut));break;case"error":if(o_.isInstance(st.error)&&++S<=5){je=!0;let Or=`Unknown tool ${st.error.toolName}`;Q(Or,S,st.error);break}if(q_.isInstance(st.error)&&++S<=5){je=!0;let Or=`Invalid arguments for tool ${st.error.toolName}`;Q(Or,S,st.error);break}if(fS.isInstance(st.error)&&++S<=5){je=!0,Q("Tool call repair failed",S,st.error);break}let{event:jr,count:Ca,message:ma}=st.error;if(jr=="retry"){Q(ma,Ca,st.error),ie=fe;break}throw st.error}}if(e.interrupted){await e.interrupted;continue}let Ee=await he.response,ze=await he.toolCalls,_t=await he.toolResults;if(je)continue;S=0;let at="";for(let st of _t)st.result.startsWith("Tool error: ")&&(at=st.result.slice(12));if(at)if(++I<3){Q(at,I);continue}else if(++C<3)Q("Tool execution error",C),fe=ne+.2*C;else throw new Error(at);else C=0,fe=ne;if(I=0,Ee.messages.length==1){let{role:st,content:Ut}=Ee.messages[0];if(st=="assistant"&&Array.isArray(Ut)&&Ut.length==1){let jr=Ut[0];if(jr.type=="text"&&jr.text===""&&++F<=5){Q("Empty response",F),await mI(5*F);continue}}}F=0,ie=fe,h.push(...Ee.messages);let Dt=h.pop();for(let{toolName:st,toolCallId:Ut,args:jr,result:Ca}of _t){let ma=$m[st];if(ma!=null&&ma.finalize){let Or=await ma.finalize(jr,e,Ca);if(Dt.role=="tool"){let gn=Dt.content.find(nt=>nt.toolCallId==Ut);gn&&(gn.result=Or)}}}if(h.push(Dt),ze.length){H=0;for(let st of ze)if(st.toolName==r)return st.args}else if(r){let st=$m[r];if(++H>3){if(st.fallback)return st.fallback();throw new Error(`Unable to call ${r} tool`)}Q("Unexpected stop",H,{name:r}),await mI(5*H),h.push(qm(st.retry||`Reply using ${r} tool`))}else return}}async function Ps(e,t,r,n=""){return n&&(e.stream.markdown(""),e.stream.progress(n)),zy(e,r,t.name)}async function mI(e){return new Promise(t=>setTimeout(t,e*1e3))}function Of(e){let t=e.messages.concat();return{restore(){e.messages.length=0,e.messages.push(...t)}}}var B_={clarify:"Requirements",design:"Solution design",plan:"Planning"};async function Hv(e,t=0,r=0,n=0){switch(e.request.command){case"chat":return"";case"spec":return"spec";case"design":return"design";case"plan":return"plan"}let s=`Evaluate the task and reply using ${L_.name} tool, taking into account the included documents (if any)`,u=Of(e),h=await Ps(e,L_,s,"Deciding next steps...");e.stream.markdown(""),u.restore();let[S,I,C]=L_.compute(h),F="implement";return h.architecturalScale==0&&!t?"":(h.splitIntoParts&&t<3&&(F="plan"),h.designSolution&&!n&&(F="design"),h.clarifyRequirements&&!r&&!n&&!t&&(F="spec"),!n&&I>2.5&&F!="spec"&&(F="design"),C>2&&F=="implement"&&t<1&&(F="plan"),F)}var wh=require("vscode");var{fs:_I}=wh.workspace;async function Jp(e,t){for(let[r,n]of await _I.readDirectory(Na(t,e.id)))n&wh.FileType.File&&Wp(e,await O_(Na(t+"/"+r,e.id)))}async function gI(e){try{if(!((await _I.stat(e)).type&wh.FileType.File))return null}catch{return null}let t=await wh.commands.executeCommand("vscode.executeDocumentSymbolProvider",e);if(!t||t.length===0)return null;let r=await wh.workspace.openTextDocument(e),n=t[0],s=hI(n.name),u=n.children.map(({name:h,range:S})=>({header:hI(h),content:r.getText(S).slice(h.length).trim()}));return{title:s,items:u}}function hI(e){return e=e.replace(/^#+\s+/,""),e=e.replace(/^Step \d+[\.:]*\s+/,""),e=e.replace(/^\d+[\.:]+\s+/,""),e}var yk=e=>Br`
    Use ${qv.name} tool to create requirements document in the ${e}/ directory.
    Clarify the request, removing any ambiguities or omissions.
    Use ${M_.name} tool to obtain the missing information.
    For the existing project, include implied requirements derived from the project configuration and context.
    Focus strictly on the requirements - DO NOT try to design the solution, define data structures or write some code at this point.
    Adjust the content and structure according to the task complexity (should very short and simple for trivial tasks).
    Produce a minimal, but complete document, do not leave any open questions for the future.
    Use a very dense, concise writing style.
    Provide a short summary using ${va.name} tool.
`,Sk=e=>Br`
    Make the following changes in the requirement document(s):
    <changes>
      ${e}
    </changes>
    Modify the document(s), then deliver a very short summary using ${va.name} tool.
`,wk=()=>Br`
    Carefully review the requirements document to find any missing elements.
    Add or correct any significant items and remove anything that is not strictly necessary.
    Focus strictly on the requirements - DO NOT try to design the solution, define data structures or write some code at this point.
`,bk=()=>Br`
    Suggest possible changes which may make the requirements more clear, precise and easy to understand. 
    Include optional elements, alternative approaches or high-level improvements.
    Offer them as followup actions using ${ou.name} tool.
    Only include the actions which improve the content of the requirement specification document(s).
`;async function yI(e,t,r){let{shared:n}=e,s=Of(e),u="";for(n.phase="spec",await Jp(e,r),await Ps(e,va,yk(r),"Creating requirements spec...");;){let h=[];if(!n.auto){let{actions:F}=await Ps(e,ou,bk());h=F.map(H=>({command:"",prompt:H,label:H}))}if(s.restore(),await Jp(e,r),u=await Hv(e,t,1),n.auto)break;let S=(B_[u]||"implementation").toLowerCase();h.push({command:"",prompt:"i",label:"\u2B6E\xA0 review and improve"}),h.push({command:"auto",prompt:"",label:"\u2A20\xA0 auto-run to completion"}),h.push({command:"",prompt:"",label:`\u25B7\xA0 next step - ${S} (Enter)`});let I=await Hp(e,{followups:h});if(I.command=="auto"||!I.prompt&&!I.command)break;let C=I.prompt=="i"?wk():I.prompt;await Ps(e,va,Sk(C),"Updating requirements...")}return n.phase="",u}var Ek=e=>Br`
    Use ${qv.name} tool to create solution design document(s) in the ${e}/ directory.
    Analyze the current project, do the research and design the solution.
    Your goal is to find the most simple solution, very easy to understand and maintain. 
    Only include the features which are explicitely required. Skip anything that can be added at a later stage.
    Adjust the content and structure of the spec according to the task complexity (should very short and simple for trivial tasks).
    Apply a very dense, concise writing style.
    Provide a short specification summary using ${va.name} tool.
`,Tk=e=>Br`
    Make the following changes in the solution design document(s):
    <changes>
      ${e}
    </changes>
    Modify the document(s), then deliver a very short summary using ${va.name} tool.
`,Ik=()=>Br`
    Carefully review the design document(s) to find any missing elements.
    Add or correct any significant items and remove anything that is not strictly necessary.
    Focus strictly on the solution design - DO NOT try to write code, DO NOT make step-by-step plan at this point.
`,Nk=()=>Br`
    Suggest possible changes which may make the solution design more clear, precise and easy to understand. 
    Include optional elements, alternative solutions or high-level improvements.
    Offer them as followup actions using ${ou.name} tool.
    Only include the actions which improve the content of the solution design document(s).
`;async function SI(e,t,r){let{shared:n}=e,s=Of(e),u="";for(n.phase="design",await Jp(e,r),await Ps(e,va,Ek(r),"Designing solution...");;){let h=[];if(!n.auto){let{actions:F}=await Ps(e,ou,Nk());h=F.map(H=>({command:"",prompt:H,label:H}))}if(s.restore(),await Jp(e,r),u=await Hv(e,t,1,1),n.auto)break;let S=(B_[u]||"implementation").toLowerCase();h.push({command:"",prompt:"i",label:"\u2B6E\xA0 review and improve"}),h.push({command:"auto",prompt:"",label:"\u2A20\xA0 auto-run to completion"}),h.push({command:"",prompt:"",label:`\u25B7\xA0 next step - ${S} (Enter)`});let I=await Hp(e,{followups:h});if(I.command=="auto"||!I.prompt&&!I.command)break;let C=I.prompt=="i"?Ik():I.prompt;await Ps(e,va,Tk(C),"Updating design...")}return n.phase="",u}var Dk=e=>Br`
    Use ${qv.name} tool to create ${e} file containing the detailed implementation plan for this task.
    Split the task into smaller, more manageable steps and specify what should be done at each step.
    Strictly follow the requirements and design documents if available. 
    Only plan for elements and features which are explicitely included in the specs and design.
    Take into account the changes already made in the previous tasks.
    Carefully think through all steps and mentally verify the proposed implementation.
    Follow KISS, YAGNI and SOLID principles, focus on simplicity above all other things.
    This plan is for an implementation by an AI coding agent, it must exclude any human activities (meetings, peer review, manual testing etc)
    Only use the capabilities and the information which you as an AI coding agent have explicit access to as part of this project.
    The document should contain a title and multiple sections (linear structure, no nested sub-sections)
    Each section represents one step of the plan and consists of a header and a step description.
    If the amount of work is very small, describe it as one single step (title with plain text, no section heading).
    Use a very dense, concise writing style.
    Provide a short summary using ${va.name} tool.
`,Ck=e=>Br`
    Make the following changes in the implementation plan:
    <changes>
      ${e}
    </changes>
    Modify the document(s), then deliver a very short summary using ${va.name} tool.
`,xk=()=>Br`
    Carefully analyse each section of the plan to identify any inconsistencies or logical errors. 
    Check for edge cases, cross-dependencies and anything, that can affect successful implementation.
`,Pk=()=>Br`
    Suggest possible changes which will make the implementation plan more clear, precise and easy to understand. 
    Include optional elements, alternative implementations or high-level improvements.
    Offer them as followup actions using ${ou.name} tool.
    Only include the actions which improve the content of the implementation plan.
`;async function wI(e,t,r){let{shared:n}=e,s=Of(e),u=r+"/implementation_plan.md",h="";for(n.phase="plan",await Jp(e,r),await Ps(e,va,Dk(u),"Planning..."),e.shared.phase="plan";;){let S=[];if(!n.auto){let{actions:H}=await Ps(e,ou,Pk());S=H.map(ne=>({command:"",prompt:ne,label:ne}))}if(s.restore(),await Jp(e,r),h=await Hv(e,t,1,1),n.auto)break;let I=(B_[h]||"implementation").toLowerCase();S.push({command:"",prompt:"i",label:"\u2B6E\xA0 review and improve"}),S.push({command:"auto",prompt:"",label:"\u2A20\xA0 auto-run to completion"}),S.push({command:"",prompt:"",label:"\u25B7\xA0 next step - implementation (Enter)"});let C=await Hp(e,{followups:S});if(C.command=="auto"||!C.prompt&&!C.command)break;let F=C.prompt=="i"?xk():C.prompt;await Ps(e,va,Ck(F),"Updating planning...")}return n.phase="","implement"}var DI=require("vscode");var Yd=require("vscode");function Bm(){}Bm.prototype={diff:function(t,r){var n,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},u=s.callback;typeof s=="function"&&(u=s,s={}),this.options=s;var h=this;function S(Ee){return u?(setTimeout(function(){u(void 0,Ee)},0),!0):Ee}t=this.castInput(t),r=this.castInput(r),t=this.removeEmpty(this.tokenize(t)),r=this.removeEmpty(this.tokenize(r));var I=r.length,C=t.length,F=1,H=I+C;s.maxEditLength&&(H=Math.min(H,s.maxEditLength));var ne=(n=s.timeout)!==null&&n!==void 0?n:1/0,fe=Date.now()+ne,ie=[{oldPos:-1,lastComponent:void 0}],Q=this.extractCommon(ie[0],r,t,0);if(ie[0].oldPos+1>=C&&Q+1>=I)return S([{value:this.join(r),count:r.length}]);var re=-1/0,le=1/0;function he(){for(var Ee=Math.max(re,-F);Ee<=Math.min(le,F);Ee+=2){var ze=void 0,_t=ie[Ee-1],at=ie[Ee+1];_t&&(ie[Ee-1]=void 0);var Dt=!1;if(at){var st=at.oldPos-Ee;Dt=at&&0<=st&&st<I}var Ut=_t&&_t.oldPos+1<C;if(!Dt&&!Ut){ie[Ee]=void 0;continue}if(!Ut||Dt&&_t.oldPos+1<at.oldPos?ze=h.addToPath(at,!0,void 0,0):ze=h.addToPath(_t,void 0,!0,1),Q=h.extractCommon(ze,r,t,Ee),ze.oldPos+1>=C&&Q+1>=I)return S(Ak(h,ze.lastComponent,r,t,h.useLongestToken));ie[Ee]=ze,ze.oldPos+1>=C&&(le=Math.min(le,Ee-1)),Q+1>=I&&(re=Math.max(re,Ee+1))}F++}if(u)(function Ee(){setTimeout(function(){if(F>H||Date.now()>fe)return u();he()||Ee()},0)})();else for(;F<=H&&Date.now()<=fe;){var je=he();if(je)return je}},addToPath:function(t,r,n,s){var u=t.lastComponent;return u&&u.added===r&&u.removed===n?{oldPos:t.oldPos+s,lastComponent:{count:u.count+1,added:r,removed:n,previousComponent:u.previousComponent}}:{oldPos:t.oldPos+s,lastComponent:{count:1,added:r,removed:n,previousComponent:u}}},extractCommon:function(t,r,n,s){for(var u=r.length,h=n.length,S=t.oldPos,I=S-s,C=0;I+1<u&&S+1<h&&this.equals(r[I+1],n[S+1]);)I++,S++,C++;return C&&(t.lastComponent={count:C,previousComponent:t.lastComponent}),t.oldPos=S,I},equals:function(t,r){return this.options.comparator?this.options.comparator(t,r):t===r||this.options.ignoreCase&&t.toLowerCase()===r.toLowerCase()},removeEmpty:function(t){for(var r=[],n=0;n<t.length;n++)t[n]&&r.push(t[n]);return r},castInput:function(t){return t},tokenize:function(t){return t.split("")},join:function(t){return t.join("")}};function Ak(e,t,r,n,s){for(var u=[],h;t;)u.push(t),h=t.previousComponent,delete t.previousComponent,t=h;u.reverse();for(var S=0,I=u.length,C=0,F=0;S<I;S++){var H=u[S];if(H.removed){if(H.value=e.join(n.slice(F,F+H.count)),F+=H.count,S&&u[S-1].added){var fe=u[S-1];u[S-1]=u[S],u[S]=fe}}else{if(!H.added&&s){var ne=r.slice(C,C+H.count);ne=ne.map(function(Q,re){var le=n[F+re];return le.length>Q.length?le:Q}),H.value=e.join(ne)}else H.value=e.join(r.slice(C,C+H.count));C+=H.count,H.added||(F+=H.count)}}var ie=u[I-1];return I>1&&typeof ie.value=="string"&&(ie.added||ie.removed)&&e.equals("",ie.value)&&(u[I-2].value+=ie.value,u.pop()),u}var d4=new Bm;var bI=/^[A-Za-z\xC0-\u02C6\u02C8-\u02D7\u02DE-\u02FF\u1E00-\u1EFF]+$/,EI=/\S/,TI=new Bm;TI.equals=function(e,t){return this.options.ignoreCase&&(e=e.toLowerCase(),t=t.toLowerCase()),e===t||this.options.ignoreWhitespace&&!EI.test(e)&&!EI.test(t)};TI.tokenize=function(e){for(var t=e.split(/([^\S\r\n]+|[()[\]{}'"\r\n]|\b)/),r=0;r<t.length-1;r++)!t[r+1]&&t[r+2]&&bI.test(t[r])&&bI.test(t[r+2])&&(t[r]+=t[r+2],t.splice(r+1,2),r--);return t};var _S=new Bm;_S.tokenize=function(e){this.options.stripTrailingCr&&(e=e.replace(/\r\n/g,`
`));var t=[],r=e.split(/(\n|\r\n)/);r[r.length-1]||r.pop();for(var n=0;n<r.length;n++){var s=r[n];n%2&&!this.options.newlineIsToken?t[t.length-1]+=s:(this.options.ignoreWhitespace&&(s=s.trim()),t.push(s))}return t};function II(e,t,r){return _S.diff(e,t,r)}var Rk=new Bm;Rk.tokenize=function(e){return e.split(/(\S.+?[.!?])(?=\s+|$)/)};var kk=new Bm;kk.tokenize=function(e){return e.split(/([{}:;,]|\s+)/)};function Gy(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Gy=function(t){return typeof t}:Gy=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Gy(e)}var Ok=Object.prototype.toString,Mg=new Bm;Mg.useLongestToken=!0;Mg.tokenize=_S.tokenize;Mg.castInput=function(e){var t=this.options,r=t.undefinedReplacement,n=t.stringifyReplacer,s=n===void 0?function(u,h){return typeof h>"u"?r:h}:n;return typeof e=="string"?e:JSON.stringify(mS(e,null,null,s),s,"  ")};Mg.equals=function(e,t){return Bm.prototype.equals.call(Mg,e.replace(/,([\r\n])/g,"$1"),t.replace(/,([\r\n])/g,"$1"))};function mS(e,t,r,n,s){t=t||[],r=r||[],n&&(e=n(s,e));var u;for(u=0;u<t.length;u+=1)if(t[u]===e)return r[u];var h;if(Ok.call(e)==="[object Array]"){for(t.push(e),h=new Array(e.length),r.push(h),u=0;u<e.length;u+=1)h[u]=mS(e[u],t,r,n,s);return t.pop(),r.pop(),h}if(e&&e.toJSON&&(e=e.toJSON()),Gy(e)==="object"&&e!==null){t.push(e),h={},r.push(h);var S=[],I;for(I in e)e.hasOwnProperty(I)&&S.push(I);for(S.sort(),u=0;u<S.length;u+=1)I=S[u],h[I]=mS(e[I],t,r,n,I);t.pop(),r.pop()}else h=e;return h}var hS=new Bm;hS.tokenize=function(e){return e.slice()};hS.join=hS.removeEmpty=function(e){return e};async function NI(e,t,r){let n=(...H)=>`command:multicoder.diffView?${encodeURIComponent(JSON.stringify(H))}`,s=H=>`<span class="codicon codicon-${H}" style="color:var(--vscode-foreground);"></span>`,u=new Yd.MarkdownString(`

`);u.supportHtml=!0,u.supportThemeIcons=!0,u.isTrusted={enabledCommands:["multicoder.diffView"]},u.appendMarkdown(`<h3>${s("check")} ${r}</h3>

`),t.forEach(({summary:H,path:ne,id:fe})=>{u.appendMarkdown(`- [${H}](${n(ne,fe,e.id)} 'Open Diff')
`)}),u.appendMarkdown(`

`),e.stream.markdown(u),e.stream.button({title:"Apply All",command:"multicoder.action",arguments:[F],tooltip:"Shows confirmation panel (refactor preview)"});let h=new Set(t.map(({path:H})=>H)),S=Xg(),I=new Map;async function C(H){try{return await vh(H)}catch{return""}}for(let H of h.values()){let ne="",fe="",ie=Na(H,e.id),Q=$u(ie);S.find(re=>re.path===Q.path)?ne=(await Yd.workspace.openTextDocument(Q)).getText():ne=await C(Q),fe=await C(ie),I.set(H,{before:ne,after:fe})}async function F(){let H=new Yd.WorkspaceEdit;for(let ne of h.values()){let{before:fe,after:ie}=I.get(ne)||{},Q=$u(Na(ne,e.id));fe||(Q=Q.with({scheme:"untitled"}));let re=await Yd.workspace.openTextDocument(Q),le=re.getText(),he=ie;le!==he&&Mk(H,Q,le,he,!0)}await Yd.workspace.applyEdit(H),e.log.info(r,{event:"action.all"})}}function Mk(e,t,r,n,s=!1,u=""){let h=II(r,n,{ignoreWhitespace:!1}),S=0,I={needsConfirmation:s,label:u};for(let C=0;C<h.length;C++){let F=h[C];if(F.removed){let H=new Yd.Range(S,0,S+F.count,0),ne=h[++C];ne.added?e.replace(t,H,ne.value,I):(e.delete(t,H,I),S+=(ne==null?void 0:ne.count)||0)}else F.added&&(e.insert(t,new Yd.Position(S,0),F.value,I),S-=F.count);S+=F.count}}var Lk=(e,t,r)=>`
<table><tr><th> $(list-tree) ${e} (${t+1}/${r})</th></tr></table>
`;async function CI(e,t,r,n){let s=null,u=await gI(Na(n+"/implementation_plan.md",e.id)),h=e.shared.edits.length;if(await Jp(e,n),!u||u.items.length==1){let S=`Implement the task, then deliver the summary using ${va.name} tool.`;s=await Ps(e,va,S)}else{Wp(e,Bv(`Do you want me to work on ${u.title}?`));for(let I=0;I<u.items.length;I++){let C=Of(e),F=u.items[I],H=e.shared.edits.length,ne=new DI.MarkdownString("");ne.supportHtml=!0,ne.supportThemeIcons=!0,ne.appendMarkdown(Lk(F.header,I,u.items.length)),e.stream.markdown(ne),Wp(e,[`We will now work on the step ${I+1}:`,{[F.header]:F.content}]);let fe=await Hv(e,r+1,1),ie=await gS(e,fe,r+1,n+"/"+(I+1),F.header);C.restore();let Q=e.shared.edits.slice(H),re=Q.map(({summary:he})=>he),le=Q.map(({path:he})=>he);Wp(e,[`Completed step ${I+1}: ${F.header}`,ie.text,lg("Done:",kl(re)),lg("Created or modified files:",kl(le))])}let S=Br`
            We have now implemented all the steps of the plan: ${u.title}
            Deliver the summary of this work using ${va.name} tool.
        `;s=await Ps(e,va,S)}if(e.shared.auto&&r)return s;for(;;){let S=e.shared.edits.slice(h);if(S.length>1&&await NI(e,S,t||(u==null?void 0:u.title)||"Task completed"),!r)return s;let C=await Hp(e,{followups:[{command:"auto",prompt:"",label:"\u2A20\xA0 auto-run to completion"},{command:"",prompt:"",label:"\u25B7\xA0 next step (Enter)"}]});if(C.command=="auto"||!C.command&&!C.prompt)return s;h=e.shared.edits.length,await Ps(e,va,C.prompt)}}var Fk=".multicoder/task";async function gS(e,t,r=0,n=Fk,s=""){let u=Of(e);for(;;){if(u.restore(),e.shared.phase="",!t)return{};if(t=="spec"){t=await yI(e,r,n);continue}if(t=="design"){t=await SI(e,r,n);continue}if(t=="plan"){t=await wI(e,r,n);continue}return await CI(e,s,r,n)}}async function xI(e){let{prompt:t}=e.request,r=Of(e);if(!t){await zy(e,`Explain what could be done here. Then use ${ou.name} tool to suggest some actions`);return}Wp(e,[lg("We have a new request:",Cs("request",t))]);let n=await Hv(e);n?(await gS(e,n),Wp(e,Bv(" "))):(r.restore(),await zy(e,t))}var AI=require("vscode"),Uk=()=>`
Multicoder can work with LLM models provided by **GitHub Copilot** (default configuration) or 
send requests directly to the core provider APIs (**Anthropic**, **OpenAI**).

If you have your own API key and want to use it instead of the Github models, select 'Core Providers' in the Model Provider dropdown (settings panel)
and set your API key(s) using the buttons below.

`;async function PI(e,t){var n;let r=await e.ext.secrets.get(t)||((n=process==null?void 0:process.env)==null?void 0:n[t]);return r&&r.slice(0,12)+"..."+r.slice(-4)}async function yS(e){let{log:t,stream:r}=e;AI.commands.executeCommand("workbench.action.openSettings","@ext:multicoder.multicoder"),t.info("options",{event:"options"}),r.markdown(Uk());let n=await PI(e,"ANTHROPIC_API_KEY");r.markdown(`Anthropic API key: ${n}`),r.button({command:"multicoder.storeApiKey",title:"Set Anthropic key",arguments:["ANTHROPIC_API_KEY","Anthropic API key"]}),r.markdown(`

`);let s=await PI(e,"OPENAI_API_KEY");r.markdown(`OpenAI API key: ${s}`),r.button({command:"multicoder.storeApiKey",title:"Set OpenAI key",arguments:["OPENAI_API_KEY","OpenAI API key"]})}var RI,kI;async function jk(e){var H,ne;let{request:t,ext:r}=e,n=t.model.id,s=zv.workspace.getConfiguration("multicoder"),u=s.get("modelProvider");if(n==RI&&u==kI&&e.model)return;RI=n,kI=u;let h=t.model.family;if(h.startsWith("o1")&&(h="gpt-4o"),u=="default"&&(u="copilot"),u=="copilot"){e.model=q0({id:h,provider:"copilot",apiKey:""});return}if(u=="auto"&&(u=(H=B0.find(fe=>fe.family==h))==null?void 0:H.provider,!u))throw new Error("Cannot find model: "+h);let S=Jb.find(fe=>fe.id==u),I=B0.find(fe=>fe.provider==u&&fe.family==h),{envKeyName:C}=S,F=await r.secrets.get(C)||((ne=process==null?void 0:process.env)==null?void 0:ne[C]);if(!F){await yS(e);return}e.model=q0({...I,apiKey:F})}function Yk({history:e}){for(let t=e.length-1;t>=0;t--){let r=e[t];if(r instanceof zv.ChatResponseTurn){let{id:n,messages:s}=r.result.metadata||{};if(n)return[n,s]}}return[]}function OI(e){let{ext:t,log:r,recent:n}=e,s=zv.chat.createChatParticipant("multicoder",async(F,H,ne,fe)=>{let[ie,Q]=Yk(H),{sessionId:re}=F.toolInvocationToken,le=ie&&n.get(ie);!le&&re&&(le=n.get(re)),ie??(ie=Zg()),Q??(Q=[]),le||(le={id:ie,messages:Q,shared:{},...e,request:{},chat:{},stream:{}},le.log={...e.log,context:le}),ie=le.id,n.set(ie,le),re&&n.set(re,le),Object.assign(le,{token:fe}),Object.assign(le.request,F),Object.assign(le.chat,H),Object.assign(le.stream,ne),le.followups=[],C(le.request);try{if(await jk(le),!le.model)return;if(F.command=="options")return await yS(le),{metadata:{id:ie,messages:Q}};let he=await pI(le,xI)||{};return he.id=ie,he.messages=le.messages,he.followups??(he.followups=le.followups),{metadata:he}}catch(he){throw r.error(he),le.model=null,he}});s.iconPath=zv.Uri.joinPath(t.extensionUri,"resources","multicoder.png"),s.onDidReceiveFeedback(({kind:F})=>{r.info(F?"Good":"Bad",{event:"feedback"})});let u=t.extension.packageJSON.contributes.chatParticipants[0].commands,h=u.filter(({when:F})=>F==null?void 0:F.startsWith("!")).map(({name:F})=>F),S=[...h,"resume"];s.followupProvider={provideFollowups(F){var H;return I(F.metadata?F.metadata.commands:S),((H=F.metadata)==null?void 0:H.followups)||[]}};function I(F){for(let{name:H,when:ne}of u){let fe=!!F&&F.includes(H)!=ne.startsWith("!");zv.commands.executeCommand("setContext",ne.replace("!",""),fe)}}function C(F){!F.command&&u.find(({name:H})=>"/"+H==F.prompt)&&(r.warn("Command not processed: "+F.prompt),F.command=F.prompt.slice(1),F.prompt="")}}function $k(e){let t={ext:e,config:MI.workspace.getConfiguration("multicoder"),log:null,telemetry:null,recent:new Map};bw(t),Tw(t),Nw(t),Aw(t),OI(t)}function qk(){}0&&(module.exports={activate,deactivate});
/*! Bundled license information:

@microsoft/1ds-core-js/dist/es5/ms.core.js:
  (*!
   * 1DS JS SDK Core, 4.3.5
   * Copyright (c) Microsoft and contributors. All rights reserved.
   * (Microsoft Internal Only)
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.6 *)
  (*!
   * NevWare21 Solutions LLC - ts-async, 0.5.4
   * https://github.com/nevware21/ts-async
   * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
   * Licensed under the MIT license.
   *)

@microsoft/1ds-post-js/dist/es5/ms.post.js:
  (*!
   * 1DS JS SDK POST plugin, 4.3.5
   * Copyright (c) Microsoft and contributors. All rights reserved.
   * (Microsoft Internal Only)
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.6 *)
  (*!
   * NevWare21 Solutions LLC - ts-async, 0.5.4
   * https://github.com/nevware21/ts-async
   * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
   * Licensed under the MIT license.
   *)

@microsoft/applicationinsights-common/dist/es5/applicationinsights-common.js:
  (*!
   * Application Insights JavaScript SDK - Common, 3.3.5
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.6 *)

@microsoft/applicationinsights-web-basic/dist/es5/applicationinsights-web-basic.js:
  (*!
   * Application Insights JavaScript Web SDK - Basic, 3.3.5
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.6 *)
  (*!
   * NevWare21 Solutions LLC - ts-async, 0.5.4
   * https://github.com/nevware21/ts-async
   * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
   * Licensed under the MIT license.
   *)
*/
//# sourceMappingURL=extension.js.map
