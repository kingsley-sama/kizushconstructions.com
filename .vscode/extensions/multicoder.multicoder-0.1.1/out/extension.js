var dx=Object.create;var Q_=Object.defineProperty;var px=Object.getOwnPropertyDescriptor;var hx=Object.getOwnPropertyNames;var vx=Object.getPrototypeOf,mx=Object.prototype.hasOwnProperty;var fr=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),CE=(e,t)=>{for(var r in t)Q_(e,r,{get:t[r],enumerable:!0})},Jb=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of hx(t))!mx.call(e,i)&&i!==r&&Q_(e,i,{get:()=>t[i],enumerable:!(n=px(t,i))||n.enumerable});return e};var Pf=(e,t,r)=>(r=e!=null?dx(vx(e)):{},Jb(t||!e||!e.__esModule?Q_(r,"default",{value:e,enumerable:!0}):r,e)),gx=e=>Jb(Q_({},"__esModule",{value:!0}),e);var LE=fr((C4,i2)=>{function Zb(e){return Array.isArray(e)?e:[e]}var RE="",Xb=" ",xE="\\",Ex=/^\s+$/,wx=/(?:[^\\]|^)\\$/,bx=/^\\!/,Sx=/^\\#/,Dx=/\r?\n/g,Tx=/^\.*\/|^\.+$/,PE="/",t2="node-ignore";typeof Symbol<"u"&&(t2=Symbol.for("node-ignore"));var Qb=t2,Ax=(e,t,r)=>Object.defineProperty(e,t,{value:r}),Nx=/([0-z])-([0-z])/g,r2=()=>!1,Cx=e=>e.replace(Nx,(t,r,n)=>r.charCodeAt(0)<=n.charCodeAt(0)?t:RE),Ix=e=>{let{length:t}=e;return e.slice(0,t-t%2)},xx=[[/^\uFEFF/,()=>RE],[/((?:\\\\)*?)(\\?\s+)$/,(e,t,r)=>t+(r.indexOf("\\")===0?Xb:RE)],[/(\\+?)\s/g,(e,t)=>{let{length:r}=t;return t.slice(0,r-r%2)+Xb}],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,r)=>t+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)(\\\*)+(?=.+)/g,(e,t,r)=>{let n=r.replace(/\\\*/g,"[^\\/]*");return t+n}],[/\\\\\\(?=[$.|*+(){^])/g,()=>xE],[/\\\\/g,()=>xE],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,r,n,i)=>t===xE?`\\[${r}${Ix(n)}${i}`:i==="]"&&n.length%2===0?`[${Cx(r)}${n}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>`${t?`${t}[^/]+`:"[^/]*"}(?=$|\\/$)`]],e2=Object.create(null),Px=(e,t)=>{let r=e2[e];return r||(r=xx.reduce((n,[i,a])=>n.replace(i,a.bind(e)),e),e2[e]=r),t?new RegExp(r,"i"):new RegExp(r)},ME=e=>typeof e=="string",Rx=e=>e&&ME(e)&&!Ex.test(e)&&!wx.test(e)&&e.indexOf("#")!==0,kx=e=>e.split(Dx),kE=class{constructor(t,r,n,i){this.origin=t,this.pattern=r,this.negative=n,this.regex=i}},Ox=(e,t)=>{let r=e,n=!1;e.indexOf("!")===0&&(n=!0,e=e.substr(1)),e=e.replace(bx,"!").replace(Sx,"#");let i=Px(e,t);return new kE(r,e,n,i)},Mx=(e,t)=>{throw new t(e)},qv=(e,t,r)=>ME(e)?e?qv.isNotRelative(e)?r(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${t}\``,TypeError),n2=e=>Tx.test(e);qv.isNotRelative=n2;qv.convert=e=>e;var OE=class{constructor({ignorecase:t=!0,ignoreCase:r=t,allowRelativePaths:n=!1}={}){Ax(this,Qb,!0),this._rules=[],this._ignoreCase=r,this._allowRelativePaths=n,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[Qb]){this._rules=this._rules.concat(t._rules),this._added=!0;return}if(Rx(t)){let r=Ox(t,this._ignoreCase);this._added=!0,this._rules.push(r)}}add(t){return this._added=!1,Zb(ME(t)?kx(t):t).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,r){let n=!1,i=!1;return this._rules.forEach(a=>{let{negative:s}=a;if(i===s&&n!==i||s&&!n&&!i&&!r)return;a.regex.test(t)&&(n=!s,i=s)}),{ignored:n,unignored:i}}_test(t,r,n,i){let a=t&&qv.convert(t);return qv(a,t,this._allowRelativePaths?r2:Mx),this._t(a,r,n,i)}_t(t,r,n,i){if(t in r)return r[t];if(i||(i=t.split(PE)),i.pop(),!i.length)return r[t]=this._testOne(t,n);let a=this._t(i.join(PE)+PE,r,n,i);return r[t]=a.ignored?a:this._testOne(t,n)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(t){return Zb(t).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}},e0=e=>new OE(e),Lx=e=>qv(e&&qv.convert(e),e,r2);e0.isPathValid=Lx;e0.default=e0;i2.exports=e0;if(typeof process<"u"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let e=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");qv.convert=e;let t=/^[a-z]:\//i;qv.isNotRelative=r=>t.test(r)||n2(r)}});var c2=fr((t0,u2)=>{(function(e,t){typeof t0=="object"&&typeof u2<"u"?t(t0):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.oneDS=e.oneDS||{}))})(t0,function(e){"use strict";var t="function",r="object",n="undefined",i="prototype",a=Object,s=a[i];function f(o,l){return o||l}function m(o,l){return o[l]}var _=void 0,D=null,k="",U="function",z="object",ee="prototype",H="__proto__",K="undefined",X="constructor",ue="Symbol",ce="_polyfill",ge="length",Fe="name",Ne="call",he="toString",Ie=f(Object),_e=m(Ie,ee),ze=f(String),ct=m(ze,ee),gr=f(Math),Tr=f(Array),kt=m(Tr,ee),Xr=m(kt,"slice");function Ue(o,l){try{return{v:o.apply(this,l)}}catch(v){return{e:v}}}function Vr(o,l){var v=Ue(o);return v.e?l:v.v}var We;function Qr(o){return function(l){return typeof l===o}}function Gt(o){var l="[object "+o+"]";return function(v){return!!(v&&ar(v)===l)}}function ar(o){return _e[he].call(o)}function Pr(o,l){return typeof o===l}function et(o){return typeof o===K||o===K}function kn(o){return!Vt(o)}function ft(o){return o===D||et(o)}function Ju(o){return o===D||!Vt(o)}function Vt(o){return!!o||o!==_}function Zo(o){return!We&&(We=["string","number","boolean",K,"symbol","bigint"]),o!==z&&We.indexOf(o)!==-1}var Wt=Qr("string"),Jt=Qr(U);function ei(o){return!o&&ft(o)?!1:!!o&&typeof o===z}var or=m(Tr,"isArray"),pi=Gt("Date"),qr=Qr("number"),Rs=Qr("boolean"),Rt=Gt("Error");function Wr(o){return!!(o&&o.then&&Jt(o.then))}function Un(o){return!o||!On(o)}function On(o){return!(!o||Vr(function(){return!(o&&0+o)},!o))}var Hr=m(Ie,"getOwnPropertyDescriptor");function Mn(o,l){return!!o&&_e.hasOwnProperty[Ne](o,l)}var ji=f(m(Ie,"hasOwn"),Jn);function Jn(o,l){return Mn(o,l)||!!Hr(o,l)}function Mr(o,l,v){if(o&&ei(o)){for(var w in o)if(ji(o,w)&&l[Ne](v||o,w,o[w])===-1)break}}var Ct={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function lr(o){var l={};if(l[Ct.c]=!0,l[Ct.e]=!0,o.l){l.get=function(){return o.l.v};var v=Hr(o.l,"v");v&&v.set&&(l.set=function(w){o.l.v=w})}return Mr(o,function(w,T){l[Ct[w]]=kn(T)?l[Ct[w]]:T}),l}var tn=m(Ie,"defineProperty");function nd(o,l,v,w,T,x){var O={e:x,c:T};return v&&(O.g=v),w&&(O.s=w),tn(o,l,lr(O))}function ti(o,l,v){return tn(o,l,lr(v))}function Fc(o,l,v,w,T){var x={};return Mr(o,function(O,P){Ar(x,O,l?P:O,T),Ar(x,P,v?P:O,T)}),w?w(x):x}function Ar(o,l,v,w){tn(o,l,{value:v,enumerable:!0,writable:!!w})}var Nr=f(ze),hi="[object Error]";function sr(o,l){var v=k,w=_e[he][Ne](o);w===hi&&(o={stack:Nr(o.stack),message:Nr(o.message),name:Nr(o.name)});try{v=JSON.stringify(o,D,l?typeof l=="number"?l:4:_),v=(v?v.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):D)||Nr(o)}catch(T){v=" - "+sr(T,l)}return w+": "+v}function bn(o){throw new Error(o)}function Bn(o){throw new TypeError(o)}var vi=m(Ie,"freeze");function Do(o){return o}function um(o){return o[H]||D}var ap=m(Ie,"assign"),mu=m(Ie,"keys");function Uc(o){return vi&&Mr(o,function(l,v){(or(v)||ei(v))&&Uc(v)}),ks(o)}var ks=f(vi,Do),id=f(m(Ie,"seal"),Do),Bc=f(m(Ie,"getPrototypeOf"),um);function pa(o){return Fc(o,1,0,ks)}function ad(o){return Fc(o,0,0,ks)}var Uf=ad({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),sh="__tsUtils$gblCfg",ha;function op(){var o;return typeof globalThis!==K&&(o=globalThis),!o&&typeof self!==K&&(o=self),!o&&typeof window!==K&&(o=window),!o&&typeof global!==K&&(o=global),o}function jc(){if(!ha){var o=Ue(op).v||{};ha=o[sh]=o[sh]||{}}return ha}var Ni=To;function To(o,l,v){var w=l?l[o]:D;return function(T){var x=(T?T[o]:D)||w;if(x||v){var O=arguments;return(x||v).apply(T,x?Xr[Ne](O,1):O)}Bn('"'+Nr(o)+'" not defined for '+sr(T))}}function sp(o){return function(l){return l[o]}}var od=m(gr,"max"),up=Ni("slice",ct),pn=Ni("substring",ct),Ao=To("substr",ct,Xo);function Xo(o,l,v){return ft(o)&&Bn("Invalid "+sr(o)),v<0?k:(l=l||0,l<0&&(l=od(l+o[ge],0)),et(v)?up(o,l):up(o,l,l+v))}function jn(o,l){return pn(o,0,l)}var Qo="_urid",gu;function ta(){if(!gu){var o=jc();gu=o.gblSym=o.gblSym||{k:{},s:{}}}return gu}var hn;function Gn(o){var l={description:Nr(o),toString:function(){return ue+"("+o+")"}};return l[ce]=!0,l}function Zu(o){var l=ta();if(!ji(l.k,o)){var v=Gn(o),w=mu(l.s).length;v[Qo]=function(){return w+"_"+v[he]()},l.k[o]=v,l.s[v[Qo]()]=Nr(o)}return l.k[o]}function va(o){!hn&&(hn={});var l,v=Uf[o];return v&&(l=hn[v]=hn[v]||Gn(ue+"."+v)),l}var Or;function mi(){Or=jc()}function sd(o){var l={};return!Or&&mi(),l.b=Or.lzy,tn(l,"v",{configurable:!0,get:function(){var v=o();return Or.lzy||tn(l,"v",{value:v}),l.b=Or.lzy,v}}),l}function Ci(o){return tn({toJSON:function(){return o}},"v",{value:o})}var es="window",Gc;function ts(o,l){var v;return function(){return!Or&&mi(),(!v||Or.lzy)&&(v=Ci(Ue(o,l).v)),v.v}}function ud(o){return!Or&&mi(),(!Gc||o===!1||Or.lzy)&&(Gc=Ci(Ue(op).v||D)),Gc.v}function cn(o,l){var v;if(!Gc||l===!1?v=ud(l):v=Gc.v,v&&v[o])return v[o];if(o===es)try{return window}catch{}return D}function Bf(){return!!ra()}var ra=ts(cn,["document"]);function cp(){return!!ma()}var ma=ts(cn,[es]);function uh(){return!!ga()}var ga=ts(cn,["navigator"]);function jf(){return!!to()}var to=ts(cn,["history"]),cd=ts(function(){return!!Ue(function(){return process&&(process.versions||{}).node}).v}),Sr,rs;function fd(){return Sr=Ci(Ue(cn,[ue]).v),Sr}function na(o){var l=(Or.lzy?0:Sr)||fd();return l.v?l.v[o]:_}function qc(){return!!Ft()}function Ft(){return!Or&&mi(),((Or.lzy?0:Sr)||fd()).v}function ya(o,l){var v=Uf[o];!Or&&mi();var w=(Or.lzy?0:Sr)||fd();return w.v?w.v[v||o]:l?_:va(o)}function Xu(o,l){!Or&&mi();var v=(Or.lzy?0:Sr)||fd();return v.v?v.v(o):l?D:Gn(o)}function Gf(o){return!Or&&mi(),rs=(Or.lzy?0:rs)||Ci(Ue(na,["for"]).v),(rs.v||Zu)(o)}function fv(o){return!!o&&Jt(o.next)}function Ma(o){return!Ju(o)&&Jt(o[ya(3)])}var qf;function fp(o,l,v){if(o&&(fv(o)||(!qf&&(qf=Ci(ya(3))),o=o[qf.v]?o[qf.v]():D),fv(o))){var w=_,T=_;try{for(var x=0;!(T=o.next()).done&&l[Ne](v||o,T.value,x,o)!==-1;)x++}catch(O){w={e:O},o.throw&&(T=D,o.throw(w))}finally{try{T&&!T.done&&o.return&&o.return(T)}finally{if(w)throw w.e}}}}function yu(o,l,v){return o.apply(l,v)}function La(o,l){return!et(l)&&o&&(or(l)?yu(o.push,o,l):fv(l)||Ma(l)?fp(l,function(v){o.push(v)}):o.push(l)),o}function gt(o,l,v){if(o)for(var w=o[ge]>>>0,T=0;T<w&&!(T in o&&l[Ne](v||o,o[T],T,o)===-1);T++);}var gi=Ni("indexOf",kt),_u=Ni("map",kt);function Os(o,l,v){return((o?o.slice:D)||Xr).apply(o,Xr[Ne](arguments,1))}function lp(o,l,v){return gi(o,l,v)!==-1}var dp=To("includes",kt,lp),ri=Ni("reduce",kt),_a=f(m(Ie,"create"),pp);function pp(o){if(!o)return{};var l=typeof o;l!==z&&l!==U&&Bn("Prototype must be an Object or function: "+sr(o));function v(){}return v[ee]=o,new v}var Fa;function ia(o,l){var v=Ie.setPrototypeOf||function(w,T){var x;!Fa&&(Fa=Ci((x={},x[H]=[],x instanceof Array))),Fa.v?w[H]=T:Mr(T,function(O,P){return w[O]=P})};return v(o,l)}function cm(o,l,v){Ue(ti,[l,Fe,{v:o,c:!0,e:!1}]),l=ia(l,v);function w(){this[X]=l,Ue(ti,[this,Fe,{v:o,c:!0,e:!1}])}return l[ee]=v===D?_a(v):(w[ee]=v[ee],new w),l}function lv(o,l){l&&(o[Fe]=l)}function ch(o,l,v){var w=v||Error,T=w[ee][Fe],x=Error.captureStackTrace;return cm(o,function(){var O=this,P=arguments;try{Ue(lv,[w,o]);var F=yu(w,O,Xr[Ne](P))||O;if(F!==O){var G=Bc(O);G!==Bc(F)&&ia(F,G)}return x&&x(F,O[X]),l&&l(F,P),F}finally{Ue(lv,[w,T])}},w)}function Eu(){return(Date.now||fh)()}function fh(){return new Date().getTime()}function eg(o){return function(v){return ft(v)&&Bn("strTrim called ["+sr(v)+"]"),v&&v.replace&&(v=v.replace(o,k)),v}}var hp=eg(/^\s+|(?=\s)\s+$/g),Gi=To("trim",ct,hp),Yf,zf,ro;function Ea(o){if(!o||typeof o!==z)return!1;ro||(ro=cp()?ma():!0);var l=!1;if(o!==ro){zf||(Yf=Function[ee][he],zf=Yf[Ne](Ie));try{var v=Bc(o);l=!v,l||(Mn(v,X)&&(v=v[X]),l=!!(v&&typeof v===U&&Yf[Ne](v)===zf))}catch{}}return l}function wu(o){return o.value&&ph(o),!0}var lh=[ld,ph,dh,mp];function Ua(o,l,v,w){var T;return gt(o,function(x){if(x.k===l)return T=x,-1}),T||(T={k:l,v:l},o.push(T),w(T)),T.v}function vp(o,l,v,w){var T=v.handler,x=v.path?w?v.path.concat(w):v.path:[],O={handler:v.handler,src:v.src,path:x},P=typeof l,F=!1,G=l===D;G||(l&&P===z?F=Ea(l):G=Zo(P));var W={type:P,isPrim:G,isPlain:F,value:l,result:l,path:x,origin:v.src,copy:function(J,Q){return vp(o,J,Q?O:v,Q)},copyTo:function(J,Q){return Qu(o,J,Q,O)}};return W.isPrim?T&&T[Ne](v,W)?W.result:l:Ua(o,l,x,function(J){ti(W,"result",{g:function(){return J.v},s:function(ne){J.v=ne}});for(var Q=0,ae=T;!(ae||(Q<lh.length?lh[Q++]:wu))[Ne](v,W);)ae=D})}function Qu(o,l,v,w){if(!ft(v))for(var T in v)l[T]=vp(o,v[T],w,T);return l}function Yc(o,l,v){var w={handler:v,src:l,path:[]};return Qu([],o,l,w)}function $f(o,l){var v={handler:l,src:o};return vp([],o,v)}function ld(o){var l=o.value;if(or(l)){var v=o.result=[];return v.length=l.length,o.copyTo(v,l),!0}return!1}function mp(o){var l=o.value;return pi(l)?(o.result=new Date(l.getTime()),!0):!1}function dh(o){return o.type===U}function ph(o){var l=o.value;if(l&&o.isPlain){var v=o.result={};return o.copyTo(v,l),!0}return!1}function bu(o,l){return gt(l,function(v){Yc(o,v)}),o}function gp(o,l,v,w,T,x,O){return bu($f(o)||{},Xr[Ne](arguments))}var Ms=sp(ge),ec;function Ba(){return!Or&&mi(),(!ec||Or.lzy)&&(ec=Ci(Ue(cn,["performance"]).v)),ec.v}function Vf(){var o=Ba();return o&&o.now?o.now():Eu()}var dd=To("endsWith",ct,zc);function zc(o,l,v){Wt(o)||Bn("'"+sr(o)+"' is not a string");var w=Wt(l)?l:Nr(l),T=!et(v)&&v<o[ge]?v:o[ge];return pn(o,T-w[ge],T)===w}var no=Ni("indexOf",ct),dv=To("startsWith",ct,ns);function ns(o,l,v){Wt(o)||Bn("'"+sr(o)+"' is not a string");var w=Wt(l)?l:Nr(l),T=v>0?v:0;return pn(o,T,T+w[ge])===w}var No="ref",io="unref",Su="hasRef",pd="enabled";function $c(o,l,v){var w=!0,T=o?l(D):D,x;function O(){return w=!1,T&&T[io]&&T[io](),x}function P(){T&&v(T),T=D}function F(){return T=l(T),w||O(),x}function G(W){!W&&T&&P(),W&&!T&&F()}return x={cancel:P,refresh:F},x[Su]=function(){return T&&T[Su]?T[Su]():w},x[No]=function(){return w=!0,T&&T[No]&&T[No](),x},x[io]=O,x=tn(x,pd,{get:function(){return!!T},set:G}),{h:x,dn:function(){T=D}}}function Vc(o,l,v){var w=or(l),T=w?l.length:0,x=(T>0?l[0]:w?_:l)||setTimeout,O=(T>1?l[1]:_)||clearTimeout,P=v[0];v[0]=function(){F.dn(),yu(P,_,Xr[Ne](arguments))};var F=$c(o,function(G){if(G){if(G.refresh)return G.refresh(),G;yu(O,_,[G])}return yu(x,_,v)},function(G){yu(O,_,[G])});return F.h}function tc(o,l){return Vc(!0,_,Xr[Ne](arguments))}function hd(o,l){return Vc(!1,_,Xr[Ne](arguments))}(ud()||{}).Symbol,(ud()||{}).Reflect;var Wf="hasOwnProperty",vd=function(o,l){return vd=a.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,w){v.__proto__=w}||function(v,w){for(var T in w)w[Wf](T)&&(v[T]=w[T])},vd(o,l)};function rc(o,l){typeof l!==t&&l!==null&&Bn("Class extends value "+String(l)+" is not a constructor or null"),vd(o,l);function v(){this.constructor=o}o[i]=l===null?_a(l):(v[i]=l[i],new v)}function ao(o,l){for(var v=0,w=l.length,T=o.length;v<w;v++,T++)o[T]=l[v];return o}var Wc,Co="constructor",wa="prototype",is="function",rn="_dynInstFuncs",Ls="_isDynProxy",oo="_dynClass",Hc="_dynCls$",Kc="_dynInstChk",as=Kc,Hf="_dfOpts",os="_unknown_",Du="__proto__",aa="_dyn"+Du,yp="__dynProto$Gbl",nc="_dynInstProto",qi="useBaseInst",md="setInstFuncs",_p=Object,Kf=_p.getPrototypeOf,Jf=_p.getOwnPropertyNames,Ep=ud(),pv=Ep[yp]||(Ep[yp]={o:(Wc={},Wc[md]=!0,Wc[qi]=!0,Wc),n:1e3});function ic(o){return o&&(o===_p[wa]||o===Array[wa])}function Io(o){return ic(o)||o===Function[wa]}function so(o){var l;if(o){if(Kf)return Kf(o);var v=o[Du]||o[wa]||(o[Co]?o[Co][wa]:null);l=o[aa]||v,Mn(o,aa)||(delete o[nc],l=o[aa]=o[nc]||o[aa],o[nc]=v)}return l}function En(o,l){var v=[];if(Jf)v=Jf(o);else for(var w in o)typeof w=="string"&&Mn(o,w)&&v.push(w);if(v&&v.length>0)for(var T=0;T<v.length;T++)l(v[T])}function Zf(o,l,v){return l!==Co&&typeof o[l]===is&&(v||Mn(o,l))&&l!==Du&&l!==wa}function ac(o){Bn("DynamicProto: "+o)}function oc(o){var l=_a(null);return En(o,function(v){!l[v]&&Zf(o,v,!1)&&(l[v]=o[v])}),l}function wp(o,l){for(var v=o.length-1;v>=0;v--)if(o[v]===l)return!0;return!1}function ja(o,l,v,w){function T(F,G,W){var J=G[W];if(J[Ls]&&w){var Q=F[rn]||{};Q[as]!==!1&&(J=(Q[G[oo]]||{})[W]||J)}return function(){return J.apply(F,arguments)}}var x=_a(null);En(v,function(F){x[F]=T(l,v,F)});for(var O=so(o),P=[];O&&!Io(O)&&!wp(P,O);)En(O,function(F){!x[F]&&Zf(O,F,!Kf)&&(x[F]=T(l,O,F))}),P.push(O),O=so(O);return x}function Tu(o,l,v,w){var T=null;if(o&&Mn(v,oo)){var x=o[rn]||_a(null);if(T=(x[v[oo]]||_a(null))[l],T||ac("Missing ["+l+"] "+is),!T[Kc]&&x[as]!==!1){for(var O=!Mn(o,l),P=so(o),F=[];O&&P&&!Io(P)&&!wp(F,P);){var G=P[l];if(G){O=G===w;break}F.push(P),P=so(P)}try{O&&(o[l]=T),T[Kc]=1}catch{x[as]=!1}}}return T}function Fs(o,l,v){var w=l[o];return w===v&&(w=so(l)[o]),typeof w!==is&&ac("["+o+"] is not a "+is),w}function vr(o,l,v,w,T){function x(F,G){var W=function(){var J=Tu(this,G,F,W)||Fs(G,F,W);return J.apply(this,arguments)};return W[Ls]=1,W}if(!ic(o)){var O=v[rn]=v[rn]||_a(null);if(!ic(O)){var P=O[l]=O[l]||_a(null);O[as]!==!1&&(O[as]=!!T),ic(P)||En(v,function(F){Zf(v,F,!1)&&v[F]!==w[F]&&(P[F]=v[F],delete v[F],(!Mn(o,F)||o[F]&&!o[F][Ls])&&(o[F]=x(o,F)))})}}}function xo(o,l){if(Kf){for(var v=[],w=so(l);w&&!Io(w)&&!wp(v,w);){if(w===o)return!0;v.push(w),w=so(w)}return!1}return!0}function ss(o,l){return Mn(o,wa)?o.name||l||os:((o||{})[Co]||{}).name||l||os}function Ga(o,l,v,w){Mn(o,wa)||ac("theClass is an invalid class definition.");var T=o[wa];xo(T,l)||ac("["+ss(o)+"] not in hierarchy of ["+ss(l)+"]");var x=null;Mn(T,oo)?x=T[oo]:(x=Hc+ss(o,"_")+"$"+pv.n,pv.n++,T[oo]=x);var O=Ga[Hf],P=!!O[qi];P&&w&&w[qi]!==void 0&&(P=!!w[qi]);var F=oc(l),G=ja(T,l,F,P);v(l,G);var W=!!Kf&&!!O[md];W&&w&&(W=!!w[md]),vr(T,x,l,F,W!==!1)}Ga[Hf]=pv.o;var gd=100,qa=pa,Au=qa({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}),vn=qa({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2}),oa="toLowerCase",Yr="blkVal",yt="length",sc="rdOnly",Po="notify",Us="warnToConsole",uo="throwInternal",Nu="setDf",Ya="watch",Kr="logger",Ro="apply",zr="push",ko="splice",yd="hdlr",Oo="cancel",Ln="initialize",co="identifier",us="removeNotificationListener",Ii="addNotificationListener",Yi="isInitialized",Jc="instrumentationKey",uc="INACTIVE",_d="value",Bs="getNotifyMgr",Mo="getPlugin",Lo="name",cc="iKey",Fo="time",qn="processNext",Ed="getProcessTelContext",fc="pollInternalLogs",js="enabled",ba="stopPollingInternalLogs",cs="unload",Gs="onComplete",za="version",Zc="loggingLevelConsole",Cu="createNew",yi="teardown",Iu="messageId",qs="message",$a="isAsync",lc="diagLog",mn="_doTeardown",ni="update",Va="getNext",dc="setNextPlugin",fs="protocol",bp="userAgent",Sa="split",Xc="nodeType",xi="replace",wd="logInternalMessage",sa="type",ls="handler",ds="status",Sp="getResponseHeader",Xf="getAllResponseHeaders",bd="isChildEvt",Qf="data",Uo="getCtx",ua="setCtx",Qc="complete",hv="itemsReceived",pc="urlString",hc="sendPOST",ps="headers",el="timeout",fm="setRequestHeader",Dp="traceId",tl="spanId",vc="traceFlags",hh;function vv(o,l){hh||(hh=ch("AggregationError",function(w,T){T[yt]>1&&(w.errors=T[1])}));var v=o||"One or more errors occurred.";throw gt(l,function(w,T){v+=`
`.concat(T," > ").concat(sr(w))}),new hh(v,l||[])}var mc="Promise",mv="rejected";function rl(o,l){return Tp(o,function(v){return l?l({status:"fulfilled",rejected:!1,value:v}):v},function(v){return l?l({status:mv,rejected:!0,reason:v}):v})}function Tp(o,l,v,w){var T=o;try{if(Wr(o))(l||v)&&(T=o.then(l,v));else try{l&&(T=l(o))}catch(x){if(v)T=v(x);else throw x}}finally{w&&fo(T,w)}return T}function fo(o,l){var v=o;return l&&(Wr(o)?o.finally?v=o.finally(l):v=o.then(function(w){return l(),w},function(w){throw l(),w}):l()),v}var vh=["pending","resolving","resolved",mv],lm="dispatchEvent",Sd;function mh(o){var l;return o&&o.createEvent&&(l=o.createEvent("Event")),!!l&&l.initEvent}function Ap(o,l,v,w){var T=ra();!Sd&&(Sd=Ci(!!Ue(mh,[T]).v));var x=Sd.v?T.createEvent("Event"):w?new Event(l):{};if(v&&v(x),Sd.v&&x.initEvent(l,!1,!0),x&&o[lm])o[lm](x);else{var O=o["on"+l];if(O)O(x);else{var P=cn("console");P&&(P.error||P.log)(l,sr(x))}}}var ef="unhandledRejection",Dd=ef.toLowerCase(),gc=10,Ys;function tf(o){return Jt(o)?o.toString():sr(o)}function gv(o,l,v){var w=Os(arguments,3),T=0,x=!1,O,P=[],F=!1,G=null,W;function J(ot,ur){try{F=!0,G&&G.cancel(),G=null;var hr=o(function(zn,yn){P.push(function(){try{var $n=T===2?ot:ur,Xa=et($n)?O:Jt($n)?$n(O):$n;Wr(Xa)?Xa.then(zn,yn):$n?zn(Xa):T===3?yn(Xa):zn(Xa)}catch(Pa){yn(Pa)}}),x&&be()},w);return hr}finally{}}function Q(ot){return J(void 0,ot)}function ae(ot){var ur=ot,hr=ot;return Jt(ot)&&(ur=function(zn){return ot&&ot(),zn},hr=function(zn){throw ot&&ot(),zn}),J(ur,hr)}function ne(){return vh[T]}function be(){if(P.length>0){var ot=P.slice();P=[],F=!0,G&&G.cancel(),G=null,l(ot)}}function De(ot,ur){return function(hr){if(T===ur){if(ot===2&&Wr(hr)){T=1,hr.then(De(2,1),De(3,1));return}T=ot,x=!0,O=hr,be(),!F&&ot===3&&!G&&(G=tc($e,gc))}}}function $e(){if(!F)if(F=!0,cd())process.emit(ef,O,W);else{var ot=ma()||ud();!Ys&&(Ys=Ci(Ue(cn,[mc+"RejectionEvent"]).v)),Ap(ot,Dd,function(ur){return ti(ur,"promise",{g:function(){return W}}),ur.reason=O,ur},!!Ys.v)}}W={then:J,catch:Q,finally:ae},tn(W,"state",{get:ne}),qc()&&(W[ya(11)]="IPromise");function Xe(){return"IPromise "+ne()+(x?" - "+tf(O):"")}return W.toString=Xe,function(){Jt(v)||Bn(mc+": executor is not a function - "+tf(v));var ur=De(3,0);try{v.call(W,De(2,0),ur)}catch(hr){ur(hr)}}(),W}function Np(o){return function(l){var v=Os(arguments,1);return o(function(w,T){try{var x=[],O=1;fp(l,function(P,F){P&&(O++,Tp(P,function(G){x[F]=G,--O===0&&w(x)},T))}),O--,O===0&&w(x)}catch(P){T(P)}},v)}}function rf(o){return Ci(function(l){var v=Os(arguments,1);return o(function(w,T){var x=[],O=1;function P(F,G){O++,rl(F,function(W){W.rejected?x[G]={status:mv,reason:W.reason}:x[G]={status:"fulfilled",value:W.value},--O===0&&w(x)})}try{or(l)?gt(l,P):Ma(l)?fp(l,P):Bn("Input is not an iterable"),O--,O===0&&w(x)}catch(F){T(F)}},v)})}function Cp(o){gt(o,function(l){try{l()}catch{}})}function zs(o){var l=qr(o)?o:0;return function(v){tc(function(){Cp(v)},l)}}function Jr(o,l){return gv(Jr,zs(l),o,l)}var yc;function _i(o,l){!yc&&(yc=Ci(Ue(cn,[mc]).v||null));var v=yc.v;if(!v)return Jr(o);Jt(o)||Bn(mc+": executor is not a function - "+sr(o));var w=0;function T(){return vh[w]}var x=new v(function(O,P){function F(W){w=2,O(W)}function G(W){w=3,P(W)}o(F,G)});return tn(x,"state",{get:T}),x}var Ip;function Td(o){return gv(Td,Cp,o)}function nf(o,l){return!Ip&&(Ip=rf(Td)),Ip.v(o,l)}var _c;function ca(o,l){return!_c&&(_c=Ci(_i)),_c.v.call(this,o,l)}var Ad=Np(ca),ii=void 0,Er="",$s="channels",Sn="core",hs="createPerfMgr",Ec="disabled",wc="extensionConfig",Vs="extensions",lo="processTelemetry",nl="priority",gh="eventsSent",il="eventsDiscarded",yh="eventsSendRequest",al="perfEvent",af="offlineEventsStored",xp="offlineBatchSent",Zn="offlineBatchDrop",of="getPerfMgr",Ei="domain",xu="path",Pp="Not dynamic - ",Nd=/-([a-z])/g,wi=/([^\w\d_$])/g,Cd=/^(\d+[\w\d_$])/;function Rp(o){return!ft(o)}function Ws(o){var l=o;return l&&Wt(l)&&(l=l[xi](Nd,function(v,w){return w.toUpperCase()}),l=l[xi](wi,"_"),l=l[xi](Cd,function(v,w){return"_"+w})),l}function It(o,l){return o&&l?no(o,l)!==-1:!1}function vs(o){return o&&o.toISOString()||""}function ms(o){return Rt(o)?o[Lo]:Er}function Da(o,l,v,w,T){var x=v;return o&&(x=o[l],x!==v&&(!T||T(x))&&(!w||w(v))&&(x=v,o[l]=x)),x}function ol(o,l,v){var w;return o?(w=o[l],!w&&ft(w)&&(w=et(v)?{}:v,o[l]=w)):w=et(v)?{}:v,w}function sf(o,l){var v=null,w=null;return Jt(o)?v=o:w=o,function(){var T=arguments;if(v&&(w=v()),w)return w[l][Ro](w,T)}}function gs(o,l,v){if(o&&l&&ei(o)&&ei(l)){var w=function(x){if(Wt(x)){var O=l[x];Jt(O)?(!v||v(x,!0,l,o))&&(o[x]=sf(l,x)):(!v||v(x,!1,l,o))&&(ji(o,x)&&delete o[x],ti(o,x,{g:function(){return l[x]},s:function(P){l[x]=P}}))}};for(var T in l)w(T)}return o}function Wa(o,l,v,w,T){o&&l&&v&&(T!==!1||et(o[l]))&&(o[l]=sf(v,w))}function uf(o,l,v,w){return o&&l&&ei(o)&&or(v)&&gt(v,function(T){Wt(T)&&Wa(o,T,l,T,w)}),o}function Id(o){return o&&ap&&(o=a(ap({},o))),o}function Hs(o){try{return o.responseText}catch{}return null}function sl(o,l){return o?"XDomainRequest,Response:"+Hs(o)||"":l}function cf(o,l){return o?"XMLHttpRequest,Status:"+o[ds]+",Response:"+Hs(o)||o.response||"":l}function ul(o,l){return l&&(qr(l)?o=[l].concat(o):or(l)&&(o=l.concat(o))),o}var kp="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Op="withCredentials",_h="timeout";function dm(o,l,v,w,T,x){w===void 0&&(w=!1),T===void 0&&(T=!1);function O(F,G,W){try{F[G]=W}catch{}}var P=new XMLHttpRequest;return w&&O(P,kp,w),v&&O(P,Op,v),P.open(o,l,!T),v&&O(P,Op,v),!T&&x&&O(P,_h,x),P}function ys(o){var l={};if(Wt(o)){var v=Gi(o)[Sa](/[\r\n]+/);gt(v,function(w){if(w){var T=w.indexOf(": ");if(T!==-1){var x=Gi(w.substring(0,T))[oa](),O=Gi(w.substring(T+1));l[x]=O}else l[Gi(w)]=1}})}return l}function Ks(o,l,v){if(!o[v]&&l&&l[Sp]){var w=l[Sp](v);w&&(o[v]=Gi(w))}return o}var _s="kill-duration",Ha="kill-duration-seconds",Js="time-delta-millis";function Pu(o,l){var v={};return o[Xf]?v=ys(o[Xf]()):l&&(v=Ks(v,o,Js),v=Ks(v,o,_s),v=Ks(v,o,Ha)),v}var Ta="documentMode",ff="location",yv="console",bc="JSON",Eh="crypto",cl="msCrypto",lf="ReactNative",fl="msie",Zs="trident/",Ka="XMLHttpRequest",df=null,ll=null,xd=!1,bi=null,Xs=null;function Si(o,l){var v=!1;if(o){try{if(v=l in o,!v){var w=o[i];w&&(v=l in w)}}catch{}if(!v)try{var T=new o;v=!et(T[l])}catch{}}return v}function Pd(o){xd=o}function Ru(o){if(o&&xd){var l=cn("__mockLocation");if(l)return l}return typeof location===r&&location?location:cn(ff)}function Rd(){return typeof console!==n?console:cn(yv)}function zi(){return!!(typeof JSON===r&&JSON||cn(bc)!==null)}function Di(){return zi()?JSON||cn(bc):null}function wh(){return cn(Eh)}function dl(){return cn(cl)}function pl(){var o=ga();return o&&o.product?o.product===lf:!1}function ku(){var o=ga();if(o&&(o[bp]!==ll||df===null)){ll=o[bp];var l=(ll||Er)[oa]();df=It(l,fl)||It(l,Zs)}return df}function _v(o){if(o===void 0&&(o=null),!o){var l=ga()||{};o=l?(l.userAgent||Er)[oa]():Er}var v=(o||Er)[oa]();if(It(v,fl)){var w=ra()||{};return Math.max(parseInt(v[Sa](fl)[1]),w[Ta]||0)}else if(It(v,Zs)){var T=parseInt(v[Sa](Zs)[1]);if(T)return T+4}return null}function Ev(o){return(Xs===null||o===!1)&&(Xs=uh()&&!!ga().sendBeacon),Xs}function hl(o){var l=!1;try{l=!!cn("fetch");var v=cn("Request");l&&o&&v&&(l=Si(v,"keepalive"))}catch{}return l}function bh(){return bi===null&&(bi=typeof XDomainRequest!==n,bi&&vl()&&(bi=bi&&!Si(cn(Ka),"withCredentials"))),bi}function vl(){var o=!1;try{var l=cn(Ka);o=!!l}catch{}return o}function Sh(o,l){if(o)for(var v=0;v<o[yt];v++){var w=o[v];if(w[Lo]&&w[Lo]===l)return w}return{}}function wv(o){var l=ra();return l&&o?Sh(l.querySelectorAll("meta"),o).content:null}function ml(o){var l,v=Ba();if(v){var w=v.getEntriesByType("navigation")||[];l=Sh((w[yt]>0?w[0]:{}).serverTiming,o).description}return l}var bv=4294967296,Ou=4294967295,pf=123456789,Mp=987654321,Es=!1,kd=pf,gl=Mp;function Bo(o){o<0&&(o>>>=0),kd=pf+o&Ou,gl=Mp-o&Ou,Es=!0}function hf(){try{var o=Eu()&2147483647;Bo((Math.random()*bv^o)+o)}catch{}}function Sv(o){return o>0?Math.floor(vf()/Ou*(o+1))>>>0:0}function vf(o){var l=0,v=wh()||dl();return v&&v.getRandomValues&&(l=v.getRandomValues(new Uint32Array(1))[0]&Ou),l===0&&ku()&&(Es||hf(),l=pm()&Ou),l===0&&(l=Math.floor(bv*Math.random()|0)),o||(l>>>=0),l}function pm(o){gl=36969*(gl&65535)+(gl>>16)&Ou,kd=18e3*(kd&65535)+(kd>>16)&Ou;var l=(gl<<16)+(kd&65535)>>>0&Ou|0;return o||(l>>>=0),l}function yl(o){o===void 0&&(o=22);for(var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",v=vf()>>>0,w=0,T=Er;T[yt]<o;)w++,T+=l.charAt(v&63),v>>>=6,w===5&&(v=(vf()<<2&4294967295|v&3)>>>0,w=0);return T}var Dv="3.3.4",Dh="."+yl(6),Mu=0;function Lu(o){return o[Xc]===1||o[Xc]===9||!+o[Xc]}function mf(o,l){var v=l[o.id];if(!v){v={};try{Lu(l)&&ti(l,o.id,{e:!1,v})}catch{}}return v}function ws(o,l){return l===void 0&&(l=!1),Ws(o+Mu+++(l?"."+Dv:Er)+Dh)}function Qs(o){var l={id:ws("_aiData-"+(o||Er)+"."+Dv),accept:function(v){return Lu(v)},get:function(v,w,T,x){var O=v[l.id];return O?O[Ws(w)]:(x&&(O=mf(l,v),O[Ws(w)]=T),T)},kill:function(v,w){if(v&&v[w])try{delete v[w]}catch{}}};return l}function _l(o){return o&&ei(o)&&(o.isVal||o.fb||ji(o,"v")||ji(o,"mrg")||ji(o,"ref")||o.set)}function Od(o,l,v){var w,T=v.dfVal||Vt;if(l&&v.fb){var x=v.fb;or(x)||(x=[x]);for(var O=0;O<x[yt];O++){var P=x[O],F=l[P];if(T(F)?w=F:o&&(F=o.cfg[P],T(F)&&(w=F),o.set(o.cfg,Nr(P),F)),T(w))break}}return!T(w)&&T(v.v)&&(w=v.v),w}function Md(o,l,v){var w=v;if(v&&_l(v)&&(w=Od(o,l,v)),w){_l(w)&&(w=Md(o,l,w));var T;or(w)?(T=[],T[yt]=w[yt]):Ea(w)&&(T={}),T&&(Mr(w,function(x,O){O&&_l(O)&&(O=Md(o,l,O)),T[x]=O}),w=T)}return w}function El(o,l,v,w){var T,x,O,P=w,F,G,W,J;_l(P)?(T=P.isVal,x=P.set,W=P[sc],J=P[Yr],F=P.mrg,G=P.ref,!G&&et(G)&&(G=!!F),O=Od(o,l,P)):O=w,J&&o[Yr](l,v);var Q,ae=!0,ne=l[v];(ne||!ft(ne))&&(Q=ne,ae=!1,T&&Q!==O&&!T(Q)&&(Q=O,ae=!0),x&&(Q=x(Q,O,l),ae=Q===O)),ae?O?Q=Md(o,l,O):Q=O:(Ea(Q)||or(O))&&F&&O&&(Ea(O)||or(O))&&Mr(O,function(be,De){El(o,Q,be,De)}),o.set(l,v,Q),G&&o.ref(l,v),W&&o[sc](l,v)}var Aa=Gf("[[ai_dynCfg_1]]"),wl=Gf("[[ai_blkDynCfg_1]]"),Tv=Gf("[[ai_frcDynCfg_1]]");function hm(o){if(o){var l;if(or(o)?(l=[],l[yt]=o[yt]):Ea(o)&&(l={}),l)return Mr(o,function(v,w){l[v]=hm(w)}),l}return o}function gf(o){if(o){var l=o[Aa]||o;if(l.cfg&&(l.cfg===o||l.cfg[Aa]===l))return l}return null}function vm(o){if(o&&(Ea(o)||or(o)))try{o[wl]=!0}catch{}return o}function jo(o){if(o)try{o[Tv]=!0}catch{}return o}function Fu(o,l,v){var w=!1;return v&&!o[l.blkVal]&&(w=v[Tv],!w&&!v[wl]&&(w=Ea(v)||or(v))),w}function yf(o){Bn("InvalidAccess:"+o)}var Av=["push","pop","shift","unshift","splice"],Lp=function(o,l,v,w){o&&o[uo](3,108,"".concat(v," [").concat(l,"] failed - ")+sr(w))};function Nv(o,l,v){or(l)&&gt(Av,function(w){var T=l[w];l[w]=function(){for(var x=[],O=0;O<arguments.length;O++)x[O]=arguments[O];var P=T[Ro](this,x);return Fd(o,l,v,"Patching"),P}})}function Th(o,l){var v=Hr(o,l);return v&&v.get}function Ld(o,l,v,w){var T={n:v,h:[],trk:function(G){G&&G.fn&&(gi(T.h,G)===-1&&T.h[zr](G),o.trk(G,T))},clr:function(G){var W=gi(T.h,G);W!==-1&&T.h[ko](W,1)}},x=!0,O=!1;function P(){x&&(O=O||Fu(P,o,w),w&&!w[Aa]&&O&&(w=Fd(o,w,v,"Converting")),x=!1);var G=o.act;return G&&T.trk(G),w}P[o.prop]={chng:function(){o.add(T)}};function F(G){if(w!==G){P[o.ro]&&!o.upd&&yf("["+v+"] is read-only:"+sr(l)),x&&(O=O||Fu(P,o,w),x=!1);var W=O&&P[o.rf];if(O)if(W){Mr(w,function(Q){w[Q]=G?G[Q]:ii});try{Mr(G,function(Q,ae){_f(o,w,Q,ae)}),G=w}catch(Q){Lp((o.hdlr||{})[Kr],v,"Assigning",Q),O=!1}}else w&&w[Aa]&&Mr(w,function(Q){var ae=Th(w,Q);if(ae){var ne=ae[o.prop];ne&&ne.chng()}});if(G!==w){var J=G&&Fu(P,o,G);!W&&J&&(G=Fd(o,G,v,"Converting")),w=G,O=J}o.add(T)}}ti(l,T.n,{g:P,s:F})}function _f(o,l,v,w){if(l){var T=Th(l,v),x=T&&!!T[o.prop];x?l[v]=w:Ld(o,l,v,w)}return l}function po(o,l,v,w){if(l){var T=Th(l,v),x=T&&!!T[o.prop],O=w&&w[0],P=w&&w[1],F=w&&w[2];if(!x){if(F)try{vm(l)}catch(G){Lp((o.hdlr||{})[Kr],v,"Blocking",G)}try{_f(o,l,v,l[v]),T=Th(l,v)}catch(G){Lp((o.hdlr||{})[Kr],v,"State",G)}}O&&(T[o.rf]=O),P&&(T[o.ro]=P),F&&(T[o.blkVal]=!0)}return l}function Fd(o,l,v,w){try{Mr(l,function(T,x){_f(o,l,T,x)}),l[Aa]||(tn(l,Aa,{get:function(){return o[yd]}}),Nv(o,l,v))}catch(T){Lp((o.hdlr||{})[Kr],v,w,T)}return l}var Ef="[[ai_",$i="]]";function ho(o){var l,v=Xu(Ef+"get"+o.uid+$i),w=Xu(Ef+"ro"+o.uid+$i),T=Xu(Ef+"rf"+o.uid+$i),x=Xu(Ef+"blkVal"+o.uid+$i),O=Xu(Ef+"dtl"+o.uid+$i),P=null,F=null,G;function W(ne,be){var De=G.act;try{G.act=ne,ne&&ne[O]&&(gt(ne[O],function(Xe){Xe.clr(ne)}),ne[O]=[]),be({cfg:o.cfg,set:o.set.bind(o),setDf:o[Nu].bind(o),ref:o.ref.bind(o),rdOnly:o[sc].bind(o)})}catch(Xe){var $e=o[Kr];throw $e&&$e[uo](1,107,sr(Xe)),Xe}finally{G.act=De||null}}function J(){if(P){var ne=P;P=null,F&&F[Oo](),F=null;var be=[];if(gt(ne,function(De){if(De&&(De[O]&&(gt(De[O],function($e){$e.clr(De)}),De[O]=null),De.fn))try{W(De,De.fn)}catch($e){be[zr]($e)}}),P)try{J()}catch(De){be[zr](De)}be[yt]>0&&vv("Watcher error(s): ",be)}}function Q(ne){if(ne&&ne.h[yt]>0){P||(P=[]),F||(F=tc(function(){F=null,J()},0));for(var be=0;be<ne.h[yt];be++){var De=ne.h[be];De&&gi(P,De)===-1&&P[zr](De)}}}function ae(ne,be){if(ne){var De=ne[O]=ne[O]||[];gi(De,be)===-1&&De[zr](be)}}return G=(l={prop:v,ro:w,rf:T},l[Yr]=x,l[yd]=o,l.add=Q,l[Po]=J,l.use=W,l.trk=ae,l),G}function bl(o,l){var v={fn:l,rm:function(){v.fn=null,o=null,l=null}};return ti(v,"toJSON",{v:function(){return"WatcherHandler"+(v.fn?"":"[X]")}}),o.use(v,l),v}function Cv(o,l,v){var w,T=gf(l);if(T)return T;var x=ws("dyncfg",!0),O=l&&v!==!1?l:hm(l),P;function F(){P[Po]()}function G($e,Xe,ot){try{$e=_f(P,$e,Xe,ot)}catch(ur){Lp(o,Xe,"Setting value",ur)}return $e[Xe]}function W($e){return bl(P,$e)}function J($e,Xe){P.use(null,function(ot){var ur=P.upd;try{et(Xe)||(P.upd=Xe),$e(ot)}finally{P.upd=ur}})}function Q($e,Xe){var ot;return po(P,$e,Xe,(ot={},ot[0]=!0,ot))[Xe]}function ae($e,Xe){var ot;return po(P,$e,Xe,(ot={},ot[1]=!0,ot))[Xe]}function ne($e,Xe){var ot;return po(P,$e,Xe,(ot={},ot[2]=!0,ot))[Xe]}function be($e,Xe){return Xe&&Mr(Xe,function(ot,ur){El(De,$e,ot,ur)}),$e}var De=(w={uid:null,cfg:O},w[Kr]=o,w[Po]=F,w.set=G,w[Nu]=be,w[Ya]=W,w.ref=Q,w[sc]=ae,w[Yr]=ne,w._block=J,w);return ti(De,"uid",{c:!1,e:!1,w:!1,v:x}),P=ho(De),Fd(P,O,"config","Creating"),De}function Iv(o,l){o?(o[Us](l),o[uo](2,108,l)):yf(l)}function Ti(o,l,v,w){var T=Cv(v,o||{},w);return l&&T[Nu](T.cfg,l),T}function wf(o,l,v){var w=o[Aa]||o;return w.cfg&&(w.cfg===o||w.cfg[Aa]===w)?w[Ya](l):(Iv(v,Pp+sr(o)),Ti(o,null,v)[Ya](l))}function Sl(o,l){if(o&&o[cs])return o[cs](l)}function mm(o,l,v){var w;return v||(w=ca(function(T){v=T})),o&&Ms(o)>0?rl(Sl(o[0],l),function(){mm(Os(o,1),l,v)}):v(),w}var xv=500,Dl="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";function Vi(o){return{mrg:!0,v:o}}var Fp=[gh,il,yh,al],Sc=null,bf;function eu(o,l){return function(){var v=arguments,w=Up(l);if(w){var T=w.listener;T&&T[o]&&T[o][Ro](T,v)}}}function Tl(){var o=cn("Microsoft");return o&&(Sc=o.ApplicationInsights),Sc}function Up(o){var l=Sc;return!l&&o.disableDbgExt!==!0&&(l=Sc||Tl()),l?l.ChromeDbgExt:null}function At(o){if(!bf){bf={};for(var l=0;l<Fp[yt];l++)bf[Fp[l]]=eu(Fp[l],o)}return bf}var Uu,Go="warnToConsole",Al="AI (Internal): ",gm="AI: ",Nl="AITR_",Ud={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},qo=(Uu={},Uu[0]=null,Uu[1]="errorToConsole",Uu[2]=Go,Uu[3]="debugToConsole",Uu);function Pv(o){return o?'"'+o[xi](/\"/g,Er)+'"':Er}function Bp(o,l){var v=Rd();if(v){var w="log";v[o]&&(w=o),Jt(v[w])&&v[w](l)}}var jp=function(){function o(l,v,w,T){w===void 0&&(w=!1);var x=this;x[Iu]=l,x[qs]=(w?gm:Al)+l;var O=Er;zi()&&(O=Di().stringify(T));var P=(v?" message:"+Pv(v):Er)+(T?" props:"+Pv(O):Er);x[qs]+=P}return o.dataType="MessageData",o}();function Cl(o,l){return(o||{})[Kr]||new Dc(l)}var Dc=function(){function o(l){this.identifier="DiagnosticLogger",this.queue=[];var v=0,w={},T,x,O,P,F;Ga(o,this,function(G){F=J(l||{}),G.consoleLoggingLevel=function(){return T},G[uo]=function(ne,be,De,$e,Xe){Xe===void 0&&(Xe=!1);var ot=new jp(be,De,Xe,$e);if(P)throw sr(ot);var ur=qo[ne]||Go;if(et(ot[qs]))ae("throw"+(ne===1?"Critical":"Warning"),ot);else{if(Xe){var hr=+ot[Iu];!w[hr]&&T>=ne&&(G[ur](ot[qs]),w[hr]=!0)}else T>=ne&&G[ur](ot[qs]);W(ne,ot)}},G.debugToConsole=function(ne){Bp("debug",ne),ae("warning",ne)},G[Us]=function(ne){Bp("warn",ne),ae("warning",ne)},G.errorToConsole=function(ne){Bp("error",ne),ae("error",ne)},G.resetInternalMessageCount=function(){v=0,w={}},G[wd]=W,G[cs]=function(ne){F&&F.rm(),F=null};function W(ne,be){if(!Q()){var De=!0,$e=Nl+be[Iu];if(w[$e]?De=!1:w[$e]=!0,De&&(ne<=x&&(G.queue[zr](be),v++,ae(ne===1?"error":"warn",be)),v===O)){var Xe="Internal events throttle limit per PageView reached for this app.",ot=new jp(23,Xe,!1);G.queue[zr](ot),ne===1?G.errorToConsole(Xe):G[Us](Xe)}}}function J(ne){return wf(Ti(ne,Ud,G).cfg,function(be){var De=be.cfg;T=De[Zc],x=De.loggingLevelTelemetry,O=De.maxMessageLimit,P=De.enableDebug})}function Q(){return v>=O}function ae(ne,be){var De=Up(l||{});De&&De[lc]&&De[lc](ne,be)}})}return o.__ieDyn=1,o}();function Ah(o){return o||new Dc}function en(o,l,v,w,T,x){x===void 0&&(x=!1),Ah(o)[uo](l,v,w,T,x)}function tu(o,l){Ah(o)[Us](l)}function Nh(o,l,v){Ah(o)[wd](l,v)}var Bu,vo,Yn="toGMTString",Bd="toUTCString",Tc="cookie",Sf="expires",bs="isCookieUseDisabled",mo="disableCookiesUsage",Yo="_ckMgr",jd=null,Gp=null,Ch=null,Ss,Ih={},Gd={},xh=(Bu={cookieCfg:Vi((vo={},vo[Ei]={fb:"cookieDomain",dfVal:Rp},vo.path={fb:"cookiePath",dfVal:Rp},vo.enabled=ii,vo.ignoreCookies=ii,vo.blockedCookies=ii,vo)),cookieDomain:ii,cookiePath:ii},Bu[mo]=ii,Bu);function Ds(){!Ss&&(Ss=sd(function(){return ra()}))}function ym(o,l){var v=C[Yo]||Gd[Yo];return v||(v=C[Yo]=C(o,l),Gd[Yo]=v),v}function ju(o){return o?o.isEnabled():!0}function Ph(o,l){return l&&o&&or(o.ignoreCookies)?gi(o.ignoreCookies,l)!==-1:!1}function p(o,l){return l&&o&&or(o.blockedCookies)&&gi(o.blockedCookies,l)!==-1?!0:Ph(o,l)}function y(o,l){var v=l[js];if(ft(v)){var w=void 0;et(o[bs])||(w=!o[bs]),et(o[mo])||(w=!o[mo]),v=w}return v}function b(o,l){var v;if(o)v=o.getCookieMgr();else if(l){var w=l.cookieCfg;w&&w[Yo]?v=w[Yo]:v=C(l)}return v||(v=ym(l,(o||{})[Kr])),v}function C(o,l){var v,w,T,x,O,P,F,G,W;o=Ti(o||Gd,null,l).cfg,O=wf(o,function(Q){Q[Nu](Q.cfg,xh),w=Q.ref(Q.cfg,"cookieCfg"),T=w[xu]||"/",x=w[Ei],P=y(o,w)!==!1,F=w.getCookie||oe,G=w.setCookie||Se,W=w.delCookie||Se},l);var J=(v={isEnabled:function(){var Q=y(o,w)!==!1&&P&&j(l),ae=Gd[Yo];return Q&&ae&&J!==ae&&(Q=ju(ae)),Q},setEnabled:function(Q){P=Q!==!1,w[js]=Q},set:function(Q,ae,ne,be,De){var $e=!1;if(ju(J)&&!p(w,Q)){var Xe={},ot=Gi(ae||Er),ur=no(ot,";");if(ur!==-1&&(ot=Gi(jn(ae,ur)),Xe=Z(pn(ae,ur+1))),Da(Xe,Ei,be||x,On,et),!ft(ne)){var hr=ku();if(et(Xe[Sf])){var zn=Eu(),yn=zn+ne*1e3;if(yn>0){var $n=new Date;$n.setTime(yn),Da(Xe,Sf,re($n,hr?Yn:Bd)||re($n,hr?Yn:Bd)||Er,On)}}hr||Da(Xe,"max-age",Er+ne,null,et)}var Xa=Ru();Xa&&Xa[fs]==="https:"&&(Da(Xe,"secure",null,null,et),Gp===null&&(Gp=!st((ga()||{})[bp])),Gp&&Da(Xe,"SameSite","None",null,et)),Da(Xe,xu,De||T,null,et),G(Q,se(ot,Xe)),$e=!0}return $e},get:function(Q){var ae=Er;return ju(J)&&!Ph(w,Q)&&(ae=F(Q)),ae},del:function(Q,ae){var ne=!1;return ju(J)&&(ne=J.purge(Q,ae)),ne},purge:function(Q,ae){var ne,be=!1;if(j(l)){var De=(ne={},ne[xu]=ae||"/",ne[Sf]="Thu, 01 Jan 1970 00:00:01 GMT",ne);ku()||(De["max-age"]="0"),W(Q,se(Er,De)),be=!0}return be}},v[cs]=function(Q){O&&O.rm(),O=null},v);return J[Yo]=J,J}function j(o){if(jd===null){jd=!1,!Ss&&Ds();try{var l=Ss.v||{};jd=l[Tc]!==void 0}catch(v){en(o,2,68,"Cannot access document.cookie - "+ms(v),{exception:sr(v)})}}return jd}function Z(o){var l={};if(o&&o[yt]){var v=Gi(o)[Sa](";");gt(v,function(w){if(w=Gi(w||Er),w){var T=no(w,"=");T===-1?l[w]=null:l[Gi(jn(w,T))]=Gi(pn(w,T+1))}})}return l}function re(o,l){return Jt(o[l])?o[l]():null}function se(o,l){var v=o||Er;return Mr(l,function(w,T){v+="; "+w+(ft(T)?Er:"="+T)}),v}function oe(o){var l=Er;if(!Ss&&Ds(),Ss.v){var v=Ss.v[Tc]||Er;Ch!==v&&(Ih=Z(v),Ch=v),l=Gi(Ih[o]||Er)}return l}function Se(o,l){!Ss&&Ds(),Ss.v&&(Ss.v[Tc]=o+"="+l)}function st(o){return Wt(o)?!!(It(o,"CPU iPhone OS 12")||It(o,"iPad; CPU OS 12")||It(o,"Macintosh; Intel Mac OS X 10_14")&&It(o,"Version/")&&It(o,"Safari")||It(o,"Macintosh; Intel Mac OS X 10_14")&&dd(o,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||It(o,"Chrome/5")||It(o,"Chrome/6")||It(o,"UnrealEngine")&&!It(o,"Chrome")||It(o,"UCBrowser/12")||It(o,"UCBrowser/11")):!1}var xt={perfEvtsSendAll:!1};function er(o){o.h=null;var l=o.cb;o.cb=[],gt(l,function(v){Ue(v.fn,[v.arg])})}function lt(o,l,v,w){gt(o,function(T){T&&T[l]&&(v?(v.cb[zr]({fn:w,arg:T}),v.h=v.h||tc(er,0,v)):Ue(w,[T]))})}var vt=function(){function o(l){this.listeners=[];var v,w,T=[],x={h:null,cb:[]},O=Ti(l,xt);w=O[Ya](function(P){v=!!P.cfg.perfEvtsSendAll}),Ga(o,this,function(P){ti(P,"listeners",{g:function(){return T}}),P[Ii]=function(F){T[zr](F)},P[us]=function(F){for(var G=gi(T,F);G>-1;)T[ko](G,1),G=gi(T,F)},P[gh]=function(F){lt(T,gh,x,function(G){G[gh](F)})},P[il]=function(F,G){lt(T,il,x,function(W){W[il](F,G)})},P[yh]=function(F,G){lt(T,yh,G?x:null,function(W){W[yh](F,G)})},P[al]=function(F){F&&(v||!F[bd]())&&lt(T,al,null,function(G){F[$a]?tc(function(){return G[al](F)},0):G[al](F)})},P[af]=function(F){F&&F[yt]&&lt(T,af,x,function(G){G[af](F)})},P[xp]=function(F){F&&F[Qf]&&lt(T,xp,x,function(G){G[xp](F)})},P[Zn]=function(F,G){if(F>0){var W=G||0;lt(T,Zn,x,function(J){J[Zn](F,W)})}},P[cs]=function(F){var G=function(){w&&w.rm(),w=null,T=[],x.h&&x.h[Oo](),x.h=null,x.cb=[]},W;if(lt(T,"unload",null,function(J){var Q=J[cs](F);Q&&(W||(W=[]),W[zr](Q))}),W)return ca(function(J){return rl(Ad(W),function(){G(),J()})});G()}})}return o.__ieDyn=1,o}(),dr="ctx",qt="ParentContextKey",Cr="ChildrenContextKey",Rr=null,Ut=function(){function o(l,v,w){var T=this;if(T.start=Eu(),T[Lo]=l,T[$a]=w,T[bd]=function(){return!1},Jt(v)){var x;ti(T,"payload",{g:function(){return!x&&Jt(v)&&(x=v(),v=null),x}})}T[Uo]=function(O){return O?O===o[qt]||O===o[Cr]?T[O]:(T[dr]||{})[O]:null},T[ua]=function(O,P){if(O)if(O===o[qt])T[O]||(T[bd]=function(){return!0}),T[O]=P;else if(O===o[Cr])T[O]=P;else{var F=T[dr]=T[dr]||{};F[O]=P}},T[Qc]=function(){var O=0,P=T[Uo](o[Cr]);if(or(P))for(var F=0;F<P[yt];F++){var G=P[F];G&&(O+=G[Fo])}T[Fo]=Eu()-T.start,T.exTime=T[Fo]-O,T[Qc]=function(){}}}return o.ParentContextKey="parent",o.ChildrenContextKey="childEvts",o}(),Nn=function(){function o(l){this.ctx={},Ga(o,this,function(v){v.create=function(w,T,x){return new Ut(w,T,x)},v.fire=function(w){w&&(w[Qc](),l&&Jt(l[al])&&l[al](w))},v[ua]=function(w,T){if(w){var x=v[dr]=v[dr]||{};x[w]=T}},v[Uo]=function(w){return(v[dr]||{})[w]}})}return o.__ieDyn=1,o}(),Ac="CoreUtils.doPerf";function ru(o,l,v,w,T){if(o){var x=o;if(x[of]&&(x=x[of]()),x){var O=void 0,P=x[Uo](Ac);try{if(O=x.create(l(),w,T),O){if(P&&O[ua]&&(O[ua](Ut[qt],P),P[Uo]&&P[ua])){var F=P[Uo](Ut[Cr]);F||(F=[],P[ua](Ut[Cr],F)),F[zr](O)}return x[ua](Ac,O),v(O)}}catch(G){O&&O[ua]&&O[ua]("exception",G)}finally{O&&x.fire(O),x[ua](Ac,P)}}}return v()}function Df(){return Rr}function Il(){var o=qd();return pn(o,0,8)+"-"+pn(o,8,12)+"-"+pn(o,12,16)+"-"+pn(o,16,20)+"-"+pn(o,20)}function qd(){for(var o=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],l=Er,v,w=0;w<4;w++)v=vf(),l+=o[v&15]+o[v>>4&15]+o[v>>8&15]+o[v>>12&15]+o[v>>16&15]+o[v>>20&15]+o[v>>24&15]+o[v>>28&15];var T=o[8+(vf()&3)|0];return Ao(l,0,8)+Ao(l,9,4)+"4"+Ao(l,13,3)+T+Ao(l,16,3)+Ao(l,19,12)}var xl=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,Pl="00",Yd="ff",Rl="00000000000000000000000000000000",Be="0000000000000000",_t=1;function Ht(o,l,v){return o&&o[yt]===l&&o!==v?!!o.match(/^[\da-f]*$/i):!1}function fn(o,l,v){return Ht(o,l)?o:v}function Pi(o){(isNaN(o)||o<0||o>255)&&(o=1);for(var l=o.toString(16);l[yt]<2;)l="0"+l;return l}function Ri(o,l,v,w){var T;return T={},T[za]=Ht(w,2,Yd)?w:Pl,T[Dp]=Na(o)?o:qd(),T[tl]=Ts(l)?l:jn(qd(),16),T.traceFlags=v>=0&&v<=255?v:1,T}function ai(o,l){var v;if(!o||(or(o)&&(o=o[0]||""),!o||!Wt(o)||o[yt]>8192))return null;if(o.indexOf(",")!==-1){var w=o[Sa](",");o=w[l>0&&w[yt]>l?l:0]}var T=xl.exec(Gi(o));return!T||T[1]===Yd||T[2]===Rl||T[3]===Be?null:(v={version:(T[1]||Er)[oa](),traceId:(T[2]||Er)[oa](),spanId:(T[3]||Er)[oa]()},v[vc]=parseInt(T[4],16),v)}function Na(o){return Ht(o,32,Rl)}function Ts(o){return Ht(o,16,Be)}function Tf(o){return!(!o||!Ht(o[za],2,Yd)||!Ht(o[Dp],32,Rl)||!Ht(o[tl],16,Be)||!Ht(Pi(o[vc]),2))}function Rv(o){return Tf(o)?(o[vc]&_t)===_t:!1}function Gu(o){if(o){var l=Pi(o[vc]);Ht(l,2)||(l="01");var v=o[za]||Pl;return v!=="00"&&v!=="ff"&&(v=Pl),"".concat(v.toLowerCase(),"-").concat(fn(o.traceId,32,Rl).toLowerCase(),"-").concat(fn(o.spanId,16,Be).toLowerCase(),"-").concat(l.toLowerCase())}return""}function zd(o){var l="traceparent",v=ai(wv(l),o);return v||(v=ai(ml(l),o)),v}var _m=Qs("plugin");function oi(o){return _m.get(o,"state",{},!0)}function As(o,l){for(var v=[],w=null,T=o[Va](),x;T;){var O=T[Mo]();if(O){w&&w[dc]&&O[lo]&&w[dc](O),x=oi(O);var P=!!x[Yi];O[Yi]&&(P=O[Yi]()),P||v[zr](O),w=O,T=T[Va]()}}gt(v,function(F){var G=o[Sn]();F[Ln](o.getCfg(),G,l,o[Va]()),x=oi(F),!F[Sn]&&!x[Sn]&&(x[Sn]=G),x[Yi]=!0,delete x[yi]})}function kv(o){return o.sort(function(l,v){var w=0;if(v){var T=v[lo];l[lo]?w=T?l[nl]-v[nl]:1:T&&(w=-1)}else w=l?1:-1;return w})}function Em(o){var l={};return{getName:function(){return l[Lo]},setName:function(v){o&&o.setName(v),l[Lo]=v},getTraceId:function(){return l[Dp]},setTraceId:function(v){o&&o.setTraceId(v),Na(v)&&(l[Dp]=v)},getSpanId:function(){return l[tl]},setSpanId:function(v){o&&o.setSpanId(v),Ts(v)&&(l[tl]=v)},getTraceFlags:function(){return l[vc]},setTraceFlags:function(v){o&&o.setTraceFlags(v),l[vc]=v}}}var Rh="TelemetryPluginChain",wm="_hasRun",bm="_getTelCtx",Bg=0;function Sm(o,l,v){for(;o;){if(o[Mo]()===v)return o;o=o[Va]()}return Nf([v],l.config||{},l)}function Dm(o,l,v,w){var T=null,x=[];l||(l=Ti({},null,v[Kr])),w!==null&&(T=w?Sm(o,v,w):o);var O={_next:F,ctx:{core:function(){return v},diagLog:function(){return Cl(v,l.cfg)},getCfg:function(){return l.cfg},getExtCfg:W,getConfig:J,hasNext:function(){return!!T},getNext:function(){return T},setNext:function(ae){T=ae},iterate:Q,onComplete:P}};function P(ae,ne){for(var be=[],De=2;De<arguments.length;De++)be[De-2]=arguments[De];ae&&x[zr]({func:ae,self:et(ne)?O.ctx:ne,args:be})}function F(){var ae=T;if(T=ae?ae[Va]():null,!ae){var ne=x;ne&&ne[yt]>0&&(gt(ne,function(be){try{be.func.call(be.self,be.args)}catch(De){en(v[Kr],2,73,"Unexpected Exception during onComplete - "+sr(De))}}),x=[])}return ae}function G(ae,ne){var be=null,De=l.cfg;if(De&&ae){var $e=De[wc];!$e&&ne&&($e={}),De[wc]=$e,$e=l.ref(De,wc),$e&&(be=$e[ae],!be&&ne&&(be={}),$e[ae]=be,be=l.ref($e,ae))}return be}function W(ae,ne){var be=G(ae,!0);return ne&&Mr(ne,function(De,$e){if(ft(be[De])){var Xe=l.cfg[De];(Xe||!ft(Xe))&&(be[De]=Xe)}El(l,be,De,$e)}),l[Nu](be,ne)}function J(ae,ne,be){be===void 0&&(be=!1);var De,$e=G(ae,!1),Xe=l.cfg;return $e&&($e[ne]||!ft($e[ne]))?De=$e[ne]:(Xe[ne]||!ft(Xe[ne]))&&(De=Xe[ne]),De||!ft(De)?De:be}function Q(ae){for(var ne;ne=O._next();){var be=ne[Mo]();be&&ae(be)}}return O}function Af(o,l,v,w){var T=Ti(l),x=Dm(o,T,v,w),O=x.ctx;function P(G){var W=x._next();return W&&W[lo](G,O),!W}function F(G,W){return G===void 0&&(G=null),or(G)&&(G=Nf(G,T.cfg,v,W)),Af(G||O[Va](),T.cfg,v,W)}return O[qn]=P,O[Cu]=F,O}function kl(o,l,v){var w=Ti(l.config),T=Dm(o,w,l,v),x=T.ctx;function O(F){var G=T._next();return G&&G[cs](x,F),!G}function P(F,G){return F===void 0&&(F=null),or(F)&&(F=Nf(F,w.cfg,l,G)),kl(F||x[Va](),l,G)}return x[qn]=O,x[Cu]=P,x}function nu(o,l,v){var w=Ti(l.config),T=Dm(o,w,l,v),x=T.ctx;function O(F){return x.iterate(function(G){Jt(G[ni])&&G[ni](x,F)})}function P(F,G){return F===void 0&&(F=null),or(F)&&(F=Nf(F,w.cfg,l,G)),nu(F||x[Va](),l,G)}return x[qn]=O,x[Cu]=P,x}function Nf(o,l,v,w){var T=null,x=!w;if(or(o)&&o[yt]>0){var O=null;gt(o,function(P){if(!x&&w===P&&(x=!0),x&&P&&Jt(P[lo])){var F=Tm(P,l,v);T||(T=F),O&&O._setNext(F),O=F}})}return w&&!T?Nf([w],l,v):T}function Tm(o,l,v){var w=null,T=Jt(o[lo]),x=Jt(o[dc]),O;o?O=o[co]+"-"+o[nl]+"-"+Bg++:O="Unknown-0-"+Bg++;var P={getPlugin:function(){return o},getNext:function(){return w},processTelemetry:W,unload:J,update:Q,_id:O,_setNext:function(ae){w=ae}};function F(){var ae;return o&&Jt(o[bm])&&(ae=o[bm]()),ae||(ae=Af(P,l,v)),ae}function G(ae,ne,be,De,$e){var Xe=!1,ot=o?o[co]:Rh,ur=ae[wm];return ur||(ur=ae[wm]={}),ae.setNext(w),o&&ru(ae[Sn](),function(){return ot+":"+be},function(){ur[O]=!0;try{var hr=w?w._id:Er;hr&&(ur[hr]=!1),Xe=ne(ae)}catch(yn){var zn=w?ur[w._id]:!0;zn&&(Xe=!0),(!w||!zn)&&en(ae[lc](),1,73,"Plugin ["+ot+"] failed during "+be+" - "+sr(yn)+", run flags: "+sr(ur))}},De,$e),Xe}function W(ae,ne){ne=ne||F();function be(De){if(!o||!T)return!1;var $e=oi(o);return $e[yi]||$e[Ec]?!1:(x&&o[dc](w),o[lo](ae,De),!0)}G(ne,be,"processTelemetry",function(){return{item:ae}},!ae.sync)||ne[qn](ae)}function J(ae,ne){function be(){var De=!1;if(o){var $e=oi(o),Xe=o[Sn]||$e[Sn];o&&(!Xe||Xe===ae.core())&&!$e[yi]&&($e[Sn]=null,$e[yi]=!0,$e[Yi]=!1,o[yi]&&o[yi](ae,ne)===!0&&(De=!0))}return De}G(ae,be,"unload",function(){},ne[$a])||ae[qn](ne)}function Q(ae,ne){function be(){var De=!1;if(o){var $e=oi(o),Xe=o[Sn]||$e[Sn];o&&(!Xe||Xe===ae.core())&&!$e[yi]&&o[ni]&&o[ni](ae,ne)===!0&&(De=!0)}return De}G(ae,be,"update",function(){},!1)||ae[qn](ne)}return ks(P)}var Ov=function(){function o(l,v,w,T){var x=this,O=Af(l,v,w,T);uf(x,O,mu(O))}return o}();function kh(){var o=[];function l(w){w&&o[zr](w)}function v(w,T){gt(o,function(x){try{x(w,T)}catch(O){en(w[lc](),2,73,"Unexpected error calling unload handler - "+sr(O))}}),o=[]}return{add:l,run:v}}var Oh,$d;function tg(o,l){Oh=o,$d=l}function Am(){var o=[];function l(w){var T=o;o=[],gt(T,function(x){try{(x.rm||x.remove).call(x)}catch(O){en(w,2,73,"Unloading:"+sr(O))}}),Oh&&T[yt]>Oh&&($d?$d("doUnload",T):en(null,1,48,"Max unload hooks exceeded. An excessive number of unload hooks has been detected."))}function v(w){w&&(La(o,w),Oh&&o[yt]>Oh&&($d?$d("Add",o):en(null,1,48,"Max unload hooks exceeded. An excessive number of unload hooks has been detected.")))}return{run:l,add:v}}var qp,Cf="getPlugin",Ly=(qp={},qp[wc]={isVal:Rp,v:{}},qp),rg=function(){function o(){var l=this,v,w,T,x,O;G(),Ga(o,l,function(W){W[Ln]=function(J,Q,ae,ne){F(J,Q,ne),v=!0},W[yi]=function(J,Q){var ae,ne=W[Sn];if(!ne||J&&ne!==J[Sn]())return;var be,De=!1,$e=J||kl(null,ne,T&&T[Cf]?T[Cf]():T),Xe=Q||(ae={reason:0},ae[$a]=!1,ae);function ot(){De||(De=!0,x.run($e,Q),O.run($e[lc]()),be===!0&&$e[qn](Xe),G())}return!W[mn]||W[mn]($e,Xe,ot)!==!0?ot():be=!0,be},W[ni]=function(J,Q){var ae=W[Sn];if(!ae||J&&ae!==J[Sn]())return;var ne,be=!1,De=J||nu(null,ae,T&&T[Cf]?T[Cf]():T),$e=Q||{reason:0};function Xe(){be||(be=!0,F(De.getCfg(),De.core(),De[Va]()))}return!W._doUpdate||W._doUpdate(De,$e,Xe)!==!0?Xe():ne=!0,ne},Wa(W,"_addUnloadCb",function(){return x},"add"),Wa(W,"_addHook",function(){return O},"add"),ti(W,"_unloadHooks",{g:function(){return O}})}),l[lc]=function(W){return P(W)[lc]()},l[Yi]=function(){return v},l.setInitialized=function(W){v=W},l[dc]=function(W){T=W},l[qn]=function(W,J){J?J[qn](W):T&&Jt(T[lo])&&T[lo](W,null)},l._getTelCtx=P;function P(W){W===void 0&&(W=null);var J=W;if(!J){var Q=w||Af(null,{},l[Sn]);T&&T[Cf]?J=Q[Cu](null,T[Cf]):J=Q[Cu](null,T)}return J}function F(W,J,Q){Ti(W,Ly,Cl(J)),!Q&&J&&(Q=J[Ed]()[Va]());var ae=T;T&&T[Cf]&&(ae=T[Cf]()),l[Sn]=J,w=Af(Q,W,J,ae)}function G(){v=!1,l[Sn]=null,w=null,T=null,O=Am(),x=kh()}}return o.__ieDyn=1,o}();function jg(o,l,v){var w={id:l,fn:v};La(o,w);var T={remove:function(){gt(o,function(x,O){if(x.id===w.id)return o[ko](O,1),-1})}};return T}function Nm(o,l,v){for(var w=!1,T=o[yt],x=0;x<T;++x){var O=o[x];if(O)try{if(O.fn[Ro](null,[l])===!1){w=!0;break}}catch(P){en(v,2,64,"Telemetry initializer failed: "+ms(P),{exception:sr(P)},!0)}}return!w}var Fy=function(o){rc(l,o);function l(){var v=o.call(this)||this;v.identifier="TelemetryInitializerPlugin",v.priority=199;var w,T;x(),Ga(l,v,function(O,P){O.addTelemetryInitializer=function(F){return jg(T,w++,F)},O[lo]=function(F,G){Nm(T,F,G?G[lc]():O[lc]())&&O[qn](F,G)},O[mn]=function(){x()}});function x(){w=0,T=[]}return v}return l.__ieDyn=1,l}(rg),Ol,Mh="Plugins must provide initialize method",Mv="_notificationManager",Ml="SDK is still unloading...",Lh="SDK is not initialized",ng=100,Gg=5e4,Vd=Uc((Ol={cookieCfg:{}},Ol[Vs]={rdOnly:!0,ref:!0,v:[]},Ol[$s]={rdOnly:!0,ref:!0,v:[]},Ol[wc]={ref:!0,v:{}},Ol[hs]=ii,Ol.loggingLevelConsole=0,Ol.diagnosticLogInterval=ii,Ol));function qg(o,l){return new Nn(l)}function Uy(o,l,v){var w,T=[],x=[],O={};return gt(v,function(P){(ft(P)||ft(P[Ln]))&&bn(Mh);var F=P[nl],G=P[co];P&&F&&(ft(O[F])?O[F]=G:tu(o,"Two extensions have same priority #"+F+" - "+O[F]+", "+G)),!F||F<l?T[zr](P):x[zr](P)}),w={},w[Sn]=T,w[$s]=x,w}function ig(o,l){var v=!1;return gt(l,function(w){if(w===o)return v=!0,-1}),v}function Lv(o,l,v,w){v&&Mr(v,function(T,x){w&&Ea(x)&&Ea(l[T])&&Lv(o,l[T],x,w),w&&Ea(x)&&Ea(l[T])?Lv(o,l[T],x,w):o.set(l,T,x)})}function ag(o,l){var v=null,w=-1;return gt(o,function(T,x){if(T.w===l)return v=T,w=x,-1}),{i:w,l:v}}function Cm(o,l){var v=ag(o,l).l;return v||(v={w:l,rm:function(){var w=ag(o,l);w.i!==-1&&o[ko](w.i,1)}},o[zr](v)),v}function Fh(o,l,v){gt(l,function(w){var T=wf(o,w.w,v);delete w.w,w.rm=function(){T.rm()}})}function Wd(o,l,v,w){return l.add(o[Ya](function(T){var x=T.cfg.disableDbgExt;x===!0&&w&&(v[us](w),w=null),v&&!w&&x!==!0&&(w=At(T.cfg),v[Ii](w))})),w}function og(o){return ti({rm:function(){o.rm()}},"toJSON",{v:function(){return"aicore::onCfgChange<"+JSON.stringify(o)+">"}})}var Fv=function(){function o(){var l,v,w,T,x,O,P,F,G,W,J,Q,ae,ne,be,De,$e,Xe,ot,ur,hr,zn,yn,$n,Xa,Pa,zl,jv,$l,at,Yt,xn;Ga(o,this,function(je){Br(),je._getDbgPlgTargets=function(){return[yn,T]},je[Yi]=function(){return v},je.activeStatus=function(){return Pa},je._setPendingStatus=function(){Pa=3},je[Ln]=function(Ce,Et,Zt,Bt){ae&&bn(Ml),je[Yi]()&&bn("Core cannot be initialized more than once"),l=Ti(Ce,Vd,Zt||je[Kr],!1),Ce=l.cfg,_o(l[Ya](function(wn){var Oi=wn.cfg,Eo=Pa===3;if(!Eo){jv=Oi.initInMemoMaxSize||ng;var Wo=Oi[Jc],Hl=Oi.endpointUrl;if(ft(Wo)){hr=null,Pa=vn[uc];var Vh="Please provide instrumentation key";v?(en(w,1,100,Vh),fi()):bn(Vh);return}var cg=[];if(Wr(Wo)?(cg[zr](Wo),hr=null):hr=Wo,Wr(Hl)?(cg[zr](Hl),zl=null):zl=Hl,cg[yt]){$l=!1,Pa=3;var W_=Rp(Oi.initTimeOut)?Oi.initTimeOut:Gg,EE=nf(cg);tc(function(){$l||Mt()},W_),rl(EE,function(Vn){try{if($l)return;if(!Vn.rejected){var Ki=Vn[_d];if(Ki&&Ki[yt]){var By=Ki[0];if(hr=By&&By[_d],Ki[yt]>1){var Ji=Ki[1];zl=Ji&&Ji[_d]}}hr&&(Ce[Jc]=hr,Ce.endpointUrl=zl)}Mt()}catch{$l||Mt()}})}else Mt();var Wg=wn.ref(wn.cfg,wc);Mr(Wg,function(Vn){wn.ref(Wg,Vn)})}})),x=Bt,ot=Wd(l,Xe,x&&je[Bs](),ot),Wl(),je[Kr]=Zt;var Xt=Ce[Vs];if(W=[],W[zr].apply(W,ao(ao([],Et,!1),Xt)),J=Ce[$s],fa(null),(!Q||Q[yt]===0)&&bn("No "+$s+" available"),J&&J[yt]>1){var Fn=je[Mo]("TeeChannelController");(!Fn||!Fn.plugin)&&en(w,1,28,"TeeChannel required")}Fh(Ce,zn,w),zn=null,v=!0,Pa===vn.ACTIVE&&fi()},je.getChannels=function(){var Ce=[];return Q&&gt(Q,function(Et){Ce[zr](Et)}),ks(Ce)},je.track=function(Ce){ru(je[of](),function(){return"AppInsightsCore:track"},function(){Ce===null&&(ki(Ce),bn("Invalid telemetry item")),!Ce[Lo]&&ft(Ce[Lo])&&(ki(Ce),bn("telemetry name required")),Ce[cc]=Ce[cc]||hr,Ce[Fo]=Ce[Fo]||vs(new Date),Ce.ver=Ce.ver||"4.0",!ae&&je[Yi]()&&Pa===vn.ACTIVE?Ra()[qn](Ce):Pa!==vn[uc]&&T[yt]<=jv&&T[zr](Ce)},function(){return{item:Ce}},!Ce.sync)},je[Ed]=Ra,je[Bs]=function(){return x||(x=new vt(l.cfg),je[Mv]=x),x},je[Ii]=function(Ce){je.getNotifyMgr()[Ii](Ce)},je[us]=function(Ce){x&&x[us](Ce)},je.getCookieMgr=function(){return F||(F=C(l.cfg,je[Kr])),F},je.setCookieMgr=function(Ce){F!==Ce&&(Sl(F,!1),F=Ce)},je[of]=function(){return O||P||Df()},je.setPerfMgr=function(Ce){O=Ce},je.eventCnt=function(){return T[yt]},je.releaseQueue=function(){if(v&&T[yt]>0){var Ce=T;T=[],Pa===2?gt(Ce,function(Et){Et[cc]=Et[cc]||hr,Ra()[qn](Et)}):en(w,2,20,"core init status is not active")}},je[fc]=function(Ce){return be=Ce||null,xn=!1,at&&at[Oo](),go(!0)};function Mt(){$l=!0,ft(hr)?(Pa=vn[uc],en(w,1,112,"ikey can't be resolved from promises")):Pa=vn.ACTIVE,fi()}function fi(){v&&(je.releaseQueue(),je[fc]())}function go(Ce){if((!at||!at[js])&&!xn){var Et=Ce||w&&w.queue[yt]>0;Et&&(Yt||(Yt=!0,_o(l[Ya](function(Zt){var Bt=Zt.cfg.diagnosticLogInterval;(!Bt||!(Bt>0))&&(Bt=1e4);var Xt=!1;at&&(Xt=at[js],at[Oo]()),at=hd(zh,Bt),at.unref(),at[js]=Xt}))),at[js]=!0)}return at}je[ba]=function(){xn=!0,at&&at[Oo](),zh()},uf(je,function(){return ne},["addTelemetryInitializer"]),je[cs]=function(Ce,Et,Zt){var Bt;Ce===void 0&&(Ce=!0),v||bn(Lh),ae&&bn(Ml);var Xt=(Bt={reason:50},Bt[$a]=Ce,Bt.flushComplete=!1,Bt),Fn;Ce&&!Et&&(Fn=ca(function(Eo){Et=Eo}));var wn=kl(Vl(),je);wn[Gs](function(){Xe.run(je[Kr]),mm([F,x,w],Ce,function(){Br(),Et&&Et(Xt)})},je);function Oi(Eo){Xt.flushComplete=Eo,ae=!0,$e.run(wn,Xt),je[ba](),wn[qn](Xt)}return zh(),Zd(Ce,Oi,6,Zt),Fn},je[Mo]=yo,je.addPlugin=function(Ce,Et,Zt,Bt){if(!Ce){Bt&&Bt(!1),xm(Mh);return}var Xt=yo(Ce[co]);if(Xt&&!Et){Bt&&Bt(!1),xm("Plugin ["+Ce[co]+"] is already loaded!");return}var Fn={reason:16};function wn(Wo){W[zr](Ce),Fn.added=[Ce],fa(Fn),Bt&&Bt(!0)}if(Xt){var Oi=[Xt.plugin],Eo={reason:2,isAsync:!!Zt};$u(Oi,Eo,function(Wo){Wo?(Fn.removed=Oi,Fn.reason|=32,wn()):Bt&&Bt(!1)})}else wn()},je.updateCfg=function(Ce,Et){Et===void 0&&(Et=!0);var Zt;if(je[Yi]()){Zt={reason:1,cfg:l.cfg,oldCfg:gp({},l.cfg),newConfig:gp({},Ce),merge:Et},Ce=Zt.newConfig;var Bt=l.cfg;Ce[Vs]=Bt[Vs],Ce[$s]=Bt[$s]}l._block(function(Xt){var Fn=Xt.cfg;Lv(Xt,Fn,Ce,Et),Et||Mr(Fn,function(wn){ji(Ce,wn)||Xt.set(Fn,wn,ii)}),Xt[Nu](Fn,Vd)},!0),l[Po](),Zt&&$h(Zt)},je.evtNamespace=function(){return De},je.flush=Zd,je.getTraceCtx=function(Ce){return ur||(ur=Em()),ur},je.setTraceCtx=function(Ce){ur=Ce||null},je.addUnloadHook=_o,Wa(je,"addUnloadCb",function(){return $e},"add"),je.onCfgChange=function(Ce){var Et;return v?Et=wf(l.cfg,Ce,je[Kr]):Et=Cm(zn,Ce),og(Et)},je.getWParam=function(){return Bf()||l.cfg.enableWParam?0:-1};function Vo(){var Ce={};$n=[];var Et=function(Zt){Zt&&gt(Zt,function(Bt){if(Bt[co]&&Bt[za]&&!Ce[Bt.identifier]){var Xt=Bt[co]+"="+Bt[za];$n[zr](Xt),Ce[Bt.identifier]=Bt}})};Et(Q),J&&gt(J,function(Zt){Et(Zt)}),Et(W)}function Br(){v=!1,l=Ti({},Vd,je[Kr]),l.cfg[Zc]=1,ti(je,"config",{g:function(){return l.cfg},s:function(Et){je.updateCfg(Et,!1)}}),ti(je,"pluginVersionStringArr",{g:function(){return $n||Vo(),$n}}),ti(je,"pluginVersionString",{g:function(){return Xa||($n||Vo(),Xa=$n.join(";")),Xa||Er}}),ti(je,"logger",{g:function(){return w||(w=new Dc(l.cfg),l[Kr]=w),w},s:function(Et){l[Kr]=Et,w!==Et&&(Sl(w,!1),w=Et)}}),je[Kr]=new Dc(l.cfg),yn=[];var Ce=je.config[Vs]||[];Ce.splice(0,Ce[yt]),La(Ce,yn),ne=new Fy,T=[],Sl(x,!1),x=null,O=null,P=null,Sl(F,!1),F=null,G=null,W=[],J=null,Q=null,ae=!1,be=null,De=ws("AIBaseCore",!0),$e=kh(),ur=null,hr=null,Xe=Am(),zn=[],Xa=null,$n=null,xn=!1,at=null,Yt=!1,Pa=0,zl=null,jv=null,$l=!1}function Ra(){var Ce=Af(Vl(),l.cfg,je);return Ce[Gs](go),Ce}function fa(Ce){var Et=Uy(je[Kr],xv,W);G=null,Xa=null,$n=null,Q=(J||[])[0]||[],Q=kv(La(Q,Et[$s]));var Zt=La(kv(Et[Sn]),Q);yn=ks(Zt);var Bt=je.config[Vs]||[];Bt.splice(0,Bt[yt]),La(Bt,yn);var Xt=Ra();Q&&Q[yt]>0&&As(Xt[Cu](Q),Zt),As(Xt,Zt),Ce&&$h(Ce)}function yo(Ce){var Et=null,Zt=null,Bt=[];return gt(yn,function(Xt){if(Xt[co]===Ce&&Xt!==ne)return Zt=Xt,-1;Xt.getChannel&&Bt[zr](Xt)}),!Zt&&Bt[yt]>0&&gt(Bt,function(Xt){if(Zt=Xt.getChannel(Ce),!Zt)return-1}),Zt&&(Et={plugin:Zt,setEnabled:function(Xt){oi(Zt)[Ec]=!Xt},isEnabled:function(){var Xt=oi(Zt);return!Xt[yi]&&!Xt[Ec]},remove:function(Xt,Fn){var wn;Xt===void 0&&(Xt=!0);var Oi=[Zt],Eo=(wn={reason:1},wn[$a]=Xt,wn);$u(Oi,Eo,function(Wo){Wo&&fa({reason:32,removed:Oi}),Fn&&Fn(Wo)})}}),Et}function Vl(){if(!G){var Ce=(yn||[]).slice();gi(Ce,ne)===-1&&Ce[zr](ne),G=Nf(kv(Ce),l.cfg,je)}return G}function $u(Ce,Et,Zt){if(Ce&&Ce[yt]>0){var Bt=Nf(Ce,l.cfg,je),Xt=kl(Bt,je);Xt[Gs](function(){var Fn=!1,wn=[];gt(W,function(Eo,Wo){ig(Eo,Ce)?Fn=!0:wn[zr](Eo)}),W=wn,Xa=null,$n=null;var Oi=[];J&&(gt(J,function(Eo,Wo){var Hl=[];gt(Eo,function(Vh){ig(Vh,Ce)?Fn=!0:Hl[zr](Vh)}),Oi[zr](Hl)}),J=Oi),Zt&&Zt(Fn),go()}),Xt[qn](Et)}else Zt(!1)}function zh(){if(w&&w.queue){var Ce=w.queue.slice(0);w.queue[yt]=0,gt(Ce,function(Et){var Zt,Bt=(Zt={},Zt[Lo]=be||"InternalMessageId: "+Et[Iu],Zt[cc]=hr,Zt[Fo]=vs(new Date),Zt.baseType=jp.dataType,Zt.baseData={message:Et[qs]},Zt);je.track(Bt)})}}function Zd(Ce,Et,Zt,Bt){var Xt=1,Fn=!1,wn=null;Bt=Bt||5e3;function Oi(){Xt--,Fn&&Xt===0&&(wn&&wn[Oo](),wn=null,Et&&Et(Fn),Et=null)}if(Q&&Q[yt]>0){var Eo=Ra()[Cu](Q);Eo.iterate(function(Wo){if(Wo.flush){Xt++;var Hl=!1;Wo.flush(Ce,function(){Hl=!0,Oi()},Zt)||Hl||(Ce&&wn==null?wn=tc(function(){wn=null,Oi()},Bt):Oi())}})}return Fn=!0,Oi(),!0}function Wl(){var Ce;_o(l[Ya](function(Et){var Zt=Et.cfg.enablePerfMgr;if(Zt){var Bt=Et.cfg[hs];(Ce!==Bt||!Ce)&&(Bt||(Bt=qg),ol(Et.cfg,hs,Bt),Ce=Bt,P=null),!O&&!P&&Jt(Bt)&&(P=Bt(je,je[Bs]()))}else P=null,Ce=null}))}function $h(Ce){var Et=nu(Vl(),je);Et[Gs](go),(!je._updateHook||je._updateHook(Et,Ce)!==!0)&&Et[qn](Ce)}function xm(Ce){var Et=je[Kr];Et?(en(Et,2,73,Ce),go()):bn(Ce)}function ki(Ce){var Et=je[Bs]();Et&&Et[il]([Ce],2)}function _o(Ce){Xe.add(Ce)}})}return o.__ieDyn=1,o}();function nn(o,l){try{if(o&&o!==""){var v=Di().parse(o);if(v&&v[hv]&&v[hv]>=v.itemsAccepted&&v.itemsReceived-v.itemsAccepted===v.errors[yt])return v}}catch(w){en(l,1,43,"Cannot parse the response. "+(w[Lo]||sr(w)),{response:o})}return null}var iu="",Hd="NoResponseBody",Yp="&"+Hd+"=true",Uh="POST",Uv=function(){function o(){var l=0,v,w,T,x,O,P,F,G,W,J,Q,ae,ne,be;Ga(o,this,function(De,$e){var Xe=!0;$l(),De[Ln]=function(at,Yt){T=Yt,w&&en(T,1,28,"Sender is already initialized"),De.SetConfig(at),w=!0},De._getDbgPlgTargets=function(){return[w,x,P,v]},De.SetConfig=function(at){try{if(O=at.senderOnCompleteCallBack||{},P=!!at.disableCredentials,F=at.fetchCredentials,x=!!at.isOneDs,v=!!at.enableSendPromise,W=!!at.disableXhr,J=!!at.disableBeacon,Q=!!at.disableBeaconSync,be=at.timeWrapper,ne=!!at.addNoResponse,ae=!!at.disableFetchKeepAlive,G={sendPOST:Pa},x||(Xe=!1),P){var Yt=Ru();Yt&&Yt.protocol&&Yt.protocol[oa]()==="file:"&&(Xe=!1)}return!0}catch{}return!1},De.getSyncFetchPayload=function(){return l},De.getSenderInst=function(at,Yt){return at&&at[yt]?zn(at,Yt):null},De.getFallbackInst=function(){return G},De[mn]=function(at,Yt){$l()};function ot(at,Yt){yn(Yt,200,{},at)}function ur(at,Yt){en(T,2,26,"Failed to send telemetry.",{message:at}),yn(Yt,400,{})}function hr(at){ur("No endpoint url is provided for the batch",at)}function zn(at,Yt){for(var xn,je=0,Mt=null,fi=0;Mt==null&&fi<at[yt];)je=at[fi],!W&&je===1?bh()?Mt=jv:vl()&&(Mt=Pa):je===2&&hl(Yt)&&(!Yt||!ae)?Mt=zl:je===3&&Ev()&&(Yt?!Q:!J)&&(Mt=Xa),fi++;return Mt?(xn={_transport:je,_isSync:Yt},xn[hc]=Mt,xn):null}function yn(at,Yt,xn,je){try{at&&at(Yt,xn,je)}catch{}}function $n(at,Yt){var xn=ga(),je=at[pc];if(!je)return hr(Yt),!0;je=at[pc]+(ne?Yp:iu);var Mt=at[Qf],fi=x?Mt:new Blob([Mt],{type:"text/plain;charset=UTF-8"}),go=xn.sendBeacon(je,fi);return go}function Xa(at,Yt,xn){var je=at[Qf];try{if(je)if($n(at,Yt))ot(iu,Yt);else{var Mt=O&&O.beaconOnRetry;Mt&&Jt(Mt)?Mt(at,Yt,$n):(G&&G[hc](at,Yt,!0),en(T,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(fi){x&&tu(T,"Failed to send telemetry using sendBeacon API. Ex:"+sr(fi)),yn(Yt,x?0:400,{},iu)}}function Pa(at,Yt,xn){var je,Mt,fi,go=at[ps]||{};!xn&&v&&(je=ca(function(fa,yo){Mt=fa,fi=yo})),x&&xn&&at.disableXhrSync&&(xn=!1);var Vo=at[pc];if(!Vo){hr(Yt),Mt&&Mt(!1);return}var Br=dm(Uh,Vo,Xe,!0,xn,at[el]);x||Br[fm]("Content-type","application/json"),gt(mu(go),function(fa){Br[fm](fa,go[fa])}),Br.onreadystatechange=function(){x||(Ra(Br),Br.readyState===4&&Mt&&Mt(!0))},Br.onload=function(){x&&Ra(Br)};function Ra(fa){var yo=O&&O.xhrOnComplete,Vl=yo&&Jt(yo);if(Vl)yo(fa,Yt,at);else{var $u=Hs(fa);yn(Yt,fa[ds],Pu(fa,x),$u)}}return Br.onerror=function(fa){yn(Yt,x?Br[ds]:400,Pu(Br,x),x?iu:cf(Br)),fi&&fi(fa)},Br.ontimeout=function(){yn(Yt,x?Br[ds]:500,Pu(Br,x),x?iu:cf(Br)),Mt&&Mt(!1)},Br.send(at[Qf]),je}function zl(at,Yt,xn){var je,Mt=at[pc],fi=at[Qf],go=x?fi:new Blob([fi],{type:"application/json"}),Vo,Br,Ra,fa=new Headers,yo=fi[yt],Vl=!1,$u=!1,zh=at[ps]||{},Zd=(je={method:Uh,body:go},je[Dl]=!0,je);at.headers&&mu(at.headers)[yt]>0&&(gt(mu(zh),function(ki){fa.append(ki,zh[ki])}),Zd[ps]=fa),F?Zd.credentials=F:Xe&&x&&(Zd.credentials="include"),xn&&(Zd.keepalive=!0,l+=yo,x?at._sendReason===2&&(Vl=!0,ne&&(Mt+=Yp)):Vl=!0);var Wl=new Request(Mt,Zd);try{Wl[Dl]=!0}catch{}if(!xn&&v&&(Vo=ca(function(ki,_o){Br=ki,Ra=_o})),!Mt){hr(Yt),Br&&Br(!1);return}function $h(ki){yn(Yt,x?0:400,{},x?iu:ki)}function xm(ki,_o,Ce){var Et=ki[ds],Zt=O.fetchOnComplete;Zt&&Jt(Zt)?Zt(ki,Yt,Ce||iu,_o):yn(Yt,Et,{},Ce||iu)}try{rl(fetch(x?Mt:Wl,x?Zd:null),function(ki){if(xn&&(l-=yo,yo=0),!$u)if($u=!0,ki.rejected)$h(ki.reason&&ki.reason[qs]),Ra&&Ra(ki.reason);else{var _o=ki[_d];try{!x&&!_o.ok?($h(_o.statusText),Br&&Br(!1)):x&&!_o.body?(xm(_o,null,iu),Br&&Br(!0)):rl(_o.text(),function(Ce){xm(_o,at,Ce[_d]),Br&&Br(!0)})}catch(Ce){$h(sr(Ce)),Ra&&Ra(Ce)}}})}catch(ki){$u||($h(sr(ki)),Ra&&Ra(ki))}return Vl&&!$u&&($u=!0,yn(Yt,200,{}),Br&&Br(!0)),x&&!$u&&at[el]>0&&be&&be.set(function(){$u||($u=!0,yn(Yt,500,{}),Br&&Br(!0))},at[el]),Vo}function jv(at,Yt,xn){var je=ma(),Mt=new XDomainRequest,fi=at[Qf];Mt.onload=function(){var fa=Hs(Mt),yo=O&&O.xdrOnComplete;yo&&Jt(yo)?yo(Mt,Yt,at):yn(Yt,200,{},fa)},Mt.onerror=function(){yn(Yt,400,{},x?iu:sl(Mt))},Mt.ontimeout=function(){yn(Yt,500,{})},Mt.onprogress=function(){};var go=je&&je.location&&je.location[fs]||"",Vo=at[pc];if(!Vo){hr(Yt);return}if(!x&&Vo.lastIndexOf(go,0)!==0){var Br="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";en(T,2,40,". "+Br),ur(Br,Yt);return}var Ra=x?Vo:Vo[xi](/^(https?:)/,"");Mt.open(Uh,Ra),at[el]&&(Mt[el]=at[el]),Mt.send(fi),x&&xn?be&&be.set(function(){Mt.send(fi)},0):Mt.send(fi)}function $l(){l=0,w=!1,v=!1,T=null,x=null,O=null,P=null,F=null,G=null,W=!1,J=!1,Q=!1,ae=!1,ne=!1,be=null}})}return o.__ieDyn=1,o}(),Ll="on",Kd="attachEvent",Yg="addEventListener",zp="detachEvent",If="removeEventListener",Nc="events",zo="visibilitychange",au="pagehide",xf="pageshow",Fl="unload",qu="beforeunload",Yu=ws("aiEvtPageHide"),$p=ws("aiEvtPageShow"),Jd=/\.[\.]+/g,zg=/[\.]+$/,Bh=1,Cc=Qs("events"),Im=/^([^.]*)(?:\.(.+)|)/;function jh(o){return o&&o[xi]?o[xi](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Er):o}function Ul(o,l){var v;if(l){var w=Er;or(l)?(w=Er,gt(l,function(x){x=jh(x),x&&(x[0]!=="."&&(x="."+x),w+=x)})):w=jh(l),w&&(w[0]!=="."&&(w="."+w),o=(o||Er)+w)}var T=Im.exec(o||Er)||[];return v={},v[sa]=T[1],v.ns=(T[2]||Er).replace(Jd,".").replace(zg,Er)[Sa](".").sort().join("."),v}function Gh(o,l,v){var w=[],T=Cc.get(o,Nc,{},!1),x=Ul(l,v);return Mr(T,function(O,P){gt(P,function(F){var G;(!x[sa]||x[sa]===F.evtName[sa])&&(!x.ns||x.ns===x.ns)&&w[zr]((G={},G[Lo]=F.evtName[sa]+(F.evtName.ns?"."+F.evtName.ns:Er),G.handler=F[ls],G))})}),w}function qh(o,l,v){v===void 0&&(v=!0);var w=Cc.get(o,Nc,{},v),T=w[l];return T||(T=w[l]=[]),T}function sg(o,l,v,w){o&&l&&l[sa]&&(o[If]?o[If](l[sa],v,w):o[zp]&&o[zp](Ll+l[sa],v))}function ug(o,l,v,w){var T=!1;return o&&l&&l[sa]&&v&&(o[Yg]?(o[Yg](l[sa],v,w),T=!0):o[Kd]&&(o[Kd](Ll+l[sa],v),T=!0)),T}function $g(o,l,v,w){for(var T=l[yt];T--;){var x=l[T];x&&(!v.ns||v.ns===x.evtName.ns)&&(!w||w(x))&&(sg(o,x.evtName,x[ls],x.capture),l[ko](T,1))}}function Ca(o,l,v){if(l[sa])$g(o,qh(o,l[sa]),l,v);else{var w=Cc.get(o,Nc,{});Mr(w,function(T,x){$g(o,x,l,v)}),mu(w)[yt]===0&&Cc.kill(o,Nc)}}function ou(o,l){var v;return l?(or(l)?v=[o].concat(l):v=[o,l],v=Ul("xx",v).ns[Sa](".")):v=o,v}function Vp(o,l,v,w,T){var x;T===void 0&&(T=!1);var O=!1;if(o)try{var P=Ul(l,w);if(O=ug(o,P,v,T),O&&Cc.accept(o)){var F=(x={guid:Bh++,evtName:P},x[ls]=v,x.capture=T,x);qh(o,P.type)[zr](F)}}catch{}return O}function Xn(o,l,v,w,T){if(T===void 0&&(T=!1),o)try{var x=Ul(l,w),O=!1;Ca(o,x,function(P){return x.ns&&!v||P[ls]===v?(O=!0,!0):!1}),O||sg(o,x,v,T)}catch{}}function Wp(o,l,v,w){return w===void 0&&(w=!1),Vp(o,l,v,null,w)}function Hp(o,l,v,w){w===void 0&&(w=!1),Xn(o,l,v,null,w)}function Vg(o,l,v){var w=!1,T=ma();T&&(w=Vp(T,o,l,v),w=Vp(T.body,o,l,v)||w);var x=ra();return x&&(w=Vp(x,o,l,v)||w),w}function h(o,l,v){var w=ma();w&&(Xn(w,o,l,v),Xn(w.body,o,l,v));var T=ra();T&&Xn(T,o,l,v)}function E(o,l,v,w){var T=!1;return l&&o&&o[yt]>0&&gt(o,function(x){x&&(!v||gi(v,x)===-1)&&(T=Vg(x,l,w)||T)}),T}function A(o,l,v,w){var T=!1;return l&&o&&or(o)&&(T=E(o,l,v,w),!T&&v&&v[yt]>0&&(T=E(o,l,null,w))),T}function I(o,l,v){o&&or(o)&&gt(o,function(w){w&&h(w,l,v)})}function L(o,l,v){return A([qu,Fl,au],o,l,v)}function Y(o,l){I([qu,Fl,au],o,l)}function $(o,l,v){function w(O){var P=ra();o&&P&&P.visibilityState==="hidden"&&o(O)}var T=ou(Yu,v),x=E([au],o,l,T);return(!l||gi(l,zo)===-1)&&(x=E([zo],w,l,T)||x),!x&&l&&(x=$(o,null,v)),x}function te(o,l){var v=ou(Yu,l);I([au],o,v),I([zo],null,v)}function le(o,l,v){function w(O){var P=ra();o&&P&&P.visibilityState==="visible"&&o(O)}var T=ou($p,v),x=E([xf],o,l,T);return x=E([zo],w,l,T)||x,!x&&l&&(x=le(o,null,v)),x}function de(o,l){var v=ou($p,l);I([xf],o,v),I([zo],null,v)}var Oe=qa({DISABLED:0,CRITICAL:1,WARNING:2,DEBUG:3}),Je="",He="https://browser.events.data.microsoft.com/OneCollector/1.0/",ke="version",Ee="properties",Ve="initialize",xe="logger",rt="indexOf",Me="timings",Pe="pollInternalLogs",Ze="value",Kt="kind",tr="length",pr="processTelemetryStart",Lr="handleField",$r="rmSanitizer",gn="rmFieldSanitizer",ln="canHandle",rr,si="4.3.4",it="1DS-Web-JS-"+si,mt=s.hasOwnProperty,Ir="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",mr="withCredentials",Pt="timeout",Ur=(rr={},rr[0]=0,rr[2]=6,rr[1]=1,rr[3]=7,rr[4098]=6,rr[4097]=1,rr[4099]=7,rr),Ot=null,Wi=Bf(),pt=cp();function Cn(o){return!(o===Je||ft(o))}function In(o){if(o){var l=no(o,"-");if(l>-1)return jn(o,l)}return Je}function Ia(){return Ot===null&&(Ot=!et(Uint8Array)&&!Hi()&&!pl()),Ot}function Ic(o){return!!(o&&qr(o)&&o>=1&&o<=4)}function Ja(o,l,v){if(!l&&!Cn(l)||typeof o!="string")return null;var w=typeof l;if(w==="string"||w==="number"||w==="boolean"||or(l))l={value:l};else if(w==="object"&&!mt.call(l,"value"))l={value:v?JSON.stringify(l):l};else if(ft(l[Ze])||l[Ze]===Je||!Wt(l[Ze])&&!qr(l[Ze])&&!Rs(l[Ze])&&!or(l[Ze]))return null;if(or(l[Ze])&&!uu(l[Ze]))return null;if(!ft(l[Kt])){if(or(l[Ze])||!on(l[Kt]))return null;l[Ze]=l[Ze].toString()}return l}function Bl(o,l,v){var w=-1;if(!et(o))if(l>0&&(l===32?w=8192:l<=13&&(w=l<<5)),ci(v))w===-1&&(w=0),w|=v;else{var T=Ur[Za(o)]||-1;w!==-1&&T!==-1?w|=T:T===6&&(w=T)}return w}function Ns(o,l,v){v===void 0&&(v=!0);var w;return o&&(w=o.get(l),v&&w&&decodeURIComponent&&(w=decodeURIComponent(w))),w||Je}function $o(o){o===void 0&&(o="D");var l=Il();return o==="B"?l="{"+l+"}":o==="P"?l="("+l+")":o==="N"&&(l=l.replace(/-/g,Je)),l}function su(o,l,v,w,T){var x={},O=!1,P=0,F=arguments[tr],G=arguments;for(Rs(G[0])&&(O=G[0],P++);P<F;P++){var o=G[P];Mr(o,function(J,Q){O&&Q&&ei(Q)?or(Q)?(x[J]=x[J]||[],gt(Q,function(ae,ne){ae&&ei(ae)?x[J][ne]=su(!0,x[J][ne],ae):x[J][ne]=ae})):x[J]=su(!0,x[J],Q):x[J]=Q})}return x}var ui=Vf;function on(o){return o===0||o>0&&o<=13||o===32}function ci(o){return o>=0&&o<=9}function Hi(){var o=ga();if(!et(o)&&o.userAgent){var l=o.userAgent.toLowerCase();if((l[rt]("safari")>=0||l[rt]("firefox")>=0)&&l[rt]("chrome")<0)return!0}return!1}function uu(o){return o[tr]>0}function xc(o,l){var v=o;v[Me]=v[Me]||{},v[Me][pr]=v[Me][pr]||{},v[Me][pr][l]=ui()}function Za(o){var l=0;if(o!=null){var v=typeof o;v==="string"?l=1:v==="number"?l=2:v==="boolean"?l=3:v===r&&(l=4,or(o)?(l=4096,o[tr]>0&&(l|=Za(o[0]))):mt.call(o,"value")&&(l=8192|Za(o[Ze])))}return l}function jl(){return!!cn("chrome")}function cu(o,l,v,w,T,x){w===void 0&&(w=!1),T===void 0&&(T=!1);function O(F,G,W){try{F[G]=W}catch{}}var P=new XMLHttpRequest;return w&&O(P,Ir,w),v&&O(P,mr,v),P.open(o,l,!T),v&&O(P,mr,v),!T&&x&&O(P,Pt,x),P}function Bv(o){return o>0}var Pc=Uc({endpointUrl:He,propertyStorageOverride:{isVal:Gl}});function Gl(o){return o&&(!o.getProperty||!o.setProperty)&&bn("Invalid property storage override passed."),!0}var Ai=function(o){rc(l,o);function l(){var v=o.call(this)||this;return Ga(l,v,function(w,T){w[Ve]=function(x,O,P,F){ru(w,function(){return"AppInsightsCore.initialize"},function(){try{T[Ve](Ti(x,Pc,P||w[xe],!1).cfg,O,P,F)}catch(J){var G=w[xe],W=sr(J);W[rt]("channels")!==-1&&(W+=`
 - Channels must be provided through config.channels only!`),en(G,1,514,"SDK Initialization Failed - no telemetry will be sent: "+W)}},function(){return{config:x,extensions:O,logger:P,notificationManager:F}})},w.track=function(x){ru(w,function(){return"AppInsightsCore.track"},function(){var O=x;if(O){O[Me]=O[Me]||{},O[Me].trackStart=ui(),Ic(O.latency)||(O.latency=1);var P=O.ext=O.ext||{};P.sdk=P.sdk||{},P.sdk.ver=it;var F=O.baseData=O.baseData||{};F[Ee]=F[Ee]||{};var G=F[Ee];G[ke]=G[ke]||w.pluginVersionString||Je}T.track(O)},function(){return{item:x}},!x.sync)},w[Pe]=function(x){return T[Pe](x||"InternalLog")}}),v}return l.__ieDyn=1,l}(Fv),Kp=qa({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,Pii_IPv6ScrubLastHextets:14,Pii_DropValue:15,CustomerContent_GenericContent:32}),ql=qa({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),Yh=qa({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),zu=qa({Normal:1,Critical:2}),xa=qa({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),Yl=function(){function o(l){var v=this,w={},T=[],x=[];l&&x.push(l);function O(W,J){var Q,ae=w[W];if(ae&&(Q=ae[J]),!Q&&Q!==null){if(Wt(W)&&Wt(J))if(x[tr]>0){for(var ne=0;ne<x[tr];ne++)if(x[ne][Lr](W,J)){Q={canHandle:!0,fieldHandler:x[ne]};break}}else T[tr]===0&&(Q={canHandle:!0});if(!Q&&Q!==null){Q=null;for(var ne=0;ne<T[tr];ne++)if(T[ne][Lr](W,J)){Q={canHandle:!0,handler:T[ne],fieldHandler:null};break}}ae||(ae=w[W]={}),ae[J]=Q}return Q}v.clearCache=function(){w={}},v.addSanitizer=function(W){W&&(dp(T,W)||T.push(W),w={})},v.addFieldSanitizer=function(W){W&&(dp(x,W)||x.push(W),w={})},v[$r]=function(W){if(W){var J=gi(T,W);J!==-1&&(T.splice(J,1),w={}),gt(T,function(Q){Q&&Q[$r]&&Q[$r](W)})}},v[gn]=function(W){if(W){var J=gi(x,W);J!==-1&&(x.splice(J,1),w={}),gt(T,function(Q){Q&&Q[gn]&&Q[gn](W)})}},v.isEmpty=function(){return Ms(T)+Ms(x)===0},v[Lr]=function(W,J){var Q=O(W,J);return Q?Q[ln]:!1},v[Ze]=function(W,J,Q,ae){var ne=O(W,J);if(ne&&ne[ln]){if(!ne||!ne[ln])return null;if(ne.handler)return ne.handler[Ze](W,J,Q,ae);if(!Wt(J)||ft(Q)||Q===Je)return null;var be=null,De=Za(Q);if((De&8192)===8192){var $e=De&-8193;if(be=Q,!Cn(be[Ze])||$e!==1&&$e!==2&&$e!==3&&($e&4096)!==4096)return null}else De===1||De===2||De===3||(De&4096)===4096?be=F(W,J,Q):De===4&&(be=F(W,J,ae?JSON.stringify(Q):Q));if(be)return P(ne,W,J,De,be,ae)}return null},v.property=function(W,J,Q,ae){var ne=O(W,J);if(!ne||!ne[ln]||!Wt(J)||ft(Q)||!Cn(Q[Ze]))return null;var be=Za(Q[Ze]);return be===0?null:P(ne,W,J,be,Q,ae)};function P(W,J,Q,ae,ne,be){if(W.handler)return W.handler.property(J,Q,ne,be);if(!ft(ne[Kt])){if((ae&4096)===4096||!on(ne[Kt]))return null;ne[Ze]=ne[Ze].toString()}return G(W.fieldHandler,J,Q,ae,ne)}function F(W,J,Q){return Cn(Q)?{value:Q}:null}function G(W,J,Q,ae,ne){if(ne&&W){var be=W.getSanitizer(J,Q,ae,ne[Kt],ne.propertyType);if(be)if(ae===4){var De={},$e=ne[Ze];Mr($e,function(ot,ur){var hr=J+"."+Q;if(Cn(ur)){var zn=F(hr,ot,ur);zn=G(W,hr,ot,Za(ur),zn),zn&&(De[ot]=zn[Ze])}}),ne[Ze]=De}else{var Xe={path:J,name:Q,type:ae,prop:ne,sanitizer:v};ne=be.call(v,Xe)}}return ne}}return o.getFieldType=Za,o}();e.ActiveStatus=vn,e.AppInsightsCore=Ai,e.BaseTelemetryPlugin=rg,e.DiagnosticLogger=Dc,e.EventLatency=ql,e.EventPersistence=zu,e.EventPropertyType=Yh,e.EventsDiscardedReason=Au,e.FullVersionString=it,e.InternalAppInsightsCore=Fv,e.LoggingSeverity=Oe,e.MinChannelPriorty=gd,e.NotificationManager=vt,e.PerfEvent=Ut,e.PerfManager=Nn,e.ProcessTelemetryContext=Ov,e.SenderPostManager=Uv,e.TraceLevel=xa,e.Undefined=n,e.ValueKind=Kp,e.ValueSanitizer=Yl,e.Version=si,e._InternalLogMessage=jp,e.__getRegisteredEvents=Gh,e._appendHeader=Ks,e._getAllResponseHeaders=Pu,e._logInternalMessage=Nh,e._testHookMaxUnloadHooksCb=tg,e._throwInternal=en,e._warnToConsole=tu,e.addEventHandler=Vg,e.addEventListeners=A,e.addPageHideEventListener=$,e.addPageShowEventListener=le,e.addPageUnloadEventListener=L,e.areCookiesSupported=j,e.arrForEach=gt,e.arrIndexOf=gi,e.arrMap=_u,e.arrReduce=ri,e.attachEvent=Wp,e.blockDynamicConversion=vm,e.convertAllHeadersToMap=ys,e.cookieAvailable=j,e.createCookieMgr=C,e.createDynamicConfig=Ti,e.createEnumStyle=qa,e.createGuid=$o,e.createProcessTelemetryContext=Af,e.createTraceParent=Ri,e.createUniqueNamespace=ws,e.createUnloadHandlerContainer=kh,e.dateNow=Eu,e.detachEvent=Hp,e.disallowsSameSiteNone=st,e.doPerf=ru,e.dumpObj=sr,e.eventOff=Xn,e.eventOn=Vp,e.extend=su,e.findW3cTraceParent=zd,e.forceDynamicConversion=jo,e.formatErrorMessageXdr=sl,e.formatErrorMessageXhr=cf,e.formatTraceParent=Gu,e.generateW3CId=qd,e.getCommonSchemaMetaData=Bl,e.getConsole=Rd,e.getCookieValue=Ns,e.getCrypto=wh,e.getDocument=ra,e.getDynamicConfigHandler=gf,e.getExceptionName=ms,e.getFieldValueType=Za,e.getGlobal=ud,e.getGlobalInst=cn,e.getHistory=to,e.getIEVersion=_v,e.getISOString=vs,e.getJSON=Di,e.getLocation=Ru,e.getMsCrypto=dl,e.getNavigator=ga,e.getPerformance=Ba,e.getResponseText=Hs,e.getSetValue=ol,e.getTenantId=In,e.getTime=ui,e.getWindow=ma,e.hasDocument=Bf,e.hasHistory=jf,e.hasJSON=zi,e.hasNavigator=uh,e.hasOwnProperty=Mn,e.hasWindow=cp,e.isArray=or,e.isArrayValid=uu,e.isBeaconsSupported=Ev,e.isBoolean=Rs,e.isChromium=jl,e.isDate=pi,e.isDocumentObjectAvailable=Wi,e.isError=Rt,e.isFetchSupported=hl,e.isFunction=Jt,e.isGreaterThanZero=Bv,e.isIE=ku,e.isLatency=Ic,e.isNotTruthy=Un,e.isNullOrUndefined=ft,e.isNumber=qr,e.isObject=ei,e.isReactNative=pl,e.isSampledFlag=Rv,e.isString=Wt,e.isTruthy=On,e.isTypeof=Pr,e.isUint8ArrayAvailable=Ia,e.isUndefined=et,e.isValidSpanId=Ts,e.isValidTraceId=Na,e.isValidTraceParent=Tf,e.isValueAssigned=Cn,e.isValueKind=on,e.isWindowObjectAvailable=pt,e.isXhrSupported=vl,e.mergeEvtNamespace=ou,e.newGuid=Il,e.newId=yl,e.normalizeJsName=Ws,e.objDefineAccessors=nd,e.objForEachKey=Mr,e.objFreeze=ks,e.objKeys=mu,e.objSeal=id,e.onConfigChange=wf,e.openXhr=cu,e.optimizeObject=Id,e.parseResponse=nn,e.parseTraceParent=ai,e.perfNow=Vf,e.prependTransports=ul,e.proxyAssign=gs,e.proxyFunctionAs=Wa,e.proxyFunctions=uf,e.random32=vf,e.randomValue=Sv,e.removeEventHandler=h,e.removeEventListeners=I,e.removePageHideEventListener=te,e.removePageShowEventListener=de,e.removePageUnloadEventListener=Y,e.safeGetCookieMgr=b,e.safeGetLogger=Cl,e.sanitizeProperty=Ja,e.setEnableEnvMocks=Pd,e.setProcessTelemetryTimings=xc,e.setValue=Da,e.strContains=It,e.strEndsWith=dd,e.strFunction=t,e.strObject=r,e.strPrototype=i,e.strStartsWith=dv,e.strTrim=Gi,e.strUndefined=n,e.throwError=bn,e.toISOString=vs,e.useXDomainRequest=bh})});var l2=fr((r0,f2)=>{(function(e,t){typeof r0=="object"&&typeof f2<"u"?t(r0):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.oneDS=e.oneDS||{}))})(r0,function(e){"use strict";var t="REAL_TIME",r="NEAR_REAL_TIME",n="BEST_EFFORT",i="function",a="object",s="undefined",f="prototype",m=Object,_=m[f];function D(h,E){return h||E}function k(h,E){return h[E]}var U=void 0,z=null,ee="",H="function",K="object",X="prototype",ue="__proto__",ce="undefined",ge="constructor",Fe="Symbol",Ne="_polyfill",he="length",Ie="name",_e="call",ze="toString",ct=D(Object),gr=k(ct,X),Tr=D(String),kt=k(Tr,X),Xr=D(Math),Ue=D(Array),Vr=k(Ue,X),We=k(Vr,"slice");function Qr(h,E){try{return{v:h.apply(this,E)}}catch(A){return{e:A}}}function Gt(h){return function(E){return typeof E===h}}function ar(h){return typeof h===ce||h===ce}function Pr(h){return!ft(h)}function et(h){return h===z||ar(h)}function kn(h){return h===z||!ft(h)}function ft(h){return!!h||h!==U}var Ju=Gt("string"),Vt=Gt(H);function Zo(h){return!h&&et(h)?!1:!!h&&typeof h===K}var Wt=k(Ue,"isArray"),Jt=Gt("number"),ei=Gt("boolean");function or(h){return!!(h&&h.then&&Vt(h.then))}var pi=k(ct,"getOwnPropertyDescriptor");function qr(h,E){return!!h&&gr.hasOwnProperty[_e](h,E)}var Rs=D(k(ct,"hasOwn"),Rt);function Rt(h,E){return qr(h,E)||!!pi(h,E)}function Wr(h,E,A){if(h&&Zo(h)){for(var I in h)if(Rs(h,I)&&E[_e](A||h,I,h[I])===-1)break}}var Un={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function On(h){var E={};if(E[Un.c]=!0,E[Un.e]=!0,h.l){E.get=function(){return h.l.v};var A=pi(h.l,"v");A&&A.set&&(E.set=function(I){h.l.v=I})}return Wr(h,function(I,L){E[Un[I]]=Pr(L)?E[Un[I]]:L}),E}var Hr=k(ct,"defineProperty");function Mn(h,E,A){return Hr(h,E,On(A))}function ji(h,E,A,I,L){var Y={};return Wr(h,function($,te){Jn(Y,$,E?te:$,L),Jn(Y,te,A?te:$,L)}),I?I(Y):Y}function Jn(h,E,A,I){Hr(h,E,{value:A,enumerable:!0,writable:!!I})}var Mr=D(Tr),Ct="[object Error]";function lr(h,E){var A=ee,I=gr[ze][_e](h);I===Ct&&(h={stack:Mr(h.stack),message:Mr(h.message),name:Mr(h.name)});try{A=JSON.stringify(h,z,E?typeof E=="number"?E:4:U),A=(A?A.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):z)||Mr(h)}catch(L){A=" - "+lr(L,E)}return I+": "+A}function tn(h){throw new TypeError(h)}var nd=k(ct,"freeze");function ti(h){return h}function Fc(h){return h[ue]||z}var Ar=k(ct,"assign"),Nr=k(ct,"keys");function hi(h){return nd&&Wr(h,function(E,A){(Wt(A)||Zo(A))&&hi(A)}),sr(h)}var sr=D(nd,ti),bn=D(k(ct,"getPrototypeOf"),Fc);function Bn(h){return ji(h,1,0,sr)}function vi(h){return ji(h,0,0,sr)}var Do=vi({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),um="__tsUtils$gblCfg",ap;function mu(){var h;return typeof globalThis!==ce&&(h=globalThis),!h&&typeof self!==ce&&(h=self),!h&&typeof window!==ce&&(h=window),!h&&typeof global!==ce&&(h=global),h}function Uc(){if(!ap){var h=Qr(mu).v||{};ap=h[um]=h[um]||{}}return ap}var ks=id;function id(h,E,A){var I=E?E[h]:z;return function(L){var Y=(L?L[h]:z)||I;if(Y||A){var $=arguments;return(Y||A).apply(L,Y?We[_e]($,1):$)}tn('"'+Mr(h)+'" not defined for '+lr(L))}}var Bc=k(Xr,"max"),pa=ks("slice",kt),ad=ks("substring",kt),Uf=id("substr",kt,sh);function sh(h,E,A){return et(h)&&tn("Invalid "+lr(h)),A<0?ee:(E=E||0,E<0&&(E=Bc(E+h[he],0)),ar(A)?pa(h,E):pa(h,E,E+A))}function ha(h,E){return ad(h,0,E)}var op="_urid",jc;function Ni(){if(!jc){var h=Uc();jc=h.gblSym=h.gblSym||{k:{},s:{}}}return jc}var To;function sp(h){var E={description:Mr(h),toString:function(){return Fe+"("+h+")"}};return E[Ne]=!0,E}function od(h){var E=Ni();if(!Rs(E.k,h)){var A=sp(h),I=Nr(E.s).length;A[op]=function(){return I+"_"+A[ze]()},E.k[h]=A,E.s[A[op]()]=Mr(h)}return E.k[h]}function up(h){!To&&(To={});var E,A=Do[h];return A&&(E=To[A]=To[A]||sp(Fe+"."+A)),E}var pn;function Ao(){pn=Uc()}function Xo(h){return Hr({toJSON:function(){return h}},"v",{value:h})}var jn="window",Qo;function gu(h,E){var A;return function(){return!pn&&Ao(),(!A||pn.lzy)&&(A=Xo(Qr(h,E).v)),A.v}}function ta(h){return!pn&&Ao(),(!Qo||h===!1||pn.lzy)&&(Qo=Xo(Qr(mu).v||z)),Qo.v}function hn(h,E){var A;if(!Qo||E===!1?A=ta(E):A=Qo.v,A&&A[h])return A[h];if(h===jn)try{return window}catch{}return z}var Gn=gu(hn,["document"]);function Zu(){return!!va()}var va=gu(hn,[jn]);function Or(){return!!mi()}var mi=gu(hn,["navigator"]),sd=gu(function(){return!!Qr(function(){return process&&(process.versions||{}).node}).v}),Ci,es;function Gc(){return Ci=Xo(Qr(hn,[Fe]).v),Ci}function ts(h){var E=(pn.lzy?0:Ci)||Gc();return E.v?E.v[h]:U}function ud(){return!!cn()}function cn(){return!pn&&Ao(),((pn.lzy?0:Ci)||Gc()).v}function Bf(h,E){var A=Do[h];!pn&&Ao();var I=(pn.lzy?0:Ci)||Gc();return I.v?I.v[A||h]:E?U:up(h)}function ra(h,E){!pn&&Ao();var A=(pn.lzy?0:Ci)||Gc();return A.v?A.v(h):E?z:sp(h)}function cp(h){return!pn&&Ao(),es=(pn.lzy?0:es)||Xo(Qr(ts,["for"]).v),(es.v||od)(h)}function ma(h){return!!h&&Vt(h.next)}function uh(h){return!kn(h)&&Vt(h[Bf(3)])}var ga;function jf(h,E,A){if(h&&(ma(h)||(!ga&&(ga=Xo(Bf(3))),h=h[ga.v]?h[ga.v]():z),ma(h))){var I=U,L=U;try{for(var Y=0;!(L=h.next()).done&&E[_e](A||h,L.value,Y,h)!==-1;)Y++}catch($){I={e:$},h.throw&&(L=z,h.throw(I))}finally{try{L&&!L.done&&h.return&&h.return(L)}finally{if(I)throw I.e}}}}function to(h,E,A){return h.apply(E,A)}function cd(h,E){return!ar(E)&&h&&(Wt(E)?to(h.push,h,E):ma(E)||uh(E)?jf(E,function(A){h.push(A)}):h.push(E)),h}function Sr(h,E,A){if(h)for(var I=h[he]>>>0,L=0;L<I&&!(L in h&&E[_e](A||h,h[L],L,h)===-1);L++);}var rs=ks("indexOf",Vr);function fd(h,E,A){return((h?h.slice:z)||We).apply(h,We[_e](arguments,1))}var na=D(k(ct,"create"),qc);function qc(h){if(!h)return{};var E=typeof h;E!==K&&E!==H&&tn("Prototype must be an Object or function: "+lr(h));function A(){}return A[X]=h,new A}var Ft;function ya(h,E){var A=ct.setPrototypeOf||function(I,L){var Y;!Ft&&(Ft=Xo((Y={},Y[ue]=[],Y instanceof Array))),Ft.v?I[ue]=L:Wr(L,function($,te){return I[$]=te})};return A(h,E)}function Xu(h,E,A){Qr(Mn,[E,Ie,{v:h,c:!0,e:!1}]),E=ya(E,A);function I(){this[ge]=E,Qr(Mn,[this,Ie,{v:h,c:!0,e:!1}])}return E[X]=A===z?na(A):(I[X]=A[X],new I),E}function Gf(h,E){E&&(h[Ie]=E)}function fv(h,E,A){var I=A||Error,L=I[X][Ie],Y=Error.captureStackTrace;return Xu(h,function(){var $=this,te=arguments;try{Qr(Gf,[I,h]);var le=to(I,$,We[_e](te))||$;if(le!==$){var de=bn($);de!==bn(le)&&ya(le,de)}return Y&&Y(le,$[ge]),E&&E(le,te),le}finally{Qr(Gf,[I,L])}},I)}function Ma(){return(Date.now||qf)()}function qf(){return new Date().getTime()}function fp(h){return function(A){return et(A)&&tn("strTrim called ["+lr(A)+"]"),A&&A.replace&&(A=A.replace(h,ee)),A}}var yu=fp(/^\s+|(?=\s)\s+$/g),La=id("trim",kt,yu),gt,gi,_u;function Os(h){if(!h||typeof h!==K)return!1;_u||(_u=Zu()?va():!0);var E=!1;if(h!==_u){gi||(gt=Function[X][ze],gi=gt[_e](ct));try{var A=bn(h);E=!A,E||(qr(A,ge)&&(A=A[ge]),E=!!(A&&typeof A===H&&gt[_e](A)===gi))}catch{}}return E}function lp(){return Ma()}var dp=ks("indexOf",kt),ri=id("startsWith",kt,_a);function _a(h,E,A){Ju(h)||tn("'"+lr(h)+"' is not a string");var I=Ju(E)?E:Mr(E),L=A>0?A:0;return ad(h,L,L+I[he])===I}var pp="ref",Fa="unref",ia="hasRef",cm="enabled";function lv(h,E,A){var I=!0,L=h?E(z):z,Y;function $(){return I=!1,L&&L[Fa]&&L[Fa](),Y}function te(){L&&A(L),L=z}function le(){return L=E(L),I||$(),Y}function de(Oe){!Oe&&L&&te(),Oe&&!L&&le()}return Y={cancel:te,refresh:le},Y[ia]=function(){return L&&L[ia]?L[ia]():I},Y[pp]=function(){return I=!0,L&&L[pp]&&L[pp](),Y},Y[Fa]=$,Y=Hr(Y,cm,{get:function(){return!!L},set:de}),{h:Y,dn:function(){L=z}}}function ch(h,E,A){var I=Wt(E),L=I?E.length:0,Y=(L>0?E[0]:I?U:E)||setTimeout,$=(L>1?E[1]:U)||clearTimeout,te=A[0];A[0]=function(){le.dn(),to(te,U,We[_e](arguments))};var le=lv(h,function(de){if(de){if(de.refresh)return de.refresh(),de;to($,U,[de])}return to(Y,U,A)},function(de){to($,U,[de])});return le.h}function Eu(h,E){return ch(!0,U,We[_e](arguments))}function fh(h,E,A){return ch(!0,h,We[_e](arguments,1))}(ta()||{}).Symbol,(ta()||{}).Reflect;var eg="hasOwnProperty",hp=function(h,E){return hp=m.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,I){A.__proto__=I}||function(A,I){for(var L in I)I[eg](L)&&(A[L]=I[L])},hp(h,E)};function Gi(h,E){typeof E!==i&&E!==null&&tn("Class extends value "+String(E)+" is not a constructor or null"),hp(h,E);function A(){this.constructor=h}h[f]=E===null?na(E):(A[f]=E[f],new A)}var Yf,zf="constructor",ro="prototype",Ea="function",wu="_dynInstFuncs",lh="_isDynProxy",Ua="_dynClass",vp="_dynCls$",Qu="_dynInstChk",Yc=Qu,$f="_dfOpts",ld="_unknown_",mp="__proto__",dh="_dyn"+mp,ph="__dynProto$Gbl",bu="_dynInstProto",gp="useBaseInst",Ms="setInstFuncs",ec=Object,Ba=ec.getPrototypeOf,Vf=ec.getOwnPropertyNames,dd=ta(),zc=dd[ph]||(dd[ph]={o:(Yf={},Yf[Ms]=!0,Yf[gp]=!0,Yf),n:1e3});function no(h){return h&&(h===ec[ro]||h===Array[ro])}function dv(h){return no(h)||h===Function[ro]}function ns(h){var E;if(h){if(Ba)return Ba(h);var A=h[mp]||h[ro]||(h[zf]?h[zf][ro]:null);E=h[dh]||A,qr(h,dh)||(delete h[bu],E=h[dh]=h[bu]||h[dh],h[bu]=A)}return E}function No(h,E){var A=[];if(Vf)A=Vf(h);else for(var I in h)typeof I=="string"&&qr(h,I)&&A.push(I);if(A&&A.length>0)for(var L=0;L<A.length;L++)E(A[L])}function io(h,E,A){return E!==zf&&typeof h[E]===Ea&&(A||qr(h,E))&&E!==mp&&E!==ro}function Su(h){tn("DynamicProto: "+h)}function pd(h){var E=na(null);return No(h,function(A){!E[A]&&io(h,A,!1)&&(E[A]=h[A])}),E}function $c(h,E){for(var A=h.length-1;A>=0;A--)if(h[A]===E)return!0;return!1}function Vc(h,E,A,I){function L(le,de,Oe){var Je=de[Oe];if(Je[lh]&&I){var He=le[wu]||{};He[Yc]!==!1&&(Je=(He[de[Ua]]||{})[Oe]||Je)}return function(){return Je.apply(le,arguments)}}var Y=na(null);No(A,function(le){Y[le]=L(E,A,le)});for(var $=ns(h),te=[];$&&!dv($)&&!$c(te,$);)No($,function(le){!Y[le]&&io($,le,!Ba)&&(Y[le]=L(E,$,le))}),te.push($),$=ns($);return Y}function tc(h,E,A,I){var L=null;if(h&&qr(A,Ua)){var Y=h[wu]||na(null);if(L=(Y[A[Ua]]||na(null))[E],L||Su("Missing ["+E+"] "+Ea),!L[Qu]&&Y[Yc]!==!1){for(var $=!qr(h,E),te=ns(h),le=[];$&&te&&!dv(te)&&!$c(le,te);){var de=te[E];if(de){$=de===I;break}le.push(te),te=ns(te)}try{$&&(h[E]=L),L[Qu]=1}catch{Y[Yc]=!1}}}return L}function hd(h,E,A){var I=E[h];return I===A&&(I=ns(E)[h]),typeof I!==Ea&&Su("["+h+"] is not a "+Ea),I}function Wf(h,E,A,I,L){function Y(le,de){var Oe=function(){var Je=tc(this,de,le,Oe)||hd(de,le,Oe);return Je.apply(this,arguments)};return Oe[lh]=1,Oe}if(!no(h)){var $=A[wu]=A[wu]||na(null);if(!no($)){var te=$[E]=$[E]||na(null);$[Yc]!==!1&&($[Yc]=!!L),no(te)||No(A,function(le){io(A,le,!1)&&A[le]!==I[le]&&(te[le]=A[le],delete A[le],(!qr(h,le)||h[le]&&!h[le][lh])&&(h[le]=Y(h,le)))})}}}function vd(h,E){if(Ba){for(var A=[],I=ns(E);I&&!dv(I)&&!$c(A,I);){if(I===h)return!0;A.push(I),I=ns(I)}return!1}return!0}function rc(h,E){return qr(h,ro)?h.name||E||ld:((h||{})[zf]||{}).name||E||ld}function ao(h,E,A,I){qr(h,ro)||Su("theClass is an invalid class definition.");var L=h[ro];vd(L,E)||Su("["+rc(h)+"] not in hierarchy of ["+rc(E)+"]");var Y=null;qr(L,Ua)?Y=L[Ua]:(Y=vp+rc(h,"_")+"$"+zc.n,zc.n++,L[Ua]=Y);var $=ao[$f],te=!!$[gp];te&&I&&I[gp]!==void 0&&(te=!!I[gp]);var le=pd(E),de=Vc(L,E,le,te);A(E,de);var Oe=!!Ba&&!!$[Ms];Oe&&I&&(Oe=!!I[Ms]),Wf(L,Y,E,le,Oe!==!1)}ao[$f]=zc.o;var Wc=Bn,Co=Wc({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}),wa="toLowerCase",is="blkVal",rn="length",Ls="rdOnly",oo="notify",Hc="warnToConsole",Kc="throwInternal",as="setDf",Hf="watch",os="logger",Du="apply",aa="push",yp="splice",nc="hdlr",qi="cancel",md="initialize",_p="identifier",Kf="isInitialized",Jf="value",Ep="getPlugin",pv="name",ic="time",Io="processNext",so="getProcessTelContext",En="unload",Zf="loggingLevelConsole",ac="createNew",oc="teardown",wp="messageId",ja="message",Tu="isAsync",Fs="diagLog",vr="_doTeardown",xo="update",ss="getNext",Ga="setNextPlugin",gd="protocol",qa="userAgent",Au="split",vn="nodeType",oa="replace",Yr="logInternalMessage",yt="type",sc="handler",Po="status",Us="getResponseHeader",uo="getAllResponseHeaders",Nu="isChildEvt",Ya="data",Kr="getCtx",Ro="setCtx",zr="complete",ko="urlString",yd="sendPOST",Oo="headers",Ln="timeout",co="setRequestHeader",us;function Ii(h,E){us||(us=fv("AggregationError",function(I,L){L[rn]>1&&(I.errors=L[1])}));var A=h||"One or more errors occurred.";throw Sr(E,function(I,L){A+=`
`.concat(L," > ").concat(lr(I))}),new us(A,E||[])}var Yi="Promise",Jc="rejected";function uc(h,E){return _d(h,function(A){return E?E({status:"fulfilled",rejected:!1,value:A}):A},function(A){return E?E({status:Jc,rejected:!0,reason:A}):A})}function _d(h,E,A,I){var L=h;try{if(or(h))(E||A)&&(L=h.then(E,A));else try{E&&(L=E(h))}catch(Y){if(A)L=A(Y);else throw Y}}finally{I&&Bs(L,I)}return L}function Bs(h,E){var A=h;return E&&(or(h)?h.finally?A=h.finally(E):A=h.then(function(I){return E(),I},function(I){throw E(),I}):E()),A}var Mo=["pending","resolving","resolved",Jc],Lo="dispatchEvent",cc;function Fo(h){var E;return h&&h.createEvent&&(E=h.createEvent("Event")),!!E&&E.initEvent}function qn(h,E,A,I){var L=Gn();!cc&&(cc=Xo(!!Qr(Fo,[L]).v));var Y=cc.v?L.createEvent("Event"):I?new Event(E):{};if(A&&A(Y),cc.v&&Y.initEvent(E,!1,!0),Y&&h[Lo])h[Lo](Y);else{var $=h["on"+E];if($)$(Y);else{var te=hn("console");te&&(te.error||te.log)(E,lr(Y))}}}var Ed="unhandledRejection",fc=Ed.toLowerCase(),js=10,ba;function cs(h){return Vt(h)?h.toString():lr(h)}function Gs(h,E,A){var I=fd(arguments,3),L=0,Y=!1,$,te=[],le=!1,de=null,Oe;function Je(Pe,Ze){try{le=!0,de&&de.cancel(),de=null;var Kt=h(function(tr,pr){te.push(function(){try{var Lr=L===2?Pe:Ze,$r=ar(Lr)?$:Vt(Lr)?Lr($):Lr;or($r)?$r.then(tr,pr):Lr?tr($r):L===3?pr($r):tr($r)}catch(gn){pr(gn)}}),Y&&Ve()},I);return Kt}finally{}}function He(Pe){return Je(void 0,Pe)}function ke(Pe){var Ze=Pe,Kt=Pe;return Vt(Pe)&&(Ze=function(tr){return Pe&&Pe(),tr},Kt=function(tr){throw Pe&&Pe(),tr}),Je(Ze,Kt)}function Ee(){return Mo[L]}function Ve(){if(te.length>0){var Pe=te.slice();te=[],le=!0,de&&de.cancel(),de=null,E(Pe)}}function xe(Pe,Ze){return function(Kt){if(L===Ze){if(Pe===2&&or(Kt)){L=1,Kt.then(xe(2,1),xe(3,1));return}L=Pe,Y=!0,$=Kt,Ve(),!le&&Pe===3&&!de&&(de=Eu(rt,js))}}}function rt(){if(!le)if(le=!0,sd())process.emit(Ed,$,Oe);else{var Pe=va()||ta();!ba&&(ba=Xo(Qr(hn,[Yi+"RejectionEvent"]).v)),qn(Pe,fc,function(Ze){return Mn(Ze,"promise",{g:function(){return Oe}}),Ze.reason=$,Ze},!!ba.v)}}Oe={then:Je,catch:He,finally:ke},Hr(Oe,"state",{get:Ee}),ud()&&(Oe[Bf(11)]="IPromise");function Me(){return"IPromise "+Ee()+(Y?" - "+cs($):"")}return Oe.toString=Me,function(){Vt(A)||tn(Yi+": executor is not a function - "+cs(A));var Ze=xe(3,0);try{A.call(Oe,xe(2,0),Ze)}catch(Kt){Ze(Kt)}}(),Oe}function za(h){Sr(h,function(E){try{E()}catch{}})}function Zc(h){var E=Jt(h)?h:0;return function(A){Eu(function(){za(A)},E)}}function Cu(h,E){return Gs(Cu,Zc(E),h,E)}var yi;function Iu(h,E){!yi&&(yi=Xo(Qr(hn,[Yi]).v||null));var A=yi.v;if(!A)return Cu(h);Vt(h)||tn(Yi+": executor is not a function - "+lr(h));var I=0;function L(){return Mo[I]}var Y=new A(function($,te){function le(Oe){I=2,$(Oe)}function de(Oe){I=3,te(Oe)}h(le,de)});return Hr(Y,"state",{get:L}),Y}var qs;function $a(h,E){return!qs&&(qs=Xo(Iu)),qs.v.call(this,h,E)}var lc=void 0,mn="",ni="core",Va="disabled",dc="extensionConfig",fs="processTelemetry",bp="priority",Sa="getPerfMgr",Xc="Not dynamic - ",xi=/-([a-z])/g,wd=/([^\w\d_$])/g,sa=/^(\d+[\w\d_$])/;function ls(h){return!et(h)}function ds(h){var E=h;return E&&Ju(E)&&(E=E[oa](xi,function(A,I){return I.toUpperCase()}),E=E[oa](wd,"_"),E=E[oa](sa,function(A,I){return"_"+I})),E}function Sp(h,E){return h&&E?dp(h,E)!==-1:!1}function Xf(h,E){var A=null,I=null;return Vt(h)?A=h:I=h,function(){var L=arguments;if(A&&(I=A()),I)return I[E][Du](I,L)}}function bd(h,E,A,I,L){h&&E&&A&&(L!==!1||ar(h[E]))&&(h[E]=Xf(A,I))}function Qf(h,E,A,I){return h&&E&&Zo(h)&&Wt(A)&&Sr(A,function(L){Ju(L)&&bd(h,L,E,L,I)}),h}function Uo(h){return h&&Ar&&(h=m(Ar({},h))),h}function ua(h){try{return h.responseText}catch{}return null}function Qc(h,E){return h?"XDomainRequest,Response:"+ua(h)||"":E}function hv(h,E){return h?"XMLHttpRequest,Status:"+h[Po]+",Response:"+ua(h)||h.response||"":E}function pc(h,E){return E&&(Jt(E)?h=[E].concat(h):Wt(E)&&(h=E.concat(h))),h}var hc="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",ps="withCredentials",el="timeout";function fm(h,E,A,I,L,Y){I===void 0&&(I=!1),L===void 0&&(L=!1);function $(le,de,Oe){try{le[de]=Oe}catch{}}var te=new XMLHttpRequest;return I&&$(te,hc,I),A&&$(te,ps,A),te.open(h,E,!L),A&&$(te,ps,A),!L&&Y&&$(te,el,Y),te}function Dp(h){var E={};if(Ju(h)){var A=La(h)[Au](/[\r\n]+/);Sr(A,function(I){if(I){var L=I.indexOf(": ");if(L!==-1){var Y=La(I.substring(0,L))[wa](),$=La(I.substring(L+1));E[Y]=$}else E[La(I)]=1}})}return E}function tl(h,E,A){if(!h[A]&&E&&E[Us]){var I=E[Us](A);I&&(h[A]=La(I))}return h}var vc="kill-duration",hh="kill-duration-seconds",vv="time-delta-millis";function mc(h,E){var A={};return h[uo]?A=Dp(h[uo]()):E&&(A=tl(A,h,vv),A=tl(A,h,vc),A=tl(A,h,hh)),A}var mv="location",rl="console",Tp="JSON",fo="crypto",vh="msCrypto",lm="ReactNative",Sd="msie",mh="trident/",Ap="XMLHttpRequest",ef=null,Dd=null,gc=!1,Ys=null,tf=null;function gv(h,E){var A=!1;if(h){try{if(A=E in h,!A){var I=h[f];I&&(A=E in I)}}catch{}if(!A)try{var L=new h;A=!ar(L[E])}catch{}}return A}function Np(h){if(h&&gc){var E=hn("__mockLocation");if(E)return E}return typeof location===a&&location?location:hn(mv)}function rf(){return typeof console!==s?console:hn(rl)}function Cp(){return!!(typeof JSON===a&&JSON||hn(Tp)!==null)}function zs(){return Cp()?JSON||hn(Tp):null}function Jr(){return hn(fo)}function yc(){return hn(vh)}function _i(){var h=mi();return h&&h.product?h.product===lm:!1}function Ip(){var h=mi();if(h&&(h[qa]!==Dd||ef===null)){Dd=h[qa];var E=(Dd||mn)[wa]();ef=Sp(E,Sd)||Sp(E,mh)}return ef}function Td(h){return(tf===null||h===!1)&&(tf=Or()&&!!mi().sendBeacon),tf}function nf(h){var E=!1;try{E=!!hn("fetch");var A=hn("Request");E&&h&&A&&(E=gv(A,"keepalive"))}catch{}return E}function _c(){return Ys===null&&(Ys=typeof XDomainRequest!==s,Ys&&ca()&&(Ys=Ys&&!gv(hn(Ap),"withCredentials"))),Ys}function ca(){var h=!1;try{var E=hn(Ap);h=!!E}catch{}return h}var Ad=4294967296,ii=4294967295,Er=123456789,$s=987654321,Sn=!1,hs=Er,Ec=$s;function wc(h){h<0&&(h>>>=0),hs=Er+h&ii,Ec=$s-h&ii,Sn=!0}function Vs(){try{var h=Ma()&2147483647;wc((Math.random()*Ad^h)+h)}catch{}}function lo(h){var E=0,A=Jr()||yc();return A&&A.getRandomValues&&(E=A.getRandomValues(new Uint32Array(1))[0]&ii),E===0&&Ip()&&(Sn||Vs(),E=nl()&ii),E===0&&(E=Math.floor(Ad*Math.random()|0)),h||(E>>>=0),E}function nl(h){Ec=36969*(Ec&65535)+(Ec>>16)&ii,hs=18e3*(hs&65535)+(hs>>16)&ii;var E=(Ec<<16)+(hs&65535)>>>0&ii|0;return h||(E>>>=0),E}function gh(h){h===void 0&&(h=22);for(var E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A=lo()>>>0,I=0,L=mn;L[rn]<h;)I++,L+=E.charAt(A&63),A>>>=6,I===5&&(A=(lo()<<2&4294967295|A&3)>>>0,I=0);return L}var il="3.3.4",yh="."+gh(6),al=0;function af(h){return h[vn]===1||h[vn]===9||!+h[vn]}function xp(h,E){var A=E[h.id];if(!A){A={};try{af(E)&&Mn(E,h.id,{e:!1,v:A})}catch{}}return A}function Zn(h,E){return E===void 0&&(E=!1),ds(h+al+++(E?"."+il:mn)+yh)}function of(h){var E={id:Zn("_aiData-"+(h||mn)+"."+il),accept:function(A){return af(A)},get:function(A,I,L,Y){var $=A[E.id];return $?$[ds(I)]:(Y&&($=xp(E,A),$[ds(I)]=L),L)},kill:function(A,I){if(A&&A[I])try{delete A[I]}catch{}}};return E}function Ei(h){return h&&Zo(h)&&(h.isVal||h.fb||Rs(h,"v")||Rs(h,"mrg")||Rs(h,"ref")||h.set)}function xu(h,E,A){var I,L=A.dfVal||ft;if(E&&A.fb){var Y=A.fb;Wt(Y)||(Y=[Y]);for(var $=0;$<Y[rn];$++){var te=Y[$],le=E[te];if(L(le)?I=le:h&&(le=h.cfg[te],L(le)&&(I=le),h.set(h.cfg,Mr(te),le)),L(I))break}}return!L(I)&&L(A.v)&&(I=A.v),I}function Pp(h,E,A){var I=A;if(A&&Ei(A)&&(I=xu(h,E,A)),I){Ei(I)&&(I=Pp(h,E,I));var L;Wt(I)?(L=[],L[rn]=I[rn]):Os(I)&&(L={}),L&&(Wr(I,function(Y,$){$&&Ei($)&&($=Pp(h,E,$)),L[Y]=$}),I=L)}return I}function Nd(h,E,A,I){var L,Y,$,te=I,le,de,Oe,Je;Ei(te)?(L=te.isVal,Y=te.set,Oe=te[Ls],Je=te[is],le=te.mrg,de=te.ref,!de&&ar(de)&&(de=!!le),$=xu(h,E,te)):$=I,Je&&h[is](E,A);var He,ke=!0,Ee=E[A];(Ee||!et(Ee))&&(He=Ee,ke=!1,L&&He!==$&&!L(He)&&(He=$,ke=!0),Y&&(He=Y(He,$,E),ke=He===$)),ke?$?He=Pp(h,E,$):He=$:(Os(He)||Wt($))&&le&&$&&(Os($)||Wt($))&&Wr($,function(Ve,xe){Nd(h,He,Ve,xe)}),h.set(E,A,He),de&&h.ref(E,A),Oe&&h[Ls](E,A)}var wi=cp("[[ai_dynCfg_1]]"),Cd=cp("[[ai_blkDynCfg_1]]"),Rp=cp("[[ai_frcDynCfg_1]]");function Ws(h){if(h){var E;if(Wt(h)?(E=[],E[rn]=h[rn]):Os(h)&&(E={}),E)return Wr(h,function(A,I){E[A]=Ws(I)}),E}return h}function It(h){if(h){var E=h[wi]||h;if(E.cfg&&(E.cfg===h||E.cfg[wi]===E))return E}return null}function vs(h){if(h&&(Os(h)||Wt(h)))try{h[Cd]=!0}catch{}return h}function ms(h,E,A){var I=!1;return A&&!h[E.blkVal]&&(I=A[Rp],!I&&!A[Cd]&&(I=Os(A)||Wt(A))),I}function Da(h){tn("InvalidAccess:"+h)}var ol=["push","pop","shift","unshift","splice"],sf=function(h,E,A,I){h&&h[Kc](3,108,"".concat(A," [").concat(E,"] failed - ")+lr(I))};function gs(h,E,A){Wt(E)&&Sr(ol,function(I){var L=E[I];E[I]=function(){for(var Y=[],$=0;$<arguments.length;$++)Y[$]=arguments[$];var te=L[Du](this,Y);return sl(h,E,A,"Patching"),te}})}function Wa(h,E){var A=pi(h,E);return A&&A.get}function uf(h,E,A,I){var L={n:A,h:[],trk:function(de){de&&de.fn&&(rs(L.h,de)===-1&&L.h[aa](de),h.trk(de,L))},clr:function(de){var Oe=rs(L.h,de);Oe!==-1&&L.h[yp](Oe,1)}},Y=!0,$=!1;function te(){Y&&($=$||ms(te,h,I),I&&!I[wi]&&$&&(I=sl(h,I,A,"Converting")),Y=!1);var de=h.act;return de&&L.trk(de),I}te[h.prop]={chng:function(){h.add(L)}};function le(de){if(I!==de){te[h.ro]&&!h.upd&&Da("["+A+"] is read-only:"+lr(E)),Y&&($=$||ms(te,h,I),Y=!1);var Oe=$&&te[h.rf];if($)if(Oe){Wr(I,function(He){I[He]=de?de[He]:lc});try{Wr(de,function(He,ke){Id(h,I,He,ke)}),de=I}catch(He){sf((h.hdlr||{})[os],A,"Assigning",He),$=!1}}else I&&I[wi]&&Wr(I,function(He){var ke=Wa(I,He);if(ke){var Ee=ke[h.prop];Ee&&Ee.chng()}});if(de!==I){var Je=de&&ms(te,h,de);!Oe&&Je&&(de=sl(h,de,A,"Converting")),I=de,$=Je}h.add(L)}}Mn(E,L.n,{g:te,s:le})}function Id(h,E,A,I){if(E){var L=Wa(E,A),Y=L&&!!L[h.prop];Y?E[A]=I:uf(h,E,A,I)}return E}function Hs(h,E,A,I){if(E){var L=Wa(E,A),Y=L&&!!L[h.prop],$=I&&I[0],te=I&&I[1],le=I&&I[2];if(!Y){if(le)try{vs(E)}catch(de){sf((h.hdlr||{})[os],A,"Blocking",de)}try{Id(h,E,A,E[A]),L=Wa(E,A)}catch(de){sf((h.hdlr||{})[os],A,"State",de)}}$&&(L[h.rf]=$),te&&(L[h.ro]=te),le&&(L[h.blkVal]=!0)}return E}function sl(h,E,A,I){try{Wr(E,function(L,Y){Id(h,E,L,Y)}),E[wi]||(Hr(E,wi,{get:function(){return h[nc]}}),gs(h,E,A))}catch(L){sf((h.hdlr||{})[os],A,I,L)}return E}var cf="[[ai_",ul="]]";function kp(h){var E,A=ra(cf+"get"+h.uid+ul),I=ra(cf+"ro"+h.uid+ul),L=ra(cf+"rf"+h.uid+ul),Y=ra(cf+"blkVal"+h.uid+ul),$=ra(cf+"dtl"+h.uid+ul),te=null,le=null,de;function Oe(Ee,Ve){var xe=de.act;try{de.act=Ee,Ee&&Ee[$]&&(Sr(Ee[$],function(Me){Me.clr(Ee)}),Ee[$]=[]),Ve({cfg:h.cfg,set:h.set.bind(h),setDf:h[as].bind(h),ref:h.ref.bind(h),rdOnly:h[Ls].bind(h)})}catch(Me){var rt=h[os];throw rt&&rt[Kc](1,107,lr(Me)),Me}finally{de.act=xe||null}}function Je(){if(te){var Ee=te;te=null,le&&le[qi](),le=null;var Ve=[];if(Sr(Ee,function(xe){if(xe&&(xe[$]&&(Sr(xe[$],function(rt){rt.clr(xe)}),xe[$]=null),xe.fn))try{Oe(xe,xe.fn)}catch(rt){Ve[aa](rt)}}),te)try{Je()}catch(xe){Ve[aa](xe)}Ve[rn]>0&&Ii("Watcher error(s): ",Ve)}}function He(Ee){if(Ee&&Ee.h[rn]>0){te||(te=[]),le||(le=Eu(function(){le=null,Je()},0));for(var Ve=0;Ve<Ee.h[rn];Ve++){var xe=Ee.h[Ve];xe&&rs(te,xe)===-1&&te[aa](xe)}}}function ke(Ee,Ve){if(Ee){var xe=Ee[$]=Ee[$]||[];rs(xe,Ve)===-1&&xe[aa](Ve)}}return de=(E={prop:A,ro:I,rf:L},E[is]=Y,E[nc]=h,E.add=He,E[oo]=Je,E.use=Oe,E.trk=ke,E),de}function Op(h,E){var A={fn:E,rm:function(){A.fn=null,h=null,E=null}};return Mn(A,"toJSON",{v:function(){return"WatcherHandler"+(A.fn?"":"[X]")}}),h.use(A,E),A}function _h(h,E,A){var I,L=It(E);if(L)return L;var Y=Zn("dyncfg",!0),$=E&&A!==!1?E:Ws(E),te;function le(){te[oo]()}function de(rt,Me,Pe){try{rt=Id(te,rt,Me,Pe)}catch(Ze){sf(h,Me,"Setting value",Ze)}return rt[Me]}function Oe(rt){return Op(te,rt)}function Je(rt,Me){te.use(null,function(Pe){var Ze=te.upd;try{ar(Me)||(te.upd=Me),rt(Pe)}finally{te.upd=Ze}})}function He(rt,Me){var Pe;return Hs(te,rt,Me,(Pe={},Pe[0]=!0,Pe))[Me]}function ke(rt,Me){var Pe;return Hs(te,rt,Me,(Pe={},Pe[1]=!0,Pe))[Me]}function Ee(rt,Me){var Pe;return Hs(te,rt,Me,(Pe={},Pe[2]=!0,Pe))[Me]}function Ve(rt,Me){return Me&&Wr(Me,function(Pe,Ze){Nd(xe,rt,Pe,Ze)}),rt}var xe=(I={uid:null,cfg:$},I[os]=h,I[oo]=le,I.set=de,I[as]=Ve,I[Hf]=Oe,I.ref=He,I[Ls]=ke,I[is]=Ee,I._block=Je,I);return Mn(xe,"uid",{c:!1,e:!1,w:!1,v:Y}),te=kp(xe),sl(te,$,"config","Creating"),xe}function dm(h,E){h?(h[Hc](E),h[Kc](2,108,E)):Da(E)}function ys(h,E,A,I){var L=_h(A,h||{},I);return E&&L[as](L.cfg,E),L}function Ks(h,E,A){var I=h[wi]||h;return I.cfg&&(I.cfg===h||I.cfg[wi]===I)?I[Hf](E):(dm(A,Xc+lr(h)),ys(h,null,A)[Hf](E))}var _s="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Ha=null;function Js(){var h=hn("Microsoft");return h&&(Ha=h.ApplicationInsights),Ha}function Pu(h){var E=Ha;return!E&&h.disableDbgExt!==!0&&(E=Ha||Js()),E?E.ChromeDbgExt:null}var Ta,ff="warnToConsole",yv="AI (Internal): ",bc="AI: ",Eh="AITR_",cl={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},lf=(Ta={},Ta[0]=null,Ta[1]="errorToConsole",Ta[2]=ff,Ta[3]="debugToConsole",Ta);function fl(h){return h?'"'+h[oa](/\"/g,mn)+'"':mn}function Zs(h,E){var A=rf();if(A){var I="log";A[h]&&(I=h),Vt(A[I])&&A[I](E)}}var Ka=function(){function h(E,A,I,L){I===void 0&&(I=!1);var Y=this;Y[wp]=E,Y[ja]=(I?bc:yv)+E;var $=mn;Cp()&&($=zs().stringify(L));var te=(A?" message:"+fl(A):mn)+(L?" props:"+fl($):mn);Y[ja]+=te}return h.dataType="MessageData",h}();function df(h,E){return(h||{})[os]||new ll(E)}var ll=function(){function h(E){this.identifier="DiagnosticLogger",this.queue=[];var A=0,I={},L,Y,$,te,le;ao(h,this,function(de){le=Je(E||{}),de.consoleLoggingLevel=function(){return L},de[Kc]=function(Ee,Ve,xe,rt,Me){Me===void 0&&(Me=!1);var Pe=new Ka(Ve,xe,Me,rt);if(te)throw lr(Pe);var Ze=lf[Ee]||ff;if(ar(Pe[ja]))ke("throw"+(Ee===1?"Critical":"Warning"),Pe);else{if(Me){var Kt=+Pe[wp];!I[Kt]&&L>=Ee&&(de[Ze](Pe[ja]),I[Kt]=!0)}else L>=Ee&&de[Ze](Pe[ja]);Oe(Ee,Pe)}},de.debugToConsole=function(Ee){Zs("debug",Ee),ke("warning",Ee)},de[Hc]=function(Ee){Zs("warn",Ee),ke("warning",Ee)},de.errorToConsole=function(Ee){Zs("error",Ee),ke("error",Ee)},de.resetInternalMessageCount=function(){A=0,I={}},de[Yr]=Oe,de[En]=function(Ee){le&&le.rm(),le=null};function Oe(Ee,Ve){if(!He()){var xe=!0,rt=Eh+Ve[wp];if(I[rt]?xe=!1:I[rt]=!0,xe&&(Ee<=Y&&(de.queue[aa](Ve),A++,ke(Ee===1?"error":"warn",Ve)),A===$)){var Me="Internal events throttle limit per PageView reached for this app.",Pe=new Ka(23,Me,!1);de.queue[aa](Pe),Ee===1?de.errorToConsole(Me):de[Hc](Me)}}}function Je(Ee){return Ks(ys(Ee,cl,de).cfg,function(Ve){var xe=Ve.cfg;L=xe[Zf],Y=xe.loggingLevelTelemetry,$=xe.maxMessageLimit,te=xe.enableDebug})}function He(){return A>=$}function ke(Ee,Ve){var xe=Pu(E||{});xe&&xe[Fs]&&xe[Fs](Ee,Ve)}})}return h.__ieDyn=1,h}();function xd(h){return h||new ll}function bi(h,E,A,I,L,Y){Y===void 0&&(Y=!1),xd(h)[Kc](E,A,I,L,Y)}function Xs(h,E){xd(h)[Hc](E)}var Si="ctx",Pd="ParentContextKey",Ru="ChildrenContextKey",Rd=function(){function h(E,A,I){var L=this;if(L.start=Ma(),L[pv]=E,L[Tu]=I,L[Nu]=function(){return!1},Vt(A)){var Y;Mn(L,"payload",{g:function(){return!Y&&Vt(A)&&(Y=A(),A=null),Y}})}L[Kr]=function($){return $?$===h[Pd]||$===h[Ru]?L[$]:(L[Si]||{})[$]:null},L[Ro]=function($,te){if($)if($===h[Pd])L[$]||(L[Nu]=function(){return!0}),L[$]=te;else if($===h[Ru])L[$]=te;else{var le=L[Si]=L[Si]||{};le[$]=te}},L[zr]=function(){var $=0,te=L[Kr](h[Ru]);if(Wt(te))for(var le=0;le<te[rn];le++){var de=te[le];de&&($+=de[ic])}L[ic]=Ma()-L.start,L.exTime=L[ic]-$,L[zr]=function(){}}}return h.ParentContextKey="parent",h.ChildrenContextKey="childEvts",h}(),zi="CoreUtils.doPerf";function Di(h,E,A,I,L){if(h){var Y=h;if(Y[Sa]&&(Y=Y[Sa]()),Y){var $=void 0,te=Y[Kr](zi);try{if($=Y.create(E(),I,L),$){if(te&&$[Ro]&&($[Ro](Rd[Pd],te),te[Kr]&&te[Ro])){var le=te[Kr](Rd[Ru]);le||(le=[],te[Ro](Rd[Ru],le)),le[aa]($)}return Y[Ro](zi,$),A($)}}catch(de){$&&$[Ro]&&$[Ro]("exception",de)}finally{$&&Y.fire($),Y[Ro](zi,te)}}}return A()}var wh=of("plugin");function dl(h){return wh.get(h,"state",{},!0)}var pl="TelemetryPluginChain",ku="_hasRun",_v="_getTelCtx",Ev=0;function hl(h,E,A){for(;h;){if(h[Ep]()===A)return h;h=h[ss]()}return ml([A],E.config||{},E)}function bh(h,E,A,I){var L=null,Y=[];E||(E=ys({},null,A[os])),I!==null&&(L=I?hl(h,A,I):h);var $={_next:le,ctx:{core:function(){return A},diagLog:function(){return df(A,E.cfg)},getCfg:function(){return E.cfg},getExtCfg:Oe,getConfig:Je,hasNext:function(){return!!L},getNext:function(){return L},setNext:function(ke){L=ke},iterate:He,onComplete:te}};function te(ke,Ee){for(var Ve=[],xe=2;xe<arguments.length;xe++)Ve[xe-2]=arguments[xe];ke&&Y[aa]({func:ke,self:ar(Ee)?$.ctx:Ee,args:Ve})}function le(){var ke=L;if(L=ke?ke[ss]():null,!ke){var Ee=Y;Ee&&Ee[rn]>0&&(Sr(Ee,function(Ve){try{Ve.func.call(Ve.self,Ve.args)}catch(xe){bi(A[os],2,73,"Unexpected Exception during onComplete - "+lr(xe))}}),Y=[])}return ke}function de(ke,Ee){var Ve=null,xe=E.cfg;if(xe&&ke){var rt=xe[dc];!rt&&Ee&&(rt={}),xe[dc]=rt,rt=E.ref(xe,dc),rt&&(Ve=rt[ke],!Ve&&Ee&&(Ve={}),rt[ke]=Ve,Ve=E.ref(rt,ke))}return Ve}function Oe(ke,Ee){var Ve=de(ke,!0);return Ee&&Wr(Ee,function(xe,rt){if(et(Ve[xe])){var Me=E.cfg[xe];(Me||!et(Me))&&(Ve[xe]=Me)}Nd(E,Ve,xe,rt)}),E[as](Ve,Ee)}function Je(ke,Ee,Ve){Ve===void 0&&(Ve=!1);var xe,rt=de(ke,!1),Me=E.cfg;return rt&&(rt[Ee]||!et(rt[Ee]))?xe=rt[Ee]:(Me[Ee]||!et(Me[Ee]))&&(xe=Me[Ee]),xe||!et(xe)?xe:Ve}function He(ke){for(var Ee;Ee=$._next();){var Ve=Ee[Ep]();Ve&&ke(Ve)}}return $}function vl(h,E,A,I){var L=ys(E),Y=bh(h,L,A,I),$=Y.ctx;function te(de){var Oe=Y._next();return Oe&&Oe[fs](de,$),!Oe}function le(de,Oe){return de===void 0&&(de=null),Wt(de)&&(de=ml(de,L.cfg,A,Oe)),vl(de||$[ss](),L.cfg,A,Oe)}return $[Io]=te,$[ac]=le,$}function Sh(h,E,A){var I=ys(E.config),L=bh(h,I,E,A),Y=L.ctx;function $(le){var de=L._next();return de&&de[En](Y,le),!de}function te(le,de){return le===void 0&&(le=null),Wt(le)&&(le=ml(le,I.cfg,E,de)),Sh(le||Y[ss](),E,de)}return Y[Io]=$,Y[ac]=te,Y}function wv(h,E,A){var I=ys(E.config),L=bh(h,I,E,A),Y=L.ctx;function $(le){return Y.iterate(function(de){Vt(de[xo])&&de[xo](Y,le)})}function te(le,de){return le===void 0&&(le=null),Wt(le)&&(le=ml(le,I.cfg,E,de)),wv(le||Y[ss](),E,de)}return Y[Io]=$,Y[ac]=te,Y}function ml(h,E,A,I){var L=null,Y=!I;if(Wt(h)&&h[rn]>0){var $=null;Sr(h,function(te){if(!Y&&I===te&&(Y=!0),Y&&te&&Vt(te[fs])){var le=bv(te,E,A);L||(L=le),$&&$._setNext(le),$=le}})}return I&&!L?ml([I],E,A):L}function bv(h,E,A){var I=null,L=Vt(h[fs]),Y=Vt(h[Ga]),$;h?$=h[_p]+"-"+h[bp]+"-"+Ev++:$="Unknown-0-"+Ev++;var te={getPlugin:function(){return h},getNext:function(){return I},processTelemetry:Oe,unload:Je,update:He,_id:$,_setNext:function(ke){I=ke}};function le(){var ke;return h&&Vt(h[_v])&&(ke=h[_v]()),ke||(ke=vl(te,E,A)),ke}function de(ke,Ee,Ve,xe,rt){var Me=!1,Pe=h?h[_p]:pl,Ze=ke[ku];return Ze||(Ze=ke[ku]={}),ke.setNext(I),h&&Di(ke[ni](),function(){return Pe+":"+Ve},function(){Ze[$]=!0;try{var Kt=I?I._id:mn;Kt&&(Ze[Kt]=!1),Me=Ee(ke)}catch(pr){var tr=I?Ze[I._id]:!0;tr&&(Me=!0),(!I||!tr)&&bi(ke[Fs](),1,73,"Plugin ["+Pe+"] failed during "+Ve+" - "+lr(pr)+", run flags: "+lr(Ze))}},xe,rt),Me}function Oe(ke,Ee){Ee=Ee||le();function Ve(xe){if(!h||!L)return!1;var rt=dl(h);return rt[oc]||rt[Va]?!1:(Y&&h[Ga](I),h[fs](ke,xe),!0)}de(Ee,Ve,"processTelemetry",function(){return{item:ke}},!ke.sync)||Ee[Io](ke)}function Je(ke,Ee){function Ve(){var xe=!1;if(h){var rt=dl(h),Me=h[ni]||rt[ni];h&&(!Me||Me===ke.core())&&!rt[oc]&&(rt[ni]=null,rt[oc]=!0,rt[Kf]=!1,h[oc]&&h[oc](ke,Ee)===!0&&(xe=!0))}return xe}de(ke,Ve,"unload",function(){},Ee[Tu])||ke[Io](Ee)}function He(ke,Ee){function Ve(){var xe=!1;if(h){var rt=dl(h),Me=h[ni]||rt[ni];h&&(!Me||Me===ke.core())&&!rt[oc]&&h[xo]&&h[xo](ke,Ee)===!0&&(xe=!0)}return xe}de(ke,Ve,"update",function(){},!1)||ke[Io](Ee)}return sr(te)}function Ou(){var h=[];function E(I){I&&h[aa](I)}function A(I,L){Sr(h,function(Y){try{Y(I,L)}catch($){bi(I[Fs](),2,73,"Unexpected error calling unload handler - "+lr($))}}),h=[]}return{add:E,run:A}}function pf(){var h=[];function E(I){var L=h;h=[],Sr(L,function(Y){try{(Y.rm||Y.remove).call(Y)}catch($){bi(I,2,73,"Unloading:"+lr($))}})}function A(I){I&&cd(h,I)}return{run:E,add:A}}var Mp,Es="getPlugin",kd=(Mp={},Mp[dc]={isVal:ls,v:{}},Mp),gl=function(){function h(){var E=this,A,I,L,Y,$;de(),ao(h,E,function(Oe){Oe[md]=function(Je,He,ke,Ee){le(Je,He,Ee),A=!0},Oe[oc]=function(Je,He){var ke,Ee=Oe[ni];if(!Ee||Je&&Ee!==Je[ni]())return;var Ve,xe=!1,rt=Je||Sh(null,Ee,L&&L[Es]?L[Es]():L),Me=He||(ke={reason:0},ke[Tu]=!1,ke);function Pe(){xe||(xe=!0,Y.run(rt,He),$.run(rt[Fs]()),Ve===!0&&rt[Io](Me),de())}return!Oe[vr]||Oe[vr](rt,Me,Pe)!==!0?Pe():Ve=!0,Ve},Oe[xo]=function(Je,He){var ke=Oe[ni];if(!ke||Je&&ke!==Je[ni]())return;var Ee,Ve=!1,xe=Je||wv(null,ke,L&&L[Es]?L[Es]():L),rt=He||{reason:0};function Me(){Ve||(Ve=!0,le(xe.getCfg(),xe.core(),xe[ss]()))}return!Oe._doUpdate||Oe._doUpdate(xe,rt,Me)!==!0?Me():Ee=!0,Ee},bd(Oe,"_addUnloadCb",function(){return Y},"add"),bd(Oe,"_addHook",function(){return $},"add"),Mn(Oe,"_unloadHooks",{g:function(){return $}})}),E[Fs]=function(Oe){return te(Oe)[Fs]()},E[Kf]=function(){return A},E.setInitialized=function(Oe){A=Oe},E[Ga]=function(Oe){L=Oe},E[Io]=function(Oe,Je){Je?Je[Io](Oe):L&&Vt(L[fs])&&L[fs](Oe,null)},E._getTelCtx=te;function te(Oe){Oe===void 0&&(Oe=null);var Je=Oe;if(!Je){var He=I||vl(null,{},E[ni]);L&&L[Es]?Je=He[ac](null,L[Es]):Je=He[ac](null,L)}return Je}function le(Oe,Je,He){ys(Oe,kd,df(Je)),!He&&Je&&(He=Je[so]()[ss]());var ke=L;L&&L[Es]&&(ke=L[Es]()),E[ni]=Je,I=vl(He,Oe,Je,ke)}function de(){A=!1,E[ni]=null,I=null,L=null,$=pf(),Y=Ou()}}return h.__ieDyn=1,h}(),Bo="",hf="NoResponseBody",Sv="&"+hf+"=true",vf="POST",pm=function(){function h(){var E=0,A,I,L,Y,$,te,le,de,Oe,Je,He,ke,Ee,Ve;ao(h,this,function(xe,rt){var Me=!0;si(),xe[md]=function(it,mt){L=mt,I&&bi(L,1,28,"Sender is already initialized"),xe.SetConfig(it),I=!0},xe._getDbgPlgTargets=function(){return[I,Y,te,A]},xe.SetConfig=function(it){try{if($=it.senderOnCompleteCallBack||{},te=!!it.disableCredentials,le=it.fetchCredentials,Y=!!it.isOneDs,A=!!it.enableSendPromise,Oe=!!it.disableXhr,Je=!!it.disableBeacon,He=!!it.disableBeaconSync,Ve=it.timeWrapper,Ee=!!it.addNoResponse,ke=!!it.disableFetchKeepAlive,de={sendPOST:gn},Y||(Me=!1),te){var mt=Np();mt&&mt.protocol&&mt.protocol[wa]()==="file:"&&(Me=!1)}return!0}catch{}return!1},xe.getSyncFetchPayload=function(){return E},xe.getSenderInst=function(it,mt){return it&&it[rn]?tr(it,mt):null},xe.getFallbackInst=function(){return de},xe[vr]=function(it,mt){si()};function Pe(it,mt){pr(mt,200,{},it)}function Ze(it,mt){bi(L,2,26,"Failed to send telemetry.",{message:it}),pr(mt,400,{})}function Kt(it){Ze("No endpoint url is provided for the batch",it)}function tr(it,mt){for(var Ir,mr=0,Pt=null,Ur=0;Pt==null&&Ur<it[rn];)mr=it[Ur],!Oe&&mr===1?_c()?Pt=rr:ca()&&(Pt=gn):mr===2&&nf(mt)&&(!mt||!ke)?Pt=ln:mr===3&&Td()&&(mt?!He:!Je)&&(Pt=$r),Ur++;return Pt?(Ir={_transport:mr,_isSync:mt},Ir[yd]=Pt,Ir):null}function pr(it,mt,Ir,mr){try{it&&it(mt,Ir,mr)}catch{}}function Lr(it,mt){var Ir=mi(),mr=it[ko];if(!mr)return Kt(mt),!0;mr=it[ko]+(Ee?Sv:Bo);var Pt=it[Ya],Ur=Y?Pt:new Blob([Pt],{type:"text/plain;charset=UTF-8"}),Ot=Ir.sendBeacon(mr,Ur);return Ot}function $r(it,mt,Ir){var mr=it[Ya];try{if(mr)if(Lr(it,mt))Pe(Bo,mt);else{var Pt=$&&$.beaconOnRetry;Pt&&Vt(Pt)?Pt(it,mt,Lr):(de&&de[yd](it,mt,!0),bi(L,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(Ur){Y&&Xs(L,"Failed to send telemetry using sendBeacon API. Ex:"+lr(Ur)),pr(mt,Y?0:400,{},Bo)}}function gn(it,mt,Ir){var mr,Pt,Ur,Ot=it[Oo]||{};!Ir&&A&&(mr=$a(function(In,Ia){Pt=In,Ur=Ia})),Y&&Ir&&it.disableXhrSync&&(Ir=!1);var Wi=it[ko];if(!Wi){Kt(mt),Pt&&Pt(!1);return}var pt=fm(vf,Wi,Me,!0,Ir,it[Ln]);Y||pt[co]("Content-type","application/json"),Sr(Nr(Ot),function(In){pt[co](In,Ot[In])}),pt.onreadystatechange=function(){Y||(Cn(pt),pt.readyState===4&&Pt&&Pt(!0))},pt.onload=function(){Y&&Cn(pt)};function Cn(In){var Ia=$&&$.xhrOnComplete,Ic=Ia&&Vt(Ia);if(Ic)Ia(In,mt,it);else{var Ja=ua(In);pr(mt,In[Po],mc(In,Y),Ja)}}return pt.onerror=function(In){pr(mt,Y?pt[Po]:400,mc(pt,Y),Y?Bo:hv(pt)),Ur&&Ur(In)},pt.ontimeout=function(){pr(mt,Y?pt[Po]:500,mc(pt,Y),Y?Bo:hv(pt)),Pt&&Pt(!1)},pt.send(it[Ya]),mr}function ln(it,mt,Ir){var mr,Pt=it[ko],Ur=it[Ya],Ot=Y?Ur:new Blob([Ur],{type:"application/json"}),Wi,pt,Cn,In=new Headers,Ia=Ur[rn],Ic=!1,Ja=!1,Bl=it[Oo]||{},Ns=(mr={method:vf,body:Ot},mr[_s]=!0,mr);it.headers&&Nr(it.headers)[rn]>0&&(Sr(Nr(Bl),function(on){In.append(on,Bl[on])}),Ns[Oo]=In),le?Ns.credentials=le:Me&&Y&&(Ns.credentials="include"),Ir&&(Ns.keepalive=!0,E+=Ia,Y?it._sendReason===2&&(Ic=!0,Ee&&(Pt+=Sv)):Ic=!0);var $o=new Request(Pt,Ns);try{$o[_s]=!0}catch{}if(!Ir&&A&&(Wi=$a(function(on,ci){pt=on,Cn=ci})),!Pt){Kt(mt),pt&&pt(!1);return}function su(on){pr(mt,Y?0:400,{},Y?Bo:on)}function ui(on,ci,Hi){var uu=on[Po],xc=$.fetchOnComplete;xc&&Vt(xc)?xc(on,mt,Hi||Bo,ci):pr(mt,uu,{},Hi||Bo)}try{uc(fetch(Y?Pt:$o,Y?Ns:null),function(on){if(Ir&&(E-=Ia,Ia=0),!Ja)if(Ja=!0,on.rejected)su(on.reason&&on.reason[ja]),Cn&&Cn(on.reason);else{var ci=on[Jf];try{!Y&&!ci.ok?(su(ci.statusText),pt&&pt(!1)):Y&&!ci.body?(ui(ci,null,Bo),pt&&pt(!0)):uc(ci.text(),function(Hi){ui(ci,it,Hi[Jf]),pt&&pt(!0)})}catch(Hi){su(lr(Hi)),Cn&&Cn(Hi)}}})}catch(on){Ja||(su(lr(on)),Cn&&Cn(on))}return Ic&&!Ja&&(Ja=!0,pr(mt,200,{}),pt&&pt(!0)),Y&&!Ja&&it[Ln]>0&&Ve&&Ve.set(function(){Ja||(Ja=!0,pr(mt,500,{}),pt&&pt(!0))},it[Ln]),Wi}function rr(it,mt,Ir){var mr=va(),Pt=new XDomainRequest,Ur=it[Ya];Pt.onload=function(){var In=ua(Pt),Ia=$&&$.xdrOnComplete;Ia&&Vt(Ia)?Ia(Pt,mt,it):pr(mt,200,{},In)},Pt.onerror=function(){pr(mt,400,{},Y?Bo:Qc(Pt))},Pt.ontimeout=function(){pr(mt,500,{})},Pt.onprogress=function(){};var Ot=mr&&mr.location&&mr.location[gd]||"",Wi=it[ko];if(!Wi){Kt(mt);return}if(!Y&&Wi.lastIndexOf(Ot,0)!==0){var pt="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";bi(L,2,40,". "+pt),Ze(pt,mt);return}var Cn=Y?Wi:Wi[oa](/^(https?:)/,"");Pt.open(vf,Cn),it[Ln]&&(Pt[Ln]=it[Ln]),Pt.send(Ur),Y&&Ir?Ve&&Ve.set(function(){Pt.send(Ur)},0):Pt.send(Ur)}function si(){E=0,I=!1,A=!1,L=null,Y=null,$=null,te=null,le=null,de=null,Oe=!1,Je=!1,He=!1,ke=!1,Ee=!1,Ve=null}})}return h.__ieDyn=1,h}(),yl="on",Dv="attachEvent",Dh="addEventListener",Mu="detachEvent",Lu="removeEventListener",mf="events",ws="visibilitychange",Qs="pagehide",_l="pageshow",Od="unload",Md="beforeunload",El=Zn("aiEvtPageHide"),Aa=Zn("aiEvtPageShow"),wl=/\.[\.]+/g,Tv=/[\.]+$/,hm=1,gf=of("events"),vm=/^([^.]*)(?:\.(.+)|)/;function jo(h){return h&&h[oa]?h[oa](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,mn):h}function Fu(h,E){var A;if(E){var I=mn;Wt(E)?(I=mn,Sr(E,function(Y){Y=jo(Y),Y&&(Y[0]!=="."&&(Y="."+Y),I+=Y)})):I=jo(E),I&&(I[0]!=="."&&(I="."+I),h=(h||mn)+I)}var L=vm.exec(h||mn)||[];return A={},A[yt]=L[1],A.ns=(L[2]||mn).replace(wl,".").replace(Tv,mn)[Au](".").sort().join("."),A}function yf(h,E,A){A===void 0&&(A=!0);var I=gf.get(h,mf,{},A),L=I[E];return L||(L=I[E]=[]),L}function Av(h,E,A,I){h&&E&&E[yt]&&(h[Lu]?h[Lu](E[yt],A,I):h[Mu]&&h[Mu](yl+E[yt],A))}function Lp(h,E,A,I){var L=!1;return h&&E&&E[yt]&&A&&(h[Dh]?(h[Dh](E[yt],A,I),L=!0):h[Dv]&&(h[Dv](yl+E[yt],A),L=!0)),L}function Nv(h,E,A,I){for(var L=E[rn];L--;){var Y=E[L];Y&&(!A.ns||A.ns===Y.evtName.ns)&&(!I||I(Y))&&(Av(h,Y.evtName,Y[sc],Y.capture),E[yp](L,1))}}function Th(h,E,A){if(E[yt])Nv(h,yf(h,E[yt]),E,A);else{var I=gf.get(h,mf,{});Wr(I,function(L,Y){Nv(h,Y,E,A)}),Nr(I)[rn]===0&&gf.kill(h,mf)}}function Ld(h,E){var A;return E?(Wt(E)?A=[h].concat(E):A=[h,E],A=Fu("xx",A).ns[Au](".")):A=h,A}function _f(h,E,A,I,L){var Y;L===void 0&&(L=!1);var $=!1;if(h)try{var te=Fu(E,I);if($=Lp(h,te,A,L),$&&gf.accept(h)){var le=(Y={guid:hm++,evtName:te},Y[sc]=A,Y.capture=L,Y);yf(h,te.type)[aa](le)}}catch{}return $}function po(h,E,A,I,L){if(L===void 0&&(L=!1),h)try{var Y=Fu(E,I),$=!1;Th(h,Y,function(te){return Y.ns&&!A||te[sc]===A?($=!0,!0):!1}),$||Av(h,Y,A,L)}catch{}}function Fd(h,E,A){var I=!1,L=va();L&&(I=_f(L,h,E,A),I=_f(L.body,h,E,A)||I);var Y=Gn();return Y&&(I=_f(Y,h,E,A)||I),I}function Ef(h,E,A){var I=va();I&&(po(I,h,E,A),po(I.body,h,E,A));var L=Gn();L&&po(L,h,E,A)}function $i(h,E,A,I){var L=!1;return E&&h&&h[rn]>0&&Sr(h,function(Y){Y&&(!A||rs(A,Y)===-1)&&(L=Fd(Y,E,I)||L)}),L}function ho(h,E,A,I){var L=!1;return E&&h&&Wt(h)&&(L=$i(h,E,A,I),!L&&A&&A[rn]>0&&(L=$i(h,E,null,I))),L}function bl(h,E,A){h&&Wt(h)&&Sr(h,function(I){I&&Ef(I,E,A)})}function Cv(h,E,A){return ho([Md,Od,Qs],h,E,A)}function Iv(h,E){bl([Md,Od,Qs],h,E)}function Ti(h,E,A){function I($){var te=Gn();h&&te&&te.visibilityState==="hidden"&&h($)}var L=Ld(El,A),Y=$i([Qs],h,E,L);return(!E||rs(E,ws)===-1)&&(Y=$i([ws],I,E,L)||Y),!Y&&E&&(Y=Ti(h,null,A)),Y}function wf(h,E){var A=Ld(El,E);bl([Qs],h,A),bl([ws],null,A)}function Sl(h,E,A){function I($){var te=Gn();h&&te&&te.visibilityState==="visible"&&h($)}var L=Ld(Aa,A),Y=$i([_l],h,E,L);return Y=$i([ws],I,E,L)||Y,!Y&&E&&(Y=Sl(h,null,A)),Y}function mm(h,E){var A=Ld(Aa,E);bl([_l],h,A),bl([ws],null,A)}var xv="",Dl="timings",Vi="value",Fp="kind",Sc="length",bf="processTelemetryStart",eu,Tl="4.3.4",Up="1DS-Web-JS-"+Tl,At=_.hasOwnProperty,Uu=(eu={},eu[0]=0,eu[2]=6,eu[1]=1,eu[3]=7,eu[4098]=6,eu[4097]=1,eu[4099]=7,eu);function Go(h){return!(h===xv||et(h))}function Al(h){if(h){var E=dp(h,"-");if(E>-1)return ha(h,E)}return xv}function gm(h,E,A){if(!E&&!Go(E)||typeof h!="string")return null;var I=typeof E;if(I==="string"||I==="number"||I==="boolean"||Wt(E))E={value:E};else if(I==="object"&&!At.call(E,"value"))E={value:A?JSON.stringify(E):E};else if(et(E[Vi])||E[Vi]===xv||!Ju(E[Vi])&&!Jt(E[Vi])&&!ei(E[Vi])&&!Wt(E[Vi]))return null;if(Wt(E[Vi])&&!jp(E[Vi]))return null;if(!et(E[Fp])){if(Wt(E[Vi])||!Pv(E[Fp]))return null;E[Vi]=E[Vi].toString()}return E}function Nl(h,E,A){var I=-1;if(!ar(h))if(E>0&&(E===32?I=8192:E<=13&&(I=E<<5)),Bp(A))I===-1&&(I=0),I|=A;else{var L=Uu[Dc(h)]||-1;I!==-1&&L!==-1?I|=L:L===6&&(I=L)}return I}function Ud(h,E,A,I,L){var Y={},$=!1,te=0,le=arguments[Sc],de=arguments;for(ei(de[0])&&($=de[0],te++);te<le;te++){var h=de[te];Wr(h,function(Je,He){$&&He&&Zo(He)?Wt(He)?(Y[Je]=Y[Je]||[],Sr(He,function(ke,Ee){ke&&Zo(ke)?Y[Je][Ee]=Ud(!0,Y[Je][Ee],ke):Y[Je][Ee]=ke})):Y[Je]=Ud(!0,Y[Je],He):Y[Je]=He})}return Y}var qo=lp;function Pv(h){return h===0||h>0&&h<=13||h===32}function Bp(h){return h>=0&&h<=9}function jp(h){return h[Sc]>0}function Cl(h,E){var A=h;A[Dl]=A[Dl]||{},A[Dl][bf]=A[Dl][bf]||{},A[Dl][bf][E]=qo()}function Dc(h){var E=0;if(h!=null){var A=typeof h;A==="string"?E=1:A==="number"?E=2:A==="boolean"?E=3:A===a&&(E=4,Wt(h)?(E=4096,h[Sc]>0&&(E|=Dc(h[0]))):At.call(h,"value")&&(E=8192|Dc(h[Vi])))}return E}function Ah(){return!!hn("chrome")}function en(h){return h>0}var tu="",Nh="drop",Bu="send",vo="requeue",Yn="rspFail",Bd="oth",Tc="no-cache, no-store",Sf="application/x-json-stream",bs="cache-control",mo="content-type",Yo="kill-tokens",jd="kill-duration",Gp="time-delta-millis",Ch="client-version",Ss="client-id",Ih="time-delta-to-apply-millis",Gd="upload-time",xh="apikey",Ds="AuthMsaDeviceTicket",ym="WebAuthToken",ju="AuthXToken",Ph="NoResponseBody",p="msfpc",y="trace",b="user",C="allowRequestSending",j="firstRequestSent",Z="shouldAddClockSkewHeaders",re="getClockSkewHeaderValue",se="setClockSkew",oe="length",Se="concat",st="iKey",xt="count",er="events",lt="push",vt="split",dr="splice",qt="toLowerCase",Cr="hdrs",Rr="useHdrs",Ut="initialize",Nn="setTimeoutOverride",Ac="clearTimeoutOverride",ru="payloadPreprocessor",Df="overrideEndpointUrl",Il="avoidOptions",qd="disableEventTimings",xl="stringifyObjects",Pl="enableCompoundKey",Yd="disableXhrSync",Rl="disableFetchKeepAlive",Be="addNoResponse",_t="excludeCsMetaData",Ht="useSendBeacon",fn="fetchCredentials",Pi="alwaysUseXhrOverride",Ri="unloadTransports",ai="serializeOfflineEvt",Na="getOfflineRequestDetails",Ts="createPayload",Tf="createOneDSPayload",Rv="payloadBlob",Gu="headers",zd="_thePayload",_m="urlString",oi="batches",As="sendType",kv="addHeader",Em="canSendRequest",Rh="sendQueuedRequests",wm="isCompletelyIdle",bm="setUnloading",Bg="isTenantKilled",Sm="resume",Dm="sendSynchronousBatch",Af="_transport",kl="getWParam",nu="isBeacon",Nf="timings",Tm="isTeardown",Ov="isSync",kh="data",Oh="timeout",$d="_sendReason",tg="setKillSwitchTenants",Am="_backOffTransmission",qp="identifier",Cf="disableOptimizeObj",Ly="ignoreMc1Ms0CookieProcessing",rg="eventsLimitInMem",jg="autoFlushEventsLimit",Nm="disableAutoBatchFlushLimit",Fy="overrideInstrumentationKey",Ol="disableTelemetry",Mh="baseData",Mv="sendAttempt",Ml="latency",Lh="sync";function ng(h){var E=(h.ext||{}).intweb;return E&&Go(E[p])?E[p]:null}function Gg(h){for(var E=null,A=0;E===null&&A<h[oe];A++)E=ng(h[A]);return E}var Vd=function(){function h(E,A){var I=A?[][Se](A):[],L=this,Y=Gg(I);L[st]=function(){return E},L.Msfpc=function(){return Y||tu},L[xt]=function(){return I[oe]},L[er]=function(){return I},L.addEvent=function($){return $?(I[lt]($),Y||(Y=ng($)),!0):!1},L[vt]=function($,te){var le;if($<I[oe]){var de=I[oe]-$;et(te)||(de=te<de?te:de),le=I[dr]($,de),Y=Gg(I)}return new h(E,le)}}return h.create=function(E,A){return new h(E,A)},h}(),qg=function(){function h(){var E=!0,A=!0,I=!0,L="use-collector-delta",Y=!1;ao(h,this,function($){$[C]=function(){return E},$[j]=function(){I&&(I=!1,Y||(E=!1))},$[Z]=function(){return A},$[re]=function(){return L},$[se]=function(te){Y||(te?(L=te,A=!0,Y=!0):A=!1,E=!0)}})}return h.__ieDyn=1,h}(),Uy=1e3,ig=function(){function h(){var E={};function A(I){var L=[];return I&&Sr(I,function(Y){L[lt](La(Y))}),L}ao(h,this,function(I){I[tg]=function(L,Y){if(L&&Y)try{var $=A(L[vt](","));if(Y==="this-request-only")return $;for(var te=parseInt(Y,10)*Uy,le=0;le<$[oe];++le)E[$[le]]=Ma()+te}catch{return[]}return[]},I[Bg]=function(L){var Y=E,$=La(L);return Y[$]!==void 0&&Y[$]>Ma()?!0:(delete Y[$],!1)}})}return h.__ieDyn=1,h}(),Lv=.8,ag=1.2,Cm=3e3,Fh=6e5;function Wd(h){return!(h>=300&&h<500&&h!=429||h==501||h==505)}function og(h){var E=0,A=Cm*Lv,I=Cm*ag,L=Math.floor(Math.random()*(I-A))+A;return E=Math.pow(2,h)*L,Math.min(E,Fh)}var Fv=20,nn=3984588,iu=65e3,Hd=2e6,Yp=Math.min(Hd,iu),Uh="metadata",Uv="f",Ll=/\./,Kd=function(){function h(E,A,I,L,Y,$){var te="data",le="baseData",de="ext",Oe=!!L,Je=!0,He=A,ke={},Ee=!!$,Ve=Y||Nl;ao(h,this,function(xe){xe.createPayload=function(Pe,Ze,Kt,tr,pr,Lr){return{apiKeys:[],payloadBlob:tu,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:Pe,isTeardown:Ze,isSync:Kt,isBeacon:tr,sendType:Lr,sendReason:pr}},xe.appendPayload=function(Pe,Ze,Kt){var tr=Pe&&Ze&&!Pe.overflow;return tr&&Di(E,function(){return"Serializer:appendPayload"},function(){for(var pr=Ze.events(),Lr=Pe.payloadBlob,$r=Pe.numEvents,gn=!1,ln=[],rr=[],si=Pe.isBeacon,it=si?iu:nn,mt=si?Yp:Hd,Ir=0,mr=0;Ir<pr.length;){var Pt=pr[Ir];if(Pt){if($r>=Kt){Pe.overflow=Ze.split(Ir);break}var Ur=xe.getEventBlob(Pt);if(Ur&&Ur.length<=mt){var Ot=Ur.length,Wi=Lr.length;if(Wi+Ot>it){Pe.overflow=Ze.split(Ir);break}Lr&&(Lr+=`
`),Lr+=Ur,mr++,mr>Fv&&(Uf(Lr,0,1),mr=0),gn=!0,$r++}else Ur?ln.push(Pt):rr.push(Pt),pr.splice(Ir,1),Ir--}Ir++}if(ln.length>0&&Pe.sizeExceed.push(Vd.create(Ze.iKey(),ln)),rr.length>0&&Pe.failedEvts.push(Vd.create(Ze.iKey(),rr)),gn){Pe.batches.push(Ze),Pe.payloadBlob=Lr,Pe.numEvents=$r;var pt=Ze.iKey();rs(Pe.apiKeys,pt)===-1&&Pe.apiKeys.push(pt)}},function(){return{payload:Pe,theBatch:{iKey:Ze.iKey(),evts:Ze.events()},max:Kt}}),tr},xe.getEventBlob=function(Pe){try{return Di(E,function(){return"Serializer.getEventBlob"},function(){var Ze={};Ze.name=Pe.name,Ze.time=Pe.time,Ze.ver=Pe.ver,Ze.iKey="o:"+Al(Pe.iKey);var Kt={},tr;Ee||(tr=function(gn,ln,rr){Yg(Ve,Kt,gn,ln,rr)});var pr=Pe[de];pr&&(Ze[de]=Kt,Wr(pr,function(gn,ln){var rr=Kt[gn]={};Me(ln,rr,"ext."+gn,!0,null,null,!0)}));var Lr=Ze[te]={};Lr.baseType=Pe.baseType;var $r=Lr[le]={};return Me(Pe.baseData,$r,le,!1,[le],tr,Je),Me(Pe.data,Lr,te,!1,[],tr,Je),JSON.stringify(Ze)},function(){return{item:Pe}})}catch{return null}};function rt(Pe,Ze){var Kt=ke[Pe];return Kt===void 0&&(Pe.length>=7&&(Kt=ri(Pe,"ext.metadata")||ri(Pe,"ext.web")),ke[Pe]=Kt),Kt}function Me(Pe,Ze,Kt,tr,pr,Lr,$r){Wr(Pe,function(gn,ln){var rr=null;if(ln||Go(ln)){var si=Kt,it=gn,mt=pr,Ir=Ze;if(Oe&&!tr&&Ll.test(gn)){var mr=gn.split("."),Pt=mr.length;if(Pt>1){mt&&(mt=mt.slice());for(var Ur=0;Ur<Pt-1;Ur++){var Ot=mr[Ur];Ir=Ir[Ot]=Ir[Ot]||{},si+="."+Ot,mt&&mt.push(Ot)}it=mr[Pt-1]}}var Wi=tr&&rt(si);if(!Wi&&He&&He.handleField(si,it)?rr=He.value(si,it,ln,I):rr=gm(it,ln,I),rr){var pt=rr.value;if(Ir[it]=pt,Lr&&Lr(mt,it,rr),$r&&typeof pt=="object"&&!Wt(pt)){var Cn=mt;Cn&&(Cn=Cn.slice(),Cn.push(it)),Me(ln,pt,si+"."+it,tr,Cn,Lr,$r)}}}})}})}return h.__ieDyn=1,h}();function Yg(h,E,A,I,L){if(L&&E){var Y=h(L.value,L.kind,L.propertyType);if(Y>-1){var $=E[Uh];$||($=E[Uh]={f:{}});var te=$[Uv];if(te||(te=$[Uv]={}),A)for(var le=0;le<A.length;le++){var de=A[le];te[de]||(te[de]={f:{}});var Oe=te[de][Uv];Oe||(Oe=te[de][Uv]={}),te=Oe}te=te[I]={},Wt(L.value)?te.a={t:Y}:te.t=Y}}}function zp(h,E){return{set:function(A,I){for(var L=[],Y=2;Y<arguments.length;Y++)L[Y-2]=arguments[Y];return fh([h,E],A,I,L)}}}var If,Nc="sendAttempt",zo="&"+Ph+"=true",au="?cors=true&"+mo[qt]()+"="+Sf,xf=(If={},If[1]=vo,If[100]=vo,If[200]="sent",If[8004]=Nh,If[8003]=Nh,If),Fl={},qu={};function Yu(h,E,A){Fl[h]=E,A!==!1&&(qu[E]=h)}Yu(Ds,Ds,!1),Yu(Ch,Ch),Yu(Ss,"Client-Id"),Yu(xh,xh),Yu(Ih,Ih),Yu(Gd,Gd),Yu(ju,ju);function $p(h,E){var A=!1;if(h&&E){var I=Nr(h);if(I&&I[oe]>0)for(var L=E[qt](),Y=0;Y<I[oe];Y++){var $=I[Y];if($&&qr(E,$)&&$[qt]()===L){A=!0;break}}}return A}function Jd(h,E,A,I){E&&A&&A[oe]>0&&(I&&Fl[E]?(h[Cr][Fl[E]]=A,h[Rr]=!0):h.url+="&"+E+"="+A)}function zg(h,E,A){for(var I=0;I<h[oe];I++)if(h[I].name===E){h[I].value=A;return}h[lt]({name:E,value:A})}function Bh(h,E){for(var A=0;A<h[oe];A++)if(h[A].name===E){h[dr](A,1);return}}var Cc=function(){function h(E,A,I,L){var Y,$,te,le,de=!1,Oe,Je,He,ke,Ee,Ve,xe,rt,Me,Pe,Ze,Kt,tr,pr,Lr,$r,gn,ln,rr,si,it,mt,Ir,mr,Pt,Ur,Ot,Wi;ao(h,this,function(pt){Ja();var Cn=!0;pt[Ut]=function(o,l,v){mr||(Ee=l,Kt=l.getCookieMgr(),Je=v,He=Je.diagLog(),cd(si,Ks(o,function(w){var T,x=w.cfg,O=w.cfg.extensionConfig[v.identifier];Pt=zp(O[Nn],O[Ac]),Go(x.anonCookieName)?zg(xe,"anoncknm",x.anonCookieName):Bh(xe,"anoncknm"),it=O[ru],mt=O.payloadListener;var P=O.httpXHROverride,F=O[Df]?O[Df]:x.endpointUrl;Y=F+au,pr=ar(O[Il])?!0:!O[Il],Ze=!O[qd];var G=O.valueSanitizer,W=O[xl],J=!!x[Pl];ar(O[Pl])||(J=!!O[Pl]),Lr=O.xhrTimeout,$r=!!O[Yd],gn=!!O[Rl],rr=O[Be]!==!1,Ur=!!O[_t],l.getPlugin("LocalStorage")&&(gn=!0),de=!_i(),Pe=new Kd(Ee,G,W,J,Nl,Ur),et(O[Ht])||(de=!!O[Ht]),O[fn]&&(Wi=O[fn]);var Q=Ia();Ot?Ot.SetConfig(Q):(Ot=new pm,Ot[Ut](Q,He));var ae=P,ne=O[Pi]?P:null,be=O[Pi]?P:null,De=[3,2];if(!P){Ve=!1;var $e=[];_i()?($e=[2,1],De=[2,1,3]):$e=[1,2,3],$e=pc($e,O.transports),P=In($e,!1),P||Xs(He,"No available transport to send events"),ae=In($e,!0)}ne||(De=pc(De,O[Ri]),ne=In(De,!0)),ln=!Ve&&(de&&Td()||!gn&&nf(!0)),ke=(T={},T[0]=P,T[1]=ae||In([1,2,3],!0),T[2]=ne||ae||In([1],!0),T[3]=be||In([2,3],!0)||ae||In([1],!0),T)})),mr=!0)},pt.addResponseHandler=function(o){return Ir[lt](o),{rm:function(){var l=Ir.indexOf(o);l>=0&&Ir[dr](l,1)}}},pt[ai]=function(o){try{if(Pe)return Pe.getEventBlob(o)}catch{}return tu},pt[Na]=function(){try{var o=Pe&&Pe[Ts](0,!1,!1,!1,1,0);return jl(o,pr)}catch{}return null},pt[Tf]=function(o,l){try{var v=[];Sr(o,function(P){l&&(P=Uo(P));var F=Vd.create(P[st],[P]);v[lt](F)});for(var w=null;v[oe]>0&&Pe;){var T=v.shift();T&&T[xt]()>0&&(w=w||Pe[Ts](0,!1,!1,!1,1,0),Pe.appendPayload(w,T,E))}var x=jl(w,pr),O={data:w[Rv],urlString:x.url,headers:x[Cr],timeout:Lr,disableXhrSync:$r,disableFetchKeepAlive:gn};return pr&&($p(O[Gu],bs)||(O[Gu][bs]=Tc),$p(O[Gu],mo)||(O[Gu][mo]=Sf)),O}catch{}return null};function In(o,l){try{return Ot&&Ot.getSenderInst(o,l)}catch{}return null}pt._getDbgPlgTargets=function(){return[ke[0],$,Pe,ke,Ia(),Y]};function Ia(){try{var o={xdrOnComplete:Ic,fetchOnComplete:Bl,xhrOnComplete:Ns,beaconOnRetry:su},l={enableSendPromise:!1,isOneDs:!0,disableCredentials:!Cn,fetchCredentials:Wi,disableXhr:!1,disableBeacon:!de,disableBeaconSync:!de,disableFetchKeepAlive:gn,timeWrapper:Pt,addNoResponse:rr,senderOnCompleteCallBack:o};return l}catch{}return null}function Ic(o,l,v){var w=ua(o);$o(l,200,{},w),zu(w)}function Ja(){var o;Y=null,$=new ig,te=!1,le=new qg,de=!1,Oe=0,Je=null,He=null,ke=null,Ee=null,Ve=!0,xe=[],rt={},Me=[],Pe=null,Ze=!1,Kt=null,tr=!1,pr=!1,Lr=o,$r=o,gn=o,ln=o,rr=o,si=[],it=o,mt=o,Ir=[],mr=!1,Pt=zp(),Ur=!1,Ot=null}function Bl(o,l,v,w){var T=function(P,F,G){$o(l,P,F,G),zu(G)},x={},O=o[Gu];O&&O.forEach(function(P,F){x[F]=P}),T(o.status,x,v||tu)}function Ns(o,l,v){var w=ua(o);$o(l,o.status,mc(o,!0),w),zu(w)}function $o(o,l,v,w){try{o(l,v,w)}catch(T){bi(He,2,518,lr(T))}}function su(o,l,v){var w=o,T=200,x=w[zd],O=o[_m]+(rr?zo:tu);try{var P=mi();if(x){var F=!!Ee.getPlugin("LocalStorage"),G=[],W=[];Sr(x[oi],function(J){if(G&&J&&J[xt]()>0)for(var Q=J[er](),ae=0;ae<Q[oe];ae++)if(P.sendBeacon(O,Pe.getEventBlob(Q[ae])))W[lt](J[ae]);else{G[lt](J[vt](ae));break}else G[lt](J[vt](0))}),W[oe]>0&&(x.sentEvts=W),F||xa(G,8003,x[As],!0)}else T=0}catch(J){Xs(He,"Failed to send telemetry using sendBeacon API. Ex:"+lr(J)),T=0}finally{$o(l,T,{},tu)}}function ui(o){return o===2||o===3}function on(o){return tr&&ui(o)&&(o=2),o}pt[kv]=function(o,l){rt[o]=l},pt.removeHeader=function(o){delete rt[o]},pt[Em]=function(){return ci()&&le[C]()},pt[Rh]=function(o,l){ar(o)&&(o=0),tr&&(o=on(o),l=2),uu(Me,o,0)&&Za(Hi(),0,!1,o,l||0)},pt[wm]=function(){return!te&&Oe===0&&Me[oe]===0},pt[bm]=function(o){tr=o},pt.addBatch=function(o){if(o&&o[xt]()>0){if($.isTenantKilled(o[st]()))return!1;Me[lt](o)}return!0},pt.teardown=function(){Me[oe]>0&&Za(Hi(),0,!0,2,2),Sr(si,function(o){o&&o.rm&&o.rm()}),si=[]},pt.pause=function(){te=!0},pt[Sm]=function(){te=!1,pt[Rh](0,4)},pt[Dm]=function(o,l,v){o&&o[xt]()>0&&(et(l)&&(l=1),tr&&(l=on(l),v=2),Za([o],0,!1,l,v||0))};function ci(){return!te&&Oe<A}function Hi(){var o=Me;return Me=[],o}function uu(o,l,v){var w=!1;return o&&o[oe]>0&&!te&&ke[l]&&Pe&&(w=l!==0||ci()&&(v>0||le[C]())),w}function xc(o){var l={};return o&&Sr(o,function(v,w){l[w]={iKey:v[st](),evts:v[er]()}}),l}function Za(o,l,v,w,T){if(!(!o||o[oe]===0)){if(te){xa(o,1,w);return}w=on(w);try{var x=o,O=w!==0;Di(Ee,function(){return"HttpManager:_sendBatches"},function(P){P&&(o=o.slice(0));for(var F=[],G=null,W=qo(),J=ke[w]||(O?ke[1]:ke[0]),Q=J&&J[Af],ae=ln&&(tr||ui(w)||Q===3||J._isSync&&Q===2);uu(o,w,l);){var ne=o.shift();ne&&ne[xt]()>0&&($.isTenantKilled(ne[st]())?F[lt](ne):(G=G||Pe[Ts](l,v,O,ae,T,w),Pe.appendPayload(G,ne,E)?G.overflow!==null&&(o=[G.overflow][Se](o),G.overflow=null,Bv(G,W,qo(),T),W=qo(),G=null):(Bv(G,W,qo(),T),W=qo(),o=[ne][Se](o),G=null)))}G&&Bv(G,W,qo(),T),o[oe]>0&&(Me=o[Se](Me)),xa(F,8004,w)},function(){return{batches:xc(x),retryCount:l,isTeardown:v,isSynchronous:O,sendReason:T,useSendBeacon:ui(w),sendType:w}},!O)}catch(P){bi(He,2,48,"Unexpected Exception sending batch: "+lr(P))}}}function jl(o,l){var v={url:Y,hdrs:{},useHdrs:!1};l?(v[Cr]=Ud(v[Cr],rt),v.useHdrs=Nr(v.hdrs)[oe]>0):Wr(rt,function(P,F){qu[P]?Jd(v,qu[P],F,!1):(v[Cr][P]=F,v[Rr]=!0)}),Jd(v,Ss,"NO_AUTH",l),Jd(v,Ch,Up,l);var w=tu;Sr(o.apiKeys,function(P){w[oe]>0&&(w+=","),w+=P}),Jd(v,xh,w,l),Jd(v,Gd,Ma().toString(),l);var T=Yh(o);if(Go(T)&&(v.url+="&ext.intweb.msfpc="+T),le[Z]()&&Jd(v,Ih,le[re](),l),Ee[kl]){var x=Ee[kl]();x>=0&&(v.url+="&w="+x)}for(var O=0;O<xe[oe];O++)v.url+="&"+xe[O].name+"="+xe[O].value;return v}function cu(o,l,v){o[l]=o[l]||{},o[l][Je.identifier]=v}function Bv(o,l,v,w){if(o&&o.payloadBlob&&o.payloadBlob[oe]>0){var T=!!it,x=ke[o.sendType];!ui(o[As])&&o[nu]&&o.sendReason===2&&(x=ke[2]||ke[3]||x);var O=pr;(o.isBeacon||x[Af]===3)&&(O=!1);var P=jl(o,O);O=O||P[Rr];var F=qo();Di(Ee,function(){return"HttpManager:_doPayloadSend"},function(){for(var G=0;G<o.batches[oe];G++)for(var W=o[oi][G],J=W[er](),Q=0;Q<J[oe];Q++){var ae=J[Q];if(Ze){var ne=ae[Nf]=ae[Nf]||{};cu(ne,"sendEventStart",F),cu(ne,"serializationStart",l),cu(ne,"serializationCompleted",v)}ae[Nc]>0?ae[Nc]++:ae[Nc]=1}xa(o[oi],1e3+(w||0),o[As],!0);var be={data:o[Rv],urlString:P.url,headers:P[Cr],_thePayload:o,_sendReason:w,timeout:Lr,disableXhrSync:$r,disableFetchKeepAlive:gn};O&&($p(be[Gu],bs)||(be[Gu][bs]=Tc),$p(be[Gu],mo)||(be[Gu][mo]=Sf));var De=null;x&&(De=function($e){le[j]();var Xe=function(ur,hr){Gl(ur,hr,o,w)},ot=o[Tm]||o[Ov];try{x.sendPOST($e,Xe,ot),mt&&mt(be,$e,ot,o[nu])}catch(ur){Xs(He,"Unexpected exception sending payload. Ex:"+lr(ur)),$o(Xe,0,{})}}),Di(Ee,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(De)if(o[As]===0&&Oe++,T&&!o.isBeacon&&x[Af]!==3){var $e={data:be[kh],urlString:be[_m],headers:Ud({},be[Gu]),timeout:be[Oh],disableXhrSync:be[Yd],disableFetchKeepAlive:be[Rl]},Xe=!1;Di(Ee,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{it($e,function(ot){Xe=!0,!Ve&&!ot[zd]&&(ot[zd]=ot[zd]||be[zd],ot[$d]=ot[$d]||be[$d]),De(ot)},o.isSync||o[Tm])}catch{Xe||De(be)}})}else De(be)})},function(){return{thePayload:o,serializationStart:l,serializationCompleted:v,sendReason:w}},o[Ov])}o.sizeExceed&&o.sizeExceed[oe]>0&&xa(o.sizeExceed,8003,o[As]),o.failedEvts&&o.failedEvts[oe]>0&&xa(o.failedEvts,8002,o[As])}function Pc(o,l){Ze&&Sr(o,function(v){var w=v[Nf]=v[Nf]||{};cu(w,"sendEventCompleted",l)})}function Gl(o,l,v,w){var T=9e3,x=null,O=!1,P=!1;try{var F=!0;if(typeof o!==s){if(l){le[se](l[Gp]);var G=l[jd]||l["kill-duration-seconds"];Sr($[tg](l[Yo],G),function(J){Sr(v[oi],function(Q){if(Q[st]()===J){x=x||[];var ae=Q[vt](0);v.numEvents-=ae[xt](),x[lt](ae)}})})}if(o==200||o==204){T=200;return}(!Wd(o)||v.numEvents<=0)&&(F=!1),T=9e3+o%1e3}if(F){T=100;var W=v.retryCnt;v[As]===0&&(W<I?(O=!0,ql(function(){v[As]===0&&Oe--,Za(v[oi],W+1,v[Tm],tr?2:v[As],5)},tr,og(W))):(P=!0,tr&&(T=8001)))}}finally{O||(le[se](),Ai(v,T,w,P)),xa(x,8004,v[As])}}function Ai(o,l,v,w){try{w&&Je[Am]();var T=o[oi];l===200&&(T=o.sentEvts||o[oi],!w&&!o[Ov]&&Je._clearBackOff(),Kp(T)),xa(T,l,o[As],!0)}finally{o[As]===0&&(Oe--,v!==5&&pt.sendQueuedRequests(o[As],v))}}function Kp(o){if(Ze){var l=qo();Sr(o,function(v){v&&v[xt]()>0&&Pc(v[er](),l)})}}function ql(o,l,v){l?o():Pt.set(o,v)}function Yh(o){for(var l=0;l<o.batches[oe];l++){var v=o[oi][l].Msfpc();if(v)return encodeURIComponent(v)}return tu}function zu(o){var l=Ir;try{for(var v=0;v<l[oe];v++)try{l[v](o)}catch(T){bi(He,1,519,"Response handler failed: "+T)}if(o){var w=JSON.parse(o);Go(w.webResult)&&Go(w.webResult[p])&&Kt.set("MSFPC",w.webResult[p],365*86400)}}catch{}}function xa(o,l,v,w){if(o&&o[oe]>0&&L){var T=L[Yl(l)];if(T){var x=v!==0;Di(Ee,function(){return"HttpManager:_sendBatchesNotification"},function(){ql(function(){try{T.call(L,o,l,x,v)}catch(O){bi(He,1,74,"send request notification failed: "+O)}},w||x,0)},function(){return{batches:xc(o),reason:l,isSync:x,sendSync:w,sendType:v}},!x)}}}function Yl(o){var l=xf[o];return Go(l)||(l=Bd,o>=9e3&&o<=9999?l=Yn:o>=8e3&&o<=8999?l=Nh:o>=1e3&&o<=1999&&(l=Bu)),l}})}return h.__ieDyn=1,h}(),Im=.25,jh=500,Ul=20,Gh=6,qh=2,sg=4,ug=2,$g=1,Ca=1e4,ou="eventsDiscarded",Vp="",Xn=void 0,Wp=hi({eventsLimitInMem:{isVal:en,v:Ca},immediateEventLimit:{isVal:en,v:500},autoFlushEventsLimit:{isVal:en,v:0},disableAutoBatchFlushLimit:!1,httpXHROverride:{isVal:Hp,v:Xn},overrideInstrumentationKey:Xn,overrideEndpointUrl:Xn,disableTelemetry:!1,ignoreMc1Ms0CookieProcessing:!1,setTimeoutOverride:Xn,clearTimeoutOverride:Xn,payloadPreprocessor:Xn,payloadListener:Xn,disableEventTimings:Xn,valueSanitizer:Xn,stringifyObjects:Xn,enableCompoundKey:Xn,disableOptimizeObj:!1,fetchCredentials:Xn,transports:Xn,unloadTransports:Xn,useSendBeacon:Xn,disableFetchKeepAlive:Xn,avoidOptions:!1,xhrTimeout:Xn,disableXhrSync:Xn,alwaysUseXhrOverride:!1,maxEventRetryAttempts:{isVal:Jt,v:Gh},maxUnloadEventRetryAttempts:{isVal:Jt,v:qh},addNoResponse:Xn,excludeCsMetaData:Xn});function Hp(h){return h&&h.sendPOST}var Vg=function(h){Gi(E,h);function E(){var A=h.call(this)||this;A.identifier="PostChannel",A.priority=1011,A.version="4.3.4";var I,L=!1,Y=[],$,te=!1,le=0,de,Oe=0,Je,He={},ke=t,Ee,Ve,xe,rt,Me,Pe,Ze,Kt,tr,pr,Lr,$r,gn,ln,rr,si,it,mt,Ir,mr,Pt,Ur;return ao(E,A,function(Ot,Wi){on(),Ot._getDbgPlgTargets=function(){return[Me,I]},Ot[Ut]=function(P,F,G){Di(F,function(){return"PostChannel:initialize"},function(){Wi[Ut](P,F,G),Ir=F.getNotifyMgr();try{rr=Ld(Zn(Ot[qp]),F.evtNamespace&&F.evtNamespace()),Ot._addHook(Ks(P,function(W){var J=W.cfg,Q=vl(null,J,F);I=Q.getExtCfg(Ot[qp],Wp),si=zp(I[Nn],I[Ac]),Lr=!I[Cf]&&Ah(),it=I[Ly],Cn(F),Je=I[rg],de=I.immediateEventLimit,Ze=I[jg],gn=I.maxEventRetryAttempts,ln=I.maxUnloadEventRetryAttempts,mt=I[Nm],or(J.endpointUrl)?Ot.pause():te&&Ot[Sm](),O(),Pt=I[Fy],Ur=!!I[Ol],mr&&pt();var ae=J.disablePageUnloadEvents||[];mr=Cv(Ic,ae,rr),mr=Ti(Ic,ae,rr)||mr,mr=Sl(Ja,J.disablePageShowEvents,rr)||mr})),Me[Ut](P,Ot.core,Ot)}catch(W){throw Ot.setInitialized(!1),W}},function(){return{theConfig:P,core:F,extensions:G}})},Ot.processTelemetry=function(P,F){Cl(P,Ot[qp]),F=F||Ot._getTelCtx(F);var G=P;!Ur&&!L&&(Pt&&(G[st]=Pt),Ns(G,!0),$r?uu(2,2):ui()),Ot.processNext(G,F)},Ot.getOfflineSupport=function(){try{var P=Me&&Me[Na]();if(Me)return{getUrl:function(){return P?P.url:null},serialize:Ia,batch:In,shouldProcess:function(F){return!Ur},createPayload:function(F){return null},createOneDSPayload:function(F){if(Me[Tf])return Me[Tf](F,Lr)}}}catch{}return null},Ot._doTeardown=function(P,F){uu(2,2),L=!0,Me.teardown(),pt(),on()};function pt(){Iv(null,rr),wf(null,rr),mm(null,rr)}function Cn(P){var F=P[kl];P[kl]=function(){var G=0;return it&&(G=G|2),G|F.call(P)}}function In(P){var F=Vp;return P&&P[oe]&&Sr(P,function(G){F&&(F+=`
`),F+=G}),F}function Ia(P){var F=Vp;try{Bl(P),F=Me[ai](P)}catch{}return F}function Ic(P){var F=P||va().event;F.type!=="beforeunload"&&($r=!0,Me[bm]($r)),uu(2,2)}function Ja(P){$r=!1,Me[bm]($r)}function Bl(P){P.ext&&P.ext[y]&&delete P.ext[y],P.ext&&P.ext[b]&&P.ext[b].id&&delete P.ext[b].id,Lr&&(P.ext=Uo(P.ext),P[Mh]&&(P[Mh]=Uo(P[Mh])),P[kh]&&(P[kh]=Uo(P[kh])))}function Ns(P,F){if(P[Mv]||(P[Mv]=0),P[Ml]||(P[Ml]=1),Bl(P),P[Lh]){if(xe||te)P[Ml]=3,P[Lh]=!1;else if(Me){Lr&&(P=Uo(P)),Me[Dm](Vd.create(P[st],[P]),P[Lh]===!0?1:P[Lh],3);return}}var G=P[Ml],W=Oe,J=Je;G===4&&(W=le,J=de);var Q=!1;if(W<J)Q=!cu(P,F);else{var ae=1,ne=Ul;G===4&&(ae=4,ne=1),Q=!0,Bv(P[st],P[Ml],ae,ne)&&(Q=!cu(P,F))}Q&&Yl(ou,[P],Co.QueueFull)}Ot.setEventQueueLimits=function(P,F){I[rg]=Je=en(P)?P:Ca,I[jg]=Ze=en(F)?F:0,O();var G=Oe>P;if(!G&&Kt>0)for(var W=1;!G&&W<=3;W++){var J=Pe[W];J&&J[oi]&&Sr(J[oi],function(Q){Q&&Q[xt]()>=Kt&&(G=!0)})}jl(!0,G)},Ot.pause=function(){Hi(),te=!0,Me&&Me.pause()},Ot[Sm]=function(){te=!1,Me&&Me[Sm](),ui()},Ot._loadTransmitProfiles=function(P){ql(),Wr(P,function(F,G){var W=G[oe];if(W>=2){var J=W>2?G[2]:0;if(G[dr](0,W-2),G[1]<0&&(G[0]=-1),G[1]>0&&G[0]>0){var Q=G[0]/G[1];G[0]=Math.ceil(Q)*G[1]}J>=0&&G[1]>=0&&J>G[1]&&(J=G[1]),G[lt](J),He[F]=G}})},Ot.flush=function(P,F,G){P===void 0&&(P=!0);var W;if(!te)if(G=G||1,P)F||(W=$a(function(Q){F=Q})),$==null?(Hi(),Gl(1,0,G),$=ci(function(){$=null,Ai(F,G)},0)):Y[lt](F);else{var J=Hi();$o(1,1,G),F&&F(),J&&ui()}return W},Ot.setMsaAuthTicket=function(P){Me[kv](Ds,P)},Ot.setAuthPluginHeader=function(P){Me[kv](ym,P)},Ot.removeAuthPluginHeader=function(){Me.removeHeader(ym)},Ot.hasEvents=su,Ot._setTransmitProfile=function(P){ke!==P&&He[P]!==void 0&&(Hi(),ke=P,ui())},Qf(Ot,function(){return Me},["addResponseHandler"]);function $o(P,F,G){var W=Gl(P,F,G);return Me[Rh](F,G),W}function su(){return Oe>0}function ui(){if(tr>=0&&Gl(tr,0,pr)&&Me[Rh](0,pr),le>0&&!Ve&&!te){var P=He[ke][2];P>=0&&(Ve=ci(function(){Ve=null,$o(4,0,1),ui()},P))}var F=He[ke][1];!Ee&&!$&&F>=0&&!te&&(su()?Ee=ci(function(){Ee=null,$o(rt===0?3:1,0,1),rt++,rt%=2,ui()},F):rt=0)}Ot[Am]=function(){xe<sg&&(xe++,Hi(),ui())},Ot._clearBackOff=function(){xe&&(xe=0,Hi(),ui())};function on(){I=null,L=!1,Y=[],$=null,te=!1,le=0,de=500,Oe=0,Je=Ca,He={},ke=t,Ee=null,Ve=null,xe=0,rt=0,Pe={},Ze=0,mr=!1,Kt=0,tr=-1,pr=null,Lr=!0,$r=!1,gn=Gh,ln=qh,rr=null,Pt=null,Ur=!1,si=zp(),Me=new Cc(jh,ug,$g,{requeue:zu,send:l,sent:v,drop:w,rspFail:T,oth:x}),Yh(),xc(),O()}function ci(P,F){F===0&&xe&&(F=1);var G=1e3;return xe&&(G=og(xe-1)),si.set(P,F*G)}function Hi(){return Ee!==null?(Ee.cancel(),Ee=null,rt=0,!0):!1}function uu(P,F){Hi(),$&&($.cancel(),$=null),te||$o(1,P,F)}function xc(){Pe[4]={batches:[],iKeyMap:{}},Pe[3]={batches:[],iKeyMap:{}},Pe[2]={batches:[],iKeyMap:{}},Pe[1]={batches:[],iKeyMap:{}}}function Za(P,F,G){var W=Pe[F];W||(F=1,W=Pe[F]);var J=W.iKeyMap[P];return!J&&G&&(J=Vd.create(P),W.batches[lt](J),W.iKeyMap[P]=J),J}function jl(P,F){Me[Em]()&&!xe&&(Ze>0&&Oe>Ze&&(F=!0),F&&$==null&&Ot.flush(P,function(){},20))}function cu(P,F){Lr&&(P=Uo(P));var G=P[Ml],W=Za(P[st],G,!0);return W.addEvent(P)?(G!==4?(Oe++,F&&P[Mv]===0&&jl(!P.sync,Kt>0&&W[xt]()>=Kt)):le++,!0):!1}function Bv(P,F,G,W){for(;G<=F;){var J=Za(P,F,!0);if(J&&J[xt]()>0){var Q=J[vt](0,W),ae=Q[xt]();if(ae>0)return G===4?le-=ae:Oe-=ae,o(ou,[Q],Co.QueueFull),!0}G++}return Pc(),!1}function Pc(){for(var P=0,F=0,G=function(J){var Q=Pe[J];Q&&Q[oi]&&Sr(Q[oi],function(ae){J===4?P+=ae[xt]():F+=ae[xt]()})},W=1;W<=4;W++)G(W);Oe=F,le=P}function Gl(P,F,G){var W=!1,J=F===0;return!J||Me[Em]()?Di(Ot.core,function(){return"PostChannel._queueBatches"},function(){for(var Q=[],ae=4;ae>=P;){var ne=Pe[ae];ne&&ne.batches&&ne.batches[oe]>0&&(Sr(ne[oi],function(be){Me.addBatch(be)?W=W||be&&be[xt]()>0:Q=Q[Se](be[er]()),ae===4?le-=be[xt]():Oe-=be[xt]()}),ne[oi]=[],ne.iKeyMap={}),ae--}Q[oe]>0&&Yl(ou,Q,Co.KillSwitch),W&&tr>=P&&(tr=-1,pr=0)},function(){return{latency:P,sendType:F,sendReason:G}},!J):(tr=tr>=0?Math.min(tr,P):P,pr=Math.max(pr,G)),W}function Ai(P,F){$o(1,0,F),Pc(),Kp(function(){P&&P(),Y[oe]>0?$=ci(function(){$=null,Ai(Y.shift(),F)},0):($=null,ui())})}function Kp(P){Me[wm]()?P():$=ci(function(){$=null,Kp(P)},Im)}function ql(){Hi(),Yh(),ke=t,ui()}function Yh(){He={},He[t]=[2,1,0],He[r]=[6,3,0],He[n]=[18,9,0]}function zu(P,F){var G=[],W=gn;$r&&(W=ln),Sr(P,function(J){J&&J[xt]()>0&&Sr(J[er](),function(Q){Q&&(Q[Lh]&&(Q[Ml]=4,Q[Lh]=!1),Q[Mv]<W?(Cl(Q,Ot[qp]),Ns(Q,!1)):G[lt](Q))})}),G[oe]>0&&Yl(ou,G,Co.NonRetryableStatus),$r&&uu(2,2)}function xa(P,F){var G=Ir||{},W=G[P];if(W)try{W.apply(G,F)}catch(J){bi(Ot.diagLog(),1,74,P+" notification failed: "+J)}}function Yl(P,F){for(var G=[],W=2;W<arguments.length;W++)G[W-2]=arguments[W];F&&F[oe]>0&&xa(P,[F][Se](G))}function o(P,F){for(var G=[],W=2;W<arguments.length;W++)G[W-2]=arguments[W];F&&F[oe]>0&&Sr(F,function(J){J&&J[xt]()>0&&xa(P,[J.events()][Se](G))})}function l(P,F,G){P&&P[oe]>0&&xa("eventsSendRequest",[F>=1e3&&F<=1999?F-1e3:0,G!==!0])}function v(P,F){o("eventsSent",P,F),ui()}function w(P,F){o(ou,P,F>=8e3&&F<=8999?F-8e3:Co.Unknown)}function T(P){o(ou,P,Co.NonRetryableStatus),ui()}function x(P,F){o(ou,P,Co.Unknown),ui()}function O(){mt?Kt=0:Kt=Math.max(jh*(ug+1),Je/6)}}),A}return E.__ieDyn=1,E}(gl);e.BE_PROFILE=n,e.NRT_PROFILE=r,e.PostChannel=Vg,e.RT_PROFILE=t})});var p2=fr(Jh=>{"use strict";var qx=Jh&&Jh.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Yx=Jh&&Jh.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),d2=Jh&&Jh.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&qx(t,e,r);return Yx(t,e),t};Object.defineProperty(Jh,"__esModule",{value:!0});Jh.oneDataSystemClientFactory=void 0;var zx=async(e,t,r)=>{let n=await Promise.resolve().then(()=>d2(c2())),i=await Promise.resolve().then(()=>d2(l2())),a=new n.AppInsightsCore,s=new i.PostChannel,f={instrumentationKey:e,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[s]]};if(r){f.extensionConfig={};let D={alwaysUseXhrOverride:!0,httpXHROverride:r};f.extensionConfig[s.identifier]=D}let _=t.workspace.getConfiguration("telemetry").get("internalTesting");return a.initialize(f,[]),a.addTelemetryInitializer(D=>{D.ext=D.ext??{},D.ext.web=D.ext.web??{},D.ext.web.consentDetails='{"GPC_DataSharingOptIn":false}',_&&(D.ext.utc=D.ext.utc??{},D.ext.utc.flags=8462029)}),a},$x=async(e,t,r)=>{let n=await zx(e,t,r);return{logEvent:(s,f)=>{try{n==null||n.track({name:s,baseData:{name:s,properties:f==null?void 0:f.properties,measurements:f==null?void 0:f.measurements}})}catch(m){throw new Error(`Failed to log event to app insights!
`+m.message)}},flush:async()=>{try{return new Promise((f,m)=>{if(!n){f();return}n.flush(!0,_=>{if(!_){m("Failed to flush app 1DS!");return}})})}catch(s){throw new Error(`Failed to flush 1DS!
`+s.message)}},dispose:async()=>new Promise(f=>{if(!n){f();return}n.unload(!1,()=>{f(),n=void 0},1e3)})}};Jh.oneDataSystemClientFactory=$x});var v2=fr((n0,h2)=>{(function(e,t){typeof n0=="object"&&typeof h2<"u"?t(n0):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(n0,function(e){"use strict";function t(p,y){return p||y}function r(p,y){return p[y]}var n=void 0,i=null,a="",s="function",f="object",m="prototype",_="__proto__",D="undefined",k="constructor",U="Symbol",z="_polyfill",ee="length",H="name",K="call",X="toString",ue=t(Object),ce=r(ue,m),ge=t(String),Fe=r(ge,m),Ne=t(Math),he=t(Array),Ie=r(he,m),_e=r(Ie,"slice");function ze(p,y){try{return{v:p.apply(this,y)}}catch(b){return{e:b}}}function ct(p){return function(y){return typeof y===p}}function gr(p){var y="[object "+p+"]";return function(b){return!!(b&&Tr(b)===y)}}function Tr(p){return ce[X].call(p)}function kt(p){return typeof p===D||p===D}function Xr(p){return!Vr(p)}function Ue(p){return p===i||kt(p)}function Vr(p){return!!p||p!==n}var We=ct("string"),Qr=ct(s);function Gt(p){return!p&&Ue(p)?!1:!!p&&typeof p===f}var ar=r(he,"isArray"),Pr=gr("Error"),et=r(ue,"getOwnPropertyDescriptor");function kn(p,y){return!!p&&ce.hasOwnProperty[K](p,y)}var ft=t(r(ue,"hasOwn"),Ju);function Ju(p,y){return kn(p,y)||!!et(p,y)}function Vt(p,y,b){if(p&&Gt(p)){for(var C in p)if(ft(p,C)&&y[K](b||p,C,p[C])===-1)break}}var Zo={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function Wt(p){var y={};if(y[Zo.c]=!0,y[Zo.e]=!0,p.l){y.get=function(){return p.l.v};var b=et(p.l,"v");b&&b.set&&(y.set=function(C){p.l.v=C})}return Vt(p,function(C,j){y[Zo[C]]=Xr(j)?y[Zo[C]]:j}),y}var Jt=r(ue,"defineProperty");function ei(p,y,b){return Jt(p,y,Wt(b))}function or(p,y,b,C,j){var Z={};return Vt(p,function(re,se){pi(Z,re,y?se:re,j),pi(Z,se,b?se:re,j)}),C?C(Z):Z}function pi(p,y,b,C){Jt(p,y,{value:b,enumerable:!0,writable:!!C})}var qr=t(ge),Rs="[object Error]";function Rt(p,y){var b=a,C=ce[X][K](p);C===Rs&&(p={stack:qr(p.stack),message:qr(p.message),name:qr(p.name)});try{b=JSON.stringify(p,i,y?typeof y=="number"?y:4:n),b=(b?b.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):i)||qr(p)}catch(j){b=" - "+Rt(j,y)}return C+": "+b}function Wr(p){throw new Error(p)}function Un(p){throw new TypeError(p)}var On=r(ue,"freeze");function Hr(p){return p}function Mn(p){return p[_]||i}var ji=r(ue,"assign"),Jn=r(ue,"keys"),Mr=t(On,Hr),Ct=t(r(ue,"getPrototypeOf"),Mn);function lr(p){return or(p,1,0,Mr)}function tn(p){var y={};return Vt(p,function(b,C){pi(y,b,C[1]),pi(y,C[0],C[1])}),Mr(y)}function nd(p){return tn(p)}var ti="__tsUtils$gblCfg",Fc;function Ar(){var p;return typeof globalThis!==D&&(p=globalThis),!p&&typeof self!==D&&(p=self),!p&&typeof window!==D&&(p=window),!p&&typeof global!==D&&(p=global),p}function Nr(){if(!Fc){var p=ze(Ar).v||{};Fc=p[ti]=p[ti]||{}}return Fc}var hi=sr;function sr(p,y,b){var C=y?y[p]:i;return function(j){var Z=(j?j[p]:i)||C;if(Z||b){var re=arguments;return(Z||b).apply(j,Z?_e[K](re,1):re)}Un('"'+qr(p)+'" not defined for '+Rt(j))}}var bn=r(Ne,"max"),Bn=hi("slice",Fe),vi=hi("substring",Fe),Do=sr("substr",Fe,um);function um(p,y,b){return Ue(p)&&Un("Invalid "+Rt(p)),b<0?a:(y=y||0,y<0&&(y=bn(y+p[ee],0)),kt(b)?Bn(p,y):Bn(p,y,y+b))}function ap(p,y){return vi(p,0,y)}var mu="_urid",Uc;function ks(){if(!Uc){var p=Nr();Uc=p.gblSym=p.gblSym||{k:{},s:{}}}return Uc}function id(p){var y={description:qr(p),toString:function(){return U+"("+p+")"}};return y[z]=!0,y}function Bc(p){var y=ks();if(!ft(y.k,p)){var b=id(p),C=Jn(y.s).length;b[mu]=function(){return C+"_"+b[X]()},y.k[p]=b,y.s[b[mu]()]=qr(p)}return y.k[p]}var pa;function ad(){pa=Nr()}function Uf(p){return Jt({toJSON:function(){return p}},"v",{value:p})}var sh="window",ha;function op(p,y){var b;return function(){return!pa&&ad(),(!b||pa.lzy)&&(b=Uf(ze(p,y).v)),b.v}}function jc(p){return!pa&&ad(),(!ha||p===!1||pa.lzy)&&(ha=Uf(ze(Ar).v||i)),ha.v}function Ni(p,y){var b;if(!ha||y===!1?b=jc(y):b=ha.v,b&&b[p])return b[p];if(p===sh)try{return window}catch{}return i}var To=op(Ni,["document"]);function sp(){return!!od()}var od=op(Ni,[sh]);function up(){return!!pn()}var pn=op(Ni,["navigator"]),Ao,Xo;function jn(){return Ao=Uf(ze(Ni,[U]).v),Ao}function Qo(p){var y=(pa.lzy?0:Ao)||jn();return y.v?y.v[p]:n}function gu(p,y){!pa&&ad();var b=(pa.lzy?0:Ao)||jn();return b.v?b.v(p):y?i:id(p)}function ta(p){return!pa&&ad(),Xo=(pa.lzy?0:Xo)||Uf(ze(Qo,["for"]).v),(Xo.v||Bc)(p)}function hn(p,y,b){return p.apply(y,b)}function Gn(p,y,b){if(p)for(var C=p[ee]>>>0,j=0;j<C&&!(j in p&&y[K](b||p,p[j],j,p)===-1);j++);}var Zu=hi("indexOf",Ie),va=hi("map",Ie),Or=hi("reduce",Ie),mi=t(r(ue,"create"),sd);function sd(p){if(!p)return{};var y=typeof p;y!==f&&y!==s&&Un("Prototype must be an Object or function: "+Rt(p));function b(){}return b[m]=p,new b}var Ci;function es(p,y){var b=ue.setPrototypeOf||function(C,j){var Z;!Ci&&(Ci=Uf((Z={},Z[_]=[],Z instanceof Array))),Ci.v?C[_]=j:Vt(j,function(re,se){return C[re]=se})};return b(p,y)}function Gc(p,y,b){ze(ei,[y,H,{v:p,c:!0,e:!1}]),y=es(y,b);function C(){this[k]=y,ze(ei,[this,H,{v:p,c:!0,e:!1}])}return y[m]=b===i?mi(b):(C[m]=b[m],new C),y}function ts(p,y){y&&(p[H]=y)}function ud(p,y,b){var C=b||Error,j=C[m][H],Z=Error.captureStackTrace;return Gc(p,function(){var re=this,se=arguments;try{ze(ts,[C,p]);var oe=hn(C,re,_e[K](se))||re;if(oe!==re){var Se=Ct(re);Se!==Ct(oe)&&es(oe,Se)}return Z&&Z(oe,re[k]),y&&y(oe,se),oe}finally{ze(ts,[C,j])}},C)}function cn(){return(Date.now||Bf)()}function Bf(){return new Date().getTime()}function ra(p){return function(b){return Ue(b)&&Un("strTrim called ["+Rt(b)+"]"),b&&b.replace&&(b=b.replace(p,a)),b}}var cp=ra(/^\s+|(?=\s)\s+$/g),ma=sr("trim",Fe,cp),uh,ga,jf;function to(p){if(!p||typeof p!==f)return!1;jf||(jf=sp()?od():!0);var y=!1;if(p!==jf){ga||(uh=Function[m][X],ga=uh[K](ue));try{var b=Ct(p);y=!b,y||(kn(b,k)&&(b=b[k]),y=!!(b&&typeof b===s&&uh[K](b)===ga))}catch{}}return y}var cd;function Sr(){return!pa&&ad(),(!cd||pa.lzy)&&(cd=Uf(ze(Ni,["performance"]).v)),cd.v}var rs=sr("endsWith",Fe,fd);function fd(p,y,b){We(p)||Un("'"+Rt(p)+"' is not a string");var C=We(y)?y:qr(y),j=!kt(b)&&b<p[ee]?b:p[ee];return vi(p,j-C[ee],j)===C}var na=hi("indexOf",Fe),qc="ref",Ft="unref",ya="hasRef",Xu="enabled";function Gf(p,y,b){var C=!0,j=p?y(i):i,Z;function re(){return C=!1,j&&j[Ft]&&j[Ft](),Z}function se(){j&&b(j),j=i}function oe(){return j=y(j),C||re(),Z}function Se(st){!st&&j&&se(),st&&!j&&oe()}return Z={cancel:se,refresh:oe},Z[ya]=function(){return j&&j[ya]?j[ya]():C},Z[qc]=function(){return C=!0,j&&j[qc]&&j[qc](),Z},Z[Ft]=re,Z=Jt(Z,Xu,{get:function(){return!!j},set:Se}),{h:Z,dn:function(){j=i}}}function fv(p,y,b){var C=ar(y),j=C?y.length:0,Z=(j>0?y[0]:C?n:y)||setTimeout,re=(j>1?y[1]:n)||clearTimeout,se=b[0];b[0]=function(){oe.dn(),hn(se,n,_e[K](arguments))};var oe=Gf(p,function(Se){if(Se){if(Se.refresh)return Se.refresh(),Se;hn(re,n,[Se])}return hn(Z,n,b)},function(Se){hn(re,n,[Se])});return oe.h}function Ma(p,y){return fv(!0,n,_e[K](arguments))}var qf=lr,fp=nd,yu="toLowerCase",La="blkVal",gt="length",gi="rdOnly",_u="notify",Os="warnToConsole",lp="throwInternal",dp="setDf",ri="watch",_a="logger",pp="apply",Fa="push",ia="splice",cm="hdlr",lv="cancel",ch="name",Eu="unload",fh="version",eg="loggingLevelConsole",hp="messageId",Gi="message",Yf="diagLog",zf="userAgent",ro="split",Ea="nodeType",wu="replace",lh="logInternalMessage",Ua="type",vp="handler",Qu="traceId",Yc="spanId",$f="traceFlags",ld="getAttribute",mp;function dh(p,y){mp||(mp=ud("AggregationError",function(C,j){j[gt]>1&&(C.errors=j[1])}));var b=p||"One or more errors occurred.";throw Gn(y,function(C,j){b+=`
`.concat(j," > ").concat(Rt(C))}),new mp(b,y||[])}var ph="function",bu="object",gp="undefined",Ms="prototype",ec=Object,Ba=ec[Ms];(jc()||{}).Symbol,(jc()||{}).Reflect;var Vf="hasOwnProperty",dd=function(p){for(var y,b=1,C=arguments.length;b<C;b++){y=arguments[b];for(var j in y)Ba[Vf].call(y,j)&&(p[j]=y[j])}return p},zc=ji||dd,no=function(p,y){return no=ec.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,C){b.__proto__=C}||function(b,C){for(var j in C)C[Vf](j)&&(b[j]=C[j])},no(p,y)};function dv(p,y){typeof y!==ph&&y!==null&&Un("Class extends value "+String(y)+" is not a constructor or null"),no(p,y);function b(){this.constructor=p}p[Ms]=y===null?mi(y):(b[Ms]=y[Ms],new b)}var ns,No="constructor",io="prototype",Su="function",pd="_dynInstFuncs",$c="_isDynProxy",Vc="_dynClass",tc="_dynCls$",hd="_dynInstChk",Wf=hd,vd="_dfOpts",rc="_unknown_",ao="__proto__",Wc="_dyn"+ao,Co="__dynProto$Gbl",wa="_dynInstProto",is="useBaseInst",rn="setInstFuncs",Ls=Object,oo=Ls.getPrototypeOf,Hc=Ls.getOwnPropertyNames,Kc=jc(),as=Kc[Co]||(Kc[Co]={o:(ns={},ns[rn]=!0,ns[is]=!0,ns),n:1e3});function Hf(p){return p&&(p===Ls[io]||p===Array[io])}function os(p){return Hf(p)||p===Function[io]}function Du(p){var y;if(p){if(oo)return oo(p);var b=p[ao]||p[io]||(p[No]?p[No][io]:null);y=p[Wc]||b,kn(p,Wc)||(delete p[wa],y=p[Wc]=p[wa]||p[Wc],p[wa]=b)}return y}function aa(p,y){var b=[];if(Hc)b=Hc(p);else for(var C in p)typeof C=="string"&&kn(p,C)&&b.push(C);if(b&&b.length>0)for(var j=0;j<b.length;j++)y(b[j])}function yp(p,y,b){return y!==No&&typeof p[y]===Su&&(b||kn(p,y))&&y!==ao&&y!==io}function nc(p){Un("DynamicProto: "+p)}function qi(p){var y=mi(null);return aa(p,function(b){!y[b]&&yp(p,b,!1)&&(y[b]=p[b])}),y}function md(p,y){for(var b=p.length-1;b>=0;b--)if(p[b]===y)return!0;return!1}function _p(p,y,b,C){function j(oe,Se,st){var xt=Se[st];if(xt[$c]&&C){var er=oe[pd]||{};er[Wf]!==!1&&(xt=(er[Se[Vc]]||{})[st]||xt)}return function(){return xt.apply(oe,arguments)}}var Z=mi(null);aa(b,function(oe){Z[oe]=j(y,b,oe)});for(var re=Du(p),se=[];re&&!os(re)&&!md(se,re);)aa(re,function(oe){!Z[oe]&&yp(re,oe,!oo)&&(Z[oe]=j(y,re,oe))}),se.push(re),re=Du(re);return Z}function Kf(p,y,b,C){var j=null;if(p&&kn(b,Vc)){var Z=p[pd]||mi(null);if(j=(Z[b[Vc]]||mi(null))[y],j||nc("Missing ["+y+"] "+Su),!j[hd]&&Z[Wf]!==!1){for(var re=!kn(p,y),se=Du(p),oe=[];re&&se&&!os(se)&&!md(oe,se);){var Se=se[y];if(Se){re=Se===C;break}oe.push(se),se=Du(se)}try{re&&(p[y]=j),j[hd]=1}catch{Z[Wf]=!1}}}return j}function Jf(p,y,b){var C=y[p];return C===b&&(C=Du(y)[p]),typeof C!==Su&&nc("["+p+"] is not a "+Su),C}function Ep(p,y,b,C,j){function Z(oe,Se){var st=function(){var xt=Kf(this,Se,oe,st)||Jf(Se,oe,st);return xt.apply(this,arguments)};return st[$c]=1,st}if(!Hf(p)){var re=b[pd]=b[pd]||mi(null);if(!Hf(re)){var se=re[y]=re[y]||mi(null);re[Wf]!==!1&&(re[Wf]=!!j),Hf(se)||aa(b,function(oe){yp(b,oe,!1)&&b[oe]!==C[oe]&&(se[oe]=b[oe],delete b[oe],(!kn(p,oe)||p[oe]&&!p[oe][$c])&&(p[oe]=Z(p,oe)))})}}}function pv(p,y){if(oo){for(var b=[],C=Du(y);C&&!os(C)&&!md(b,C);){if(C===p)return!0;b.push(C),C=Du(C)}return!1}return!0}function ic(p,y){return kn(p,io)?p.name||y||rc:((p||{})[No]||{}).name||y||rc}function Io(p,y,b,C){kn(p,io)||nc("theClass is an invalid class definition.");var j=p[io];pv(j,y)||nc("["+ic(p)+"] not in hierarchy of ["+ic(y)+"]");var Z=null;kn(j,Vc)?Z=j[Vc]:(Z=tc+ic(p,"_")+"$"+as.n,as.n++,j[Vc]=Z);var re=Io[vd],se=!!re[is];se&&C&&C[is]!==void 0&&(se=!!C[is]);var oe=qi(y),Se=_p(j,y,oe,se);b(y,Se);var st=!!oo&&!!re[rn];st&&C&&(st=!!C[rn]),Ep(j,Z,y,oe,st!==!1)}Io[vd]=as.o;var so=void 0,En="",Zf="Not dynamic - ",ac=/-([a-z])/g,oc=/([^\w\d_$])/g,wp=/^(\d+[\w\d_$])/;function ja(p){return!Ue(p)}function Tu(p){var y=p;return y&&We(y)&&(y=y[wu](ac,function(b,C){return C.toUpperCase()}),y=y[wu](oc,"_"),y=y[wu](wp,function(b,C){return"_"+C})),y}function Fs(p,y){return p&&y?na(p,y)!==-1:!1}function vr(p){return p&&p.toISOString()||""}function xo(p){return Pr(p)?p[ch]:En}function ss(p){return function(){function y(){var b=this;p&&Vt(p,function(C,j){b[C]=j})}return y}()}var Ga="console",gd="JSON",qa="crypto",Au="msCrypto",vn="msie",oa="trident/",Yr=null,yt=null,sc=null;function Po(){return typeof console!==gp?console:Ni(Ga)}function Us(){return!!(typeof JSON===bu&&JSON||Ni(gd)!==null)}function uo(){return Us()?JSON||Ni(gd):null}function Nu(){return Ni(qa)}function Ya(){return Ni(Au)}function Kr(){var p=pn();if(p&&(p[zf]!==yt||Yr===null)){yt=p[zf];var y=(yt||En)[yu]();Yr=Fs(y,vn)||Fs(y,oa)}return Yr}function Ro(p){return(sc===null||p===!1)&&(sc=up()&&!!pn().sendBeacon),sc}function zr(p,y){if(p)for(var b=0;b<p[gt];b++){var C=p[b];if(C[ch]&&C[ch]===y)return C}return{}}function ko(p){var y=To();return y&&p?zr(y.querySelectorAll("meta"),p).content:null}function yd(p){var y,b=Sr();if(b){var C=b.getEntriesByType("navigation")||[];y=zr((C[gt]>0?C[0]:{}).serverTiming,p).description}return y}var Oo=4294967296,Ln=4294967295,co=123456789,us=987654321,Ii=!1,Yi=co,Jc=us;function uc(p){p<0&&(p>>>=0),Yi=co+p&Ln,Jc=us-p&Ln,Ii=!0}function _d(){try{var p=cn()&2147483647;uc((Math.random()*Oo^p)+p)}catch{}}function Bs(p){return p>0?Math.floor(Mo()/Ln*(p+1))>>>0:0}function Mo(p){var y=0,b=Nu()||Ya();return b&&b.getRandomValues&&(y=b.getRandomValues(new Uint32Array(1))[0]&Ln),y===0&&Kr()&&(Ii||_d(),y=Lo()&Ln),y===0&&(y=Math.floor(Oo*Math.random()|0)),p||(y>>>=0),y}function Lo(p){Jc=36969*(Jc&65535)+(Jc>>16)&Ln,Yi=18e3*(Yi&65535)+(Yi>>16)&Ln;var y=(Jc<<16)+(Yi&65535)>>>0&Ln|0;return p||(y>>>=0),y}function cc(p){p===void 0&&(p=22);for(var y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=Mo()>>>0,C=0,j=En;j[gt]<p;)C++,j+=y.charAt(b&63),b>>>=6,C===5&&(b=(Mo()<<2&4294967295|b&3)>>>0,C=0);return j}var Fo="3.3.4",qn="."+cc(6),Ed=0;function fc(p){return p[Ea]===1||p[Ea]===9||!+p[Ea]}function js(p,y){var b=y[p.id];if(!b){b={};try{fc(y)&&ei(y,p.id,{e:!1,v:b})}catch{}}return b}function ba(p,y){return y===void 0&&(y=!1),Tu(p+Ed+++(y?"."+Fo:En)+qn)}function cs(p){var y={id:ba("_aiData-"+(p||En)+"."+Fo),accept:function(b){return fc(b)},get:function(b,C,j,Z){var re=b[y.id];return re?re[Tu(C)]:(Z&&(re=js(y,b),re[Tu(C)]=j),j)},kill:function(b,C){if(b&&b[C])try{delete b[C]}catch{}}};return y}function Gs(p){return p&&Gt(p)&&(p.isVal||p.fb||ft(p,"v")||ft(p,"mrg")||ft(p,"ref")||p.set)}function za(p,y,b){var C,j=b.dfVal||Vr;if(y&&b.fb){var Z=b.fb;ar(Z)||(Z=[Z]);for(var re=0;re<Z[gt];re++){var se=Z[re],oe=y[se];if(j(oe)?C=oe:p&&(oe=p.cfg[se],j(oe)&&(C=oe),p.set(p.cfg,qr(se),oe)),j(C))break}}return!j(C)&&j(b.v)&&(C=b.v),C}function Zc(p,y,b){var C=b;if(b&&Gs(b)&&(C=za(p,y,b)),C){Gs(C)&&(C=Zc(p,y,C));var j;ar(C)?(j=[],j[gt]=C[gt]):to(C)&&(j={}),j&&(Vt(C,function(Z,re){re&&Gs(re)&&(re=Zc(p,y,re)),j[Z]=re}),C=j)}return C}function Cu(p,y,b,C){var j,Z,re,se=C,oe,Se,st,xt;Gs(se)?(j=se.isVal,Z=se.set,st=se[gi],xt=se[La],oe=se.mrg,Se=se.ref,!Se&&kt(Se)&&(Se=!!oe),re=za(p,y,se)):re=C,xt&&p[La](y,b);var er,lt=!0,vt=y[b];(vt||!Ue(vt))&&(er=vt,lt=!1,j&&er!==re&&!j(er)&&(er=re,lt=!0),Z&&(er=Z(er,re,y),lt=er===re)),lt?re?er=Zc(p,y,re):er=re:(to(er)||ar(re))&&oe&&re&&(to(re)||ar(re))&&Vt(re,function(dr,qt){Cu(p,er,dr,qt)}),p.set(y,b,er),Se&&p.ref(y,b),st&&p[gi](y,b)}var yi=ta("[[ai_dynCfg_1]]"),Iu=ta("[[ai_blkDynCfg_1]]"),qs=ta("[[ai_frcDynCfg_1]]");function $a(p){if(p){var y;if(ar(p)?(y=[],y[gt]=p[gt]):to(p)&&(y={}),y)return Vt(p,function(b,C){y[b]=$a(C)}),y}return p}function lc(p){if(p){var y=p[yi]||p;if(y.cfg&&(y.cfg===p||y.cfg[yi]===y))return y}return null}function mn(p){if(p&&(to(p)||ar(p)))try{p[Iu]=!0}catch{}return p}function ni(p,y,b){var C=!1;return b&&!p[y.blkVal]&&(C=b[qs],!C&&!b[Iu]&&(C=to(b)||ar(b))),C}function Va(p){Un("InvalidAccess:"+p)}var dc=["push","pop","shift","unshift","splice"],fs=function(p,y,b,C){p&&p[lp](3,108,"".concat(b," [").concat(y,"] failed - ")+Rt(C))};function bp(p,y,b){ar(y)&&Gn(dc,function(C){var j=y[C];y[C]=function(){for(var Z=[],re=0;re<arguments.length;re++)Z[re]=arguments[re];var se=j[pp](this,Z);return sa(p,y,b,"Patching"),se}})}function Sa(p,y){var b=et(p,y);return b&&b.get}function Xc(p,y,b,C){var j={n:b,h:[],trk:function(Se){Se&&Se.fn&&(Zu(j.h,Se)===-1&&j.h[Fa](Se),p.trk(Se,j))},clr:function(Se){var st=Zu(j.h,Se);st!==-1&&j.h[ia](st,1)}},Z=!0,re=!1;function se(){Z&&(re=re||ni(se,p,C),C&&!C[yi]&&re&&(C=sa(p,C,b,"Converting")),Z=!1);var Se=p.act;return Se&&j.trk(Se),C}se[p.prop]={chng:function(){p.add(j)}};function oe(Se){if(C!==Se){se[p.ro]&&!p.upd&&Va("["+b+"] is read-only:"+Rt(y)),Z&&(re=re||ni(se,p,C),Z=!1);var st=re&&se[p.rf];if(re)if(st){Vt(C,function(er){C[er]=Se?Se[er]:so});try{Vt(Se,function(er,lt){xi(p,C,er,lt)}),Se=C}catch(er){fs((p.hdlr||{})[_a],b,"Assigning",er),re=!1}}else C&&C[yi]&&Vt(C,function(er){var lt=Sa(C,er);if(lt){var vt=lt[p.prop];vt&&vt.chng()}});if(Se!==C){var xt=Se&&ni(se,p,Se);!st&&xt&&(Se=sa(p,Se,b,"Converting")),C=Se,re=xt}p.add(j)}}ei(y,j.n,{g:se,s:oe})}function xi(p,y,b,C){if(y){var j=Sa(y,b),Z=j&&!!j[p.prop];Z?y[b]=C:Xc(p,y,b,C)}return y}function wd(p,y,b,C){if(y){var j=Sa(y,b),Z=j&&!!j[p.prop],re=C&&C[0],se=C&&C[1],oe=C&&C[2];if(!Z){if(oe)try{mn(y)}catch(Se){fs((p.hdlr||{})[_a],b,"Blocking",Se)}try{xi(p,y,b,y[b]),j=Sa(y,b)}catch(Se){fs((p.hdlr||{})[_a],b,"State",Se)}}re&&(j[p.rf]=re),se&&(j[p.ro]=se),oe&&(j[p.blkVal]=!0)}return y}function sa(p,y,b,C){try{Vt(y,function(j,Z){xi(p,y,j,Z)}),y[yi]||(Jt(y,yi,{get:function(){return p[cm]}}),bp(p,y,b))}catch(j){fs((p.hdlr||{})[_a],b,C,j)}return y}var ls="[[ai_",ds="]]";function Sp(p){var y,b=gu(ls+"get"+p.uid+ds),C=gu(ls+"ro"+p.uid+ds),j=gu(ls+"rf"+p.uid+ds),Z=gu(ls+"blkVal"+p.uid+ds),re=gu(ls+"dtl"+p.uid+ds),se=null,oe=null,Se;function st(vt,dr){var qt=Se.act;try{Se.act=vt,vt&&vt[re]&&(Gn(vt[re],function(Rr){Rr.clr(vt)}),vt[re]=[]),dr({cfg:p.cfg,set:p.set.bind(p),setDf:p[dp].bind(p),ref:p.ref.bind(p),rdOnly:p[gi].bind(p)})}catch(Rr){var Cr=p[_a];throw Cr&&Cr[lp](1,107,Rt(Rr)),Rr}finally{Se.act=qt||null}}function xt(){if(se){var vt=se;se=null,oe&&oe[lv](),oe=null;var dr=[];if(Gn(vt,function(qt){if(qt&&(qt[re]&&(Gn(qt[re],function(Cr){Cr.clr(qt)}),qt[re]=null),qt.fn))try{st(qt,qt.fn)}catch(Cr){dr[Fa](Cr)}}),se)try{xt()}catch(qt){dr[Fa](qt)}dr[gt]>0&&dh("Watcher error(s): ",dr)}}function er(vt){if(vt&&vt.h[gt]>0){se||(se=[]),oe||(oe=Ma(function(){oe=null,xt()},0));for(var dr=0;dr<vt.h[gt];dr++){var qt=vt.h[dr];qt&&Zu(se,qt)===-1&&se[Fa](qt)}}}function lt(vt,dr){if(vt){var qt=vt[re]=vt[re]||[];Zu(qt,dr)===-1&&qt[Fa](dr)}}return Se=(y={prop:b,ro:C,rf:j},y[La]=Z,y[cm]=p,y.add=er,y[_u]=xt,y.use=st,y.trk=lt,y),Se}function Xf(p,y){var b={fn:y,rm:function(){b.fn=null,p=null,y=null}};return ei(b,"toJSON",{v:function(){return"WatcherHandler"+(b.fn?"":"[X]")}}),p.use(b,y),b}function bd(p,y,b){var C,j=lc(y);if(j)return j;var Z=ba("dyncfg",!0),re=y&&b!==!1?y:$a(y),se;function oe(){se[_u]()}function Se(Cr,Rr,Ut){try{Cr=xi(se,Cr,Rr,Ut)}catch(Nn){fs(p,Rr,"Setting value",Nn)}return Cr[Rr]}function st(Cr){return Xf(se,Cr)}function xt(Cr,Rr){se.use(null,function(Ut){var Nn=se.upd;try{kt(Rr)||(se.upd=Rr),Cr(Ut)}finally{se.upd=Nn}})}function er(Cr,Rr){var Ut;return wd(se,Cr,Rr,(Ut={},Ut[0]=!0,Ut))[Rr]}function lt(Cr,Rr){var Ut;return wd(se,Cr,Rr,(Ut={},Ut[1]=!0,Ut))[Rr]}function vt(Cr,Rr){var Ut;return wd(se,Cr,Rr,(Ut={},Ut[2]=!0,Ut))[Rr]}function dr(Cr,Rr){return Rr&&Vt(Rr,function(Ut,Nn){Cu(qt,Cr,Ut,Nn)}),Cr}var qt=(C={uid:null,cfg:re},C[_a]=p,C[_u]=oe,C.set=Se,C[dp]=dr,C[ri]=st,C.ref=er,C[gi]=lt,C[La]=vt,C._block=xt,C);return ei(qt,"uid",{c:!1,e:!1,w:!1,v:Z}),se=Sp(qt),sa(se,re,"config","Creating"),qt}function Qf(p,y){p?(p[Os](y),p[lp](2,108,y)):Va(y)}function Uo(p,y,b,C){var j=bd(b,p||{},C);return y&&j[dp](j.cfg,y),j}function ua(p,y,b){var C=p[yi]||p;return C.cfg&&(C.cfg===p||C.cfg[yi]===C)?C[ri](y):(Qf(b,Zf+Rt(p)),Uo(p,null,b)[ri](y))}var Qc=null;function hv(){var p=Ni("Microsoft");return p&&(Qc=p.ApplicationInsights),Qc}function pc(p){var y=Qc;return!y&&p.disableDbgExt!==!0&&(y=Qc||hv()),y?y.ChromeDbgExt:null}var hc,ps="warnToConsole",el="AI (Internal): ",fm="AI: ",Dp="AITR_",tl={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},vc=(hc={},hc[0]=null,hc[1]="errorToConsole",hc[2]=ps,hc[3]="debugToConsole",hc);function hh(p){return p?'"'+p[wu](/\"/g,En)+'"':En}function vv(p,y){var b=Po();if(b){var C="log";b[p]&&(C=p),Qr(b[C])&&b[C](y)}}var mc=function(){function p(y,b,C,j){C===void 0&&(C=!1);var Z=this;Z[hp]=y,Z[Gi]=(C?fm:el)+y;var re=En;Us()&&(re=uo().stringify(j));var se=(b?" message:"+hh(b):En)+(j?" props:"+hh(re):En);Z[Gi]+=se}return p.dataType="MessageData",p}();function mv(p,y){return(p||{})[_a]||new rl(y)}var rl=function(){function p(y){this.identifier="DiagnosticLogger",this.queue=[];var b=0,C={},j,Z,re,se,oe;Io(p,this,function(Se){oe=xt(y||{}),Se.consoleLoggingLevel=function(){return j},Se[lp]=function(vt,dr,qt,Cr,Rr){Rr===void 0&&(Rr=!1);var Ut=new mc(dr,qt,Rr,Cr);if(se)throw Rt(Ut);var Nn=vc[vt]||ps;if(kt(Ut[Gi]))lt("throw"+(vt===1?"Critical":"Warning"),Ut);else{if(Rr){var Ac=+Ut[hp];!C[Ac]&&j>=vt&&(Se[Nn](Ut[Gi]),C[Ac]=!0)}else j>=vt&&Se[Nn](Ut[Gi]);st(vt,Ut)}},Se.debugToConsole=function(vt){vv("debug",vt),lt("warning",vt)},Se[Os]=function(vt){vv("warn",vt),lt("warning",vt)},Se.errorToConsole=function(vt){vv("error",vt),lt("error",vt)},Se.resetInternalMessageCount=function(){b=0,C={}},Se[lh]=st,Se[Eu]=function(vt){oe&&oe.rm(),oe=null};function st(vt,dr){if(!er()){var qt=!0,Cr=Dp+dr[hp];if(C[Cr]?qt=!1:C[Cr]=!0,qt&&(vt<=Z&&(Se.queue[Fa](dr),b++,lt(vt===1?"error":"warn",dr)),b===re)){var Rr="Internal events throttle limit per PageView reached for this app.",Ut=new mc(23,Rr,!1);Se.queue[Fa](Ut),vt===1?Se.errorToConsole(Rr):Se[Os](Rr)}}}function xt(vt){return ua(Uo(vt,tl,Se).cfg,function(dr){var qt=dr.cfg;j=qt[eg],Z=qt.loggingLevelTelemetry,re=qt.maxMessageLimit,se=qt.enableDebug})}function er(){return b>=re}function lt(vt,dr){var qt=pc(y||{});qt&&qt[Yf]&&qt[Yf](vt,dr)}})}return p.__ieDyn=1,p}();function Tp(p){return p||new rl}function fo(p,y,b,C,j,Z){Z===void 0&&(Z=!1),Tp(p)[lp](y,b,C,j,Z)}function vh(){for(var p=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],y=En,b,C=0;C<4;C++)b=Mo(),y+=p[b&15]+p[b>>4&15]+p[b>>8&15]+p[b>>12&15]+p[b>>16&15]+p[b>>20&15]+p[b>>24&15]+p[b>>28&15];var j=p[8+(Mo()&3)|0];return Do(y,0,8)+Do(y,9,4)+"4"+Do(y,13,3)+j+Do(y,16,3)+Do(y,19,12)}var lm=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,Sd="00",mh="ff",Ap="00000000000000000000000000000000",ef="0000000000000000",Dd=1;function gc(p,y,b){return p&&p[gt]===y&&p!==b?!!p.match(/^[\da-f]*$/i):!1}function Ys(p,y,b){return gc(p,y)?p:b}function tf(p){(isNaN(p)||p<0||p>255)&&(p=1);for(var y=p.toString(16);y[gt]<2;)y="0"+y;return y}function gv(p,y,b,C){var j;return j={},j[fh]=gc(C,2,mh)?C:Sd,j[Qu]=rf(p)?p:vh(),j[Yc]=Cp(y)?y:ap(vh(),16),j.traceFlags=b>=0&&b<=255?b:1,j}function Np(p,y){var b;if(!p||(ar(p)&&(p=p[0]||""),!p||!We(p)||p[gt]>8192))return null;if(p.indexOf(",")!==-1){var C=p[ro](",");p=C[y>0&&C[gt]>y?y:0]}var j=lm.exec(ma(p));return!j||j[1]===mh||j[2]===Ap||j[3]===ef?null:(b={version:(j[1]||En)[yu](),traceId:(j[2]||En)[yu](),spanId:(j[3]||En)[yu]()},b[$f]=parseInt(j[4],16),b)}function rf(p){return gc(p,32,Ap)}function Cp(p){return gc(p,16,ef)}function zs(p){return!(!p||!gc(p[fh],2,mh)||!gc(p[Qu],32,Ap)||!gc(p[Yc],16,ef)||!gc(tf(p[$f]),2))}function Jr(p){return zs(p)?(p[$f]&Dd)===Dd:!1}function yc(p){if(p){var y=tf(p[$f]);gc(y,2)||(y="01");var b=p[fh]||Sd;return b!=="00"&&b!=="ff"&&(b=Sd),"".concat(b.toLowerCase(),"-").concat(Ys(p.traceId,32,Ap).toLowerCase(),"-").concat(Ys(p.spanId,16,ef).toLowerCase(),"-").concat(y.toLowerCase())}return""}function _i(p){var y="traceparent",b=Np(ko(y),p);return b||(b=Np(yd(y),p)),b}function Ip(p){var y=p.getElementsByTagName("script"),b=[];return Gn(y,function(C){var j=C[ld]("src");if(j){var Z=C[ld]("crossorigin"),re=C.hasAttribute("async")===!0,se=C.hasAttribute("defer")===!0,oe=C[ld]("referrerpolicy"),Se={url:j};Z&&(Se.crossOrigin=Z),re&&(Se.async=re),se&&(Se.defer=se),oe&&(Se.referrerPolicy=oe),b[Fa](Se)}}),b}var Td="on",nf="attachEvent",_c="addEventListener",ca="detachEvent",Ad="removeEventListener",ii="events";ba("aiEvtPageHide"),ba("aiEvtPageShow");var Er=/\.[\.]+/g,$s=/[\.]+$/,Sn=1,hs=cs("events"),Ec=/^([^.]*)(?:\.(.+)|)/;function wc(p){return p&&p[wu]?p[wu](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,En):p}function Vs(p,y){var b;if(y){var C=En;ar(y)?(C=En,Gn(y,function(Z){Z=wc(Z),Z&&(Z[0]!=="."&&(Z="."+Z),C+=Z)})):C=wc(y),C&&(C[0]!=="."&&(C="."+C),p=(p||En)+C)}var j=Ec.exec(p||En)||[];return b={},b[Ua]=j[1],b.ns=(j[2]||En).replace(Er,".").replace($s,En)[ro](".").sort().join("."),b}function lo(p,y,b){b===void 0&&(b=!0);var C=hs.get(p,ii,{},b),j=C[y];return j||(j=C[y]=[]),j}function nl(p,y,b,C){p&&y&&y[Ua]&&(p[Ad]?p[Ad](y[Ua],b,C):p[ca]&&p[ca](Td+y[Ua],b))}function gh(p,y,b,C){var j=!1;return p&&y&&y[Ua]&&b&&(p[_c]?(p[_c](y[Ua],b,C),j=!0):p[nf]&&(p[nf](Td+y[Ua],b),j=!0)),j}function il(p,y,b,C){for(var j=y[gt];j--;){var Z=y[j];Z&&(!b.ns||b.ns===Z.evtName.ns)&&(!C||C(Z))&&(nl(p,Z.evtName,Z[vp],Z.capture),y[ia](j,1))}}function yh(p,y,b){if(y[Ua])il(p,lo(p,y[Ua]),y,b);else{var C=hs.get(p,ii,{});Vt(C,function(j,Z){il(p,Z,y,b)}),Jn(C)[gt]===0&&hs.kill(p,ii)}}function al(p,y){var b;return y?(ar(y)?b=[p].concat(y):b=[p,y],b=Vs("xx",b).ns[ro](".")):b=p,b}function af(p,y,b,C,j){var Z;j===void 0&&(j=!1);var re=!1;if(p)try{var se=Vs(y,C);if(re=gh(p,se,b,j),re&&hs.accept(p)){var oe=(Z={guid:Sn++,evtName:se},Z[vp]=b,Z.capture=j,Z);lo(p,se.type)[Fa](oe)}}catch{}return re}function xp(p,y,b,C,j){if(j===void 0&&(j=!1),p)try{var Z=Vs(y,C),re=!1;yh(p,Z,function(se){return Z.ns&&!b||se[vp]===b?(re=!0,!0):!1}),re||nl(p,Z,b,j)}catch{}}var Zn="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",of="sampleRate",Ei="ProcessLegacy",xu="http.method",Pp="https://dc.services.visualstudio.com",Nd="/v2/track",wi="not_specified",Cd="iKey",Rp=fp({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),Ws="split",It="length",vs="toLowerCase",ms="ingestionendpoint",Da="toString",ol="push",sf="removeItem",gs="name",Wa="message",uf="count",Id="preTriggerDate",Hs="disabled",sl="interval",cf="daysOfMonth",ul="date",kp="getUTCDate",Op="stringify",_h="pathname",dm="correlationHeaderExcludePatterns",ys="extensionConfig",Ks="exceptions",_s="parsedStack",Ha="properties",Js="measurements",Pu="sizeInBytes",Ta="typeName",ff="severityLevel",yv="problemGroup",bc="isManual",Eh="CreateFromInterface",cl="assembly",lf="fileName",fl="hasFullStack",Zs="level",Ka="method",df="line",ll="duration",xd="receivedResponse";function bi(p,y,b){var C=y[It],j=Xs(p,y);if(j[It]!==C){for(var Z=0,re=j;b[re]!==void 0;)Z++,re=vi(j,0,147)+pl(Z);j=re}return j}function Xs(p,y){var b;return y&&(y=ma(qr(y)),y[It]>150&&(b=vi(y,0,150),fo(p,2,57,"name is too long.  It has been truncated to 150 characters.",{name:y},!0))),b||y}function Si(p,y,b){b===void 0&&(b=1024);var C;return y&&(b=b||1024,y=ma(qr(y)),y[It]>b&&(C=vi(y,0,b),fo(p,2,61,"string value is too long. It has been truncated to "+b+" characters.",{value:y},!0))),C||y}function Pd(p,y){return dl(p,y,2048,66)}function Ru(p,y){var b;return y&&y[It]>32768&&(b=vi(y,0,32768),fo(p,2,56,"message is too long, it has been truncated to 32768 characters.",{message:y},!0)),b||y}function Rd(p,y){var b;if(y){var C=""+y;C[It]>32768&&(b=vi(C,0,32768),fo(p,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:y},!0))}return b||y}function zi(p,y){if(y){var b={};Vt(y,function(C,j){if(Gt(j)&&Us())try{j=uo()[Op](j)}catch(Z){fo(p,2,49,"custom property is not valid",{exception:Z},!0)}j=Si(p,j,8192),C=bi(p,C,b),b[C]=j}),y=b}return y}function Di(p,y){if(y){var b={};Vt(y,function(C,j){C=bi(p,C,b),b[C]=j}),y=b}return y}function wh(p,y){return y&&dl(p,y,128,69)[Da]()}function dl(p,y,b,C){var j;return y&&(y=ma(qr(y)),y[It]>b&&(j=vi(y,0,b),fo(p,2,C,"input is too long, it has been truncated to "+b+" characters.",{data:y},!0))),j||y}function pl(p){var y="00"+p;return Do(y,y[It]-3)}var ku=To()||{},_v=0,Ev=[null,null,null,null,null];function hl(p){var y=_v,b=Ev,C=b[y];return ku.createElement?b[y]||(C=b[y]=ku.createElement("a")):C={host:wv(p,!0)},C.href=p,y++,y>=b[It]&&(y=0),_v=y,C}function bh(p){var y,b=hl(p);return b&&(y=b.href),y}function vl(p){var y,b=hl(p);return b&&(y=b[_h]),y}function Sh(p,y){return p?p.toUpperCase()+" "+y:y}function wv(p,y){var b=ml(p,y)||"";if(b){var C=b.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(C!=null&&C[It]>3&&We(C[2])&&C[2][It]>0)return C[2]+(C[3]||"")}return b}function ml(p,y){var b=null;if(p){var C=p.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(C!=null&&C[It]>2&&We(C[2])&&C[2][It]>0&&(b=C[2]||"",y&&C[It]>2)){var j=(C[1]||"")[vs](),Z=C[3]||"";(j==="http"&&Z===":80"||j==="https"&&Z===":443")&&(Z=""),b+=Z}}return b}var bv=[Pp+Nd,"https://breeze.aimon.applicationinsights.io"+Nd,"https://dc-int.services.visualstudio.com"+Nd],Ou="cid-v1:";function pf(p){return Zu(bv,p[vs]())!==-1}function Mp(p){Ou=p}function Es(){return Ou}function kd(p,y,b){if(!y||p&&p.disableCorrelationHeaders)return!1;if(p&&p[dm]){for(var C=0;C<p.correlationHeaderExcludePatterns[It];C++)if(p[dm][C].test(y))return!1}var j=hl(y).host[vs]();if(j&&(na(j,":443")!==-1||na(j,":80")!==-1)&&(j=(ml(y,!0)||"")[vs]()),(!p||!p.enableCorsCorrelation)&&j&&j!==b)return!1;var Z=p&&p.correlationHeaderDomains;if(Z){var re;if(Gn(Z,function(Se){var st=new RegExp(Se.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));re=re||st.test(j)}),!re)return!1}var se=p&&p.correlationHeaderExcludedDomains;if(!se||se[It]===0)return!0;for(var C=0;C<se[It];C++){var oe=new RegExp(se[C].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(oe.test(j))return!1}return j&&j[It]>0}function gl(p){if(p){var y=Bo(p,Rp[1]);if(y&&y!==Ou)return y}}function Bo(p,y){if(p)for(var b=p[Ws](","),C=0;C<b[It];++C){var j=b[C][Ws]("=");if(j[It]===2&&j[0]===y)return j[1]}}function hf(p,y,b,C){var j,Z=C,re=C;if(y&&y[It]>0){var se=hl(y);if(j=se.host,!Z)if(se[_h]!=null){var oe=se.pathname[It]===0?"/":se[_h];oe.charAt(0)!=="/"&&(oe="/"+oe),re=se[_h],Z=Si(p,b?b+" "+oe:oe)}else Z=Si(p,y)}else j=C,Z=C;return{target:j,name:Z,data:re}}function Sv(){var p=Sr();if(p&&p.now&&p.timing){var y=p.now()+p.timing.navigationStart;if(y>0)return y}return cn()}function vf(p,y){var b=null;return p!==0&&y!==0&&!Ue(p)&&!Ue(y)&&(b=y-p),b}function pm(p,y){var b=p||{};return{getName:function(){return b[gs]},setName:function(C){y&&y.setName(C),b[gs]=C},getTraceId:function(){return b.traceID},setTraceId:function(C){y&&y.setTraceId(C),rf(C)&&(b.traceID=C)},getSpanId:function(){return b.parentID},setSpanId:function(C){y&&y.setSpanId(C),Cp(C)&&(b.parentID=C)},getTraceFlags:function(){return b.traceFlags},setTraceFlags:function(C){y&&y.setTraceFlags(C),b.traceFlags=C}}}var yl=qf({LocalStorage:0,SessionStorage:1}),Dv=qf({AI:0,AI_AND_W3C:1,W3C:2}),Dh=qf({Normal:1,Critical:2}),Mu=void 0,Lu=void 0,mf="";function ws(){return Aa()?Qs(yl.LocalStorage):null}function Qs(p){try{if(Ue(jc()))return null;var y=new Date()[Da](),b=Ni(p===yl.LocalStorage?"localStorage":"sessionStorage"),C=mf+y;b.setItem(C,y);var j=b.getItem(C)!==y;if(b[sf](C),!j)return b}catch{}return null}function _l(){return gf()?Qs(yl.SessionStorage):null}function Od(){Mu=!1,Lu=!1}function Md(p){mf=p||""}function El(){Mu=Aa(!0),Lu=gf(!0)}function Aa(p){return(p||Mu===void 0)&&(Mu=!!Qs(yl.LocalStorage)),Mu}function wl(p,y){var b=ws();if(b!==null)try{return b.getItem(y)}catch(C){Mu=!1,fo(p,2,1,"Browser failed read of local storage. "+xo(C),{exception:Rt(C)})}return null}function Tv(p,y,b){var C=ws();if(C!==null)try{return C.setItem(y,b),!0}catch(j){Mu=!1,fo(p,2,3,"Browser failed write to local storage. "+xo(j),{exception:Rt(j)})}return!1}function hm(p,y){var b=ws();if(b!==null)try{return b[sf](y),!0}catch(C){Mu=!1,fo(p,2,5,"Browser failed removal of local storage item. "+xo(C),{exception:Rt(C)})}return!1}function gf(p){return(p||Lu===void 0)&&(Lu=!!Qs(yl.SessionStorage)),Lu}function vm(){var p=[];return gf()&&Vt(Ni("sessionStorage"),function(y){p[ol](y)}),p}function jo(p,y){var b=_l();if(b!==null)try{return b.getItem(y)}catch(C){Lu=!1,fo(p,2,2,"Browser failed read of session storage. "+xo(C),{exception:Rt(C)})}return null}function Fu(p,y,b){var C=_l();if(C!==null)try{return C.setItem(y,b),!0}catch(j){Lu=!1,fo(p,2,4,"Browser failed write to session storage. "+xo(j),{exception:Rt(j)})}return!1}function yf(p,y){var b=_l();if(b!==null)try{return b[sf](y),!0}catch(C){Lu=!1,fo(p,2,6,"Browser failed removal of session storage item. "+xo(C),{exception:Rt(C)})}return!1}var Av="appInsightsThrottle",Lp=function(){function p(y,b){var C=this,j,Z,re,se,oe,Se,st,xt=!1,er=!1;vt(),C._getDbgPlgTargets=function(){return[st]},C.getConfig=function(){return re},C.canThrottle=function(Be){var _t=Pl(Be),Ht=dr(Be);return Rr(Ht,j,_t)},C.isTriggered=function(Be){return Yd(Be)},C.isReady=function(){return xt},C.flush=function(Be){try{var _t=Rl(Be);if(_t&&_t[It]>0){var Ht=_t.slice(0);return st[Be]=[],Gn(Ht,function(fn){lt(fn.msgID,fn[Wa],fn.severity,!1)}),!0}}catch{}return!1},C.flushAll=function(){try{if(st){var Be=!0;return Vt(st,function(_t){var Ht=C.flush(parseInt(_t));Be=Be&&Ht}),Be}}catch{}return!1},C.onReadyState=function(Be,_t){return _t===void 0&&(_t=!0),xt=Ue(Be)?!0:Be,xt&&_t?C.flushAll():null},C.sendMessage=function(Be,_t,Ht){return lt(Be,_t,Ht,!0)};function lt(Be,_t,Ht,fn){if(xt){var Pi=xl(Be);if(!Pi)return;var Ri=dr(Be),ai=Pl(Be),Na=Rr(Ri,j,ai),Ts=!1,Tf=0,Rv=Yd(Be);try{Na&&!Rv?(Tf=Math.min(Ri.limit.maxSendNumber,ai[uf]+1),ai[uf]=0,Ts=!0,oe[Be]=!0,ai[Id]=new Date):(oe[Be]=Na,ai[uf]+=1);var Gu=Ut(Be);Df(Z,Gu,ai);for(var zd=0;zd<Tf;zd++)qd(Be,Z,_t,Ht)}catch{}return{isThrottled:Ts,throttleNum:Tf}}else if(fn){var _m=Rl(Be);_m[ol]({msgID:Be,message:_t,severity:Ht})}return null}function vt(){Z=mv(y),oe={},se={},st={},re={},qt(109),Se=ja(b)?b:"",y.addUnloadHook(ua(y.config,function(Be){var _t=Be.cfg;j=Aa();var Ht=_t.throttleMgrCfg||{};Vt(Ht,function(fn,Pi){qt(parseInt(fn),Pi)})}))}function dr(Be){return re[Be]||re[109]}function qt(Be,_t){var Ht,fn;try{var Pi=_t||{},Ri={};Ri[Hs]=!!Pi[Hs];var ai=Pi[sl]||{};er=(ai==null?void 0:ai.daysOfMonth)&&(ai==null?void 0:ai.daysOfMonth[It])>0,Ri[sl]=Cr(ai);var Na={samplingRate:((Ht=Pi.limit)===null||Ht===void 0?void 0:Ht.samplingRate)||100,maxSendNumber:((fn=Pi.limit)===null||fn===void 0?void 0:fn.maxSendNumber)||1};Ri.limit=Na,re[Be]=Ri}catch{}}function Cr(Be){Be=Be||{};var _t=Be==null?void 0:Be.monthInterval,Ht=Be==null?void 0:Be.dayInterval;return Ue(_t)&&Ue(Ht)&&(Be.monthInterval=3,er||(Be[cf]=[28],er=!0)),Be={monthInterval:Be==null?void 0:Be.monthInterval,dayInterval:Be==null?void 0:Be.dayInterval,daysOfMonth:Be==null?void 0:Be.daysOfMonth},Be}function Rr(Be,_t,Ht){if(Be&&!Be[Hs]&&_t&&ja(Ht)){var fn=ru(),Pi=Ht[ul],Ri=Be[sl],ai=1;if(Ri!=null&&Ri.monthInterval){var Na=(fn.getUTCFullYear()-Pi.getUTCFullYear())*12+fn.getUTCMonth()-Pi.getUTCMonth();ai=Il(Ri.monthInterval,0,Na)}var Ts=1;if(er)Ts=Zu(Ri[cf],fn[kp]());else if(Ri!=null&&Ri.dayInterval){var Tf=Math.floor((fn.getTime()-Pi.getTime())/864e5);Ts=Il(Ri.dayInterval,0,Tf)}return ai>=0&&Ts>=0}return!1}function Ut(Be,_t){var Ht=ja(_t)?_t:"";return Be?Av+Ht+"-"+Be:null}function Nn(Be){try{if(Be){var _t=new Date;return Be.getUTCFullYear()===_t.getUTCFullYear()&&Be.getUTCMonth()===_t.getUTCMonth()&&Be[kp]()===_t[kp]()}}catch{}return!1}function Ac(Be,_t,Ht){try{var fn={date:ru(),count:0};if(Be){var Pi=JSON.parse(Be),Ri={date:ru(Pi[ul])||fn[ul],count:Pi[uf]||fn[uf],preTriggerDate:Pi.preTriggerDate?ru(Pi[Id]):void 0};return Ri}else return Df(_t,Ht,fn),fn}catch{}return null}function ru(Be){try{if(Be){var _t=new Date(Be);if(!isNaN(_t.getDate()))return _t}else return new Date}catch{}return null}function Df(Be,_t,Ht){try{return Tv(Be,_t,ma(JSON[Op](Ht)))}catch{}return!1}function Il(Be,_t,Ht){return Be<=0?1:Ht>=_t&&(Ht-_t)%Be==0?Math.floor((Ht-_t)/Be)+1:-1}function qd(Be,_t,Ht,fn){fo(_t,fn||1,Be,Ht)}function xl(Be){try{var _t=dr(Be);return Bs(1e6)<=_t.limit.samplingRate}catch{}return!1}function Pl(Be){try{var _t=se[Be];if(!_t){var Ht=Ut(Be,Se);_t=Ac(wl(Z,Ht),Z,Ht),se[Be]=_t}return se[Be]}catch{}return null}function Yd(Be){var _t=oe[Be];if(Ue(_t)){_t=!1;var Ht=Pl(Be);Ht&&(_t=Nn(Ht[Id])),oe[Be]=_t}return oe[Be]}function Rl(Be){return st=st||{},Ue(st[Be])&&(st[Be]=[]),st[Be]}}return p}(),Nv=";",Th="=";function Ld(p){if(!p)return{};var y=p[Ws](Nv),b=Or(y,function(j,Z){var re=Z[Ws](Th);if(re[It]===2){var se=re[0][vs](),oe=re[1];j[se]=oe}return j},{});if(Jn(b)[It]>0){if(b.endpointsuffix){var C=b.location?b.location+".":"";b[ms]=b[ms]||"https://"+C+"dc."+b.endpointsuffix}b[ms]=b[ms]||Pp,rs(b[ms],"/")&&(b[ms]=b[ms].slice(0,-1))}return b}var _f={parse:Ld},po=function(){function p(y,b,C){var j=this,Z=this;Z.ver=1,Z.sampleRate=100,Z.tags={},Z[gs]=Si(y,C)||wi,Z.data=b,Z.time=vr(new Date),Z.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return j.sampleRate===100?4:1},tags:1,data:1}}return p}(),Fd=function(){function p(y,b,C,j){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var Z=this;Z.ver=2,Z[gs]=Si(y,b)||wi,Z[Ha]=zi(y,C),Z[Js]=Di(y,j)}return p.envelopeType="Microsoft.ApplicationInsights.{0}.Event",p.dataType="EventData",p}(),Ef="<no_method>",$i="error",ho="stack",bl="stackDetails",Cv="errorSrc",Iv="message",Ti="description";function wf(p,y){var b=p;return b&&!We(b)&&(JSON&&JSON[Op]?(b=JSON[Op](p),y&&(!b||b==="{}")&&(Qr(p[Da])?b=p[Da]():b=""+p)):b=""+p+" - (Missing JSON.stringify)"),b||""}function Sl(p,y){var b=p;return p&&(b&&!We(b)&&(b=p[Iv]||p[Ti]||b),b&&!We(b)&&(b=wf(b,!0)),p.filename&&(b=b+" @"+(p.filename||"")+":"+(p.lineno||"?")+":"+(p.colno||"?"))),y&&y!=="String"&&y!=="Object"&&y!=="Error"&&na(b||"",y)===-1&&(b=y+": "+b),b||""}function mm(p){try{if(Gt(p))return"hasFullStack"in p&&"typeName"in p}catch{}return!1}function xv(p){try{if(Gt(p))return"ver"in p&&"exceptions"in p&&"properties"in p}catch{}return!1}function Dl(p){return p&&p.src&&We(p.src)&&p.obj&&ar(p.obj)}function Vi(p){var y=p||"";We(y)||(We(y[ho])?y=y[ho]:y=""+y);var b=y[Ws](`
`);return{src:y,obj:b}}function Fp(p){for(var y=[],b=p[Ws](`
`),C=0;C<b[It];C++){var j=b[C];b[C+1]&&(j+="@"+b[C+1],C++),y[ol](j)}return{src:p,obj:y}}function Sc(p){var y=null;if(p)try{if(p[ho])y=Vi(p[ho]);else if(p[$i]&&p[$i][ho])y=Vi(p[$i][ho]);else if(p.exception&&p.exception[ho])y=Vi(p.exception[ho]);else if(Dl(p))y=p;else if(Dl(p[bl]))y=p[bl];else if(od()&&od().opera&&p[Iv])y=Fp(p[Wa]);else if(p.reason&&p.reason[ho])y=Vi(p.reason[ho]);else if(We(p))y=Vi(p);else{var b=p[Iv]||p[Ti]||"";We(p[Cv])&&(b&&(b+=`
`),b+=" from "+p[Cv]),b&&(y=Vi(b))}}catch(C){y=Vi(C)}return y||{src:"",obj:null}}function bf(p){var y="";return p&&(p.obj?Gn(p.obj,function(b){y+=b+`
`}):y=p.src||""),y}function eu(p){var y,b=p.obj;if(b&&b[It]>0){y=[];var C=0,j=0;Gn(b,function(vt){var dr=vt[Da]();if(Go.regex.test(dr)){var qt=new Go(dr,C++);j+=qt[Pu],y[ol](qt)}});var Z=32*1024;if(j>Z)for(var re=0,se=y[It]-1,oe=0,Se=re,st=se;re<se;){var xt=y[re][Pu],er=y[se][Pu];if(oe+=xt+er,oe>Z){var lt=st-Se+1;y.splice(Se,lt);break}Se=re,st=se,re++,se--}}return y}function Tl(p){var y="";if(p&&(y=p.typeName||p[gs]||"",!y))try{var b=/function (.{1,200})\(/,C=b.exec(p.constructor[Da]());y=C&&C[It]>1?C[1]:""}catch{}return y}function Up(p){if(p)try{if(!We(p)){var y=Tl(p),b=wf(p,!1);return(!b||b==="{}")&&(p[$i]&&(p=p[$i],y=Tl(p)),b=wf(p,!0)),na(b,y)!==0&&y!=="String"?y+":"+b:b}}catch{}return""+(p||"")}var At=function(){function p(y,b,C,j,Z,re){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var se=this;se.ver=2,xv(b)?(se[Ks]=b[Ks]||[],se[Ha]=b[Ha],se[Js]=b[Js],b[ff]&&(se[ff]=b[ff]),b.id&&(se.id=b.id,b[Ha].id=b.id),b[yv]&&(se[yv]=b[yv]),Ue(b[bc])||(se[bc]=b[bc])):(C||(C={}),re&&(C.id=re),se[Ks]=[new Uu(y,b,C)],se[Ha]=zi(y,C),se[Js]=Di(y,j),Z&&(se[ff]=Z),re&&(se.id=re))}return p.CreateAutoException=function(y,b,C,j,Z,re,se,oe){var Se,st=Tl(Z||re||y);return Se={},Se[Wa]=Sl(y,st),Se.url=b,Se.lineNumber=C,Se.columnNumber=j,Se.error=Up(Z||re||y),Se.evt=Up(re||y),Se[Ta]=st,Se.stackDetails=Sc(se||Z||re),Se.errorSrc=oe,Se},p.CreateFromInterface=function(y,b,C,j){var Z=b[Ks]&&va(b[Ks],function(se){return Uu[Eh](y,se)}),re=new p(y,zc(zc({},b),{exceptions:Z}),C,j);return re},p.prototype.toInterface=function(){var y,b=this,C=b.exceptions,j=b.properties,Z=b.measurements,re=b.severityLevel,se=b.problemGroup,oe=b.id,Se=b.isManual,st=C instanceof Array&&va(C,function(xt){return xt.toInterface()})||void 0;return y={ver:"4.0"},y[Ks]=st,y.severityLevel=re,y.properties=j,y.measurements=Z,y.problemGroup=se,y.id=oe,y.isManual=Se,y},p.CreateSimpleException=function(y,b,C,j,Z,re){var se;return{exceptions:[(se={},se[fl]=!0,se.message=y,se.stack=Z,se.typeName=b,se)]}},p.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",p.dataType="ExceptionData",p.formatError=Up,p}(),Uu=function(){function p(y,b,C){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var j=this;if(mm(b))j[Ta]=b[Ta],j[Wa]=b[Wa],j[ho]=b[ho],j[_s]=b[_s]||[],j[fl]=b[fl];else{var Z=b,re=Z&&Z.evt;Pr(Z)||(Z=Z[$i]||re||Z),j[Ta]=Si(y,Tl(Z))||wi,j[Wa]=Ru(y,Sl(b||Z,j[Ta]))||wi;var se=b[bl]||Sc(b);j[_s]=eu(se),ar(j[_s])&&va(j[_s],function(oe){oe[cl]=Si(y,oe[cl]),oe[lf]=Si(y,oe[lf])}),j[ho]=Rd(y,bf(se)),j.hasFullStack=ar(j.parsedStack)&&j.parsedStack[It]>0,C&&(C[Ta]=C[Ta]||j[Ta])}}return p.prototype.toInterface=function(){var y,b=this,C=b[_s]instanceof Array&&va(b[_s],function(Z){return Z.toInterface()}),j=(y={id:b.id,outerId:b.outerId,typeName:b[Ta],message:b[Wa],hasFullStack:b[fl],stack:b[ho]},y[_s]=C||void 0,y);return j},p.CreateFromInterface=function(y,b){var C=b[_s]instanceof Array&&va(b[_s],function(Z){return Go[Eh](Z)})||b[_s],j=new p(y,zc(zc({},b),{parsedStack:C}));return j},p}(),Go=function(){function p(y,b){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var C=this;if(C[Pu]=0,typeof y=="string"){var j=y;C[Zs]=b,C[Ka]=Ef,C[cl]=ma(j),C[lf]="",C[df]=0;var Z=j.match(p.regex);Z&&Z[It]>=5&&(C[Ka]=ma(Z[2])||C[Ka],C[lf]=ma(Z[4]),C[df]=parseInt(Z[5])||0)}else C[Zs]=y[Zs],C[Ka]=y[Ka],C[cl]=y[cl],C[lf]=y[lf],C[df]=y[df],C[Pu]=0;C.sizeInBytes+=C.method[It],C.sizeInBytes+=C.fileName[It],C.sizeInBytes+=C.assembly[It],C[Pu]+=p.baseSize,C.sizeInBytes+=C.level.toString()[It],C.sizeInBytes+=C.line.toString()[It]}return p.CreateFromInterface=function(y){return new p(y,null)},p.prototype.toInterface=function(){var y=this;return{level:y[Zs],method:y[Ka],assembly:y[cl],fileName:y[lf],line:y[df]}},p.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,p.baseSize=58,p}(),Al=function(){function p(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return p}(),gm=function(){function p(y,b,C,j,Z,re,se,oe,Se){this.aiDataContract={ver:1,metrics:1,properties:0};var st=this;st.ver=2;var xt=new Al;xt[uf]=j>0?j:void 0,xt.max=isNaN(re)||re===null?void 0:re,xt.min=isNaN(Z)||Z===null?void 0:Z,xt[gs]=Si(y,b)||wi,xt.value=C,xt.stdDev=isNaN(se)||se===null?void 0:se,st.metrics=[xt],st[Ha]=zi(y,oe),st[Js]=Di(y,Se)}return p.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",p.dataType="MetricData",p}(),Nl="";function Ud(p,y){return y===void 0&&(y=!1),p==null?y:p.toString()[vs]()==="true"}function qo(p){(isNaN(p)||p<0)&&(p=0),p=Math.round(p);var y=Nl+p%1e3,b=Nl+Math.floor(p/1e3)%60,C=Nl+Math.floor(p/(1e3*60))%60,j=Nl+Math.floor(p/(1e3*60*60))%24,Z=Math.floor(p/(1e3*60*60*24));return y=y[It]===1?"00"+y:y[It]===2?"0"+y:y,b=b[It]<2?"0"+b:b,C=C[It]<2?"0"+C:C,j=j[It]<2?"0"+j:j,(Z>0?Z+".":Nl)+j+":"+C+":"+b+"."+y}function Pv(p,y){var b=null;return Gn(p,function(C){if(C.identifier===y)return b=C,-1}),b}function Bp(p,y,b,C,j){return!j&&We(p)&&(p==="Script error."||p==="Script error")}var jp=function(){function p(y,b,C,j,Z,re,se){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var oe=this;oe.ver=2,oe.id=wh(y,se),oe.url=Pd(y,C),oe[gs]=Si(y,b)||wi,isNaN(j)||(oe[ll]=qo(j)),oe[Ha]=zi(y,Z),oe[Js]=Di(y,re)}return p.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",p.dataType="PageviewData",p}(),Cl=function(){function p(y,b,C,j,Z,re,se,oe,Se,st,xt,er){Se===void 0&&(Se="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var lt=this;lt.ver=2,lt.id=b,lt[ll]=qo(Z),lt.success=re,lt.resultCode=se+"",lt.type=Si(y,Se);var vt=hf(y,C,oe,j);lt.data=Pd(y,j)||vt.data,lt.target=Si(y,vt.target),st&&(lt.target="".concat(lt.target," | ").concat(st)),lt[gs]=Si(y,vt[gs]),lt[Ha]=zi(y,xt),lt[Js]=Di(y,er)}return p.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",p.dataType="RemoteDependencyData",p}(),Dc=function(){function p(y,b,C,j,Z){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var re=this;re.ver=2,b=b||wi,re[Wa]=Ru(y,b),re[Ha]=zi(y,j),re[Js]=Di(y,Z),C&&(re[ff]=C)}return p.envelopeType="Microsoft.ApplicationInsights.{0}.Message",p.dataType="MessageData",p}(),Ah=function(){function p(y,b,C,j,Z,re,se){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var oe=this;oe.ver=2,oe.url=Pd(y,C),oe[gs]=Si(y,b)||wi,oe[Ha]=zi(y,Z),oe[Js]=Di(y,re),se&&(oe.domProcessing=se.domProcessing,oe[ll]=se[ll],oe.networkConnect=se.networkConnect,oe.perfTotal=se.perfTotal,oe[xd]=se[xd],oe.sentRequest=se.sentRequest)}return p.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",p.dataType="PageviewPerformanceData",p}(),en=function(){function p(y,b){this.aiDataContract={baseType:1,baseData:1},this.baseType=y,this.baseData=b}return p}(),tu=qf({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),Nh=function(){function p(){}return p.getConfig=function(y,b,C,j){j===void 0&&(j=!1);var Z;return C&&y[ys]&&y[ys][C]&&!Ue(y[ys][C][b])?Z=y[ys][C][b]:Z=y[b],Ue(Z)?j:Z},p}();function Bu(p){var y="ai."+p+".";return function(b){return y+b}}var vo=Bu("application"),Yn=Bu("device"),Bd=Bu("location"),Tc=Bu("operation"),Sf=Bu("session"),bs=Bu("user"),mo=Bu("cloud"),Yo=Bu("internal"),jd=function(p){dv(y,p);function y(){return p.call(this)||this}return y}(ss({applicationVersion:vo("ver"),applicationBuild:vo("build"),applicationTypeId:vo("typeId"),applicationId:vo("applicationId"),applicationLayer:vo("layer"),deviceId:Yn("id"),deviceIp:Yn("ip"),deviceLanguage:Yn("language"),deviceLocale:Yn("locale"),deviceModel:Yn("model"),deviceFriendlyName:Yn("friendlyName"),deviceNetwork:Yn("network"),deviceNetworkName:Yn("networkName"),deviceOEMName:Yn("oemName"),deviceOS:Yn("os"),deviceOSVersion:Yn("osVersion"),deviceRoleInstance:Yn("roleInstance"),deviceRoleName:Yn("roleName"),deviceScreenResolution:Yn("screenResolution"),deviceType:Yn("type"),deviceMachineName:Yn("machineName"),deviceVMName:Yn("vmName"),deviceBrowser:Yn("browser"),deviceBrowserVersion:Yn("browserVersion"),locationIp:Bd("ip"),locationCountry:Bd("country"),locationProvince:Bd("province"),locationCity:Bd("city"),operationId:Tc("id"),operationName:Tc("name"),operationParentId:Tc("parentId"),operationRootId:Tc("rootId"),operationSyntheticSource:Tc("syntheticSource"),operationCorrelationVector:Tc("correlationVector"),sessionId:Sf("id"),sessionIsFirst:Sf("isFirst"),sessionIsNew:Sf("isNew"),userAccountAcquisitionDate:bs("accountAcquisitionDate"),userAccountId:bs("accountId"),userAgent:bs("userAgent"),userId:bs("id"),userStoreRegion:bs("storeRegion"),userAuthUserId:bs("authUserId"),userAnonymousUserAcquisitionDate:bs("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:bs("authUserAcquisitionDate"),cloudName:mo("name"),cloudRole:mo("role"),cloudRoleVer:mo("roleVer"),cloudRoleInstance:mo("roleInstance"),cloudEnvironment:mo("environment"),cloudLocation:mo("location"),cloudDeploymentUnit:mo("deploymentUnit"),internalNodeName:Yo("nodeName"),internalSdkVersion:Yo("sdkVersion"),internalAgentVersion:Yo("agentVersion"),internalSnippet:Yo("snippet"),internalSdkSrc:Yo("sdkSrc")}));function Gp(p,y,b,C,j,Z){var re;b=Si(C,b)||wi,(Ue(p)||Ue(y)||Ue(b))&&Wr("Input doesn't contain all required fields");var se="";p[Cd]&&(se=p[Cd],delete p[Cd]);var oe=(re={},re[gs]=b,re.time=vr(new Date),re.iKey=se,re.ext=Z||{},re.tags=[],re.data={},re.baseType=y,re.baseData=p,re);return Ue(j)||Vt(j,function(Se,st){oe.data[Se]=st}),oe}var Ch=function(){function p(){}return p.create=Gp,p}(),Ss={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},Ih=new jd;function Gd(p){var y=null;if(Qr(Event))y=new Event(p);else{var b=To();b&&b.createEvent&&(y=b.createEvent("Event"),y.initEvent(p,!0,!0))}return y}function xh(p,y){xp(p,null,null,y)}function Ds(p){var y=To(),b=pn(),C=!1,j=[],Z=1;b&&!Ue(b.onLine)&&!b.onLine&&(Z=2);var re=0,se=er(),oe=al(ba("OfflineListener"),p);try{if(st(od())&&(C=!0),y){var Se=y.body||y;Se.ononline&&st(Se)&&(C=!0)}}catch{C=!1}function st(Ut){var Nn=!1;return Ut&&(Nn=af(Ut,"online",dr,oe),Nn&&af(Ut,"offline",qt,oe)),Nn}function xt(){return se}function er(){return!(re===2||Z===2)}function lt(){var Ut=er();se!==Ut&&(se=Ut,Gn(j,function(Nn){var Ac={isOnline:se,rState:Z,uState:re};try{Nn(Ac)}catch{}}))}function vt(Ut){re=Ut,lt()}function dr(){Z=1,lt()}function qt(){Z=2,lt()}function Cr(){var Ut=od();if(Ut&&C){if(xh(Ut,oe),y){var Nn=y.body||y;kt(Nn.ononline)||xh(Nn,oe)}C=!1}}function Rr(Ut){return j[ol](Ut),{rm:function(){var Nn=j.indexOf(Ut);if(Nn>-1)return j.splice(Nn,1)}}}return{isOnline:xt,isListening:function(){return C},unload:Cr,addListener:Rr,setOnlineState:vt}}var ym="AppInsightsPropertiesPlugin",ju="AppInsightsChannelPlugin",Ph="ApplicationInsightsAnalytics";e.AnalyticsPluginIdentifier=Ph,e.BreezeChannelIdentifier=ju,e.ConfigurationManager=Nh,e.ConnectionStringParser=_f,e.ContextTagKeys=jd,e.CtxTagKeys=Ih,e.DEFAULT_BREEZE_ENDPOINT=Pp,e.DEFAULT_BREEZE_PATH=Nd,e.Data=en,e.DisabledPropertyName=Zn,e.DistributedTracingModes=Dv,e.Envelope=po,e.Event=Fd,e.EventPersistence=Dh,e.Exception=At,e.Extensions=Ss,e.HttpMethod=xu,e.Metric=gm,e.PageView=jp,e.PageViewPerformance=Ah,e.ProcessLegacy=Ei,e.PropertiesPluginIdentifier=ym,e.RemoteDependencyData=Cl,e.RequestHeaders=Rp,e.SampleRate=of,e.SeverityLevel=tu,e.TelemetryItemCreator=Ch,e.ThrottleMgr=Lp,e.Trace=Dc,e.correlationIdCanIncludeCorrelationHeader=kd,e.correlationIdGetCorrelationContext=gl,e.correlationIdGetCorrelationContextValue=Bo,e.correlationIdGetPrefix=Es,e.correlationIdSetPrefix=Mp,e.createDistributedTraceContextFromTrace=pm,e.createDomEvent=Gd,e.createOfflineListener=Ds,e.createTelemetryItem=Gp,e.createTraceParent=gv,e.dataSanitizeException=Rd,e.dataSanitizeId=wh,e.dataSanitizeInput=dl,e.dataSanitizeKey=Xs,e.dataSanitizeKeyAndAddUniqueness=bi,e.dataSanitizeMeasurements=Di,e.dataSanitizeMessage=Ru,e.dataSanitizeProperties=zi,e.dataSanitizeString=Si,e.dataSanitizeUrl=Pd,e.dateTimeUtilsDuration=vf,e.dateTimeUtilsNow=Sv,e.dsPadNumber=pl,e.findAllScripts=Ip,e.findW3cTraceParent=_i,e.formatTraceParent=yc,e.getExtensionByName=Pv,e.isBeaconApiSupported=Ro,e.isCrossOriginError=Bp,e.isInternalApplicationInsightsEndpoint=pf,e.isSampledFlag=Jr,e.isValidSpanId=Cp,e.isValidTraceId=rf,e.isValidTraceParent=zs,e.msToTimeSpan=qo,e.parseConnectionString=Ld,e.parseTraceParent=Np,e.strNotSpecified=wi,e.stringToBoolOrDefault=Ud,e.urlGetAbsoluteUrl=bh,e.urlGetCompleteUrl=Sh,e.urlGetPathName=vl,e.urlParseFullHost=ml,e.urlParseHost=wv,e.urlParseUrl=hl,e.utlCanUseLocalStorage=Aa,e.utlCanUseSessionStorage=gf,e.utlDisableStorage=Od,e.utlEnableStorage=El,e.utlGetLocalStorage=wl,e.utlGetSessionStorage=jo,e.utlGetSessionStorageKeys=vm,e.utlRemoveSessionStorage=yf,e.utlRemoveStorage=hm,e.utlSetLocalStorage=Tv,e.utlSetSessionStorage=Fu,e.utlSetStoragePrefix=Md})});var jE=fr(i0=>{"use strict";Object.defineProperty(i0,"__esModule",{value:!0});i0.TelemetryUtil=void 0;var BE=class e{static applyReplacements(t,r){for(let n of Object.keys(t))for(let i of r)i.lookup.test(n)&&(i.replacementString!==void 0?t[n]=i.replacementString:delete t[n])}static shouldUseOneDataSystemSDK(t){return t.length===74&&t[32]==="-"&&t[41]==="-"&&t[46]==="-"&&t[51]==="-"&&t[56]==="-"&&t[69]==="-"}static getAdditionalCommonProperties(t){return{"common.os":t.platform,"common.nodeArch":t.architecture,"common.platformversion":(t.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.9.8"}}static getInstance(){return e._instance||(e._instance=new e),e._instance}};i0.TelemetryUtil=BE});var g2=fr((a0,m2)=>{(function(e,t){typeof a0=="object"&&typeof m2<"u"?t(a0):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(a0,function(e){"use strict";function t(u,c){return u||c}function r(u,c){return u[c]}var n=void 0,i=null,a="",s="function",f="object",m="prototype",_="__proto__",D="undefined",k="constructor",U="Symbol",z="_polyfill",ee="length",H="name",K="call",X="toString",ue=t(Object),ce=r(ue,m),ge=t(String),Fe=r(ge,m),Ne=t(Math),he=t(Array),Ie=r(he,m),_e=r(Ie,"slice");function ze(u,c){try{return{v:u.apply(this,c)}}catch(d){return{e:d}}}function ct(u,c){var d=ze(u);return d.e?c:d.v}var gr;function Tr(u){return function(c){return typeof c===u}}function kt(u){var c="[object "+u+"]";return function(d){return!!(d&&Xr(d)===c)}}function Xr(u){return ce[X].call(u)}function Ue(u){return typeof u===D||u===D}function Vr(u){return!Gt(u)}function We(u){return u===i||Ue(u)}function Qr(u){return u===i||!Gt(u)}function Gt(u){return!!u||u!==n}function ar(u){return!gr&&(gr=["string","number","boolean",D,"symbol","bigint"]),u!==f&&gr.indexOf(u)!==-1}var Pr=Tr("string"),et=Tr(s);function kn(u){return!u&&We(u)?!1:!!u&&typeof u===f}var ft=r(he,"isArray"),Ju=kt("Date"),Vt=Tr("number"),Zo=Tr("boolean"),Wt=kt("Error");function Jt(u){return!!(u&&u.then&&et(u.then))}function ei(u){return!(!u||ct(function(){return!(u&&0+u)},!u))}var or=r(ue,"getOwnPropertyDescriptor");function pi(u,c){return!!u&&ce.hasOwnProperty[K](u,c)}var qr=t(r(ue,"hasOwn"),Rs);function Rs(u,c){return pi(u,c)||!!or(u,c)}function Rt(u,c,d){if(u&&kn(u)){for(var g in u)if(qr(u,g)&&c[K](d||u,g,u[g])===-1)break}}var Wr={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function Un(u){var c={};if(c[Wr.c]=!0,c[Wr.e]=!0,u.l){c.get=function(){return u.l.v};var d=or(u.l,"v");d&&d.set&&(c.set=function(g){u.l.v=g})}return Rt(u,function(g,S){c[Wr[g]]=Vr(S)?c[Wr[g]]:S}),c}var On=r(ue,"defineProperty");function Hr(u,c,d){return On(u,c,Un(d))}function Mn(u,c,d,g,S){var N={};return Rt(u,function(R,B){ji(N,R,c?B:R,S),ji(N,B,d?B:R,S)}),g?g(N):N}function ji(u,c,d,g){On(u,c,{value:d,enumerable:!0,writable:!!g})}var Jn=t(ge),Mr="[object Error]";function Ct(u,c){var d=a,g=ce[X][K](u);g===Mr&&(u={stack:Jn(u.stack),message:Jn(u.message),name:Jn(u.name)});try{d=JSON.stringify(u,i,c?typeof c=="number"?c:4:n),d=(d?d.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):i)||Jn(u)}catch(S){d=" - "+Ct(S,c)}return g+": "+d}function lr(u){throw new Error(u)}function tn(u){throw new TypeError(u)}var nd=r(ue,"freeze");function ti(u){return u}function Fc(u){return u[_]||i}var Ar=r(ue,"assign"),Nr=r(ue,"keys");function hi(u){return nd&&Rt(u,function(c,d){(ft(d)||kn(d))&&hi(d)}),sr(u)}var sr=t(nd,ti),bn=t(r(ue,"getPrototypeOf"),Fc);function Bn(u){return Mn(u,1,0,sr)}function vi(u){return Mn(u,0,0,sr)}function Do(u){var c={};return Rt(u,function(d,g){ji(c,d,g[1]),ji(c,g[0],g[1])}),sr(c)}function um(u){return Do(u)}var ap=vi({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),mu="__tsUtils$gblCfg",Uc;function ks(){var u;return typeof globalThis!==D&&(u=globalThis),!u&&typeof self!==D&&(u=self),!u&&typeof window!==D&&(u=window),!u&&typeof global!==D&&(u=global),u}function id(){if(!Uc){var u=ze(ks).v||{};Uc=u[mu]=u[mu]||{}}return Uc}var Bc=pa;function pa(u,c,d){var g=c?c[u]:i;return function(S){var N=(S?S[u]:i)||g;if(N||d){var R=arguments;return(N||d).apply(S,N?_e[K](R,1):R)}tn('"'+Jn(u)+'" not defined for '+Ct(S))}}function ad(u){return function(c){return c[u]}}var Uf=r(Ne,"max"),sh=Bc("slice",Fe),ha=Bc("substring",Fe),op=pa("substr",Fe,jc);function jc(u,c,d){return We(u)&&tn("Invalid "+Ct(u)),d<0?a:(c=c||0,c<0&&(c=Uf(c+u[ee],0)),Ue(d)?sh(u,c):sh(u,c,c+d))}function Ni(u,c){return ha(u,0,c)}var To="_urid",sp;function od(){if(!sp){var u=id();sp=u.gblSym=u.gblSym||{k:{},s:{}}}return sp}var up;function pn(u){var c={description:Jn(u),toString:function(){return U+"("+u+")"}};return c[z]=!0,c}function Ao(u){var c=od();if(!qr(c.k,u)){var d=pn(u),g=Nr(c.s).length;d[To]=function(){return g+"_"+d[X]()},c.k[u]=d,c.s[d[To]()]=Jn(u)}return c.k[u]}function Xo(u){!up&&(up={});var c,d=ap[u];return d&&(c=up[d]=up[d]||pn(U+"."+d)),c}var jn;function Qo(){jn=id()}function gu(u){var c={};return!jn&&Qo(),c.b=jn.lzy,On(c,"v",{configurable:!0,get:function(){var d=u();return jn.lzy||On(c,"v",{value:d}),c.b=jn.lzy,d}}),c}function ta(u){return On({toJSON:function(){return u}},"v",{value:u})}var hn="window",Gn;function Zu(u,c){var d;return function(){return!jn&&Qo(),(!d||jn.lzy)&&(d=ta(ze(u,c).v)),d.v}}function va(u){return!jn&&Qo(),(!Gn||u===!1||jn.lzy)&&(Gn=ta(ze(ks).v||i)),Gn.v}function Or(u,c){var d;if(!Gn||c===!1?d=va(c):d=Gn.v,d&&d[u])return d[u];if(u===hn)try{return window}catch{}return i}function mi(){return!!sd()}var sd=Zu(Or,["document"]);function Ci(){return!!es()}var es=Zu(Or,[hn]);function Gc(){return!!ts()}var ts=Zu(Or,["navigator"]),ud=Zu(function(){return!!ze(function(){return process&&(process.versions||{}).node}).v}),cn,Bf;function ra(){return cn=ta(ze(Or,[U]).v),cn}function cp(u){var c=(jn.lzy?0:cn)||ra();return c.v?c.v[u]:n}function ma(){return!!uh()}function uh(){return!jn&&Qo(),((jn.lzy?0:cn)||ra()).v}function ga(u,c){var d=ap[u];!jn&&Qo();var g=(jn.lzy?0:cn)||ra();return g.v?g.v[d||u]:c?n:Xo(u)}function jf(u,c){!jn&&Qo();var d=(jn.lzy?0:cn)||ra();return d.v?d.v(u):c?i:pn(u)}function to(u){return!jn&&Qo(),Bf=(jn.lzy?0:Bf)||ta(ze(cp,["for"]).v),(Bf.v||Ao)(u)}function cd(u){return!!u&&et(u.next)}function Sr(u){return!Qr(u)&&et(u[ga(3)])}var rs;function fd(u,c,d){if(u&&(cd(u)||(!rs&&(rs=ta(ga(3))),u=u[rs.v]?u[rs.v]():i),cd(u))){var g=n,S=n;try{for(var N=0;!(S=u.next()).done&&c[K](d||u,S.value,N,u)!==-1;)N++}catch(R){g={e:R},u.throw&&(S=i,u.throw(g))}finally{try{S&&!S.done&&u.return&&u.return(S)}finally{if(g)throw g.e}}}}function na(u,c,d){return u.apply(c,d)}function qc(u,c){return!Ue(c)&&u&&(ft(c)?na(u.push,u,c):cd(c)||Sr(c)?fd(c,function(d){u.push(d)}):u.push(c)),u}function Ft(u,c,d){if(u)for(var g=u[ee]>>>0,S=0;S<g&&!(S in u&&c[K](d||u,u[S],S,u)===-1);S++);}var ya=Bc("indexOf",Ie),Xu=Bc("map",Ie);function Gf(u,c,d){return((u?u.slice:i)||_e).apply(u,_e[K](arguments,1))}var fv=Bc("reduce",Ie),Ma=t(r(ue,"create"),qf);function qf(u){if(!u)return{};var c=typeof u;c!==f&&c!==s&&tn("Prototype must be an Object or function: "+Ct(u));function d(){}return d[m]=u,new d}var fp;function yu(u,c){var d=ue.setPrototypeOf||function(g,S){var N;!fp&&(fp=ta((N={},N[_]=[],N instanceof Array))),fp.v?g[_]=S:Rt(S,function(R,B){return g[R]=B})};return d(u,c)}function La(u,c,d){ze(Hr,[c,H,{v:u,c:!0,e:!1}]),c=yu(c,d);function g(){this[k]=c,ze(Hr,[this,H,{v:u,c:!0,e:!1}])}return c[m]=d===i?Ma(d):(g[m]=d[m],new g),c}function gt(u,c){c&&(u[H]=c)}function gi(u,c,d){var g=d||Error,S=g[m][H],N=Error.captureStackTrace;return La(u,function(){var R=this,B=arguments;try{ze(gt,[g,u]);var q=na(g,R,_e[K](B))||R;if(q!==R){var V=bn(R);V!==bn(q)&&yu(q,V)}return N&&N(q,R[k]),c&&c(q,B),q}finally{ze(gt,[g,S])}},g)}function _u(){return(Date.now||Os)()}function Os(){return new Date().getTime()}function lp(u){return function(d){return We(d)&&tn("strTrim called ["+Ct(d)+"]"),d&&d.replace&&(d=d.replace(u,a)),d}}var dp=lp(/^\s+|(?=\s)\s+$/g),ri=pa("trim",Fe,dp),_a,pp,Fa;function ia(u){if(!u||typeof u!==f)return!1;Fa||(Fa=Ci()?es():!0);var c=!1;if(u!==Fa){pp||(_a=Function[m][X],pp=_a[K](ue));try{var d=bn(u);c=!d,c||(pi(d,k)&&(d=d[k]),c=!!(d&&typeof d===s&&_a[K](d)===pp))}catch{}}return c}function cm(u){return u.value&&ro(u),!0}var lv=[Gi,ro,zf,Yf];function ch(u,c,d,g){var S;return Ft(u,function(N){if(N.k===c)return S=N,-1}),S||(S={k:c,v:c},u.push(S),g(S)),S.v}function Eu(u,c,d,g){var S=d.handler,N=d.path?g?d.path.concat(g):d.path:[],R={handler:d.handler,src:d.src,path:N},B=typeof c,q=!1,V=c===i;V||(c&&B===f?q=ia(c):V=ar(B));var ie={type:B,isPrim:V,isPlain:q,value:c,result:c,path:N,origin:d.src,copy:function(ve,me){return Eu(u,ve,me?R:d,me)},copyTo:function(ve,me){return fh(u,ve,me,R)}};return ie.isPrim?S&&S[K](d,ie)?ie.result:c:ch(u,c,N,function(ve){Hr(ie,"result",{g:function(){return ve.v},s:function(pe){ve.v=pe}});for(var me=0,ye=S;!(ye||(me<lv.length?lv[me++]:cm))[K](d,ie);)ye=i})}function fh(u,c,d,g){if(!We(d))for(var S in d)c[S]=Eu(u,d[S],g,S);return c}function eg(u,c,d){var g={handler:d,src:c,path:[]};return fh([],u,c,g)}function hp(u,c){var d={handler:c,src:u};return Eu([],u,d)}function Gi(u){var c=u.value;if(ft(c)){var d=u.result=[];return d.length=c.length,u.copyTo(d,c),!0}return!1}function Yf(u){var c=u.value;return Ju(c)?(u.result=new Date(c.getTime()),!0):!1}function zf(u){return u.type===s}function ro(u){var c=u.value;if(c&&u.isPlain){var d=u.result={};return u.copyTo(d,c),!0}return!1}function Ea(u,c){return Ft(c,function(d){eg(u,d)}),u}function wu(u,c,d,g,S,N,R){return Ea(hp(u)||{},_e[K](arguments))}var lh=ad(ee),Ua=pa("endsWith",Fe,vp);function vp(u,c,d){Pr(u)||tn("'"+Ct(u)+"' is not a string");var g=Pr(c)?c:Jn(c),S=!Ue(d)&&d<u[ee]?d:u[ee];return ha(u,S-g[ee],S)===g}var Qu=Bc("indexOf",Fe),Yc="ref",$f="unref",ld="hasRef",mp="enabled";function dh(u,c,d){var g=!0,S=u?c(i):i,N;function R(){return g=!1,S&&S[$f]&&S[$f](),N}function B(){S&&d(S),S=i}function q(){return S=c(S),g||R(),N}function V(ie){!ie&&S&&B(),ie&&!S&&q()}return N={cancel:B,refresh:q},N[ld]=function(){return S&&S[ld]?S[ld]():g},N[Yc]=function(){return g=!0,S&&S[Yc]&&S[Yc](),N},N[$f]=R,N=On(N,mp,{get:function(){return!!S},set:V}),{h:N,dn:function(){S=i}}}function ph(u,c,d){var g=ft(c),S=g?c.length:0,N=(S>0?c[0]:g?n:c)||setTimeout,R=(S>1?c[1]:n)||clearTimeout,B=d[0];d[0]=function(){q.dn(),na(B,n,_e[K](arguments))};var q=dh(u,function(V){if(V){if(V.refresh)return V.refresh(),V;na(R,n,[V])}return na(N,n,d)},function(V){na(R,n,[V])});return q.h}function bu(u,c){return ph(!0,n,_e[K](arguments))}function gp(u,c){return ph(!1,n,_e[K](arguments))}var Ms,ec="constructor",Ba="prototype",Vf="function",dd="_dynInstFuncs",zc="_isDynProxy",no="_dynClass",dv="_dynCls$",ns="_dynInstChk",No=ns,io="_dfOpts",Su="_unknown_",pd="__proto__",$c="_dyn"+pd,Vc="__dynProto$Gbl",tc="_dynInstProto",hd="useBaseInst",Wf="setInstFuncs",vd=Object,rc=vd.getPrototypeOf,ao=vd.getOwnPropertyNames,Wc=va(),Co=Wc[Vc]||(Wc[Vc]={o:(Ms={},Ms[Wf]=!0,Ms[hd]=!0,Ms),n:1e3});function wa(u){return u&&(u===vd[Ba]||u===Array[Ba])}function is(u){return wa(u)||u===Function[Ba]}function rn(u){var c;if(u){if(rc)return rc(u);var d=u[pd]||u[Ba]||(u[ec]?u[ec][Ba]:null);c=u[$c]||d,pi(u,$c)||(delete u[tc],c=u[$c]=u[tc]||u[$c],u[tc]=d)}return c}function Ls(u,c){var d=[];if(ao)d=ao(u);else for(var g in u)typeof g=="string"&&pi(u,g)&&d.push(g);if(d&&d.length>0)for(var S=0;S<d.length;S++)c(d[S])}function oo(u,c,d){return c!==ec&&typeof u[c]===Vf&&(d||pi(u,c))&&c!==pd&&c!==Ba}function Hc(u){tn("DynamicProto: "+u)}function Kc(u){var c=Ma(null);return Ls(u,function(d){!c[d]&&oo(u,d,!1)&&(c[d]=u[d])}),c}function as(u,c){for(var d=u.length-1;d>=0;d--)if(u[d]===c)return!0;return!1}function Hf(u,c,d,g){function S(q,V,ie){var ve=V[ie];if(ve[zc]&&g){var me=q[dd]||{};me[No]!==!1&&(ve=(me[V[no]]||{})[ie]||ve)}return function(){return ve.apply(q,arguments)}}var N=Ma(null);Ls(d,function(q){N[q]=S(c,d,q)});for(var R=rn(u),B=[];R&&!is(R)&&!as(B,R);)Ls(R,function(q){!N[q]&&oo(R,q,!rc)&&(N[q]=S(c,R,q))}),B.push(R),R=rn(R);return N}function os(u,c,d,g){var S=null;if(u&&pi(d,no)){var N=u[dd]||Ma(null);if(S=(N[d[no]]||Ma(null))[c],S||Hc("Missing ["+c+"] "+Vf),!S[ns]&&N[No]!==!1){for(var R=!pi(u,c),B=rn(u),q=[];R&&B&&!is(B)&&!as(q,B);){var V=B[c];if(V){R=V===g;break}q.push(B),B=rn(B)}try{R&&(u[c]=S),S[ns]=1}catch{N[No]=!1}}}return S}function Du(u,c,d){var g=c[u];return g===d&&(g=rn(c)[u]),typeof g!==Vf&&Hc("["+u+"] is not a "+Vf),g}function aa(u,c,d,g,S){function N(q,V){var ie=function(){var ve=os(this,V,q,ie)||Du(V,q,ie);return ve.apply(this,arguments)};return ie[zc]=1,ie}if(!wa(u)){var R=d[dd]=d[dd]||Ma(null);if(!wa(R)){var B=R[c]=R[c]||Ma(null);R[No]!==!1&&(R[No]=!!S),wa(B)||Ls(d,function(q){oo(d,q,!1)&&d[q]!==g[q]&&(B[q]=d[q],delete d[q],(!pi(u,q)||u[q]&&!u[q][zc])&&(u[q]=N(u,q)))})}}}function yp(u,c){if(rc){for(var d=[],g=rn(c);g&&!is(g)&&!as(d,g);){if(g===u)return!0;d.push(g),g=rn(g)}return!1}return!0}function nc(u,c){return pi(u,Ba)?u.name||c||Su:((u||{})[ec]||{}).name||c||Su}function qi(u,c,d,g){pi(u,Ba)||Hc("theClass is an invalid class definition.");var S=u[Ba];yp(S,c)||Hc("["+nc(u)+"] not in hierarchy of ["+nc(c)+"]");var N=null;pi(S,no)?N=S[no]:(N=dv+nc(u,"_")+"$"+Co.n,Co.n++,S[no]=N);var R=qi[io],B=!!R[hd];B&&g&&g[hd]!==void 0&&(B=!!g[hd]);var q=Kc(c),V=Hf(S,c,q,B);d(c,V);var ie=!!rc&&!!R[Wf];ie&&g&&(ie=!!g[Wf]),aa(S,N,c,q,ie!==!1)}qi[io]=Co.o;var md="function",_p="object",Kf="undefined",Jf="prototype",Ep=Object,pv=Ep[Jf];(va()||{}).Symbol,(va()||{}).Reflect;var ic="hasOwnProperty",Io=function(u){for(var c,d=1,g=arguments.length;d<g;d++){c=arguments[d];for(var S in c)pv[ic].call(c,S)&&(u[S]=c[S])}return u},so=Ar||Io,En=function(u,c){return En=Ep.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var S in g)g[ic](S)&&(d[S]=g[S])},En(u,c)};function Zf(u,c){typeof c!==md&&c!==null&&tn("Class extends value "+String(c)+" is not a constructor or null"),En(u,c);function d(){this.constructor=u}u[Jf]=c===null?Ma(c):(d[Jf]=c[Jf],new d)}function ac(u,c){for(var d=0,g=c.length,S=u.length;d<g;d++,S++)u[S]=c[d];return u}var oc=Bn,wp=um,ja=oc({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2}),Tu="toLowerCase",Fs="blkVal",vr="length",xo="rdOnly",ss="notify",Ga="warnToConsole",gd="throwInternal",qa="setDf",Au="watch",vn="logger",oa="apply",Yr="push",yt="splice",sc="hdlr",Po="cancel",Us="initialize",uo="identifier",Nu="removeNotificationListener",Ya="addNotificationListener",Kr="isInitialized",Ro="instrumentationKey",zr="INACTIVE",ko="value",yd="getNotifyMgr",Oo="getPlugin",Ln="name",co="iKey",us="time",Ii="processNext",Yi="getProcessTelContext",Jc="pollInternalLogs",uc="enabled",_d="stopPollingInternalLogs",Bs="unload",Mo="onComplete",Lo="version",cc="loggingLevelConsole",Fo="createNew",qn="teardown",Ed="messageId",fc="message",js="isAsync",ba="diagLog",cs="_doTeardown",Gs="update",za="getNext",Zc="setNextPlugin",Cu="protocol",yi="userAgent",Iu="split",qs="nodeType",$a="replace",lc="logInternalMessage",mn="type",ni="handler",Va="status",dc="getResponseHeader",fs="getAllResponseHeaders",bp="isChildEvt",Sa="data",Xc="getCtx",xi="setCtx",wd="complete",sa="itemsReceived",ls="urlString",ds="sendPOST",Sp="headers",Xf="timeout",bd="setRequestHeader",Qf="traceId",Uo="spanId",ua="traceFlags",Qc;function hv(u,c){Qc||(Qc=gi("AggregationError",function(g,S){S[vr]>1&&(g.errors=S[1])}));var d=u||"One or more errors occurred.";throw Ft(c,function(g,S){d+=`
`.concat(S," > ").concat(Ct(g))}),new Qc(d,c||[])}var pc="Promise",hc="rejected";function ps(u,c){return el(u,function(d){return c?c({status:"fulfilled",rejected:!1,value:d}):d},function(d){return c?c({status:hc,rejected:!0,reason:d}):d})}function el(u,c,d,g){var S=u;try{if(Jt(u))(c||d)&&(S=u.then(c,d));else try{c&&(S=c(u))}catch(N){if(d)S=d(N);else throw N}}finally{g&&fm(S,g)}return S}function fm(u,c){var d=u;return c&&(Jt(u)?u.finally?d=u.finally(c):d=u.then(function(g){return c(),g},function(g){throw c(),g}):c()),d}var Dp=["pending","resolving","resolved",hc],tl="dispatchEvent",vc;function hh(u){var c;return u&&u.createEvent&&(c=u.createEvent("Event")),!!c&&c.initEvent}function vv(u,c,d,g){var S=sd();!vc&&(vc=ta(!!ze(hh,[S]).v));var N=vc.v?S.createEvent("Event"):g?new Event(c):{};if(d&&d(N),vc.v&&N.initEvent(c,!1,!0),N&&u[tl])u[tl](N);else{var R=u["on"+c];if(R)R(N);else{var B=Or("console");B&&(B.error||B.log)(c,Ct(N))}}}var mc="unhandledRejection",mv=mc.toLowerCase(),rl=10,Tp;function fo(u){return et(u)?u.toString():Ct(u)}function vh(u,c,d){var g=Gf(arguments,3),S=0,N=!1,R,B=[],q=!1,V=null,ie;function ve(tt,ht){try{q=!0,V&&V.cancel(),V=null;var xr=u(function(sn,un){B.push(function(){try{var Dn=S===2?tt:ht,nr=Ue(Dn)?R:et(Dn)?Dn(R):Dn;Jt(nr)?nr.then(sn,un):Dn?sn(nr):S===3?un(nr):sn(nr)}catch(zt){un(zt)}}),N&&Le()},g);return xr}finally{}}function me(tt){return ve(void 0,tt)}function ye(tt){var ht=tt,xr=tt;return et(tt)&&(ht=function(sn){return tt&&tt(),sn},xr=function(sn){throw tt&&tt(),sn}),ve(ht,xr)}function pe(){return Dp[S]}function Le(){if(B.length>0){var tt=B.slice();B=[],q=!0,V&&V.cancel(),V=null,c(tt)}}function we(tt,ht){return function(xr){if(S===ht){if(tt===2&&Jt(xr)){S=1,xr.then(we(2,1),we(3,1));return}S=tt,N=!0,R=xr,Le(),!q&&tt===3&&!V&&(V=bu(Ge,rl))}}}function Ge(){if(!q)if(q=!0,ud())process.emit(mc,R,ie);else{var tt=es()||va();!Tp&&(Tp=ta(ze(Or,[pc+"RejectionEvent"]).v)),vv(tt,mv,function(ht){return Hr(ht,"promise",{g:function(){return ie}}),ht.reason=R,ht},!!Tp.v)}}ie={then:ve,catch:me,finally:ye},On(ie,"state",{get:pe}),ma()&&(ie[ga(11)]="IPromise");function qe(){return"IPromise "+pe()+(N?" - "+fo(R):"")}return ie.toString=qe,function(){et(d)||tn(pc+": executor is not a function - "+fo(d));var ht=we(3,0);try{d.call(ie,we(2,0),ht)}catch(xr){ht(xr)}}(),ie}function lm(u){return function(c){var d=Gf(arguments,1);return u(function(g,S){try{var N=[],R=1;fd(c,function(B,q){B&&(R++,el(B,function(V){N[q]=V,--R===0&&g(N)},S))}),R--,R===0&&g(N)}catch(B){S(B)}},d)}}function Sd(u){return ta(function(c){var d=Gf(arguments,1);return u(function(g,S){var N=[],R=1;function B(q,V){R++,ps(q,function(ie){ie.rejected?N[V]={status:hc,reason:ie.reason}:N[V]={status:"fulfilled",value:ie.value},--R===0&&g(N)})}try{ft(c)?Ft(c,B):Sr(c)?fd(c,B):tn("Input is not an iterable"),R--,R===0&&g(N)}catch(q){S(q)}},d)})}function mh(u){Ft(u,function(c){try{c()}catch{}})}function Ap(u){var c=Vt(u)?u:0;return function(d){bu(function(){mh(d)},c)}}function ef(u,c){return vh(ef,Ap(c),u,c)}var Dd;function gc(u,c){!Dd&&(Dd=ta(ze(Or,[pc]).v||null));var d=Dd.v;if(!d)return ef(u);et(u)||tn(pc+": executor is not a function - "+Ct(u));var g=0;function S(){return Dp[g]}var N=new d(function(R,B){function q(ie){g=2,R(ie)}function V(ie){g=3,B(ie)}u(q,V)});return On(N,"state",{get:S}),N}var Ys;function tf(u){return vh(tf,mh,u)}function gv(u,c){return!Ys&&(Ys=Sd(tf)),Ys.v(u,c)}var Np;function rf(u,c){return!Np&&(Np=ta(gc)),Np.v.call(this,u,c)}var Cp=lm(rf),zs=void 0,Jr="",yc="channels",_i="core",Ip="createPerfMgr",Td="disabled",nf="extensionConfig",_c="extensions",ca="processTelemetry",Ad="priority",ii="eventsSent",Er="eventsDiscarded",$s="eventsSendRequest",Sn="perfEvent",hs="offlineEventsStored",Ec="offlineBatchSent",wc="offlineBatchDrop",Vs="getPerfMgr",lo="domain",nl="path",gh="Not dynamic - ",il=/-([a-z])/g,yh=/([^\w\d_$])/g,al=/^(\d+[\w\d_$])/;function af(u){return!We(u)}function xp(u){var c=u;return c&&Pr(c)&&(c=c[$a](il,function(d,g){return g.toUpperCase()}),c=c[$a](yh,"_"),c=c[$a](al,function(d,g){return"_"+g})),c}function Zn(u,c){return u&&c?Qu(u,c)!==-1:!1}function of(u){return u&&u.toISOString()||""}function Ei(u){return Wt(u)?u[Ln]:Jr}function xu(u,c,d,g,S){var N=d;return u&&(N=u[c],N!==d&&(!S||S(N))&&(!g||g(d))&&(N=d,u[c]=N)),N}function Pp(u,c,d){var g;return u?(g=u[c],!g&&We(g)&&(g=Ue(d)?{}:d,u[c]=g)):g=Ue(d)?{}:d,g}function Nd(u,c){var d=null,g=null;return et(u)?d=u:g=u,function(){var S=arguments;if(d&&(g=d()),g)return g[c][oa](g,S)}}function wi(u,c,d,g,S){u&&c&&d&&(S!==!1||Ue(u[c]))&&(u[c]=Nd(d,g))}function Cd(u,c,d,g){return u&&c&&kn(u)&&ft(d)&&Ft(d,function(S){Pr(S)&&wi(u,S,c,S,g)}),u}function Rp(u){return function(){function c(){var d=this;u&&Rt(u,function(g,S){d[g]=S})}return c}()}function Ws(u){return u&&Ar&&(u=Ep(Ar({},u))),u}function It(u,c,d,g,S,N){var R=arguments,B=R[0]||{},q=R[vr],V=!1,ie=1;for(q>0&&Zo(B)&&(V=B,B=R[ie]||{},ie++),kn(B)||(B={});ie<q;ie++){var ve=R[ie],me=ft(ve),ye=kn(ve);for(var pe in ve){var Le=me&&pe in ve||ye&&qr(ve,pe);if(Le){var we=ve[pe],Ge=void 0;if(V&&we&&((Ge=ft(we))||ia(we))){var qe=B[pe];Ge?ft(qe)||(qe=[]):ia(qe)||(qe={}),we=It(V,qe,we)}we!==void 0&&(B[pe]=we)}}}return B}function vs(u){try{return u.responseText}catch{}return null}function ms(u,c){return u?"XDomainRequest,Response:"+vs(u)||"":c}function Da(u,c){return u?"XMLHttpRequest,Status:"+u[Va]+",Response:"+vs(u)||u.response||"":c}function ol(u,c){return c&&(Vt(c)?u=[c].concat(u):ft(c)&&(u=c.concat(u))),u}var sf="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",gs="withCredentials",Wa="timeout";function uf(u,c,d,g,S,N){g===void 0&&(g=!1),S===void 0&&(S=!1);function R(q,V,ie){try{q[V]=ie}catch{}}var B=new XMLHttpRequest;return g&&R(B,sf,g),d&&R(B,gs,d),B.open(u,c,!S),d&&R(B,gs,d),!S&&N&&R(B,Wa,N),B}function Id(u){var c={};if(Pr(u)){var d=ri(u)[Iu](/[\r\n]+/);Ft(d,function(g){if(g){var S=g.indexOf(": ");if(S!==-1){var N=ri(g.substring(0,S))[Tu](),R=ri(g.substring(S+1));c[N]=R}else c[ri(g)]=1}})}return c}function Hs(u,c,d){if(!u[d]&&c&&c[dc]){var g=c[dc](d);g&&(u[d]=ri(g))}return u}var sl="kill-duration",cf="kill-duration-seconds",ul="time-delta-millis";function kp(u,c){var d={};return u[fs]?d=Id(u[fs]()):c&&(d=Hs(d,u,ul),d=Hs(d,u,sl),d=Hs(d,u,cf)),d}var Op="documentMode",_h="location",dm="console",ys="JSON",Ks="crypto",_s="msCrypto",Ha="msie",Js="trident/",Pu="XMLHttpRequest",Ta=null,ff=null,yv=!1,bc=null,Eh=null;function cl(u,c){var d=!1;if(u){try{if(d=c in u,!d){var g=u[Jf];g&&(d=c in g)}}catch{}if(!d)try{var S=new u;d=!Ue(S[c])}catch{}}return d}function lf(u){if(u&&yv){var c=Or("__mockLocation");if(c)return c}return typeof location===_p&&location?location:Or(_h)}function fl(){return typeof console!==Kf?console:Or(dm)}function Zs(){return!!(typeof JSON===_p&&JSON||Or(ys)!==null)}function Ka(){return Zs()?JSON||Or(ys):null}function df(){return Or(Ks)}function ll(){return Or(_s)}function xd(){var u=ts();if(u&&(u[yi]!==ff||Ta===null)){ff=u[yi];var c=(ff||Jr)[Tu]();Ta=Zn(c,Ha)||Zn(c,Js)}return Ta}function bi(u){if(u===void 0&&(u=null),!u){var c=ts()||{};u=c?(c.userAgent||Jr)[Tu]():Jr}var d=(u||Jr)[Tu]();if(Zn(d,Ha)){var g=sd()||{};return Math.max(parseInt(d[Iu](Ha)[1]),g[Op]||0)}else if(Zn(d,Js)){var S=parseInt(d[Iu](Js)[1]);if(S)return S+4}return null}function Xs(u){return(Eh===null||u===!1)&&(Eh=Gc()&&!!ts().sendBeacon),Eh}function Si(u){var c=!1;try{c=!!Or("fetch");var d=Or("Request");c&&u&&d&&(c=cl(d,"keepalive"))}catch{}return c}function Pd(){return bc===null&&(bc=typeof XDomainRequest!==Kf,bc&&Ru()&&(bc=bc&&!cl(Or(Pu),"withCredentials"))),bc}function Ru(){var u=!1;try{var c=Or(Pu);u=!!c}catch{}return u}var Rd=4294967296,zi=4294967295,Di=123456789,wh=987654321,dl=!1,pl=Di,ku=wh;function _v(u){u<0&&(u>>>=0),pl=Di+u&zi,ku=wh-u&zi,dl=!0}function Ev(){try{var u=_u()&2147483647;_v((Math.random()*Rd^u)+u)}catch{}}function hl(u){var c=0,d=df()||ll();return d&&d.getRandomValues&&(c=d.getRandomValues(new Uint32Array(1))[0]&zi),c===0&&xd()&&(dl||Ev(),c=bh()&zi),c===0&&(c=Math.floor(Rd*Math.random()|0)),u||(c>>>=0),c}function bh(u){ku=36969*(ku&65535)+(ku>>16)&zi,pl=18e3*(pl&65535)+(pl>>16)&zi;var c=(ku<<16)+(pl&65535)>>>0&zi|0;return u||(c>>>=0),c}function vl(u){u===void 0&&(u=22);for(var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=hl()>>>0,g=0,S=Jr;S[vr]<u;)g++,S+=c.charAt(d&63),d>>>=6,g===5&&(d=(hl()<<2&4294967295|d&3)>>>0,g=0);return S}var Sh="3.3.4",wv="."+vl(6),ml=0;function bv(u){return u[qs]===1||u[qs]===9||!+u[qs]}function Ou(u,c){var d=c[u.id];if(!d){d={};try{bv(c)&&Hr(c,u.id,{e:!1,v:d})}catch{}}return d}function pf(u,c){return c===void 0&&(c=!1),xp(u+ml+++(c?"."+Sh:Jr)+wv)}function Mp(u){var c={id:pf("_aiData-"+(u||Jr)+"."+Sh),accept:function(d){return bv(d)},get:function(d,g,S,N){var R=d[c.id];return R?R[xp(g)]:(N&&(R=Ou(c,d),R[xp(g)]=S),S)},kill:function(d,g){if(d&&d[g])try{delete d[g]}catch{}}};return c}function Es(u){return u&&kn(u)&&(u.isVal||u.fb||qr(u,"v")||qr(u,"mrg")||qr(u,"ref")||u.set)}function kd(u,c,d){var g,S=d.dfVal||Gt;if(c&&d.fb){var N=d.fb;ft(N)||(N=[N]);for(var R=0;R<N[vr];R++){var B=N[R],q=c[B];if(S(q)?g=q:u&&(q=u.cfg[B],S(q)&&(g=q),u.set(u.cfg,Jn(B),q)),S(g))break}}return!S(g)&&S(d.v)&&(g=d.v),g}function gl(u,c,d){var g=d;if(d&&Es(d)&&(g=kd(u,c,d)),g){Es(g)&&(g=gl(u,c,g));var S;ft(g)?(S=[],S[vr]=g[vr]):ia(g)&&(S={}),S&&(Rt(g,function(N,R){R&&Es(R)&&(R=gl(u,c,R)),S[N]=R}),g=S)}return g}function Bo(u,c,d,g){var S,N,R,B=g,q,V,ie,ve;Es(B)?(S=B.isVal,N=B.set,ie=B[xo],ve=B[Fs],q=B.mrg,V=B.ref,!V&&Ue(V)&&(V=!!q),R=kd(u,c,B)):R=g,ve&&u[Fs](c,d);var me,ye=!0,pe=c[d];(pe||!We(pe))&&(me=pe,ye=!1,S&&me!==R&&!S(me)&&(me=R,ye=!0),N&&(me=N(me,R,c),ye=me===R)),ye?R?me=gl(u,c,R):me=R:(ia(me)||ft(R))&&q&&R&&(ia(R)||ft(R))&&Rt(R,function(Le,we){Bo(u,me,Le,we)}),u.set(c,d,me),V&&u.ref(c,d),ie&&u[xo](c,d)}var hf=to("[[ai_dynCfg_1]]"),Sv=to("[[ai_blkDynCfg_1]]"),vf=to("[[ai_frcDynCfg_1]]");function pm(u){if(u){var c;if(ft(u)?(c=[],c[vr]=u[vr]):ia(u)&&(c={}),c)return Rt(u,function(d,g){c[d]=pm(g)}),c}return u}function yl(u){if(u){var c=u[hf]||u;if(c.cfg&&(c.cfg===u||c.cfg[hf]===c))return c}return null}function Dv(u){if(u&&(ia(u)||ft(u)))try{u[Sv]=!0}catch{}return u}function Dh(u,c,d){var g=!1;return d&&!u[c.blkVal]&&(g=d[vf],!g&&!d[Sv]&&(g=ia(d)||ft(d))),g}function Mu(u){tn("InvalidAccess:"+u)}var Lu=["push","pop","shift","unshift","splice"],mf=function(u,c,d,g){u&&u[gd](3,108,"".concat(d," [").concat(c,"] failed - ")+Ct(g))};function ws(u,c,d){ft(c)&&Ft(Lu,function(g){var S=c[g];c[g]=function(){for(var N=[],R=0;R<arguments.length;R++)N[R]=arguments[R];var B=S[oa](this,N);return El(u,c,d,"Patching"),B}})}function Qs(u,c){var d=or(u,c);return d&&d.get}function _l(u,c,d,g){var S={n:d,h:[],trk:function(V){V&&V.fn&&(ya(S.h,V)===-1&&S.h[Yr](V),u.trk(V,S))},clr:function(V){var ie=ya(S.h,V);ie!==-1&&S.h[yt](ie,1)}},N=!0,R=!1;function B(){N&&(R=R||Dh(B,u,g),g&&!g[hf]&&R&&(g=El(u,g,d,"Converting")),N=!1);var V=u.act;return V&&S.trk(V),g}B[u.prop]={chng:function(){u.add(S)}};function q(V){if(g!==V){B[u.ro]&&!u.upd&&Mu("["+d+"] is read-only:"+Ct(c)),N&&(R=R||Dh(B,u,g),N=!1);var ie=R&&B[u.rf];if(R)if(ie){Rt(g,function(me){g[me]=V?V[me]:zs});try{Rt(V,function(me,ye){Od(u,g,me,ye)}),V=g}catch(me){mf((u.hdlr||{})[vn],d,"Assigning",me),R=!1}}else g&&g[hf]&&Rt(g,function(me){var ye=Qs(g,me);if(ye){var pe=ye[u.prop];pe&&pe.chng()}});if(V!==g){var ve=V&&Dh(B,u,V);!ie&&ve&&(V=El(u,V,d,"Converting")),g=V,R=ve}u.add(S)}}Hr(c,S.n,{g:B,s:q})}function Od(u,c,d,g){if(c){var S=Qs(c,d),N=S&&!!S[u.prop];N?c[d]=g:_l(u,c,d,g)}return c}function Md(u,c,d,g){if(c){var S=Qs(c,d),N=S&&!!S[u.prop],R=g&&g[0],B=g&&g[1],q=g&&g[2];if(!N){if(q)try{Dv(c)}catch(V){mf((u.hdlr||{})[vn],d,"Blocking",V)}try{Od(u,c,d,c[d]),S=Qs(c,d)}catch(V){mf((u.hdlr||{})[vn],d,"State",V)}}R&&(S[u.rf]=R),B&&(S[u.ro]=B),q&&(S[u.blkVal]=!0)}return c}function El(u,c,d,g){try{Rt(c,function(S,N){Od(u,c,S,N)}),c[hf]||(On(c,hf,{get:function(){return u[sc]}}),ws(u,c,d))}catch(S){mf((u.hdlr||{})[vn],d,g,S)}return c}var Aa="[[ai_",wl="]]";function Tv(u){var c,d=jf(Aa+"get"+u.uid+wl),g=jf(Aa+"ro"+u.uid+wl),S=jf(Aa+"rf"+u.uid+wl),N=jf(Aa+"blkVal"+u.uid+wl),R=jf(Aa+"dtl"+u.uid+wl),B=null,q=null,V;function ie(pe,Le){var we=V.act;try{V.act=pe,pe&&pe[R]&&(Ft(pe[R],function(qe){qe.clr(pe)}),pe[R]=[]),Le({cfg:u.cfg,set:u.set.bind(u),setDf:u[qa].bind(u),ref:u.ref.bind(u),rdOnly:u[xo].bind(u)})}catch(qe){var Ge=u[vn];throw Ge&&Ge[gd](1,107,Ct(qe)),qe}finally{V.act=we||null}}function ve(){if(B){var pe=B;B=null,q&&q[Po](),q=null;var Le=[];if(Ft(pe,function(we){if(we&&(we[R]&&(Ft(we[R],function(Ge){Ge.clr(we)}),we[R]=null),we.fn))try{ie(we,we.fn)}catch(Ge){Le[Yr](Ge)}}),B)try{ve()}catch(we){Le[Yr](we)}Le[vr]>0&&hv("Watcher error(s): ",Le)}}function me(pe){if(pe&&pe.h[vr]>0){B||(B=[]),q||(q=bu(function(){q=null,ve()},0));for(var Le=0;Le<pe.h[vr];Le++){var we=pe.h[Le];we&&ya(B,we)===-1&&B[Yr](we)}}}function ye(pe,Le){if(pe){var we=pe[R]=pe[R]||[];ya(we,Le)===-1&&we[Yr](Le)}}return V=(c={prop:d,ro:g,rf:S},c[Fs]=N,c[sc]=u,c.add=me,c[ss]=ve,c.use=ie,c.trk=ye,c),V}function hm(u,c){var d={fn:c,rm:function(){d.fn=null,u=null,c=null}};return Hr(d,"toJSON",{v:function(){return"WatcherHandler"+(d.fn?"":"[X]")}}),u.use(d,c),d}function gf(u,c,d){var g,S=yl(c);if(S)return S;var N=pf("dyncfg",!0),R=c&&d!==!1?c:pm(c),B;function q(){B[ss]()}function V(Ge,qe,tt){try{Ge=Od(B,Ge,qe,tt)}catch(ht){mf(u,qe,"Setting value",ht)}return Ge[qe]}function ie(Ge){return hm(B,Ge)}function ve(Ge,qe){B.use(null,function(tt){var ht=B.upd;try{Ue(qe)||(B.upd=qe),Ge(tt)}finally{B.upd=ht}})}function me(Ge,qe){var tt;return Md(B,Ge,qe,(tt={},tt[0]=!0,tt))[qe]}function ye(Ge,qe){var tt;return Md(B,Ge,qe,(tt={},tt[1]=!0,tt))[qe]}function pe(Ge,qe){var tt;return Md(B,Ge,qe,(tt={},tt[2]=!0,tt))[qe]}function Le(Ge,qe){return qe&&Rt(qe,function(tt,ht){Bo(we,Ge,tt,ht)}),Ge}var we=(g={uid:null,cfg:R},g[vn]=u,g[ss]=q,g.set=V,g[qa]=Le,g[Au]=ie,g.ref=me,g[xo]=ye,g[Fs]=pe,g._block=ve,g);return Hr(we,"uid",{c:!1,e:!1,w:!1,v:N}),B=Tv(we),El(B,R,"config","Creating"),we}function vm(u,c){u?(u[Ga](c),u[gd](2,108,c)):Mu(c)}function jo(u,c,d,g){var S=gf(d,u||{},g);return c&&S[qa](S.cfg,c),S}function Fu(u,c,d){var g=u[hf]||u;return g.cfg&&(g.cfg===u||g.cfg[hf]===g)?g[Au](c):(vm(d,gh+Ct(u)),jo(u,null,d)[Au](c))}function yf(u,c){if(u&&u[Bs])return u[Bs](c)}function Av(u,c,d){var g;return d||(g=rf(function(S){d=S})),u&&lh(u)>0?ps(yf(u[0],c),function(){Av(Gf(u,1),c,d)}):d(),g}var Lp=500,Nv="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";function Th(u,c,d){return!u&&We(u)?c:Zo(u)?u:Jn(u)[Tu]()==="true"}function Ld(u){return{mrg:!0,v:u}}function _f(u,c,d){return{fb:d,isVal:u,v:c}}function po(u,c){return{fb:c,set:Th,v:!!u}}var Fd=[ii,Er,$s,Sn],Ef=null,$i;function ho(u,c){return function(){var d=arguments,g=Cv(c);if(g){var S=g.listener;S&&S[u]&&S[u][oa](S,d)}}}function bl(){var u=Or("Microsoft");return u&&(Ef=u.ApplicationInsights),Ef}function Cv(u){var c=Ef;return!c&&u.disableDbgExt!==!0&&(c=Ef||bl()),c?c.ChromeDbgExt:null}function Iv(u){if(!$i){$i={};for(var c=0;c<Fd[vr];c++)$i[Fd[c]]=ho(Fd[c],u)}return $i}var Ti,wf="warnToConsole",Sl="AI (Internal): ",mm="AI: ",xv="AITR_",Dl={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},Vi=(Ti={},Ti[0]=null,Ti[1]="errorToConsole",Ti[2]=wf,Ti[3]="debugToConsole",Ti);function Fp(u){return u?'"'+u[$a](/\"/g,Jr)+'"':Jr}function Sc(u,c){var d=fl();if(d){var g="log";d[u]&&(g=u),et(d[g])&&d[g](c)}}var bf=function(){function u(c,d,g,S){g===void 0&&(g=!1);var N=this;N[Ed]=c,N[fc]=(g?mm:Sl)+c;var R=Jr;Zs()&&(R=Ka().stringify(S));var B=(d?" message:"+Fp(d):Jr)+(S?" props:"+Fp(R):Jr);N[fc]+=B}return u.dataType="MessageData",u}();function eu(u,c){return(u||{})[vn]||new Tl(c)}var Tl=function(){function u(c){this.identifier="DiagnosticLogger",this.queue=[];var d=0,g={},S,N,R,B,q;qi(u,this,function(V){q=ve(c||{}),V.consoleLoggingLevel=function(){return S},V[gd]=function(pe,Le,we,Ge,qe){qe===void 0&&(qe=!1);var tt=new bf(Le,we,qe,Ge);if(B)throw Ct(tt);var ht=Vi[pe]||wf;if(Ue(tt[fc]))ye("throw"+(pe===1?"Critical":"Warning"),tt);else{if(qe){var xr=+tt[Ed];!g[xr]&&S>=pe&&(V[ht](tt[fc]),g[xr]=!0)}else S>=pe&&V[ht](tt[fc]);ie(pe,tt)}},V.debugToConsole=function(pe){Sc("debug",pe),ye("warning",pe)},V[Ga]=function(pe){Sc("warn",pe),ye("warning",pe)},V.errorToConsole=function(pe){Sc("error",pe),ye("error",pe)},V.resetInternalMessageCount=function(){d=0,g={}},V[lc]=ie,V[Bs]=function(pe){q&&q.rm(),q=null};function ie(pe,Le){if(!me()){var we=!0,Ge=xv+Le[Ed];if(g[Ge]?we=!1:g[Ge]=!0,we&&(pe<=N&&(V.queue[Yr](Le),d++,ye(pe===1?"error":"warn",Le)),d===R)){var qe="Internal events throttle limit per PageView reached for this app.",tt=new bf(23,qe,!1);V.queue[Yr](tt),pe===1?V.errorToConsole(qe):V[Ga](qe)}}}function ve(pe){return Fu(jo(pe,Dl,V).cfg,function(Le){var we=Le.cfg;S=we[cc],N=we.loggingLevelTelemetry,R=we.maxMessageLimit,B=we.enableDebug})}function me(){return d>=R}function ye(pe,Le){var we=Cv(c||{});we&&we[ba]&&we[ba](pe,Le)}})}return u.__ieDyn=1,u}();function Up(u){return u||new Tl}function At(u,c,d,g,S,N){N===void 0&&(N=!1),Up(u)[gd](c,d,g,S,N)}function Uu(u,c){Up(u)[Ga](c)}var Go,Al,gm="toGMTString",Nl="toUTCString",Ud="cookie",qo="expires",Pv="isCookieUseDisabled",Bp="disableCookiesUsage",jp="_ckMgr",Cl=null,Dc=null,Ah=null,en,tu={},Nh={},Bu=(Go={cookieCfg:Ld((Al={},Al[lo]={fb:"cookieDomain",dfVal:af},Al.path={fb:"cookiePath",dfVal:af},Al.enabled=zs,Al.ignoreCookies=zs,Al.blockedCookies=zs,Al)),cookieDomain:zs,cookiePath:zs},Go[Bp]=zs,Go);function vo(){!en&&(en=gu(function(){return sd()}))}function Yn(u){return u?u.isEnabled():!0}function Bd(u,c){return c&&u&&ft(u.ignoreCookies)?ya(u.ignoreCookies,c)!==-1:!1}function Tc(u,c){return c&&u&&ft(u.blockedCookies)&&ya(u.blockedCookies,c)!==-1?!0:Bd(u,c)}function Sf(u,c){var d=c[uc];if(We(d)){var g=void 0;Ue(u[Pv])||(g=!u[Pv]),Ue(u[Bp])||(g=!u[Bp]),d=g}return d}function bs(u,c){var d,g,S,N,R,B,q,V,ie;u=jo(u||Nh,null,c).cfg,R=Fu(u,function(me){me[qa](me.cfg,Bu),g=me.ref(me.cfg,"cookieCfg"),S=g[nl]||"/",N=g[lo],B=Sf(u,g)!==!1,q=g.getCookie||Ch,V=g.setCookie||Ss,ie=g.delCookie||Ss},c);var ve=(d={isEnabled:function(){var me=Sf(u,g)!==!1&&B&&mo(c),ye=Nh[jp];return me&&ye&&ve!==ye&&(me=Yn(ye)),me},setEnabled:function(me){B=me!==!1,g[uc]=me},set:function(me,ye,pe,Le,we){var Ge=!1;if(Yn(ve)&&!Tc(g,me)){var qe={},tt=ri(ye||Jr),ht=Qu(tt,";");if(ht!==-1&&(tt=ri(Ni(ye,ht)),qe=Yo(ha(ye,ht+1))),xu(qe,lo,Le||N,ei,Ue),!We(pe)){var xr=xd();if(Ue(qe[qo])){var sn=_u(),un=sn+pe*1e3;if(un>0){var Dn=new Date;Dn.setTime(un),xu(qe,qo,jd(Dn,xr?gm:Nl)||jd(Dn,xr?gm:Nl)||Jr,ei)}}xr||xu(qe,"max-age",Jr+pe,null,Ue)}var nr=lf();nr&&nr[Cu]==="https:"&&(xu(qe,"secure",null,null,Ue),Dc===null&&(Dc=!Ih((ts()||{})[yi])),Dc&&xu(qe,"SameSite","None",null,Ue)),xu(qe,nl,we||S,null,Ue),V(me,Gp(tt,qe)),Ge=!0}return Ge},get:function(me){var ye=Jr;return Yn(ve)&&!Bd(g,me)&&(ye=q(me)),ye},del:function(me,ye){var pe=!1;return Yn(ve)&&(pe=ve.purge(me,ye)),pe},purge:function(me,ye){var pe,Le=!1;if(mo(c)){var we=(pe={},pe[nl]=ye||"/",pe[qo]="Thu, 01 Jan 1970 00:00:01 GMT",pe);xd()||(we["max-age"]="0"),ie(me,Gp(Jr,we)),Le=!0}return Le}},d[Bs]=function(me){R&&R.rm(),R=null},d);return ve[jp]=ve,ve}function mo(u){if(Cl===null){Cl=!1,!en&&vo();try{var c=en.v||{};Cl=c[Ud]!==void 0}catch(d){At(u,2,68,"Cannot access document.cookie - "+Ei(d),{exception:Ct(d)})}}return Cl}function Yo(u){var c={};if(u&&u[vr]){var d=ri(u)[Iu](";");Ft(d,function(g){if(g=ri(g||Jr),g){var S=Qu(g,"=");S===-1?c[g]=null:c[ri(Ni(g,S))]=ri(ha(g,S+1))}})}return c}function jd(u,c){return et(u[c])?u[c]():null}function Gp(u,c){var d=u||Jr;return Rt(c,function(g,S){d+="; "+g+(We(S)?Jr:"="+S)}),d}function Ch(u){var c=Jr;if(!en&&vo(),en.v){var d=en.v[Ud]||Jr;Ah!==d&&(tu=Yo(d),Ah=d),c=ri(tu[u]||Jr)}return c}function Ss(u,c){!en&&vo(),en.v&&(en.v[Ud]=u+"="+c)}function Ih(u){return Pr(u)?!!(Zn(u,"CPU iPhone OS 12")||Zn(u,"iPad; CPU OS 12")||Zn(u,"Macintosh; Intel Mac OS X 10_14")&&Zn(u,"Version/")&&Zn(u,"Safari")||Zn(u,"Macintosh; Intel Mac OS X 10_14")&&Ua(u,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Zn(u,"Chrome/5")||Zn(u,"Chrome/6")||Zn(u,"UnrealEngine")&&!Zn(u,"Chrome")||Zn(u,"UCBrowser/12")||Zn(u,"UCBrowser/11")):!1}var Gd={perfEvtsSendAll:!1};function xh(u){u.h=null;var c=u.cb;u.cb=[],Ft(c,function(d){ze(d.fn,[d.arg])})}function Ds(u,c,d,g){Ft(u,function(S){S&&S[c]&&(d?(d.cb[Yr]({fn:g,arg:S}),d.h=d.h||bu(xh,0,d)):ze(g,[S]))})}var ym=function(){function u(c){this.listeners=[];var d,g,S=[],N={h:null,cb:[]},R=jo(c,Gd);g=R[Au](function(B){d=!!B.cfg.perfEvtsSendAll}),qi(u,this,function(B){Hr(B,"listeners",{g:function(){return S}}),B[Ya]=function(q){S[Yr](q)},B[Nu]=function(q){for(var V=ya(S,q);V>-1;)S[yt](V,1),V=ya(S,q)},B[ii]=function(q){Ds(S,ii,N,function(V){V[ii](q)})},B[Er]=function(q,V){Ds(S,Er,N,function(ie){ie[Er](q,V)})},B[$s]=function(q,V){Ds(S,$s,V?N:null,function(ie){ie[$s](q,V)})},B[Sn]=function(q){q&&(d||!q[bp]())&&Ds(S,Sn,null,function(V){q[js]?bu(function(){return V[Sn](q)},0):V[Sn](q)})},B[hs]=function(q){q&&q[vr]&&Ds(S,hs,N,function(V){V[hs](q)})},B[Ec]=function(q){q&&q[Sa]&&Ds(S,Ec,N,function(V){V[Ec](q)})},B[wc]=function(q,V){if(q>0){var ie=V||0;Ds(S,wc,N,function(ve){ve[wc](q,ie)})}},B[Bs]=function(q){var V=function(){g&&g.rm(),g=null,S=[],N.h&&N.h[Po](),N.h=null,N.cb=[]},ie;if(Ds(S,"unload",null,function(ve){var me=ve[Bs](q);me&&(ie||(ie=[]),ie[Yr](me))}),ie)return rf(function(ve){return ps(Cp(ie),function(){V(),ve()})});V()}})}return u.__ieDyn=1,u}(),ju="ctx",Ph="ParentContextKey",p="ChildrenContextKey",y=null,b=function(){function u(c,d,g){var S=this;if(S.start=_u(),S[Ln]=c,S[js]=g,S[bp]=function(){return!1},et(d)){var N;Hr(S,"payload",{g:function(){return!N&&et(d)&&(N=d(),d=null),N}})}S[Xc]=function(R){return R?R===u[Ph]||R===u[p]?S[R]:(S[ju]||{})[R]:null},S[xi]=function(R,B){if(R)if(R===u[Ph])S[R]||(S[bp]=function(){return!0}),S[R]=B;else if(R===u[p])S[R]=B;else{var q=S[ju]=S[ju]||{};q[R]=B}},S[wd]=function(){var R=0,B=S[Xc](u[p]);if(ft(B))for(var q=0;q<B[vr];q++){var V=B[q];V&&(R+=V[us])}S[us]=_u()-S.start,S.exTime=S[us]-R,S[wd]=function(){}}}return u.ParentContextKey="parent",u.ChildrenContextKey="childEvts",u}(),C=function(){function u(c){this.ctx={},qi(u,this,function(d){d.create=function(g,S,N){return new b(g,S,N)},d.fire=function(g){g&&(g[wd](),c&&et(c[Sn])&&c[Sn](g))},d[xi]=function(g,S){if(g){var N=d[ju]=d[ju]||{};N[g]=S}},d[Xc]=function(g){return(d[ju]||{})[g]}})}return u.__ieDyn=1,u}(),j="CoreUtils.doPerf";function Z(u,c,d,g,S){if(u){var N=u;if(N[Vs]&&(N=N[Vs]()),N){var R=void 0,B=N[Xc](j);try{if(R=N.create(c(),g,S),R){if(B&&R[xi]&&(R[xi](b[Ph],B),B[Xc]&&B[xi])){var q=B[Xc](b[p]);q||(q=[],B[xi](b[p],q)),q[Yr](R)}return N[xi](j,R),d(R)}}catch(V){R&&R[xi]&&R[xi]("exception",V)}finally{R&&N.fire(R),N[xi](j,B)}}}return d()}function re(){return y}var se="00000000000000000000000000000000",oe="0000000000000000";function Se(u,c,d){return u&&u[vr]===c&&u!==d?!!u.match(/^[\da-f]*$/i):!1}function st(u){return Se(u,32,se)}function xt(u){return Se(u,16,oe)}var er=Mp("plugin");function lt(u){return er.get(u,"state",{},!0)}function vt(u,c){for(var d=[],g=null,S=u[za](),N;S;){var R=S[Oo]();if(R){g&&g[Zc]&&R[ca]&&g[Zc](R),N=lt(R);var B=!!N[Kr];R[Kr]&&(B=R[Kr]()),B||d[Yr](R),g=R,S=S[za]()}}Ft(d,function(q){var V=u[_i]();q[Us](u.getCfg(),V,c,u[za]()),N=lt(q),!q[_i]&&!N[_i]&&(N[_i]=V),N[Kr]=!0,delete N[qn]})}function dr(u){return u.sort(function(c,d){var g=0;if(d){var S=d[ca];c[ca]?g=S?c[Ad]-d[Ad]:1:S&&(g=-1)}else g=c?1:-1;return g})}function qt(u){var c={};return{getName:function(){return c[Ln]},setName:function(d){u&&u.setName(d),c[Ln]=d},getTraceId:function(){return c[Qf]},setTraceId:function(d){u&&u.setTraceId(d),st(d)&&(c[Qf]=d)},getSpanId:function(){return c[Uo]},setSpanId:function(d){u&&u.setSpanId(d),xt(d)&&(c[Uo]=d)},getTraceFlags:function(){return c[ua]},setTraceFlags:function(d){u&&u.setTraceFlags(d),c[ua]=d}}}var Cr="TelemetryPluginChain",Rr="_hasRun",Ut="_getTelCtx",Nn=0;function Ac(u,c,d){for(;u;){if(u[Oo]()===d)return u;u=u[za]()}return xl([d],c.config||{},c)}function ru(u,c,d,g){var S=null,N=[];c||(c=jo({},null,d[vn])),g!==null&&(S=g?Ac(u,d,g):u);var R={_next:q,ctx:{core:function(){return d},diagLog:function(){return eu(d,c.cfg)},getCfg:function(){return c.cfg},getExtCfg:ie,getConfig:ve,hasNext:function(){return!!S},getNext:function(){return S},setNext:function(ye){S=ye},iterate:me,onComplete:B}};function B(ye,pe){for(var Le=[],we=2;we<arguments.length;we++)Le[we-2]=arguments[we];ye&&N[Yr]({func:ye,self:Ue(pe)?R.ctx:pe,args:Le})}function q(){var ye=S;if(S=ye?ye[za]():null,!ye){var pe=N;pe&&pe[vr]>0&&(Ft(pe,function(Le){try{Le.func.call(Le.self,Le.args)}catch(we){At(d[vn],2,73,"Unexpected Exception during onComplete - "+Ct(we))}}),N=[])}return ye}function V(ye,pe){var Le=null,we=c.cfg;if(we&&ye){var Ge=we[nf];!Ge&&pe&&(Ge={}),we[nf]=Ge,Ge=c.ref(we,nf),Ge&&(Le=Ge[ye],!Le&&pe&&(Le={}),Ge[ye]=Le,Le=c.ref(Ge,ye))}return Le}function ie(ye,pe){var Le=V(ye,!0);return pe&&Rt(pe,function(we,Ge){if(We(Le[we])){var qe=c.cfg[we];(qe||!We(qe))&&(Le[we]=qe)}Bo(c,Le,we,Ge)}),c[qa](Le,pe)}function ve(ye,pe,Le){Le===void 0&&(Le=!1);var we,Ge=V(ye,!1),qe=c.cfg;return Ge&&(Ge[pe]||!We(Ge[pe]))?we=Ge[pe]:(qe[pe]||!We(qe[pe]))&&(we=qe[pe]),we||!We(we)?we:Le}function me(ye){for(var pe;pe=R._next();){var Le=pe[Oo]();Le&&ye(Le)}}return R}function Df(u,c,d,g){var S=jo(c),N=ru(u,S,d,g),R=N.ctx;function B(V){var ie=N._next();return ie&&ie[ca](V,R),!ie}function q(V,ie){return V===void 0&&(V=null),ft(V)&&(V=xl(V,S.cfg,d,ie)),Df(V||R[za](),S.cfg,d,ie)}return R[Ii]=B,R[Fo]=q,R}function Il(u,c,d){var g=jo(c.config),S=ru(u,g,c,d),N=S.ctx;function R(q){var V=S._next();return V&&V[Bs](N,q),!V}function B(q,V){return q===void 0&&(q=null),ft(q)&&(q=xl(q,g.cfg,c,V)),Il(q||N[za](),c,V)}return N[Ii]=R,N[Fo]=B,N}function qd(u,c,d){var g=jo(c.config),S=ru(u,g,c,d),N=S.ctx;function R(q){return N.iterate(function(V){et(V[Gs])&&V[Gs](N,q)})}function B(q,V){return q===void 0&&(q=null),ft(q)&&(q=xl(q,g.cfg,c,V)),qd(q||N[za](),c,V)}return N[Ii]=R,N[Fo]=B,N}function xl(u,c,d,g){var S=null,N=!g;if(ft(u)&&u[vr]>0){var R=null;Ft(u,function(B){if(!N&&g===B&&(N=!0),N&&B&&et(B[ca])){var q=Pl(B,c,d);S||(S=q),R&&R._setNext(q),R=q}})}return g&&!S?xl([g],c,d):S}function Pl(u,c,d){var g=null,S=et(u[ca]),N=et(u[Zc]),R;u?R=u[uo]+"-"+u[Ad]+"-"+Nn++:R="Unknown-0-"+Nn++;var B={getPlugin:function(){return u},getNext:function(){return g},processTelemetry:ie,unload:ve,update:me,_id:R,_setNext:function(ye){g=ye}};function q(){var ye;return u&&et(u[Ut])&&(ye=u[Ut]()),ye||(ye=Df(B,c,d)),ye}function V(ye,pe,Le,we,Ge){var qe=!1,tt=u?u[uo]:Cr,ht=ye[Rr];return ht||(ht=ye[Rr]={}),ye.setNext(g),u&&Z(ye[_i](),function(){return tt+":"+Le},function(){ht[R]=!0;try{var xr=g?g._id:Jr;xr&&(ht[xr]=!1),qe=pe(ye)}catch(un){var sn=g?ht[g._id]:!0;sn&&(qe=!0),(!g||!sn)&&At(ye[ba](),1,73,"Plugin ["+tt+"] failed during "+Le+" - "+Ct(un)+", run flags: "+Ct(ht))}},we,Ge),qe}function ie(ye,pe){pe=pe||q();function Le(we){if(!u||!S)return!1;var Ge=lt(u);return Ge[qn]||Ge[Td]?!1:(N&&u[Zc](g),u[ca](ye,we),!0)}V(pe,Le,"processTelemetry",function(){return{item:ye}},!ye.sync)||pe[Ii](ye)}function ve(ye,pe){function Le(){var we=!1;if(u){var Ge=lt(u),qe=u[_i]||Ge[_i];u&&(!qe||qe===ye.core())&&!Ge[qn]&&(Ge[_i]=null,Ge[qn]=!0,Ge[Kr]=!1,u[qn]&&u[qn](ye,pe)===!0&&(we=!0))}return we}V(ye,Le,"unload",function(){},pe[js])||ye[Ii](pe)}function me(ye,pe){function Le(){var we=!1;if(u){var Ge=lt(u),qe=u[_i]||Ge[_i];u&&(!qe||qe===ye.core())&&!Ge[qn]&&u[Gs]&&u[Gs](ye,pe)===!0&&(we=!0)}return we}V(ye,Le,"update",function(){},!1)||ye[Ii](pe)}return sr(B)}function Yd(){var u=[];function c(g){g&&u[Yr](g)}function d(g,S){Ft(u,function(N){try{N(g,S)}catch(R){At(g[ba](),2,73,"Unexpected error calling unload handler - "+Ct(R))}}),u=[]}return{add:c,run:d}}function Rl(){var u=[];function c(g){var S=u;u=[],Ft(S,function(N){try{(N.rm||N.remove).call(N)}catch(R){At(g,2,73,"Unloading:"+Ct(R))}})}function d(g){g&&qc(u,g)}return{run:c,add:d}}var Be,_t="getPlugin",Ht=(Be={},Be[nf]={isVal:af,v:{}},Be),fn=function(){function u(){var c=this,d,g,S,N,R;V(),qi(u,c,function(ie){ie[Us]=function(ve,me,ye,pe){q(ve,me,pe),d=!0},ie[qn]=function(ve,me){var ye,pe=ie[_i];if(!pe||ve&&pe!==ve[_i]())return;var Le,we=!1,Ge=ve||Il(null,pe,S&&S[_t]?S[_t]():S),qe=me||(ye={reason:0},ye[js]=!1,ye);function tt(){we||(we=!0,N.run(Ge,me),R.run(Ge[ba]()),Le===!0&&Ge[Ii](qe),V())}return!ie[cs]||ie[cs](Ge,qe,tt)!==!0?tt():Le=!0,Le},ie[Gs]=function(ve,me){var ye=ie[_i];if(!ye||ve&&ye!==ve[_i]())return;var pe,Le=!1,we=ve||qd(null,ye,S&&S[_t]?S[_t]():S),Ge=me||{reason:0};function qe(){Le||(Le=!0,q(we.getCfg(),we.core(),we[za]()))}return!ie._doUpdate||ie._doUpdate(we,Ge,qe)!==!0?qe():pe=!0,pe},wi(ie,"_addUnloadCb",function(){return N},"add"),wi(ie,"_addHook",function(){return R},"add"),Hr(ie,"_unloadHooks",{g:function(){return R}})}),c[ba]=function(ie){return B(ie)[ba]()},c[Kr]=function(){return d},c.setInitialized=function(ie){d=ie},c[Zc]=function(ie){S=ie},c[Ii]=function(ie,ve){ve?ve[Ii](ie):S&&et(S[ca])&&S[ca](ie,null)},c._getTelCtx=B;function B(ie){ie===void 0&&(ie=null);var ve=ie;if(!ve){var me=g||Df(null,{},c[_i]);S&&S[_t]?ve=me[Fo](null,S[_t]):ve=me[Fo](null,S)}return ve}function q(ie,ve,me){jo(ie,Ht,eu(ve)),!me&&ve&&(me=ve[Yi]()[za]());var ye=S;S&&S[_t]&&(ye=S[_t]()),c[_i]=ve,g=Df(me,ie,ve,ye)}function V(){d=!1,c[_i]=null,g=null,S=null,R=Rl(),N=Yd()}}return u.__ieDyn=1,u}();function Pi(u,c,d){var g={id:c,fn:d};qc(u,g);var S={remove:function(){Ft(u,function(N,R){if(N.id===g.id)return u[yt](R,1),-1})}};return S}function Ri(u,c,d){for(var g=!1,S=u[vr],N=0;N<S;++N){var R=u[N];if(R)try{if(R.fn[oa](null,[c])===!1){g=!0;break}}catch(B){At(d,2,64,"Telemetry initializer failed: "+Ei(B),{exception:Ct(B)},!0)}}return!g}var ai=function(u){Zf(c,u);function c(){var d=u.call(this)||this;d.identifier="TelemetryInitializerPlugin",d.priority=199;var g,S;N(),qi(c,d,function(R,B){R.addTelemetryInitializer=function(q){return Pi(S,g++,q)},R[ca]=function(q,V){Ri(S,q,V?V[ba]():R[ba]())&&R[Ii](q,V)},R[cs]=function(){N()}});function N(){g=0,S=[]}return d}return c.__ieDyn=1,c}(fn),Na,Ts="Plugins must provide initialize method",Tf="_notificationManager",Rv="SDK is still unloading...",Gu="SDK is not initialized",zd=100,_m=5e4,oi=hi((Na={cookieCfg:{}},Na[_c]={rdOnly:!0,ref:!0,v:[]},Na[yc]={rdOnly:!0,ref:!0,v:[]},Na[nf]={ref:!0,v:{}},Na[Ip]=zs,Na.loggingLevelConsole=0,Na.diagnosticLogInterval=zs,Na));function As(u,c){return new C(c)}function kv(u,c,d){var g,S=[],N=[],R={};return Ft(d,function(B){(We(B)||We(B[Us]))&&lr(Ts);var q=B[Ad],V=B[uo];B&&q&&(We(R[q])?R[q]=V:Uu(u,"Two extensions have same priority #"+q+" - "+R[q]+", "+V)),!q||q<c?S[Yr](B):N[Yr](B)}),g={},g[_i]=S,g[yc]=N,g}function Em(u,c){var d=!1;return Ft(c,function(g){if(g===u)return d=!0,-1}),d}function Rh(u,c,d,g){d&&Rt(d,function(S,N){g&&ia(N)&&ia(c[S])&&Rh(u,c[S],N,g),g&&ia(N)&&ia(c[S])?Rh(u,c[S],N,g):u.set(c,S,N)})}function wm(u,c){var d=null,g=-1;return Ft(u,function(S,N){if(S.w===c)return d=S,g=N,-1}),{i:g,l:d}}function bm(u,c){var d=wm(u,c).l;return d||(d={w:c,rm:function(){var g=wm(u,c);g.i!==-1&&u[yt](g.i,1)}},u[Yr](d)),d}function Bg(u,c,d){Ft(c,function(g){var S=Fu(u,g.w,d);delete g.w,g.rm=function(){S.rm()}})}function Sm(u,c,d,g){return c.add(u[Au](function(S){var N=S.cfg.disableDbgExt;N===!0&&g&&(d[Nu](g),g=null),d&&!g&&N!==!0&&(g=Iv(S.cfg),d[Ya](g))})),g}function Dm(u){return Hr({rm:function(){u.rm()}},"toJSON",{v:function(){return"aicore::onCfgChange<"+JSON.stringify(u)+">"}})}var Af=function(){function u(){var c,d,g,S,N,R,B,q,V,ie,ve,me,ye,pe,Le,we,Ge,qe,tt,ht,xr,sn,un,Dn,nr,zt,an,Zi,li,nt,$t,Pn;qi(u,this,function(Ye){Te(),Ye._getDbgPlgTargets=function(){return[un,S]},Ye[Kr]=function(){return d},Ye.activeStatus=function(){return zt},Ye._setPendingStatus=function(){zt=3},Ye[Us]=function(Re,wt,ir,Lt){ye&&lr(Rv),Ye[Kr]()&&lr("Core cannot be initialized more than once"),c=jo(Re,oi,ir||Ye[vn],!1),Re=c.cfg,fu(c[Au](function(Tn){var Qi=Tn.cfg,Ho=zt===3;if(!Ho){Zi=Qi.initInMemoMaxSize||zd;var lu=Qi[Ro],Xp=Qi.endpointUrl;if(We(lu)){xr=null,zt=ja[zr];var Qp="Please provide instrumentation key";d?(At(g,1,100,Qp),di()):lr(Qp);return}var Zg=[];if(Jt(lu)?(Zg[Yr](lu),xr=null):xr=lu,Jt(Xp)?(Zg[Yr](Xp),an=null):an=Xp,Zg[vr]){li=!1,zt=3;var Gy=af(Qi.initTimeOut)?Qi.initTimeOut:_m,SE=gv(Zg);bu(function(){li||cr()},Gy),ps(SE,function(Mm){try{if(li)return;if(!Mm.rejected){var Lm=Mm[ko];if(Lm&&Lm[vr]){var K_=Lm[0];if(xr=K_&&K_[ko],Lm[vr]>1){var J_=Lm[1];an=J_&&J_[ko]}}xr&&(Re[Ro]=xr,Re.endpointUrl=an)}cr()}catch{li||cr()}})}else cr();var Xg=Tn.ref(Tn.cfg,nf);Rt(Xg,function(Mm){Tn.ref(Xg,Mm)})}})),N=Lt,tt=Sm(c,qe,N&&Ye[yd](),tt),km(),Ye[vn]=ir;var yr=Re[_c];if(ie=[],ie[Yr].apply(ie,ac(ac([],wt,!1),yr)),ve=Re[yc],la(null),(!me||me[vr]===0)&&lr("No "+yc+" available"),ve&&ve[vr]>1){var Wn=Ye[Oo]("TeeChannelController");(!Wn||!Wn.plugin)&&At(g,1,28,"TeeChannel required")}Bg(Re,sn,g),sn=null,d=!0,zt===ja.ACTIVE&&di()},Ye.getChannels=function(){var Re=[];return me&&Ft(me,function(wt){Re[Yr](wt)}),sr(Re)},Ye.track=function(Re){Z(Ye[Vs](),function(){return"AppInsightsCore:track"},function(){Re===null&&(Xi(Re),lr("Invalid telemetry item")),!Re[Ln]&&We(Re[Ln])&&(Xi(Re),lr("telemetry name required")),Re[co]=Re[co]||xr,Re[us]=Re[us]||of(new Date),Re.ver=Re.ver||"4.0",!ye&&Ye[Kr]()&&zt===ja.ACTIVE?wo()[Ii](Re):zt!==ja[zr]&&S[vr]<=Zi&&S[Yr](Re)},function(){return{item:Re}},!Re.sync)},Ye[Yi]=wo,Ye[yd]=function(){return N||(N=new ym(c.cfg),Ye[Tf]=N),N},Ye[Ya]=function(Re){Ye.getNotifyMgr()[Ya](Re)},Ye[Nu]=function(Re){N&&N[Nu](Re)},Ye.getCookieMgr=function(){return q||(q=bs(c.cfg,Ye[vn])),q},Ye.setCookieMgr=function(Re){q!==Re&&(yf(q,!1),q=Re)},Ye[Vs]=function(){return R||B||re()},Ye.setPerfMgr=function(Re){R=Re},Ye.eventCnt=function(){return S[vr]},Ye.releaseQueue=function(){if(d&&S[vr]>0){var Re=S;S=[],zt===2?Ft(Re,function(wt){wt[co]=wt[co]||xr,wo()[Ii](wt)}):At(g,2,20,"core init status is not active")}},Ye[Jc]=function(Re){return Le=Re||null,Pn=!1,nt&&nt[Po](),Rn(!0)};function cr(){li=!0,We(xr)?(zt=ja[zr],At(g,1,112,"ikey can't be resolved from promises")):zt=ja.ACTIVE,di()}function di(){d&&(Ye.releaseQueue(),Ye[Jc]())}function Rn(Re){if((!nt||!nt[uc])&&!Pn){var wt=Re||g&&g.queue[vr]>0;wt&&($t||($t=!0,fu(c[Au](function(ir){var Lt=ir.cfg.diagnosticLogInterval;(!Lt||!(Lt>0))&&(Lt=1e4);var yr=!1;nt&&(yr=nt[uc],nt[Po]()),nt=gp(Rm,Lt),nt.unref(),nt[uc]=yr}))),nt[uc]=!0)}return nt}Ye[_d]=function(){Pn=!0,nt&&nt[Po](),Rm()},Cd(Ye,function(){return pe},["addTelemetryInitializer"]),Ye[Bs]=function(Re,wt,ir){var Lt;Re===void 0&&(Re=!0),d||lr(Gu),ye&&lr(Rv);var yr=(Lt={reason:50},Lt[js]=Re,Lt.flushComplete=!1,Lt),Wn;Re&&!wt&&(Wn=rf(function(Ho){wt=Ho}));var Tn=Il(Xd(),Ye);Tn[Mo](function(){qe.run(Ye[vn]),Av([q,N,g],Re,function(){Te(),wt&&wt(yr)})},Ye);function Qi(Ho){yr.flushComplete=Ho,ye=!0,Ge.run(Tn,yr),Ye[_d](),Tn[Ii](yr)}return Rm(),Jp(Re,Qi,6,ir),Wn},Ye[Oo]=Is,Ye.addPlugin=function(Re,wt,ir,Lt){if(!Re){Lt&&Lt(!1),Om(Ts);return}var yr=Is(Re[uo]);if(yr&&!wt){Lt&&Lt(!1),Om("Plugin ["+Re[uo]+"] is already loaded!");return}var Wn={reason:16};function Tn(lu){ie[Yr](Re),Wn.added=[Re],la(Wn),Lt&&Lt(!0)}if(yr){var Qi=[yr.plugin],Ho={reason:2,isAsync:!!ir};Rc(Qi,Ho,function(lu){lu?(Wn.removed=Qi,Wn.reason|=32,Tn()):Lt&&Lt(!1)})}else Tn()},Ye.updateCfg=function(Re,wt){wt===void 0&&(wt=!0);var ir;if(Ye[Kr]()){ir={reason:1,cfg:c.cfg,oldCfg:wu({},c.cfg),newConfig:wu({},Re),merge:wt},Re=ir.newConfig;var Lt=c.cfg;Re[_c]=Lt[_c],Re[yc]=Lt[yc]}c._block(function(yr){var Wn=yr.cfg;Rh(yr,Wn,Re,wt),wt||Rt(Wn,function(Tn){qr(Re,Tn)||yr.set(Wn,Tn,zs)}),yr[qa](Wn,oi)},!0),c[ss](),ir&&Zp(ir)},Ye.evtNamespace=function(){return we},Ye.flush=Jp,Ye.getTraceCtx=function(Re){return ht||(ht=qt()),ht},Ye.setTraceCtx=function(Re){ht=Re||null},Ye.addUnloadHook=fu,wi(Ye,"addUnloadCb",function(){return Ge},"add"),Ye.onCfgChange=function(Re){var wt;return d?wt=Fu(c.cfg,Re,Ye[vn]):wt=bm(sn,Re),Dm(wt)},Ye.getWParam=function(){return mi()||c.cfg.enableWParam?0:-1};function Cs(){var Re={};Dn=[];var wt=function(ir){ir&&Ft(ir,function(Lt){if(Lt[uo]&&Lt[Lo]&&!Re[Lt.identifier]){var yr=Lt[uo]+"="+Lt[Lo];Dn[Yr](yr),Re[Lt.identifier]=Lt}})};wt(me),ve&&Ft(ve,function(ir){wt(ir)}),wt(ie)}function Te(){d=!1,c=jo({},oi,Ye[vn]),c.cfg[cc]=1,Hr(Ye,"config",{g:function(){return c.cfg},s:function(wt){Ye.updateCfg(wt,!1)}}),Hr(Ye,"pluginVersionStringArr",{g:function(){return Dn||Cs(),Dn}}),Hr(Ye,"pluginVersionString",{g:function(){return nr||(Dn||Cs(),nr=Dn.join(";")),nr||Jr}}),Hr(Ye,"logger",{g:function(){return g||(g=new Tl(c.cfg),c[vn]=g),g},s:function(wt){c[vn]=wt,g!==wt&&(yf(g,!1),g=wt)}}),Ye[vn]=new Tl(c.cfg),un=[];var Re=Ye.config[_c]||[];Re.splice(0,Re[vr]),qc(Re,un),pe=new ai,S=[],yf(N,!1),N=null,R=null,B=null,yf(q,!1),q=null,V=null,ie=[],ve=null,me=null,ye=!1,Le=null,we=pf("AIBaseCore",!0),Ge=Yd(),ht=null,xr=null,qe=Rl(),sn=[],nr=null,Dn=null,Pn=!1,nt=null,$t=!1,zt=0,an=null,Zi=null,li=!1}function wo(){var Re=Df(Xd(),c.cfg,Ye);return Re[Mo](Rn),Re}function la(Re){var wt=kv(Ye[vn],Lp,ie);V=null,nr=null,Dn=null,me=(ve||[])[0]||[],me=dr(qc(me,wt[yc]));var ir=qc(dr(wt[_i]),me);un=sr(ir);var Lt=Ye.config[_c]||[];Lt.splice(0,Lt[vr]),qc(Lt,un);var yr=wo();me&&me[vr]>0&&vt(yr[Fo](me),ir),vt(yr,ir),Re&&Zp(Re)}function Is(Re){var wt=null,ir=null,Lt=[];return Ft(un,function(yr){if(yr[uo]===Re&&yr!==pe)return ir=yr,-1;yr.getChannel&&Lt[Yr](yr)}),!ir&&Lt[vr]>0&&Ft(Lt,function(yr){if(ir=yr.getChannel(Re),!ir)return-1}),ir&&(wt={plugin:ir,setEnabled:function(yr){lt(ir)[Td]=!yr},isEnabled:function(){var yr=lt(ir);return!yr[qn]&&!yr[Td]},remove:function(yr,Wn){var Tn;yr===void 0&&(yr=!0);var Qi=[ir],Ho=(Tn={reason:1},Tn[js]=yr,Tn);Rc(Qi,Ho,function(lu){lu&&la({reason:32,removed:Qi}),Wn&&Wn(lu)})}}),wt}function Xd(){if(!V){var Re=(un||[]).slice();ya(Re,pe)===-1&&Re[Yr](pe),V=xl(dr(Re),c.cfg,Ye)}return V}function Rc(Re,wt,ir){if(Re&&Re[vr]>0){var Lt=xl(Re,c.cfg,Ye),yr=Il(Lt,Ye);yr[Mo](function(){var Wn=!1,Tn=[];Ft(ie,function(Ho,lu){Em(Ho,Re)?Wn=!0:Tn[Yr](Ho)}),ie=Tn,nr=null,Dn=null;var Qi=[];ve&&(Ft(ve,function(Ho,lu){var Xp=[];Ft(Ho,function(Qp){Em(Qp,Re)?Wn=!0:Xp[Yr](Qp)}),Qi[Yr](Xp)}),ve=Qi),ir&&ir(Wn),Rn()}),yr[Ii](wt)}else ir(!1)}function Rm(){if(g&&g.queue){var Re=g.queue.slice(0);g.queue[vr]=0,Ft(Re,function(wt){var ir,Lt=(ir={},ir[Ln]=Le||"InternalMessageId: "+wt[Ed],ir[co]=xr,ir[us]=of(new Date),ir.baseType=bf.dataType,ir.baseData={message:wt[fc]},ir);Ye.track(Lt)})}}function Jp(Re,wt,ir,Lt){var yr=1,Wn=!1,Tn=null;Lt=Lt||5e3;function Qi(){yr--,Wn&&yr===0&&(Tn&&Tn[Po](),Tn=null,wt&&wt(Wn),wt=null)}if(me&&me[vr]>0){var Ho=wo()[Fo](me);Ho.iterate(function(lu){if(lu.flush){yr++;var Xp=!1;lu.flush(Re,function(){Xp=!0,Qi()},ir)||Xp||(Re&&Tn==null?Tn=bu(function(){Tn=null,Qi()},Lt):Qi())}})}return Wn=!0,Qi(),!0}function km(){var Re;fu(c[Au](function(wt){var ir=wt.cfg.enablePerfMgr;if(ir){var Lt=wt.cfg[Ip];(Re!==Lt||!Re)&&(Lt||(Lt=As),Pp(wt.cfg,Ip,Lt),Re=Lt,B=null),!R&&!B&&et(Lt)&&(B=Lt(Ye,Ye[yd]()))}else B=null,Re=null}))}function Zp(Re){var wt=qd(Xd(),Ye);wt[Mo](Rn),(!Ye._updateHook||Ye._updateHook(wt,Re)!==!0)&&wt[Ii](Re)}function Om(Re){var wt=Ye[vn];wt?(At(wt,2,73,Re),Rn()):lr(Re)}function Xi(Re){var wt=Ye[yd]();wt&&wt[Er]([Re],2)}function fu(Re){qe.add(Re)}})}return u.__ieDyn=1,u}();function kl(u,c){try{if(u&&u!==""){var d=Ka().parse(u);if(d&&d[sa]&&d[sa]>=d.itemsAccepted&&d.itemsReceived-d.itemsAccepted===d.errors[vr])return d}}catch(g){At(c,1,43,"Cannot parse the response. "+(g[Ln]||Ct(g)),{response:u})}return null}var nu="",Nf="NoResponseBody",Tm="&"+Nf+"=true",Ov="POST",kh=function(){function u(){var c=0,d,g,S,N,R,B,q,V,ie,ve,me,ye,pe,Le;qi(u,this,function(we,Ge){var qe=!0;li(),we[Us]=function(nt,$t){S=$t,g&&At(S,1,28,"Sender is already initialized"),we.SetConfig(nt),g=!0},we._getDbgPlgTargets=function(){return[g,N,B,d]},we.SetConfig=function(nt){try{if(R=nt.senderOnCompleteCallBack||{},B=!!nt.disableCredentials,q=nt.fetchCredentials,N=!!nt.isOneDs,d=!!nt.enableSendPromise,ie=!!nt.disableXhr,ve=!!nt.disableBeacon,me=!!nt.disableBeaconSync,Le=nt.timeWrapper,pe=!!nt.addNoResponse,ye=!!nt.disableFetchKeepAlive,V={sendPOST:zt},N||(qe=!1),B){var $t=lf();$t&&$t.protocol&&$t.protocol[Tu]()==="file:"&&(qe=!1)}return!0}catch{}return!1},we.getSyncFetchPayload=function(){return c},we.getSenderInst=function(nt,$t){return nt&&nt[vr]?sn(nt,$t):null},we.getFallbackInst=function(){return V},we[cs]=function(nt,$t){li()};function tt(nt,$t){un($t,200,{},nt)}function ht(nt,$t){At(S,2,26,"Failed to send telemetry.",{message:nt}),un($t,400,{})}function xr(nt){ht("No endpoint url is provided for the batch",nt)}function sn(nt,$t){for(var Pn,Ye=0,cr=null,di=0;cr==null&&di<nt[vr];)Ye=nt[di],!ie&&Ye===1?Pd()?cr=Zi:Ru()&&(cr=zt):Ye===2&&Si($t)&&(!$t||!ye)?cr=an:Ye===3&&Xs()&&($t?!me:!ve)&&(cr=nr),di++;return cr?(Pn={_transport:Ye,_isSync:$t},Pn[ds]=cr,Pn):null}function un(nt,$t,Pn,Ye){try{nt&&nt($t,Pn,Ye)}catch{}}function Dn(nt,$t){var Pn=ts(),Ye=nt[ls];if(!Ye)return xr($t),!0;Ye=nt[ls]+(pe?Tm:nu);var cr=nt[Sa],di=N?cr:new Blob([cr],{type:"text/plain;charset=UTF-8"}),Rn=Pn.sendBeacon(Ye,di);return Rn}function nr(nt,$t,Pn){var Ye=nt[Sa];try{if(Ye)if(Dn(nt,$t))tt(nu,$t);else{var cr=R&&R.beaconOnRetry;cr&&et(cr)?cr(nt,$t,Dn):(V&&V[ds](nt,$t,!0),At(S,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(di){N&&Uu(S,"Failed to send telemetry using sendBeacon API. Ex:"+Ct(di)),un($t,N?0:400,{},nu)}}function zt(nt,$t,Pn){var Ye,cr,di,Rn=nt[Sp]||{};!Pn&&d&&(Ye=rf(function(la,Is){cr=la,di=Is})),N&&Pn&&nt.disableXhrSync&&(Pn=!1);var Cs=nt[ls];if(!Cs){xr($t),cr&&cr(!1);return}var Te=uf(Ov,Cs,qe,!0,Pn,nt[Xf]);N||Te[bd]("Content-type","application/json"),Ft(Nr(Rn),function(la){Te[bd](la,Rn[la])}),Te.onreadystatechange=function(){N||(wo(Te),Te.readyState===4&&cr&&cr(!0))},Te.onload=function(){N&&wo(Te)};function wo(la){var Is=R&&R.xhrOnComplete,Xd=Is&&et(Is);if(Xd)Is(la,$t,nt);else{var Rc=vs(la);un($t,la[Va],kp(la,N),Rc)}}return Te.onerror=function(la){un($t,N?Te[Va]:400,kp(Te,N),N?nu:Da(Te)),di&&di(la)},Te.ontimeout=function(){un($t,N?Te[Va]:500,kp(Te,N),N?nu:Da(Te)),cr&&cr(!1)},Te.send(nt[Sa]),Ye}function an(nt,$t,Pn){var Ye,cr=nt[ls],di=nt[Sa],Rn=N?di:new Blob([di],{type:"application/json"}),Cs,Te,wo,la=new Headers,Is=di[vr],Xd=!1,Rc=!1,Rm=nt[Sp]||{},Jp=(Ye={method:Ov,body:Rn},Ye[Nv]=!0,Ye);nt.headers&&Nr(nt.headers)[vr]>0&&(Ft(Nr(Rm),function(Xi){la.append(Xi,Rm[Xi])}),Jp[Sp]=la),q?Jp.credentials=q:qe&&N&&(Jp.credentials="include"),Pn&&(Jp.keepalive=!0,c+=Is,N?nt._sendReason===2&&(Xd=!0,pe&&(cr+=Tm)):Xd=!0);var km=new Request(cr,Jp);try{km[Nv]=!0}catch{}if(!Pn&&d&&(Cs=rf(function(Xi,fu){Te=Xi,wo=fu})),!cr){xr($t),Te&&Te(!1);return}function Zp(Xi){un($t,N?0:400,{},N?nu:Xi)}function Om(Xi,fu,Re){var wt=Xi[Va],ir=R.fetchOnComplete;ir&&et(ir)?ir(Xi,$t,Re||nu,fu):un($t,wt,{},Re||nu)}try{ps(fetch(N?cr:km,N?Jp:null),function(Xi){if(Pn&&(c-=Is,Is=0),!Rc)if(Rc=!0,Xi.rejected)Zp(Xi.reason&&Xi.reason[fc]),wo&&wo(Xi.reason);else{var fu=Xi[ko];try{!N&&!fu.ok?(Zp(fu.statusText),Te&&Te(!1)):N&&!fu.body?(Om(fu,null,nu),Te&&Te(!0)):ps(fu.text(),function(Re){Om(fu,nt,Re[ko]),Te&&Te(!0)})}catch(Re){Zp(Ct(Re)),wo&&wo(Re)}}})}catch(Xi){Rc||(Zp(Ct(Xi)),wo&&wo(Xi))}return Xd&&!Rc&&(Rc=!0,un($t,200,{}),Te&&Te(!0)),N&&!Rc&&nt[Xf]>0&&Le&&Le.set(function(){Rc||(Rc=!0,un($t,500,{}),Te&&Te(!0))},nt[Xf]),Cs}function Zi(nt,$t,Pn){var Ye=es(),cr=new XDomainRequest,di=nt[Sa];cr.onload=function(){var la=vs(cr),Is=R&&R.xdrOnComplete;Is&&et(Is)?Is(cr,$t,nt):un($t,200,{},la)},cr.onerror=function(){un($t,400,{},N?nu:ms(cr))},cr.ontimeout=function(){un($t,500,{})},cr.onprogress=function(){};var Rn=Ye&&Ye.location&&Ye.location[Cu]||"",Cs=nt[ls];if(!Cs){xr($t);return}if(!N&&Cs.lastIndexOf(Rn,0)!==0){var Te="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";At(S,2,40,". "+Te),ht(Te,$t);return}var wo=N?Cs:Cs[$a](/^(https?:)/,"");cr.open(Ov,wo),nt[Xf]&&(cr[Xf]=nt[Xf]),cr.send(di),N&&Pn?Le&&Le.set(function(){cr.send(di)},0):cr.send(di)}function li(){c=0,g=!1,d=!1,S=null,N=null,R=null,B=null,q=null,V=null,ie=!1,ve=!1,me=!1,ye=!1,pe=!1,Le=null}})}return u.__ieDyn=1,u}(),Oh="on",$d="attachEvent",tg="addEventListener",Am="detachEvent",qp="removeEventListener",Cf="events";pf("aiEvtPageHide"),pf("aiEvtPageShow");var Ly=/\.[\.]+/g,rg=/[\.]+$/,jg=1,Nm=Mp("events"),Fy=/^([^.]*)(?:\.(.+)|)/;function Ol(u){return u&&u[$a]?u[$a](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Jr):u}function Mh(u,c){var d;if(c){var g=Jr;ft(c)?(g=Jr,Ft(c,function(N){N=Ol(N),N&&(N[0]!=="."&&(N="."+N),g+=N)})):g=Ol(c),g&&(g[0]!=="."&&(g="."+g),u=(u||Jr)+g)}var S=Fy.exec(u||Jr)||[];return d={},d[mn]=S[1],d.ns=(S[2]||Jr).replace(Ly,".").replace(rg,Jr)[Iu](".").sort().join("."),d}function Mv(u,c,d){d===void 0&&(d=!0);var g=Nm.get(u,Cf,{},d),S=g[c];return S||(S=g[c]=[]),S}function Ml(u,c,d,g){u&&c&&c[mn]&&(u[qp]?u[qp](c[mn],d,g):u[Am]&&u[Am](Oh+c[mn],d))}function Lh(u,c,d,g){var S=!1;return u&&c&&c[mn]&&d&&(u[tg]?(u[tg](c[mn],d,g),S=!0):u[$d]&&(u[$d](Oh+c[mn],d),S=!0)),S}function ng(u,c,d,g){for(var S=c[vr];S--;){var N=c[S];N&&(!d.ns||d.ns===N.evtName.ns)&&(!g||g(N))&&(Ml(u,N.evtName,N[ni],N.capture),c[yt](S,1))}}function Gg(u,c,d){if(c[mn])ng(u,Mv(u,c[mn]),c,d);else{var g=Nm.get(u,Cf,{});Rt(g,function(S,N){ng(u,N,c,d)}),Nr(g)[vr]===0&&Nm.kill(u,Cf)}}function Vd(u,c){var d;return c?(ft(c)?d=[u].concat(c):d=[u,c],d=Mh("xx",d).ns[Iu](".")):d=u,d}function qg(u,c,d,g,S){var N;S===void 0&&(S=!1);var R=!1;if(u)try{var B=Mh(c,g);if(R=Lh(u,B,d,S),R&&Nm.accept(u)){var q=(N={guid:jg++,evtName:B},N[ni]=d,N.capture=S,N);Mv(u,B.type)[Yr](q)}}catch{}return R}function Uy(u,c,d,g,S){if(S===void 0&&(S=!1),u)try{var N=Mh(c,g),R=!1;Gg(u,N,function(B){return N.ns&&!d||B[ni]===d?(R=!0,!0):!1}),R||Ml(u,N,d,S)}catch{}}var ig="sampleRate",Lv="ProcessLegacy",ag="http.method",Cm="https://dc.services.visualstudio.com",Fh="/v2/track",Wd="not_specified",og=wp({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),Fv="split",nn="length",iu="toLowerCase",Hd="ingestionendpoint",Yp="toString",Uh="push",Uv="removeItem",Ll="name",Kd="message",Yg="count",zp="stringify",If="pathname",Nc="exceptions",zo="parsedStack",au="properties",xf="measurements",Fl="sizeInBytes",qu="typeName",Yu="severityLevel",$p="problemGroup",Jd="isManual",zg="CreateFromInterface",Bh="assembly",Cc="fileName",Im="hasFullStack",jh="level",Ul="method",Gh="line",qh="duration",sg="receivedResponse";function ug(u,c,d){var g=c[nn],S=$g(u,c);if(S[nn]!==g){for(var N=0,R=S;d[R]!==void 0;)N++,R=ha(S,0,147)+E(N);S=R}return S}function $g(u,c){var d;return c&&(c=ri(Jn(c)),c[nn]>150&&(d=ha(c,0,150),At(u,2,57,"name is too long.  It has been truncated to 150 characters.",{name:c},!0))),d||c}function Ca(u,c,d){d===void 0&&(d=1024);var g;return c&&(d=d||1024,c=ri(Jn(c)),c[nn]>d&&(g=ha(c,0,d),At(u,2,61,"string value is too long. It has been truncated to "+d+" characters.",{value:c},!0))),g||c}function ou(u,c){return h(u,c,2048,66)}function Vp(u,c){var d;return c&&c[nn]>32768&&(d=ha(c,0,32768),At(u,2,56,"message is too long, it has been truncated to 32768 characters.",{message:c},!0)),d||c}function Xn(u,c){var d;if(c){var g=""+c;g[nn]>32768&&(d=ha(g,0,32768),At(u,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:c},!0))}return d||c}function Wp(u,c){if(c){var d={};Rt(c,function(g,S){if(kn(S)&&Zs())try{S=Ka()[zp](S)}catch(N){At(u,2,49,"custom property is not valid",{exception:N},!0)}S=Ca(u,S,8192),g=ug(u,g,d),d[g]=S}),c=d}return c}function Hp(u,c){if(c){var d={};Rt(c,function(g,S){g=ug(u,g,d),d[g]=S}),c=d}return c}function Vg(u,c){return c&&h(u,c,128,69)[Yp]()}function h(u,c,d,g){var S;return c&&(c=ri(Jn(c)),c[nn]>d&&(S=ha(c,0,d),At(u,2,g,"input is too long, it has been truncated to "+d+" characters.",{data:c},!0))),S||c}function E(u){var c="00"+u;return op(c,c[nn]-3)}var A=sd()||{},I=0,L=[null,null,null,null,null];function Y(u){var c=I,d=L,g=d[c];return A.createElement?d[c]||(g=d[c]=A.createElement("a")):g={host:$(u,!0)},g.href=u,c++,c>=d[nn]&&(c=0),I=c,g}function $(u,c){var d=te(u,c)||"";if(d){var g=d.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(g!=null&&g[nn]>3&&Pr(g[2])&&g[2][nn]>0)return g[2]+(g[3]||"")}return d}function te(u,c){var d=null;if(u){var g=u.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(g!=null&&g[nn]>2&&Pr(g[2])&&g[2][nn]>0&&(d=g[2]||"",c&&g[nn]>2)){var S=(g[1]||"")[iu](),N=g[3]||"";(S==="http"&&N===":80"||S==="https"&&N===":443")&&(N=""),d+=N}}return d}var le=[Cm+Fh,"https://breeze.aimon.applicationinsights.io"+Fh,"https://dc-int.services.visualstudio.com"+Fh];function de(u){return ya(le,u[iu]())!==-1}function Oe(u,c,d,g){var S,N=g,R=g;if(c&&c[nn]>0){var B=Y(c);if(S=B.host,!N)if(B[If]!=null){var q=B.pathname[nn]===0?"/":B[If];q.charAt(0)!=="/"&&(q="/"+q),R=B[If],N=Ca(u,d?d+" "+q:q)}else N=Ca(u,c)}else S=g,N=g;return{target:S,name:N,data:R}}var Je=oc({LocalStorage:0,SessionStorage:1}),He=void 0,ke="";function Ee(u){try{if(We(va()))return null;var c=new Date()[Yp](),d=Or(u===Je.LocalStorage?"localStorage":"sessionStorage"),g=ke+c;d.setItem(g,c);var S=d.getItem(g)!==c;if(d[Uv](g),!S)return d}catch{}return null}function Ve(){return rt()?Ee(Je.SessionStorage):null}function xe(u){ke=u||""}function rt(u){return(u||He===void 0)&&(He=!!Ee(Je.SessionStorage)),He}function Me(u,c){var d=Ve();if(d!==null)try{return d.getItem(c)}catch(g){He=!1,At(u,2,2,"Browser failed read of session storage. "+Ei(g),{exception:Ct(g)})}return null}function Pe(u,c,d){var g=Ve();if(g!==null)try{return g.setItem(c,d),!0}catch(S){He=!1,At(u,2,4,"Browser failed write to session storage. "+Ei(S),{exception:Ct(S)})}return!1}function Ze(u,c){var d=Ve();if(d!==null)try{return d[Uv](c),!0}catch(g){He=!1,At(u,2,6,"Browser failed removal of session storage item. "+Ei(g),{exception:Ct(g)})}return!1}var Kt=";",tr="=";function pr(u){if(!u)return{};var c=u[Fv](Kt),d=fv(c,function(S,N){var R=N[Fv](tr);if(R[nn]===2){var B=R[0][iu](),q=R[1];S[B]=q}return S},{});if(Nr(d)[nn]>0){if(d.endpointsuffix){var g=d.location?d.location+".":"";d[Hd]=d[Hd]||"https://"+g+"dc."+d.endpointsuffix}d[Hd]=d[Hd]||Cm,Ua(d[Hd],"/")&&(d[Hd]=d[Hd].slice(0,-1))}return d}var Lr=function(){function u(c,d,g){var S=this,N=this;N.ver=1,N.sampleRate=100,N.tags={},N[Ll]=Ca(c,g)||Wd,N.data=d,N.time=of(new Date),N.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return S.sampleRate===100?4:1},tags:1,data:1}}return u}(),$r=function(){function u(c,d,g,S){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var N=this;N.ver=2,N[Ll]=Ca(c,d)||Wd,N[au]=Wp(c,g),N[xf]=Hp(c,S)}return u.envelopeType="Microsoft.ApplicationInsights.{0}.Event",u.dataType="EventData",u}(),gn="<no_method>",ln="error",rr="stack",si="stackDetails",it="errorSrc",mt="message",Ir="description";function mr(u,c){var d=u;return d&&!Pr(d)&&(JSON&&JSON[zp]?(d=JSON[zp](u),c&&(!d||d==="{}")&&(et(u[Yp])?d=u[Yp]():d=""+u)):d=""+u+" - (Missing JSON.stringify)"),d||""}function Pt(u,c){var d=u;return u&&(d&&!Pr(d)&&(d=u[mt]||u[Ir]||d),d&&!Pr(d)&&(d=mr(d,!0)),u.filename&&(d=d+" @"+(u.filename||"")+":"+(u.lineno||"?")+":"+(u.colno||"?"))),c&&c!=="String"&&c!=="Object"&&c!=="Error"&&Qu(d||"",c)===-1&&(d=c+": "+d),d||""}function Ur(u){try{if(kn(u))return"hasFullStack"in u&&"typeName"in u}catch{}return!1}function Ot(u){try{if(kn(u))return"ver"in u&&"exceptions"in u&&"properties"in u}catch{}return!1}function Wi(u){return u&&u.src&&Pr(u.src)&&u.obj&&ft(u.obj)}function pt(u){var c=u||"";Pr(c)||(Pr(c[rr])?c=c[rr]:c=""+c);var d=c[Fv](`
`);return{src:c,obj:d}}function Cn(u){for(var c=[],d=u[Fv](`
`),g=0;g<d[nn];g++){var S=d[g];d[g+1]&&(S+="@"+d[g+1],g++),c[Uh](S)}return{src:u,obj:c}}function In(u){var c=null;if(u)try{if(u[rr])c=pt(u[rr]);else if(u[ln]&&u[ln][rr])c=pt(u[ln][rr]);else if(u.exception&&u.exception[rr])c=pt(u.exception[rr]);else if(Wi(u))c=u;else if(Wi(u[si]))c=u[si];else if(es()&&es().opera&&u[mt])c=Cn(u[Kd]);else if(u.reason&&u.reason[rr])c=pt(u.reason[rr]);else if(Pr(u))c=pt(u);else{var d=u[mt]||u[Ir]||"";Pr(u[it])&&(d&&(d+=`
`),d+=" from "+u[it]),d&&(c=pt(d))}}catch(g){c=pt(g)}return c||{src:"",obj:null}}function Ia(u){var c="";return u&&(u.obj?Ft(u.obj,function(d){c+=d+`
`}):c=u.src||""),c}function Ic(u){var c,d=u.obj;if(d&&d[nn]>0){c=[];var g=0,S=0;Ft(d,function(pe){var Le=pe[Yp]();if(su.regex.test(Le)){var we=new su(Le,g++);S+=we[Fl],c[Uh](we)}});var N=32*1024;if(S>N)for(var R=0,B=c[nn]-1,q=0,V=R,ie=B;R<B;){var ve=c[R][Fl],me=c[B][Fl];if(q+=ve+me,q>N){var ye=ie-V+1;c.splice(V,ye);break}V=R,ie=B,R++,B--}}return c}function Ja(u){var c="";if(u&&(c=u.typeName||u[Ll]||"",!c))try{var d=/function (.{1,200})\(/,g=d.exec(u.constructor[Yp]());c=g&&g[nn]>1?g[1]:""}catch{}return c}function Bl(u){if(u)try{if(!Pr(u)){var c=Ja(u),d=mr(u,!1);return(!d||d==="{}")&&(u[ln]&&(u=u[ln],c=Ja(u)),d=mr(u,!0)),Qu(d,c)!==0&&c!=="String"?c+":"+d:d}}catch{}return""+(u||"")}var Ns=function(){function u(c,d,g,S,N,R){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var B=this;B.ver=2,Ot(d)?(B[Nc]=d[Nc]||[],B[au]=d[au],B[xf]=d[xf],d[Yu]&&(B[Yu]=d[Yu]),d.id&&(B.id=d.id,d[au].id=d.id),d[$p]&&(B[$p]=d[$p]),We(d[Jd])||(B[Jd]=d[Jd])):(g||(g={}),R&&(g.id=R),B[Nc]=[new $o(c,d,g)],B[au]=Wp(c,g),B[xf]=Hp(c,S),N&&(B[Yu]=N),R&&(B.id=R))}return u.CreateAutoException=function(c,d,g,S,N,R,B,q){var V,ie=Ja(N||R||c);return V={},V[Kd]=Pt(c,ie),V.url=d,V.lineNumber=g,V.columnNumber=S,V.error=Bl(N||R||c),V.evt=Bl(R||c),V[qu]=ie,V.stackDetails=In(B||N||R),V.errorSrc=q,V},u.CreateFromInterface=function(c,d,g,S){var N=d[Nc]&&Xu(d[Nc],function(B){return $o[zg](c,B)}),R=new u(c,so(so({},d),{exceptions:N}),g,S);return R},u.prototype.toInterface=function(){var c,d=this,g=d.exceptions,S=d.properties,N=d.measurements,R=d.severityLevel,B=d.problemGroup,q=d.id,V=d.isManual,ie=g instanceof Array&&Xu(g,function(ve){return ve.toInterface()})||void 0;return c={ver:"4.0"},c[Nc]=ie,c.severityLevel=R,c.properties=S,c.measurements=N,c.problemGroup=B,c.id=q,c.isManual=V,c},u.CreateSimpleException=function(c,d,g,S,N,R){var B;return{exceptions:[(B={},B[Im]=!0,B.message=c,B.stack=N,B.typeName=d,B)]}},u.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",u.dataType="ExceptionData",u.formatError=Bl,u}(),$o=function(){function u(c,d,g){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var S=this;if(Ur(d))S[qu]=d[qu],S[Kd]=d[Kd],S[rr]=d[rr],S[zo]=d[zo]||[],S[Im]=d[Im];else{var N=d,R=N&&N.evt;Wt(N)||(N=N[ln]||R||N),S[qu]=Ca(c,Ja(N))||Wd,S[Kd]=Vp(c,Pt(d||N,S[qu]))||Wd;var B=d[si]||In(d);S[zo]=Ic(B),ft(S[zo])&&Xu(S[zo],function(q){q[Bh]=Ca(c,q[Bh]),q[Cc]=Ca(c,q[Cc])}),S[rr]=Xn(c,Ia(B)),S.hasFullStack=ft(S.parsedStack)&&S.parsedStack[nn]>0,g&&(g[qu]=g[qu]||S[qu])}}return u.prototype.toInterface=function(){var c,d=this,g=d[zo]instanceof Array&&Xu(d[zo],function(N){return N.toInterface()}),S=(c={id:d.id,outerId:d.outerId,typeName:d[qu],message:d[Kd],hasFullStack:d[Im],stack:d[rr]},c[zo]=g||void 0,c);return S},u.CreateFromInterface=function(c,d){var g=d[zo]instanceof Array&&Xu(d[zo],function(N){return su[zg](N)})||d[zo],S=new u(c,so(so({},d),{parsedStack:g}));return S},u}(),su=function(){function u(c,d){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var g=this;if(g[Fl]=0,typeof c=="string"){var S=c;g[jh]=d,g[Ul]=gn,g[Bh]=ri(S),g[Cc]="",g[Gh]=0;var N=S.match(u.regex);N&&N[nn]>=5&&(g[Ul]=ri(N[2])||g[Ul],g[Cc]=ri(N[4]),g[Gh]=parseInt(N[5])||0)}else g[jh]=c[jh],g[Ul]=c[Ul],g[Bh]=c[Bh],g[Cc]=c[Cc],g[Gh]=c[Gh],g[Fl]=0;g.sizeInBytes+=g.method[nn],g.sizeInBytes+=g.fileName[nn],g.sizeInBytes+=g.assembly[nn],g[Fl]+=u.baseSize,g.sizeInBytes+=g.level.toString()[nn],g.sizeInBytes+=g.line.toString()[nn]}return u.CreateFromInterface=function(c){return new u(c,null)},u.prototype.toInterface=function(){var c=this;return{level:c[jh],method:c[Ul],assembly:c[Bh],fileName:c[Cc],line:c[Gh]}},u.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,u.baseSize=58,u}(),ui=function(){function u(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return u}(),on=function(){function u(c,d,g,S,N,R,B,q,V){this.aiDataContract={ver:1,metrics:1,properties:0};var ie=this;ie.ver=2;var ve=new ui;ve[Yg]=S>0?S:void 0,ve.max=isNaN(R)||R===null?void 0:R,ve.min=isNaN(N)||N===null?void 0:N,ve[Ll]=Ca(c,d)||Wd,ve.value=g,ve.stdDev=isNaN(B)||B===null?void 0:B,ie.metrics=[ve],ie[au]=Wp(c,q),ie[xf]=Hp(c,V)}return u.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",u.dataType="MetricData",u}(),ci="";function Hi(u){(isNaN(u)||u<0)&&(u=0),u=Math.round(u);var c=ci+u%1e3,d=ci+Math.floor(u/1e3)%60,g=ci+Math.floor(u/(1e3*60))%60,S=ci+Math.floor(u/(1e3*60*60))%24,N=Math.floor(u/(1e3*60*60*24));return c=c[nn]===1?"00"+c:c[nn]===2?"0"+c:c,d=d[nn]<2?"0"+d:d,g=g[nn]<2?"0"+g:g,S=S[nn]<2?"0"+S:S,(N>0?N+".":ci)+S+":"+g+":"+d+"."+c}var uu=function(){function u(c,d,g,S,N,R,B){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var q=this;q.ver=2,q.id=Vg(c,B),q.url=ou(c,g),q[Ll]=Ca(c,d)||Wd,isNaN(S)||(q[qh]=Hi(S)),q[au]=Wp(c,N),q[xf]=Hp(c,R)}return u.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",u.dataType="PageviewData",u}(),xc=function(){function u(c,d,g,S,N,R,B,q,V,ie,ve,me){V===void 0&&(V="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var ye=this;ye.ver=2,ye.id=d,ye[qh]=Hi(N),ye.success=R,ye.resultCode=B+"",ye.type=Ca(c,V);var pe=Oe(c,g,q,S);ye.data=ou(c,S)||pe.data,ye.target=Ca(c,pe.target),ie&&(ye.target="".concat(ye.target," | ").concat(ie)),ye[Ll]=Ca(c,pe[Ll]),ye[au]=Wp(c,ve),ye[xf]=Hp(c,me)}return u.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",u.dataType="RemoteDependencyData",u}(),Za=function(){function u(c,d,g,S,N){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var R=this;R.ver=2,d=d||Wd,R[Kd]=Vp(c,d),R[au]=Wp(c,S),R[xf]=Hp(c,N),g&&(R[Yu]=g)}return u.envelopeType="Microsoft.ApplicationInsights.{0}.Message",u.dataType="MessageData",u}(),jl=function(){function u(c,d,g,S,N,R,B){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var q=this;q.ver=2,q.url=ou(c,g),q[Ll]=Ca(c,d)||Wd,q[au]=Wp(c,N),q[xf]=Hp(c,R),B&&(q.domProcessing=B.domProcessing,q[qh]=B[qh],q.networkConnect=B.networkConnect,q.perfTotal=B.perfTotal,q[sg]=B[sg],q.sentRequest=B.sentRequest)}return u.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",u.dataType="PageviewPerformanceData",u}(),cu=function(){function u(c,d){this.aiDataContract={baseType:1,baseData:1},this.baseType=c,this.baseData=d}return u}(),Bv=oc({Verbose:0,Information:1,Warning:2,Error:3,Critical:4});function Pc(u){var c="ai."+u+".";return function(d){return c+d}}var Gl=Pc("application"),Ai=Pc("device"),Kp=Pc("location"),ql=Pc("operation"),Yh=Pc("session"),zu=Pc("user"),xa=Pc("cloud"),Yl=Pc("internal"),o=function(u){Zf(c,u);function c(){return u.call(this)||this}return c}(Rp({applicationVersion:Gl("ver"),applicationBuild:Gl("build"),applicationTypeId:Gl("typeId"),applicationId:Gl("applicationId"),applicationLayer:Gl("layer"),deviceId:Ai("id"),deviceIp:Ai("ip"),deviceLanguage:Ai("language"),deviceLocale:Ai("locale"),deviceModel:Ai("model"),deviceFriendlyName:Ai("friendlyName"),deviceNetwork:Ai("network"),deviceNetworkName:Ai("networkName"),deviceOEMName:Ai("oemName"),deviceOS:Ai("os"),deviceOSVersion:Ai("osVersion"),deviceRoleInstance:Ai("roleInstance"),deviceRoleName:Ai("roleName"),deviceScreenResolution:Ai("screenResolution"),deviceType:Ai("type"),deviceMachineName:Ai("machineName"),deviceVMName:Ai("vmName"),deviceBrowser:Ai("browser"),deviceBrowserVersion:Ai("browserVersion"),locationIp:Kp("ip"),locationCountry:Kp("country"),locationProvince:Kp("province"),locationCity:Kp("city"),operationId:ql("id"),operationName:ql("name"),operationParentId:ql("parentId"),operationRootId:ql("rootId"),operationSyntheticSource:ql("syntheticSource"),operationCorrelationVector:ql("correlationVector"),sessionId:Yh("id"),sessionIsFirst:Yh("isFirst"),sessionIsNew:Yh("isNew"),userAccountAcquisitionDate:zu("accountAcquisitionDate"),userAccountId:zu("accountId"),userAgent:zu("userAgent"),userId:zu("id"),userStoreRegion:zu("storeRegion"),userAuthUserId:zu("authUserId"),userAnonymousUserAcquisitionDate:zu("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:zu("authUserAcquisitionDate"),cloudName:xa("name"),cloudRole:xa("role"),cloudRoleVer:xa("roleVer"),cloudRoleInstance:xa("roleInstance"),cloudEnvironment:xa("environment"),cloudLocation:xa("location"),cloudDeploymentUnit:xa("deploymentUnit"),internalNodeName:Yl("nodeName"),internalSdkVersion:Yl("sdkVersion"),internalAgentVersion:Yl("agentVersion"),internalSnippet:Yl("snippet"),internalSdkSrc:Yl("sdkSrc")})),l=new o;function v(u,c){Uy(u,null,null,c)}function w(u){var c=sd(),d=ts(),g=!1,S=[],N=1;d&&!We(d.onLine)&&!d.onLine&&(N=2);var R=0,B=me(),q=Vd(pf("OfflineListener"),u);try{if(ie(es())&&(g=!0),c){var V=c.body||c;V.ononline&&ie(V)&&(g=!0)}}catch{g=!1}function ie(tt){var ht=!1;return tt&&(ht=qg(tt,"online",Le,q),ht&&qg(tt,"offline",we,q)),ht}function ve(){return B}function me(){return!(R===2||N===2)}function ye(){var tt=me();B!==tt&&(B=tt,Ft(S,function(ht){var xr={isOnline:B,rState:N,uState:R};try{ht(xr)}catch{}}))}function pe(tt){R=tt,ye()}function Le(){N=1,ye()}function we(){N=2,ye()}function Ge(){var tt=es();if(tt&&g){if(v(tt,q),c){var ht=c.body||c;Ue(ht.ononline)||v(ht,q)}g=!1}}function qe(tt){return S[Uh](tt),{rm:function(){var ht=S.indexOf(tt);if(ht>-1)return S.splice(ht,1)}}}return{isOnline:ve,isListening:function(){return g},unload:Ge,addListener:qe,setOnlineState:pe}}var T="AppInsightsChannelPlugin",x="duration",O="tags",P="deviceType",F="data",G="name",W="traceID",J="length",Q="stringify",ae="measurements",ne="dataType",be="envelopeType",De="toString",$e="_get",Xe="enqueue",ot="count",ur="eventsLimitInMem",hr="push",zn="item",yn="emitLineDelimitedJson",$n="clear",Xa="createNew",Pa="markAsSent",zl="clearSent",jv="bufferOverride",$l="BUFFER_KEY",at="SENT_BUFFER_KEY",Yt="concat",xn="MAX_BUFFER_SIZE",je="triggerSend",Mt="diagLog",fi="initialize",go="_sender",Vo="endpointUrl",Br="instrumentationKey",Ra="customHeaders",fa="maxBatchSizeInBytes",yo="onunloadDisableBeacon",Vl="isBeaconApiDisabled",$u="alwaysUseXhrOverride",zh="disableXhr",Zd="enableSessionStorageBuffer",Wl="_buffer",$h="onunloadDisableFetch",xm="disableSendBeaconSplit",ki="enableSendPromise",_o="getSenderInst",Ce="unloadTransports",Et="convertUndefined",Zt="maxBatchInterval",Bt="serialize",Xt="_onError",Fn="_onPartialSuccess",wn="_onSuccess",Oi="itemsReceived",Eo="itemsAccepted",Wo="oriPayload",Hl="baseType",Vh="sampleRate",cg="eventsSendRequest",W_="getSamplingScore",EE="getHashCodeScore",Wg="baseType",Vn="baseData",Ki="properties",By="true";function Ji(u,c,d){return xu(u,c,d,ei)}function Mb(u,c,d){var g=d[O]=d[O]||{},S=c.ext=c.ext||{},N=c[O]=c[O]||[],R=S.user;R&&(Ji(g,l.userAuthUserId,R.authId),Ji(g,l.userId,R.id||R.localId));var B=S.app;B&&Ji(g,l.sessionId,B.sesId);var q=S.device;q&&(Ji(g,l.deviceId,q.id||q.localId),Ji(g,l[P],q.deviceClass),Ji(g,l.deviceIp,q.ip),Ji(g,l.deviceModel,q.model),Ji(g,l[P],q[P]));var V=c.ext.web;if(V){Ji(g,l.deviceLanguage,V.browserLang),Ji(g,l.deviceBrowserVersion,V.browserVer),Ji(g,l.deviceBrowser,V.browser);var ie=d[F]=d[F]||{},ve=ie[Vn]=ie[Vn]||{},me=ve[Ki]=ve[Ki]||{};Ji(me,"domain",V.domain),Ji(me,"isManual",V.isManual?By:null),Ji(me,"screenRes",V.screenRes),Ji(me,"userConsent",V.userConsent?By:null)}var ye=S.os;ye&&(Ji(g,l.deviceOS,ye[G]),Ji(g,l.deviceOSVersion,ye.osVer));var pe=S.trace;pe&&(Ji(g,l.operationParentId,pe.parentID),Ji(g,l.operationName,Ca(u,pe[G])),Ji(g,l.operationId,pe[W]));for(var Le={},we=N[J]-1;we>=0;we--){var Ge=N[we];Rt(Ge,function(tt,ht){Le[tt]=ht}),N.splice(we,1)}Rt(N,function(tt,ht){Le[tt]=ht});var qe=so(so({},g),Le);qe[l.internalSdkVersion]||(qe[l.internalSdkVersion]=Ca(u,"javascript:".concat(zI.Version),64)),d[O]=Ws(qe)}function Pm(u,c,d){We(u)||Rt(u,function(g,S){Vt(S)?d[g]=S:Pr(S)?c[g]=S:Zs()&&(c[g]=Ka()[Q](S))})}function fg(u,c){We(u)||Rt(u,function(d,g){u[d]=g||c})}function lg(u,c,d,g){var S=new Lr(u,g,c);Ji(S,"sampleRate",d[ig]),(d[Vn]||{}).startTime&&(S.time=of(d[Vn].startTime)),S.iKey=d.iKey;var N=d.iKey.replace(/-/g,"");return S[G]=S[G].replace("{0}",N),Mb(u,d,S),d[O]=d[O]||[],Ws(S)}function dg(u,c){We(c[Vn])&&At(u,1,46,"telemetryItem.baseData cannot be null.")}var zI={Version:"3.3.4"};function $I(u,c,d){dg(u,c);var g=c[Vn][ae]||{},S=c[Vn][Ki]||{};Pm(c[F],S,g),We(d)||fg(S,d);var N=c[Vn];if(We(N))return Uu(u,"Invalid input for dependency data"),null;var R=N[Ki]&&N[Ki][ag]?N[Ki][ag]:"GET",B=new xc(u,N.id,N.target,N[G],N[x],N.success,N.responseCode,R,N.type,N.correlationContext,S,g),q=new cu(xc[ne],B);return lg(u,xc[be],c,q)}function Lb(u,c,d){dg(u,c);var g={},S={};c[Wg]!==$r[ne]&&(g.baseTypeSource=c[Wg]),c[Wg]===$r[ne]?(g=c[Vn][Ki]||{},S=c[Vn][ae]||{}):c[Vn]&&Pm(c[Vn],g,S),Pm(c[F],g,S),We(d)||fg(g,d);var N=c[Vn][G],R=new $r(u,N,g,S),B=new cu($r[ne],R);return lg(u,$r[be],c,B)}function VI(u,c,d){dg(u,c);var g=c[Vn][ae]||{},S=c[Vn][Ki]||{};Pm(c[F],S,g),We(d)||fg(S,d);var N=c[Vn],R=Ns.CreateFromInterface(u,N,S,g),B=new cu(Ns[ne],R);return lg(u,Ns[be],c,B)}function WI(u,c,d){dg(u,c);var g=c[Vn],S=g[Ki]||{},N=g[ae]||{};Pm(c[F],S,N),We(d)||fg(S,d);var R=new on(u,g[G],g.average,g.sampleCount,g.min,g.max,g.stdDev,S,N),B=new cu(on[ne],R);return lg(u,on[be],c,B)}function HI(u,c,d){dg(u,c);var g,S=c[Vn];!We(S)&&!We(S[Ki])&&!We(S[Ki][x])?(g=S[Ki][x],delete S[Ki][x]):!We(c[F])&&!We(c[F][x])&&(g=c[F][x],delete c[F][x]);var N=c[Vn],R;((c.ext||{}).trace||{})[W]&&(R=c.ext.trace[W]);var B=N.id||R,q=N[G],V=N.uri,ie=N[Ki]||{},ve=N[ae]||{};if(We(N.refUri)||(ie.refUri=N.refUri),We(N.pageType)||(ie.pageType=N.pageType),We(N.isLoggedIn)||(ie.isLoggedIn=N.isLoggedIn[De]()),!We(N[Ki])){var me=N[Ki];Rt(me,function(Le,we){ie[Le]=we})}Pm(c[F],ie,ve),We(d)||fg(ie,d);var ye=new uu(u,q,V,g,ie,ve,B),pe=new cu(uu[ne],ye);return lg(u,uu[be],c,pe)}function KI(u,c,d){dg(u,c);var g=c[Vn],S=g[G],N=g.uri||g.url,R=g[Ki]||{},B=g[ae]||{};Pm(c[F],R,B),We(d)||fg(R,d);var q=new jl(u,S,N,void 0,R,B,g),V=new cu(jl[ne],q);return lg(u,jl[be],c,V)}function JI(u,c,d){dg(u,c);var g=c[Vn].message,S=c[Vn].severityLevel,N=c[Vn][Ki]||{},R=c[Vn][ae]||{};Pm(c[F],N,R),We(d)||fg(N,d);var B=new Za(u,g,S,N,R),q=new cu(Za[ne],B);return lg(u,Za[be],c,q)}var Fb=function(){function u(c,d){var g=[],S=!1,N=d.maxRetryCnt;this[$e]=function(){return g},this._set=function(R){return g=R,g},qi(u,this,function(R){R[Xe]=function(B){if(R[ot]()>=d[ur]){S||(At(c,2,105,"Maximum in-memory buffer size reached: "+R[ot](),!0),S=!0);return}B.cnt=B.cnt||0,!(!We(N)&&B.cnt>N)&&g[hr](B)},R[ot]=function(){return g[J]},R.size=function(){for(var B=g[J],q=0;q<g[J];q++)B+=g[q].item[J];return d[yn]||(B+=2),B},R[$n]=function(){g=[],S=!1},R.getItems=function(){return g.slice(0)},R.batchPayloads=function(B){if(B&&B[J]>0){var q=[];Ft(B,function(ie){q[hr](ie[zn])});var V=d[yn]?q.join(`
`):"["+q.join(",")+"]";return V}return null},R[Xa]=function(B,q,V){var ie=g.slice(0);B=B||c,q=q||{};var ve=V?new Ub(B,q):new wE(B,q);return Ft(ie,function(me){ve[Xe](me)}),ve}})}return u.__ieDyn=1,u}(),wE=function(u){Zf(c,u);function c(d,g){var S=u.call(this,d,g)||this;return qi(c,S,function(N,R){N[Pa]=function(B){R[$n]()},N[zl]=function(B){}}),S}return c.__ieDyn=1,c}(Fb),ZI=["AI_buffer","AI_sentBuffer"],Ub=function(u){Zf(c,u);function c(g,S){var N=u.call(this,g,S)||this,R=!1,B=S==null?void 0:S.namePrefix,q=S[jv]||{getItem:Me,setItem:Pe},V=q.getItem,ie=q.setItem,ve=S.maxRetryCnt;return qi(c,N,function(me,ye){var pe=ht(c[$l]),Le=ht(c[at]),we=un(),Ge=Le[Yt](we),qe=me._set(pe[Yt](Ge));qe[J]>c[xn]&&(qe[J]=c[xn]),sn(c[at],[]),sn(c[$l],qe),me[Xe]=function(nr){if(me[ot]()>=c[xn]){R||(At(g,2,67,"Maximum buffer size reached: "+me[ot](),!0),R=!0);return}nr.cnt=nr.cnt||0,!(!We(ve)&&nr.cnt>ve)&&(ye[Xe](nr),sn(c.BUFFER_KEY,me[$e]()))},me[$n]=function(){ye[$n](),sn(c.BUFFER_KEY,me[$e]()),sn(c[at],[]),R=!1},me[Pa]=function(nr){sn(c[$l],me._set(tt(nr,me[$e]())));var zt=ht(c[at]);zt instanceof Array&&nr instanceof Array&&(zt=zt[Yt](nr),zt[J]>c[xn]&&(At(g,1,67,"Sent buffer reached its maximum size: "+zt[J],!0),zt[J]=c[xn]),sn(c[at],zt))},me[zl]=function(nr){var zt=ht(c[at]);zt=tt(nr,zt),sn(c[at],zt)},me[Xa]=function(nr,zt,an){an=!!an;var Zi=me[$e]().slice(0),li=ht(c[at]).slice(0);nr=nr||g,zt=zt||{},me[$n]();var nt=an?new c(nr,zt):new wE(nr,zt);return Ft(Zi,function($t){nt[Xe]($t)}),an&&nt[Pa](li),nt};function tt(nr,zt){var an=[],Zi=[];return Ft(nr,function(li){Zi[hr](li[zn])}),Ft(zt,function(li){!et(li)&&ya(Zi,li[zn])===-1&&an[hr](li)}),an}function ht(nr){var zt=nr;return zt=B?B+"_"+zt:zt,xr(zt)}function xr(nr){try{var zt=V(g,nr);if(zt){var an=Ka().parse(zt);if(Pr(an)&&(an=Ka().parse(an)),an&&ft(an))return an}}catch(Zi){At(g,1,42," storage key: "+nr+", "+Ei(Zi),{exception:Ct(Zi)})}return[]}function sn(nr,zt){var an=nr;try{an=B?B+"_"+an:an;var Zi=JSON[Q](zt);ie(g,an,Zi)}catch(li){ie(g,an,JSON[Q]([])),At(g,2,41," storage key: "+an+", "+Ei(li)+". Buffer cleared",{exception:Ct(li)})}}function un(){var nr=[];try{return Ft(ZI,function(zt){var an=Dn(zt);if(nr=nr[Yt](an),B){var Zi=B+"_"+zt,li=Dn(Zi);nr=nr[Yt](li)}}),nr}catch(zt){At(g,2,41,"Transfer events from previous buffers: "+Ei(zt)+". previous Buffer items can not be removed",{exception:Ct(zt)})}return[]}function Dn(nr){try{var zt=xr(nr),an=[];return Ft(zt,function(Zi){var li={item:Zi,cnt:0};an[hr](li)}),Ze(g,nr),an}catch{}return[]}}),N}var d;return d=c,c.VERSION="_1",c.BUFFER_KEY="AI_buffer"+d.VERSION,c.SENT_BUFFER_KEY="AI_sentBuffer"+d.VERSION,c.MAX_BUFFER_SIZE=2e3,c}(Fb),XI=function(){function u(c){qi(u,this,function(d){d[Bt]=function(R){var B=g(R,"root");try{return Ka()[Q](B)}catch(q){At(c,1,48,q&&et(q[De])?q[De]():"Error serializing object",null,!0)}};function g(R,B){var q="__aiCircularRefCheck",V={};if(!R)return At(c,1,48,"cannot serialize object because it is null or undefined",{name:B},!0),V;if(R[q])return At(c,2,50,"Circular reference detected while serializing object",{name:B},!0),V;if(!R.aiDataContract){if(B==="measurements")V=N(R,"number",B);else if(B==="properties")V=N(R,"string",B);else if(B==="tags")V=N(R,"string",B);else if(ft(R))V=S(R,B);else{At(c,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:B},!0);try{Ka()[Q](R),V=R}catch(ie){At(c,1,48,ie&&et(ie[De])?ie[De]():"Error serializing object",null,!0)}}return V}return R[q]=!0,Rt(R.aiDataContract,function(ie,ve){var me=et(ve)?ve()&1:ve&1,ye=et(ve)?ve()&4:ve&4,pe=ve&2,Le=R[ie]!==void 0,we=kn(R[ie])&&R[ie]!==null;if(me&&!Le&&!pe)At(c,1,24,"Missing required field specification. The field is required but not present on source",{field:ie,name:B});else if(!ye){var Ge=void 0;we?pe?Ge=S(R[ie],ie):Ge=g(R[ie],ie):Ge=R[ie],Ge!==void 0&&(V[ie]=Ge)}}),delete R[q],V}function S(R,B){var q;if(R)if(!ft(R))At(c,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:B},!0);else{q=[];for(var V=0;V<R[J];V++){var ie=R[V],ve=g(ie,B+"["+V+"]");q[hr](ve)}}return q}function N(R,B,q){var V;return R&&(V={},Rt(R,function(ie,ve){if(B==="string")ve===void 0?V[ie]="undefined":ve===null?V[ie]="null":ve[De]?V[ie]=ve[De]():V[ie]="invalid field: toString() is not defined.";else if(B==="number")if(ve===void 0)V[ie]="undefined";else if(ve===null)V[ie]="null";else{var me=parseFloat(ve);V[ie]=me}else V[ie]="invalid field: "+q+" is of unknown type.",At(c,1,V[ie],null,!0)})),V}})}return u.__ieDyn=1,u}(),QI=8,ex=function(){function u(){}return u.prototype.getHashCodeScore=function(c){var d=this.getHashCode(c)/u.INT_MAX_VALUE;return d*100},u.prototype.getHashCode=function(c){if(c==="")return 0;for(;c[J]<QI;)c=c[Yt](c);for(var d=5381,g=0;g<c[J];++g)d=(d<<5)+d+c.charCodeAt(g),d=d&d;return Math.abs(d)},u.INT_MAX_VALUE=2147483647,u}(),tx=function(){function u(){var c=this,d=new ex,g=new o;c[W_]=function(S){var N=0;return S[O]&&S[O][g.userId]?N=d.getHashCodeScore(S[O][g.userId]):S.ext&&S.ext.user&&S.ext.user.id?N=d[EE](S.ext.user.id):S[O]&&S[O][g.operationId]?N=d.getHashCodeScore(S[O][g.operationId]):S.ext&&S.ext.telemetryTrace&&S.ext.telemetryTrace[W]?N=d.getHashCodeScore(S.ext.telemetryTrace[W]):N=Math.random()*100,N}}return u}(),rx=function(){function u(c,d){this.INT_MAX_VALUE=2147483647;var g=d||eu(null);(c>100||c<0)&&(g.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:c},!0),c=100),this[Vh]=c,this.samplingScoreGenerator=new tx}return u.prototype.isSampledIn=function(c){var d=this[Vh],g=!1;return d==null||d>=100||c.baseType===on[ne]?!0:(g=this.samplingScoreGenerator[W_](c)<d,g)},u}(),Mi,Gv,Wh=void 0,Bb="",nx=65e3;function jb(u){try{return u.responseText}catch{}return null}function ix(u){return u&&u.sendPOST}var Gb=hi((Mi={endpointUrl:_f(ei,Cm+Fh)},Mi[yn]=po(),Mi[Zt]=15e3,Mi[fa]=102400,Mi.disableTelemetry=po(),Mi[Zd]=po(!0),Mi.isRetryDisabled=po(),Mi[Vl]=po(!0),Mi[xm]=po(!0),Mi[zh]=po(),Mi[$h]=po(),Mi[yo]=po(),Mi[Br]=Wh,Mi.namePrefix=Wh,Mi.samplingPercentage=_f(ax,100),Mi[Ra]=Wh,Mi[Et]=Wh,Mi[ur]=1e4,Mi[jv]=!1,Mi.httpXHROverride={isVal:ix,v:Wh},Mi[$u]=po(),Mi.transports=Wh,Mi.retryCodes=Wh,Mi.maxRetryCnt={isVal:Vt,v:10},Mi));function ax(u){return!isNaN(u)&&u>0&&u<=100}var ox=(Gv={},Gv[$r.dataType]=Lb,Gv[Za.dataType]=JI,Gv[uu.dataType]=HI,Gv[jl.dataType]=KI,Gv[Ns.dataType]=VI,Gv[on.dataType]=WI,Gv[xc.dataType]=$I,Gv),qb=function(u){Zf(c,u);function c(){var d=u.call(this)||this;d.priority=1001,d.identifier=T;var g,S,N,R,B,q,V,ie=0,ve,me,ye,pe,Le,we,Ge,qe,tt,ht,xr,sn,un,Dn,nr,zt,an,Zi,li,nt,$t,Pn,Ye,cr,di,Rn,Cs;return qi(c,d,function(Te,wo){Vb(),Te.pause=function(){Mm(),N=!0},Te.resume=function(){N&&(N=!1,S=null,Tn(),Xg())},Te.flush=function(fe,Ae,bt){if(fe===void 0&&(fe=!0),!N){Mm();try{return Te[je](fe,null,bt||1)}catch(St){At(Te[Mt](),1,22,"flush failed, telemetry will not be collected: "+Ei(St),{exception:Ct(St)})}}},Te.onunloadFlush=function(){if(!N)if(Ge||nt)try{return Te[je](!0,lu,2)}catch(fe){At(Te[Mt](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+Ei(fe),{exception:Ct(fe)})}else Te.flush(!1)},Te.addHeader=function(fe,Ae){V[fe]=Ae},Te[fi]=function(fe,Ae,bt,St){Te.isInitialized()&&At(Te[Mt](),1,28,"Sender is already initialized"),wo[fi](fe,Ae,bt,St);var kr=Te.identifier;B=new XI(Ae.logger),g=0,S=null,Te[go]=null,q=0;var wr=Te[Mt]();ye=Vd(pf("Sender"),Ae.evtNamespace&&Ae.evtNamespace()),me=w(ye),Te._addHook(Fu(fe,function(Zr){var Li=Zr.cfg;Li.storagePrefix&&xe(Li.storagePrefix);var Qd=Df(null,Li,Ae),Fr=Qd.getExtCfg(kr,Gb),Wb=Fr[Vo];if(pe&&Wb===pe){var DE=Li[Vo];DE&&DE!==Wb&&(Fr[Vo]=DE)}Jt(Fr[Br])&&(Fr[Br]=Li[Br]),Hr(Te,"_senderConfig",{g:function(){return Fr}}),Le!==Fr[Vo]&&(pe=Le=Fr[Vo]),Ae.activeStatus()===ja.PENDING?Te.pause():Ae.activeStatus()===ja.ACTIVE&&Te.resume(),ht&&ht!==Fr[Ra]&&Ft(ht,function(du){delete V[du.header]}),we=Fr[fa],Ge=(Fr[yo]===!1||Fr[Vl]===!1)&&Xs(),qe=Fr[yo]===!1&&Xs(),tt=Fr[Vl]===!1&&Xs(),nt=Fr[$u],$t=!!Fr[zh],Cs=Fr.retryCodes;var TE=Fr[jv],Qg=!!Fr[Zd]&&(!!TE||rt()),Hb=Fr.namePrefix,fx=Qg!==zt||Qg&&Zi!==Hb||Qg&&an!==TE;if(Te[Wl]){if(fx)try{Te._buffer=Te._buffer[Xa](wr,Fr,Qg)}catch(du){At(Te[Mt](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+Ei(du),{exception:Ct(du)})}Tn()}else Te[Wl]=Qg?new Ub(wr,Fr):new wE(wr,Fr);Zi=Hb,zt=Qg,an=TE,Pn=!Fr[$h]&&Si(!0),di=!!Fr[xm],Te._sample=new rx(Fr.samplingPercentage,wr),sn=Fr[Br],!Jt(sn)&&!$b(sn,Li)&&At(wr,1,100,"Invalid Instrumentation key "+sn),ht=Fr[Ra],Pr(pe)&&!de(pe)&&ht&&ht[J]>0?Ft(ht,function(du){d.addHeader(du.header,du.value)}):ht=null,li=Fr[ki];var Kb=Is();Rn?Rn.SetConfig(Kb):(Rn=new kh,Rn[fi](Kb,wr));var Z_=Fr.httpXHROverride,X_=null,qy=null,lx=ol([3,1,2],Fr.transports);X_=Rn&&Rn[_o](lx,!1);var AE=Rn&&Rn.getFallbackInst();Ye=function(du,pg){return Lt(AE,du,pg)},cr=function(du,pg){return Lt(AE,du,pg,!1)},X_=nt?Z_:X_||Z_||AE,Te[go]=function(du,pg){return Lt(X_,du,pg)},Pn&&(ve=Zg);var NE=ol([3,1],Fr[Ce]);Pn||(NE=NE.filter(function(du){return du!==2})),qy=Rn&&Rn[_o](NE,!0),qy=nt?Z_:qy||Z_,(nt||Fr[Ce]||!ve)&&qy&&(ve=function(du,pg){return Lt(qy,du,pg)}),ve||(ve=Ye),xr=Fr.disableTelemetry,un=Fr[Et]||Wh,Dn=Fr.isRetryDisabled,nr=Fr[Zt]}))},Te.processTelemetry=function(fe,Ae){var bt;Ae=Te._getTelCtx(Ae);var St=Ae[Mt]();try{var kr=Zp(fe,St);if(!kr)return;var wr=Om(fe,St);if(!wr)return;var Zr=B[Bt](wr),Li=Te[Wl];Tn(Zr);var Qd=(bt={},bt[zn]=Zr,bt.cnt=0,bt);Li[Xe](Qd),Xg()}catch(Fr){At(St,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+Ei(Fr),{exception:Ct(Fr)})}Te.processNext(fe,Ae)},Te.isCompletelyIdle=function(){return!N&&ie===0&&Te._buffer[ot]()===0},Te.getOfflineListener=function(){return me},Te._xhrReadyStateChange=function(fe,Ae,bt){if(!Qp(Ae))return Xd(fe,Ae,bt)},Te[je]=function(fe,Ae,bt){fe===void 0&&(fe=!0);var St;if(!N)try{var kr=Te[Wl];if(xr)kr[$n]();else if(kr[ot]()>0){var wr=kr.getItems();J_(bt||0,fe),Ae?St=Ae.call(Te,wr,fe):St=Te[go](wr,fe)}Mm()}catch(Li){var Zr=bi();(!Zr||Zr>9)&&At(Te[Mt](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+Ei(Li),{exception:Ct(Li)})}return St},Te.getOfflineSupport=function(){var fe;return fe={getUrl:function(){return pe},createPayload:Re},fe[Bt]=Xi,fe.batch=fu,fe.shouldProcess=function(Ae){return!!Zp(Ae)},fe},Te._doTeardown=function(fe,Ae){Te.onunloadFlush(),yf(me,!1),Vb()},Te[Xt]=function(fe,Ae,bt){if(!Qp(fe))return Rc(fe,Ae)},Te[Fn]=function(fe,Ae){if(!Qp(fe))return Rm(fe,Ae)},Te[wn]=function(fe,Ae){if(!Qp(fe))return Jp(fe)},Te._xdrOnLoad=function(fe,Ae){if(!Qp(Ae))return la(fe,Ae)};function la(fe,Ae){var bt=jb(fe);if(fe&&(bt+""=="200"||bt===""))g=0,Te[wn](Ae,0);else{var St=kl(bt);St&&St[Oi]&&St[Oi]>St[Eo]&&!Dn?Te[Fn](Ae,St):Te[Xt](Ae,ms(fe))}}function Is(){var fe;try{var Ae={xdrOnComplete:function(St,kr,wr){var Zr=km(wr);if(Zr)return la(St,Zr)},fetchOnComplete:function(St,kr,wr,Zr){var Li=km(Zr);if(Li)return Qi(St.status,Li,St.url,Li[J],St.statusText,wr||"")},xhrOnComplete:function(St,kr,wr){var Zr=km(wr);if(Zr)return Xd(St,Zr,Zr[J])},beaconOnRetry:function(St,kr,wr){return Xp(St,kr,wr)}},bt=(fe={},fe[ki]=li,fe.isOneDs=!1,fe.disableCredentials=!1,fe[zh]=$t,fe.disableBeacon=!tt,fe.disableBeaconSync=!qe,fe.senderOnCompleteCallBack=Ae,fe);return bt}catch{}return null}function Xd(fe,Ae,bt){fe.readyState===4&&Qi(fe.status,Ae,fe.responseURL,bt,Da(fe),jb(fe)||fe.response)}function Rc(fe,Ae,bt){At(Te[Mt](),2,26,"Failed to send telemetry.",{message:Ae}),Te._buffer&&Te._buffer[zl](fe)}function Rm(fe,Ae){for(var bt=[],St=[],kr=Ae.errors.reverse(),wr=0,Zr=kr;wr<Zr.length;wr++){var Li=Zr[wr],Qd=fe.splice(Li.index,1)[0];Lm(Li.statusCode)?St[hr](Qd):bt[hr](Qd)}fe[J]>0&&Te[wn](fe,Ae[Eo]),bt[J]>0&&Te[Xt](bt,Da(null,["partial success",Ae[Eo],"of",Ae.itemsReceived].join(" "))),St[J]>0&&(Gy(St),At(Te[Mt](),2,40,"Partial success. Delivered: "+fe[J]+", Failed: "+bt[J]+". Will retry to send "+St[J]+" our of "+Ae[Oi]+" items"))}function Jp(fe,Ae){Te._buffer&&Te._buffer[zl](fe)}function km(fe){try{if(fe){var Ae=fe,bt=Ae[Wo];return bt&&bt[J]?bt:null}}catch{}return null}function Zp(fe,Ae){if(xr)return!1;if(!fe)return Ae&&At(Ae,1,7,"Cannot send empty telemetry"),!1;if(fe.baseData&&!fe[Hl])return Ae&&At(Ae,1,70,"Cannot send telemetry without baseData and baseType"),!1;if(fe[Hl]||(fe[Hl]="EventData"),!Te[go])return Ae&&At(Ae,1,28,"Sender was not initialized"),!1;if(wt(fe))fe[ig]=Te._sample[Vh];else return Ae&&At(Ae,2,33,"Telemetry item was sampled out and not sent",{SampleRate:Te._sample[Vh]}),!1;return!0}function Om(fe,Ae){var bt=fe.iKey||sn,St=c.constructEnvelope(fe,bt,Ae,un);if(!St){At(Ae,1,47,"Unable to create an AppInsights envelope");return}var kr=!1;if(fe[O]&&fe[O][Lv]&&(Ft(fe[O][Lv],function(wr){try{wr&&wr(St)===!1&&(kr=!0,Uu(Ae,"Telemetry processor check returns false"))}catch(Zr){At(Ae,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+Ei(Zr),{exception:Ct(Zr)},!0)}}),delete fe[O][Lv]),!kr)return St}function Xi(fe){var Ae=Bb,bt=Te[Mt]();try{var St=Zp(fe,bt),kr=null;St&&(kr=Om(fe,bt)),kr&&(Ae=B[Bt](kr))}catch{}return Ae}function fu(fe){var Ae=Bb;return fe&&fe[J]&&(Ae="["+fe.join(",")+"]"),Ae}function Re(fe){var Ae,bt=Wn();return Ae={urlString:pe},Ae[F]=fe,Ae.headers=bt,Ae}function wt(fe){return Te._sample.isSampledIn(fe)}function ir(fe,Ae,bt,St){Ae===200&&fe?Te._onSuccess(fe,fe[J]):St&&Te[Xt](fe,St)}function Lt(fe,Ae,bt,St){St===void 0&&(St=!0);var kr=function(Li,Qd,Fr){return ir(Ae,Li,Qd,Fr)},wr=yr(Ae),Zr=fe&&fe.sendPOST;return Zr&&wr?(St&&Te._buffer[Pa](Ae),Zr(wr,kr,!bt)):null}function yr(fe){var Ae;if(ft(fe)&&fe[J]>0){var bt=Te[Wl].batchPayloads(fe),St=Wn(),kr=(Ae={},Ae[F]=bt,Ae.urlString=pe,Ae.headers=St,Ae.disableXhrSync=$t,Ae.disableFetchKeepAlive=!Pn,Ae[Wo]=fe,Ae);return kr}return null}function Wn(){try{var fe=V||{};return de(pe)&&(fe[og[6]]=og[7]),fe}catch{}return null}function Tn(fe){var Ae=fe?fe[J]:0;return Te[Wl].size()+Ae>we?((!me||me.isOnline())&&Te[je](!0,null,10),!0):!1}function Qi(fe,Ae,bt,St,kr,wr){var Zr=null;if(Te._appId||(Zr=kl(wr),Zr&&Zr.appId&&(Te._appId=Zr.appId)),(fe<200||fe>=300)&&fe!==0){if((fe===301||fe===307||fe===308)&&!Ho(bt)){Te[Xt](Ae,kr);return}if(me&&!me.isOnline()){if(!Dn){var Li=10;Gy(Ae,Li),At(Te[Mt](),2,40,". Offline - Response Code: ".concat(fe,". Offline status: ").concat(!me.isOnline(),". Will retry to send ").concat(Ae.length," items."))}return}!Dn&&Lm(fe)?(Gy(Ae),At(Te[Mt](),2,40,". Response code "+fe+". Will retry to send "+Ae[J]+" items.")):Te[Xt](Ae,kr)}else Ho(bt),fe===206?(Zr||(Zr=kl(wr)),Zr&&!Dn?Te[Fn](Ae,Zr):Te[Xt](Ae,kr)):(g=0,Te[wn](Ae,St))}function Ho(fe){return q>=10?!1:!We(fe)&&fe!==""&&fe!==pe?(pe=fe,++q,!0):!1}function lu(fe,Ae){if(ve)ve(fe,!1);else{var bt=Rn&&Rn[_o]([3],!0);return Lt(bt,fe,Ae)}}function Xp(fe,Ae,bt){var St=fe,kr=St&&St[Wo];if(di)cr&&cr(kr,!0),At(Te[Mt](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var wr=[],Zr=0;Zr<kr[J];Zr++){var Li=kr[Zr],Qd=[Li],Fr=yr(Qd);bt(Fr,Ae)?Te._onSuccess(Qd,Qd[J]):wr[hr](Li)}wr[J]>0&&(cr&&cr(wr,!0),At(Te[Mt](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function Qp(fe){try{if(fe&&fe[J])return Pr(fe[0])}catch{}return null}function Zg(fe,Ae){var bt=null;if(ft(fe)){for(var St=fe[J],kr=0;kr<fe[J];kr++)St+=fe[kr].item[J];var wr=Rn.getSyncFetchPayload();wr+St<=nx?bt=2:Xs()?bt=3:(bt=1,At(Te[Mt](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."));var Zr=Rn&&Rn[_o]([bt],!0);return Lt(Zr,fe,Ae)}return null}function Gy(fe,Ae){if(Ae===void 0&&(Ae=1),!(!fe||fe[J]===0)){var bt=Te[Wl];bt[zl](fe),g++;for(var St=0,kr=fe;St<kr.length;St++){var wr=kr[St];wr.cnt=wr.cnt||0,wr.cnt++,bt[Xe](wr)}SE(Ae),Xg()}}function SE(fe){var Ae=10,bt;if(g<=1)bt=Ae;else{var St=(Math.pow(2,g)-1)/2,kr=Math.floor(Math.random()*St*Ae)+1;kr=fe*kr,bt=Math.max(Math.min(kr,3600),Ae)}var wr=_u()+bt*1e3;S=wr}function Xg(){if(!R&&!N){var fe=S?Math.max(0,S-_u()):0,Ae=Math.max(nr,fe);R=bu(function(){R=null,Te[je](!0,null,1)},Ae)}}function Mm(){R&&R.cancel(),R=null,S=null}function Lm(fe){return We(Cs)?fe===401||fe===408||fe===429||fe===500||fe===502||fe===503||fe===504:Cs[J]&&Cs.indexOf(fe)>-1}function K_(){var fe="getNotifyMgr";return Te.core[fe]?Te.core[fe]():Te.core._notificationManager}function J_(fe,Ae){var bt=K_();if(bt&&bt[cg])try{bt[cg](fe,Ae)}catch(St){At(Te[Mt](),1,74,"send request notification failed: "+Ei(St),{exception:Ct(St)})}}function $b(fe,Ae){var bt=Ae.disableInstrumentationKeyValidation,St=We(bt)?!1:bt;if(St)return!0;var kr="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",wr=new RegExp(kr);return wr.test(fe)}function Vb(){Te[go]=null,Te[Wl]=null,Te._appId=null,Te._sample=null,V={},me=null,g=0,S=null,N=!1,R=null,B=null,q=0,ie=0,ve=null,ye=null,pe=null,Le=null,we=0,Ge=!1,ht=null,xr=!1,sn=null,un=Wh,Dn=!1,zt=null,Zi=Wh,$t=!1,Pn=!1,di=!1,Ye=null,cr=null,Rn=null,Hr(Te,"_senderConfig",{g:function(){return It({},Gb)}})}}),d}return c.constructEnvelope=function(d,g,S,N){var R;g!==d.iKey&&!We(g)?R=so(so({},d),{iKey:g}):R=d;var B=ox[R.baseType]||Lb;return B(S,R,N)},c}(fn),Hg="instrumentationKey",H_="connectionString",Yb="instrumentationkey",Kg="endpointUrl",zb="ingestionendpoint",jy="userOverrideEndpointUrl",Jg,bE=void 0,sx=(Jg={diagnosticLogInterval:_f(ux,1e4)},Jg[H_]=bE,Jg[Kg]=bE,Jg[Hg]=bE,Jg.extensionConfig={},Jg);function ux(u){return u&&u>0}var cx=function(){function u(c){var d=new Af,g;(We(c)||We(c[Hg])&&We(c[H_]))&&lr("Invalid input configuration"),qi(u,this,function(N){Hr(N,"config",{g:function(){return g}}),R(),N.initialize=R,N.track=S,Cd(N,d,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange","getTraceCtx","updateCfg","addTelemetryInitializer"]);function R(){var B=jo(c||{},sx);g=B.cfg,d.addUnloadHook(Fu(B,function(){var q=g[H_];if(Jt(q)){var V=tf(function(ye,pe){ps(q,function(Le){var we=Le.value,Ge=g[Hg];if(!Le.rejected&&we){g[H_]=we;var qe=pr(we);Ge=qe[Yb]||Ge}ye(Ge)})}),ie=tf(function(ye,pe){ps(q,function(Le){var we=Le.value,Ge=g[Kg];if(!Le.rejected&&we){var qe=pr(we),tt=qe[zb];Ge=tt?tt+Fh:Ge}ye(Ge)})});g[Hg]=V,g[Kg]=g[jy]||ie}if(Pr(q)){var ve=pr(q),me=ve[zb];g[Kg]=g[jy]?g[jy]:me+Fh,g[Hg]=ve[Yb]||g[Hg]}g[Kg]=g[jy]?g[jy]:g[Kg]})),d.initialize(g,[new qb])}});function S(N){N&&(N.baseData=N.baseData||{},N.baseType=N.baseType||"EventData"),d.track(N)}}return u.__ieDyn=1,u}();e.AppInsightsCore=Af,e.ApplicationInsights=cx,e.Sender=qb,e.SeverityLevel=Bv,e.arrForEach=Ft,e.isNullOrUndefined=We,e.proxyFunctions=Cd,e.throwError=lr})});var y2=fr(Zh=>{"use strict";var Vx=Zh&&Zh.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Wx=Zh&&Zh.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),Hx=Zh&&Zh.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Vx(t,e,r);return Wx(t,e),t};Object.defineProperty(Zh,"__esModule",{value:!0});Zh.appInsightsClientFactory=void 0;var Kx=v2(),Jx=jE(),Zx=async(e,t,r,n,i)=>{let a;try{let f=await Promise.resolve().then(()=>Hx(g2())),m={};if(n){let k={alwaysUseXhrOverride:!0,httpXHROverride:n};m[Kx.BreezeChannelIdentifier]=k}let _;e.startsWith("InstrumentationKey=")||(_=e);let D=_?{instrumentationKey:_}:{connectionString:e};a=new f.ApplicationInsights({...D,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0,extensionConfig:m})}catch(f){return Promise.reject(f)}return{logEvent:(f,m)=>{let _={...m==null?void 0:m.properties,...m==null?void 0:m.measurements};i!=null&&i.length&&Jx.TelemetryUtil.applyReplacements(_,i),a==null||a.track({name:f,data:_,baseType:"EventData",ext:{user:{id:t,authId:t},app:{sesId:r}},baseData:{name:f,properties:m==null?void 0:m.properties,measurements:m==null?void 0:m.measurements}})},flush:async()=>{a==null||a.flush(!1)},dispose:async()=>new Promise(m=>{a==null||a.unload(!0,()=>{m(),a=void 0},1e3)})}};Zh.appInsightsClientFactory=Zx});var _2=fr(o0=>{"use strict";Object.defineProperty(o0,"__esModule",{value:!0});o0.BaseTelemetryReporter=void 0;var GE=class{constructor(t,r,n){this.telemetrySender=t,this.vscodeAPI=r,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this._onDidChangeTelemetryLevel=new this.vscodeAPI.EventEmitter,this.onDidChangeTelemetryLevel=this._onDidChangeTelemetryLevel.event,this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,n),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates(()=>{this.updateUserOptIn()})}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender(),this._onDidChangeTelemetryLevel.fire(this.telemetryLevel)}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(t,r,n,i){i?this.telemetrySender.sendEventData(t,{properties:r,measurements:n}):this.telemetryLogger.logUsage(t,{properties:r,measurements:n})}sendTelemetryEvent(t,r,n){this.internalSendTelemetryEvent(t,r,n,!1)}sendRawTelemetryEvent(t,r,n){let i={...r};for(let a of Object.keys(i??{})){let s=i[a];typeof a=="string"&&s!==void 0&&(i[a]=new this.vscodeAPI.TelemetryTrustedValue(typeof s=="string"?s:s.value))}this.sendTelemetryEvent(t,i,n)}sendDangerousTelemetryEvent(t,r,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(t,r,n,!0)}internalSendTelemetryErrorEvent(t,r,n,i){i?this.telemetrySender.sendEventData(t,{properties:r,measurements:n}):this.telemetryLogger.logError(t,{properties:r,measurements:n})}sendTelemetryErrorEvent(t,r,n){this.internalSendTelemetryErrorEvent(t,r,n,!1)}sendDangerousTelemetryErrorEvent(t,r,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(t,r,n,!0)}async dispose(){return await this.telemetrySender.dispose(),this.telemetryLogger.dispose(),Promise.all(this.disposables.map(t=>t.dispose()))}};o0.BaseTelemetryReporter=GE});var E2=fr(s0=>{"use strict";Object.defineProperty(s0,"__esModule",{value:!0});s0.BaseTelemetrySender=void 0;var zv;(function(e){e[e.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",e[e.INSTANTIATING=1]="INSTANTIATING",e[e.INSTANTIATED=2]="INSTANTIATED"})(zv||(zv={}));var qE=class{constructor(t,r){this._instantiationStatus=zv.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=r,this._key=t}sendEventData(t,r){if(!this._telemetryClient){this._instantiationStatus!==zv.INSTANTIATED&&this._eventQueue.push({eventName:t,data:r});return}this._telemetryClient.logEvent(t,r)}sendErrorData(t,r){if(!this._telemetryClient){this._instantiationStatus!==zv.INSTANTIATED&&this._exceptionQueue.push({exception:t,data:r});return}let n={stack:t.stack,message:t.message,name:t.name};if(r){let i=r.properties||r;r.properties={...i,...n}}else r={properties:n};this._telemetryClient.logEvent("unhandlederror",r)}async flush(){var t;return(t=this._telemetryClient)==null?void 0:t.flush()}async dispose(){this._telemetryClient&&(await this._telemetryClient.dispose(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:t,data:r})=>this.sendEventData(t,r)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:t,data:r})=>this.sendErrorData(t,r)),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===zv.NOT_INSTANTIATED&&(this._instantiationStatus=zv.INSTANTIATING,this._clientFactory(this._key).then(t=>{this._telemetryClient=t,this._instantiationStatus=zv.INSTANTIATED,this._flushQueues()}).catch(t=>{console.error(t),this._instantiationStatus=zv.INSTANTIATED}))}};s0.BaseTelemetrySender=qE});var S2=fr($v=>{"use strict";var Xx=$v&&$v.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),Qx=$v&&$v.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),$E=$v&&$v.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&Xx(t,e,r);return Qx(t,e),t};Object.defineProperty($v,"__esModule",{value:!0});var e1=$E(require("https")),YE=$E(require("os")),u0=$E(require("vscode")),t1=p2(),r1=y2(),n1=_2(),i1=E2(),w2=jE();function b2(){return{sendPOST:(t,r)=>{let n={method:"POST",headers:{...t.headers,"Content-Type":"application/json","Content-Length":Buffer.byteLength(t.data)}};try{let i=e1.request(t.urlString,n,a=>{a.on("data",function(s){r(a.statusCode??200,a.headers,s.toString())}),a.on("error",function(){r(0,{})})});i.write(t.data,a=>{a&&r(0,{})}),i.end()}catch{r(0,{})}}}}var zE=class extends n1.BaseTelemetryReporter{constructor(t,r){let n=s=>(0,r1.appInsightsClientFactory)(s,u0.env.machineId,u0.env.sessionId,b2(),r);w2.TelemetryUtil.shouldUseOneDataSystemSDK(t)&&(n=s=>(0,t1.oneDataSystemClientFactory)(s,u0,b2()));let i={release:YE.release(),platform:YE.platform(),architecture:YE.arch()},a=new i1.BaseTelemetrySender(t,n);if(t&&t.indexOf("AIF-")===0)throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(a,u0,{additionalCommonProperties:w2.TelemetryUtil.getAdditionalCommonProperties(i)})}};$v.default=zE});var zy=fr(ny=>{"use strict";function c1(e,t,r){if(r===void 0&&(r=Array.prototype),e&&typeof r.find=="function")return r.find.call(e,t);for(var n=0;n<e.length;n++)if(Object.prototype.hasOwnProperty.call(e,n)){var i=e[n];if(t.call(void 0,i,n,e))return i}}function HE(e,t){return t===void 0&&(t=Object),t&&typeof t.freeze=="function"?t.freeze(e):e}function f1(e,t){if(e===null||typeof e!="object")throw new TypeError("target is not an object");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}var x2=HE({HTML:"text/html",isHTML:function(e){return e===x2.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),P2=HE({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===P2.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});ny.assign=f1;ny.find=c1;ny.freeze=HE;ny.MIME_TYPE=x2;ny.NAMESPACE=P2});var aw=fr(Bm=>{var B2=zy(),Xh=B2.find,$y=B2.NAMESPACE;function l1(e){return e!==""}function d1(e){return e?e.split(/[\t\n\f\r ]+/).filter(l1):[]}function p1(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function R2(e){if(!e)return[];var t=d1(e);return Object.keys(t.reduce(p1,{}))}function h1(e){return function(t){return e&&e.indexOf(t)!==-1}}function Wy(e,t){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}function Of(e,t){var r=e.prototype;if(!(r instanceof t)){let i=function(){};var n=i;i.prototype=t.prototype,i=new i,Wy(r,i),e.prototype=r=i}r.constructor!=e&&(typeof e!="function"&&console.error("unknown Class:"+e),r.constructor=e)}var Mf={},th=Mf.ELEMENT_NODE=1,ay=Mf.ATTRIBUTE_NODE=2,c0=Mf.TEXT_NODE=3,j2=Mf.CDATA_SECTION_NODE=4,G2=Mf.ENTITY_REFERENCE_NODE=5,v1=Mf.ENTITY_NODE=6,q2=Mf.PROCESSING_INSTRUCTION_NODE=7,Y2=Mf.COMMENT_NODE=8,z2=Mf.DOCUMENT_NODE=9,$2=Mf.DOCUMENT_TYPE_NODE=10,Wv=Mf.DOCUMENT_FRAGMENT_NODE=11,m1=Mf.NOTATION_NODE=12,Vu={},xs={},X4=Vu.INDEX_SIZE_ERR=(xs[1]="Index size error",1),Q4=Vu.DOMSTRING_SIZE_ERR=(xs[2]="DOMString size error",2),kf=Vu.HIERARCHY_REQUEST_ERR=(xs[3]="Hierarchy request error",3),eB=Vu.WRONG_DOCUMENT_ERR=(xs[4]="Wrong document",4),tB=Vu.INVALID_CHARACTER_ERR=(xs[5]="Invalid character",5),rB=Vu.NO_DATA_ALLOWED_ERR=(xs[6]="No data allowed",6),nB=Vu.NO_MODIFICATION_ALLOWED_ERR=(xs[7]="No modification allowed",7),V2=Vu.NOT_FOUND_ERR=(xs[8]="Not found",8),iB=Vu.NOT_SUPPORTED_ERR=(xs[9]="Not supported",9),k2=Vu.INUSE_ATTRIBUTE_ERR=(xs[10]="Attribute in use",10),aB=Vu.INVALID_STATE_ERR=(xs[11]="Invalid state",11),oB=Vu.SYNTAX_ERR=(xs[12]="Syntax error",12),sB=Vu.INVALID_MODIFICATION_ERR=(xs[13]="Invalid modification",13),uB=Vu.NAMESPACE_ERR=(xs[14]="Invalid namespace",14),cB=Vu.INVALID_ACCESS_ERR=(xs[15]="Invalid access",15);function Qa(e,t){if(t instanceof Error)var r=t;else r=this,Error.call(this,xs[e]),this.message=xs[e],Error.captureStackTrace&&Error.captureStackTrace(this,Qa);return r.code=e,t&&(this.message=this.message+": "+t),r}Qa.prototype=Error.prototype;Wy(Vu,Qa);function Vv(){}Vv.prototype={length:0,item:function(e){return e>=0&&e<this.length?this[e]:null},toString:function(e,t){for(var r=[],n=0;n<this.length;n++)iy(this[n],r,e,t);return r.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}};function oy(e,t){this._node=e,this._refresh=t,ZE(this)}function ZE(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!==t){var r=e._refresh(e._node);if(iS(e,"length",r.length),!e.$$length||r.length<e.$$length)for(var n=r.length;n in e;n++)Object.prototype.hasOwnProperty.call(e,n)&&delete e[n];Wy(r,e),e._inc=t}}oy.prototype.item=function(e){return ZE(this),this[e]||null};Of(oy,Vv);function f0(){}function W2(e,t){for(var r=e.length;r--;)if(e[r]===t)return r}function O2(e,t,r,n){if(n?t[W2(t,n)]=r:t[t.length++]=r,e){r.ownerElement=e;var i=e.ownerDocument;i&&(n&&J2(i,e,n),g1(i,e,r))}}function M2(e,t,r){var n=W2(t,r);if(n>=0){for(var i=t.length-1;n<i;)t[n]=t[++n];if(t.length=i,e){var a=e.ownerDocument;a&&(J2(a,e,r),r.ownerElement=null)}}else throw new Qa(V2,new Error(e.tagName+"@"+r))}f0.prototype={length:0,item:Vv.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var r=this[t];if(r.nodeName==e)return r}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new Qa(k2);var r=this.getNamedItem(e.nodeName);return O2(this._ownerElement,this,e,r),r},setNamedItemNS:function(e){var t=e.ownerElement,r;if(t&&t!=this._ownerElement)throw new Qa(k2);return r=this.getNamedItemNS(e.namespaceURI,e.localName),O2(this._ownerElement,this,e,r),r},removeNamedItem:function(e){var t=this.getNamedItem(e);return M2(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var r=this.getNamedItemNS(e,t);return M2(this._ownerElement,this,r),r},getNamedItemNS:function(e,t){for(var r=this.length;r--;){var n=this[r];if(n.localName==t&&n.namespaceURI==e)return n}return null}};function H2(){}H2.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,r){var n=new Hy;if(n.implementation=this,n.childNodes=new Vv,n.doctype=r||null,r&&n.appendChild(r),t){var i=n.createElementNS(e,t);n.appendChild(i)}return n},createDocumentType:function(e,t,r){var n=new p0;return n.name=e,n.nodeName=e,n.publicId=t||"",n.systemId=r||"",n}};function Hn(){}Hn.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return l0(this,e,t)},replaceChild:function(e,t){l0(this,e,t,X2),t&&this.removeChild(t)},removeChild:function(e){return Z2(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(e){return JE(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==c0&&e.nodeType==c0?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var r=t._nsMap;if(r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&r[n]===e)return n}t=t.nodeType==ay?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var r=t._nsMap;if(r&&Object.prototype.hasOwnProperty.call(r,e))return r[e];t=t.nodeType==ay?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){var t=this.lookupPrefix(e);return t==null}};function K2(e){return e=="<"&&"&lt;"||e==">"&&"&gt;"||e=="&"&&"&amp;"||e=='"'&&"&quot;"||"&#"+e.charCodeAt()+";"}Wy(Mf,Hn);Wy(Mf,Hn.prototype);function Vy(e,t){if(t(e))return!0;if(e=e.firstChild)do if(Vy(e,t))return!0;while(e=e.nextSibling)}function Hy(){this.ownerDocument=this}function g1(e,t,r){e&&e._inc++;var n=r.namespaceURI;n===$y.XMLNS&&(t._nsMap[r.prefix?r.localName:""]=r.value)}function J2(e,t,r,n){e&&e._inc++;var i=r.namespaceURI;i===$y.XMLNS&&delete t._nsMap[r.prefix?r.localName:""]}function XE(e,t,r){if(e&&e._inc){e._inc++;var n=t.childNodes;if(r)n[n.length++]=r;else{for(var i=t.firstChild,a=0;i;)n[a++]=i,i=i.nextSibling;n.length=a,delete n[n.length]}}}function Z2(e,t){var r=t.previousSibling,n=t.nextSibling;return r?r.nextSibling=n:e.firstChild=n,n?n.previousSibling=r:e.lastChild=r,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,XE(e.ownerDocument,e),t}function y1(e){return e&&(e.nodeType===Hn.DOCUMENT_NODE||e.nodeType===Hn.DOCUMENT_FRAGMENT_NODE||e.nodeType===Hn.ELEMENT_NODE)}function _1(e){return e&&(Qh(e)||QE(e)||Hv(e)||e.nodeType===Hn.DOCUMENT_FRAGMENT_NODE||e.nodeType===Hn.COMMENT_NODE||e.nodeType===Hn.PROCESSING_INSTRUCTION_NODE)}function Hv(e){return e&&e.nodeType===Hn.DOCUMENT_TYPE_NODE}function Qh(e){return e&&e.nodeType===Hn.ELEMENT_NODE}function QE(e){return e&&e.nodeType===Hn.TEXT_NODE}function L2(e,t){var r=e.childNodes||[];if(Xh(r,Qh)||Hv(t))return!1;var n=Xh(r,Hv);return!(t&&n&&r.indexOf(n)>r.indexOf(t))}function F2(e,t){var r=e.childNodes||[];function n(a){return Qh(a)&&a!==t}if(Xh(r,n))return!1;var i=Xh(r,Hv);return!(t&&i&&r.indexOf(i)>r.indexOf(t))}function E1(e,t,r){if(!y1(e))throw new Qa(kf,"Unexpected parent node type "+e.nodeType);if(r&&r.parentNode!==e)throw new Qa(V2,"child not in parent");if(!_1(t)||Hv(t)&&e.nodeType!==Hn.DOCUMENT_NODE)throw new Qa(kf,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)}function w1(e,t,r){var n=e.childNodes||[],i=t.childNodes||[];if(t.nodeType===Hn.DOCUMENT_FRAGMENT_NODE){var a=i.filter(Qh);if(a.length>1||Xh(i,QE))throw new Qa(kf,"More than one element or text in fragment");if(a.length===1&&!L2(e,r))throw new Qa(kf,"Element in fragment can not be inserted before doctype")}if(Qh(t)&&!L2(e,r))throw new Qa(kf,"Only one element can be added and only after doctype");if(Hv(t)){if(Xh(n,Hv))throw new Qa(kf,"Only one doctype is allowed");var s=Xh(n,Qh);if(r&&n.indexOf(s)<n.indexOf(r))throw new Qa(kf,"Doctype can only be inserted before an element");if(!r&&s)throw new Qa(kf,"Doctype can not be appended since element is present")}}function X2(e,t,r){var n=e.childNodes||[],i=t.childNodes||[];if(t.nodeType===Hn.DOCUMENT_FRAGMENT_NODE){var a=i.filter(Qh);if(a.length>1||Xh(i,QE))throw new Qa(kf,"More than one element or text in fragment");if(a.length===1&&!F2(e,r))throw new Qa(kf,"Element in fragment can not be inserted before doctype")}if(Qh(t)&&!F2(e,r))throw new Qa(kf,"Only one element can be added and only after doctype");if(Hv(t)){let m=function(_){return Hv(_)&&_!==r};var f=m;if(Xh(n,m))throw new Qa(kf,"Only one doctype is allowed");var s=Xh(n,Qh);if(r&&n.indexOf(s)<n.indexOf(r))throw new Qa(kf,"Doctype can only be inserted before an element")}}function l0(e,t,r,n){E1(e,t,r),e.nodeType===Hn.DOCUMENT_NODE&&(n||w1)(e,t,r);var i=t.parentNode;if(i&&i.removeChild(t),t.nodeType===Wv){var a=t.firstChild;if(a==null)return t;var s=t.lastChild}else a=s=t;var f=r?r.previousSibling:e.lastChild;a.previousSibling=f,s.nextSibling=r,f?f.nextSibling=a:e.firstChild=a,r==null?e.lastChild=s:r.previousSibling=s;do a.parentNode=e;while(a!==s&&(a=a.nextSibling));return XE(e.ownerDocument||e,e),t.nodeType==Wv&&(t.firstChild=t.lastChild=null),t}function b1(e,t){return t.parentNode&&t.parentNode.removeChild(t),t.parentNode=e,t.previousSibling=e.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,e.lastChild=t,XE(e.ownerDocument,e,t),t}Hy.prototype={nodeName:"#document",nodeType:z2,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==Wv){for(var r=e.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,t),r=n}return e}return l0(this,e,t),e.ownerDocument=this,this.documentElement===null&&e.nodeType===th&&(this.documentElement=e),e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),Z2(this,e)},replaceChild:function(e,t){l0(this,e,t,X2),e.ownerDocument=this,t&&this.removeChild(t),Qh(e)&&(this.documentElement=e)},importNode:function(e,t){return nS(this,e,t)},getElementById:function(e){var t=null;return Vy(this.documentElement,function(r){if(r.nodeType==th&&r.getAttribute("id")==e)return t=r,!0}),t},getElementsByClassName:function(e){var t=R2(e);return new oy(this,function(r){var n=[];return t.length>0&&Vy(r.documentElement,function(i){if(i!==r&&i.nodeType===th){var a=i.getAttribute("class");if(a){var s=e===a;if(!s){var f=R2(a);s=t.every(h1(f))}s&&n.push(i)}}}),n})},createElement:function(e){var t=new vg;t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new Vv;var r=t.attributes=new f0;return r._ownerElement=t,t},createDocumentFragment:function(){var e=new h0;return e.ownerDocument=this,e.childNodes=new Vv,e},createTextNode:function(e){var t=new ew;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new tw;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new rw;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var r=new iw;return r.ownerDocument=this,r.tagName=r.nodeName=r.target=e,r.nodeValue=r.data=t,r},createAttribute:function(e){var t=new d0;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new nw;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var r=new vg,n=t.split(":"),i=r.attributes=new f0;return r.childNodes=new Vv,r.ownerDocument=this,r.nodeName=t,r.tagName=t,r.namespaceURI=e,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=t,i._ownerElement=r,r},createAttributeNS:function(e,t){var r=new d0,n=t.split(":");return r.ownerDocument=this,r.nodeName=t,r.name=t,r.namespaceURI=e,r.specified=!0,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=t,r}};Of(Hy,Hn);function vg(){this._nsMap={}}vg.prototype={nodeType:th,hasAttribute:function(e){return this.getAttributeNode(e)!=null},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var r=this.ownerDocument.createAttribute(e);r.value=r.nodeValue=""+t,this.setAttributeNode(r)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===Wv?this.insertBefore(e,null):b1(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);r&&this.removeAttributeNode(r)},hasAttributeNS:function(e,t){return this.getAttributeNodeNS(e,t)!=null},getAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);return r&&r.value||""},setAttributeNS:function(e,t,r){var n=this.ownerDocument.createAttributeNS(e,t);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new oy(this,function(t){var r=[];return Vy(t,function(n){n!==t&&n.nodeType==th&&(e==="*"||n.tagName==e)&&r.push(n)}),r})},getElementsByTagNameNS:function(e,t){return new oy(this,function(r){var n=[];return Vy(r,function(i){i!==r&&i.nodeType===th&&(e==="*"||i.namespaceURI===e)&&(t==="*"||i.localName==t)&&n.push(i)}),n})}};Hy.prototype.getElementsByTagName=vg.prototype.getElementsByTagName;Hy.prototype.getElementsByTagNameNS=vg.prototype.getElementsByTagNameNS;Of(vg,Hn);function d0(){}d0.prototype.nodeType=ay;Of(d0,Hn);function Ky(){}Ky.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(xs[kf])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,r){var n=this.data.substring(0,e),i=this.data.substring(e+t);r=n+r+i,this.nodeValue=this.data=r,this.length=r.length}};Of(Ky,Hn);function ew(){}ew.prototype={nodeName:"#text",nodeType:c0,splitText:function(e){var t=this.data,r=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}};Of(ew,Ky);function tw(){}tw.prototype={nodeName:"#comment",nodeType:Y2};Of(tw,Ky);function rw(){}rw.prototype={nodeName:"#cdata-section",nodeType:j2};Of(rw,Ky);function p0(){}p0.prototype.nodeType=$2;Of(p0,Hn);function Q2(){}Q2.prototype.nodeType=m1;Of(Q2,Hn);function eS(){}eS.prototype.nodeType=v1;Of(eS,Hn);function nw(){}nw.prototype.nodeType=G2;Of(nw,Hn);function h0(){}h0.prototype.nodeName="#document-fragment";h0.prototype.nodeType=Wv;Of(h0,Hn);function iw(){}iw.prototype.nodeType=q2;Of(iw,Hn);function tS(){}tS.prototype.serializeToString=function(e,t,r){return rS.call(e,t,r)};Hn.prototype.toString=rS;function rS(e,t){var r=[],n=this.nodeType==9&&this.documentElement||this,i=n.prefix,a=n.namespaceURI;if(a&&i==null){var i=n.lookupPrefix(a);if(i==null)var s=[{namespace:a,prefix:null}]}return iy(this,r,e,t,s),r.join("")}function U2(e,t,r){var n=e.prefix||"",i=e.namespaceURI;if(!i||n==="xml"&&i===$y.XML||i===$y.XMLNS)return!1;for(var a=r.length;a--;){var s=r[a];if(s.prefix===n)return s.namespace!==i}return!0}function KE(e,t,r){e.push(" ",t,'="',r.replace(/[<>&"\t\n\r]/g,K2),'"')}function iy(e,t,r,n,i){if(i||(i=[]),n)if(e=n(e),e){if(typeof e=="string"){t.push(e);return}}else return;switch(e.nodeType){case th:var a=e.attributes,s=a.length,X=e.firstChild,f=e.tagName;r=$y.isHTML(e.namespaceURI)||r;var m=f;if(!r&&!e.prefix&&e.namespaceURI){for(var _,D=0;D<a.length;D++)if(a.item(D).name==="xmlns"){_=a.item(D).value;break}if(!_)for(var k=i.length-1;k>=0;k--){var U=i[k];if(U.prefix===""&&U.namespace===e.namespaceURI){_=U.namespace;break}}if(_!==e.namespaceURI)for(var k=i.length-1;k>=0;k--){var U=i[k];if(U.namespace===e.namespaceURI){U.prefix&&(m=U.prefix+":"+f);break}}}t.push("<",m);for(var z=0;z<s;z++){var ee=a.item(z);ee.prefix=="xmlns"?i.push({prefix:ee.localName,namespace:ee.value}):ee.nodeName=="xmlns"&&i.push({prefix:"",namespace:ee.value})}for(var z=0;z<s;z++){var ee=a.item(z);if(U2(ee,r,i)){var H=ee.prefix||"",K=ee.namespaceURI;KE(t,H?"xmlns:"+H:"xmlns",K),i.push({prefix:H,namespace:K})}iy(ee,t,r,n,i)}if(f===m&&U2(e,r,i)){var H=e.prefix||"",K=e.namespaceURI;KE(t,H?"xmlns:"+H:"xmlns",K),i.push({prefix:H,namespace:K})}if(X||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(f)){if(t.push(">"),r&&/^script$/i.test(f))for(;X;)X.data?t.push(X.data):iy(X,t,r,n,i.slice()),X=X.nextSibling;else for(;X;)iy(X,t,r,n,i.slice()),X=X.nextSibling;t.push("</",m,">")}else t.push("/>");return;case z2:case Wv:for(var X=e.firstChild;X;)iy(X,t,r,n,i.slice()),X=X.nextSibling;return;case ay:return KE(t,e.name,e.value);case c0:return t.push(e.data.replace(/[<&>]/g,K2));case j2:return t.push("<![CDATA[",e.data,"]]>");case Y2:return t.push("<!--",e.data,"-->");case $2:var ue=e.publicId,ce=e.systemId;if(t.push("<!DOCTYPE ",e.name),ue)t.push(" PUBLIC ",ue),ce&&ce!="."&&t.push(" ",ce),t.push(">");else if(ce&&ce!=".")t.push(" SYSTEM ",ce,">");else{var ge=e.internalSubset;ge&&t.push(" [",ge,"]"),t.push(">")}return;case q2:return t.push("<?",e.target," ",e.data,"?>");case G2:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function nS(e,t,r){var n;switch(t.nodeType){case th:n=t.cloneNode(!1),n.ownerDocument=e;case Wv:break;case ay:r=!0;break}if(n||(n=t.cloneNode(!1)),n.ownerDocument=e,n.parentNode=null,r)for(var i=t.firstChild;i;)n.appendChild(nS(e,i,r)),i=i.nextSibling;return n}function JE(e,t,r){var n=new t.constructor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var a=t[i];typeof a!="object"&&a!=n[i]&&(n[i]=a)}switch(t.childNodes&&(n.childNodes=new Vv),n.ownerDocument=e,n.nodeType){case th:var s=t.attributes,f=n.attributes=new f0,m=s.length;f._ownerElement=n;for(var _=0;_<m;_++)n.setAttributeNode(JE(e,s.item(_),!0));break;case ay:r=!0}if(r)for(var D=t.firstChild;D;)n.appendChild(JE(e,D,r)),D=D.nextSibling;return n}function iS(e,t,r){e[t]=r}try{if(Object.defineProperty){let e=function(t){switch(t.nodeType){case th:case Wv:var r=[];for(t=t.firstChild;t;)t.nodeType!==7&&t.nodeType!==8&&r.push(e(t)),t=t.nextSibling;return r.join("");default:return t.nodeValue}};S1=e,Object.defineProperty(oy.prototype,"length",{get:function(){return ZE(this),this.$$length}}),Object.defineProperty(Hn.prototype,"textContent",{get:function(){return e(this)},set:function(t){switch(this.nodeType){case th:case Wv:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),iS=function(t,r,n){t["$$"+r]=n}}}catch{}var S1;Bm.DocumentType=p0;Bm.DOMException=Qa;Bm.DOMImplementation=H2;Bm.Element=vg;Bm.Node=Hn;Bm.NodeList=Vv;Bm.XMLSerializer=tS});var oS=fr(Jy=>{"use strict";var aS=zy().freeze;Jy.XML_ENTITIES=aS({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'});Jy.HTML_ENTITIES=aS({Aacute:"\xC1",aacute:"\xE1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223E",acd:"\u223F",acE:"\u223E\u0333",Acirc:"\xC2",acirc:"\xE2",acute:"\xB4",Acy:"\u0410",acy:"\u0430",AElig:"\xC6",aelig:"\xE6",af:"\u2061",Afr:"\u{1D504}",afr:"\u{1D51E}",Agrave:"\xC0",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03B1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2A3F",AMP:"&",amp:"&",And:"\u2A53",and:"\u2227",andand:"\u2A55",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",ange:"\u29A4",angle:"\u2220",angmsd:"\u2221",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angst:"\xC5",angzarr:"\u237C",Aogon:"\u0104",aogon:"\u0105",Aopf:"\u{1D538}",aopf:"\u{1D552}",ap:"\u2248",apacir:"\u2A6F",apE:"\u2A70",ape:"\u224A",apid:"\u224B",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224A",Aring:"\xC5",aring:"\xE5",Ascr:"\u{1D49C}",ascr:"\u{1D4B6}",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224D",Atilde:"\xC3",atilde:"\xE3",Auml:"\xC4",auml:"\xE4",awconint:"\u2233",awint:"\u2A11",backcong:"\u224C",backepsilon:"\u03F6",backprime:"\u2035",backsim:"\u223D",backsimeq:"\u22CD",Backslash:"\u2216",Barv:"\u2AE7",barvee:"\u22BD",Barwed:"\u2306",barwed:"\u2305",barwedge:"\u2305",bbrk:"\u23B5",bbrktbrk:"\u23B6",bcong:"\u224C",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201E",becaus:"\u2235",Because:"\u2235",because:"\u2235",bemptyv:"\u29B0",bepsi:"\u03F6",bernou:"\u212C",Bernoullis:"\u212C",Beta:"\u0392",beta:"\u03B2",beth:"\u2136",between:"\u226C",Bfr:"\u{1D505}",bfr:"\u{1D51F}",bigcap:"\u22C2",bigcirc:"\u25EF",bigcup:"\u22C3",bigodot:"\u2A00",bigoplus:"\u2A01",bigotimes:"\u2A02",bigsqcup:"\u2A06",bigstar:"\u2605",bigtriangledown:"\u25BD",bigtriangleup:"\u25B3",biguplus:"\u2A04",bigvee:"\u22C1",bigwedge:"\u22C0",bkarow:"\u290D",blacklozenge:"\u29EB",blacksquare:"\u25AA",blacktriangle:"\u25B4",blacktriangledown:"\u25BE",blacktriangleleft:"\u25C2",blacktriangleright:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bNot:"\u2AED",bnot:"\u2310",Bopf:"\u{1D539}",bopf:"\u{1D553}",bot:"\u22A5",bottom:"\u22A5",bowtie:"\u22C8",boxbox:"\u29C9",boxDL:"\u2557",boxDl:"\u2556",boxdL:"\u2555",boxdl:"\u2510",boxDR:"\u2554",boxDr:"\u2553",boxdR:"\u2552",boxdr:"\u250C",boxH:"\u2550",boxh:"\u2500",boxHD:"\u2566",boxHd:"\u2564",boxhD:"\u2565",boxhd:"\u252C",boxHU:"\u2569",boxHu:"\u2567",boxhU:"\u2568",boxhu:"\u2534",boxminus:"\u229F",boxplus:"\u229E",boxtimes:"\u22A0",boxUL:"\u255D",boxUl:"\u255C",boxuL:"\u255B",boxul:"\u2518",boxUR:"\u255A",boxUr:"\u2559",boxuR:"\u2558",boxur:"\u2514",boxV:"\u2551",boxv:"\u2502",boxVH:"\u256C",boxVh:"\u256B",boxvH:"\u256A",boxvh:"\u253C",boxVL:"\u2563",boxVl:"\u2562",boxvL:"\u2561",boxvl:"\u2524",boxVR:"\u2560",boxVr:"\u255F",boxvR:"\u255E",boxvr:"\u251C",bprime:"\u2035",Breve:"\u02D8",breve:"\u02D8",brvbar:"\xA6",Bscr:"\u212C",bscr:"\u{1D4B7}",bsemi:"\u204F",bsim:"\u223D",bsime:"\u22CD",bsol:"\\",bsolb:"\u29C5",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bump:"\u224E",bumpE:"\u2AAE",bumpe:"\u224F",Bumpeq:"\u224E",bumpeq:"\u224F",Cacute:"\u0106",cacute:"\u0107",Cap:"\u22D2",cap:"\u2229",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",capcup:"\u2A47",capdot:"\u2A40",CapitalDifferentialD:"\u2145",caps:"\u2229\uFE00",caret:"\u2041",caron:"\u02C7",Cayleys:"\u212D",ccaps:"\u2A4D",Ccaron:"\u010C",ccaron:"\u010D",Ccedil:"\xC7",ccedil:"\xE7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2A4C",ccupssm:"\u2A50",Cdot:"\u010A",cdot:"\u010B",cedil:"\xB8",Cedilla:"\xB8",cemptyv:"\u29B2",cent:"\xA2",CenterDot:"\xB7",centerdot:"\xB7",Cfr:"\u212D",cfr:"\u{1D520}",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03A7",chi:"\u03C7",cir:"\u25CB",circ:"\u02C6",circeq:"\u2257",circlearrowleft:"\u21BA",circlearrowright:"\u21BB",circledast:"\u229B",circledcirc:"\u229A",circleddash:"\u229D",CircleDot:"\u2299",circledR:"\xAE",circledS:"\u24C8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cirE:"\u29C3",cire:"\u2257",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201D",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",Colon:"\u2237",colon:":",Colone:"\u2A74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2A6D",Congruent:"\u2261",Conint:"\u222F",conint:"\u222E",ContourIntegral:"\u222E",Copf:"\u2102",copf:"\u{1D554}",coprod:"\u2210",Coproduct:"\u2210",COPY:"\xA9",copy:"\xA9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21B5",Cross:"\u2A2F",cross:"\u2717",Cscr:"\u{1D49E}",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",cuesc:"\u22DF",cularr:"\u21B6",cularrp:"\u293D",Cup:"\u22D3",cup:"\u222A",cupbrcap:"\u2A48",CupCap:"\u224D",cupcap:"\u2A46",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curarrm:"\u293C",curlyeqprec:"\u22DE",curlyeqsucc:"\u22DF",curlyvee:"\u22CE",curlywedge:"\u22CF",curren:"\xA4",curvearrowleft:"\u21B6",curvearrowright:"\u21B7",cuvee:"\u22CE",cuwed:"\u22CF",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232D",Dagger:"\u2021",dagger:"\u2020",daleth:"\u2138",Darr:"\u21A1",dArr:"\u21D3",darr:"\u2193",dash:"\u2010",Dashv:"\u2AE4",dashv:"\u22A3",dbkarow:"\u290F",dblac:"\u02DD",Dcaron:"\u010E",dcaron:"\u010F",Dcy:"\u0414",dcy:"\u0434",DD:"\u2145",dd:"\u2146",ddagger:"\u2021",ddarr:"\u21CA",DDotrahd:"\u2911",ddotseq:"\u2A77",deg:"\xB0",Del:"\u2207",Delta:"\u0394",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",Dfr:"\u{1D507}",dfr:"\u{1D521}",dHar:"\u2965",dharl:"\u21C3",dharr:"\u21C2",DiacriticalAcute:"\xB4",DiacriticalDot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",DiacriticalGrave:"`",DiacriticalTilde:"\u02DC",diam:"\u22C4",Diamond:"\u22C4",diamond:"\u22C4",diamondsuit:"\u2666",diams:"\u2666",die:"\xA8",DifferentialD:"\u2146",digamma:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231E",dlcrop:"\u230D",dollar:"$",Dopf:"\u{1D53B}",dopf:"\u{1D555}",Dot:"\xA8",dot:"\u02D9",DotDot:"\u20DC",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22A1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222F",DoubleDot:"\xA8",DoubleDownArrow:"\u21D3",DoubleLeftArrow:"\u21D0",DoubleLeftRightArrow:"\u21D4",DoubleLeftTee:"\u2AE4",DoubleLongLeftArrow:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",DoubleLongRightArrow:"\u27F9",DoubleRightArrow:"\u21D2",DoubleRightTee:"\u22A8",DoubleUpArrow:"\u21D1",DoubleUpDownArrow:"\u21D5",DoubleVerticalBar:"\u2225",DownArrow:"\u2193",Downarrow:"\u21D3",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21F5",DownBreve:"\u0311",downdownarrows:"\u21CA",downharpoonleft:"\u21C3",downharpoonright:"\u21C2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVector:"\u21BD",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295F",DownRightVector:"\u21C1",DownRightVectorBar:"\u2957",DownTee:"\u22A4",DownTeeArrow:"\u21A7",drbkarow:"\u2910",drcorn:"\u231F",drcrop:"\u230C",Dscr:"\u{1D49F}",dscr:"\u{1D4B9}",DScy:"\u0405",dscy:"\u0455",dsol:"\u29F6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",dtrif:"\u25BE",duarr:"\u21F5",duhar:"\u296F",dwangle:"\u29A6",DZcy:"\u040F",dzcy:"\u045F",dzigrarr:"\u27FF",Eacute:"\xC9",eacute:"\xE9",easter:"\u2A6E",Ecaron:"\u011A",ecaron:"\u011B",ecir:"\u2256",Ecirc:"\xCA",ecirc:"\xEA",ecolon:"\u2255",Ecy:"\u042D",ecy:"\u044D",eDDot:"\u2A77",Edot:"\u0116",eDot:"\u2251",edot:"\u0117",ee:"\u2147",efDot:"\u2252",Efr:"\u{1D508}",efr:"\u{1D522}",eg:"\u2A9A",Egrave:"\xC8",egrave:"\xE8",egs:"\u2A96",egsdot:"\u2A98",el:"\u2A99",Element:"\u2208",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",elsdot:"\u2A97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25FB",emptyv:"\u2205",EmptyVerySmallSquare:"\u25AB",emsp:"\u2003",emsp13:"\u2004",emsp14:"\u2005",ENG:"\u014A",eng:"\u014B",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\u{1D53C}",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",Epsilon:"\u0395",epsilon:"\u03B5",epsiv:"\u03F5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2A96",eqslantless:"\u2A95",Equal:"\u2A75",equals:"=",EqualTilde:"\u2242",equest:"\u225F",Equilibrium:"\u21CC",equiv:"\u2261",equivDD:"\u2A78",eqvparsl:"\u29E5",erarr:"\u2971",erDot:"\u2253",Escr:"\u2130",escr:"\u212F",esdot:"\u2250",Esim:"\u2A73",esim:"\u2242",Eta:"\u0397",eta:"\u03B7",ETH:"\xD0",eth:"\xF0",Euml:"\xCB",euml:"\xEB",euro:"\u20AC",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",ExponentialE:"\u2147",exponentiale:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",Ffr:"\u{1D509}",ffr:"\u{1D523}",filig:"\uFB01",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",Fopf:"\u{1D53D}",fopf:"\u{1D557}",ForAll:"\u2200",forall:"\u2200",fork:"\u22D4",forkv:"\u2AD9",Fouriertrf:"\u2131",fpartint:"\u2A0D",frac12:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",Fscr:"\u2131",fscr:"\u{1D4BB}",gacute:"\u01F5",Gamma:"\u0393",gamma:"\u03B3",Gammad:"\u03DC",gammad:"\u03DD",gap:"\u2A86",Gbreve:"\u011E",gbreve:"\u011F",Gcedil:"\u0122",Gcirc:"\u011C",gcirc:"\u011D",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",gE:"\u2267",ge:"\u2265",gEl:"\u2A8C",gel:"\u22DB",geq:"\u2265",geqq:"\u2267",geqslant:"\u2A7E",ges:"\u2A7E",gescc:"\u2AA9",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",Gfr:"\u{1D50A}",gfr:"\u{1D524}",Gg:"\u22D9",gg:"\u226B",ggg:"\u22D9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gl:"\u2277",gla:"\u2AA5",glE:"\u2A92",glj:"\u2AA4",gnap:"\u2A8A",gnapprox:"\u2A8A",gnE:"\u2269",gne:"\u2A88",gneq:"\u2A88",gneqq:"\u2269",gnsim:"\u22E7",Gopf:"\u{1D53E}",gopf:"\u{1D558}",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22DB",GreaterFullEqual:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2A7E",GreaterTilde:"\u2273",Gscr:"\u{1D4A2}",gscr:"\u210A",gsim:"\u2273",gsime:"\u2A8E",gsiml:"\u2A90",Gt:"\u226B",GT:">",gt:">",gtcc:"\u2AA7",gtcir:"\u2A7A",gtdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrapprox:"\u2A86",gtrarr:"\u2978",gtrdot:"\u22D7",gtreqless:"\u22DB",gtreqqless:"\u2A8C",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",Hacek:"\u02C7",hairsp:"\u200A",half:"\xBD",hamilt:"\u210B",HARDcy:"\u042A",hardcy:"\u044A",hArr:"\u21D4",harr:"\u2194",harrcir:"\u2948",harrw:"\u21AD",Hat:"^",hbar:"\u210F",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22B9",Hfr:"\u210C",hfr:"\u{1D525}",HilbertSpace:"\u210B",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",hookrightarrow:"\u21AA",Hopf:"\u210D",hopf:"\u{1D559}",horbar:"\u2015",HorizontalLine:"\u2500",Hscr:"\u210B",hscr:"\u{1D4BD}",hslash:"\u210F",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224E",HumpEqual:"\u224F",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xCD",iacute:"\xED",ic:"\u2063",Icirc:"\xCE",icirc:"\xEE",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xA1",iff:"\u21D4",Ifr:"\u2111",ifr:"\u{1D526}",Igrave:"\xCC",igrave:"\xEC",ii:"\u2148",iiiint:"\u2A0C",iiint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Im:"\u2111",Imacr:"\u012A",imacr:"\u012B",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",imof:"\u22B7",imped:"\u01B5",Implies:"\u21D2",in:"\u2208",incare:"\u2105",infin:"\u221E",infintie:"\u29DD",inodot:"\u0131",Int:"\u222C",int:"\u222B",intcal:"\u22BA",integers:"\u2124",Integral:"\u222B",intercal:"\u22BA",Intersection:"\u22C2",intlarhk:"\u2A17",intprod:"\u2A3C",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012E",iogon:"\u012F",Iopf:"\u{1D540}",iopf:"\u{1D55A}",Iota:"\u0399",iota:"\u03B9",iprod:"\u2A3C",iquest:"\xBF",Iscr:"\u2110",iscr:"\u{1D4BE}",isin:"\u2208",isindot:"\u22F5",isinE:"\u22F9",isins:"\u22F4",isinsv:"\u22F3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xCF",iuml:"\xEF",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\u{1D50D}",jfr:"\u{1D527}",jmath:"\u0237",Jopf:"\u{1D541}",jopf:"\u{1D55B}",Jscr:"\u{1D4A5}",jscr:"\u{1D4BF}",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039A",kappa:"\u03BA",kappav:"\u03F0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041A",kcy:"\u043A",Kfr:"\u{1D50E}",kfr:"\u{1D528}",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040C",kjcy:"\u045C",Kopf:"\u{1D542}",kopf:"\u{1D55C}",Kscr:"\u{1D4A6}",kscr:"\u{1D4C0}",lAarr:"\u21DA",Lacute:"\u0139",lacute:"\u013A",laemptyv:"\u29B4",lagran:"\u2112",Lambda:"\u039B",lambda:"\u03BB",Lang:"\u27EA",lang:"\u27E8",langd:"\u2991",langle:"\u27E8",lap:"\u2A85",Laplacetrf:"\u2112",laquo:"\xAB",Larr:"\u219E",lArr:"\u21D0",larr:"\u2190",larrb:"\u21E4",larrbfs:"\u291F",larrfs:"\u291D",larrhk:"\u21A9",larrlp:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",lat:"\u2AAB",lAtail:"\u291B",latail:"\u2919",late:"\u2AAD",lates:"\u2AAD\uFE00",lBarr:"\u290E",lbarr:"\u290C",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",Lcaron:"\u013D",lcaron:"\u013E",Lcedil:"\u013B",lcedil:"\u013C",lceil:"\u2308",lcub:"{",Lcy:"\u041B",lcy:"\u043B",ldca:"\u2936",ldquo:"\u201C",ldquor:"\u201E",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",lE:"\u2266",le:"\u2264",LeftAngleBracket:"\u27E8",LeftArrow:"\u2190",Leftarrow:"\u21D0",leftarrow:"\u2190",LeftArrowBar:"\u21E4",LeftArrowRightArrow:"\u21C6",leftarrowtail:"\u21A2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21C3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230A",leftharpoondown:"\u21BD",leftharpoonup:"\u21BC",leftleftarrows:"\u21C7",LeftRightArrow:"\u2194",Leftrightarrow:"\u21D4",leftrightarrow:"\u2194",leftrightarrows:"\u21C6",leftrightharpoons:"\u21CB",leftrightsquigarrow:"\u21AD",LeftRightVector:"\u294E",LeftTee:"\u22A3",LeftTeeArrow:"\u21A4",LeftTeeVector:"\u295A",leftthreetimes:"\u22CB",LeftTriangle:"\u22B2",LeftTriangleBar:"\u29CF",LeftTriangleEqual:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21BF",LeftUpVectorBar:"\u2958",LeftVector:"\u21BC",LeftVectorBar:"\u2952",lEg:"\u2A8B",leg:"\u22DA",leq:"\u2264",leqq:"\u2266",leqslant:"\u2A7D",les:"\u2A7D",lescc:"\u2AA8",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessapprox:"\u2A85",lessdot:"\u22D6",lesseqgtr:"\u22DA",lesseqqgtr:"\u2A8B",LessEqualGreater:"\u22DA",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2AA1",lesssim:"\u2272",LessSlantEqual:"\u2A7D",LessTilde:"\u2272",lfisht:"\u297C",lfloor:"\u230A",Lfr:"\u{1D50F}",lfr:"\u{1D529}",lg:"\u2276",lgE:"\u2A91",lHar:"\u2962",lhard:"\u21BD",lharu:"\u21BC",lharul:"\u296A",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",Ll:"\u22D8",ll:"\u226A",llarr:"\u21C7",llcorner:"\u231E",Lleftarrow:"\u21DA",llhard:"\u296B",lltri:"\u25FA",Lmidot:"\u013F",lmidot:"\u0140",lmoust:"\u23B0",lmoustache:"\u23B0",lnap:"\u2A89",lnapprox:"\u2A89",lnE:"\u2268",lne:"\u2A87",lneq:"\u2A87",lneqq:"\u2268",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",lobrk:"\u27E6",LongLeftArrow:"\u27F5",Longleftarrow:"\u27F8",longleftarrow:"\u27F5",LongLeftRightArrow:"\u27F7",Longleftrightarrow:"\u27FA",longleftrightarrow:"\u27F7",longmapsto:"\u27FC",LongRightArrow:"\u27F6",Longrightarrow:"\u27F9",longrightarrow:"\u27F6",looparrowleft:"\u21AB",looparrowright:"\u21AC",lopar:"\u2985",Lopf:"\u{1D543}",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25CA",lozenge:"\u25CA",lozf:"\u29EB",lpar:"(",lparlt:"\u2993",lrarr:"\u21C6",lrcorner:"\u231F",lrhar:"\u21CB",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",Lscr:"\u2112",lscr:"\u{1D4C1}",Lsh:"\u21B0",lsh:"\u21B0",lsim:"\u2272",lsime:"\u2A8D",lsimg:"\u2A8F",lsqb:"[",lsquo:"\u2018",lsquor:"\u201A",Lstrok:"\u0141",lstrok:"\u0142",Lt:"\u226A",LT:"<",lt:"<",ltcc:"\u2AA6",ltcir:"\u2A79",ltdot:"\u22D6",lthree:"\u22CB",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltri:"\u25C3",ltrie:"\u22B4",ltrif:"\u25C2",ltrPar:"\u2996",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",macr:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21A6",mapsto:"\u21A6",mapstodown:"\u21A7",mapstoleft:"\u21A4",mapstoup:"\u21A5",marker:"\u25AE",mcomma:"\u2A29",Mcy:"\u041C",mcy:"\u043C",mdash:"\u2014",mDDot:"\u223A",measuredangle:"\u2221",MediumSpace:"\u205F",Mellintrf:"\u2133",Mfr:"\u{1D510}",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",mid:"\u2223",midast:"*",midcir:"\u2AF0",middot:"\xB7",minus:"\u2212",minusb:"\u229F",minusd:"\u2238",minusdu:"\u2A2A",MinusPlus:"\u2213",mlcp:"\u2ADB",mldr:"\u2026",mnplus:"\u2213",models:"\u22A7",Mopf:"\u{1D544}",mopf:"\u{1D55E}",mp:"\u2213",Mscr:"\u2133",mscr:"\u{1D4C2}",mstpos:"\u223E",Mu:"\u039C",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20D2",nap:"\u2249",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",napprox:"\u2249",natur:"\u266E",natural:"\u266E",naturals:"\u2115",nbsp:"\xA0",nbump:"\u224E\u0338",nbumpe:"\u224F\u0338",ncap:"\u2A43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",Ncy:"\u041D",ncy:"\u043D",ndash:"\u2013",ne:"\u2260",nearhk:"\u2924",neArr:"\u21D7",nearr:"\u2197",nearrow:"\u2197",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226B",NestedLessLess:"\u226A",NewLine:`
`,nexist:"\u2204",nexists:"\u2204",Nfr:"\u{1D511}",nfr:"\u{1D52B}",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",nGg:"\u22D9\u0338",ngsim:"\u2275",nGt:"\u226B\u20D2",ngt:"\u226F",ngtr:"\u226F",nGtv:"\u226B\u0338",nhArr:"\u21CE",nharr:"\u21AE",nhpar:"\u2AF2",ni:"\u220B",nis:"\u22FC",nisd:"\u22FA",niv:"\u220B",NJcy:"\u040A",njcy:"\u045A",nlArr:"\u21CD",nlarr:"\u219A",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nLeftarrow:"\u21CD",nleftarrow:"\u219A",nLeftrightarrow:"\u21CE",nleftrightarrow:"\u21AE",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",nless:"\u226E",nLl:"\u22D8\u0338",nlsim:"\u2274",nLt:"\u226A\u20D2",nlt:"\u226E",nltri:"\u22EA",nltrie:"\u22EC",nLtv:"\u226A\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xA0",Nopf:"\u2115",nopf:"\u{1D55F}",Not:"\u2AEC",not:"\xAC",NotCongruent:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226F",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",notin:"\u2209",notindot:"\u22F5\u0338",notinE:"\u22F9\u0338",notinva:"\u2209",notinvb:"\u22F7",notinvc:"\u22F6",NotLeftTriangle:"\u22EA",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangleEqual:"\u22EC",NotLess:"\u226E",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",notni:"\u220C",notniva:"\u220C",notnivb:"\u22FE",notnivc:"\u22FD",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",NotReverseElement:"\u220C",NotRightTriangle:"\u22EB",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangleEqual:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",NotSubset:"\u2282\u20D2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",npar:"\u2226",nparallel:"\u2226",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",npr:"\u2280",nprcue:"\u22E0",npre:"\u2AAF\u0338",nprec:"\u2280",npreceq:"\u2AAF\u0338",nrArr:"\u21CF",nrarr:"\u219B",nrarrc:"\u2933\u0338",nrarrw:"\u219D\u0338",nRightarrow:"\u21CF",nrightarrow:"\u219B",nrtri:"\u22EB",nrtrie:"\u22ED",nsc:"\u2281",nsccue:"\u22E1",nsce:"\u2AB0\u0338",Nscr:"\u{1D4A9}",nscr:"\u{1D4C3}",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22E2",nsqsupe:"\u22E3",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsube:"\u2288",nsubset:"\u2282\u20D2",nsubseteq:"\u2288",nsubseteqq:"\u2AC5\u0338",nsucc:"\u2281",nsucceq:"\u2AB0\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20D2",nsupseteq:"\u2289",nsupseteqq:"\u2AC6\u0338",ntgl:"\u2279",Ntilde:"\xD1",ntilde:"\xF1",ntlg:"\u2278",ntriangleleft:"\u22EA",ntrianglelefteq:"\u22EC",ntriangleright:"\u22EB",ntrianglerighteq:"\u22ED",Nu:"\u039D",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224D\u20D2",nVDash:"\u22AF",nVdash:"\u22AE",nvDash:"\u22AD",nvdash:"\u22AC",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvHarr:"\u2904",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwarhk:"\u2923",nwArr:"\u21D6",nwarr:"\u2196",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xD3",oacute:"\xF3",oast:"\u229B",ocir:"\u229A",Ocirc:"\xD4",ocirc:"\xF4",Ocy:"\u041E",ocy:"\u043E",odash:"\u229D",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2A38",odot:"\u2299",odsold:"\u29BC",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29BF",Ofr:"\u{1D512}",ofr:"\u{1D52C}",ogon:"\u02DB",Ograve:"\xD2",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",ohm:"\u03A9",oint:"\u222E",olarr:"\u21BA",olcir:"\u29BE",olcross:"\u29BB",oline:"\u203E",olt:"\u29C0",Omacr:"\u014C",omacr:"\u014D",Omega:"\u03A9",omega:"\u03C9",Omicron:"\u039F",omicron:"\u03BF",omid:"\u29B6",ominus:"\u2296",Oopf:"\u{1D546}",oopf:"\u{1D560}",opar:"\u29B7",OpenCurlyDoubleQuote:"\u201C",OpenCurlyQuote:"\u2018",operp:"\u29B9",oplus:"\u2295",Or:"\u2A54",or:"\u2228",orarr:"\u21BB",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oS:"\u24C8",Oscr:"\u{1D4AA}",oscr:"\u2134",Oslash:"\xD8",oslash:"\xF8",osol:"\u2298",Otilde:"\xD5",otilde:"\xF5",Otimes:"\u2A37",otimes:"\u2297",otimesas:"\u2A36",Ouml:"\xD6",ouml:"\xF6",ovbar:"\u233D",OverBar:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",OverParenthesis:"\u23DC",par:"\u2225",para:"\xB6",parallel:"\u2225",parsim:"\u2AF3",parsl:"\u2AFD",part:"\u2202",PartialD:"\u2202",Pcy:"\u041F",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",perp:"\u22A5",pertenk:"\u2031",Pfr:"\u{1D513}",pfr:"\u{1D52D}",Phi:"\u03A6",phi:"\u03C6",phiv:"\u03D5",phmmat:"\u2133",phone:"\u260E",Pi:"\u03A0",pi:"\u03C0",pitchfork:"\u22D4",piv:"\u03D6",planck:"\u210F",planckh:"\u210E",plankv:"\u210F",plus:"+",plusacir:"\u2A23",plusb:"\u229E",pluscir:"\u2A22",plusdo:"\u2214",plusdu:"\u2A25",pluse:"\u2A72",PlusMinus:"\xB1",plusmn:"\xB1",plussim:"\u2A26",plustwo:"\u2A27",pm:"\xB1",Poincareplane:"\u210C",pointint:"\u2A15",Popf:"\u2119",popf:"\u{1D561}",pound:"\xA3",Pr:"\u2ABB",pr:"\u227A",prap:"\u2AB7",prcue:"\u227C",prE:"\u2AB3",pre:"\u2AAF",prec:"\u227A",precapprox:"\u2AB7",preccurlyeq:"\u227C",Precedes:"\u227A",PrecedesEqual:"\u2AAF",PrecedesSlantEqual:"\u227C",PrecedesTilde:"\u227E",preceq:"\u2AAF",precnapprox:"\u2AB9",precneqq:"\u2AB5",precnsim:"\u22E8",precsim:"\u227E",Prime:"\u2033",prime:"\u2032",primes:"\u2119",prnap:"\u2AB9",prnE:"\u2AB5",prnsim:"\u22E8",prod:"\u220F",Product:"\u220F",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prop:"\u221D",Proportion:"\u2237",Proportional:"\u221D",propto:"\u221D",prsim:"\u227E",prurel:"\u22B0",Pscr:"\u{1D4AB}",pscr:"\u{1D4C5}",Psi:"\u03A8",psi:"\u03C8",puncsp:"\u2008",Qfr:"\u{1D514}",qfr:"\u{1D52E}",qint:"\u2A0C",Qopf:"\u211A",qopf:"\u{1D562}",qprime:"\u2057",Qscr:"\u{1D4AC}",qscr:"\u{1D4C6}",quaternions:"\u210D",quatint:"\u2A16",quest:"?",questeq:"\u225F",QUOT:'"',quot:'"',rAarr:"\u21DB",race:"\u223D\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221A",raemptyv:"\u29B3",Rang:"\u27EB",rang:"\u27E9",rangd:"\u2992",range:"\u29A5",rangle:"\u27E9",raquo:"\xBB",Rarr:"\u21A0",rArr:"\u21D2",rarr:"\u2192",rarrap:"\u2975",rarrb:"\u21E5",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291E",rarrhk:"\u21AA",rarrlp:"\u21AC",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21A3",rarrw:"\u219D",rAtail:"\u291C",ratail:"\u291A",ratio:"\u2236",rationals:"\u211A",RBarr:"\u2910",rBarr:"\u290F",rbarr:"\u290D",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201D",rdquor:"\u201D",rdsh:"\u21B3",Re:"\u211C",real:"\u211C",realine:"\u211B",realpart:"\u211C",reals:"\u211D",rect:"\u25AD",REG:"\xAE",reg:"\xAE",ReverseElement:"\u220B",ReverseEquilibrium:"\u21CB",ReverseUpEquilibrium:"\u296F",rfisht:"\u297D",rfloor:"\u230B",Rfr:"\u211C",rfr:"\u{1D52F}",rHar:"\u2964",rhard:"\u21C1",rharu:"\u21C0",rharul:"\u296C",Rho:"\u03A1",rho:"\u03C1",rhov:"\u03F1",RightAngleBracket:"\u27E9",RightArrow:"\u2192",Rightarrow:"\u21D2",rightarrow:"\u2192",RightArrowBar:"\u21E5",RightArrowLeftArrow:"\u21C4",rightarrowtail:"\u21A3",RightCeiling:"\u2309",RightDoubleBracket:"\u27E7",RightDownTeeVector:"\u295D",RightDownVector:"\u21C2",RightDownVectorBar:"\u2955",RightFloor:"\u230B",rightharpoondown:"\u21C1",rightharpoonup:"\u21C0",rightleftarrows:"\u21C4",rightleftharpoons:"\u21CC",rightrightarrows:"\u21C9",rightsquigarrow:"\u219D",RightTee:"\u22A2",RightTeeArrow:"\u21A6",RightTeeVector:"\u295B",rightthreetimes:"\u22CC",RightTriangle:"\u22B3",RightTriangleBar:"\u29D0",RightTriangleEqual:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVector:"\u21BE",RightUpVectorBar:"\u2954",RightVector:"\u21C0",RightVectorBar:"\u2953",ring:"\u02DA",risingdotseq:"\u2253",rlarr:"\u21C4",rlhar:"\u21CC",rlm:"\u200F",rmoust:"\u23B1",rmoustache:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",robrk:"\u27E7",ropar:"\u2986",Ropf:"\u211D",ropf:"\u{1D563}",roplus:"\u2A2E",rotimes:"\u2A35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rrarr:"\u21C9",Rrightarrow:"\u21DB",rsaquo:"\u203A",Rscr:"\u211B",rscr:"\u{1D4C7}",Rsh:"\u21B1",rsh:"\u21B1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22CC",rtimes:"\u22CA",rtri:"\u25B9",rtrie:"\u22B5",rtrif:"\u25B8",rtriltri:"\u29CE",RuleDelayed:"\u29F4",ruluhar:"\u2968",rx:"\u211E",Sacute:"\u015A",sacute:"\u015B",sbquo:"\u201A",Sc:"\u2ABC",sc:"\u227B",scap:"\u2AB8",Scaron:"\u0160",scaron:"\u0161",sccue:"\u227D",scE:"\u2AB4",sce:"\u2AB0",Scedil:"\u015E",scedil:"\u015F",Scirc:"\u015C",scirc:"\u015D",scnap:"\u2ABA",scnE:"\u2AB6",scnsim:"\u22E9",scpolint:"\u2A13",scsim:"\u227F",Scy:"\u0421",scy:"\u0441",sdot:"\u22C5",sdotb:"\u22A1",sdote:"\u2A66",searhk:"\u2925",seArr:"\u21D8",searr:"\u2198",searrow:"\u2198",sect:"\xA7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\u{1D516}",sfr:"\u{1D530}",sfrown:"\u2322",sharp:"\u266F",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xAD",Sigma:"\u03A3",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",sim:"\u223C",simdot:"\u2A6A",sime:"\u2243",simeq:"\u2243",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2A33",smeparsl:"\u29E4",smid:"\u2223",smile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",SOFTcy:"\u042C",softcy:"\u044C",sol:"/",solb:"\u29C4",solbar:"\u233F",Sopf:"\u{1D54A}",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\uFE00",sqcup:"\u2294",sqcups:"\u2294\uFE00",Sqrt:"\u221A",sqsub:"\u228F",sqsube:"\u2291",sqsubset:"\u228F",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",squ:"\u25A1",Square:"\u25A1",square:"\u25A1",SquareIntersection:"\u2293",SquareSubset:"\u228F",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25AA",squf:"\u25AA",srarr:"\u2192",Sscr:"\u{1D4AE}",sscr:"\u{1D4C8}",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22C6",Star:"\u22C6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03F5",straightphi:"\u03D5",strns:"\xAF",Sub:"\u22D0",sub:"\u2282",subdot:"\u2ABD",subE:"\u2AC5",sube:"\u2286",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subne:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",Subset:"\u22D0",subset:"\u2282",subseteq:"\u2286",subseteqq:"\u2AC5",SubsetEqual:"\u2286",subsetneq:"\u228A",subsetneqq:"\u2ACB",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",succ:"\u227B",succapprox:"\u2AB8",succcurlyeq:"\u227D",Succeeds:"\u227B",SucceedsEqual:"\u2AB0",SucceedsSlantEqual:"\u227D",SucceedsTilde:"\u227F",succeq:"\u2AB0",succnapprox:"\u2ABA",succneqq:"\u2AB6",succnsim:"\u22E9",succsim:"\u227F",SuchThat:"\u220B",Sum:"\u2211",sum:"\u2211",sung:"\u266A",Sup:"\u22D1",sup:"\u2283",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",supdot:"\u2ABE",supdsub:"\u2AD8",supE:"\u2AC6",supe:"\u2287",supedot:"\u2AC4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supne:"\u228B",supplus:"\u2AC0",Supset:"\u22D1",supset:"\u2283",supseteq:"\u2287",supseteqq:"\u2AC6",supsetneq:"\u228B",supsetneqq:"\u2ACC",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swarhk:"\u2926",swArr:"\u21D9",swarr:"\u2199",swarrow:"\u2199",swnwar:"\u292A",szlig:"\xDF",Tab:"	",target:"\u2316",Tau:"\u03A4",tau:"\u03C4",tbrk:"\u23B4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20DB",telrec:"\u2315",Tfr:"\u{1D517}",tfr:"\u{1D531}",there4:"\u2234",Therefore:"\u2234",therefore:"\u2234",Theta:"\u0398",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",thickapprox:"\u2248",thicksim:"\u223C",ThickSpace:"\u205F\u200A",thinsp:"\u2009",ThinSpace:"\u2009",thkap:"\u2248",thksim:"\u223C",THORN:"\xDE",thorn:"\xFE",Tilde:"\u223C",tilde:"\u02DC",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",times:"\xD7",timesb:"\u22A0",timesbar:"\u2A31",timesd:"\u2A30",tint:"\u222D",toea:"\u2928",top:"\u22A4",topbot:"\u2336",topcir:"\u2AF1",Topf:"\u{1D54B}",topf:"\u{1D565}",topfork:"\u2ADA",tosa:"\u2929",tprime:"\u2034",TRADE:"\u2122",trade:"\u2122",triangle:"\u25B5",triangledown:"\u25BF",triangleleft:"\u25C3",trianglelefteq:"\u22B4",triangleq:"\u225C",triangleright:"\u25B9",trianglerighteq:"\u22B5",tridot:"\u25EC",trie:"\u225C",triminus:"\u2A3A",TripleDot:"\u20DB",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",Tscr:"\u{1D4AF}",tscr:"\u{1D4C9}",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040B",tshcy:"\u045B",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226C",twoheadleftarrow:"\u219E",twoheadrightarrow:"\u21A0",Uacute:"\xDA",uacute:"\xFA",Uarr:"\u219F",uArr:"\u21D1",uarr:"\u2191",Uarrocir:"\u2949",Ubrcy:"\u040E",ubrcy:"\u045E",Ubreve:"\u016C",ubreve:"\u016D",Ucirc:"\xDB",ucirc:"\xFB",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21C5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296E",ufisht:"\u297E",Ufr:"\u{1D518}",ufr:"\u{1D532}",Ugrave:"\xD9",ugrave:"\xF9",uHar:"\u2963",uharl:"\u21BF",uharr:"\u21BE",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",Umacr:"\u016A",umacr:"\u016B",uml:"\xA8",UnderBar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",UnionPlus:"\u228E",Uogon:"\u0172",uogon:"\u0173",Uopf:"\u{1D54C}",uopf:"\u{1D566}",UpArrow:"\u2191",Uparrow:"\u21D1",uparrow:"\u2191",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21C5",UpDownArrow:"\u2195",Updownarrow:"\u21D5",updownarrow:"\u2195",UpEquilibrium:"\u296E",upharpoonleft:"\u21BF",upharpoonright:"\u21BE",uplus:"\u228E",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",Upsi:"\u03D2",upsi:"\u03C5",upsih:"\u03D2",Upsilon:"\u03A5",upsilon:"\u03C5",UpTee:"\u22A5",UpTeeArrow:"\u21A5",upuparrows:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",Uring:"\u016E",uring:"\u016F",urtri:"\u25F9",Uscr:"\u{1D4B0}",uscr:"\u{1D4CA}",utdot:"\u22F0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25B5",utrif:"\u25B4",uuarr:"\u21C8",Uuml:"\xDC",uuml:"\xFC",uwangle:"\u29A7",vangrt:"\u299C",varepsilon:"\u03F5",varkappa:"\u03F0",varnothing:"\u2205",varphi:"\u03D5",varpi:"\u03D6",varpropto:"\u221D",vArr:"\u21D5",varr:"\u2195",varrho:"\u03F1",varsigma:"\u03C2",varsubsetneq:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vartheta:"\u03D1",vartriangleleft:"\u22B2",vartriangleright:"\u22B3",Vbar:"\u2AEB",vBar:"\u2AE8",vBarv:"\u2AE9",Vcy:"\u0412",vcy:"\u0432",VDash:"\u22AB",Vdash:"\u22A9",vDash:"\u22A8",vdash:"\u22A2",Vdashl:"\u2AE6",Vee:"\u22C1",vee:"\u2228",veebar:"\u22BB",veeeq:"\u225A",vellip:"\u22EE",Verbar:"\u2016",verbar:"|",Vert:"\u2016",vert:"|",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200A",Vfr:"\u{1D519}",vfr:"\u{1D533}",vltri:"\u22B2",vnsub:"\u2282\u20D2",vnsup:"\u2283\u20D2",Vopf:"\u{1D54D}",vopf:"\u{1D567}",vprop:"\u221D",vrtri:"\u22B3",Vscr:"\u{1D4B1}",vscr:"\u{1D4CB}",vsubnE:"\u2ACB\uFE00",vsubne:"\u228A\uFE00",vsupnE:"\u2ACC\uFE00",vsupne:"\u228B\uFE00",Vvdash:"\u22AA",vzigzag:"\u299A",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2A5F",Wedge:"\u22C0",wedge:"\u2227",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\u{1D51A}",wfr:"\u{1D534}",Wopf:"\u{1D54E}",wopf:"\u{1D568}",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\u{1D4B2}",wscr:"\u{1D4CC}",xcap:"\u22C2",xcirc:"\u25EF",xcup:"\u22C3",xdtri:"\u25BD",Xfr:"\u{1D51B}",xfr:"\u{1D535}",xhArr:"\u27FA",xharr:"\u27F7",Xi:"\u039E",xi:"\u03BE",xlArr:"\u27F8",xlarr:"\u27F5",xmap:"\u27FC",xnis:"\u22FB",xodot:"\u2A00",Xopf:"\u{1D54F}",xopf:"\u{1D569}",xoplus:"\u2A01",xotime:"\u2A02",xrArr:"\u27F9",xrarr:"\u27F6",Xscr:"\u{1D4B3}",xscr:"\u{1D4CD}",xsqcup:"\u2A06",xuplus:"\u2A04",xutri:"\u25B3",xvee:"\u22C1",xwedge:"\u22C0",Yacute:"\xDD",yacute:"\xFD",YAcy:"\u042F",yacy:"\u044F",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042B",ycy:"\u044B",yen:"\xA5",Yfr:"\u{1D51C}",yfr:"\u{1D536}",YIcy:"\u0407",yicy:"\u0457",Yopf:"\u{1D550}",yopf:"\u{1D56A}",Yscr:"\u{1D4B4}",yscr:"\u{1D4CE}",YUcy:"\u042E",yucy:"\u044E",Yuml:"\u0178",yuml:"\xFF",Zacute:"\u0179",zacute:"\u017A",Zcaron:"\u017D",zcaron:"\u017E",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017B",zdot:"\u017C",zeetrf:"\u2128",ZeroWidthSpace:"\u200B",Zeta:"\u0396",zeta:"\u03B6",Zfr:"\u2128",zfr:"\u{1D537}",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21DD",Zopf:"\u2124",zopf:"\u{1D56B}",Zscr:"\u{1D4B5}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"});Jy.entityMap=Jy.HTML_ENTITIES});var hS=fr(sw=>{var e_=zy().NAMESPACE,ow=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,sS=new RegExp("[\\-\\.0-9"+ow.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),uS=new RegExp("^"+ow.source+sS.source+"*(?::"+ow.source+sS.source+"*)?$"),Zy=0,jm=1,sy=2,Xy=3,uy=4,cy=5,Qy=6,v0=7;function fy(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,fy)}fy.prototype=new Error;fy.prototype.name=fy.name;function lS(){}lS.prototype={parse:function(e,t,r){var n=this.domBuilder;n.startDocument(),dS(t,t={}),D1(e,t,r,n,this.errorHandler),n.endDocument()}};function D1(e,t,r,n,i){function a(Ue){if(Ue>65535){Ue-=65536;var Vr=55296+(Ue>>10),We=56320+(Ue&1023);return String.fromCharCode(Vr,We)}else return String.fromCharCode(Ue)}function s(Ue){var Vr=Ue.slice(1,-1);return Object.hasOwnProperty.call(r,Vr)?r[Vr]:Vr.charAt(0)==="#"?a(parseInt(Vr.substr(1).replace("x","0x"))):(i.error("entity not found:"+Ue),Ue)}function f(Ue){if(Ue>H){var Vr=e.substring(H,Ue).replace(/&#?\w+;/g,s);U&&m(H),n.characters(Vr,0,Ue-H),H=Ue}}function m(Ue,Vr){for(;Ue>=D&&(Vr=k.exec(e));)_=Vr.index,D=_+Vr[0].length,U.lineNumber++;U.columnNumber=Ue-_+1}for(var _=0,D=0,k=/.*(?:\r\n?|\n)|.*$/g,U=n.locator,z=[{currentNSMap:t}],ee={},H=0;;){try{var K=e.indexOf("<",H);if(K<0){if(!e.substr(H).match(/^\s*$/)){var X=n.doc,ue=X.createTextNode(e.substr(H));X.appendChild(ue),n.currentElement=ue}return}switch(K>H&&f(K),e.charAt(K+1)){case"/":var ct=e.indexOf(">",K+3),ce=e.substring(K+2,ct).replace(/[ \t\n\r]+$/g,""),ge=z.pop();ct<0?(ce=e.substring(K+2).replace(/[\s<].*/,""),i.error("end tag name: "+ce+" is not complete:"+ge.tagName),ct=K+1+ce.length):ce.match(/\s</)&&(ce=ce.replace(/[\s<].*/,""),i.error("end tag name: "+ce+" maybe not complete"),ct=K+1+ce.length);var Fe=ge.localNSMap,Ne=ge.tagName==ce,he=Ne||ge.tagName&&ge.tagName.toLowerCase()==ce.toLowerCase();if(he){if(n.endElement(ge.uri,ge.localName,ce),Fe)for(var Ie in Fe)Object.prototype.hasOwnProperty.call(Fe,Ie)&&n.endPrefixMapping(Ie);Ne||i.fatalError("end tag name: "+ce+" is not match the current start tagName:"+ge.tagName)}else z.push(ge);ct++;break;case"?":U&&m(K),ct=I1(e,K,n);break;case"!":U&&m(K),ct=C1(e,K,n,i);break;default:U&&m(K);var _e=new pS,ze=z[z.length-1].currentNSMap,ct=T1(e,K,_e,ze,s,i),gr=_e.length;if(!_e.closed&&N1(e,ct,_e.tagName,ee)&&(_e.closed=!0,r.nbsp||i.warning("unclosed xml attribute")),U&&gr){for(var Tr=cS(U,{}),kt=0;kt<gr;kt++){var Xr=_e[kt];m(Xr.offset),Xr.locator=cS(U,{})}n.locator=Tr,fS(_e,n,ze)&&z.push(_e),n.locator=U}else fS(_e,n,ze)&&z.push(_e);e_.isHTML(_e.uri)&&!_e.closed?ct=A1(e,ct,_e.tagName,s,n):ct++}}catch(Ue){if(Ue instanceof fy)throw Ue;i.error("element parse error: "+Ue),ct=-1}ct>H?H=ct:f(Math.max(K,H)+1)}}function cS(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function T1(e,t,r,n,i,a){function s(z,ee,H){r.attributeNames.hasOwnProperty(z)&&a.fatalError("Attribute "+z+" redefined"),r.addValue(z,ee.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,i),H)}for(var f,m,_=++t,D=Zy;;){var k=e.charAt(_);switch(k){case"=":if(D===jm)f=e.slice(t,_),D=Xy;else if(D===sy)D=Xy;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(D===Xy||D===jm)if(D===jm&&(a.warning('attribute value must after "="'),f=e.slice(t,_)),t=_+1,_=e.indexOf(k,t),_>0)m=e.slice(t,_),s(f,m,t-1),D=cy;else throw new Error("attribute value no end '"+k+"' match");else if(D==uy)m=e.slice(t,_),s(f,m,t),a.warning('attribute "'+f+'" missed start quot('+k+")!!"),t=_+1,D=cy;else throw new Error('attribute value must after "="');break;case"/":switch(D){case Zy:r.setTagName(e.slice(t,_));case cy:case Qy:case v0:D=v0,r.closed=!0;case uy:case jm:break;case sy:r.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),D==Zy&&r.setTagName(e.slice(t,_)),_;case">":switch(D){case Zy:r.setTagName(e.slice(t,_));case cy:case Qy:case v0:break;case uy:case jm:m=e.slice(t,_),m.slice(-1)==="/"&&(r.closed=!0,m=m.slice(0,-1));case sy:D===sy&&(m=f),D==uy?(a.warning('attribute "'+m+'" missed quot(")!'),s(f,m,t)):((!e_.isHTML(n[""])||!m.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+m+'" missed value!! "'+m+'" instead!!'),s(m,m,t));break;case Xy:throw new Error("attribute value missed!!")}return _;case"\x80":k=" ";default:if(k<=" ")switch(D){case Zy:r.setTagName(e.slice(t,_)),D=Qy;break;case jm:f=e.slice(t,_),D=sy;break;case uy:var m=e.slice(t,_);a.warning('attribute "'+m+'" missed quot(")!!'),s(f,m,t);case cy:D=Qy;break}else switch(D){case sy:var U=r.tagName;(!e_.isHTML(n[""])||!f.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+f+'" missed value!! "'+f+'" instead2!!'),s(f,f,t),t=_,D=jm;break;case cy:a.warning('attribute space is required"'+f+'"!!');case Qy:D=jm,t=_;break;case Xy:D=uy,t=_;break;case v0:throw new Error("elements closed character '/' and '>' must be connected to")}}_++}}function fS(e,t,r){for(var n=e.tagName,i=null,k=e.length;k--;){var a=e[k],s=a.qName,f=a.value,U=s.indexOf(":");if(U>0)var m=a.prefix=s.slice(0,U),_=s.slice(U+1),D=m==="xmlns"&&_;else _=s,m=null,D=s==="xmlns"&&"";a.localName=_,D!==!1&&(i==null&&(i={},dS(r,r={})),r[D]=i[D]=f,a.uri=e_.XMLNS,t.startPrefixMapping(D,f))}for(var k=e.length;k--;){a=e[k];var m=a.prefix;m&&(m==="xml"&&(a.uri=e_.XML),m!=="xmlns"&&(a.uri=r[m||""]))}var U=n.indexOf(":");U>0?(m=e.prefix=n.slice(0,U),_=e.localName=n.slice(U+1)):(m=null,_=e.localName=n);var z=e.uri=r[m||""];if(t.startElement(z,_,n,e),e.closed){if(t.endElement(z,_,n),i)for(m in i)Object.prototype.hasOwnProperty.call(i,m)&&t.endPrefixMapping(m)}else return e.currentNSMap=r,e.localNSMap=i,!0}function A1(e,t,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var a=e.indexOf("</"+r+">",t),s=e.substring(t+1,a);if(/[&<]/.test(s))return/^script$/i.test(r)?(i.characters(s,0,s.length),a):(s=s.replace(/&#?\w+;/g,n),i.characters(s,0,s.length),a)}return t+1}function N1(e,t,r,n){var i=n[r];return i==null&&(i=e.lastIndexOf("</"+r+">"),i<t&&(i=e.lastIndexOf("</"+r)),n[r]=i),i<t}function dS(e,t){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}function C1(e,t,r,n){var i=e.charAt(t+2);switch(i){case"-":if(e.charAt(t+3)==="-"){var a=e.indexOf("-->",t+4);return a>t?(r.comment(e,t+4,a-t-4),a+3):(n.error("Unclosed comment"),-1)}else return-1;default:if(e.substr(t+3,6)=="CDATA["){var a=e.indexOf("]]>",t+9);return r.startCDATA(),r.characters(e,t+9,a-t-9),r.endCDATA(),a+3}var s=x1(e,t),f=s.length;if(f>1&&/!doctype/i.test(s[0][0])){var m=s[1][0],_=!1,D=!1;f>3&&(/^public$/i.test(s[2][0])?(_=s[3][0],D=f>4&&s[4][0]):/^system$/i.test(s[2][0])&&(D=s[3][0]));var k=s[f-1];return r.startDTD(m,_,D),r.endDTD(),k.index+k[0].length}}return-1}function I1(e,t,r){var n=e.indexOf("?>",t);if(n){var i=e.substring(t,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){var a=i[0].length;return r.processingInstruction(i[1],i[2]),n+2}else return-1}return-1}function pS(){this.attributeNames={}}pS.prototype={setTagName:function(e){if(!uS.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,r){if(!uS.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}};function x1(e,t){var r,n=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=t,i.exec(e);r=i.exec(e);)if(n.push(r),r[1])return n}sw.XMLReader=lS;sw.ParseError=fy});var wS=fr(g0=>{var P1=zy(),R1=aw(),vS=oS(),yS=hS(),k1=R1.DOMImplementation,mS=P1.NAMESPACE,O1=yS.ParseError,M1=yS.XMLReader;function _S(e){return e.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function ES(e){this.options=e||{locator:{}}}ES.prototype.parseFromString=function(e,t){var r=this.options,n=new M1,i=r.domBuilder||new t_,a=r.errorHandler,s=r.locator,f=r.xmlns||{},m=/\/x?html?$/.test(t),_=m?vS.HTML_ENTITIES:vS.XML_ENTITIES;s&&i.setDocumentLocator(s),n.errorHandler=L1(a,i,s),n.domBuilder=r.domBuilder||i,m&&(f[""]=mS.HTML),f.xml=f.xml||mS.XML;var D=r.normalizeLineEndings||_S;return e&&typeof e=="string"?n.parse(D(e),f,_):n.errorHandler.error("invalid doc source"),i.doc};function L1(e,t,r){if(!e){if(t instanceof t_)return t;e=t}var n={},i=e instanceof Function;r=r||{};function a(s){var f=e[s];!f&&i&&(f=e.length==2?function(m){e(s,m)}:e),n[s]=f&&function(m){f("[xmldom "+s+"]	"+m+uw(r))}||function(){}}return a("warning"),a("error"),a("fatalError"),n}function t_(){this.cdata=!1}function ly(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}t_.prototype={startDocument:function(){this.doc=new k1().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,r,n){var i=this.doc,a=i.createElementNS(e,r||t),s=n.length;m0(this,a),this.currentElement=a,this.locator&&ly(this.locator,a);for(var f=0;f<s;f++){var e=n.getURI(f),m=n.getValue(f),r=n.getQName(f),_=i.createAttributeNS(e,r);this.locator&&ly(n.getLocator(f),_),_.value=_.nodeValue=m,a.setAttributeNode(_)}},endElement:function(e,t,r){var n=this.currentElement,i=n.tagName;this.currentElement=n.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var r=this.doc.createProcessingInstruction(e,t);this.locator&&ly(this.locator,r),m0(this,r)},ignorableWhitespace:function(e,t,r){},characters:function(e,t,r){if(e=gS.apply(this,arguments),e){if(this.cdata)var n=this.doc.createCDATASection(e);else var n=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(e)&&this.doc.appendChild(n),this.locator&&ly(this.locator,n)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,r){e=gS.apply(this,arguments);var n=this.doc.createComment(e);this.locator&&ly(this.locator,n),m0(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(e,t,r);this.locator&&ly(this.locator,i),m0(this,i),this.doc.doctype=i}},warning:function(e){console.warn("[xmldom warning]	"+e,uw(this.locator))},error:function(e){console.error("[xmldom error]	"+e,uw(this.locator))},fatalError:function(e){throw new O1(e,this.locator)}};function uw(e){if(e)return`
@`+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function gS(e,t,r){return typeof e=="string"?e.substr(t,r):e.length>=t+r||t?new java.lang.String(e,t,r)+"":e}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){t_.prototype[e]=function(){return null}});function m0(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}g0.__DOMHandler=t_;g0.normalizeLineEndings=_S;g0.DOMParser=ES});var SS=fr(y0=>{var bS=aw();y0.DOMImplementation=bS.DOMImplementation;y0.XMLSerializer=bS.XMLSerializer;y0.DOMParser=wS().DOMParser});var TS=fr((vB,DS)=>{DS.exports=function(t){return t!==null&&typeof t=="function"&&typeof t.prototype=="object"&&typeof t.prototype.addUndirectedEdgeWithKey=="function"&&typeof t.prototype.dropNode=="function"}});var AS=fr(r_=>{r_.addEdge=function(t,r,n,i,a,s){return r?n==null?t.addUndirectedEdge(i,a,s):t.addUndirectedEdgeWithKey(n,i,a,s):n==null?t.addDirectedEdge(i,a,s):t.addDirectedEdgeWithKey(n,i,a,s)};r_.copyEdge=function(t,r,n,i,a,s){return s=Object.assign({},s),r?n==null?t.addUndirectedEdge(i,a,s):t.addUndirectedEdgeWithKey(n,i,a,s):n==null?t.addDirectedEdge(i,a,s):t.addDirectedEdgeWithKey(n,i,a,s)};r_.mergeEdge=function(t,r,n,i,a,s){return r?n==null?t.mergeUndirectedEdge(i,a,s):t.mergeUndirectedEdgeWithKey(n,i,a,s):n==null?t.mergeDirectedEdge(i,a,s):t.mergeDirectedEdgeWithKey(n,i,a,s)};r_.updateEdge=function(t,r,n,i,a,s){return r?n==null?t.updateUndirectedEdge(i,a,s):t.updateUndirectedEdgeWithKey(n,i,a,s):n==null?t.updateDirectedEdge(i,a,s):t.updateDirectedEdgeWithKey(n,i,a,s)}});var fw=fr(n_=>{var F1=/^\s$/,U1=/\s*,\s*/,B1=/\s*\|\s*/;function j1(e){return F1.test(e)}function NS(e){var t,r,n,i,a=!1,s=!1,f=void 0,m=[],_="";for(n=0,i=e.length;n<i;n++)if(t=e[n],a){if(f===void 0&&(f=""),!_&&t===","){n--,a=!1;continue}if(!s&&t===_){a=!1;continue}if(t==="\\"){if(n+1<i&&(r=e[n+1],r==="r"||r==="t"||r==="n"||r==="\\")){r==="n"?f+=`
`:r==="t"?f+="	":r==="r"?f+="\r":f+="\\",s=!1,n++;continue}s=!0}else f+=t,s=!1}else{if(j1(t))continue;if(t===","){f!==void 0&&(m.push(f),f=void 0);continue}t==='"'||t==="'"?_=t:(n--,_=""),a=!0,s=!1}return f!==void 0&&m.push(f),m}function cw(e,t){return!e||e==="string"?t:e==="boolean"?t==="true":e==="byte"||e==="short"||e==="integer"||e==="long"||e==="float"||e==="double"?+t:t}function G1(e,t){if(e.startsWith("list")){var r=e.slice(4),n;return t.length>=2&&t[0]==="["&&t[t.length-1]==="]"?n=NS(t.slice(1,-1)):t.includes("|")?n=t.split(B1):t.includes(",")?n=t.split(U1):n=[t],n.map(function(i){return cw(r,i)})}else return cw(e,t)}n_.parseListPieces=NS;n_.parseScalarValue=cw;n_.parseValue=G1;var q1=/["'<>&\s]/g;n_.sanitizeTagName=function(t){return t.replace(q1,"").trim()}});var RS=fr((yB,PS)=>{var Y1=TS(),z1=AS().mergeEdge,$1=fw(),xS=$1.parseValue;function V1(e){return e!==e}function W1(e){var t=e.getAttribute("hex");if(t)return t;var r=e.getAttribute("a"),n=e.getAttribute("r"),i=e.getAttribute("g"),a=e.getAttribute("b");return r?"rgba("+n+","+i+","+a+","+r+")":"rgb("+n+","+i+","+a+")"}function i_(e,t){var r=e.getElementsByTagName("viz:"+t)[0];return r||(r=e.getElementsByTagNameNS("viz",t)[0]),r||(r=e.getElementsByTagName(t)[0]),r}function H1(e){for(var t={},r,n,i=0,a=e.length;i<a;i++)r=e[i],r.nodeName!=="#text"&&(n=r.textContent.trim(),n&&(t[r.tagName.toLowerCase()]=r.textContent));return t}function CS(e){for(var t={},r={},n,i,a,s=0,f=e.length;s<f;s++)n=e[s],a=n.getAttribute("id")||n.getAttribute("for"),t[a]={id:a,type:n.getAttribute("type")||"string",title:V1(+a)?a:n.getAttribute("title")||a},i=n.getElementsByTagName("default")[0],i&&(r[t[a].title]=xS(t[a].type,i.textContent));return[t,r]}function IS(e,t,r,n){var i={},a=r.getAttribute("label"),s=r.getAttribute("weight"),f=r.getAttribute("kind");a&&(i.label=a),s&&(i.weight=+s),f&&(i.kind=f);for(var m=r.getElementsByTagName("attvalue"),_,D,k,U,z,ee,H=0,K=m.length;H<K;H++){if(_=m[H],ee=_.getAttribute("id")||_.getAttribute("for"),U=_.getAttribute("value"),D=e[ee],D)k=D.title,z=D.type;else if(n)k=ee,z="string";else throw new Error('graphology-gexf/parser: Found undeclared attribute "'+ee+'"');i[k]=xS(z,U)}var X;for(X in t)X in i||(i[X]=t[X]);var ue=i_(r,"color");ue&&(i.color=W1(ue)),ue=i_(r,"size"),ue&&(i.size=+ue.getAttribute("value"));var ce,ge,Fe;return ue=i_(r,"position"),ue&&(ce=ue.getAttribute("x"),ge=ue.getAttribute("y"),Fe=ue.getAttribute("z"),ce&&(i.x=+ce),ge&&(i.y=+ge),Fe&&(i.z=+Fe)),ue=i_(r,"shape"),ue&&(i.shape=ue.getAttribute("value")),ue=i_(r,"thickness"),ue&&(i.thickness=+ue.getAttribute("value")),i}PS.exports=function(t,r){return function(i,a,s){s=s||{};var f=s.addMissingNodes===!0,m=s.allowUndeclaredAttributes===!0,_=s.respectInputGraphType===!0,D,k=a,U,z,ee,H,K,X,ue,ce,ge;if(!Y1(i))throw new Error("graphology-gexf/parser: invalid Graph constructor.");if(typeof a=="string"&&(k=new t().parseFromString(a,"application/xml")),!(k instanceof r))throw new Error("graphology-gexf/parser: source should either be a XML document or a string.");var Fe=k.getElementsByTagName("graph")[0],Ne=k.getElementsByTagName("meta")[0],he=Ne&&Ne.childNodes||[],Ie=k.getElementsByTagName("node"),_e=k.getElementsByTagName("edge"),ze=k.getElementsByTagName("attributes"),ct=[],gr=[];for(ce=0,ge=ze.length;ce<ge;ce++)U=ze[ce],U.getAttribute("class")==="node"?ct=U.getElementsByTagName("attribute"):U.getAttribute("class")==="edge"&&(gr=U.getElementsByTagName("attribute"));var Tr=Fe.getAttribute("defaultedgetype")||"undirected";Tr==="mutual"&&(Tr="undirected"),z=CS(ct);var kt=z[0],Xr=z[1];z=CS(gr);var Ue=z[0],Vr=z[1],We=_e[0]?_e[0].getAttribute("type")||Tr:"mixed",Qr=_?{}:{type:We},Gt=new i(Qr),ar=H1(he),Pr=Ne&&Ne.getAttribute("lastmodifieddate");for(Gt.replaceAttributes(ar),Pr&&Gt.setAttribute("lastModifiedDate",Pr),ce=0,ge=Ie.length;ce<ge;ce++)U=Ie[ce],Gt.addNode(U.getAttribute("id"),IS(kt,Xr,U,m));for(ce=0,ge=_e.length;ce<ge;ce++){if(U=_e[ce],K=U.getAttribute("id"),ee=U.getAttribute("type")||Tr,X=U.getAttribute("source"),ue=U.getAttribute("target"),H=IS(Ue,Vr,U,m),ee!==Gt.type&&Gt.type!=="mixed"){if(_)throw new Error("graphology-gexf/parser: one of the file's edges does not respect the input graph type: "+Gt.type+".");Gt=Gt.copy({type:"mixed"})}if(!Gt.multi&&(ee==="directed"&&Gt.hasDirectedEdge(X,ue)||Gt.hasUndirectedEdge(X,ue))){if(_)throw new Error("graphology-gexf/parser: the file contains parallel edges that the input graph type does not allow.");Gt=Gt.copy({multi:!0})}if(D=z1(Gt,ee!=="directed",K||null,X,ue,H),!f&&(D[2]||D[3]))throw new Error("graphology-gexf/parser: one of your gexf file edges points to an inexisting node. Set the parser `addMissingNodes` option to `true` if you do not care.")}return Gt}}});var dy=fr((_B,kS)=>{kS.exports=function(t){return t!==null&&typeof t=="object"&&typeof t.addUndirectedEdgeWithKey=="function"&&typeof t.dropNode=="function"&&typeof t.multi=="boolean"}});var lw=fr((EB,OS)=>{var K1=dy();OS.exports=function(t){if(!K1(t))throw new Error("graphology-utils/infer-type: expecting a valid graphology instance.");var r=t.type;return r!=="mixed"?r:t.directedSize===0&&t.undirectedSize===0||t.directedSize>0&&t.undirectedSize>0?"mixed":t.directedSize>0?"directed":"undirected"}});var FS=fr((wB,LS)=>{function MS(e){return typeof e!="number"&&!e}function Kl(e){if(typeof e=="string")return e;if(typeof e=="number")return e+"";if(typeof e=="function")return e();if(e instanceof a_)return e.toString();throw Error("Bad Parameter")}function a_(e,t){if(!(this instanceof a_))return new a_;this.name_regex=/[_:A-Za-z][-._:A-Za-z0-9]*/,this.indent=!!e,this.indentString=this.indent&&typeof e=="string"?e:"    ",this.output="",this.stack=[],this.tags=0,this.attributes=0,this.attribute=0,this.texts=0,this.comment=0,this.dtd=0,this.root="",this.pi=0,this.cdata=0,this.started_write=!1,this.writer,this.writer_encoding="UTF-8",typeof t=="function"?this.writer=t:this.writer=function(r,n){this.output+=r}}a_.prototype={toString:function(){return this.flush(),this.output},indenter:function(){if(this.indent){this.write(`
`);for(var e=1;e<this.tags;e++)this.write(this.indentString)}},write:function(){for(var e=0;e<arguments.length;e++)this.writer(arguments[e],this.writer_encoding)},flush:function(){for(var e=this.tags;e>0;e--)this.endElement();this.tags=0},startDocument:function(e,t,r){return this.tags||this.attributes?this:(this.startPI("xml"),this.startAttribute("version"),this.text(typeof e=="string"?e:"1.0"),this.endAttribute(),typeof t=="string"&&(this.startAttribute("encoding"),this.text(t),this.endAttribute(),this.writer_encoding=t),r&&(this.startAttribute("standalone"),this.text("yes"),this.endAttribute()),this.endPI(),this.indent||this.write(`
`),this)},endDocument:function(){return this.attributes&&this.endAttributes(),this},writeElement:function(e,t){return this.startElement(e).text(t).endElement()},writeElementNS:function(e,t,r,n){return n||(n=r),this.startElementNS(e,t,r).text(n).endElement()},startElement:function(e){if(e=Kl(e),!e.match(this.name_regex)||this.tags===0&&this.root&&this.root!==e)throw Error("Invalid Parameter");return this.attributes&&this.endAttributes(),++this.tags,this.texts=0,this.stack.length>0&&(this.stack[this.stack.length-1].containsTag=!0),this.stack.push({name:e,tags:this.tags}),this.started_write&&this.indenter(),this.write("<",e),this.startAttributes(),this.started_write=!0,this},startElementNS:function(e,t,r){if(e=Kl(e),t=Kl(t),!e.match(this.name_regex)||!t.match(this.name_regex))throw Error("Invalid Parameter");return this.attributes&&this.endAttributes(),++this.tags,this.texts=0,this.stack.length>0&&(this.stack[this.stack.length-1].containsTag=!0),this.stack.push({name:e+":"+t,tags:this.tags}),this.started_write&&this.indenter(),this.write("<",e+":"+t),this.startAttributes(),this.started_write=!0,this},endElement:function(){if(!this.tags)return this;var e=this.stack.pop();return this.attributes>0?(this.attribute&&(this.texts&&this.endAttribute(),this.endAttribute()),this.write("/"),this.endAttributes()):(e.containsTag&&this.indenter(),this.write("</",e.name,">")),--this.tags,this.texts=0,this},writeAttribute:function(e,t){return typeof t=="function"&&(t=t()),MS(t)?this:this.startAttribute(e).text(t).endAttribute()},writeAttributeNS:function(e,t,r,n){return n||(n=r),typeof n=="function"&&(n=n()),MS(n)?this:this.startAttributeNS(e,t,r).text(n).endAttribute()},startAttributes:function(){return this.attributes=1,this},endAttributes:function(){return this.attributes?(this.attribute&&this.endAttribute(),this.attributes=0,this.attribute=0,this.texts=0,this.write(">"),this):this},startAttribute:function(e){if(e=Kl(e),!e.match(this.name_regex))throw Error("Invalid Parameter");return!this.attributes&&!this.pi?this:this.attribute?this:(this.attribute=1,this.write(" ",e,'="'),this)},startAttributeNS:function(e,t,r){if(e=Kl(e),t=Kl(t),!e.match(this.name_regex)||!t.match(this.name_regex))throw Error("Invalid Parameter");return!this.attributes&&!this.pi?this:this.attribute?this:(this.attribute=1,this.write(" ",e+":"+t,'="'),this)},endAttribute:function(){return this.attribute?(this.attribute=0,this.texts=0,this.write('"'),this):this},text:function(e){return e=Kl(e),!this.tags&&!this.comment&&!this.pi&&!this.cdata?this:this.attributes&&this.attribute?(++this.texts,this.write(e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")),this):(this.attributes&&!this.attribute&&this.endAttributes(),this.comment||this.cdata?this.write(e):this.write(e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),++this.texts,this.started_write=!0,this)},writeComment:function(e){return this.startComment().text(e).endComment()},startComment:function(){return this.comment?this:(this.attributes&&this.endAttributes(),this.indenter(),this.write("<!--"),this.comment=1,this.started_write=!0,this)},endComment:function(){return this.comment?(this.write("-->"),this.comment=0,this):this},writeDocType:function(e,t,r,n){return this.startDocType(e,t,r,n).endDocType()},startDocType:function(e,t,r,n){if(this.dtd||this.tags)return this;if(e=Kl(e),t=t&&Kl(t),r=r&&Kl(r),n=n&&Kl(n),!e.match(this.name_regex)||t&&!t.match(/^[\w\-][\w\s\-\/\+\:\.]*/)||r&&!r.match(/^[\w\.][\w\-\/\\\:\.]*/)||n&&!n.match(/[\w\s\<\>\+\.\!\#\-\?\*\,\(\)\|]*/))throw Error("Invalid Parameter");return t=t?' PUBLIC "'+t+'"':r?" SYSTEM":"",r=r?' "'+r+'"':"",n=n?" ["+n+"]":"",this.started_write&&this.indenter(),this.write("<!DOCTYPE ",e,t,r,n),this.root=e,this.dtd=1,this.started_write=!0,this},endDocType:function(){return this.dtd?(this.write(">"),this):this},writePI:function(e,t){return this.startPI(e).text(t).endPI()},startPI:function(e){if(e=Kl(e),!e.match(this.name_regex))throw Error("Invalid Parameter");return this.pi?this:(this.attributes&&this.endAttributes(),this.started_write&&this.indenter(),this.write("<?",e),this.pi=1,this.started_write=!0,this)},endPI:function(){return this.pi?(this.write("?>"),this.pi=0,this):this},writeCData:function(e){return this.startCData().text(e).endCData()},startCData:function(){return this.cdata?this:(this.attributes&&this.endAttributes(),this.indenter(),this.write("<![CDATA["),this.cdata=1,this.started_write=!0,this)},endCData:function(){return this.cdata?(this.write("]]>"),this.cdata=0,this):this},writeRaw:function(e){return e=Kl(e),!this.tags&&!this.comment&&!this.pi&&!this.cdata?this:this.attributes&&this.attribute?(++this.texts,this.write(e.replace("&","&amp;").replace('"',"&quot;")),this):(this.attributes&&!this.attribute&&this.endAttributes(),++this.texts,this.write(e),this.started_write=!0,this)}};LS.exports=a_});var BS=fr((bB,US)=>{US.exports=FS()});var WS=fr((SB,VS)=>{var J1=dy(),Z1=lw(),X1=BS(),Q1=fw().sanitizeTagName,eP=new Set(["color","size","x","y","z","shape","thickness"]),tP=/^\s*rgba?\s*\(/i,rP=/^\s*rgba?\s*\(\s*([0-9]*)\s*,\s*([0-9]*)\s*,\s*([0-9]*)\s*(?:,\s*([.0-9]*))?\)\s*$/;function nP(e){if(!e||typeof e!="string")return{};if(e[0]==="#")return e=e.slice(1),e.length===3?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16)}:{r:parseInt(e[0]+e[1],16),g:parseInt(e[2]+e[3],16),b:parseInt(e[4]+e[5],16)};if(tP.test(e)){var t={};return e=e.match(rP),t.r=+e[1],t.g=+e[2],t.b=+e[3],e[4]&&(t.a=+e[4]),t}return{}}function YS(e,t,r){var n={},i;for(i in r)i==="label"?n.label=r.label:e==="edge"&&i==="weight"?n.weight=r.weight:e==="edge"&&i==="kind"?n.kind=r.kind:eP.has(i)?(n.viz=n.viz||{},n.viz[i]=r[i]):(n.attributes=n.attributes||{},n.attributes[i]=r[i]);return n}var iP=YS.bind(null,"node"),aP=YS.bind(null,"edge");function oP(e){return e<=2147483647&&e>=-2147483647}function zS(e){return typeof e>"u"||e===null||e===""||e!==e}var E0={liststring:0,listdouble:1,listlong:2,listinteger:3,listboolean:4,string:5,double:6,long:7,integer:8,boolean:9,empty:10};function $S(e){return zS(e)?"empty":typeof e=="boolean"?"boolean":typeof e=="object"?"string":typeof e=="number"?e===(e|0)?oP(e)?"integer":"long":"double":"string"}function sP(e){for(var t="empty",r=E0[t],n,i,a,s=0,f=e.length;s<f;s++)n=e[s],i=$S(n),a=E0[i],a<r&&(t=i,r=a);return t}function uP(e){if(e instanceof Set&&(e=Array.from(e)),Array.isArray(e)){var t=sP(e);return t==="empty"?"empty":"list"+t}return $S(e)}var cP=/[\r\t\n]/g,dw="'",fP='"';function lP(e,t){return e!=="string"||cP.test(t)||t.includes(dw)?JSON.stringify(t):t.includes(fP)?dw+t+dw:t}function dP(e,t,r){if(t.startsWith("list")){r instanceof Set&&(r=Array.from(r));var n=Array.isArray(r)?r:[r],i=t.slice(4);return e==="1.3"?"["+n.map(function(a){return lP(i,a)}).join(", ")+"]":n.join("|")}return""+r}function pP(e,t){var r=new Array(e.order),n=0;return e.forEachNode(function(i,a){var s=t(i,a);s.key=i,r[n++]=s}),r}function hP(e,t){var r=new Array(e.size),n=0;return e.forEachEdge(function(i,a,s,f,m,_,D){var k=t(i,a);k.key=i,k.source=s,k.target=f,k.undirected=D,r[n++]=k}),r}function jS(e){for(var t={},r,n,i,a,s=0,f=e.length;s<f;s++)if(r=e[s].attributes,!!r)for(a in r)n=uP(r[a]),n!=="empty"&&(i=t[a],i?n!==i&&E0[n]<E0[i]&&(t[a]=n):t[a]=n);return t}function GS(e,t,r){var n;if(Object.keys(t).length){e.startElement("attributes"),e.writeAttribute("class",r);for(n in t)e.startElement("attribute"),e.writeAttribute("id",n),e.writeAttribute("title",n),e.writeAttribute("type",t[n]),e.endElement();e.endElement()}}function qS(e,t,r,n,i){var a=!Object.keys(n).length,s,f,m,_,D,k,U,z,ee,H,K;for(t.startElement(r+"s"),H=0,K=i.length;H<K;H++){if(s=i[H],k=s.attributes,z=s.viz,t.startElement(r),t.writeAttribute("id",s.key),r==="edge"&&(D=s.undirected?"undirected":"directed",D!==t.defaultEdgeType&&t.writeAttribute("type",D),t.writeAttribute("source",s.source),t.writeAttribute("target",s.target),U=s.weight,(typeof U=="number"&&!isNaN(U)||typeof U=="string")&&t.writeAttribute("weight",s.weight),s.kind&&t.writeAttribute("kind",s.kind)),s.label&&t.writeAttribute("label",s.label),!a&&k){t.startElement("attvalues");for(f in n)if(f in k){if(_=k[f],zS(_))continue;t.startElement("attvalue"),t.writeAttribute("for",f),t.writeAttribute("value",dP(e,n[f],_)),t.endElement()}t.endElement()}if(z){if(z.color){if(t.startElementNS("viz","color"),e==="1.3"&&z.color.startsWith("#"))t.writeAttribute("hex",z.color);else{m=nP(z.color);for(ee in m)t.writeAttribute(ee,m[ee])}t.endElement()}z.size!==void 0&&(t.startElementNS("viz","size"),t.writeAttribute("value",z.size),t.endElement()),(z.x!==void 0||z.y!==void 0||z.z!==void 0)&&(t.startElementNS("viz","position"),z.x!==void 0&&t.writeAttribute("x",z.x),z.y!==void 0&&t.writeAttribute("y",z.y),z.z!==void 0&&t.writeAttribute("z",z.z),t.endElement()),z.shape&&(t.startElementNS("viz","shape"),t.writeAttribute("value",z.shape),t.endElement()),z.thickness!==void 0&&(t.startElementNS("viz","thickness"),t.writeAttribute("value",z.thickness),t.endElement())}t.endElement()}t.endElement()}var _0={encoding:"UTF-8",pretty:!0,version:"1.2",pedantic:!1,formatNode:iP,formatEdge:aP};VS.exports=function(t,r){if(!J1(t))throw new Error("graphology-gexf/writer: invalid graphology instance.");r=r||{};var n=r.pretty===!1?!1:"  ",i=r.pedantic===!0,a=r.formatNode||_0.formatNode,s=r.formatEdge||_0.formatEdge,f=new X1(n);f.startDocument("1.0",r.encoding||_0.encoding);var m=r.version||_0.version;if(m!=="1.2"&&m!=="1.3")throw new Error('graphology-gexf/writer: invalid gexf version "'+m+'". Expecting 1.2 or 1.3.');f.startElement("gexf"),f.writeAttribute("version",m),m==="1.2"?(f.writeAttribute("xmlns","http://www.gexf.net/1.2draft"),f.writeAttribute("xmlns:viz","http:///www.gexf.net/1.1draft/viz")):m==="1.3"&&(f.writeAttribute("xmlns","http://gexf.net/1.3"),f.writeAttribute("xmlns:viz","http://gexf.net/1.3/viz"),f.writeAttribute("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),f.writeAttribute("xsi:schemaLocation","http://gexf.net/1.3 http://gexf.net/1.3/gexf.xsd")),f.startElement("meta");var _=t.getAttributes();_.lastModifiedDate&&f.writeAttribute("lastmodifieddate",_.lastModifiedDate);var D,k;for(var U in _)U!=="lastModifiedDate"&&(i&&U!=="creator"&&U!=="description"&&U!=="keywords"||(D=Q1(U),D&&(k=_[U],(typeof k=="string"||typeof k=="number"||typeof k=="boolean")&&f.writeElement(D,""+k))));f.endElement(),f.startElement("graph");var z=Z1(t);f.defaultEdgeType=z==="mixed"?"directed":z,f.writeAttribute("defaultedgetype",f.defaultEdgeType);var ee=pP(t,a),H=hP(t,s),K=jS(ee);GS(f,K,"node");var X=jS(H);return GS(f,X,"edge"),qS(m,f,"node",K,ee),qS(m,f,"edge",X,H),f.toString()}});var KS=fr(pw=>{var HS=SS(),vP=RS(),mP=new HS.DOMParser().parseFromString("<t></t>","application/xml");pw.parse=vP(HS.DOMParser,mP.constructor);pw.write=WS()});var ZS=fr((TB,JS)=>{JS.exports=KS()});var Gm=fr((AB,XS)=>{function ev(e){if(typeof e!="function")throw new Error("obliterator/iterator: expecting a function!");this.next=e}typeof Symbol<"u"&&(ev.prototype[Symbol.iterator]=function(){return this});ev.of=function(){var e=arguments,t=e.length,r=0;return new ev(function(){return r>=t?{done:!0}:{done:!1,value:e[r++]}})};ev.empty=function(){var e=new ev(function(){return{done:!0}});return e};ev.fromSequence=function(e){var t=0,r=e.length;return new ev(function(){return t>=r?{done:!0}:{done:!1,value:e[t++]}})};ev.is=function(e){return e instanceof ev?!0:typeof e=="object"&&e!==null&&typeof e.next=="function"};XS.exports=ev});var vw=fr(hw=>{hw.ARRAY_BUFFER_SUPPORT=typeof ArrayBuffer<"u";hw.SYMBOL_SUPPORT=typeof Symbol<"u"});var mw=fr((CB,eD)=>{var gP=Gm(),QS=vw(),yP=QS.ARRAY_BUFFER_SUPPORT,_P=QS.SYMBOL_SUPPORT;function EP(e){return typeof e=="string"||Array.isArray(e)||yP&&ArrayBuffer.isView(e)?gP.fromSequence(e):typeof e!="object"||e===null?null:_P&&typeof e[Symbol.iterator]=="function"?e[Symbol.iterator]():typeof e.next=="function"?e:null}eD.exports=function(t){var r=EP(t);if(!r)throw new Error("obliterator: target is not iterable nor a valid iterator.");return r}});var rD=fr((IB,tD)=>{var wP=mw();tD.exports=function(t,r){for(var n=arguments.length>1?r:1/0,i=n!==1/0?new Array(n):[],a,s=0,f=wP(t);;){if(s===n)return i;if(a=f.next(),a.done)return s!==r&&(i.length=s),i;i[s++]=a.value}}});var iD=fr((xB,nD)=>{var bP=Gm(),SP=mw();nD.exports=function(){var t=arguments,r=null,n=-1;return new bP(function(){var a=null;do{if(r===null){if(n++,n>=t.length)return{done:!0};r=SP(t[n])}if(a=r.next(),a.done===!0){r=null;continue}break}while(!0);return a})}});var c_=fr((PB,SD)=>{"use strict";var DP=require("events"),TP=Gm(),AP=rD(),NP=iD();function ww(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var rp=ww(TP),uD=ww(AP),Kv=ww(NP);function S0(e){"@babel/helpers - typeof";return S0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S0(e)}function tv(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,u_(e,t)}function _w(e){return _w=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},_w(e)}function u_(e,t){return u_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},u_(e,t)}function CP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function b0(e,t,r){return CP()?b0=Reflect.construct.bind():b0=function(i,a,s){var f=[null];f.push.apply(f,a);var m=Function.bind.apply(i,f),_=new m;return s&&u_(_,s.prototype),_},b0.apply(null,arguments)}function IP(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function Ew(e){var t=typeof Map=="function"?new Map:void 0;return Ew=function(n){if(n===null||!IP(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(n))return t.get(n);t.set(n,i)}function i(){return b0(n,arguments,_w(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),u_(i,n)},Ew(e)}function Ui(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function xP(){for(var e=arguments[0],t=1,r=arguments.length;t<r;t++)if(arguments[t])for(var n in arguments[t])e[n]=arguments[t][n];return e}var Ko=xP;typeof Object.assign=="function"&&(Ko=Object.assign);function tp(e,t,r,n){var i=e._nodes.get(t),a=null;return i&&(n==="mixed"?a=i.out&&i.out[r]||i.undirected&&i.undirected[r]:n==="directed"?a=i.out&&i.out[r]:a=i.undirected&&i.undirected[r]),a}function hu(e){return S0(e)==="object"&&e!==null}function cD(e){var t;for(t in e)return!1;return!0}function ep(e,t,r){Object.defineProperty(e,t,{enumerable:!1,configurable:!1,writable:!0,value:r})}function rh(e,t,r){var n={enumerable:!0,configurable:!0};typeof r=="function"?n.get=r:(n.value=r,n.writable=!1),Object.defineProperty(e,t,n)}function aD(e){return!(!hu(e)||e.attributes&&!Array.isArray(e.attributes))}function PP(){var e=Math.floor(Math.random()*256)&255;return function(){return e++}}var bw=function(e){tv(t,e);function t(r){var n;return n=e.call(this)||this,n.name="GraphError",n.message=r,n}return t}(Ew(Error)),Dt=function(e){tv(t,e);function t(r){var n;return n=e.call(this,r)||this,n.name="InvalidArgumentsGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(Ui(n),t.prototype.constructor),n}return t}(bw),ut=function(e){tv(t,e);function t(r){var n;return n=e.call(this,r)||this,n.name="NotFoundGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(Ui(n),t.prototype.constructor),n}return t}(bw),br=function(e){tv(t,e);function t(r){var n;return n=e.call(this,r)||this,n.name="UsageGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(Ui(n),t.prototype.constructor),n}return t}(bw);function fD(e,t){this.key=e,this.attributes=t,this.clear()}fD.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.undirectedLoops=0,this.directedLoops=0,this.in={},this.out={},this.undirected={}};function lD(e,t){this.key=e,this.attributes=t,this.clear()}lD.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedLoops=0,this.in={},this.out={}};function dD(e,t){this.key=e,this.attributes=t,this.clear()}dD.prototype.clear=function(){this.undirectedDegree=0,this.undirectedLoops=0,this.undirected={}};function hy(e,t,r,n,i){this.key=t,this.attributes=i,this.undirected=e,this.source=r,this.target=n}hy.prototype.attach=function(){var e="out",t="in";this.undirected&&(e=t="undirected");var r=this.source.key,n=this.target.key;this.source[e][n]=this,!(this.undirected&&r===n)&&(this.target[t][r]=this)};hy.prototype.attachMulti=function(){var e="out",t="in",r=this.source.key,n=this.target.key;this.undirected&&(e=t="undirected");var i=this.source[e],a=i[n];if(typeof a>"u"){i[n]=this,this.undirected&&r===n||(this.target[t][r]=this);return}a.previous=this,this.next=a,i[n]=this,this.target[t][r]=this};hy.prototype.detach=function(){var e=this.source.key,t=this.target.key,r="out",n="in";this.undirected&&(r=n="undirected"),delete this.source[r][t],delete this.target[n][e]};hy.prototype.detachMulti=function(){var e=this.source.key,t=this.target.key,r="out",n="in";this.undirected&&(r=n="undirected"),this.previous===void 0?this.next===void 0?(delete this.source[r][t],delete this.target[n][e]):(this.next.previous=void 0,this.source[r][t]=this.next,this.target[n][e]=this.next):(this.previous.next=this.next,this.next!==void 0&&(this.next.previous=this.previous))};var pD=0,hD=1,RP=2,vD=3;function Jv(e,t,r,n,i,a,s){var f,m,_,D;if(n=""+n,r===pD){if(f=e._nodes.get(n),!f)throw new ut("Graph.".concat(t,': could not find the "').concat(n,'" node in the graph.'));_=i,D=a}else if(r===vD){if(i=""+i,m=e._edges.get(i),!m)throw new ut("Graph.".concat(t,': could not find the "').concat(i,'" edge in the graph.'));var k=m.source.key,U=m.target.key;if(n===k)f=m.target;else if(n===U)f=m.source;else throw new ut("Graph.".concat(t,': the "').concat(n,'" node is not attached to the "').concat(i,'" edge (').concat(k,", ").concat(U,")."));_=a,D=s}else{if(m=e._edges.get(n),!m)throw new ut("Graph.".concat(t,': could not find the "').concat(n,'" edge in the graph.'));r===hD?f=m.source:f=m.target,_=i,D=a}return[f,_,D]}function kP(e,t,r){e.prototype[t]=function(n,i,a){var s=Jv(this,t,r,n,i,a),f=s[0],m=s[1];return f.attributes[m]}}function OP(e,t,r){e.prototype[t]=function(n,i){var a=Jv(this,t,r,n,i),s=a[0];return s.attributes}}function MP(e,t,r){e.prototype[t]=function(n,i,a){var s=Jv(this,t,r,n,i,a),f=s[0],m=s[1];return f.attributes.hasOwnProperty(m)}}function LP(e,t,r){e.prototype[t]=function(n,i,a,s){var f=Jv(this,t,r,n,i,a,s),m=f[0],_=f[1],D=f[2];return m.attributes[_]=D,this.emit("nodeAttributesUpdated",{key:m.key,type:"set",attributes:m.attributes,name:_}),this}}function FP(e,t,r){e.prototype[t]=function(n,i,a,s){var f=Jv(this,t,r,n,i,a,s),m=f[0],_=f[1],D=f[2];if(typeof D!="function")throw new Dt("Graph.".concat(t,": updater should be a function."));var k=m.attributes,U=D(k[_]);return k[_]=U,this.emit("nodeAttributesUpdated",{key:m.key,type:"set",attributes:m.attributes,name:_}),this}}function UP(e,t,r){e.prototype[t]=function(n,i,a){var s=Jv(this,t,r,n,i,a),f=s[0],m=s[1];return delete f.attributes[m],this.emit("nodeAttributesUpdated",{key:f.key,type:"remove",attributes:f.attributes,name:m}),this}}function BP(e,t,r){e.prototype[t]=function(n,i,a){var s=Jv(this,t,r,n,i,a),f=s[0],m=s[1];if(!hu(m))throw new Dt("Graph.".concat(t,": provided attributes are not a plain object."));return f.attributes=m,this.emit("nodeAttributesUpdated",{key:f.key,type:"replace",attributes:f.attributes}),this}}function jP(e,t,r){e.prototype[t]=function(n,i,a){var s=Jv(this,t,r,n,i,a),f=s[0],m=s[1];if(!hu(m))throw new Dt("Graph.".concat(t,": provided attributes are not a plain object."));return Ko(f.attributes,m),this.emit("nodeAttributesUpdated",{key:f.key,type:"merge",attributes:f.attributes,data:m}),this}}function GP(e,t,r){e.prototype[t]=function(n,i,a){var s=Jv(this,t,r,n,i,a),f=s[0],m=s[1];if(typeof m!="function")throw new Dt("Graph.".concat(t,": provided updater is not a function."));return f.attributes=m(f.attributes),this.emit("nodeAttributesUpdated",{key:f.key,type:"update",attributes:f.attributes}),this}}var qP=[{name:function(t){return"get".concat(t,"Attribute")},attacher:kP},{name:function(t){return"get".concat(t,"Attributes")},attacher:OP},{name:function(t){return"has".concat(t,"Attribute")},attacher:MP},{name:function(t){return"set".concat(t,"Attribute")},attacher:LP},{name:function(t){return"update".concat(t,"Attribute")},attacher:FP},{name:function(t){return"remove".concat(t,"Attribute")},attacher:UP},{name:function(t){return"replace".concat(t,"Attributes")},attacher:BP},{name:function(t){return"merge".concat(t,"Attributes")},attacher:jP},{name:function(t){return"update".concat(t,"Attributes")},attacher:GP}];function YP(e){qP.forEach(function(t){var r=t.name,n=t.attacher;n(e,r("Node"),pD),n(e,r("Source"),hD),n(e,r("Target"),RP),n(e,r("Opposite"),vD)})}function zP(e,t,r){e.prototype[t]=function(n,i){var a;if(this.type!=="mixed"&&r!=="mixed"&&r!==this.type)throw new br("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new br("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var s=""+n,f=""+i;if(i=arguments[2],a=tp(this,s,f,r),!a)throw new ut("Graph.".concat(t,': could not find an edge for the given path ("').concat(s,'" - "').concat(f,'").'))}else{if(r!=="mixed")throw new br("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(n=""+n,a=this._edges.get(n),!a)throw new ut("Graph.".concat(t,': could not find the "').concat(n,'" edge in the graph.'))}return a.attributes[i]}}function $P(e,t,r){e.prototype[t]=function(n){var i;if(this.type!=="mixed"&&r!=="mixed"&&r!==this.type)throw new br("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>1){if(this.multi)throw new br("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var a=""+n,s=""+arguments[1];if(i=tp(this,a,s,r),!i)throw new ut("Graph.".concat(t,': could not find an edge for the given path ("').concat(a,'" - "').concat(s,'").'))}else{if(r!=="mixed")throw new br("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(n=""+n,i=this._edges.get(n),!i)throw new ut("Graph.".concat(t,': could not find the "').concat(n,'" edge in the graph.'))}return i.attributes}}function VP(e,t,r){e.prototype[t]=function(n,i){var a;if(this.type!=="mixed"&&r!=="mixed"&&r!==this.type)throw new br("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new br("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var s=""+n,f=""+i;if(i=arguments[2],a=tp(this,s,f,r),!a)throw new ut("Graph.".concat(t,': could not find an edge for the given path ("').concat(s,'" - "').concat(f,'").'))}else{if(r!=="mixed")throw new br("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(n=""+n,a=this._edges.get(n),!a)throw new ut("Graph.".concat(t,': could not find the "').concat(n,'" edge in the graph.'))}return a.attributes.hasOwnProperty(i)}}function WP(e,t,r){e.prototype[t]=function(n,i,a){var s;if(this.type!=="mixed"&&r!=="mixed"&&r!==this.type)throw new br("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new br("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var f=""+n,m=""+i;if(i=arguments[2],a=arguments[3],s=tp(this,f,m,r),!s)throw new ut("Graph.".concat(t,': could not find an edge for the given path ("').concat(f,'" - "').concat(m,'").'))}else{if(r!=="mixed")throw new br("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(n=""+n,s=this._edges.get(n),!s)throw new ut("Graph.".concat(t,': could not find the "').concat(n,'" edge in the graph.'))}return s.attributes[i]=a,this.emit("edgeAttributesUpdated",{key:s.key,type:"set",attributes:s.attributes,name:i}),this}}function HP(e,t,r){e.prototype[t]=function(n,i,a){var s;if(this.type!=="mixed"&&r!=="mixed"&&r!==this.type)throw new br("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new br("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var f=""+n,m=""+i;if(i=arguments[2],a=arguments[3],s=tp(this,f,m,r),!s)throw new ut("Graph.".concat(t,': could not find an edge for the given path ("').concat(f,'" - "').concat(m,'").'))}else{if(r!=="mixed")throw new br("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(n=""+n,s=this._edges.get(n),!s)throw new ut("Graph.".concat(t,': could not find the "').concat(n,'" edge in the graph.'))}if(typeof a!="function")throw new Dt("Graph.".concat(t,": updater should be a function."));return s.attributes[i]=a(s.attributes[i]),this.emit("edgeAttributesUpdated",{key:s.key,type:"set",attributes:s.attributes,name:i}),this}}function KP(e,t,r){e.prototype[t]=function(n,i){var a;if(this.type!=="mixed"&&r!=="mixed"&&r!==this.type)throw new br("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new br("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var s=""+n,f=""+i;if(i=arguments[2],a=tp(this,s,f,r),!a)throw new ut("Graph.".concat(t,': could not find an edge for the given path ("').concat(s,'" - "').concat(f,'").'))}else{if(r!=="mixed")throw new br("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(n=""+n,a=this._edges.get(n),!a)throw new ut("Graph.".concat(t,': could not find the "').concat(n,'" edge in the graph.'))}return delete a.attributes[i],this.emit("edgeAttributesUpdated",{key:a.key,type:"remove",attributes:a.attributes,name:i}),this}}function JP(e,t,r){e.prototype[t]=function(n,i){var a;if(this.type!=="mixed"&&r!=="mixed"&&r!==this.type)throw new br("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new br("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var s=""+n,f=""+i;if(i=arguments[2],a=tp(this,s,f,r),!a)throw new ut("Graph.".concat(t,': could not find an edge for the given path ("').concat(s,'" - "').concat(f,'").'))}else{if(r!=="mixed")throw new br("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(n=""+n,a=this._edges.get(n),!a)throw new ut("Graph.".concat(t,': could not find the "').concat(n,'" edge in the graph.'))}if(!hu(i))throw new Dt("Graph.".concat(t,": provided attributes are not a plain object."));return a.attributes=i,this.emit("edgeAttributesUpdated",{key:a.key,type:"replace",attributes:a.attributes}),this}}function ZP(e,t,r){e.prototype[t]=function(n,i){var a;if(this.type!=="mixed"&&r!=="mixed"&&r!==this.type)throw new br("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new br("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var s=""+n,f=""+i;if(i=arguments[2],a=tp(this,s,f,r),!a)throw new ut("Graph.".concat(t,': could not find an edge for the given path ("').concat(s,'" - "').concat(f,'").'))}else{if(r!=="mixed")throw new br("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(n=""+n,a=this._edges.get(n),!a)throw new ut("Graph.".concat(t,': could not find the "').concat(n,'" edge in the graph.'))}if(!hu(i))throw new Dt("Graph.".concat(t,": provided attributes are not a plain object."));return Ko(a.attributes,i),this.emit("edgeAttributesUpdated",{key:a.key,type:"merge",attributes:a.attributes,data:i}),this}}function XP(e,t,r){e.prototype[t]=function(n,i){var a;if(this.type!=="mixed"&&r!=="mixed"&&r!==this.type)throw new br("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new br("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var s=""+n,f=""+i;if(i=arguments[2],a=tp(this,s,f,r),!a)throw new ut("Graph.".concat(t,': could not find an edge for the given path ("').concat(s,'" - "').concat(f,'").'))}else{if(r!=="mixed")throw new br("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(n=""+n,a=this._edges.get(n),!a)throw new ut("Graph.".concat(t,': could not find the "').concat(n,'" edge in the graph.'))}if(typeof i!="function")throw new Dt("Graph.".concat(t,": provided updater is not a function."));return a.attributes=i(a.attributes),this.emit("edgeAttributesUpdated",{key:a.key,type:"update",attributes:a.attributes}),this}}var QP=[{name:function(t){return"get".concat(t,"Attribute")},attacher:zP},{name:function(t){return"get".concat(t,"Attributes")},attacher:$P},{name:function(t){return"has".concat(t,"Attribute")},attacher:VP},{name:function(t){return"set".concat(t,"Attribute")},attacher:WP},{name:function(t){return"update".concat(t,"Attribute")},attacher:HP},{name:function(t){return"remove".concat(t,"Attribute")},attacher:KP},{name:function(t){return"replace".concat(t,"Attributes")},attacher:JP},{name:function(t){return"merge".concat(t,"Attributes")},attacher:ZP},{name:function(t){return"update".concat(t,"Attributes")},attacher:XP}];function eR(e){QP.forEach(function(t){var r=t.name,n=t.attacher;n(e,r("Edge"),"mixed"),n(e,r("DirectedEdge"),"directed"),n(e,r("UndirectedEdge"),"undirected")})}var tR=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function rR(e,t,r,n){var i=!1;for(var a in t)if(a!==n){var s=t[a];if(i=r(s.key,s.attributes,s.source.key,s.target.key,s.source.attributes,s.target.attributes,s.undirected),e&&i)return s.key}}function nR(e,t,r,n){var i,a,s,f=!1;for(var m in t)if(m!==n){i=t[m];do{if(a=i.source,s=i.target,f=r(i.key,i.attributes,a.key,s.key,a.attributes,s.attributes,i.undirected),e&&f)return i.key;i=i.next}while(i!==void 0)}}function gw(e,t){var r=Object.keys(e),n=r.length,i,a=0;return new rp.default(function(){do if(i)i=i.next;else{if(a>=n)return{done:!0};var f=r[a++];if(f===t){i=void 0;continue}i=e[f]}while(!i);return{done:!1,value:{edge:i.key,attributes:i.attributes,source:i.source.key,target:i.target.key,sourceAttributes:i.source.attributes,targetAttributes:i.target.attributes,undirected:i.undirected}}})}function iR(e,t,r,n){var i=t[r];if(i){var a=i.source,s=i.target;if(n(i.key,i.attributes,a.key,s.key,a.attributes,s.attributes,i.undirected)&&e)return i.key}}function aR(e,t,r,n){var i=t[r];if(i){var a=!1;do{if(a=n(i.key,i.attributes,i.source.key,i.target.key,i.source.attributes,i.target.attributes,i.undirected),e&&a)return i.key;i=i.next}while(i!==void 0)}}function yw(e,t){var r=e[t];return r.next!==void 0?new rp.default(function(){if(!r)return{done:!0};var n={edge:r.key,attributes:r.attributes,source:r.source.key,target:r.target.key,sourceAttributes:r.source.attributes,targetAttributes:r.target.attributes,undirected:r.undirected};return r=r.next,{done:!1,value:n}}):rp.default.of({edge:r.key,attributes:r.attributes,source:r.source.key,target:r.target.key,sourceAttributes:r.source.attributes,targetAttributes:r.target.attributes,undirected:r.undirected})}function oR(e,t){if(e.size===0)return[];if(t==="mixed"||t===e.type)return typeof Array.from=="function"?Array.from(e._edges.keys()):uD.default(e._edges.keys(),e._edges.size);for(var r=t==="undirected"?e.undirectedSize:e.directedSize,n=new Array(r),i=t==="undirected",a=e._edges.values(),s=0,f,m;f=a.next(),f.done!==!0;)m=f.value,m.undirected===i&&(n[s++]=m.key);return n}function mD(e,t,r,n){if(t.size!==0){for(var i=r!=="mixed"&&r!==t.type,a=r==="undirected",s,f,m=!1,_=t._edges.values();s=_.next(),s.done!==!0;)if(f=s.value,!(i&&f.undirected!==a)){var D=f,k=D.key,U=D.attributes,z=D.source,ee=D.target;if(m=n(k,U,z.key,ee.key,z.attributes,ee.attributes,f.undirected),e&&m)return k}}}function sR(e,t){if(e.size===0)return rp.default.empty();var r=t!=="mixed"&&t!==e.type,n=t==="undirected",i=e._edges.values();return new rp.default(function(){for(var s,f;;){if(s=i.next(),s.done)return s;if(f=s.value,!(r&&f.undirected!==n))break}var m={edge:f.key,attributes:f.attributes,source:f.source.key,target:f.target.key,sourceAttributes:f.source.attributes,targetAttributes:f.target.attributes,undirected:f.undirected};return{value:m,done:!1}})}function Sw(e,t,r,n,i,a){var s=t?nR:rR,f;if(r!=="undirected"&&(n!=="out"&&(f=s(e,i.in,a),e&&f)||n!=="in"&&(f=s(e,i.out,a,n?void 0:i.key),e&&f))||r!=="directed"&&(f=s(e,i.undirected,a),e&&f))return f}function uR(e,t,r,n){var i=[];return Sw(!1,e,t,r,n,function(a){i.push(a)}),i}function cR(e,t,r){var n=rp.default.empty();return e!=="undirected"&&(t!=="out"&&typeof r.in<"u"&&(n=Kv.default(n,gw(r.in))),t!=="in"&&typeof r.out<"u"&&(n=Kv.default(n,gw(r.out,t?void 0:r.key)))),e!=="directed"&&typeof r.undirected<"u"&&(n=Kv.default(n,gw(r.undirected))),n}function Dw(e,t,r,n,i,a,s){var f=r?aR:iR,m;if(t!=="undirected"&&(typeof i.in<"u"&&n!=="out"&&(m=f(e,i.in,a,s),e&&m)||typeof i.out<"u"&&n!=="in"&&(n||i.key!==a)&&(m=f(e,i.out,a,s),e&&m))||t!=="directed"&&typeof i.undirected<"u"&&(m=f(e,i.undirected,a,s),e&&m))return m}function fR(e,t,r,n,i){var a=[];return Dw(!1,e,t,r,n,i,function(s){a.push(s)}),a}function lR(e,t,r,n){var i=rp.default.empty();return e!=="undirected"&&(typeof r.in<"u"&&t!=="out"&&n in r.in&&(i=Kv.default(i,yw(r.in,n))),typeof r.out<"u"&&t!=="in"&&n in r.out&&(t||r.key!==n)&&(i=Kv.default(i,yw(r.out,n)))),e!=="directed"&&typeof r.undirected<"u"&&n in r.undirected&&(i=Kv.default(i,yw(r.undirected,n))),i}function dR(e,t){var r=t.name,n=t.type,i=t.direction;e.prototype[r]=function(a,s){if(n!=="mixed"&&this.type!=="mixed"&&n!==this.type)return[];if(!arguments.length)return oR(this,n);if(arguments.length===1){a=""+a;var f=this._nodes.get(a);if(typeof f>"u")throw new ut("Graph.".concat(r,': could not find the "').concat(a,'" node in the graph.'));return uR(this.multi,n==="mixed"?this.type:n,i,f)}if(arguments.length===2){a=""+a,s=""+s;var m=this._nodes.get(a);if(!m)throw new ut("Graph.".concat(r,':  could not find the "').concat(a,'" source node in the graph.'));if(!this._nodes.has(s))throw new ut("Graph.".concat(r,':  could not find the "').concat(s,'" target node in the graph.'));return fR(n,this.multi,i,m,s)}throw new Dt("Graph.".concat(r,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}function pR(e,t){var r=t.name,n=t.type,i=t.direction,a="forEach"+r[0].toUpperCase()+r.slice(1,-1);e.prototype[a]=function(_,D,k){if(!(n!=="mixed"&&this.type!=="mixed"&&n!==this.type)){if(arguments.length===1)return k=_,mD(!1,this,n,k);if(arguments.length===2){_=""+_,k=D;var U=this._nodes.get(_);if(typeof U>"u")throw new ut("Graph.".concat(a,': could not find the "').concat(_,'" node in the graph.'));return Sw(!1,this.multi,n==="mixed"?this.type:n,i,U,k)}if(arguments.length===3){_=""+_,D=""+D;var z=this._nodes.get(_);if(!z)throw new ut("Graph.".concat(a,':  could not find the "').concat(_,'" source node in the graph.'));if(!this._nodes.has(D))throw new ut("Graph.".concat(a,':  could not find the "').concat(D,'" target node in the graph.'));return Dw(!1,n,this.multi,i,z,D,k)}throw new Dt("Graph.".concat(a,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))}};var s="map"+r[0].toUpperCase()+r.slice(1);e.prototype[s]=function(){var _=Array.prototype.slice.call(arguments),D=_.pop(),k;if(_.length===0){var U=0;n!=="directed"&&(U+=this.undirectedSize),n!=="undirected"&&(U+=this.directedSize),k=new Array(U);var z=0;_.push(function(ee,H,K,X,ue,ce,ge){k[z++]=D(ee,H,K,X,ue,ce,ge)})}else k=[],_.push(function(ee,H,K,X,ue,ce,ge){k.push(D(ee,H,K,X,ue,ce,ge))});return this[a].apply(this,_),k};var f="filter"+r[0].toUpperCase()+r.slice(1);e.prototype[f]=function(){var _=Array.prototype.slice.call(arguments),D=_.pop(),k=[];return _.push(function(U,z,ee,H,K,X,ue){D(U,z,ee,H,K,X,ue)&&k.push(U)}),this[a].apply(this,_),k};var m="reduce"+r[0].toUpperCase()+r.slice(1);e.prototype[m]=function(){var _=Array.prototype.slice.call(arguments);if(_.length<2||_.length>4)throw new Dt("Graph.".concat(m,": invalid number of arguments (expecting 2, 3 or 4 and got ").concat(_.length,")."));if(typeof _[_.length-1]=="function"&&typeof _[_.length-2]!="function")throw new Dt("Graph.".concat(m,": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array."));var D,k;_.length===2?(D=_[0],k=_[1],_=[]):_.length===3?(D=_[1],k=_[2],_=[_[0]]):_.length===4&&(D=_[2],k=_[3],_=[_[0],_[1]]);var U=k;return _.push(function(z,ee,H,K,X,ue,ce){U=D(U,z,ee,H,K,X,ue,ce)}),this[a].apply(this,_),U}}function hR(e,t){var r=t.name,n=t.type,i=t.direction,a="find"+r[0].toUpperCase()+r.slice(1,-1);e.prototype[a]=function(m,_,D){if(n!=="mixed"&&this.type!=="mixed"&&n!==this.type)return!1;if(arguments.length===1)return D=m,mD(!0,this,n,D);if(arguments.length===2){m=""+m,D=_;var k=this._nodes.get(m);if(typeof k>"u")throw new ut("Graph.".concat(a,': could not find the "').concat(m,'" node in the graph.'));return Sw(!0,this.multi,n==="mixed"?this.type:n,i,k,D)}if(arguments.length===3){m=""+m,_=""+_;var U=this._nodes.get(m);if(!U)throw new ut("Graph.".concat(a,':  could not find the "').concat(m,'" source node in the graph.'));if(!this._nodes.has(_))throw new ut("Graph.".concat(a,':  could not find the "').concat(_,'" target node in the graph.'));return Dw(!0,n,this.multi,i,U,_,D)}throw new Dt("Graph.".concat(a,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))};var s="some"+r[0].toUpperCase()+r.slice(1,-1);e.prototype[s]=function(){var m=Array.prototype.slice.call(arguments),_=m.pop();m.push(function(k,U,z,ee,H,K,X){return _(k,U,z,ee,H,K,X)});var D=this[a].apply(this,m);return!!D};var f="every"+r[0].toUpperCase()+r.slice(1,-1);e.prototype[f]=function(){var m=Array.prototype.slice.call(arguments),_=m.pop();m.push(function(k,U,z,ee,H,K,X){return!_(k,U,z,ee,H,K,X)});var D=this[a].apply(this,m);return!D}}function vR(e,t){var r=t.name,n=t.type,i=t.direction,a=r.slice(0,-1)+"Entries";e.prototype[a]=function(s,f){if(n!=="mixed"&&this.type!=="mixed"&&n!==this.type)return rp.default.empty();if(!arguments.length)return sR(this,n);if(arguments.length===1){s=""+s;var m=this._nodes.get(s);if(!m)throw new ut("Graph.".concat(a,': could not find the "').concat(s,'" node in the graph.'));return cR(n,i,m)}if(arguments.length===2){s=""+s,f=""+f;var _=this._nodes.get(s);if(!_)throw new ut("Graph.".concat(a,':  could not find the "').concat(s,'" source node in the graph.'));if(!this._nodes.has(f))throw new ut("Graph.".concat(a,':  could not find the "').concat(f,'" target node in the graph.'));return lR(n,i,_,f)}throw new Dt("Graph.".concat(a,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}function mR(e){tR.forEach(function(t){dR(e,t),pR(e,t),hR(e,t),vR(e,t)})}var gR=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function D0(){this.A=null,this.B=null}D0.prototype.wrap=function(e){this.A===null?this.A=e:this.B===null&&(this.B=e)};D0.prototype.has=function(e){return this.A!==null&&e in this.A||this.B!==null&&e in this.B};function o_(e,t,r,n,i){for(var a in n){var s=n[a],f=s.source,m=s.target,_=f===r?m:f;if(!(t&&t.has(_.key))){var D=i(_.key,_.attributes);if(e&&D)return _.key}}}function Tw(e,t,r,n,i){if(t!=="mixed"){if(t==="undirected")return o_(e,null,n,n.undirected,i);if(typeof r=="string")return o_(e,null,n,n[r],i)}var a=new D0,s;if(t!=="undirected"){if(r!=="out"){if(s=o_(e,null,n,n.in,i),e&&s)return s;a.wrap(n.in)}if(r!=="in"){if(s=o_(e,a,n,n.out,i),e&&s)return s;a.wrap(n.out)}}if(t!=="directed"&&(s=o_(e,a,n,n.undirected,i),e&&s))return s}function yR(e,t,r){if(e!=="mixed"){if(e==="undirected")return Object.keys(r.undirected);if(typeof t=="string")return Object.keys(r[t])}var n=[];return Tw(!1,e,t,r,function(i){n.push(i)}),n}function s_(e,t,r){var n=Object.keys(r),i=n.length,a=0;return new rp.default(function(){var f=null;do{if(a>=i)return e&&e.wrap(r),{done:!0};var m=r[n[a++]],_=m.source,D=m.target;if(f=_===t?D:_,e&&e.has(f.key)){f=null;continue}}while(f===null);return{done:!1,value:{neighbor:f.key,attributes:f.attributes}}})}function _R(e,t,r){if(e!=="mixed"){if(e==="undirected")return s_(null,r,r.undirected);if(typeof t=="string")return s_(null,r,r[t])}var n=rp.default.empty(),i=new D0;return e!=="undirected"&&(t!=="out"&&(n=Kv.default(n,s_(i,r,r.in))),t!=="in"&&(n=Kv.default(n,s_(i,r,r.out)))),e!=="directed"&&(n=Kv.default(n,s_(i,r,r.undirected))),n}function ER(e,t){var r=t.name,n=t.type,i=t.direction;e.prototype[r]=function(a){if(n!=="mixed"&&this.type!=="mixed"&&n!==this.type)return[];a=""+a;var s=this._nodes.get(a);if(typeof s>"u")throw new ut("Graph.".concat(r,': could not find the "').concat(a,'" node in the graph.'));return yR(n==="mixed"?this.type:n,i,s)}}function wR(e,t){var r=t.name,n=t.type,i=t.direction,a="forEach"+r[0].toUpperCase()+r.slice(1,-1);e.prototype[a]=function(_,D){if(!(n!=="mixed"&&this.type!=="mixed"&&n!==this.type)){_=""+_;var k=this._nodes.get(_);if(typeof k>"u")throw new ut("Graph.".concat(a,': could not find the "').concat(_,'" node in the graph.'));Tw(!1,n==="mixed"?this.type:n,i,k,D)}};var s="map"+r[0].toUpperCase()+r.slice(1);e.prototype[s]=function(_,D){var k=[];return this[a](_,function(U,z){k.push(D(U,z))}),k};var f="filter"+r[0].toUpperCase()+r.slice(1);e.prototype[f]=function(_,D){var k=[];return this[a](_,function(U,z){D(U,z)&&k.push(U)}),k};var m="reduce"+r[0].toUpperCase()+r.slice(1);e.prototype[m]=function(_,D,k){if(arguments.length<3)throw new Dt("Graph.".concat(m,": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array."));var U=k;return this[a](_,function(z,ee){U=D(U,z,ee)}),U}}function bR(e,t){var r=t.name,n=t.type,i=t.direction,a=r[0].toUpperCase()+r.slice(1,-1),s="find"+a;e.prototype[s]=function(_,D){if(!(n!=="mixed"&&this.type!=="mixed"&&n!==this.type)){_=""+_;var k=this._nodes.get(_);if(typeof k>"u")throw new ut("Graph.".concat(s,': could not find the "').concat(_,'" node in the graph.'));return Tw(!0,n==="mixed"?this.type:n,i,k,D)}};var f="some"+a;e.prototype[f]=function(_,D){var k=this[s](_,D);return!!k};var m="every"+a;e.prototype[m]=function(_,D){var k=this[s](_,function(U,z){return!D(U,z)});return!k}}function SR(e,t){var r=t.name,n=t.type,i=t.direction,a=r.slice(0,-1)+"Entries";e.prototype[a]=function(s){if(n!=="mixed"&&this.type!=="mixed"&&n!==this.type)return rp.default.empty();s=""+s;var f=this._nodes.get(s);if(typeof f>"u")throw new ut("Graph.".concat(a,': could not find the "').concat(s,'" node in the graph.'));return _R(n==="mixed"?this.type:n,i,f)}}function DR(e){gR.forEach(function(t){ER(e,t),wR(e,t),bR(e,t),SR(e,t)})}function w0(e,t,r,n,i){for(var a=n._nodes.values(),s=n.type,f,m,_,D,k,U,z;f=a.next(),f.done!==!0;){var ee=!1;if(m=f.value,s!=="undirected"){D=m.out;for(_ in D){k=D[_];do{if(U=k.target,ee=!0,z=i(m.key,U.key,m.attributes,U.attributes,k.key,k.attributes,k.undirected),e&&z)return k;k=k.next}while(k)}}if(s!=="directed"){D=m.undirected;for(_ in D)if(!(t&&m.key>_)){k=D[_];do{if(U=k.target,U.key!==_&&(U=k.source),ee=!0,z=i(m.key,U.key,m.attributes,U.attributes,k.key,k.attributes,k.undirected),e&&z)return k;k=k.next}while(k)}}if(r&&!ee&&(z=i(m.key,null,m.attributes,null,null,null,null),e&&z))return null}}function TR(e,t){var r={key:e};return cD(t.attributes)||(r.attributes=Ko({},t.attributes)),r}function AR(e,t,r){var n={key:t,source:r.source.key,target:r.target.key};return cD(r.attributes)||(n.attributes=Ko({},r.attributes)),e==="mixed"&&r.undirected&&(n.undirected=!0),n}function NR(e){if(!hu(e))throw new Dt('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if(!("key"in e))throw new Dt("Graph.import: serialized node is missing its key.");if("attributes"in e&&(!hu(e.attributes)||e.attributes===null))throw new Dt("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.")}function CR(e){if(!hu(e))throw new Dt('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if(!("source"in e))throw new Dt("Graph.import: serialized edge is missing its source.");if(!("target"in e))throw new Dt("Graph.import: serialized edge is missing its target.");if("attributes"in e&&(!hu(e.attributes)||e.attributes===null))throw new Dt("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.");if("undirected"in e&&typeof e.undirected!="boolean")throw new Dt("Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.")}var IR=PP(),xR=new Set(["directed","undirected","mixed"]),oD=new Set(["domain","_events","_eventsCount","_maxListeners"]),PR=[{name:function(t){return"".concat(t,"Edge")},generateKey:!0},{name:function(t){return"".concat(t,"DirectedEdge")},generateKey:!0,type:"directed"},{name:function(t){return"".concat(t,"UndirectedEdge")},generateKey:!0,type:"undirected"},{name:function(t){return"".concat(t,"EdgeWithKey")}},{name:function(t){return"".concat(t,"DirectedEdgeWithKey")},type:"directed"},{name:function(t){return"".concat(t,"UndirectedEdgeWithKey")},type:"undirected"}],RR={allowSelfLoops:!0,multi:!1,type:"mixed"};function kR(e,t,r){if(r&&!hu(r))throw new Dt('Graph.addNode: invalid attributes. Expecting an object but got "'.concat(r,'"'));if(t=""+t,r=r||{},e._nodes.has(t))throw new br('Graph.addNode: the "'.concat(t,'" node already exist in the graph.'));var n=new e.NodeDataClass(t,r);return e._nodes.set(t,n),e.emit("nodeAdded",{key:t,attributes:r}),n}function sD(e,t,r){var n=new e.NodeDataClass(t,r);return e._nodes.set(t,n),e.emit("nodeAdded",{key:t,attributes:r}),n}function gD(e,t,r,n,i,a,s,f){if(!n&&e.type==="undirected")throw new br("Graph.".concat(t,": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead."));if(n&&e.type==="directed")throw new br("Graph.".concat(t,": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead."));if(f&&!hu(f))throw new Dt("Graph.".concat(t,': invalid attributes. Expecting an object but got "').concat(f,'"'));if(a=""+a,s=""+s,f=f||{},!e.allowSelfLoops&&a===s)throw new br("Graph.".concat(t,': source & target are the same ("').concat(a,`"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`));var m=e._nodes.get(a),_=e._nodes.get(s);if(!m)throw new ut("Graph.".concat(t,': source node "').concat(a,'" not found.'));if(!_)throw new ut("Graph.".concat(t,': target node "').concat(s,'" not found.'));var D={key:null,undirected:n,source:a,target:s,attributes:f};if(r)i=e._edgeKeyGenerator();else if(i=""+i,e._edges.has(i))throw new br("Graph.".concat(t,': the "').concat(i,'" edge already exists in the graph.'));if(!e.multi&&(n?typeof m.undirected[s]<"u":typeof m.out[s]<"u"))throw new br("Graph.".concat(t,': an edge linking "').concat(a,'" to "').concat(s,`" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option.`));var k=new hy(n,i,m,_,f);e._edges.set(i,k);var U=a===s;return n?(m.undirectedDegree++,_.undirectedDegree++,U&&(m.undirectedLoops++,e._undirectedSelfLoopCount++)):(m.outDegree++,_.inDegree++,U&&(m.directedLoops++,e._directedSelfLoopCount++)),e.multi?k.attachMulti():k.attach(),n?e._undirectedSize++:e._directedSize++,D.key=i,e.emit("edgeAdded",D),i}function OR(e,t,r,n,i,a,s,f,m){if(!n&&e.type==="undirected")throw new br("Graph.".concat(t,": you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead."));if(n&&e.type==="directed")throw new br("Graph.".concat(t,": you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead."));if(f){if(m){if(typeof f!="function")throw new Dt("Graph.".concat(t,': invalid updater function. Expecting a function but got "').concat(f,'"'))}else if(!hu(f))throw new Dt("Graph.".concat(t,': invalid attributes. Expecting an object but got "').concat(f,'"'))}a=""+a,s=""+s;var _;if(m&&(_=f,f=void 0),!e.allowSelfLoops&&a===s)throw new br("Graph.".concat(t,': source & target are the same ("').concat(a,`"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`));var D=e._nodes.get(a),k=e._nodes.get(s),U,z;if(!r&&(U=e._edges.get(i),U)){if((U.source.key!==a||U.target.key!==s)&&(!n||U.source.key!==s||U.target.key!==a))throw new br("Graph.".concat(t,': inconsistency detected when attempting to merge the "').concat(i,'" edge with "').concat(a,'" source & "').concat(s,'" target vs. ("').concat(U.source.key,'", "').concat(U.target.key,'").'));z=U}if(!z&&!e.multi&&D&&(z=n?D.undirected[s]:D.out[s]),z){var ee=[z.key,!1,!1,!1];if(m?!_:!f)return ee;if(m){var H=z.attributes;z.attributes=_(H),e.emit("edgeAttributesUpdated",{type:"replace",key:z.key,attributes:z.attributes})}else Ko(z.attributes,f),e.emit("edgeAttributesUpdated",{type:"merge",key:z.key,attributes:z.attributes,data:f});return ee}f=f||{},m&&_&&(f=_(f));var K={key:null,undirected:n,source:a,target:s,attributes:f};if(r)i=e._edgeKeyGenerator();else if(i=""+i,e._edges.has(i))throw new br("Graph.".concat(t,': the "').concat(i,'" edge already exists in the graph.'));var X=!1,ue=!1;D||(D=sD(e,a,{}),X=!0,a===s&&(k=D,ue=!0)),k||(k=sD(e,s,{}),ue=!0),U=new hy(n,i,D,k,f),e._edges.set(i,U);var ce=a===s;return n?(D.undirectedDegree++,k.undirectedDegree++,ce&&(D.undirectedLoops++,e._undirectedSelfLoopCount++)):(D.outDegree++,k.inDegree++,ce&&(D.directedLoops++,e._directedSelfLoopCount++)),e.multi?U.attachMulti():U.attach(),n?e._undirectedSize++:e._directedSize++,K.key=i,e.emit("edgeAdded",K),[i,!0,X,ue]}function py(e,t){e._edges.delete(t.key);var r=t.source,n=t.target,i=t.attributes,a=t.undirected,s=r===n;a?(r.undirectedDegree--,n.undirectedDegree--,s&&(r.undirectedLoops--,e._undirectedSelfLoopCount--)):(r.outDegree--,n.inDegree--,s&&(r.directedLoops--,e._directedSelfLoopCount--)),e.multi?t.detachMulti():t.detach(),a?e._undirectedSize--:e._directedSize--,e.emit("edgeDropped",{key:t.key,attributes:i,source:r.key,target:n.key,undirected:a})}var Bi=function(e){tv(t,e);function t(n){var i;if(i=e.call(this)||this,n=Ko({},RR,n),typeof n.multi!="boolean")throw new Dt(`Graph.constructor: invalid 'multi' option. Expecting a boolean but got "`.concat(n.multi,'".'));if(!xR.has(n.type))throw new Dt(`Graph.constructor: invalid 'type' option. Should be one of "mixed", "directed" or "undirected" but got "`.concat(n.type,'".'));if(typeof n.allowSelfLoops!="boolean")throw new Dt(`Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got "`.concat(n.allowSelfLoops,'".'));var a=n.type==="mixed"?fD:n.type==="directed"?lD:dD;ep(Ui(i),"NodeDataClass",a);var s="geid_"+IR()+"_",f=0,m=function(){var D;do D=s+f++;while(i._edges.has(D));return D};return ep(Ui(i),"_attributes",{}),ep(Ui(i),"_nodes",new Map),ep(Ui(i),"_edges",new Map),ep(Ui(i),"_directedSize",0),ep(Ui(i),"_undirectedSize",0),ep(Ui(i),"_directedSelfLoopCount",0),ep(Ui(i),"_undirectedSelfLoopCount",0),ep(Ui(i),"_edgeKeyGenerator",m),ep(Ui(i),"_options",n),oD.forEach(function(_){return ep(Ui(i),_,i[_])}),rh(Ui(i),"order",function(){return i._nodes.size}),rh(Ui(i),"size",function(){return i._edges.size}),rh(Ui(i),"directedSize",function(){return i._directedSize}),rh(Ui(i),"undirectedSize",function(){return i._undirectedSize}),rh(Ui(i),"selfLoopCount",function(){return i._directedSelfLoopCount+i._undirectedSelfLoopCount}),rh(Ui(i),"directedSelfLoopCount",function(){return i._directedSelfLoopCount}),rh(Ui(i),"undirectedSelfLoopCount",function(){return i._undirectedSelfLoopCount}),rh(Ui(i),"multi",i._options.multi),rh(Ui(i),"type",i._options.type),rh(Ui(i),"allowSelfLoops",i._options.allowSelfLoops),rh(Ui(i),"implementation",function(){return"graphology"}),i}var r=t.prototype;return r._resetInstanceCounters=function(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0},r.hasNode=function(i){return this._nodes.has(""+i)},r.hasDirectedEdge=function(i,a){if(this.type==="undirected")return!1;if(arguments.length===1){var s=""+i,f=this._edges.get(s);return!!f&&!f.undirected}else if(arguments.length===2){i=""+i,a=""+a;var m=this._nodes.get(i);return m?m.out.hasOwnProperty(a):!1}throw new Dt("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},r.hasUndirectedEdge=function(i,a){if(this.type==="directed")return!1;if(arguments.length===1){var s=""+i,f=this._edges.get(s);return!!f&&f.undirected}else if(arguments.length===2){i=""+i,a=""+a;var m=this._nodes.get(i);return m?m.undirected.hasOwnProperty(a):!1}throw new Dt("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},r.hasEdge=function(i,a){if(arguments.length===1){var s=""+i;return this._edges.has(s)}else if(arguments.length===2){i=""+i,a=""+a;var f=this._nodes.get(i);return f?typeof f.out<"u"&&f.out.hasOwnProperty(a)||typeof f.undirected<"u"&&f.undirected.hasOwnProperty(a):!1}throw new Dt("Graph.hasEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},r.directedEdge=function(i,a){if(this.type!=="undirected"){if(i=""+i,a=""+a,this.multi)throw new br("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");var s=this._nodes.get(i);if(!s)throw new ut('Graph.directedEdge: could not find the "'.concat(i,'" source node in the graph.'));if(!this._nodes.has(a))throw new ut('Graph.directedEdge: could not find the "'.concat(a,'" target node in the graph.'));var f=s.out&&s.out[a]||void 0;if(f)return f.key}},r.undirectedEdge=function(i,a){if(this.type!=="directed"){if(i=""+i,a=""+a,this.multi)throw new br("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");var s=this._nodes.get(i);if(!s)throw new ut('Graph.undirectedEdge: could not find the "'.concat(i,'" source node in the graph.'));if(!this._nodes.has(a))throw new ut('Graph.undirectedEdge: could not find the "'.concat(a,'" target node in the graph.'));var f=s.undirected&&s.undirected[a]||void 0;if(f)return f.key}},r.edge=function(i,a){if(this.multi)throw new br("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");i=""+i,a=""+a;var s=this._nodes.get(i);if(!s)throw new ut('Graph.edge: could not find the "'.concat(i,'" source node in the graph.'));if(!this._nodes.has(a))throw new ut('Graph.edge: could not find the "'.concat(a,'" target node in the graph.'));var f=s.out&&s.out[a]||s.undirected&&s.undirected[a]||void 0;if(f)return f.key},r.areDirectedNeighbors=function(i,a){i=""+i,a=""+a;var s=this._nodes.get(i);if(!s)throw new ut('Graph.areDirectedNeighbors: could not find the "'.concat(i,'" node in the graph.'));return this.type==="undirected"?!1:a in s.in||a in s.out},r.areOutNeighbors=function(i,a){i=""+i,a=""+a;var s=this._nodes.get(i);if(!s)throw new ut('Graph.areOutNeighbors: could not find the "'.concat(i,'" node in the graph.'));return this.type==="undirected"?!1:a in s.out},r.areInNeighbors=function(i,a){i=""+i,a=""+a;var s=this._nodes.get(i);if(!s)throw new ut('Graph.areInNeighbors: could not find the "'.concat(i,'" node in the graph.'));return this.type==="undirected"?!1:a in s.in},r.areUndirectedNeighbors=function(i,a){i=""+i,a=""+a;var s=this._nodes.get(i);if(!s)throw new ut('Graph.areUndirectedNeighbors: could not find the "'.concat(i,'" node in the graph.'));return this.type==="directed"?!1:a in s.undirected},r.areNeighbors=function(i,a){i=""+i,a=""+a;var s=this._nodes.get(i);if(!s)throw new ut('Graph.areNeighbors: could not find the "'.concat(i,'" node in the graph.'));return this.type!=="undirected"&&(a in s.in||a in s.out)||this.type!=="directed"&&a in s.undirected},r.areInboundNeighbors=function(i,a){i=""+i,a=""+a;var s=this._nodes.get(i);if(!s)throw new ut('Graph.areInboundNeighbors: could not find the "'.concat(i,'" node in the graph.'));return this.type!=="undirected"&&a in s.in||this.type!=="directed"&&a in s.undirected},r.areOutboundNeighbors=function(i,a){i=""+i,a=""+a;var s=this._nodes.get(i);if(!s)throw new ut('Graph.areOutboundNeighbors: could not find the "'.concat(i,'" node in the graph.'));return this.type!=="undirected"&&a in s.out||this.type!=="directed"&&a in s.undirected},r.inDegree=function(i){i=""+i;var a=this._nodes.get(i);if(!a)throw new ut('Graph.inDegree: could not find the "'.concat(i,'" node in the graph.'));return this.type==="undirected"?0:a.inDegree},r.outDegree=function(i){i=""+i;var a=this._nodes.get(i);if(!a)throw new ut('Graph.outDegree: could not find the "'.concat(i,'" node in the graph.'));return this.type==="undirected"?0:a.outDegree},r.directedDegree=function(i){i=""+i;var a=this._nodes.get(i);if(!a)throw new ut('Graph.directedDegree: could not find the "'.concat(i,'" node in the graph.'));return this.type==="undirected"?0:a.inDegree+a.outDegree},r.undirectedDegree=function(i){i=""+i;var a=this._nodes.get(i);if(!a)throw new ut('Graph.undirectedDegree: could not find the "'.concat(i,'" node in the graph.'));return this.type==="directed"?0:a.undirectedDegree},r.inboundDegree=function(i){i=""+i;var a=this._nodes.get(i);if(!a)throw new ut('Graph.inboundDegree: could not find the "'.concat(i,'" node in the graph.'));var s=0;return this.type!=="directed"&&(s+=a.undirectedDegree),this.type!=="undirected"&&(s+=a.inDegree),s},r.outboundDegree=function(i){i=""+i;var a=this._nodes.get(i);if(!a)throw new ut('Graph.outboundDegree: could not find the "'.concat(i,'" node in the graph.'));var s=0;return this.type!=="directed"&&(s+=a.undirectedDegree),this.type!=="undirected"&&(s+=a.outDegree),s},r.degree=function(i){i=""+i;var a=this._nodes.get(i);if(!a)throw new ut('Graph.degree: could not find the "'.concat(i,'" node in the graph.'));var s=0;return this.type!=="directed"&&(s+=a.undirectedDegree),this.type!=="undirected"&&(s+=a.inDegree+a.outDegree),s},r.inDegreeWithoutSelfLoops=function(i){i=""+i;var a=this._nodes.get(i);if(!a)throw new ut('Graph.inDegreeWithoutSelfLoops: could not find the "'.concat(i,'" node in the graph.'));return this.type==="undirected"?0:a.inDegree-a.directedLoops},r.outDegreeWithoutSelfLoops=function(i){i=""+i;var a=this._nodes.get(i);if(!a)throw new ut('Graph.outDegreeWithoutSelfLoops: could not find the "'.concat(i,'" node in the graph.'));return this.type==="undirected"?0:a.outDegree-a.directedLoops},r.directedDegreeWithoutSelfLoops=function(i){i=""+i;var a=this._nodes.get(i);if(!a)throw new ut('Graph.directedDegreeWithoutSelfLoops: could not find the "'.concat(i,'" node in the graph.'));return this.type==="undirected"?0:a.inDegree+a.outDegree-a.directedLoops*2},r.undirectedDegreeWithoutSelfLoops=function(i){i=""+i;var a=this._nodes.get(i);if(!a)throw new ut('Graph.undirectedDegreeWithoutSelfLoops: could not find the "'.concat(i,'" node in the graph.'));return this.type==="directed"?0:a.undirectedDegree-a.undirectedLoops*2},r.inboundDegreeWithoutSelfLoops=function(i){i=""+i;var a=this._nodes.get(i);if(!a)throw new ut('Graph.inboundDegreeWithoutSelfLoops: could not find the "'.concat(i,'" node in the graph.'));var s=0,f=0;return this.type!=="directed"&&(s+=a.undirectedDegree,f+=a.undirectedLoops*2),this.type!=="undirected"&&(s+=a.inDegree,f+=a.directedLoops),s-f},r.outboundDegreeWithoutSelfLoops=function(i){i=""+i;var a=this._nodes.get(i);if(!a)throw new ut('Graph.outboundDegreeWithoutSelfLoops: could not find the "'.concat(i,'" node in the graph.'));var s=0,f=0;return this.type!=="directed"&&(s+=a.undirectedDegree,f+=a.undirectedLoops*2),this.type!=="undirected"&&(s+=a.outDegree,f+=a.directedLoops),s-f},r.degreeWithoutSelfLoops=function(i){i=""+i;var a=this._nodes.get(i);if(!a)throw new ut('Graph.degreeWithoutSelfLoops: could not find the "'.concat(i,'" node in the graph.'));var s=0,f=0;return this.type!=="directed"&&(s+=a.undirectedDegree,f+=a.undirectedLoops*2),this.type!=="undirected"&&(s+=a.inDegree+a.outDegree,f+=a.directedLoops*2),s-f},r.source=function(i){i=""+i;var a=this._edges.get(i);if(!a)throw new ut('Graph.source: could not find the "'.concat(i,'" edge in the graph.'));return a.source.key},r.target=function(i){i=""+i;var a=this._edges.get(i);if(!a)throw new ut('Graph.target: could not find the "'.concat(i,'" edge in the graph.'));return a.target.key},r.extremities=function(i){i=""+i;var a=this._edges.get(i);if(!a)throw new ut('Graph.extremities: could not find the "'.concat(i,'" edge in the graph.'));return[a.source.key,a.target.key]},r.opposite=function(i,a){i=""+i,a=""+a;var s=this._edges.get(a);if(!s)throw new ut('Graph.opposite: could not find the "'.concat(a,'" edge in the graph.'));var f=s.source.key,m=s.target.key;if(i===f)return m;if(i===m)return f;throw new ut('Graph.opposite: the "'.concat(i,'" node is not attached to the "').concat(a,'" edge (').concat(f,", ").concat(m,")."))},r.hasExtremity=function(i,a){i=""+i,a=""+a;var s=this._edges.get(i);if(!s)throw new ut('Graph.hasExtremity: could not find the "'.concat(i,'" edge in the graph.'));return s.source.key===a||s.target.key===a},r.isUndirected=function(i){i=""+i;var a=this._edges.get(i);if(!a)throw new ut('Graph.isUndirected: could not find the "'.concat(i,'" edge in the graph.'));return a.undirected},r.isDirected=function(i){i=""+i;var a=this._edges.get(i);if(!a)throw new ut('Graph.isDirected: could not find the "'.concat(i,'" edge in the graph.'));return!a.undirected},r.isSelfLoop=function(i){i=""+i;var a=this._edges.get(i);if(!a)throw new ut('Graph.isSelfLoop: could not find the "'.concat(i,'" edge in the graph.'));return a.source===a.target},r.addNode=function(i,a){var s=kR(this,i,a);return s.key},r.mergeNode=function(i,a){if(a&&!hu(a))throw new Dt('Graph.mergeNode: invalid attributes. Expecting an object but got "'.concat(a,'"'));i=""+i,a=a||{};var s=this._nodes.get(i);return s?(a&&(Ko(s.attributes,a),this.emit("nodeAttributesUpdated",{type:"merge",key:i,attributes:s.attributes,data:a})),[i,!1]):(s=new this.NodeDataClass(i,a),this._nodes.set(i,s),this.emit("nodeAdded",{key:i,attributes:a}),[i,!0])},r.updateNode=function(i,a){if(a&&typeof a!="function")throw new Dt('Graph.updateNode: invalid updater function. Expecting a function but got "'.concat(a,'"'));i=""+i;var s=this._nodes.get(i);if(s){if(a){var f=s.attributes;s.attributes=a(f),this.emit("nodeAttributesUpdated",{type:"replace",key:i,attributes:s.attributes})}return[i,!1]}var m=a?a({}):{};return s=new this.NodeDataClass(i,m),this._nodes.set(i,s),this.emit("nodeAdded",{key:i,attributes:m}),[i,!0]},r.dropNode=function(i){i=""+i;var a=this._nodes.get(i);if(!a)throw new ut('Graph.dropNode: could not find the "'.concat(i,'" node in the graph.'));var s;if(this.type!=="undirected"){for(var f in a.out){s=a.out[f];do py(this,s),s=s.next;while(s)}for(var m in a.in){s=a.in[m];do py(this,s),s=s.next;while(s)}}if(this.type!=="directed")for(var _ in a.undirected){s=a.undirected[_];do py(this,s),s=s.next;while(s)}this._nodes.delete(i),this.emit("nodeDropped",{key:i,attributes:a.attributes})},r.dropEdge=function(i){var a;if(arguments.length>1){var s=""+arguments[0],f=""+arguments[1];if(a=tp(this,s,f,this.type),!a)throw new ut('Graph.dropEdge: could not find the "'.concat(s,'" -> "').concat(f,'" edge in the graph.'))}else if(i=""+i,a=this._edges.get(i),!a)throw new ut('Graph.dropEdge: could not find the "'.concat(i,'" edge in the graph.'));return py(this,a),this},r.dropDirectedEdge=function(i,a){if(arguments.length<2)throw new br("Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new br("Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");i=""+i,a=""+a;var s=tp(this,i,a,"directed");if(!s)throw new ut('Graph.dropDirectedEdge: could not find a "'.concat(i,'" -> "').concat(a,'" edge in the graph.'));return py(this,s),this},r.dropUndirectedEdge=function(i,a){if(arguments.length<2)throw new br("Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new br("Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");var s=tp(this,i,a,"undirected");if(!s)throw new ut('Graph.dropUndirectedEdge: could not find a "'.concat(i,'" -> "').concat(a,'" edge in the graph.'));return py(this,s),this},r.clear=function(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit("cleared")},r.clearEdges=function(){for(var i=this._nodes.values(),a;a=i.next(),a.done!==!0;)a.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit("edgesCleared")},r.getAttribute=function(i){return this._attributes[i]},r.getAttributes=function(){return this._attributes},r.hasAttribute=function(i){return this._attributes.hasOwnProperty(i)},r.setAttribute=function(i,a){return this._attributes[i]=a,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:i}),this},r.updateAttribute=function(i,a){if(typeof a!="function")throw new Dt("Graph.updateAttribute: updater should be a function.");var s=this._attributes[i];return this._attributes[i]=a(s),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:i}),this},r.removeAttribute=function(i){return delete this._attributes[i],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:i}),this},r.replaceAttributes=function(i){if(!hu(i))throw new Dt("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=i,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this},r.mergeAttributes=function(i){if(!hu(i))throw new Dt("Graph.mergeAttributes: provided attributes are not a plain object.");return Ko(this._attributes,i),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:i}),this},r.updateAttributes=function(i){if(typeof i!="function")throw new Dt("Graph.updateAttributes: provided updater is not a function.");return this._attributes=i(this._attributes),this.emit("attributesUpdated",{type:"update",attributes:this._attributes}),this},r.updateEachNodeAttributes=function(i,a){if(typeof i!="function")throw new Dt("Graph.updateEachNodeAttributes: expecting an updater function.");if(a&&!aD(a))throw new Dt("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var s=this._nodes.values(),f,m;f=s.next(),f.done!==!0;)m=f.value,m.attributes=i(m.key,m.attributes);this.emit("eachNodeAttributesUpdated",{hints:a||null})},r.updateEachEdgeAttributes=function(i,a){if(typeof i!="function")throw new Dt("Graph.updateEachEdgeAttributes: expecting an updater function.");if(a&&!aD(a))throw new Dt("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var s=this._edges.values(),f,m,_,D;f=s.next(),f.done!==!0;)m=f.value,_=m.source,D=m.target,m.attributes=i(m.key,m.attributes,_.key,D.key,_.attributes,D.attributes,m.undirected);this.emit("eachEdgeAttributesUpdated",{hints:a||null})},r.forEachAdjacencyEntry=function(i){if(typeof i!="function")throw new Dt("Graph.forEachAdjacencyEntry: expecting a callback.");w0(!1,!1,!1,this,i)},r.forEachAdjacencyEntryWithOrphans=function(i){if(typeof i!="function")throw new Dt("Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.");w0(!1,!1,!0,this,i)},r.forEachAssymetricAdjacencyEntry=function(i){if(typeof i!="function")throw new Dt("Graph.forEachAssymetricAdjacencyEntry: expecting a callback.");w0(!1,!0,!1,this,i)},r.forEachAssymetricAdjacencyEntryWithOrphans=function(i){if(typeof i!="function")throw new Dt("Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.");w0(!1,!0,!0,this,i)},r.nodes=function(){return typeof Array.from=="function"?Array.from(this._nodes.keys()):uD.default(this._nodes.keys(),this._nodes.size)},r.forEachNode=function(i){if(typeof i!="function")throw new Dt("Graph.forEachNode: expecting a callback.");for(var a=this._nodes.values(),s,f;s=a.next(),s.done!==!0;)f=s.value,i(f.key,f.attributes)},r.findNode=function(i){if(typeof i!="function")throw new Dt("Graph.findNode: expecting a callback.");for(var a=this._nodes.values(),s,f;s=a.next(),s.done!==!0;)if(f=s.value,i(f.key,f.attributes))return f.key},r.mapNodes=function(i){if(typeof i!="function")throw new Dt("Graph.mapNode: expecting a callback.");for(var a=this._nodes.values(),s,f,m=new Array(this.order),_=0;s=a.next(),s.done!==!0;)f=s.value,m[_++]=i(f.key,f.attributes);return m},r.someNode=function(i){if(typeof i!="function")throw new Dt("Graph.someNode: expecting a callback.");for(var a=this._nodes.values(),s,f;s=a.next(),s.done!==!0;)if(f=s.value,i(f.key,f.attributes))return!0;return!1},r.everyNode=function(i){if(typeof i!="function")throw new Dt("Graph.everyNode: expecting a callback.");for(var a=this._nodes.values(),s,f;s=a.next(),s.done!==!0;)if(f=s.value,!i(f.key,f.attributes))return!1;return!0},r.filterNodes=function(i){if(typeof i!="function")throw new Dt("Graph.filterNodes: expecting a callback.");for(var a=this._nodes.values(),s,f,m=[];s=a.next(),s.done!==!0;)f=s.value,i(f.key,f.attributes)&&m.push(f.key);return m},r.reduceNodes=function(i,a){if(typeof i!="function")throw new Dt("Graph.reduceNodes: expecting a callback.");if(arguments.length<2)throw new Dt("Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.");for(var s=a,f=this._nodes.values(),m,_;m=f.next(),m.done!==!0;)_=m.value,s=i(s,_.key,_.attributes);return s},r.nodeEntries=function(){var i=this._nodes.values();return new rp.default(function(){var a=i.next();if(a.done)return a;var s=a.value;return{value:{node:s.key,attributes:s.attributes},done:!1}})},r.export=function(){var i=this,a=new Array(this._nodes.size),s=0;this._nodes.forEach(function(m,_){a[s++]=TR(_,m)});var f=new Array(this._edges.size);return s=0,this._edges.forEach(function(m,_){f[s++]=AR(i.type,_,m)}),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:a,edges:f}},r.import=function(i){var a=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(i instanceof t)return i.forEachNode(function(he,Ie){s?a.mergeNode(he,Ie):a.addNode(he,Ie)}),i.forEachEdge(function(he,Ie,_e,ze,ct,gr,Tr){s?Tr?a.mergeUndirectedEdgeWithKey(he,_e,ze,Ie):a.mergeDirectedEdgeWithKey(he,_e,ze,Ie):Tr?a.addUndirectedEdgeWithKey(he,_e,ze,Ie):a.addDirectedEdgeWithKey(he,_e,ze,Ie)}),this;if(!hu(i))throw new Dt("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(i.attributes){if(!hu(i.attributes))throw new Dt("Graph.import: invalid attributes. Expecting a plain object.");s?this.mergeAttributes(i.attributes):this.replaceAttributes(i.attributes)}var f,m,_,D,k;if(i.nodes){if(_=i.nodes,!Array.isArray(_))throw new Dt("Graph.import: invalid nodes. Expecting an array.");for(f=0,m=_.length;f<m;f++){D=_[f],NR(D);var U=D,z=U.key,ee=U.attributes;s?this.mergeNode(z,ee):this.addNode(z,ee)}}if(i.edges){var H=!1;if(this.type==="undirected"&&(H=!0),_=i.edges,!Array.isArray(_))throw new Dt("Graph.import: invalid edges. Expecting an array.");for(f=0,m=_.length;f<m;f++){k=_[f],CR(k);var K=k,X=K.source,ue=K.target,ce=K.attributes,ge=K.undirected,Fe=ge===void 0?H:ge,Ne=void 0;"key"in k?(Ne=s?Fe?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:Fe?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey,Ne.call(this,k.key,X,ue,ce)):(Ne=s?Fe?this.mergeUndirectedEdge:this.mergeDirectedEdge:Fe?this.addUndirectedEdge:this.addDirectedEdge,Ne.call(this,X,ue,ce))}}return this},r.nullCopy=function(i){var a=new t(Ko({},this._options,i));return a.replaceAttributes(Ko({},this.getAttributes())),a},r.emptyCopy=function(i){var a=this.nullCopy(i);return this._nodes.forEach(function(s,f){var m=Ko({},s.attributes);s=new a.NodeDataClass(f,m),a._nodes.set(f,s)}),a},r.copy=function(i){if(i=i||{},typeof i.type=="string"&&i.type!==this.type&&i.type!=="mixed")throw new br('Graph.copy: cannot create an incompatible copy from "'.concat(this.type,'" type to "').concat(i.type,'" because this would mean losing information about the current graph.'));if(typeof i.multi=="boolean"&&i.multi!==this.multi&&i.multi!==!0)throw new br("Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.");if(typeof i.allowSelfLoops=="boolean"&&i.allowSelfLoops!==this.allowSelfLoops&&i.allowSelfLoops!==!0)throw new br("Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.");for(var a=this.emptyCopy(i),s=this._edges.values(),f,m;f=s.next(),f.done!==!0;)m=f.value,gD(a,"copy",!1,m.undirected,m.key,m.source.key,m.target.key,Ko({},m.attributes));return a},r.toJSON=function(){return this.export()},r.toString=function(){return"[object Graph]"},r.inspect=function(){var i=this,a={};this._nodes.forEach(function(D,k){a[k]=D.attributes});var s={},f={};this._edges.forEach(function(D,k){var U=D.undirected?"--":"->",z="",ee=D.source.key,H=D.target.key,K;D.undirected&&ee>H&&(K=ee,ee=H,H=K);var X="(".concat(ee,")").concat(U,"(").concat(H,")");k.startsWith("geid_")?i.multi&&(typeof f[X]>"u"?f[X]=0:f[X]++,z+="".concat(f[X],". ")):z+="[".concat(k,"]: "),z+=X,s[z]=D.attributes});var m={};for(var _ in this)this.hasOwnProperty(_)&&!oD.has(_)&&typeof this[_]!="function"&&S0(_)!=="symbol"&&(m[_]=this[_]);return m.attributes=this._attributes,m.nodes=a,m.edges=s,ep(m,"constructor",this.constructor),m},t}(DP.EventEmitter);typeof Symbol<"u"&&(Bi.prototype[Symbol.for("nodejs.util.inspect.custom")]=Bi.prototype.inspect);PR.forEach(function(e){["add","merge","update"].forEach(function(t){var r=e.name(t),n=t==="add"?gD:OR;e.generateKey?Bi.prototype[r]=function(i,a,s){return n(this,r,!0,(e.type||this.type)==="undirected",null,i,a,s,t==="update")}:Bi.prototype[r]=function(i,a,s,f){return n(this,r,!1,(e.type||this.type)==="undirected",i,a,s,f,t==="update")}})});YP(Bi);eR(Bi);mR(Bi);DR(Bi);var yD=function(e){tv(t,e);function t(r){var n=Ko({type:"directed"},r);if("multi"in n&&n.multi!==!1)throw new Dt("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(n.type!=="directed")throw new Dt('DirectedGraph.from: inconsistent "'+n.type+'" type in given options!');return e.call(this,n)||this}return t}(Bi),_D=function(e){tv(t,e);function t(r){var n=Ko({type:"undirected"},r);if("multi"in n&&n.multi!==!1)throw new Dt("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(n.type!=="undirected")throw new Dt('UndirectedGraph.from: inconsistent "'+n.type+'" type in given options!');return e.call(this,n)||this}return t}(Bi),ED=function(e){tv(t,e);function t(r){var n=Ko({multi:!0},r);if("multi"in n&&n.multi!==!0)throw new Dt("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");return e.call(this,n)||this}return t}(Bi),wD=function(e){tv(t,e);function t(r){var n=Ko({type:"directed",multi:!0},r);if("multi"in n&&n.multi!==!0)throw new Dt("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(n.type!=="directed")throw new Dt('MultiDirectedGraph.from: inconsistent "'+n.type+'" type in given options!');return e.call(this,n)||this}return t}(Bi),bD=function(e){tv(t,e);function t(r){var n=Ko({type:"undirected",multi:!0},r);if("multi"in n&&n.multi!==!0)throw new Dt("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(n.type!=="undirected")throw new Dt('MultiUndirectedGraph.from: inconsistent "'+n.type+'" type in given options!');return e.call(this,n)||this}return t}(Bi);function vy(e){e.from=function(t,r){var n=Ko({},t.options,r),i=new e(n);return i.import(t),i}}vy(Bi);vy(yD);vy(_D);vy(ED);vy(wD);vy(bD);Bi.Graph=Bi;Bi.DirectedGraph=yD;Bi.UndirectedGraph=_D;Bi.MultiGraph=ED;Bi.MultiDirectedGraph=wD;Bi.MultiUndirectedGraph=bD;Bi.InvalidArgumentsGraphError=Dt;Bi.NotFoundGraphError=ut;Bi.UsageGraphError=br;SD.exports=Bi});var f_=fr((qB,AD)=>{function FR(e){return!e||typeof e!="object"||typeof e=="function"||Array.isArray(e)||e instanceof Set||e instanceof Map||e instanceof RegExp||e instanceof Date}function TD(e,t){e=e||{};var r={};for(var n in t){var i=e[n],a=t[n];if(!FR(a)){r[n]=TD(i,a);continue}i===void 0?r[n]=a:r[n]=i}return r}AD.exports=TD});var mg=fr(rv=>{var UR=Math.pow(2,8)-1,BR=Math.pow(2,16)-1,jR=Math.pow(2,32)-1,GR=Math.pow(2,7)-1,qR=Math.pow(2,15)-1,YR=Math.pow(2,31)-1;rv.getPointerArray=function(e){var t=e-1;if(t<=UR)return Uint8Array;if(t<=BR)return Uint16Array;if(t<=jR)return Uint32Array;throw new Error("mnemonist: Pointer Array of size > 4294967295 is not supported.")};rv.getSignedPointerArray=function(e){var t=e-1;return t<=GR?Int8Array:t<=qR?Int16Array:t<=YR?Int32Array:Float64Array};rv.getNumberType=function(e){return e===(e|0)?Math.sign(e)===-1?e<=127&&e>=-128?Int8Array:e<=32767&&e>=-32768?Int16Array:Int32Array:e<=255?Uint8Array:e<=65535?Uint16Array:Uint32Array:Float64Array};var zR={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};rv.getMinimalRepresentation=function(e,t){var r=null,n=0,i,a,s,f,m;for(f=0,m=e.length;f<m;f++)s=t?t(e[f]):e[f],a=rv.getNumberType(s),i=zR[a.name],i>n&&(n=i,r=a);return r};rv.isTypedArray=function(e){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(e)};rv.concat=function(){var e=0,t,r,n;for(t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=new arguments[0].constructor(e);for(t=0,r=0;t<n;t++)i.set(arguments[t],r),r+=arguments[t].length;return i};rv.indices=function(e){for(var t=rv.getPointerArray(e),r=new t(e),n=0;n<e;n++)r[n]=n;return r}});var CD=fr((zB,ND)=>{var Aw=Gm(),$R=mg().getPointerArray;function Wu(e,t){arguments.length<2&&(t=e,e=Array);var r=$R(t);this.size=0,this.length=t,this.dense=new r(t),this.sparse=new r(t),this.vals=new e(t)}Wu.prototype.clear=function(){this.size=0};Wu.prototype.has=function(e){var t=this.sparse[e];return t<this.size&&this.dense[t]===e};Wu.prototype.get=function(e){var t=this.sparse[e];if(t<this.size&&this.dense[t]===e)return this.vals[t]};Wu.prototype.set=function(e,t){var r=this.sparse[e];return r<this.size&&this.dense[r]===e?(this.vals[r]=t,this):(this.dense[this.size]=e,this.sparse[e]=this.size,this.vals[this.size]=t,this.size++,this)};Wu.prototype.delete=function(e){var t=this.sparse[e];return t>=this.size||this.dense[t]!==e?!1:(t=this.dense[this.size-1],this.dense[this.sparse[e]]=t,this.sparse[t]=this.sparse[e],this.size--,!0)};Wu.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var r=0;r<this.size;r++)e.call(t,this.vals[r],this.dense[r])};Wu.prototype.keys=function(){var e=this.size,t=this.dense,r=0;return new Aw(function(){if(r<e){var n=t[r];return r++,{value:n}}return{done:!0}})};Wu.prototype.values=function(){var e=this.size,t=this.vals,r=0;return new Aw(function(){if(r<e){var n=t[r];return r++,{value:n}}return{done:!0}})};Wu.prototype.entries=function(){var e=this.size,t=this.dense,r=this.vals,n=0;return new Aw(function(){if(n<e){var i=[t[n],r[n]];return n++,{value:i}}return{done:!0}})};typeof Symbol<"u"&&(Wu.prototype[Symbol.iterator]=Wu.prototype.entries);Wu.prototype.inspect=function(){for(var e=new Map,t=0;t<this.size;t++)e.set(this.dense[t],this.vals[t]);return Object.defineProperty(e,"constructor",{value:Wu,enumerable:!1}),e.length=this.length,this.vals.constructor!==Array&&(e.type=this.vals.constructor.name),e};typeof Symbol<"u"&&(Wu.prototype[Symbol.for("nodejs.util.inspect.custom")]=Wu.prototype.inspect);ND.exports=Wu});var xD=fr(($B,ID)=>{var VR=Gm(),WR=mg().getPointerArray;function Jl(e){var t=WR(e);this.start=0,this.size=0,this.capacity=e,this.dense=new t(e),this.sparse=new t(e)}Jl.prototype.clear=function(){this.start=0,this.size=0};Jl.prototype.has=function(e){if(this.size===0)return!1;var t=this.sparse[e],r=t<this.capacity&&t>=this.start&&t<this.start+this.size||t<(this.start+this.size)%this.capacity;return r&&this.dense[t]===e};Jl.prototype.enqueue=function(e){var t=this.sparse[e];if(this.size!==0){var r=t<this.capacity&&t>=this.start&&t<this.start+this.size||t<(this.start+this.size)%this.capacity;if(r&&this.dense[t]===e)return this}return t=(this.start+this.size)%this.capacity,this.dense[t]=e,this.sparse[e]=t,this.size++,this};Jl.prototype.dequeue=function(){if(this.size!==0){var e=this.start;this.size--,this.start++,this.start===this.capacity&&(this.start=0);var t=this.dense[e];return this.sparse[t]=this.capacity,t}};Jl.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var r=this.capacity,n=this.size,i=this.start,a=0;a<n;)e.call(t,this.dense[i],a,this),i++,a++,i===r&&(i=0)};Jl.prototype.values=function(){var e=this.dense,t=this.capacity,r=this.size,n=this.start,i=0;return new VR(function(){if(i>=r)return{done:!0};var a=e[n];return n++,i++,n===t&&(n=0),{value:a,done:!1}})};typeof Symbol<"u"&&(Jl.prototype[Symbol.iterator]=Jl.prototype.values);Jl.prototype.inspect=function(){var e=[];return this.forEach(function(t){e.push(t)}),Object.defineProperty(e,"constructor",{value:Jl,enumerable:!1}),e.capacity=this.capacity,e};typeof Symbol<"u"&&(Jl.prototype[Symbol.for("nodejs.util.inspect.custom")]=Jl.prototype.inspect);ID.exports=Jl});var OD=fr((VB,kD)=>{function PD(e){return function(t){return typeof t!="number"&&(t=t.length),Math.floor(e()*t)}}var RD=PD(Math.random);RD.createRandomIndex=PD;kD.exports=RD});var Nw=fr(T0=>{function HR(e){return typeof e!="number"||isNaN(e)?1:e}function KR(e,t){var r={},n=function(s){return typeof s>"u"?t:s};typeof t=="function"&&(n=t);var i=function(s){return n(s[e])},a=function(){return n(void 0)};return typeof e=="string"?(r.fromAttributes=i,r.fromGraph=function(s,f){return i(s.getNodeAttributes(f))},r.fromEntry=function(s,f){return i(f)}):typeof e=="function"?(r.fromAttributes=function(){throw new Error("graphology-utils/getters/createNodeValueGetter: irrelevant usage.")},r.fromGraph=function(s,f){return n(e(f,s.getNodeAttributes(f)))},r.fromEntry=function(s,f){return n(e(s,f))}):(r.fromAttributes=a,r.fromGraph=a,r.fromEntry=a),r}function MD(e,t){var r={},n=function(s){return typeof s>"u"?t:s};typeof t=="function"&&(n=t);var i=function(s){return n(s[e])},a=function(){return n(void 0)};return typeof e=="string"?(r.fromAttributes=i,r.fromGraph=function(s,f){return i(s.getEdgeAttributes(f))},r.fromEntry=function(s,f){return i(f)},r.fromPartialEntry=r.fromEntry,r.fromMinimalEntry=r.fromEntry):typeof e=="function"?(r.fromAttributes=function(){throw new Error("graphology-utils/getters/createEdgeValueGetter: irrelevant usage.")},r.fromGraph=function(s,f){var m=s.extremities(f);return n(e(f,s.getEdgeAttributes(f),m[0],m[1],s.getNodeAttributes(m[0]),s.getNodeAttributes(m[1]),s.isUndirected(f)))},r.fromEntry=function(s,f,m,_,D,k,U){return n(e(s,f,m,_,D,k,U))},r.fromPartialEntry=function(s,f,m,_){return n(e(s,f,m,_))},r.fromMinimalEntry=function(s,f){return n(e(s,f))}):(r.fromAttributes=a,r.fromGraph=a,r.fromEntry=a,r.fromMinimalEntry=a),r}T0.createNodeValueGetter=KR;T0.createEdgeValueGetter=MD;T0.createEdgeWeightGetter=function(e){return MD(e,HR)}});var jD=fr(Cw=>{var qm=mg(),LD=f_(),FD=Nw().createEdgeWeightGetter,UD=Symbol.for("nodejs.util.inspect.custom"),BD={getEdgeWeight:"weight",keepDendrogram:!1,resolution:1};function ka(e,t){t=LD(t,BD);var r=t.resolution,n=FD(t.getEdgeWeight).fromEntry,i=(e.size-e.selfLoopCount)*2,a=qm.getPointerArray(i),s=qm.getPointerArray(e.order+1),f=t.getEdgeWeight?Float64Array:qm.getPointerArray(e.size*2);this.C=e.order,this.M=0,this.E=i,this.U=0,this.resolution=r,this.level=0,this.graph=e,this.nodes=new Array(e.order),this.keepDendrogram=t.keepDendrogram,this.neighborhood=new s(i),this.weights=new f(i),this.loops=new f(e.order),this.starts=new a(e.order+1),this.belongings=new s(e.order),this.dendrogram=[],this.mapping=null,this.counts=new s(e.order),this.unused=new s(e.order),this.totalWeights=new f(e.order);var m={},_,D=0,k=0,U=this;e.forEachNode(function(z){U.nodes[D]=z,m[z]=D,k+=e.undirectedDegreeWithoutSelfLoops(z),U.starts[D]=k,U.belongings[D]=D,U.counts[D]=1,D++}),e.forEachEdge(function(z,ee,H,K,X,ue,ce){if(_=n(z,ee,H,K,X,ue,ce),H=m[H],K=m[K],U.M+=_,H===K)U.totalWeights[H]+=_*2,U.loops[H]=_*2;else{U.totalWeights[H]+=_,U.totalWeights[K]+=_;var ge=--U.starts[H],Fe=--U.starts[K];U.neighborhood[ge]=K,U.neighborhood[Fe]=H,U.weights[ge]=_,U.weights[Fe]=_}}),this.starts[D]=this.E,this.keepDendrogram?this.dendrogram.push(this.belongings.slice()):this.mapping=this.belongings.slice()}ka.prototype.isolate=function(e,t){var r=this.belongings[e];if(this.counts[r]===1)return r;var n=this.unused[--this.U],i=this.loops[e];return this.totalWeights[r]-=t+i,this.totalWeights[n]+=t+i,this.belongings[e]=n,this.counts[r]--,this.counts[n]++,n};ka.prototype.move=function(e,t,r){var n=this.belongings[e],i=this.loops[e];this.totalWeights[n]-=t+i,this.totalWeights[r]+=t+i,this.belongings[e]=r;var a=this.counts[n]--===1;this.counts[r]++,a&&(this.unused[this.U++]=n)};ka.prototype.computeNodeDegree=function(e){var t,r,n,i=0;for(t=this.starts[e],r=this.starts[e+1];t<r;t++)n=this.weights[t],i+=n;return i};ka.prototype.expensiveIsolate=function(e){var t=this.computeNodeDegree(e);return this.isolate(e,t)};ka.prototype.expensiveMove=function(e,t){var r=this.computeNodeDegree(e);this.move(e,r,t)};ka.prototype.zoomOut=function(){var e=new Array(this.C-this.U),t={},r=this.nodes.length,n=0,i=0,a,s,f,m,_,D,k,U,z;for(a=0,f=this.C;a<f;a++)D=this.belongings[a],D in t||(t[D]=n,e[n]={adj:{},totalWeights:this.totalWeights[D],internalWeights:0},n++),this.belongings[a]=t[D];var ee,H;if(this.keepDendrogram){for(ee=this.dendrogram[this.level],H=new(qm.getPointerArray(n))(r),a=0;a<r;a++)H[a]=this.belongings[ee[a]];this.dendrogram.push(H)}else for(a=0;a<r;a++)this.mapping[a]=this.belongings[this.mapping[a]];for(a=0,f=this.C;a<f;a++)for(D=this.belongings[a],U=e[D],z=U.adj,U.internalWeights+=this.loops[a],s=this.starts[a],m=this.starts[a+1];s<m;s++){if(_=this.neighborhood[s],k=this.belongings[_],D===k){U.internalWeights+=this.weights[s];continue}k in z||(z[k]=0),z[k]+=this.weights[s]}for(this.C=n,_=0,D=0;D<n;D++){U=e[D],z=U.adj,D=+D,this.totalWeights[D]=U.totalWeights,this.loops[D]=U.internalWeights,this.counts[D]=1,this.starts[D]=_,this.belongings[D]=D;for(k in z)this.neighborhood[_]=+k,this.weights[_]=z[k],i++,_++}return this.starts[n]=i,this.E=i,this.U=0,this.level++,t};ka.prototype.modularity=function(){var e,t,r,n,i,a=0,s=this.M*2,f=new Float64Array(this.C);for(r=0;r<this.C;r++)for(e=this.belongings[r],f[e]+=this.loops[r],n=this.starts[r],i=this.starts[r+1];n<i;n++)t=this.belongings[this.neighborhood[n]],e===t&&(f[e]+=this.weights[n]);for(r=0;r<this.C;r++)a+=f[r]/s-Math.pow(this.totalWeights[r]/s,2)*this.resolution;return a};ka.prototype.delta=function(e,t,r,n){var i=this.M,a=this.totalWeights[n];return t+=this.loops[e],r/i-a*t*this.resolution/(2*i*i)};ka.prototype.deltaWithOwnCommunity=function(e,t,r,n){var i=this.M,a=this.totalWeights[n];return t+=this.loops[e],r/i-(a-t)*t*this.resolution/(2*i*i)};ka.prototype.fastDelta=function(e,t,r,n){var i=this.M,a=this.totalWeights[n];return t+=this.loops[e],r-t*a*this.resolution/(2*i)};ka.prototype.fastDeltaWithOwnCommunity=function(e,t,r,n){var i=this.M,a=this.totalWeights[n];return t+=this.loops[e],r-t*(a-t)*this.resolution/(2*i)};ka.prototype.bounds=function(e){return[this.starts[e],this.starts[e+1]]};ka.prototype.project=function(){var e=this,t={};return e.nodes.slice(0,this.C).forEach(function(r,n){t[r]=Array.from(e.neighborhood.slice(e.starts[n],e.starts[n+1])).map(function(i){return e.nodes[i]})}),t};ka.prototype.collect=function(e){arguments.length<1&&(e=this.level);var t={},r=this.keepDendrogram?this.dendrogram[e]:this.mapping,n,i;for(n=0,i=r.length;n<i;n++)t[this.nodes[n]]=r[n];return t};ka.prototype.assign=function(e,t){arguments.length<2&&(t=this.level);var r=this.keepDendrogram?this.dendrogram[t]:this.mapping,n,i;for(n=0,i=r.length;n<i;n++)this.graph.setNodeAttribute(this.nodes[n],e,r[n])};ka.prototype[UD]=function(){var e={};Object.defineProperty(e,"constructor",{value:ka,enumerable:!1}),e.C=this.C,e.M=this.M,e.E=this.E,e.U=this.U,e.resolution=this.resolution,e.level=this.level,e.nodes=this.nodes,e.starts=this.starts.slice(0,e.C+1);var t=["neighborhood","weights"],r=["counts","loops","belongings","totalWeights"],n=this;return t.forEach(function(i){e[i]=n[i].slice(0,e.E)}),r.forEach(function(i){e[i]=n[i].slice(0,e.C)}),e.unused=this.unused.slice(0,this.U),this.keepDendrogram?e.dendrogram=this.dendrogram:e.mapping=this.mapping,e};function bo(e,t){t=LD(t,BD);var r=t.resolution,n=FD(t.getEdgeWeight).fromEntry,i=(e.size-e.selfLoopCount)*2,a=qm.getPointerArray(i),s=qm.getPointerArray(e.order+1),f=t.getEdgeWeight?Float64Array:qm.getPointerArray(e.size*2);this.C=e.order,this.M=0,this.E=i,this.U=0,this.resolution=r,this.level=0,this.graph=e,this.nodes=new Array(e.order),this.keepDendrogram=t.keepDendrogram,this.neighborhood=new s(i),this.weights=new f(i),this.loops=new f(e.order),this.starts=new a(e.order+1),this.offsets=new a(e.order),this.belongings=new s(e.order),this.dendrogram=[],this.counts=new s(e.order),this.unused=new s(e.order),this.totalInWeights=new f(e.order),this.totalOutWeights=new f(e.order);var m={},_,D=0,k=0,U=this;e.forEachNode(function(z){U.nodes[D]=z,m[z]=D,k+=e.outDegreeWithoutSelfLoops(z),U.starts[D]=k,k+=e.inDegreeWithoutSelfLoops(z),U.offsets[D]=k,U.belongings[D]=D,U.counts[D]=1,D++}),e.forEachEdge(function(z,ee,H,K,X,ue,ce){if(_=n(z,ee,H,K,X,ue,ce),H=m[H],K=m[K],U.M+=_,H===K)U.loops[H]+=_,U.totalInWeights[H]+=_,U.totalOutWeights[H]+=_;else{U.totalOutWeights[H]+=_,U.totalInWeights[K]+=_;var ge=--U.starts[H],Fe=--U.offsets[K];U.neighborhood[ge]=K,U.neighborhood[Fe]=H,U.weights[ge]=_,U.weights[Fe]=_}}),this.starts[D]=this.E,this.keepDendrogram?this.dendrogram.push(this.belongings.slice()):this.mapping=this.belongings.slice()}bo.prototype.bounds=ka.prototype.bounds;bo.prototype.inBounds=function(e){return[this.offsets[e],this.starts[e+1]]};bo.prototype.outBounds=function(e){return[this.starts[e],this.offsets[e]]};bo.prototype.project=ka.prototype.project;bo.prototype.projectIn=function(){var e=this,t={};return e.nodes.slice(0,this.C).forEach(function(r,n){t[r]=Array.from(e.neighborhood.slice(e.offsets[n],e.starts[n+1])).map(function(i){return e.nodes[i]})}),t};bo.prototype.projectOut=function(){var e=this,t={};return e.nodes.slice(0,this.C).forEach(function(r,n){t[r]=Array.from(e.neighborhood.slice(e.starts[n],e.offsets[n])).map(function(i){return e.nodes[i]})}),t};bo.prototype.isolate=function(e,t,r){var n=this.belongings[e];if(this.counts[n]===1)return n;var i=this.unused[--this.U],a=this.loops[e];return this.totalInWeights[n]-=t+a,this.totalInWeights[i]+=t+a,this.totalOutWeights[n]-=r+a,this.totalOutWeights[i]+=r+a,this.belongings[e]=i,this.counts[n]--,this.counts[i]++,i};bo.prototype.move=function(e,t,r,n){var i=this.belongings[e],a=this.loops[e];this.totalInWeights[i]-=t+a,this.totalInWeights[n]+=t+a,this.totalOutWeights[i]-=r+a,this.totalOutWeights[n]+=r+a,this.belongings[e]=n;var s=this.counts[i]--===1;this.counts[n]++,s&&(this.unused[this.U++]=i)};bo.prototype.computeNodeInDegree=function(e){var t,r,n,i=0;for(t=this.offsets[e],r=this.starts[e+1];t<r;t++)n=this.weights[t],i+=n;return i};bo.prototype.computeNodeOutDegree=function(e){var t,r,n,i=0;for(t=this.starts[e],r=this.offsets[e];t<r;t++)n=this.weights[t],i+=n;return i};bo.prototype.expensiveMove=function(e,t){var r=this.computeNodeInDegree(e),n=this.computeNodeOutDegree(e);this.move(e,r,n,t)};bo.prototype.zoomOut=function(){var e=new Array(this.C-this.U),t={},r=this.nodes.length,n=0,i=0,a,s,f,m,_,D,k,U,z,ee,H,K,X;for(a=0,f=this.C;a<f;a++)D=this.belongings[a],D in t||(t[D]=n,e[n]={inAdj:{},outAdj:{},totalInWeights:this.totalInWeights[D],totalOutWeights:this.totalOutWeights[D],internalWeights:0},n++),this.belongings[a]=t[D];var ue,ce;if(this.keepDendrogram){for(ue=this.dendrogram[this.level],ce=new(qm.getPointerArray(n))(r),a=0;a<r;a++)ce[a]=this.belongings[ue[a]];this.dendrogram.push(ce)}else for(a=0;a<r;a++)this.mapping[a]=this.belongings[this.mapping[a]];for(a=0,f=this.C;a<f;a++)for(D=this.belongings[a],z=this.offsets[a],U=e[D],K=U.inAdj,X=U.outAdj,U.internalWeights+=this.loops[a],s=this.starts[a],m=this.starts[a+1];s<m;s++){if(_=this.neighborhood[s],k=this.belongings[_],ee=s<z,H=ee?X:K,D===k){ee&&(U.internalWeights+=this.weights[s]);continue}k in H||(H[k]=0),H[k]+=this.weights[s]}for(this.C=n,_=0,D=0;D<n;D++){U=e[D],K=U.inAdj,X=U.outAdj,D=+D,this.totalInWeights[D]=U.totalInWeights,this.totalOutWeights[D]=U.totalOutWeights,this.loops[D]=U.internalWeights,this.counts[D]=1,this.starts[D]=_,this.belongings[D]=D;for(k in X)this.neighborhood[_]=+k,this.weights[_]=X[k],i++,_++;this.offsets[D]=_;for(k in K)this.neighborhood[_]=+k,this.weights[_]=K[k],i++,_++}return this.starts[n]=i,this.E=i,this.U=0,this.level++,t};bo.prototype.modularity=function(){var e,t,r,n,i,a=0,s=this.M,f=new Float64Array(this.C);for(r=0;r<this.C;r++)for(e=this.belongings[r],f[e]+=this.loops[r],n=this.starts[r],i=this.offsets[r];n<i;n++)t=this.belongings[this.neighborhood[n]],e===t&&(f[e]+=this.weights[n]);for(r=0;r<this.C;r++)a+=f[r]/s-this.totalInWeights[r]*this.totalOutWeights[r]/Math.pow(s,2)*this.resolution;return a};bo.prototype.delta=function(e,t,r,n,i){var a=this.M,s=this.totalInWeights[i],f=this.totalOutWeights[i],m=this.loops[e];return t+=m,r+=m,n/a-(r*s+t*f)*this.resolution/(a*a)};bo.prototype.deltaWithOwnCommunity=function(e,t,r,n,i){var a=this.M,s=this.totalInWeights[i],f=this.totalOutWeights[i],m=this.loops[e];return t+=m,r+=m,n/a-(r*(s-t)+t*(f-r))*this.resolution/(a*a)};bo.prototype.collect=ka.prototype.collect;bo.prototype.assign=ka.prototype.assign;bo.prototype[UD]=function(){var e={};Object.defineProperty(e,"constructor",{value:bo,enumerable:!1}),e.C=this.C,e.M=this.M,e.E=this.E,e.U=this.U,e.resolution=this.resolution,e.level=this.level,e.nodes=this.nodes,e.starts=this.starts.slice(0,e.C+1);var t=["neighborhood","weights"],r=["counts","offsets","loops","belongings","totalInWeights","totalOutWeights"],n=this;return t.forEach(function(i){e[i]=n[i].slice(0,e.E)}),r.forEach(function(i){e[i]=n[i].slice(0,e.C)}),e.unused=this.unused.slice(0,this.U),this.keepDendrogram?e.dendrogram=this.dendrogram:e.mapping=this.mapping,e};Cw.UndirectedLouvainIndex=ka;Cw.DirectedLouvainIndex=bo});var xw=fr((KB,VD)=>{var JR=f_(),ZR=dy(),XR=lw(),GD=CD(),qD=xD(),YD=OD().createRandomIndex,zD=jD(),QR=zD.UndirectedLouvainIndex,ek=zD.DirectedLouvainIndex,$D={nodeCommunityAttribute:"community",getEdgeWeight:"weight",fastLocalMoves:!0,randomWalk:!0,resolution:1,rng:Math.random};function A0(e,t,r){var n=e.get(t);typeof n>"u"&&(n=0),n+=r,e.set(t,n)}var tk=1e-10;function N0(e,t,r,n,i){return Math.abs(n-i)<tk?e===t?!1:r>e:n>i}function rk(e,t,r){var n=new QR(t,{getEdgeWeight:r.getEdgeWeight,keepDendrogram:e,resolution:r.resolution}),i=YD(r.rng),a=!0,s=!0,f,m,_=new GD(Float64Array,n.C),D,k,U,z,ee,H,K,X,ue,ce,ge,Fe,Ne,he,Ie,_e,ze=0,ct=0,gr=[],Tr,kt;for(r.fastLocalMoves&&(D=new qD(n.C));a;){if(ce=n.C,a=!1,s=!0,r.fastLocalMoves){for(kt=0,H=r.randomWalk?i(ce):0,K=0;K<ce;K++,H++)X=H%ce,D.enqueue(X);for(;D.size!==0;){for(X=D.dequeue(),ct++,ge=0,_.clear(),f=n.belongings[X],k=n.starts[X],U=n.starts[X+1];k<U;k++)ue=n.neighborhood[k],z=n.weights[k],m=n.belongings[ue],ge+=z,A0(_,m,z);for(he=n.fastDeltaWithOwnCommunity(X,ge,_.get(f)||0,f),Ne=f,ee=0;ee<_.size;ee++)m=_.dense[ee],m!==f&&(Fe=_.vals[ee],ze++,_e=n.fastDelta(X,ge,Fe,m),Ie=N0(Ne,f,m,_e,he),Ie&&(he=_e,Ne=m));if(he<0){if(Ne=n.isolate(X,ge),Ne===f)continue}else{if(Ne===f)continue;n.move(X,ge,Ne)}for(a=!0,kt++,k=n.starts[X],U=n.starts[X+1];k<U;k++)ue=n.neighborhood[k],m=n.belongings[ue],m!==Ne&&D.enqueue(ue)}gr.push(kt)}else for(Tr=[],gr.push(Tr);s;){for(s=!1,kt=0,H=r.randomWalk?i(ce):0,K=0;K<ce;K++,H++){for(X=H%ce,ct++,ge=0,_.clear(),f=n.belongings[X],k=n.starts[X],U=n.starts[X+1];k<U;k++)ue=n.neighborhood[k],z=n.weights[k],m=n.belongings[ue],ge+=z,A0(_,m,z);for(he=n.fastDeltaWithOwnCommunity(X,ge,_.get(f)||0,f),Ne=f,ee=0;ee<_.size;ee++)m=_.dense[ee],m!==f&&(Fe=_.vals[ee],ze++,_e=n.fastDelta(X,ge,Fe,m),Ie=N0(Ne,f,m,_e,he),Ie&&(he=_e,Ne=m));if(he<0){if(Ne=n.isolate(X,ge),Ne===f)continue}else{if(Ne===f)continue;n.move(X,ge,Ne)}s=!0,kt++}Tr.push(kt),a=s||a}a&&n.zoomOut()}var Xr={index:n,deltaComputations:ze,nodesVisited:ct,moves:gr};return Xr}function nk(e,t,r){var n=new ek(t,{getEdgeWeight:r.getEdgeWeight,keepDendrogram:e,resolution:r.resolution}),i=YD(r.rng),a=!0,s=!0,f,m,_=new GD(Float64Array,n.C),D,k,U,z,ee,H,K,X,ue,ce,ge,Fe,Ne,he,Ie,_e,ze,ct,gr,Tr=0,kt=0,Xr=[],Ue,Vr;for(r.fastLocalMoves&&(D=new qD(n.C));a;){if(Fe=n.C,a=!1,s=!0,r.fastLocalMoves){for(Vr=0,X=r.randomWalk?i(Fe):0,ue=0;ue<Fe;ue++,X++)ce=X%Fe,D.enqueue(ce);for(;D.size!==0;){for(ce=D.dequeue(),kt++,Ne=0,he=0,_.clear(),f=n.belongings[ce],k=n.starts[ce],U=n.starts[ce+1],z=n.offsets[ce];k<U;k++)ee=k<z,ge=n.neighborhood[k],H=n.weights[k],m=n.belongings[ge],ee?he+=H:Ne+=H,A0(_,m,H);for(ze=n.deltaWithOwnCommunity(ce,Ne,he,_.get(f)||0,f),_e=f,K=0;K<_.size;K++)m=_.dense[K],m!==f&&(Ie=_.vals[K],Tr++,gr=n.delta(ce,Ne,he,Ie,m),ct=N0(_e,f,m,gr,ze),ct&&(ze=gr,_e=m));if(ze<0){if(_e=n.isolate(ce,Ne,he),_e===f)continue}else{if(_e===f)continue;n.move(ce,Ne,he,_e)}for(a=!0,Vr++,k=n.starts[ce],U=n.starts[ce+1];k<U;k++)ge=n.neighborhood[k],m=n.belongings[ge],m!==_e&&D.enqueue(ge)}Xr.push(Vr)}else for(Ue=[],Xr.push(Ue);s;){for(s=!1,Vr=0,X=r.randomWalk?i(Fe):0,ue=0;ue<Fe;ue++,X++){for(ce=X%Fe,kt++,Ne=0,he=0,_.clear(),f=n.belongings[ce],k=n.starts[ce],U=n.starts[ce+1],z=n.offsets[ce];k<U;k++)ee=k<z,ge=n.neighborhood[k],H=n.weights[k],m=n.belongings[ge],ee?he+=H:Ne+=H,A0(_,m,H);for(ze=n.deltaWithOwnCommunity(ce,Ne,he,_.get(f)||0,f),_e=f,K=0;K<_.size;K++)m=_.dense[K],m!==f&&(Ie=_.vals[K],Tr++,gr=n.delta(ce,Ne,he,Ie,m),ct=N0(_e,f,m,gr,ze),ct&&(ze=gr,_e=m));if(ze<0){if(_e=n.isolate(ce,Ne,he),_e===f)continue}else{if(_e===f)continue;n.move(ce,Ne,he,_e)}s=!0,Vr++}Ue.push(Vr),a=s||a}a&&n.zoomOut()}var We={index:n,deltaComputations:Tr,nodesVisited:kt,moves:Xr};return We}function Iw(e,t,r,n){if(!ZR(r))throw new Error("graphology-communities-louvain: the given graph is not a valid graphology instance.");var i=XR(r);if(i==="mixed")throw new Error("graphology-communities-louvain: cannot run the algorithm on a true mixed graph.");n=JR(n,$D);var a=0;if(r.size===0){if(e){r.forEachNode(function(k){r.setNodeAttribute(k,n.nodeCommunityAttribute,a++)});return}var s={};return r.forEachNode(function(k){s[k]=a++}),t?{communities:s,count:r.order,deltaComputations:0,dendrogram:null,level:0,modularity:NaN,moves:null,nodesVisited:0,resolution:n.resolution}:s}var f=i==="undirected"?rk:nk,m=f(t,r,n),_=m.index;if(!t){if(e){_.assign(n.nodeCommunityAttribute);return}return _.collect()}var D={count:_.C,deltaComputations:m.deltaComputations,dendrogram:_.dendrogram,level:_.level,modularity:_.modularity(),moves:m.moves,nodesVisited:m.nodesVisited,resolution:n.resolution};return e?(_.assign(n.nodeCommunityAttribute),D):(D.communities=_.collect(),D)}var C0=Iw.bind(null,!1,!1);C0.assign=Iw.bind(null,!0,!1);C0.detailed=Iw.bind(null,!1,!0);C0.defaults=$D;VD.exports=C0});var Pw=fr((JB,HD)=>{var WD=vw(),ik=WD.ARRAY_BUFFER_SUPPORT,ak=WD.SYMBOL_SUPPORT;HD.exports=function(t,r){var n,i,a,s,f;if(!t)throw new Error("obliterator/forEach: invalid iterable.");if(typeof r!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(t)||ik&&ArrayBuffer.isView(t)||typeof t=="string"||t.toString()==="[object Arguments]"){for(a=0,s=t.length;a<s;a++)r(t[a],a);return}if(typeof t.forEach=="function"){t.forEach(r);return}if(ak&&Symbol.iterator in t&&typeof t.next!="function"&&(t=t[Symbol.iterator]()),typeof t.next=="function"){for(n=t,a=0;f=n.next(),f.done!==!0;)r(f.value,a),a++;return}for(i in t)t.hasOwnProperty(i)&&r(t[i],i)}});var I0=fr(l_=>{var KD=Pw(),JD=mg();function ok(e){return Array.isArray(e)||JD.isTypedArray(e)}function Rw(e){if(typeof e.length=="number")return e.length;if(typeof e.size=="number")return e.size}function sk(e){var t=Rw(e),r=typeof t=="number"?new Array(t):[],n=0;return KD(e,function(i){r[n++]=i}),r}function uk(e){var t=Rw(e),r=typeof t=="number"?JD.getPointerArray(t):Array,n=typeof t=="number"?new Array(t):[],i=typeof t=="number"?new r(t):[],a=0;return KD(e,function(s){n[a]=s,i[a]=a++}),[n,i]}l_.isArrayLike=ok;l_.guessLength=Rw;l_.toArray=sk;l_.toArrayWithIndices=uk});var QD=fr((XB,XD)=>{var kw=I0(),ZD=Gm();function eo(e,t){if(arguments.length<2)throw new Error("mnemonist/fixed-deque: expecting an Array class and a capacity.");if(typeof t!="number"||t<=0)throw new Error("mnemonist/fixed-deque: `capacity` should be a positive number.");this.ArrayClass=e,this.capacity=t,this.items=new e(this.capacity),this.clear()}eo.prototype.clear=function(){this.start=0,this.size=0};eo.prototype.push=function(e){if(this.size===this.capacity)throw new Error("mnemonist/fixed-deque.push: deque capacity ("+this.capacity+") exceeded!");var t=this.start+this.size;return t>=this.capacity&&(t-=this.capacity),this.items[t]=e,++this.size};eo.prototype.unshift=function(e){if(this.size===this.capacity)throw new Error("mnemonist/fixed-deque.unshift: deque capacity ("+this.capacity+") exceeded!");var t=this.start-1;return this.start===0&&(t=this.capacity-1),this.items[t]=e,this.start=t,++this.size};eo.prototype.pop=function(){if(this.size!==0){this.size--;var e=this.start+this.size;return e>=this.capacity&&(e-=this.capacity),this.items[e]}};eo.prototype.shift=function(){if(this.size!==0){var e=this.start;return this.size--,this.start++,this.start===this.capacity&&(this.start=0),this.items[e]}};eo.prototype.peekFirst=function(){if(this.size!==0)return this.items[this.start]};eo.prototype.peekLast=function(){if(this.size!==0){var e=this.start+this.size-1;return e>=this.capacity&&(e-=this.capacity),this.items[e]}};eo.prototype.get=function(e){if(!(this.size===0||e>=this.capacity))return e=this.start+e,e>=this.capacity&&(e-=this.capacity),this.items[e]};eo.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var r=this.capacity,n=this.size,i=this.start,a=0;a<n;)e.call(t,this.items[i],a,this),i++,a++,i===r&&(i=0)};eo.prototype.toArray=function(){var e=this.start+this.size;if(e<this.capacity)return this.items.slice(this.start,e);for(var t=new this.ArrayClass(this.size),r=this.capacity,n=this.size,i=this.start,a=0;a<n;)t[a]=this.items[i],i++,a++,i===r&&(i=0);return t};eo.prototype.values=function(){var e=this.items,t=this.capacity,r=this.size,n=this.start,i=0;return new ZD(function(){if(i>=r)return{done:!0};var a=e[n];return n++,i++,n===t&&(n=0),{value:a,done:!1}})};eo.prototype.entries=function(){var e=this.items,t=this.capacity,r=this.size,n=this.start,i=0;return new ZD(function(){if(i>=r)return{done:!0};var a=e[n];return n++,n===t&&(n=0),{value:[i++,a],done:!1}})};typeof Symbol<"u"&&(eo.prototype[Symbol.iterator]=eo.prototype.values);eo.prototype.inspect=function(){var e=this.toArray();return e.type=this.ArrayClass.name,e.capacity=this.capacity,Object.defineProperty(e,"constructor",{value:eo,enumerable:!1}),e};typeof Symbol<"u"&&(eo.prototype[Symbol.for("nodejs.util.inspect.custom")]=eo.prototype.inspect);eo.from=function(e,t,r){if(arguments.length<3&&(r=kw.guessLength(e),typeof r!="number"))throw new Error("mnemonist/fixed-deque.from: could not guess iterable length. Please provide desired capacity as last argument.");var n=new eo(t,r);if(kw.isArrayLike(e)){var i,a;for(i=0,a=e.length;i<a;i++)n.items[i]=e[i];return n.size=a,n}return kw.forEach(e,function(s){n.push(s)}),n};XD.exports=eo});var rT=fr((QB,tT)=>{var eT=Gm(),Ow=I0();function Jo(e,t){if(arguments.length<2)throw new Error("mnemonist/fixed-stack: expecting an Array class and a capacity.");if(typeof t!="number"||t<=0)throw new Error("mnemonist/fixed-stack: `capacity` should be a positive number.");this.capacity=t,this.ArrayClass=e,this.items=new this.ArrayClass(this.capacity),this.clear()}Jo.prototype.clear=function(){this.size=0};Jo.prototype.push=function(e){if(this.size===this.capacity)throw new Error("mnemonist/fixed-stack.push: stack capacity ("+this.capacity+") exceeded!");return this.items[this.size++]=e,this.size};Jo.prototype.pop=function(){if(this.size!==0)return this.items[--this.size]};Jo.prototype.peek=function(){return this.items[this.size-1]};Jo.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var r=0,n=this.items.length;r<n;r++)e.call(t,this.items[n-r-1],r,this)};Jo.prototype.toArray=function(){for(var e=new this.ArrayClass(this.size),t=this.size-1,r=this.size;r--;)e[r]=this.items[t-r];return e};Jo.prototype.values=function(){var e=this.items,t=this.size,r=0;return new eT(function(){if(r>=t)return{done:!0};var n=e[t-r-1];return r++,{value:n,done:!1}})};Jo.prototype.entries=function(){var e=this.items,t=this.size,r=0;return new eT(function(){if(r>=t)return{done:!0};var n=e[t-r-1];return{value:[r++,n],done:!1}})};typeof Symbol<"u"&&(Jo.prototype[Symbol.iterator]=Jo.prototype.values);Jo.prototype.toString=function(){return this.toArray().join(",")};Jo.prototype.toJSON=function(){return this.toArray()};Jo.prototype.inspect=function(){var e=this.toArray();return e.type=this.ArrayClass.name,e.capacity=this.capacity,Object.defineProperty(e,"constructor",{value:Jo,enumerable:!1}),e};typeof Symbol<"u"&&(Jo.prototype[Symbol.for("nodejs.util.inspect.custom")]=Jo.prototype.inspect);Jo.from=function(e,t,r){if(arguments.length<3&&(r=Ow.guessLength(e),typeof r!="number"))throw new Error("mnemonist/fixed-stack.from: could not guess iterable length. Please provide desired capacity as last argument.");var n=new Jo(t,r);if(Ow.isArrayLike(e)){var i,a;for(i=0,a=e.length;i<a;i++)n.items[i]=e[i];return n.size=a,n}return Ow.forEach(e,function(s){n.push(s)}),n};tT.exports=Jo});var nT=fr(d_=>{var ck=function(e,t){return e<t?-1:e>t?1:0},fk=function(e,t){return e<t?1:e>t?-1:0};function lk(e){return function(t,r){return e(r,t)}}function dk(e){return e===2?function(t,r){return t[0]<r[0]?-1:t[0]>r[0]?1:t[1]<r[1]?-1:t[1]>r[1]?1:0}:function(t,r){for(var n=0;n<e;){if(t[n]<r[n])return-1;if(t[n]>r[n])return 1;n++}return 0}}d_.DEFAULT_COMPARATOR=ck;d_.DEFAULT_REVERSE_COMPARATOR=fk;d_.reverseComparator=lk;d_.createTupleComparator=dk});var uT=fr((tj,sT)=>{var x0=Pw(),iT=nT(),nv=I0(),R0=iT.DEFAULT_COMPARATOR,Mw=iT.reverseComparator;function Lw(e,t,r,n){for(var i=t[n],a,s;n>r;){if(a=n-1>>1,s=t[a],e(i,s)<0){t[n]=s,n=a;continue}break}t[n]=i}function p_(e,t,r){for(var n=t.length,i=r,a=t[r],s=2*r+1,f;s<n;)f=s+1,f<n&&e(t[s],t[f])>=0&&(s=f),t[r]=t[s],r=s,s=2*r+1;t[r]=a,Lw(e,t,i,r)}function aT(e,t,r){t.push(r),Lw(e,t,0,t.length-1)}function Fw(e,t){var r=t.pop();if(t.length!==0){var n=t[0];return t[0]=r,p_(e,t,0),n}return r}function my(e,t,r){if(t.length===0)throw new Error("mnemonist/heap.replace: cannot pop an empty heap.");var n=t[0];return t[0]=r,p_(e,t,0),n}function oT(e,t,r){var n;return t.length!==0&&e(t[0],r)<0&&(n=t[0],t[0]=r,r=n,p_(e,t,0)),r}function gg(e,t){for(var r=t.length,n=r>>1,i=n;--i>=0;)p_(e,t,i)}function Uw(e,t){for(var r=t.length,n=0,i=new Array(r);n<r;)i[n++]=Fw(e,t);return i}function pk(e,t,r){arguments.length===2&&(r=t,t=e,e=R0);var n=Mw(e),i,a,s,f=1/0,m;if(t===1){if(nv.isArrayLike(r)){for(i=0,a=r.length;i<a;i++)s=r[i],(f===1/0||e(s,f)<0)&&(f=s);return m=new r.constructor(1),m[0]=f,m}return x0(r,function(D){(f===1/0||e(D,f)<0)&&(f=D)}),[f]}if(nv.isArrayLike(r)){if(t>=r.length)return r.slice().sort(e);for(m=r.slice(0,t),gg(n,m),i=t,a=r.length;i<a;i++)n(r[i],m[0])>0&&my(n,m,r[i]);return m.sort(e)}var _=nv.guessLength(r);return _!==null&&_<t&&(t=_),m=new Array(t),i=0,x0(r,function(D){i<t?m[i]=D:(i===t&&gg(n,m),n(D,m[0])>0&&my(n,m,D)),i++}),m.length>i&&(m.length=i),m.sort(e)}function hk(e,t,r){arguments.length===2&&(r=t,t=e,e=R0);var n=Mw(e),i,a,s,f=-1/0,m;if(t===1){if(nv.isArrayLike(r)){for(i=0,a=r.length;i<a;i++)s=r[i],(f===-1/0||e(s,f)>0)&&(f=s);return m=new r.constructor(1),m[0]=f,m}return x0(r,function(D){(f===-1/0||e(D,f)>0)&&(f=D)}),[f]}if(nv.isArrayLike(r)){if(t>=r.length)return r.slice().sort(n);for(m=r.slice(0,t),gg(e,m),i=t,a=r.length;i<a;i++)e(r[i],m[0])>0&&my(e,m,r[i]);return m.sort(n)}var _=nv.guessLength(r);return _!==null&&_<t&&(t=_),m=new Array(t),i=0,x0(r,function(D){i<t?m[i]=D:(i===t&&gg(e,m),e(D,m[0])>0&&my(e,m,D)),i++}),m.length>i&&(m.length=i),m.sort(n)}function Kn(e){if(this.clear(),this.comparator=e||R0,typeof this.comparator!="function")throw new Error("mnemonist/Heap.constructor: given comparator should be a function.")}Kn.prototype.clear=function(){this.items=[],this.size=0};Kn.prototype.push=function(e){return aT(this.comparator,this.items,e),++this.size};Kn.prototype.peek=function(){return this.items[0]};Kn.prototype.pop=function(){return this.size!==0&&this.size--,Fw(this.comparator,this.items)};Kn.prototype.replace=function(e){return my(this.comparator,this.items,e)};Kn.prototype.pushpop=function(e){return oT(this.comparator,this.items,e)};Kn.prototype.consume=function(){return this.size=0,Uw(this.comparator,this.items)};Kn.prototype.toArray=function(){return Uw(this.comparator,this.items.slice())};Kn.prototype.inspect=function(){var e=this.toArray();return Object.defineProperty(e,"constructor",{value:Kn,enumerable:!1}),e};typeof Symbol<"u"&&(Kn.prototype[Symbol.for("nodejs.util.inspect.custom")]=Kn.prototype.inspect);function P0(e){if(this.clear(),this.comparator=e||R0,typeof this.comparator!="function")throw new Error("mnemonist/MaxHeap.constructor: given comparator should be a function.");this.comparator=Mw(this.comparator)}P0.prototype=Kn.prototype;Kn.from=function(e,t){var r=new Kn(t),n;return nv.isArrayLike(e)?n=e.slice():n=nv.toArray(e),gg(r.comparator,n),r.items=n,r.size=n.length,r};P0.from=function(e,t){var r=new P0(t),n;return nv.isArrayLike(e)?n=e.slice():n=nv.toArray(e),gg(r.comparator,n),r.items=n,r.size=n.length,r};Kn.siftUp=p_;Kn.siftDown=Lw;Kn.push=aT;Kn.pop=Fw;Kn.replace=my;Kn.pushpop=oT;Kn.heapify=gg;Kn.consume=Uw;Kn.nsmallest=pk;Kn.nlargest=hk;Kn.MinHeap=Kn;Kn.MaxHeap=P0;sT.exports=Kn});var fT=fr(Bw=>{var k0=mg(),vk=Nw().createEdgeWeightGetter;function cT(e,t){return e==="outbound"||e==="inbound"?t.directedSize+t.undirectedSize*2:e==="in"||e==="out"||e==="directed"?t.directedSize:t.undirectedSize*2}function Zv(e,t){t=t||"outbound";var r=e[t+"Neighbors"].bind(e),n=cT(t,e),i=k0.getPointerArray(n),a=k0.getPointerArray(e.order);this.graph=e,this.neighborhood=new a(n),this.starts=new i(e.order+1),this.nodes=e.nodes();var s={},f,m,_,D,k,U,z=0;for(f=0,m=e.order;f<m;f++)s[this.nodes[f]]=f;for(f=0,m=e.order;f<m;f++)for(k=this.nodes[f],U=r(k),this.starts[f]=z,_=0,D=U.length;_<D;_++)this.neighborhood[z++]=s[U[_]];this.starts[f]=n}Zv.prototype.bounds=function(e){return[this.starts[e],this.starts[e+1]]};Zv.prototype.project=function(){var e=this,t={};return e.nodes.forEach(function(r,n){t[r]=Array.from(e.neighborhood.slice(e.starts[n],e.starts[n+1])).map(function(i){return e.nodes[i]})}),t};Zv.prototype.collect=function(e){var t,r,n={};for(t=0,r=e.length;t<r;t++)n[this.nodes[t]]=e[t];return n};Zv.prototype.assign=function(e,t){var r=0;this.graph.updateEachNodeAttributes(function(n,i){return i[e]=t[r++],i},{attributes:[e]})};Bw.NeighborhoodIndex=Zv;function h_(e,t,r){r=r||"outbound";var n=e[r+"Edges"].bind(e),i=cT(r,e),a=k0.getPointerArray(i),s=k0.getPointerArray(e.order),f=vk(t).fromMinimalEntry;this.graph=e,this.neighborhood=new s(i),this.weights=new Float64Array(i),this.outDegrees=new Float64Array(e.order),this.starts=new a(e.order+1),this.nodes=e.nodes();var m={},_,D,k,U,z,ee,H,K,X,ue=0;for(_=0,D=e.order;_<D;_++)m[this.nodes[_]]=_;for(_=0,D=e.order;_<D;_++)for(z=this.nodes[_],H=n(z),this.starts[_]=ue,k=0,U=H.length;k<U;k++)K=H[k],ee=e.opposite(z,K),X=f(K,e.getEdgeAttributes(K)),this.neighborhood[ue]=m[ee],this.weights[ue++]=X,this.outDegrees[_]+=X;this.starts[_]=i}h_.prototype.bounds=Zv.prototype.bounds;h_.prototype.project=Zv.prototype.project;h_.prototype.collect=Zv.prototype.collect;h_.prototype.assign=Zv.prototype.assign;Bw.WeightedNeighborhoodIndex=h_});var Gw=fr(jw=>{var mk=QD(),lT=rT(),gk=uT(),dT=mg(),pT=fT(),yk=pT.NeighborhoodIndex,_k=pT.WeightedNeighborhoodIndex;jw.createUnweightedIndexedBrandes=function(t){var r=new yk(t),n=r.neighborhood,i=r.starts,a=t.order,s=new lT(dT.getPointerArray(a),a),f=new Uint32Array(a),m=new Array(a),_=new Int32Array(a),D=new mk(Uint32Array,a),k=function(U){var z,ee,H,K,X,ue,ce;for(ue=0;ue<a;ue++)m[ue]=[],f[ue]=0,_[ue]=-1;for(f[U]=1,_[U]=0,D.push(U);D.size!==0;)for(ue=D.shift(),s.push(ue),z=_[ue],ee=f[ue],H=i[ue],K=i[ue+1],X=H;X<K;X++)ce=n[X],_[ce]===-1&&(D.push(ce),_[ce]=z+1),_[ce]===z+1&&(f[ce]+=ee,m[ce].push(ue));return[s,m,f]};return k.index=r,k};function Ek(e,t){return e[0]>t[0]?1:e[0]<t[0]?-1:e[1]>t[1]?1:e[1]<t[1]?-1:e[2]>t[2]?1:e[2]<t[2]?-1:e[3]>t[3]?1:e[3]<t[3]?-1:0}jw.createDijkstraIndexedBrandes=function(t,r){var n=new _k(t,r||"weight"),i=n.neighborhood,a=n.weights,s=n.starts,f=t.order,m=new lT(dT.getPointerArray(f),f),_=new Uint32Array(f),D=new Array(f),k=new Float64Array(f),U=new Float64Array(f),z=new gk(Ek),ee=function(H){var K,X,ue,ce,ge,Fe,Ne,he,Ie,_e=0;for(he=0;he<f;he++)D[he]=[],_[he]=0,k[he]=-1,U[he]=-1;for(_[H]=1,U[H]=0,z.push([0,_e++,H,H]);z.size!==0;)if(ue=z.pop(),ce=ue[0],ge=ue[2],he=ue[3],k[he]===-1)for(m.push(he),k[he]=ce,_[he]+=_[ge],K=s[he],X=s[he+1],Ne=K;Ne<X;Ne++)Ie=i[Ne],Fe=ce+a[Ne],k[Ie]===-1&&(U[Ie]===-1||Fe<U[Ie])?(U[Ie]=Fe,z.push([Fe,_e++,he,Ie]),_[Ie]=0,D[Ie]=[he]):Fe===U[Ie]&&(_[Ie]+=_[he],D[Ie].push(he));return[m,D,_]};return ee.index=n,ee}});var qw=fr((ij,gT)=>{var wk=dy(),hT=Gw(),bk=f_(),Sk=hT.createUnweightedIndexedBrandes,Dk=hT.createDijkstraIndexedBrandes,Tk={nodeCentralityAttribute:"betweennessCentrality",getEdgeWeight:"weight",normalized:!0};function vT(e,t,r){if(!wk(t))throw new Error("graphology-centrality/beetweenness-centrality: the given graph is not a valid graphology instance.");r=bk(r,Tk);var n=r.nodeCentralityAttribute,i=r.normalized,a=r.getEdgeWeight?Dk(t,r.getEdgeWeight):Sk(t),s=t.order,f,m,_,D,k,U,z,ee,H,K,X=new Float64Array(s),ue=new Float64Array(s);for(U=0;U<s;U++){for(f=a(U),m=f[0],_=f[1],D=f[2],z=m.size;z--;)X[m.items[m.size-z]]=0;for(;m.size!==0;){for(K=m.pop(),k=(1+X[K])/D[K],z=0,ee=_[K].length;z<ee;z++)H=_[K][z],X[H]+=D[H]*k;K!==U&&(ue[K]+=X[K])}}var ce=null;if(i?ce=s<=2?null:1/((s-1)*(s-2)):ce=t.type==="undirected"?.5:null,ce!==null)for(U=0;U<s;U++)ue[U]*=ce;return e?a.index.assign(n,ue):a.index.collect(ue)}var mT=vT.bind(null,!1);mT.assign=vT.bind(null,!0);gT.exports=mT});var bT=fr((aj,wT)=>{var Ak=dy(),yT=Gw(),Nk=f_(),Ck=yT.createUnweightedIndexedBrandes,Ik=yT.createDijkstraIndexedBrandes,xk={edgeCentralityAttribute:"betweennessCentrality",getEdgeWeight:"weight",normalized:!0};function _T(e,t,r){if(!Ak(t))throw new Error("graphology-centrality/edge-beetweenness-centrality: the given graph is not a valid graphology instance.");r=Nk(r,xk);var n=r.edgeCentralityAttribute,i=r.normalized,a=r.getEdgeWeight?Ik(t,r.getEdgeWeight):Ck(t),s=t.order,f,m,_,D,k,U,z,ee,H,K,X,ue,ce=new Float64Array(s),ge={};t.forEachEdge(function(Ie){ge[Ie]=0});var Fe=a.index.nodes;for(U=0;U<s;U++){for(f=a(U),m=f[0],_=f[1],D=f[2],z=m.size;z--;)ce[m.items[m.size-z]]=0;for(;m.size!==0;)for(X=m.pop(),k=(1+ce[X])/D[X],ue=Fe[X],z=0,ee=_[X].length;z<ee;z++){H=_[X][z],K=D[H]*k;var Ne=t.edge(Fe[H],ue);ge[Ne]+=K,ce[H]+=K}}var he=null;return i?he=s<=1?null:1/(s*(s-1)):he=t.type==="undirected"?.5:null,he!==null&&t.forEachEdge(function(Ie){ge[Ie]*=he}),e?t.updateEachEdgeAttributes(function(Ie,_e){return _e[n]=ge[Ie],_e}):ge}var ET=_T.bind(null,!1);ET.assign=_T.bind(null,!0);wT.exports=ET});var IA=fr((Jj,yy)=>{"use strict";var aO=typeof Buffer<"u",TA=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,AA=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function NA(e,t,r){r==null&&t!==null&&typeof t=="object"&&(r=t,t=void 0),aO&&Buffer.isBuffer(e)&&(e=e.toString()),e&&e.charCodeAt(0)===65279&&(e=e.slice(1));let n=JSON.parse(e,t);if(n===null||typeof n!="object")return n;let i=r&&r.protoAction||"error",a=r&&r.constructorAction||"error";if(i==="ignore"&&a==="ignore")return n;if(i!=="ignore"&&a!=="ignore"){if(TA.test(e)===!1&&AA.test(e)===!1)return n}else if(i!=="ignore"&&a==="ignore"){if(TA.test(e)===!1)return n}else if(AA.test(e)===!1)return n;return CA(n,{protoAction:i,constructorAction:a,safe:r&&r.safe})}function CA(e,{protoAction:t="error",constructorAction:r="error",safe:n}={}){let i=[e];for(;i.length;){let a=i;i=[];for(let s of a){if(t!=="ignore"&&Object.prototype.hasOwnProperty.call(s,"__proto__")){if(n===!0)return null;if(t==="error")throw new SyntaxError("Object contains forbidden prototype property");delete s.__proto__}if(r!=="ignore"&&Object.prototype.hasOwnProperty.call(s,"constructor")&&Object.prototype.hasOwnProperty.call(s.constructor,"prototype")){if(n===!0)return null;if(r==="error")throw new SyntaxError("Object contains forbidden prototype property");delete s.constructor}for(let f in s){let m=s[f];m&&typeof m=="object"&&i.push(m)}}}return e}function Ww(e,t,r){let n=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return NA(e,t,r)}finally{Error.stackTraceLimit=n}}function oO(e,t){let r=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return NA(e,t,{safe:!0})}catch{return null}finally{Error.stackTraceLimit=r}}yy.exports=Ww;yy.exports.default=Ww;yy.exports.parse=Ww;yy.exports.safeParse=oO;yy.exports.scan=CA});var b4={};CE(b4,{activate:()=>E4,deactivate:()=>w4});module.exports=gx(b4);var YI=require("vscode");var Nt={};var LT=require("vscode");var $w={};CE($w,{action:()=>yx,diffView:()=>u1,storeApiKey:()=>_x,work:()=>Lk});function yx(){return e=>{typeof e=="function"&&e()}}var IE=require("vscode");function _x(){return async(e,t)=>{let r=await IE.window.showInputBox({prompt:`Enter the ${t}`});r&&(await Nt.ext.secrets.store(e,r),IE.window.showInformationMessage(`${t} stored successfully`))}}var Rf=require("vscode");var Fi=require("vscode"),o2=Pf(LE());var FE=require("crypto");var Fx=128,hg,ey;function Ux(e){!hg||hg.length<e?(hg=Buffer.allocUnsafe(e*Fx),FE.webcrypto.getRandomValues(hg),ey=0):ey+e>hg.length&&(FE.webcrypto.getRandomValues(hg),ey=0),ey+=e}function Bx(e){return Ux(e|=0),hg.subarray(ey-e,ey)}function jx(e,t,r){let n=(2<<31-Math.clz32(e.length-1|1))-1,i=Math.ceil(1.6*n*t/e.length);return(a=t)=>{let s="";for(;;){let f=r(i),m=i;for(;m--;)if(s+=e[f[m]&n]||"",s.length>=a)return s}}}function a2(e,t=21){return jx(e,t,Bx)}var{fs:UE}=Fi.workspace,Gx=a2("1234567890abcdef",10);function Kh(){return Gx()}function ty(){let e=[];for(let t of Fi.window.tabGroups.all.flatMap(r=>r.tabs))t.input instanceof Fi.TabInputText&&e.push(t.input.uri);return e}function Hh(e){return Fi.workspace.getWorkspaceFolder(e)?Fi.workspace.asRelativePath(e):".../"+e.path.split("/").pop()}function Yv(e){let t=Fi.workspace.workspaceFolders,r;if((t==null?void 0:t.length)==1)r=Fi.Uri.joinPath(t[0].uri,e);else if((t==null?void 0:t.length)>1){let[n,...i]=e.split("/");for(let a of t)a.name===n&&(r=Fi.Uri.joinPath(a.uri,...i))}if(r&&Fi.workspace.getWorkspaceFolder(r))return r;for(let n of ty())if(Hh(n)==e)return n;return null}function An(e){let t=typeof e=="string"?Yv(e):e;return t instanceof Fi.Uri?t.with({scheme:"multicoder"}):null}async function pu(e){return new TextDecoder().decode(await UE.readFile(e))}async function kc(e,t){return await UE.writeFile(e,new TextEncoder().encode(t))}async function s2(e=""){let t=Fi.workspace.workspaceFolders;if(!(t!=null&&t.length))return e?[]:ty().map(s=>({name:Hh(s).split("/").pop(),path:Hh(s),uri:s,isFile:!0,isDirectory:!1,isSymbolicLink:!1}));let r=t[0],n=Fi.Uri.joinPath(r.uri,e);if(t.length>1){let[s,...f]=e.split("/");if(!s)return t.map(({name:m,uri:_})=>({name:m,path:m,uri:_,isFile:!1,isDirectory:!0,isSymbolicLink:!1}));if(r=t.find(m=>m.name==s),!r)return[];n=Fi.Uri.joinPath(r.uri,...f)}let i=(0,o2.default)().add([".git",".gitignore"]);try{i.add(await pu(Fi.Uri.joinPath(r.uri,".gitignore")))}catch{}let a=(await UE.readDirectory(n)).map(([s,f])=>({name:s,path:Hh(Fi.Uri.joinPath(n,s)),uri:Fi.Uri.joinPath(n,s),isFile:!!(f&Fi.FileType.File),isDirectory:!!(f&Fi.FileType.Directory),isSymbolicLink:!!(f&Fi.FileType.SymbolicLink)})).filter(({uri:s})=>!i.ignores(Fi.workspace.asRelativePath(s,!1)));return a.sort((s,f)=>s.isFile&&f.isDirectory?1:s.isDirectory&&f.isFile?-1:s.name.localeCompare(f.name)),a}var D2=Pf(S2());var a1="InstrumentationKey=4a0957be-8ce1-4335-8aa5-1fb742355aa5;IngestionEndpoint=https://westeurope-5.in.applicationinsights.azure.com/;LiveEndpoint=https://westeurope.livediagnostics.monitor.azure.com/;ApplicationId=b0fce7b4-deeb-43b7-aa17-e5024c6c504c";function o1(e){return{logUsage(t,r){e.sendTelemetryEvent(t,r)},logError(t,r={}){if(t&&typeof t=="object"){let{name:n="error"}=t;e.sendTelemetryErrorEvent(String(n).toLowerCase(),{...t,...r})}else e.sendTelemetryErrorEvent(String(t).toLowerCase().replace(/\W+/g,"-"),r)}}}function T2(){let e=new D2.default(a1),t=o1(e);Nt.telemetry=t,t.logUsage("activated"),Nt.ext.subscriptions.push(e)}var da=require("vscode");var{fs:Yy}=da.workspace,s1=new TextEncoder,Um=new Map,ry=new Map;function C2(){let e=new WE,t=da.workspace.registerFileSystemProvider("multicoder",e,{isCaseSensitive:!0,isReadonly:!1});Nt.ext.subscriptions.push(t)}function Fm(e){return e.with({scheme:"file"})}function eh(e){return e.path}async function A2(e){try{return await Yy.stat(e)}catch{}}function VE(){let e=Date.now();return{type:da.FileType.File,ctime:e,mtime:e,size:0,content:null}}async function N2(e){if(ty().find(t=>String(t)==String(e))){let t=await da.workspace.openTextDocument(e),r=VE();if(t.isDirty)return r.mtime=Date.now(),r.content=s1.encode(t.getText()),r.size=r.content.length,r}}var WE=class{async stat(t){let r=Um.get(eh(t));if(r||(r=await N2(Fm(t))),!r)return await Yy.stat(Fm(t));if(!r.content)throw da.FileSystemError.FileNotFound(t);return r}async readFile(t){let r=Um.get(eh(t));if(r||(r=await N2(Fm(t))),!r)return await Yy.readFile(Fm(t));if(r.type&da.FileType.Directory)throw da.FileSystemError.FileIsADirectory(t);if(!r.content)throw da.FileSystemError.FileNotFound(t);return r.content}async writeFile(t,r,n){let i=Um.get(eh(t)),a=i&&!!i.content;if(i||(i=await A2(Fm(t)),a=!!i),i||(i=VE()),i.type&da.FileType.Directory)throw da.FileSystemError.FileIsADirectory(t);if(!a&&!n.create)throw da.FileSystemError.FileNotFound(t);if(a&&n.create&&!n.overwrite)throw da.FileSystemError.FileExists(t);i.mtime=Date.now(),i.content=r,i.size=r.length,Um.set(eh(t),i),ry.has(eh(t))&&this._emitter.fire({type:da.FileChangeType.Changed,uri:t})}async readDirectory(t){let r=new Map,n=null;try{let i=Fm(t),a=await Yy.stat(i),s=await Yy.readDirectory(Fm(t));for(let[f,m]of s)r.set(f,m)}catch(i){n=i}for(let[i,a]of Um){let s=i.split("/"),f=s.pop();s.join("/")===t.path&&(a.content!==null?r.set(f,a.type):r.has(f)&&r.delete(f))}if(n&&r.size==0&&t.path.indexOf("/.multicoder")==-1)throw n;return Array.from(r.entries())}async delete(t,r){let n=Um.get(eh(t)),i=n&&!!n.content;if(n||(n=await A2(Fm(t)),i=!!n),!i)throw da.FileSystemError.FileNotFound(t);n||(n=VE()),n.content=null,n.size=0,Um.set(eh(t),n),ry.has(eh(t))&&this._emitter.fire({type:da.FileChangeType.Deleted,uri:t})}rename(t,r,n){}createDirectory(t){}_emitter=new da.EventEmitter;onDidChangeFile=this._emitter.event;watch(t,r){let n={},i=ry.get(eh(t))||new Set;return i.add(n),ry.set(eh(t),i),new da.Disposable(()=>{i.delete(n),i.size||ry.set(eh(t),null)})}};function I2(){Um=new Map,ry=new Map}function u1(){return async(e,t)=>{var z,ee,H;let r=Yv(e),n=An(r),i=e.split("/").pop();try{await Rf.workspace.fs.stat(r)}catch{r=r.with({scheme:"untitled"})}await Rf.workspace.openTextDocument(r),await Rf.commands.executeCommand("vscode.diff",r,n,`${i} - proposed changes`);let a=(ee=(z=Nt.shared)==null?void 0:z.edits)==null?void 0:ee.find(K=>K.id===t),s=Rf.window.activeTextEditor,f=s==null?void 0:s.document,m=(H=f==null?void 0:f.getText())==null?void 0:H.replace(/\r\n/g,`
`);if(!a||!a.search||!s||!f||f.uri.path!==n.path)return;let _=m.indexOf(a.search);if(_==-1)return;let D=m.slice(0,_).split(`
`).length-1,k=a.search.split(`
`).length,U=new Rf.Position(D,0);s.selection=new Rf.Selection(U,U),s.revealRange(new Rf.Range(U,new Rf.Position(D+k,0)))}}var Ym=require("vscode"),zw=Pf(ZS());var RB=require("vscode"),OB=Pf(c_());var DD=require("vscode");var MR=require("vscode"),LR=Pf(c_());var ea=require("vscode"),TT=Pf(c_()),AT=Pf(xw()),NT=Pf(qw()),CT=Pf(bT());var v_=require("vscode"),ST=Pf(LE());async function Yw(e,t=Pk){let r={uri:e,files:[],directories:[],totalCount:0},n=await v_.workspace.fs.readDirectory(e),i=t;for(let[a,s]of n)if(a==".gitignore"&&s==1){let f=await pu(v_.Uri.joinPath(e,a)),m=(0,ST.default)().add([".git",".gitignore"]).add(f),_=e.path.length+1;i=D=>t(D)||m.ignores(D.slice(_))}for(let[a,s]of n){let f=v_.Uri.joinPath(e,a);if(s===1&&!i(f.path))r.files.push({uri:f}),r.totalCount++;else if(s===2&&!i(f.path+"/")){let m=await Yw(f,i);r.directories.push(m),r.totalCount+=m.totalCount}}return r}function Pk(e){return!1}var Rk=[ea.SymbolKind.Function,ea.SymbolKind.Method,ea.SymbolKind.Constructor,ea.SymbolKind.Class],kk=5e3,Ok=5;function IT(e,t,r){let n=ea.workspace.getWorkspaceFolder(e),i=ea.workspace.getWorkspaceFolder(t);if(!n||!i)return 1e4;if(!r.has(e.path)||!r.has(t.path))return 1e3;if(n.uri.path!==i.uri.path)return 100;let a=ea.workspace.asRelativePath(e),s=ea.workspace.asRelativePath(t);if(a==s)return 0;let f=a.split("/"),m=s.split("/"),_=0;for(;_<f.length&&_<m.length&&f[_]===m[_];)_++;return f.length-_+(m.length-_)-1}function DT(e,t,r,n){let i=20+(e.range.end.line-e.range.start.line),a=((t==null?void 0:t.distance)||0)+1,s=20;"uri"in e&&(i=i*2/(1+IT(r.uri,e.uri,n)),a<100&&(s=ea.workspace.asRelativePath(e.uri).split("/").length)),i=i/10**s;let f={incomingWeight:5*i/a,outgoingWeight:1*i/a,distance:a};return"children"in e?f.documentSymbol=e:f.symbol=e,f}async function Mk(e){let t=[],r=await Yw(ea.workspace.getWorkspaceFolder(e).uri);function n(s){t.push(s),s.directories.forEach(n)}n(r);function i(s){let f=s===r?0:ea.workspace.asRelativePath(s.uri).split("/").length;return(50+s.totalCount)/(1+f)}t.sort((s,f)=>i(f)-i(s));let a=new Map;return t.forEach((s,f)=>{let m="";do{let _=f%26;f=(f-_)/26-1,m=String.fromCharCode(65+_)+m}while(f>-1);a.set(s.uri.path,m),s.files.forEach((_,D)=>{a.set(_.uri.path,m+(D+1))})}),a}async function xT(e){let t=[],r=[],n=new Map,i=new TT.DirectedGraph,a=await Mk(e.uri),s=new Map;function f(he){let{start:Ie}=he.selectionRange,_e="uri"in he?he.uri:e.uri,ze=a.get(_e.path);return ze||(ze=s.get(_e.path)),ze||(ze="_"+(s.size+1),s.set(_e.path,ze)),`${ze}#${Ie.line}:${Ie.character}`}function m({name:he,uri:Ie}){return{name:he,path:ea.workspace.getWorkspaceFolder(Ie)?ea.workspace.asRelativePath(Ie):".../"+Ie.path.split("/").pop()}}function _(he,Ie){let _e=f(he),ze=f(Ie),ct=1/(1+IT(he.uri,Ie.uri,a));i.mergeNode(_e,m(he)),i.mergeNode(ze,m(Ie)),i.mergeEdge(_e,ze,{weight:ct})}function D(he,Ie){if(!Rk.includes(he.kind))return;let _e=DT(he,Ie,e,a),ze=f(he);t.push(_e),r.push(_e),n.set(ze,_e),he.children.forEach(ct=>D(ct,he))}function k(he,Ie){let _e=f(he),ze=n.get(_e);if(ze){ze.symbol||(ze.symbol=he);return}ze=DT(he,Ie,e,a),t.push(ze),r.push(ze),n.set(_e,ze)}async function U(he,Ie){if(he.symbol||he.symbol===null){if(he.symbol&&ea.workspace.getWorkspaceFolder(he.symbol.uri)){let gr=ea.workspace.asRelativePath(he.symbol.uri);console.log(gr.split("/").length,gr)}return}he.symbol=null;let _e=he.documentSymbol.selectionRange.start,ze=await ea.commands.executeCommand("vscode.prepareCallHierarchy",e.uri,_e),ct=Array.isArray(ze)?ze:[ze];for(let gr of ct)gr.selectionRange.start.isEqual(_e)&&(he.symbol=gr)}async function z(he){if(await U(he,"in"),!!he.symbol)try{let Ie=await ea.commands.executeCommand("vscode.provideIncomingCalls",he.symbol);for(let _e of Ie)k(_e.from,he),_(_e.from,he.symbol)}catch(Ie){console.log(he.symbol),console.log(Ie);return}}async function ee(he){if(await U(he,"out"),!!he.symbol)try{let Ie=await ea.commands.executeCommand("vscode.provideOutgoingCalls",he.symbol);for(let _e of Ie)k(_e.to,he),_(he.symbol,_e.to)}catch(Ie){console.log(he.symbol),console.log(Ie);return}}async function H({symbol:he}){if(he.kind!=ea.SymbolKind.Function)return;let Ie=he.uri,_e=he.selectionRange.start,ze=await ea.commands.executeCommand("vscode.executeReferenceProvider",Ie,_e);for(let ct of ze)if(ct.uri.path!=Ie.path||!ct.range.start.isEqual(_e)){let gr=[];n.forEach(({symbol:Tr})=>{Tr&&Tr.uri.path==ct.uri.path&&Tr.range.contains(ct.range)&&gr.push(Tr)}),gr.sort((Tr,kt)=>kt.range.end.line-kt.range.start.line-Tr.range.end.line+Tr.range.start.line),gr.length&&_(gr[0],he)}}let K=await ea.commands.executeCommand("vscode.executeDocumentSymbolProvider",e.uri);if(K)for(let he of K)D(he,null);let X=!1,ue=new Promise(he=>setTimeout(he,kk)).then(()=>X=!0),ce=[];async function ge(){var he;t.sort((Ie,_e)=>_e.incomingWeight-Ie.incomingWeight),r.sort((Ie,_e)=>_e.outgoingWeight-Ie.outgoingWeight),t.length&&t[0].incomingWeight>=(((he=r[0])==null?void 0:he.outgoingWeight)||0)?await z(t.shift()):r.length&&await ee(r.shift())}async function Fe(){for(;!X&&(t.length||r.length);)await ge()}for(let he=0;he<Ok;he++)await ge(),ce.push(Fe());await Promise.race([ue,Promise.all(ce)]);let Ne=i.filterNodes(he=>!i.inDegree(he));for(let he of Ne)X||await H(n.get(he));return NT.default.assign(i,{getEdgeWeight:"weight",nodeCentralityAttribute:"betweenness"}),CT.default.assign(i,{getEdgeWeight:"weight",edgeCentralityAttribute:"betweenness"}),AT.default.assign(i,{getEdgeWeight:"weight"}),i}var PT=Pf(c_()),RT=Pf(xw()),kT=Pf(qw());function OT(e){let t=new PT.DirectedGraph;return e.forEachNode((r,{path:n})=>{let i=r.split("#")[0];if(!i.startsWith("_"))if(!t.hasNode(i))t.addNode(i,{path:n,count:1});else{let a=t.getNodeAttributes(i);a.count++}}),e.forEachEdge((r,{weight:n},i,a)=>{let s=i.split("#")[0],f=a.split("#")[0];s.startsWith("_")||f.startsWith("_")||s==f||(t.hasEdge(s,f)?t.getEdgeAttributes(s,f).weight+=n:t.addEdge(s,f,{weight:n}))}),kT.default.assign(t,{getEdgeWeight:"weight",nodeCentralityAttribute:"betweenness"}),RT.default.assign(t,{getEdgeWeight:"weight"}),t}async function MT(){let{document:e}=Ym.window.activeTextEditor,t=Date.now(),r=e.uri,n=An(r),i=await xT(e),a=Date.now();console.log("TIME:",a-t);let s=zw.write(i),f=Ym.Uri.joinPath(Ym.workspace.getWorkspaceFolder(r).uri,"graph-calls.gexf");await kc(f,s);let m=OT(i),_=zw.write(m),D=Ym.Uri.joinPath(Ym.workspace.getWorkspaceFolder(r).uri,"graph-files.gexf");await kc(D,_)}function Lk(){return()=>{MT()}}function FT(){Object.entries($w).forEach(([e,t])=>{let r=LT.commands.registerCommand(`multicoder.${e}`,t());Nt.ext.subscriptions.push(r)})}var My=require("vscode");var UT="vercel.ai.error",Fk=Symbol.for(UT),BT,Uk=class jT extends Error{constructor({name:t,message:r,cause:n}){super(r),this[BT]=!0,this.name=t,this.cause=n}static isInstance(t){return jT.hasMarker(t,UT)}static hasMarker(t,r){let n=Symbol.for(r);return t!=null&&typeof t=="object"&&n in t&&typeof t[n]=="boolean"&&t[n]===!0}};BT=Fk;var Qt=Uk,GT="AI_APICallError",qT=`vercel.ai.error.${GT}`,Bk=Symbol.for(qT),YT,Zl=class extends Qt{constructor({message:e,url:t,requestBodyValues:r,statusCode:n,responseHeaders:i,responseBody:a,cause:s,isRetryable:f=n!=null&&(n===408||n===409||n===429||n>=500),data:m}){super({name:GT,message:e,cause:s}),this[YT]=!0,this.url=t,this.requestBodyValues=r,this.statusCode=n,this.responseHeaders=i,this.responseBody=a,this.isRetryable=f,this.data=m}static isInstance(e){return Qt.hasMarker(e,qT)}};YT=Bk;var zT="AI_EmptyResponseBodyError",$T=`vercel.ai.error.${zT}`,jk=Symbol.for($T),VT,WT=class extends Qt{constructor({message:e="Empty response body"}={}){super({name:zT,message:e}),this[VT]=!0}static isInstance(e){return Qt.hasMarker(e,$T)}};VT=jk;function zm(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var HT="AI_InvalidArgumentError",KT=`vercel.ai.error.${HT}`,Gk=Symbol.for(KT),JT,ZT=class extends Qt{constructor({message:e,cause:t,argument:r}){super({name:HT,message:e,cause:t}),this[JT]=!0,this.argument=r}static isInstance(e){return Qt.hasMarker(e,KT)}};JT=Gk;var XT="AI_InvalidPromptError",QT=`vercel.ai.error.${XT}`,qk=Symbol.for(QT),eA,Xv=class extends Qt{constructor({prompt:e,message:t,cause:r}){super({name:XT,message:`Invalid prompt: ${t}`,cause:r}),this[eA]=!0,this.prompt=e}static isInstance(e){return Qt.hasMarker(e,QT)}};eA=qk;var tA="AI_InvalidResponseDataError",rA=`vercel.ai.error.${tA}`,Yk=Symbol.for(rA),nA,O0=class extends Qt{constructor({data:e,message:t=`Invalid response data: ${JSON.stringify(e)}.`}){super({name:tA,message:t}),this[nA]=!0,this.data=e}static isInstance(e){return Qt.hasMarker(e,rA)}};nA=Yk;var iA="AI_JSONParseError",aA=`vercel.ai.error.${iA}`,zk=Symbol.for(aA),oA,m_=class extends Qt{constructor({text:e,cause:t}){super({name:iA,message:`JSON parsing failed: Text: ${e}.
Error message: ${zm(t)}`,cause:t}),this[oA]=!0,this.text=e}static isInstance(e){return Qt.hasMarker(e,aA)}};oA=zk;var sA="AI_LoadAPIKeyError",uA=`vercel.ai.error.${sA}`,$k=Symbol.for(uA),cA,g_=class extends Qt{constructor({message:e}){super({name:sA,message:e}),this[cA]=!0}static isInstance(e){return Qt.hasMarker(e,uA)}};cA=$k;var Vk="AI_LoadSettingError",Wk=`vercel.ai.error.${Vk}`,Hk=Symbol.for(Wk),Kk;Kk=Hk;var Jk="AI_NoContentGeneratedError",Zk=`vercel.ai.error.${Jk}`,Xk=Symbol.for(Zk),Qk;Qk=Xk;var fA="AI_NoSuchModelError",lA=`vercel.ai.error.${fA}`,eO=Symbol.for(lA),dA,pA=class extends Qt{constructor({errorName:e=fA,modelId:t,modelType:r,message:n=`No such ${r}: ${t}`}){super({name:e,message:n}),this[dA]=!0,this.modelId=t,this.modelType=r}static isInstance(e){return Qt.hasMarker(e,lA)}};dA=eO;var hA="AI_TooManyEmbeddingValuesForCallError",vA=`vercel.ai.error.${hA}`,tO=Symbol.for(vA),mA,gA=class extends Qt{constructor(e){super({name:hA,message:`Too many values for a single embedding call. The ${e.provider} model "${e.modelId}" can only embed up to ${e.maxEmbeddingsPerCall} values per call, but ${e.values.length} values were provided.`}),this[mA]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return Qt.hasMarker(e,vA)}};mA=tO;var yA="AI_TypeValidationError",_A=`vercel.ai.error.${yA}`,rO=Symbol.for(_A),EA,nO=class Vw extends Qt{constructor({value:t,cause:r}){super({name:yA,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${zm(r)}`,cause:r}),this[EA]=!0,this.value=t}static isInstance(t){return Qt.hasMarker(t,_A)}static wrap({value:t,cause:r}){return Vw.isInstance(r)&&r.value===t?r:new Vw({value:t,cause:r})}};EA=rO;var gy=nO,wA="AI_UnsupportedFunctionalityError",bA=`vercel.ai.error.${wA}`,iO=Symbol.for(bA),SA,Qn=class extends Qt{constructor({functionality:e}){super({name:wA,message:`'${e}' functionality not supported.`}),this[SA]=!0,this.functionality=e}static isInstance(e){return Qt.hasMarker(e,bA)}};SA=iO;var DA=(e,t=21)=>(r=t)=>{let n="",i=r|0;for(;i--;)n+=e[Math.random()*e.length|0];return n};var j0=Pf(IA(),1);var sO=Object.defineProperty,uO=(e,t,r)=>t in e?sO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,M0=(e,t,r)=>uO(e,typeof t!="symbol"?t+"":t,r),L0=class extends Error{constructor(t,r){super(t),M0(this,"type"),M0(this,"field"),M0(this,"value"),M0(this,"line"),this.name="ParseError",this.type=r.type,this.field=r.field,this.value=r.value,this.line=r.line}};function Hw(e){}function xA(e){let{onEvent:t=Hw,onError:r=Hw,onRetry:n=Hw,onComment:i}=e,a="",s=!0,f,m="",_="";function D(H){let K=s?H.replace(/^\xEF\xBB\xBF/,""):H,[X,ue]=cO(`${a}${K}`);for(let ce of X)k(ce);a=ue,s=!1}function k(H){if(H===""){z();return}if(H.startsWith(":")){i&&i(H.slice(H.startsWith(": ")?2:1));return}let K=H.indexOf(":");if(K!==-1){let X=H.slice(0,K),ue=H[K+1]===" "?2:1,ce=H.slice(K+ue);U(X,ce,H);return}U(H,"",H)}function U(H,K,X){switch(H){case"event":_=K;break;case"data":m=`${m}${K}
`;break;case"id":f=K.includes("\0")?void 0:K;break;case"retry":/^\d+$/.test(K)?n(parseInt(K,10)):r(new L0(`Invalid \`retry\` value: "${K}"`,{type:"invalid-retry",value:K,line:X}));break;default:r(new L0(`Unknown field "${H.length>20?`${H.slice(0,20)}\u2026`:H}"`,{type:"unknown-field",field:H,value:K,line:X}));break}}function z(){m.length>0&&t({id:f,event:_||void 0,data:m.endsWith(`
`)?m.slice(0,-1):m}),f=void 0,m="",_=""}function ee(H={}){a&&H.consume&&k(a),f=void 0,m="",_="",a=""}return{feed:D,reset:ee}}function cO(e){let t=[],r="",n=e.length;for(let i=0;i<n;i++){let a=e[i];a==="\r"&&e[i+1]===`
`?(t.push(r),r="",i++):a==="\r"||a===`
`?(t.push(r),r=""):r+=a}return[t,r]}var F0=class extends TransformStream{constructor({onError:t,onRetry:r,onComment:n}={}){let i;super({start(a){i=xA({onEvent:s=>{a.enqueue(s)},onError(s){t==="terminate"?a.error(s):typeof t=="function"&&t(s)},onRetry:r,onComment:n})},transform(a){i.feed(a)}})}};function np(...e){return e.reduce((t,r)=>({...t,...r??{}}),{})}function PA(e){return new ReadableStream({async pull(t){try{let{value:r,done:n}=await e.next();n?t.close():t.enqueue(r)}catch(r){t.error(r)}},cancel(){}})}function U0(e){let t={};return e.headers.forEach((r,n)=>{t[n]=r}),t}var Qv=({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{let i=DA(r,t);if(e==null)return i;if(r.includes(n))throw new ZT({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return a=>`${e}${n}${i(a)}`},em=Qv();function RA(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}function y_(e){return e instanceof Error&&(e.name==="AbortError"||e.name==="TimeoutError")}function B0({apiKey:e,environmentVariableName:t,apiKeyParameterName:r="apiKey",description:n}){if(typeof e=="string")return e;if(e!=null)throw new g_({message:`${n} API key must be a string.`});if(typeof process>"u")throw new g_({message:`${n} API key is missing. Pass it using the '${r}' parameter. Environment variables is not supported in this environment.`});if(e=process.env[t],e==null)throw new g_({message:`${n} API key is missing. Pass it using the '${r}' parameter or the ${t} environment variable.`});if(typeof e!="string")throw new g_({message:`${n} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}var __=Symbol.for("vercel.ai.validator");function fO(e){return{[__]:!0,validate:e}}function lO(e){return typeof e=="object"&&e!==null&&__ in e&&e[__]===!0&&"validate"in e}function dO(e){return lO(e)?e:pO(e)}function pO(e){return fO(t=>{let r=e.safeParse(t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}})}function hO({value:e,schema:t}){let r=$m({value:e,schema:t});if(!r.success)throw gy.wrap({value:e,cause:r.error});return r.value}function $m({value:e,schema:t}){let r=dO(t);try{if(r.validate==null)return{success:!0,value:e};let n=r.validate(e);return n.success?n:{success:!1,error:gy.wrap({value:e,cause:n.error})}}catch(n){return{success:!1,error:gy.wrap({value:e,cause:n})}}}function vO({text:e,schema:t}){try{let r=j0.default.parse(e);return t==null?r:hO({value:r,schema:t})}catch(r){throw m_.isInstance(r)||gy.isInstance(r)?r:new m_({text:e,cause:r})}}function yg({text:e,schema:t}){try{let r=j0.default.parse(e);return t==null?{success:!0,value:r}:$m({value:r,schema:t})}catch(r){return{success:!1,error:m_.isInstance(r)?r:new m_({text:e,cause:r})}}}function Kw(e){try{return j0.default.parse(e),!0}catch{return!1}}function mO(e){return Object.fromEntries(Object.entries(e).filter(([t,r])=>r!=null))}var gO=()=>globalThis.fetch,Xl=async({url:e,headers:t,body:r,failedResponseHandler:n,successfulResponseHandler:i,abortSignal:a,fetch:s})=>yO({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(r),values:r},failedResponseHandler:n,successfulResponseHandler:i,abortSignal:a,fetch:s}),yO=async({url:e,headers:t={},body:r,successfulResponseHandler:n,failedResponseHandler:i,abortSignal:a,fetch:s=gO()})=>{try{let f=await s(e,{method:"POST",headers:mO(t),body:r.content,signal:a}),m=U0(f);if(!f.ok){let _;try{_=await i({response:f,url:e,requestBodyValues:r.values})}catch(D){throw y_(D)||Zl.isInstance(D)?D:new Zl({message:"Failed to process error response",cause:D,statusCode:f.status,url:e,responseHeaders:m,requestBodyValues:r.values})}throw _.value}try{return await n({response:f,url:e,requestBodyValues:r.values})}catch(_){throw _ instanceof Error&&(y_(_)||Zl.isInstance(_))?_:new Zl({message:"Failed to process successful response",cause:_,statusCode:f.status,url:e,responseHeaders:m,requestBodyValues:r.values})}}catch(f){if(y_(f))throw f;if(f instanceof TypeError&&f.message==="fetch failed"){let m=f.cause;if(m!=null)throw new Zl({message:`Cannot connect to API: ${m.message}`,cause:m,url:e,requestBodyValues:r.values,isRetryable:!0})}throw f}};async function kA(e){return typeof e=="function"&&(e=e()),Promise.resolve(e)}var G0=({errorSchema:e,errorToMessage:t,isRetryable:r})=>async({response:n,url:i,requestBodyValues:a})=>{let s=await n.text(),f=U0(n);if(s.trim()==="")return{responseHeaders:f,value:new Zl({message:n.statusText,url:i,requestBodyValues:a,statusCode:n.status,responseHeaders:f,responseBody:s,isRetryable:r==null?void 0:r(n)})};try{let m=vO({text:s,schema:e});return{responseHeaders:f,value:new Zl({message:t(m),url:i,requestBodyValues:a,statusCode:n.status,responseHeaders:f,responseBody:s,data:m,isRetryable:r==null?void 0:r(n,m)})}}catch{return{responseHeaders:f,value:new Zl({message:n.statusText,url:i,requestBodyValues:a,statusCode:n.status,responseHeaders:f,responseBody:s,isRetryable:r==null?void 0:r(n)})}}},_y=e=>async({response:t})=>{let r=U0(t);if(t.body==null)throw new WT({});return{responseHeaders:r,value:t.body.pipeThrough(new TextDecoderStream).pipeThrough(new F0).pipeThrough(new TransformStream({transform({data:n},i){n!=="[DONE]"&&i.enqueue(yg({text:n,schema:e}))}}))}};var iv=e=>async({response:t,url:r,requestBodyValues:n})=>{let i=await t.text(),a=yg({text:i,schema:e}),s=U0(t);if(!a.success)throw new Zl({message:"Invalid JSON response",cause:a.error,statusCode:t.status,responseHeaders:s,responseBody:i,url:r,requestBodyValues:n});return{responseHeaders:s,value:a.value}},{btoa:_O,atob:EO}=globalThis;function OA(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r=EO(t);return Uint8Array.from(r,n=>n.codePointAt(0))}function _g(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCodePoint(e[r]);return _O(t)}function q0(e){return e==null?void 0:e.replace(/\/$/,"")}var _n;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function r(i){throw new Error}e.assertNever=r,e.arrayToEnum=i=>{let a={};for(let s of i)a[s]=s;return a},e.getValidEnumValues=i=>{let a=e.objectKeys(i).filter(f=>typeof i[i[f]]!="number"),s={};for(let f of a)s[f]=i[f];return e.objectValues(s)},e.objectValues=i=>e.objectKeys(i).map(function(a){return i[a]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let a=[];for(let s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},e.find=(i,a)=>{for(let s of i)if(a(s))return s},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}e.joinValues=n,e.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(_n||(_n={}));var Zw;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Zw||(Zw={}));var Tt=_n.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),rm=e=>{switch(typeof e){case"undefined":return Tt.undefined;case"string":return Tt.string;case"number":return isNaN(e)?Tt.nan:Tt.number;case"boolean":return Tt.boolean;case"function":return Tt.function;case"bigint":return Tt.bigint;case"symbol":return Tt.symbol;case"object":return Array.isArray(e)?Tt.array:e===null?Tt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Tt.promise:typeof Map<"u"&&e instanceof Map?Tt.map:typeof Set<"u"&&e instanceof Set?Tt.set:typeof Date<"u"&&e instanceof Date?Tt.date:Tt.object;default:return Tt.unknown}},Ke=_n.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),wO=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),Ql=class e extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){let r=t||function(a){return a.message},n={_errors:[]},i=a=>{for(let s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let f=n,m=0;for(;m<s.path.length;){let _=s.path[m];m===s.path.length-1?(f[_]=f[_]||{_errors:[]},f[_]._errors.push(r(s))):f[_]=f[_]||{_errors:[]},f=f[_],m++}}};return i(this),n}static assert(t){if(!(t instanceof e))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,_n.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){let r={},n=[];for(let i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};Ql.create=e=>new Ql(e);var by=(e,t)=>{let r;switch(e.code){case Ke.invalid_type:e.received===Tt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Ke.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,_n.jsonStringifyReplacer)}`;break;case Ke.unrecognized_keys:r=`Unrecognized key(s) in object: ${_n.joinValues(e.keys,", ")}`;break;case Ke.invalid_union:r="Invalid input";break;case Ke.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${_n.joinValues(e.options)}`;break;case Ke.invalid_enum_value:r=`Invalid enum value. Expected ${_n.joinValues(e.options)}, received '${e.received}'`;break;case Ke.invalid_arguments:r="Invalid function arguments";break;case Ke.invalid_return_type:r="Invalid function return type";break;case Ke.invalid_date:r="Invalid date";break;case Ke.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:_n.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Ke.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Ke.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Ke.custom:r="Invalid input";break;case Ke.invalid_intersection_types:r="Intersection results could not be merged";break;case Ke.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Ke.not_finite:r="Number must be finite";break;default:r=t.defaultError,_n.assertNever(e)}return{message:r}},FA=by;function bO(e){FA=e}function Y0(){return FA}var z0=e=>{let{data:t,path:r,errorMaps:n,issueData:i}=e,a=[...r,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let f="",m=n.filter(_=>!!_).slice().reverse();for(let _ of m)f=_(s,{data:t,defaultError:f}).message;return{...i,path:a,message:f}},SO=[];function dt(e,t){let r=Y0(),n=z0({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===by?void 0:by].filter(i=>!!i)});e.common.issues.push(n)}var Hu=class e{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){let n=[];for(let i of r){if(i.status==="aborted")return Dr;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){let n=[];for(let i of r){let a=await i.key,s=await i.value;n.push({key:a,value:s})}return e.mergeObjectSync(t,n)}static mergeObjectSync(t,r){let n={};for(let i of r){let{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return Dr;a.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[a.value]=s.value)}return{status:t.value,value:n}}},Dr=Object.freeze({status:"aborted"}),wy=e=>({status:"dirty",value:e}),Oc=e=>({status:"valid",value:e}),Xw=e=>e.status==="aborted",Qw=e=>e.status==="dirty",Eg=e=>e.status==="valid",b_=e=>typeof Promise<"u"&&e instanceof Promise;function $0(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function UA(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}var jt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(jt||(jt={}));var E_,w_,ip=class{constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},MA=(e,t)=>{if(Eg(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new Ql(e.common.issues);return this._error=r,this._error}}};function jr(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(s,f)=>{var m,_;let{message:D}=e;return s.code==="invalid_enum_value"?{message:D??f.defaultError}:typeof f.data>"u"?{message:(m=D??n)!==null&&m!==void 0?m:f.defaultError}:s.code!=="invalid_type"?{message:f.defaultError}:{message:(_=D??r)!==null&&_!==void 0?_:f.defaultError}},description:i}}var Gr=class{get description(){return this._def.description}_getType(t){return rm(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:rm(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new Hu,ctx:{common:t.parent.common,data:t.data,parsedType:rm(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let r=this._parse(t);if(b_(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){let r=this._parse(t);return Promise.resolve(r)}parse(t,r){let n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;let i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:rm(t)},a=this._parseSync({data:t,path:i.path,parent:i});return MA(i,a)}"~validate"(t){var r,n;let i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:rm(t)};if(!this["~standard"].async)try{let a=this._parseSync({data:t,path:[],parent:i});return Eg(a)?{value:a.value}:{issues:i.common.issues}}catch(a){!((n=(r=a==null?void 0:a.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:i}).then(a=>Eg(a)?{value:a.value}:{issues:i.common.issues})}async parseAsync(t,r){let n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){let n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:rm(t)},i=this._parse({data:t,path:n.path,parent:n}),a=await(b_(i)?i:Promise.resolve(i));return MA(n,a)}refine(t,r){let n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{let s=t(i),f=()=>a.addIssue({code:Ke.custom,...n(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(m=>m?!0:(f(),!1)):s?!0:(f(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new ed({schema:this,typeName:Qe.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Lf.create(this,this._def)}nullable(){return ov.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return im.create(this)}promise(){return Hm.create(this,this._def)}or(t){return Ng.create([this,t],this._def)}and(t){return Cg.create(this,t,this._def)}transform(t){return new ed({...jr(this._def),schema:this,typeName:Qe.ZodEffects,effect:{type:"transform",transform:t}})}default(t){let r=typeof t=="function"?t:()=>t;return new kg({...jr(this._def),innerType:this,defaultValue:r,typeName:Qe.ZodDefault})}brand(){return new S_({typeName:Qe.ZodBranded,type:this,...jr(this._def)})}catch(t){let r=typeof t=="function"?t:()=>t;return new Og({...jr(this._def),innerType:this,catchValue:r,typeName:Qe.ZodCatch})}describe(t){let r=this.constructor;return new r({...this._def,description:t})}pipe(t){return D_.create(this,t)}readonly(){return Mg.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},DO=/^c[^\s-]{8,}$/i,TO=/^[0-9a-z]+$/,AO=/^[0-9A-HJKMNP-TV-Z]{26}$/i,NO=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,CO=/^[a-z0-9_-]{21}$/i,IO=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,xO=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,PO=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,RO="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Jw,kO=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,OO=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,MO=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,LO=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,FO=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,UO=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,BA="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",BO=new RegExp(`^${BA}$`);function jA(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function jO(e){return new RegExp(`^${jA(e)}$`)}function GA(e){let t=`${BA}T${jA(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function GO(e,t){return!!((t==="v4"||!t)&&kO.test(e)||(t==="v6"||!t)&&MO.test(e))}function qO(e,t){if(!IO.test(e))return!1;try{let[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||!i.typ||!i.alg||t&&i.alg!==t)}catch{return!1}}function YO(e,t){return!!((t==="v4"||!t)&&OO.test(e)||(t==="v6"||!t)&&LO.test(e))}var Vm=class e extends Gr{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Tt.string){let a=this._getOrReturnCtx(t);return dt(a,{code:Ke.invalid_type,expected:Tt.string,received:a.parsedType}),Dr}let n=new Hu,i;for(let a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(i=this._getOrReturnCtx(t,i),dt(i,{code:Ke.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(i=this._getOrReturnCtx(t,i),dt(i,{code:Ke.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){let s=t.data.length>a.value,f=t.data.length<a.value;(s||f)&&(i=this._getOrReturnCtx(t,i),s?dt(i,{code:Ke.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):f&&dt(i,{code:Ke.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")PO.test(t.data)||(i=this._getOrReturnCtx(t,i),dt(i,{validation:"email",code:Ke.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Jw||(Jw=new RegExp(RO,"u")),Jw.test(t.data)||(i=this._getOrReturnCtx(t,i),dt(i,{validation:"emoji",code:Ke.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")NO.test(t.data)||(i=this._getOrReturnCtx(t,i),dt(i,{validation:"uuid",code:Ke.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")CO.test(t.data)||(i=this._getOrReturnCtx(t,i),dt(i,{validation:"nanoid",code:Ke.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")DO.test(t.data)||(i=this._getOrReturnCtx(t,i),dt(i,{validation:"cuid",code:Ke.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")TO.test(t.data)||(i=this._getOrReturnCtx(t,i),dt(i,{validation:"cuid2",code:Ke.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")AO.test(t.data)||(i=this._getOrReturnCtx(t,i),dt(i,{validation:"ulid",code:Ke.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),dt(i,{validation:"url",code:Ke.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),dt(i,{validation:"regex",code:Ke.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(t,i),dt(i,{code:Ke.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(i=this._getOrReturnCtx(t,i),dt(i,{code:Ke.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(i=this._getOrReturnCtx(t,i),dt(i,{code:Ke.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?GA(a).test(t.data)||(i=this._getOrReturnCtx(t,i),dt(i,{code:Ke.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?BO.test(t.data)||(i=this._getOrReturnCtx(t,i),dt(i,{code:Ke.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?jO(a).test(t.data)||(i=this._getOrReturnCtx(t,i),dt(i,{code:Ke.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?xO.test(t.data)||(i=this._getOrReturnCtx(t,i),dt(i,{validation:"duration",code:Ke.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?GO(t.data,a.version)||(i=this._getOrReturnCtx(t,i),dt(i,{validation:"ip",code:Ke.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?qO(t.data,a.alg)||(i=this._getOrReturnCtx(t,i),dt(i,{validation:"jwt",code:Ke.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?YO(t.data,a.version)||(i=this._getOrReturnCtx(t,i),dt(i,{validation:"cidr",code:Ke.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?FO.test(t.data)||(i=this._getOrReturnCtx(t,i),dt(i,{validation:"base64",code:Ke.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?UO.test(t.data)||(i=this._getOrReturnCtx(t,i),dt(i,{validation:"base64url",code:Ke.invalid_string,message:a.message}),n.dirty()):_n.assertNever(a);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:Ke.invalid_string,...jt.errToObj(n)})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...jt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...jt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...jt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...jt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...jt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...jt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...jt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...jt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...jt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...jt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...jt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...jt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...jt.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...jt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...jt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...jt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...jt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...jt.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...jt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...jt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...jt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...jt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...jt.errToObj(r)})}nonempty(t){return this.min(1,jt.errToObj(t))}trim(){return new e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};Vm.create=e=>{var t;return new Vm({checks:[],typeName:Qe.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...jr(e)})};function zO(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,a=parseInt(e.toFixed(i).replace(".","")),s=parseInt(t.toFixed(i).replace(".",""));return a%s/Math.pow(10,i)}var wg=class e extends Gr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Tt.number){let a=this._getOrReturnCtx(t);return dt(a,{code:Ke.invalid_type,expected:Tt.number,received:a.parsedType}),Dr}let n,i=new Hu;for(let a of this._def.checks)a.kind==="int"?_n.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),dt(n,{code:Ke.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),dt(n,{code:Ke.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),dt(n,{code:Ke.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?zO(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),dt(n,{code:Ke.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),dt(n,{code:Ke.not_finite,message:a.message}),i.dirty()):_n.assertNever(a);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,jt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,jt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,jt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,jt.toString(r))}setLimit(t,r,n,i){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:jt.toString(i)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:jt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:jt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:jt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:jt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:jt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:jt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:jt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:jt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:jt.toString(t)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&_n.isInteger(t.value))}get isFinite(){let t=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}};wg.create=e=>new wg({checks:[],typeName:Qe.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...jr(e)});var bg=class e extends Gr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Tt.bigint)return this._getInvalidInput(t);let n,i=new Hu;for(let a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),dt(n,{code:Ke.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),dt(n,{code:Ke.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),dt(n,{code:Ke.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):_n.assertNever(a);return{status:i.value,value:t.data}}_getInvalidInput(t){let r=this._getOrReturnCtx(t);return dt(r,{code:Ke.invalid_type,expected:Tt.bigint,received:r.parsedType}),Dr}gte(t,r){return this.setLimit("min",t,!0,jt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,jt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,jt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,jt.toString(r))}setLimit(t,r,n,i){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:jt.toString(i)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:jt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:jt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:jt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:jt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:jt.toString(r)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};bg.create=e=>{var t;return new bg({checks:[],typeName:Qe.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...jr(e)})};var Sg=class extends Gr{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Tt.boolean){let n=this._getOrReturnCtx(t);return dt(n,{code:Ke.invalid_type,expected:Tt.boolean,received:n.parsedType}),Dr}return Oc(t.data)}};Sg.create=e=>new Sg({typeName:Qe.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...jr(e)});var Dg=class e extends Gr{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Tt.date){let a=this._getOrReturnCtx(t);return dt(a,{code:Ke.invalid_type,expected:Tt.date,received:a.parsedType}),Dr}if(isNaN(t.data.getTime())){let a=this._getOrReturnCtx(t);return dt(a,{code:Ke.invalid_date}),Dr}let n=new Hu,i;for(let a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(i=this._getOrReturnCtx(t,i),dt(i,{code:Ke.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(i=this._getOrReturnCtx(t,i),dt(i,{code:Ke.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):_n.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:jt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:jt.toString(r)})}get minDate(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}};Dg.create=e=>new Dg({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:Qe.ZodDate,...jr(e)});var Sy=class extends Gr{_parse(t){if(this._getType(t)!==Tt.symbol){let n=this._getOrReturnCtx(t);return dt(n,{code:Ke.invalid_type,expected:Tt.symbol,received:n.parsedType}),Dr}return Oc(t.data)}};Sy.create=e=>new Sy({typeName:Qe.ZodSymbol,...jr(e)});var Tg=class extends Gr{_parse(t){if(this._getType(t)!==Tt.undefined){let n=this._getOrReturnCtx(t);return dt(n,{code:Ke.invalid_type,expected:Tt.undefined,received:n.parsedType}),Dr}return Oc(t.data)}};Tg.create=e=>new Tg({typeName:Qe.ZodUndefined,...jr(e)});var Ag=class extends Gr{_parse(t){if(this._getType(t)!==Tt.null){let n=this._getOrReturnCtx(t);return dt(n,{code:Ke.invalid_type,expected:Tt.null,received:n.parsedType}),Dr}return Oc(t.data)}};Ag.create=e=>new Ag({typeName:Qe.ZodNull,...jr(e)});var Wm=class extends Gr{constructor(){super(...arguments),this._any=!0}_parse(t){return Oc(t.data)}};Wm.create=e=>new Wm({typeName:Qe.ZodAny,...jr(e)});var nm=class extends Gr{constructor(){super(...arguments),this._unknown=!0}_parse(t){return Oc(t.data)}};nm.create=e=>new nm({typeName:Qe.ZodUnknown,...jr(e)});var nh=class extends Gr{_parse(t){let r=this._getOrReturnCtx(t);return dt(r,{code:Ke.invalid_type,expected:Tt.never,received:r.parsedType}),Dr}};nh.create=e=>new nh({typeName:Qe.ZodNever,...jr(e)});var Dy=class extends Gr{_parse(t){if(this._getType(t)!==Tt.undefined){let n=this._getOrReturnCtx(t);return dt(n,{code:Ke.invalid_type,expected:Tt.void,received:n.parsedType}),Dr}return Oc(t.data)}};Dy.create=e=>new Dy({typeName:Qe.ZodVoid,...jr(e)});var im=class e extends Gr{_parse(t){let{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==Tt.array)return dt(r,{code:Ke.invalid_type,expected:Tt.array,received:r.parsedType}),Dr;if(i.exactLength!==null){let s=r.data.length>i.exactLength.value,f=r.data.length<i.exactLength.value;(s||f)&&(dt(r,{code:s?Ke.too_big:Ke.too_small,minimum:f?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(dt(r,{code:Ke.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(dt(r,{code:Ke.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,f)=>i.type._parseAsync(new ip(r,s,r.path,f)))).then(s=>Hu.mergeArray(n,s));let a=[...r.data].map((s,f)=>i.type._parseSync(new ip(r,s,r.path,f)));return Hu.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new e({...this._def,minLength:{value:t,message:jt.toString(r)}})}max(t,r){return new e({...this._def,maxLength:{value:t,message:jt.toString(r)}})}length(t,r){return new e({...this._def,exactLength:{value:t,message:jt.toString(r)}})}nonempty(t){return this.min(1,t)}};im.create=(e,t)=>new im({type:e,minLength:null,maxLength:null,exactLength:null,typeName:Qe.ZodArray,...jr(t)});function Ey(e){if(e instanceof Ff){let t={};for(let r in e.shape){let n=e.shape[r];t[r]=Lf.create(Ey(n))}return new Ff({...e._def,shape:()=>t})}else return e instanceof im?new im({...e._def,type:Ey(e.element)}):e instanceof Lf?Lf.create(Ey(e.unwrap())):e instanceof ov?ov.create(Ey(e.unwrap())):e instanceof av?av.create(e.items.map(t=>Ey(t))):e}var Ff=class e extends Gr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let t=this._def.shape(),r=_n.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==Tt.object){let _=this._getOrReturnCtx(t);return dt(_,{code:Ke.invalid_type,expected:Tt.object,received:_.parsedType}),Dr}let{status:n,ctx:i}=this._processInputParams(t),{shape:a,keys:s}=this._getCached(),f=[];if(!(this._def.catchall instanceof nh&&this._def.unknownKeys==="strip"))for(let _ in i.data)s.includes(_)||f.push(_);let m=[];for(let _ of s){let D=a[_],k=i.data[_];m.push({key:{status:"valid",value:_},value:D._parse(new ip(i,k,i.path,_)),alwaysSet:_ in i.data})}if(this._def.catchall instanceof nh){let _=this._def.unknownKeys;if(_==="passthrough")for(let D of f)m.push({key:{status:"valid",value:D},value:{status:"valid",value:i.data[D]}});else if(_==="strict")f.length>0&&(dt(i,{code:Ke.unrecognized_keys,keys:f}),n.dirty());else if(_!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let _=this._def.catchall;for(let D of f){let k=i.data[D];m.push({key:{status:"valid",value:D},value:_._parse(new ip(i,k,i.path,D)),alwaysSet:D in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let _=[];for(let D of m){let k=await D.key,U=await D.value;_.push({key:k,value:U,alwaysSet:D.alwaysSet})}return _}).then(_=>Hu.mergeObjectSync(n,_)):Hu.mergeObjectSync(n,m)}get shape(){return this._def.shape()}strict(t){return jt.errToObj,new e({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,a,s,f;let m=(s=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,r,n).message)!==null&&s!==void 0?s:n.defaultError;return r.code==="unrecognized_keys"?{message:(f=jt.errToObj(t).message)!==null&&f!==void 0?f:m}:{message:m}}}:{}})}strip(){return new e({...this._def,unknownKeys:"strip"})}passthrough(){return new e({...this._def,unknownKeys:"passthrough"})}extend(t){return new e({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:Qe.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new e({...this._def,catchall:t})}pick(t){let r={};return _n.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new e({...this._def,shape:()=>r})}omit(t){let r={};return _n.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new e({...this._def,shape:()=>r})}deepPartial(){return Ey(this)}partial(t){let r={};return _n.objectKeys(this.shape).forEach(n=>{let i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}),new e({...this._def,shape:()=>r})}required(t){let r={};return _n.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Lf;)a=a._def.innerType;r[n]=a}}),new e({...this._def,shape:()=>r})}keyof(){return qA(_n.objectKeys(this.shape))}};Ff.create=(e,t)=>new Ff({shape:()=>e,unknownKeys:"strip",catchall:nh.create(),typeName:Qe.ZodObject,...jr(t)});Ff.strictCreate=(e,t)=>new Ff({shape:()=>e,unknownKeys:"strict",catchall:nh.create(),typeName:Qe.ZodObject,...jr(t)});Ff.lazycreate=(e,t)=>new Ff({shape:e,unknownKeys:"strip",catchall:nh.create(),typeName:Qe.ZodObject,...jr(t)});var Ng=class extends Gr{_parse(t){let{ctx:r}=this._processInputParams(t),n=this._def.options;function i(a){for(let f of a)if(f.result.status==="valid")return f.result;for(let f of a)if(f.result.status==="dirty")return r.common.issues.push(...f.ctx.common.issues),f.result;let s=a.map(f=>new Ql(f.ctx.common.issues));return dt(r,{code:Ke.invalid_union,unionErrors:s}),Dr}if(r.common.async)return Promise.all(n.map(async a=>{let s={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(i);{let a,s=[];for(let m of n){let _={...r,common:{...r.common,issues:[]},parent:null},D=m._parseSync({data:r.data,path:r.path,parent:_});if(D.status==="valid")return D;D.status==="dirty"&&!a&&(a={result:D,ctx:_}),_.common.issues.length&&s.push(_.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;let f=s.map(m=>new Ql(m));return dt(r,{code:Ke.invalid_union,unionErrors:f}),Dr}}get options(){return this._def.options}};Ng.create=(e,t)=>new Ng({options:e,typeName:Qe.ZodUnion,...jr(t)});var tm=e=>e instanceof Ig?tm(e.schema):e instanceof ed?tm(e.innerType()):e instanceof xg?[e.value]:e instanceof Pg?e.options:e instanceof Rg?_n.objectValues(e.enum):e instanceof kg?tm(e._def.innerType):e instanceof Tg?[void 0]:e instanceof Ag?[null]:e instanceof Lf?[void 0,...tm(e.unwrap())]:e instanceof ov?[null,...tm(e.unwrap())]:e instanceof S_||e instanceof Mg?tm(e.unwrap()):e instanceof Og?tm(e._def.innerType):[],V0=class e extends Gr{_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==Tt.object)return dt(r,{code:Ke.invalid_type,expected:Tt.object,received:r.parsedType}),Dr;let n=this.discriminator,i=r.data[n],a=this.optionsMap.get(i);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(dt(r,{code:Ke.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Dr)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){let i=new Map;for(let a of r){let s=tm(a.shape[t]);if(!s.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let f of s){if(i.has(f))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(f)}`);i.set(f,a)}}return new e({typeName:Qe.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:i,...jr(n)})}};function eb(e,t){let r=rm(e),n=rm(t);if(e===t)return{valid:!0,data:e};if(r===Tt.object&&n===Tt.object){let i=_n.objectKeys(t),a=_n.objectKeys(e).filter(f=>i.indexOf(f)!==-1),s={...e,...t};for(let f of a){let m=eb(e[f],t[f]);if(!m.valid)return{valid:!1};s[f]=m.data}return{valid:!0,data:s}}else if(r===Tt.array&&n===Tt.array){if(e.length!==t.length)return{valid:!1};let i=[];for(let a=0;a<e.length;a++){let s=e[a],f=t[a],m=eb(s,f);if(!m.valid)return{valid:!1};i.push(m.data)}return{valid:!0,data:i}}else return r===Tt.date&&n===Tt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}var Cg=class extends Gr{_parse(t){let{status:r,ctx:n}=this._processInputParams(t),i=(a,s)=>{if(Xw(a)||Xw(s))return Dr;let f=eb(a.value,s.value);return f.valid?((Qw(a)||Qw(s))&&r.dirty(),{status:r.value,value:f.data}):(dt(n,{code:Ke.invalid_intersection_types}),Dr)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};Cg.create=(e,t,r)=>new Cg({left:e,right:t,typeName:Qe.ZodIntersection,...jr(r)});var av=class e extends Gr{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Tt.array)return dt(n,{code:Ke.invalid_type,expected:Tt.array,received:n.parsedType}),Dr;if(n.data.length<this._def.items.length)return dt(n,{code:Ke.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Dr;!this._def.rest&&n.data.length>this._def.items.length&&(dt(n,{code:Ke.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let a=[...n.data].map((s,f)=>{let m=this._def.items[f]||this._def.rest;return m?m._parse(new ip(n,s,n.path,f)):null}).filter(s=>!!s);return n.common.async?Promise.all(a).then(s=>Hu.mergeArray(r,s)):Hu.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new e({...this._def,rest:t})}};av.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new av({items:e,typeName:Qe.ZodTuple,rest:null,...jr(t)})};var W0=class e extends Gr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Tt.object)return dt(n,{code:Ke.invalid_type,expected:Tt.object,received:n.parsedType}),Dr;let i=[],a=this._def.keyType,s=this._def.valueType;for(let f in n.data)i.push({key:a._parse(new ip(n,f,n.path,f)),value:s._parse(new ip(n,n.data[f],n.path,f)),alwaysSet:f in n.data});return n.common.async?Hu.mergeObjectAsync(r,i):Hu.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof Gr?new e({keyType:t,valueType:r,typeName:Qe.ZodRecord,...jr(n)}):new e({keyType:Vm.create(),valueType:t,typeName:Qe.ZodRecord,...jr(r)})}},Ty=class extends Gr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Tt.map)return dt(n,{code:Ke.invalid_type,expected:Tt.map,received:n.parsedType}),Dr;let i=this._def.keyType,a=this._def.valueType,s=[...n.data.entries()].map(([f,m],_)=>({key:i._parse(new ip(n,f,n.path,[_,"key"])),value:a._parse(new ip(n,m,n.path,[_,"value"]))}));if(n.common.async){let f=new Map;return Promise.resolve().then(async()=>{for(let m of s){let _=await m.key,D=await m.value;if(_.status==="aborted"||D.status==="aborted")return Dr;(_.status==="dirty"||D.status==="dirty")&&r.dirty(),f.set(_.value,D.value)}return{status:r.value,value:f}})}else{let f=new Map;for(let m of s){let _=m.key,D=m.value;if(_.status==="aborted"||D.status==="aborted")return Dr;(_.status==="dirty"||D.status==="dirty")&&r.dirty(),f.set(_.value,D.value)}return{status:r.value,value:f}}}};Ty.create=(e,t,r)=>new Ty({valueType:t,keyType:e,typeName:Qe.ZodMap,...jr(r)});var Ay=class e extends Gr{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Tt.set)return dt(n,{code:Ke.invalid_type,expected:Tt.set,received:n.parsedType}),Dr;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(dt(n,{code:Ke.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(dt(n,{code:Ke.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());let a=this._def.valueType;function s(m){let _=new Set;for(let D of m){if(D.status==="aborted")return Dr;D.status==="dirty"&&r.dirty(),_.add(D.value)}return{status:r.value,value:_}}let f=[...n.data.values()].map((m,_)=>a._parse(new ip(n,m,n.path,_)));return n.common.async?Promise.all(f).then(m=>s(m)):s(f)}min(t,r){return new e({...this._def,minSize:{value:t,message:jt.toString(r)}})}max(t,r){return new e({...this._def,maxSize:{value:t,message:jt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}};Ay.create=(e,t)=>new Ay({valueType:e,minSize:null,maxSize:null,typeName:Qe.ZodSet,...jr(t)});var H0=class e extends Gr{constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==Tt.function)return dt(r,{code:Ke.invalid_type,expected:Tt.function,received:r.parsedType}),Dr;function n(f,m){return z0({data:f,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Y0(),by].filter(_=>!!_),issueData:{code:Ke.invalid_arguments,argumentsError:m}})}function i(f,m){return z0({data:f,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Y0(),by].filter(_=>!!_),issueData:{code:Ke.invalid_return_type,returnTypeError:m}})}let a={errorMap:r.common.contextualErrorMap},s=r.data;if(this._def.returns instanceof Hm){let f=this;return Oc(async function(...m){let _=new Ql([]),D=await f._def.args.parseAsync(m,a).catch(z=>{throw _.addIssue(n(m,z)),_}),k=await Reflect.apply(s,this,D);return await f._def.returns._def.type.parseAsync(k,a).catch(z=>{throw _.addIssue(i(k,z)),_})})}else{let f=this;return Oc(function(...m){let _=f._def.args.safeParse(m,a);if(!_.success)throw new Ql([n(m,_.error)]);let D=Reflect.apply(s,this,_.data),k=f._def.returns.safeParse(D,a);if(!k.success)throw new Ql([i(D,k.error)]);return k.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new e({...this._def,args:av.create(t).rest(nm.create())})}returns(t){return new e({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new e({args:t||av.create([]).rest(nm.create()),returns:r||nm.create(),typeName:Qe.ZodFunction,...jr(n)})}},Ig=class extends Gr{get schema(){return this._def.getter()}_parse(t){let{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};Ig.create=(e,t)=>new Ig({getter:e,typeName:Qe.ZodLazy,...jr(t)});var xg=class extends Gr{_parse(t){if(t.data!==this._def.value){let r=this._getOrReturnCtx(t);return dt(r,{received:r.data,code:Ke.invalid_literal,expected:this._def.value}),Dr}return{status:"valid",value:t.data}}get value(){return this._def.value}};xg.create=(e,t)=>new xg({value:e,typeName:Qe.ZodLiteral,...jr(t)});function qA(e,t){return new Pg({values:e,typeName:Qe.ZodEnum,...jr(t)})}var Pg=class e extends Gr{constructor(){super(...arguments),E_.set(this,void 0)}_parse(t){if(typeof t.data!="string"){let r=this._getOrReturnCtx(t),n=this._def.values;return dt(r,{expected:_n.joinValues(n),received:r.parsedType,code:Ke.invalid_type}),Dr}if($0(this,E_,"f")||UA(this,E_,new Set(this._def.values),"f"),!$0(this,E_,"f").has(t.data)){let r=this._getOrReturnCtx(t),n=this._def.values;return dt(r,{received:r.data,code:Ke.invalid_enum_value,options:n}),Dr}return Oc(t.data)}get options(){return this._def.values}get enum(){let t={};for(let r of this._def.values)t[r]=r;return t}get Values(){let t={};for(let r of this._def.values)t[r]=r;return t}get Enum(){let t={};for(let r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return e.create(t,{...this._def,...r})}exclude(t,r=this._def){return e.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}};E_=new WeakMap;Pg.create=qA;var Rg=class extends Gr{constructor(){super(...arguments),w_.set(this,void 0)}_parse(t){let r=_n.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Tt.string&&n.parsedType!==Tt.number){let i=_n.objectValues(r);return dt(n,{expected:_n.joinValues(i),received:n.parsedType,code:Ke.invalid_type}),Dr}if($0(this,w_,"f")||UA(this,w_,new Set(_n.getValidEnumValues(this._def.values)),"f"),!$0(this,w_,"f").has(t.data)){let i=_n.objectValues(r);return dt(n,{received:n.data,code:Ke.invalid_enum_value,options:i}),Dr}return Oc(t.data)}get enum(){return this._def.values}};w_=new WeakMap;Rg.create=(e,t)=>new Rg({values:e,typeName:Qe.ZodNativeEnum,...jr(t)});var Hm=class extends Gr{unwrap(){return this._def.type}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==Tt.promise&&r.common.async===!1)return dt(r,{code:Ke.invalid_type,expected:Tt.promise,received:r.parsedType}),Dr;let n=r.parsedType===Tt.promise?r.data:Promise.resolve(r.data);return Oc(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}};Hm.create=(e,t)=>new Hm({type:e,typeName:Qe.ZodPromise,...jr(t)});var ed=class extends Gr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===Qe.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,a={addIssue:s=>{dt(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){let s=i.transform(n.data,a);if(n.common.async)return Promise.resolve(s).then(async f=>{if(r.value==="aborted")return Dr;let m=await this._def.schema._parseAsync({data:f,path:n.path,parent:n});return m.status==="aborted"?Dr:m.status==="dirty"||r.value==="dirty"?wy(m.value):m});{if(r.value==="aborted")return Dr;let f=this._def.schema._parseSync({data:s,path:n.path,parent:n});return f.status==="aborted"?Dr:f.status==="dirty"||r.value==="dirty"?wy(f.value):f}}if(i.type==="refinement"){let s=f=>{let m=i.refinement(f,a);if(n.common.async)return Promise.resolve(m);if(m instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return f};if(n.common.async===!1){let f=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return f.status==="aborted"?Dr:(f.status==="dirty"&&r.dirty(),s(f.value),{status:r.value,value:f.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(f=>f.status==="aborted"?Dr:(f.status==="dirty"&&r.dirty(),s(f.value).then(()=>({status:r.value,value:f.value}))))}if(i.type==="transform")if(n.common.async===!1){let s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Eg(s))return s;let f=i.transform(s.value,a);if(f instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:f}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>Eg(s)?Promise.resolve(i.transform(s.value,a)).then(f=>({status:r.value,value:f})):s);_n.assertNever(i)}};ed.create=(e,t,r)=>new ed({schema:e,typeName:Qe.ZodEffects,effect:t,...jr(r)});ed.createWithPreprocess=(e,t,r)=>new ed({schema:t,effect:{type:"preprocess",transform:e},typeName:Qe.ZodEffects,...jr(r)});var Lf=class extends Gr{_parse(t){return this._getType(t)===Tt.undefined?Oc(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};Lf.create=(e,t)=>new Lf({innerType:e,typeName:Qe.ZodOptional,...jr(t)});var ov=class extends Gr{_parse(t){return this._getType(t)===Tt.null?Oc(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};ov.create=(e,t)=>new ov({innerType:e,typeName:Qe.ZodNullable,...jr(t)});var kg=class extends Gr{_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return r.parsedType===Tt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};kg.create=(e,t)=>new kg({innerType:e,typeName:Qe.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...jr(t)});var Og=class extends Gr{_parse(t){let{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return b_(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new Ql(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Ql(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};Og.create=(e,t)=>new Og({innerType:e,typeName:Qe.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...jr(t)});var Ny=class extends Gr{_parse(t){if(this._getType(t)!==Tt.nan){let n=this._getOrReturnCtx(t);return dt(n,{code:Ke.invalid_type,expected:Tt.nan,received:n.parsedType}),Dr}return{status:"valid",value:t.data}}};Ny.create=e=>new Ny({typeName:Qe.ZodNaN,...jr(e)});var $O=Symbol("zod_brand"),S_=class extends Gr{_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},D_=class e extends Gr{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Dr:a.status==="dirty"?(r.dirty(),wy(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Dr:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new e({in:t,out:r,typeName:Qe.ZodPipeline})}},Mg=class extends Gr{_parse(t){let r=this._def.innerType._parse(t),n=i=>(Eg(i)&&(i.value=Object.freeze(i.value)),i);return b_(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}};Mg.create=(e,t)=>new Mg({innerType:e,typeName:Qe.ZodReadonly,...jr(t)});function YA(e,t={},r){return e?Wm.create().superRefine((n,i)=>{var a,s;if(!e(n)){let f=typeof t=="function"?t(n):typeof t=="string"?{message:t}:t,m=(s=(a=f.fatal)!==null&&a!==void 0?a:r)!==null&&s!==void 0?s:!0,_=typeof f=="string"?{message:f}:f;i.addIssue({code:"custom",..._,fatal:m})}}):Wm.create()}var VO={object:Ff.lazycreate},Qe;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(Qe||(Qe={}));var WO=(e,t={message:`Input not instance of ${e.name}`})=>YA(r=>r instanceof e,t),zA=Vm.create,$A=wg.create,HO=Ny.create,KO=bg.create,VA=Sg.create,JO=Dg.create,ZO=Sy.create,XO=Tg.create,QO=Ag.create,eM=Wm.create,tM=nm.create,rM=nh.create,nM=Dy.create,iM=im.create,aM=Ff.create,oM=Ff.strictCreate,sM=Ng.create,uM=V0.create,cM=Cg.create,fM=av.create,lM=W0.create,dM=Ty.create,pM=Ay.create,hM=H0.create,vM=Ig.create,mM=xg.create,gM=Pg.create,yM=Rg.create,_M=Hm.create,LA=ed.create,EM=Lf.create,wM=ov.create,bM=ed.createWithPreprocess,SM=D_.create,DM=()=>zA().optional(),TM=()=>$A().optional(),AM=()=>VA().optional(),NM={string:e=>Vm.create({...e,coerce:!0}),number:e=>wg.create({...e,coerce:!0}),boolean:e=>Sg.create({...e,coerce:!0}),bigint:e=>bg.create({...e,coerce:!0}),date:e=>Dg.create({...e,coerce:!0})},CM=Dr,M=Object.freeze({__proto__:null,defaultErrorMap:by,setErrorMap:bO,getErrorMap:Y0,makeIssue:z0,EMPTY_PATH:SO,addIssueToContext:dt,ParseStatus:Hu,INVALID:Dr,DIRTY:wy,OK:Oc,isAborted:Xw,isDirty:Qw,isValid:Eg,isAsync:b_,get util(){return _n},get objectUtil(){return Zw},ZodParsedType:Tt,getParsedType:rm,ZodType:Gr,datetimeRegex:GA,ZodString:Vm,ZodNumber:wg,ZodBigInt:bg,ZodBoolean:Sg,ZodDate:Dg,ZodSymbol:Sy,ZodUndefined:Tg,ZodNull:Ag,ZodAny:Wm,ZodUnknown:nm,ZodNever:nh,ZodVoid:Dy,ZodArray:im,ZodObject:Ff,ZodUnion:Ng,ZodDiscriminatedUnion:V0,ZodIntersection:Cg,ZodTuple:av,ZodRecord:W0,ZodMap:Ty,ZodSet:Ay,ZodFunction:H0,ZodLazy:Ig,ZodLiteral:xg,ZodEnum:Pg,ZodNativeEnum:Rg,ZodPromise:Hm,ZodEffects:ed,ZodTransformer:ed,ZodOptional:Lf,ZodNullable:ov,ZodDefault:kg,ZodCatch:Og,ZodNaN:Ny,BRAND:$O,ZodBranded:S_,ZodPipeline:D_,ZodReadonly:Mg,custom:YA,Schema:Gr,ZodSchema:Gr,late:VO,get ZodFirstPartyTypeKind(){return Qe},coerce:NM,any:eM,array:iM,bigint:KO,boolean:VA,date:JO,discriminatedUnion:uM,effect:LA,enum:gM,function:hM,instanceof:WO,intersection:cM,lazy:vM,literal:mM,map:dM,nan:HO,nativeEnum:yM,never:rM,null:QO,nullable:wM,number:$A,object:aM,oboolean:AM,onumber:TM,optional:EM,ostring:DM,pipeline:SM,preprocess:bM,promise:_M,record:lM,set:pM,strictObject:oM,string:zA,symbol:ZO,transformer:LA,tuple:fM,undefined:XO,union:sM,unknown:tM,void:nM,NEVER:CM,ZodIssueCode:Ke,quotelessJson:wO,ZodError:Ql});var IM=M.object({type:M.literal("error"),error:M.object({type:M.string(),message:M.string()})}),WA=G0({errorSchema:IM,errorToMessage:e=>e.error.message});function xM({prompt:e,cacheControl:t}){var r,n,i,a;let s=new Set,f=PM(e),m,_=[];function D(k){var U;if(t===!1)return;let z=k==null?void 0:k.anthropic;return(U=z==null?void 0:z.cacheControl)!=null?U:z==null?void 0:z.cache_control}for(let k=0;k<f.length;k++){let U=f[k],z=k===f.length-1,ee=U.type;switch(ee){case"system":{if(m!=null)throw new Qn({functionality:"Multiple system messages that are separated by user/assistant messages"});m=U.messages.map(({content:H,providerMetadata:K})=>({type:"text",text:H,cache_control:D(K)}));break}case"user":{let H=[];for(let K of U.messages){let{role:X,content:ue}=K;switch(X){case"user":{for(let ce=0;ce<ue.length;ce++){let ge=ue[ce],Fe=ce===ue.length-1,Ne=(r=D(ge.providerMetadata))!=null?r:Fe?D(K.providerMetadata):void 0;switch(ge.type){case"text":{H.push({type:"text",text:ge.text,cache_control:Ne});break}case"image":{if(ge.image instanceof URL)throw new Qn({functionality:"Image URLs in user messages"});H.push({type:"image",source:{type:"base64",media_type:(n=ge.mimeType)!=null?n:"image/jpeg",data:_g(ge.image)},cache_control:Ne});break}case"file":{if(ge.data instanceof URL)throw new Qn({functionality:"Image URLs in user messages"});if(ge.mimeType!=="application/pdf")throw new Qn({functionality:"Non-PDF files in user messages"});s.add("pdfs-2024-09-25"),H.push({type:"document",source:{type:"base64",media_type:"application/pdf",data:ge.data},cache_control:Ne});break}}}break}case"tool":{for(let ce=0;ce<ue.length;ce++){let ge=ue[ce],Fe=ce===ue.length-1,Ne=(i=D(ge.providerMetadata))!=null?i:Fe?D(K.providerMetadata):void 0,he=ge.content!=null?ge.content.map(Ie=>{var _e;switch(Ie.type){case"text":return{type:"text",text:Ie.text,cache_control:void 0};case"image":return{type:"image",source:{type:"base64",media_type:(_e=Ie.mimeType)!=null?_e:"image/jpeg",data:Ie.data},cache_control:void 0}}}):JSON.stringify(ge.result);H.push({type:"tool_result",tool_use_id:ge.toolCallId,content:he,is_error:ge.isError,cache_control:Ne})}break}default:{let ce=X;throw new Error(`Unsupported role: ${ce}`)}}}_.push({role:"user",content:H});break}case"assistant":{let H=[];for(let K=0;K<U.messages.length;K++){let X=U.messages[K],ue=K===U.messages.length-1,{content:ce}=X;for(let ge=0;ge<ce.length;ge++){let Fe=ce[ge],Ne=ge===ce.length-1,he=(a=D(Fe.providerMetadata))!=null?a:Ne?D(X.providerMetadata):void 0;switch(Fe.type){case"text":{H.push({type:"text",text:z&&ue&&Ne?Fe.text.trim():Fe.text,cache_control:he});break}case"tool-call":{H.push({type:"tool_use",id:Fe.toolCallId,name:Fe.toolName,input:Fe.args,cache_control:he});break}}}}_.push({role:"assistant",content:H});break}default:{let H=ee;throw new Error(`Unsupported type: ${H}`)}}}return{prompt:{system:m,messages:_},betas:s}}function PM(e){let t=[],r;for(let n of e){let{role:i}=n;switch(i){case"system":{(r==null?void 0:r.type)!=="system"&&(r={type:"system",messages:[]},t.push(r)),r.messages.push(n);break}case"assistant":{(r==null?void 0:r.type)!=="assistant"&&(r={type:"assistant",messages:[]},t.push(r)),r.messages.push(n);break}case"user":{(r==null?void 0:r.type)!=="user"&&(r={type:"user",messages:[]},t.push(r)),r.messages.push(n);break}case"tool":{(r==null?void 0:r.type)!=="user"&&(r={type:"user",messages:[]},t.push(r)),r.messages.push(n);break}default:{let a=i;throw new Error(`Unsupported role: ${a}`)}}}return t}function HA(e){switch(e){case"end_turn":case"stop_sequence":return"stop";case"tool_use":return"tool-calls";case"max_tokens":return"length";default:return"unknown"}}function RM(e){var t;let r=(t=e.tools)!=null&&t.length?e.tools:void 0,n=[],i=new Set;if(r==null)return{tools:void 0,tool_choice:void 0,toolWarnings:n,betas:i};let a=[];for(let m of r)switch(m.type){case"function":a.push({name:m.name,description:m.description,input_schema:m.parameters});break;case"provider-defined":switch(i.add("computer-use-2024-10-22"),m.id){case"anthropic.computer_20241022":a.push({name:m.name,type:"computer_20241022",display_width_px:m.args.displayWidthPx,display_height_px:m.args.displayHeightPx,display_number:m.args.displayNumber});break;case"anthropic.text_editor_20241022":a.push({name:m.name,type:"text_editor_20241022"});break;case"anthropic.bash_20241022":a.push({name:m.name,type:"bash_20241022"});break;default:n.push({type:"unsupported-tool",tool:m});break}break;default:n.push({type:"unsupported-tool",tool:m});break}let s=e.toolChoice;if(s==null)return{tools:a,tool_choice:void 0,toolWarnings:n,betas:i};let f=s.type;switch(f){case"auto":return{tools:a,tool_choice:{type:"auto"},toolWarnings:n,betas:i};case"required":return{tools:a,tool_choice:{type:"any"},toolWarnings:n,betas:i};case"none":return{tools:void 0,tool_choice:void 0,toolWarnings:n,betas:i};case"tool":return{tools:a,tool_choice:{type:"tool",name:s.toolName},toolWarnings:n,betas:i};default:{let m=f;throw new Qn({functionality:`Unsupported tool choice type: ${m}`})}}}var kM=class{constructor(e,t,r){this.specificationVersion="v1",this.defaultObjectGenerationMode="tool",this.supportsImageUrls=!1,this.modelId=e,this.settings=t,this.config=r}get provider(){return this.config.provider}async getArgs({mode:e,prompt:t,maxTokens:r,temperature:n,topP:i,topK:a,frequencyPenalty:s,presencePenalty:f,stopSequences:m,responseFormat:_,seed:D}){var k;let U=e.type,z=[];s!=null&&z.push({type:"unsupported-setting",setting:"frequencyPenalty"}),f!=null&&z.push({type:"unsupported-setting",setting:"presencePenalty"}),D!=null&&z.push({type:"unsupported-setting",setting:"seed"}),_!=null&&_.type!=="text"&&z.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});let{prompt:ee,betas:H}=xM({prompt:t,cacheControl:(k=this.settings.cacheControl)!=null?k:!1}),K={model:this.modelId,max_tokens:r??4096,temperature:n,top_k:a,top_p:i,stop_sequences:m,system:ee.system,messages:ee.messages};switch(U){case"regular":{let{tools:X,tool_choice:ue,toolWarnings:ce,betas:ge}=RM(e);return{args:{...K,tools:X,tool_choice:ue},warnings:[...z,...ce],betas:new Set([...H,...ge])}}case"object-json":throw new Qn({functionality:"json-mode object generation"});case"object-tool":{let{name:X,description:ue,parameters:ce}=e.tool;return{args:{...K,tools:[{name:X,description:ue,input_schema:ce}],tool_choice:{type:"tool",name:X}},warnings:z,betas:H}}default:{let X=U;throw new Error(`Unsupported type: ${X}`)}}}async getHeaders({betas:e,headers:t}){return this.settings.cacheControl&&e.add("prompt-caching-2024-07-31"),np(await kA(this.config.headers),e.size>0?{"anthropic-beta":Array.from(e).join(",")}:{},t)}buildRequestUrl(e){var t,r,n;return(n=(r=(t=this.config).buildRequestUrl)==null?void 0:r.call(t,this.config.baseURL,e))!=null?n:`${this.config.baseURL}/messages`}transformRequestBody(e){var t,r,n;return(n=(r=(t=this.config).transformRequestBody)==null?void 0:r.call(t,e))!=null?n:e}async doGenerate(e){var t,r,n,i;let{args:a,warnings:s,betas:f}=await this.getArgs(e),{responseHeaders:m,value:_}=await Xl({url:this.buildRequestUrl(!1),headers:await this.getHeaders({betas:f,headers:e.headers}),body:this.transformRequestBody(a),failedResponseHandler:WA,successfulResponseHandler:iv(OM),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:D,...k}=a,U="";for(let ee of _.content)ee.type==="text"&&(U+=ee.text);let z;if(_.content.some(ee=>ee.type==="tool_use")){z=[];for(let ee of _.content)ee.type==="tool_use"&&z.push({toolCallType:"function",toolCallId:ee.id,toolName:ee.name,args:JSON.stringify(ee.input)})}return{text:U,toolCalls:z,finishReason:HA(_.stop_reason),usage:{promptTokens:_.usage.input_tokens,completionTokens:_.usage.output_tokens},rawCall:{rawPrompt:D,rawSettings:k},rawResponse:{headers:m},response:{id:(t=_.id)!=null?t:void 0,modelId:(r=_.model)!=null?r:void 0},warnings:s,providerMetadata:this.settings.cacheControl===!0?{anthropic:{cacheCreationInputTokens:(n=_.usage.cache_creation_input_tokens)!=null?n:null,cacheReadInputTokens:(i=_.usage.cache_read_input_tokens)!=null?i:null}}:void 0,request:{body:JSON.stringify(a)}}}async doStream(e){let{args:t,warnings:r,betas:n}=await this.getArgs(e),i={...t,stream:!0},{responseHeaders:a,value:s}=await Xl({url:this.buildRequestUrl(!0),headers:await this.getHeaders({betas:n,headers:e.headers}),body:this.transformRequestBody(i),failedResponseHandler:WA,successfulResponseHandler:_y(MM),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:f,...m}=t,_="unknown",D={promptTokens:Number.NaN,completionTokens:Number.NaN},k={},U,z=this;return{stream:s.pipeThrough(new TransformStream({transform(ee,H){var K,X,ue,ce;if(!ee.success){H.enqueue({type:"error",error:ee.error});return}let ge=ee.value;switch(ge.type){case"ping":return;case"content_block_start":{let Fe=ge.content_block.type;switch(Fe){case"text":return;case"tool_use":{k[ge.index]={toolCallId:ge.content_block.id,toolName:ge.content_block.name,jsonText:""};return}default:{let Ne=Fe;throw new Error(`Unsupported content block type: ${Ne}`)}}}case"content_block_stop":{if(k[ge.index]!=null){let Fe=k[ge.index];H.enqueue({type:"tool-call",toolCallType:"function",toolCallId:Fe.toolCallId,toolName:Fe.toolName,args:Fe.jsonText}),delete k[ge.index]}return}case"content_block_delta":{let Fe=ge.delta.type;switch(Fe){case"text_delta":{H.enqueue({type:"text-delta",textDelta:ge.delta.text});return}case"input_json_delta":{let Ne=k[ge.index];H.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:Ne.toolCallId,toolName:Ne.toolName,argsTextDelta:ge.delta.partial_json}),Ne.jsonText+=ge.delta.partial_json;return}default:{let Ne=Fe;throw new Error(`Unsupported delta type: ${Ne}`)}}}case"message_start":{D.promptTokens=ge.message.usage.input_tokens,D.completionTokens=ge.message.usage.output_tokens,z.settings.cacheControl===!0&&(U={anthropic:{cacheCreationInputTokens:(K=ge.message.usage.cache_creation_input_tokens)!=null?K:null,cacheReadInputTokens:(X=ge.message.usage.cache_read_input_tokens)!=null?X:null}}),H.enqueue({type:"response-metadata",id:(ue=ge.message.id)!=null?ue:void 0,modelId:(ce=ge.message.model)!=null?ce:void 0});return}case"message_delta":{D.completionTokens=ge.usage.output_tokens,_=HA(ge.delta.stop_reason);return}case"message_stop":{H.enqueue({type:"finish",finishReason:_,usage:D,providerMetadata:U});return}case"error":{H.enqueue({type:"error",error:ge.error});return}default:{let Fe=ge;throw new Error(`Unsupported chunk type: ${Fe}`)}}}})),rawCall:{rawPrompt:f,rawSettings:m},rawResponse:{headers:a},warnings:r,request:{body:JSON.stringify(i)}}}},OM=M.object({type:M.literal("message"),id:M.string().nullish(),model:M.string().nullish(),content:M.array(M.discriminatedUnion("type",[M.object({type:M.literal("text"),text:M.string()}),M.object({type:M.literal("tool_use"),id:M.string(),name:M.string(),input:M.unknown()})])),stop_reason:M.string().nullish(),usage:M.object({input_tokens:M.number(),output_tokens:M.number(),cache_creation_input_tokens:M.number().nullish(),cache_read_input_tokens:M.number().nullish()})}),MM=M.discriminatedUnion("type",[M.object({type:M.literal("message_start"),message:M.object({id:M.string().nullish(),model:M.string().nullish(),usage:M.object({input_tokens:M.number(),output_tokens:M.number(),cache_creation_input_tokens:M.number().nullish(),cache_read_input_tokens:M.number().nullish()})})}),M.object({type:M.literal("content_block_start"),index:M.number(),content_block:M.discriminatedUnion("type",[M.object({type:M.literal("text"),text:M.string()}),M.object({type:M.literal("tool_use"),id:M.string(),name:M.string()})])}),M.object({type:M.literal("content_block_delta"),index:M.number(),delta:M.discriminatedUnion("type",[M.object({type:M.literal("input_json_delta"),partial_json:M.string()}),M.object({type:M.literal("text_delta"),text:M.string()})])}),M.object({type:M.literal("content_block_stop"),index:M.number()}),M.object({type:M.literal("error"),error:M.object({type:M.string(),message:M.string()})}),M.object({type:M.literal("message_delta"),delta:M.object({stop_reason:M.string().nullish()}),usage:M.object({output_tokens:M.number()})}),M.object({type:M.literal("message_stop")}),M.object({type:M.literal("ping")})]),LM=M.object({command:M.string(),restart:M.boolean().optional()});function FM(e={}){return{type:"provider-defined",id:"anthropic.bash_20241022",args:{},parameters:LM,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var UM=M.object({command:M.enum(["view","create","str_replace","insert","undo_edit"]),path:M.string(),file_text:M.string().optional(),insert_line:M.number().int().optional(),new_str:M.string().optional(),old_str:M.string().optional(),view_range:M.array(M.number().int()).optional()});function BM(e={}){return{type:"provider-defined",id:"anthropic.text_editor_20241022",args:{},parameters:UM,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var jM=M.object({action:M.enum(["key","type","mouse_move","left_click","left_click_drag","right_click","middle_click","double_click","screenshot","cursor_position"]),coordinate:M.array(M.number().int()).optional(),text:M.string().optional()});function GM(e){return{type:"provider-defined",id:"anthropic.computer_20241022",args:{displayWidthPx:e.displayWidthPx,displayHeightPx:e.displayHeightPx,displayNumber:e.displayNumber},parameters:jM,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var qM={bash_20241022:FM,textEditor_20241022:BM,computer_20241022:GM};function tb(e={}){var t;let r=(t=q0(e.baseURL))!=null?t:"https://api.anthropic.com/v1",n=()=>({"anthropic-version":"2023-06-01","x-api-key":B0({apiKey:e.apiKey,environmentVariableName:"ANTHROPIC_API_KEY",description:"Anthropic"}),...e.headers}),i=(s,f={})=>new kM(s,f,{provider:"anthropic.messages",baseURL:r,headers:n,fetch:e.fetch}),a=function(s,f){if(new.target)throw new Error("The Anthropic model function cannot be called with the new keyword.");return i(s,f)};return a.languageModel=i,a.chat=i,a.messages=i,a.textEmbeddingModel=s=>{throw new pA({modelId:s,modelType:"textEmbeddingModel"})},a.tools=qM,a}var w5=tb();function YM({prompt:e,useLegacyFunctionCalling:t=!1}){let r=[];for(let{role:n,content:i}of e)switch(n){case"system":{r.push({role:"system",content:i});break}case"user":{if(i.length===1&&i[0].type==="text"){r.push({role:"user",content:i[0].text});break}r.push({role:"user",content:i.map(a=>{var s,f,m;switch(a.type){case"text":return{type:"text",text:a.text};case"image":return{type:"image_url",image_url:{url:a.image instanceof URL?a.image.toString():`data:${(s=a.mimeType)!=null?s:"image/jpeg"};base64,${_g(a.image)}`,detail:(m=(f=a.providerMetadata)==null?void 0:f.openai)==null?void 0:m.imageDetail}};case"file":{if(a.data instanceof URL)throw new Qn({functionality:"'File content parts with URL data' functionality not supported."});switch(a.mimeType){case"audio/wav":return{type:"input_audio",input_audio:{data:a.data,format:"wav"}};case"audio/mp3":case"audio/mpeg":return{type:"input_audio",input_audio:{data:a.data,format:"mp3"}};default:throw new Qn({functionality:`File content part type ${a.mimeType} in user messages`})}}}})});break}case"assistant":{let a="",s=[];for(let f of i)switch(f.type){case"text":{a+=f.text;break}case"tool-call":{s.push({id:f.toolCallId,type:"function",function:{name:f.toolName,arguments:JSON.stringify(f.args)}});break}default:{let m=f;throw new Error(`Unsupported part: ${m}`)}}if(t){if(s.length>1)throw new Qn({functionality:"useLegacyFunctionCalling with multiple tool calls in one message"});r.push({role:"assistant",content:a,function_call:s.length>0?s[0].function:void 0})}else r.push({role:"assistant",content:a,tool_calls:s.length>0?s:void 0});break}case"tool":{for(let a of i)t?r.push({role:"function",name:a.toolName,content:JSON.stringify(a.result)}):r.push({role:"tool",tool_call_id:a.toolCallId,content:JSON.stringify(a.result)});break}default:{let a=n;throw new Error(`Unsupported role: ${a}`)}}return r}function KA(e){var t,r;return(r=(t=e==null?void 0:e.content)==null?void 0:t.map(({token:n,logprob:i,top_logprobs:a})=>({token:n,logprob:i,topLogprobs:a?a.map(({token:s,logprob:f})=>({token:s,logprob:f})):[]})))!=null?r:void 0}function K0(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var rb=M.object({error:M.object({message:M.string(),type:M.string().nullish(),param:M.any().nullish(),code:M.union([M.string(),M.number()]).nullish()})}),Cy=G0({errorSchema:rb,errorToMessage:e=>e.error.message});function J0({id:e,model:t,created:r}){return{id:e??void 0,modelId:t??void 0,timestamp:r!=null?new Date(r*1e3):void 0}}function zM({mode:e,useLegacyFunctionCalling:t=!1,structuredOutputs:r}){var n;let i=(n=e.tools)!=null&&n.length?e.tools:void 0,a=[];if(i==null)return{tools:void 0,tool_choice:void 0,toolWarnings:a};let s=e.toolChoice;if(t){let _=[];for(let k of i)k.type==="provider-defined"?a.push({type:"unsupported-tool",tool:k}):_.push({name:k.name,description:k.description,parameters:k.parameters});if(s==null)return{functions:_,function_call:void 0,toolWarnings:a};switch(s.type){case"auto":case"none":case void 0:return{functions:_,function_call:void 0,toolWarnings:a};case"required":throw new Qn({functionality:"useLegacyFunctionCalling and toolChoice: required"});default:return{functions:_,function_call:{name:s.toolName},toolWarnings:a}}}let f=[];for(let _ of i)_.type==="provider-defined"?a.push({type:"unsupported-tool",tool:_}):f.push({type:"function",function:{name:_.name,description:_.description,parameters:_.parameters,strict:r?!0:void 0}});if(s==null)return{tools:f,tool_choice:void 0,toolWarnings:a};let m=s.type;switch(m){case"auto":case"none":case"required":return{tools:f,tool_choice:m,toolWarnings:a};case"tool":return{tools:f,tool_choice:{type:"function",function:{name:s.toolName}},toolWarnings:a};default:{let _=m;throw new Qn({functionality:`Unsupported tool choice type: ${_}`})}}}var $M=class{constructor(e,t,r){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=r}get supportsStructuredOutputs(){var e;return(e=this.settings.structuredOutputs)!=null?e:!1}get defaultObjectGenerationMode(){return KM(this.modelId)?"tool":this.supportsStructuredOutputs?"json":"tool"}get provider(){return this.config.provider}get supportsImageUrls(){return!this.settings.downloadImages}getArgs({mode:e,prompt:t,maxTokens:r,temperature:n,topP:i,topK:a,frequencyPenalty:s,presencePenalty:f,stopSequences:m,responseFormat:_,seed:D,providerMetadata:k}){var U,z,ee,H,K,X,ue,ce,ge,Fe;let Ne=e.type,he=[];a!=null&&he.push({type:"unsupported-setting",setting:"topK"}),(_==null?void 0:_.type)==="json"&&_.schema!=null&&!this.supportsStructuredOutputs&&he.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});let Ie=this.settings.useLegacyFunctionCalling;if(Ie&&this.settings.parallelToolCalls===!0)throw new Qn({functionality:"useLegacyFunctionCalling with parallelToolCalls"});if(Ie&&this.supportsStructuredOutputs)throw new Qn({functionality:"structuredOutputs with useLegacyFunctionCalling"});let _e={model:this.modelId,logit_bias:this.settings.logitBias,logprobs:this.settings.logprobs===!0||typeof this.settings.logprobs=="number"?!0:void 0,top_logprobs:typeof this.settings.logprobs=="number"?this.settings.logprobs:typeof this.settings.logprobs=="boolean"&&this.settings.logprobs?0:void 0,user:this.settings.user,parallel_tool_calls:this.settings.parallelToolCalls,max_tokens:r,temperature:n,top_p:i,frequency_penalty:s,presence_penalty:f,response_format:(_==null?void 0:_.type)==="json"?this.supportsStructuredOutputs&&_.schema!=null?{type:"json_schema",json_schema:{schema:_.schema,strict:!0,name:(U=_.name)!=null?U:"response",description:_.description}}:{type:"json_object"}:void 0,stop:m,seed:D,max_completion_tokens:(ee=(z=k==null?void 0:k.openai)==null?void 0:z.maxCompletionTokens)!=null?ee:void 0,store:(K=(H=k==null?void 0:k.openai)==null?void 0:H.store)!=null?K:void 0,metadata:(ue=(X=k==null?void 0:k.openai)==null?void 0:X.metadata)!=null?ue:void 0,prediction:(ge=(ce=k==null?void 0:k.openai)==null?void 0:ce.prediction)!=null?ge:void 0,messages:YM({prompt:t,useLegacyFunctionCalling:Ie})};switch(HM(this.modelId)&&(_e.temperature=void 0,_e.top_p=void 0,_e.frequency_penalty=void 0,_e.presence_penalty=void 0),Ne){case"regular":{let{tools:ze,tool_choice:ct,functions:gr,function_call:Tr,toolWarnings:kt}=zM({mode:e,useLegacyFunctionCalling:Ie,structuredOutputs:this.supportsStructuredOutputs});return{args:{..._e,tools:ze,tool_choice:ct,functions:gr,function_call:Tr},warnings:[...he,...kt]}}case"object-json":return{args:{..._e,response_format:this.supportsStructuredOutputs&&e.schema!=null?{type:"json_schema",json_schema:{schema:e.schema,strict:!0,name:(Fe=e.name)!=null?Fe:"response",description:e.description}}:{type:"json_object"}},warnings:he};case"object-tool":return{args:Ie?{..._e,function_call:{name:e.tool.name},functions:[{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters}]}:{..._e,tool_choice:{type:"function",function:{name:e.tool.name}},tools:[{type:"function",function:{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters,strict:this.supportsStructuredOutputs?!0:void 0}}]},warnings:he};default:{let ze=Ne;throw new Error(`Unsupported type: ${ze}`)}}}async doGenerate(e){var t,r,n,i,a,s,f,m,_,D,k,U,z,ee,H,K,X,ue;let{args:ce,warnings:ge}=this.getArgs(e),{responseHeaders:Fe,value:Ne}=await Xl({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:np(this.config.headers(),e.headers),body:ce,failedResponseHandler:Cy,successfulResponseHandler:iv(VM),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:he,...Ie}=ce,_e=Ne.choices[0],ze;return(((r=(t=Ne.usage)==null?void 0:t.completion_tokens_details)==null?void 0:r.reasoning_tokens)!=null||((i=(n=Ne.usage)==null?void 0:n.prompt_tokens_details)==null?void 0:i.cached_tokens)!=null)&&(ze={openai:{}},((s=(a=Ne.usage)==null?void 0:a.completion_tokens_details)==null?void 0:s.reasoning_tokens)!=null&&(ze.openai.reasoningTokens=(m=(f=Ne.usage)==null?void 0:f.completion_tokens_details)==null?void 0:m.reasoning_tokens),((D=(_=Ne.usage)==null?void 0:_.prompt_tokens_details)==null?void 0:D.cached_tokens)!=null&&(ze.openai.cachedPromptTokens=(U=(k=Ne.usage)==null?void 0:k.prompt_tokens_details)==null?void 0:U.cached_tokens)),{text:(z=_e.message.content)!=null?z:void 0,toolCalls:this.settings.useLegacyFunctionCalling&&_e.message.function_call?[{toolCallType:"function",toolCallId:em(),toolName:_e.message.function_call.name,args:_e.message.function_call.arguments}]:(ee=_e.message.tool_calls)==null?void 0:ee.map(ct=>{var gr;return{toolCallType:"function",toolCallId:(gr=ct.id)!=null?gr:em(),toolName:ct.function.name,args:ct.function.arguments}}),finishReason:K0(_e.finish_reason),usage:{promptTokens:(K=(H=Ne.usage)==null?void 0:H.prompt_tokens)!=null?K:NaN,completionTokens:(ue=(X=Ne.usage)==null?void 0:X.completion_tokens)!=null?ue:NaN},rawCall:{rawPrompt:he,rawSettings:Ie},rawResponse:{headers:Fe},request:{body:JSON.stringify(ce)},response:J0(Ne),warnings:ge,logprobs:KA(_e.logprobs),providerMetadata:ze}}async doStream(e){let{args:t,warnings:r}=this.getArgs(e),n={...t,stream:!0,stream_options:this.config.compatibility==="strict"?{include_usage:!0}:void 0},{responseHeaders:i,value:a}=await Xl({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:np(this.config.headers(),e.headers),body:n,failedResponseHandler:Cy,successfulResponseHandler:_y(WM),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:s,...f}=t,m=[],_="unknown",D={promptTokens:void 0,completionTokens:void 0},k,U=!0,{useLegacyFunctionCalling:z}=this.settings,ee;return{stream:a.pipeThrough(new TransformStream({transform(H,K){var X,ue,ce,ge,Fe,Ne,he,Ie,_e,ze,ct,gr,Tr,kt;if(!H.success){_="error",K.enqueue({type:"error",error:H.error});return}let Xr=H.value;if("error"in Xr){_="error",K.enqueue({type:"error",error:Xr.error});return}if(U&&(U=!1,K.enqueue({type:"response-metadata",...J0(Xr)})),Xr.usage!=null){D={promptTokens:(X=Xr.usage.prompt_tokens)!=null?X:void 0,completionTokens:(ue=Xr.usage.completion_tokens)!=null?ue:void 0};let{completion_tokens_details:Gt,prompt_tokens_details:ar}=Xr.usage;((Gt==null?void 0:Gt.reasoning_tokens)!=null||(ar==null?void 0:ar.cached_tokens)!=null)&&(ee={openai:{}},(Gt==null?void 0:Gt.reasoning_tokens)!=null&&(ee.openai.reasoningTokens=Gt==null?void 0:Gt.reasoning_tokens),(ar==null?void 0:ar.cached_tokens)!=null&&(ee.openai.cachedPromptTokens=ar==null?void 0:ar.cached_tokens))}let Ue=Xr.choices[0];if((Ue==null?void 0:Ue.finish_reason)!=null&&(_=K0(Ue.finish_reason)),(Ue==null?void 0:Ue.delta)==null)return;let Vr=Ue.delta;Vr.content!=null&&K.enqueue({type:"text-delta",textDelta:Vr.content});let We=KA(Ue==null?void 0:Ue.logprobs);We!=null&&We.length&&(k===void 0&&(k=[]),k.push(...We));let Qr=z&&Vr.function_call!=null?[{type:"function",id:em(),function:Vr.function_call,index:0}]:Vr.tool_calls;if(Qr!=null)for(let Gt of Qr){let ar=Gt.index;if(m[ar]==null){if(Gt.type!=="function")throw new O0({data:Gt,message:"Expected 'function' type."});if(Gt.id==null)throw new O0({data:Gt,message:"Expected 'id' to be a string."});if(((ce=Gt.function)==null?void 0:ce.name)==null)throw new O0({data:Gt,message:"Expected 'function.name' to be a string."});m[ar]={id:Gt.id,type:"function",function:{name:Gt.function.name,arguments:(ge=Gt.function.arguments)!=null?ge:""},hasFinished:!1};let et=m[ar];((Fe=et.function)==null?void 0:Fe.name)!=null&&((Ne=et.function)==null?void 0:Ne.arguments)!=null&&(et.function.arguments.length>0&&K.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:et.id,toolName:et.function.name,argsTextDelta:et.function.arguments}),Kw(et.function.arguments)&&(K.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(he=et.id)!=null?he:em(),toolName:et.function.name,args:et.function.arguments}),et.hasFinished=!0));continue}let Pr=m[ar];Pr.hasFinished||(((Ie=Gt.function)==null?void 0:Ie.arguments)!=null&&(Pr.function.arguments+=(ze=(_e=Gt.function)==null?void 0:_e.arguments)!=null?ze:""),K.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:Pr.id,toolName:Pr.function.name,argsTextDelta:(ct=Gt.function.arguments)!=null?ct:""}),((gr=Pr.function)==null?void 0:gr.name)!=null&&((Tr=Pr.function)==null?void 0:Tr.arguments)!=null&&Kw(Pr.function.arguments)&&(K.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(kt=Pr.id)!=null?kt:em(),toolName:Pr.function.name,args:Pr.function.arguments}),Pr.hasFinished=!0))}},flush(H){var K,X;H.enqueue({type:"finish",finishReason:_,logprobs:k,usage:{promptTokens:(K=D.promptTokens)!=null?K:NaN,completionTokens:(X=D.completionTokens)!=null?X:NaN},...ee!=null?{providerMetadata:ee}:{}})}})),rawCall:{rawPrompt:s,rawSettings:f},rawResponse:{headers:i},request:{body:JSON.stringify(n)},warnings:r}}},ZA=M.object({prompt_tokens:M.number().nullish(),completion_tokens:M.number().nullish(),prompt_tokens_details:M.object({cached_tokens:M.number().nullish()}).nullish(),completion_tokens_details:M.object({reasoning_tokens:M.number().nullish()}).nullish()}).nullish(),VM=M.object({id:M.string().nullish(),created:M.number().nullish(),model:M.string().nullish(),choices:M.array(M.object({message:M.object({role:M.literal("assistant").nullish(),content:M.string().nullish(),function_call:M.object({arguments:M.string(),name:M.string()}).nullish(),tool_calls:M.array(M.object({id:M.string().nullish(),type:M.literal("function"),function:M.object({name:M.string(),arguments:M.string()})})).nullish()}),index:M.number(),logprobs:M.object({content:M.array(M.object({token:M.string(),logprob:M.number(),top_logprobs:M.array(M.object({token:M.string(),logprob:M.number()}))})).nullable()}).nullish(),finish_reason:M.string().nullish()})),usage:ZA}),WM=M.union([M.object({id:M.string().nullish(),created:M.number().nullish(),model:M.string().nullish(),choices:M.array(M.object({delta:M.object({role:M.enum(["assistant"]).nullish(),content:M.string().nullish(),function_call:M.object({name:M.string().optional(),arguments:M.string().optional()}).nullish(),tool_calls:M.array(M.object({index:M.number(),id:M.string().nullish(),type:M.literal("function").optional(),function:M.object({name:M.string().nullish(),arguments:M.string().nullish()})})).nullish()}).nullish(),logprobs:M.object({content:M.array(M.object({token:M.string(),logprob:M.number(),top_logprobs:M.array(M.object({token:M.string(),logprob:M.number()}))})).nullable()}).nullish(),finish_reason:M.string().nullable().optional(),index:M.number()})),usage:ZA}),rb]);function HM(e){return e.startsWith("o1-")}function KM(e){return e.startsWith("gpt-4o-audio-preview")}function JM({prompt:e,inputFormat:t,user:r="user",assistant:n="assistant"}){if(t==="prompt"&&e.length===1&&e[0].role==="user"&&e[0].content.length===1&&e[0].content[0].type==="text")return{prompt:e[0].content[0].text};let i="";e[0].role==="system"&&(i+=`${e[0].content}

`,e=e.slice(1));for(let{role:a,content:s}of e)switch(a){case"system":throw new Xv({message:"Unexpected system message in prompt: ${content}",prompt:e});case"user":{let f=s.map(m=>{switch(m.type){case"text":return m.text;case"image":throw new Qn({functionality:"images"})}}).join("");i+=`${r}:
${f}

`;break}case"assistant":{let f=s.map(m=>{switch(m.type){case"text":return m.text;case"tool-call":throw new Qn({functionality:"tool-call messages"})}}).join("");i+=`${n}:
${f}

`;break}case"tool":throw new Qn({functionality:"tool messages"});default:{let f=a;throw new Error(`Unsupported role: ${f}`)}}return i+=`${n}:
`,{prompt:i,stopSequences:[`
${r}:`]}}function JA(e){return e==null?void 0:e.tokens.map((t,r)=>({token:t,logprob:e.token_logprobs[r],topLogprobs:e.top_logprobs?Object.entries(e.top_logprobs[r]).map(([n,i])=>({token:n,logprob:i})):[]}))}var ZM=class{constructor(e,t,r){this.specificationVersion="v1",this.defaultObjectGenerationMode=void 0,this.modelId=e,this.settings=t,this.config=r}get provider(){return this.config.provider}getArgs({mode:e,inputFormat:t,prompt:r,maxTokens:n,temperature:i,topP:a,topK:s,frequencyPenalty:f,presencePenalty:m,stopSequences:_,responseFormat:D,seed:k}){var U;let z=e.type,ee=[];s!=null&&ee.push({type:"unsupported-setting",setting:"topK"}),D!=null&&D.type!=="text"&&ee.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});let{prompt:H,stopSequences:K}=JM({prompt:r,inputFormat:t}),X=[...K??[],..._??[]],ue={model:this.modelId,echo:this.settings.echo,logit_bias:this.settings.logitBias,logprobs:typeof this.settings.logprobs=="number"?this.settings.logprobs:typeof this.settings.logprobs=="boolean"&&this.settings.logprobs?0:void 0,suffix:this.settings.suffix,user:this.settings.user,max_tokens:n,temperature:i,top_p:a,frequency_penalty:f,presence_penalty:m,seed:k,prompt:H,stop:X.length>0?X:void 0};switch(z){case"regular":{if((U=e.tools)!=null&&U.length)throw new Qn({functionality:"tools"});if(e.toolChoice)throw new Qn({functionality:"toolChoice"});return{args:ue,warnings:ee}}case"object-json":throw new Qn({functionality:"object-json mode"});case"object-tool":throw new Qn({functionality:"object-tool mode"});default:{let ce=z;throw new Error(`Unsupported type: ${ce}`)}}}async doGenerate(e){let{args:t,warnings:r}=this.getArgs(e),{responseHeaders:n,value:i}=await Xl({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:np(this.config.headers(),e.headers),body:t,failedResponseHandler:Cy,successfulResponseHandler:iv(XM),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:a,...s}=t,f=i.choices[0];return{text:f.text,usage:{promptTokens:i.usage.prompt_tokens,completionTokens:i.usage.completion_tokens},finishReason:K0(f.finish_reason),logprobs:JA(f.logprobs),rawCall:{rawPrompt:a,rawSettings:s},rawResponse:{headers:n},response:J0(i),warnings:r,request:{body:JSON.stringify(t)}}}async doStream(e){let{args:t,warnings:r}=this.getArgs(e),n={...t,stream:!0,stream_options:this.config.compatibility==="strict"?{include_usage:!0}:void 0},{responseHeaders:i,value:a}=await Xl({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:np(this.config.headers(),e.headers),body:n,failedResponseHandler:Cy,successfulResponseHandler:_y(QM),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:s,...f}=t,m="unknown",_={promptTokens:Number.NaN,completionTokens:Number.NaN},D,k=!0;return{stream:a.pipeThrough(new TransformStream({transform(U,z){if(!U.success){m="error",z.enqueue({type:"error",error:U.error});return}let ee=U.value;if("error"in ee){m="error",z.enqueue({type:"error",error:ee.error});return}k&&(k=!1,z.enqueue({type:"response-metadata",...J0(ee)})),ee.usage!=null&&(_={promptTokens:ee.usage.prompt_tokens,completionTokens:ee.usage.completion_tokens});let H=ee.choices[0];(H==null?void 0:H.finish_reason)!=null&&(m=K0(H.finish_reason)),(H==null?void 0:H.text)!=null&&z.enqueue({type:"text-delta",textDelta:H.text});let K=JA(H==null?void 0:H.logprobs);K!=null&&K.length&&(D===void 0&&(D=[]),D.push(...K))},flush(U){U.enqueue({type:"finish",finishReason:m,logprobs:D,usage:_})}})),rawCall:{rawPrompt:s,rawSettings:f},rawResponse:{headers:i},warnings:r,request:{body:JSON.stringify(n)}}}},XM=M.object({id:M.string().nullish(),created:M.number().nullish(),model:M.string().nullish(),choices:M.array(M.object({text:M.string(),finish_reason:M.string(),logprobs:M.object({tokens:M.array(M.string()),token_logprobs:M.array(M.number()),top_logprobs:M.array(M.record(M.string(),M.number())).nullable()}).nullish()})),usage:M.object({prompt_tokens:M.number(),completion_tokens:M.number()})}),QM=M.union([M.object({id:M.string().nullish(),created:M.number().nullish(),model:M.string().nullish(),choices:M.array(M.object({text:M.string(),finish_reason:M.string().nullish(),index:M.number(),logprobs:M.object({tokens:M.array(M.string()),token_logprobs:M.array(M.number()),top_logprobs:M.array(M.record(M.string(),M.number())).nullable()}).nullish()})),usage:M.object({prompt_tokens:M.number(),completion_tokens:M.number()}).nullish()}),rb]),eL=class{constructor(e,t,r){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=r}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){var e;return(e=this.settings.maxEmbeddingsPerCall)!=null?e:2048}get supportsParallelCalls(){var e;return(e=this.settings.supportsParallelCalls)!=null?e:!0}async doEmbed({values:e,headers:t,abortSignal:r}){if(e.length>this.maxEmbeddingsPerCall)throw new gA({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});let{responseHeaders:n,value:i}=await Xl({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:np(this.config.headers(),t),body:{model:this.modelId,input:e,encoding_format:"float",dimensions:this.settings.dimensions,user:this.settings.user},failedResponseHandler:Cy,successfulResponseHandler:iv(tL),abortSignal:r,fetch:this.config.fetch});return{embeddings:i.data.map(a=>a.embedding),usage:i.usage?{tokens:i.usage.prompt_tokens}:void 0,rawResponse:{headers:n}}}},tL=M.object({data:M.array(M.object({embedding:M.array(M.number())})),usage:M.object({prompt_tokens:M.number()}).nullish()}),rL=class{constructor(e,t){this.specificationVersion="v1",this.modelId=e,this.config=t}get provider(){return this.config.provider}async doGenerate({prompt:e,n:t,size:r,providerOptions:n,headers:i,abortSignal:a}){var s;let{value:f}=await Xl({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:np(this.config.headers(),i),body:{model:this.modelId,prompt:e,n:t,size:r,...(s=n.openai)!=null?s:{},response_format:"b64_json"},failedResponseHandler:Cy,successfulResponseHandler:iv(nL),abortSignal:a,fetch:this.config.fetch});return{images:f.data.map(m=>m.b64_json)}}},nL=M.object({data:M.array(M.object({b64_json:M.string()}))});function nb(e={}){var t,r,n;let i=(t=q0(e.baseURL))!=null?t:"https://api.openai.com/v1",a=(r=e.compatibility)!=null?r:"compatible",s=(n=e.name)!=null?n:"openai",f=()=>({Authorization:`Bearer ${B0({apiKey:e.apiKey,environmentVariableName:"OPENAI_API_KEY",description:"OpenAI"})}`,"OpenAI-Organization":e.organization,"OpenAI-Project":e.project,...e.headers}),m=(ee,H={})=>new $M(ee,H,{provider:`${s}.chat`,url:({path:K})=>`${i}${K}`,headers:f,compatibility:a,fetch:e.fetch}),_=(ee,H={})=>new ZM(ee,H,{provider:`${s}.completion`,url:({path:K})=>`${i}${K}`,headers:f,compatibility:a,fetch:e.fetch}),D=(ee,H={})=>new eL(ee,H,{provider:`${s}.embedding`,url:({path:K})=>`${i}${K}`,headers:f,fetch:e.fetch}),k=ee=>new rL(ee,{provider:`${s}.image`,url:({path:H})=>`${i}${H}`,headers:f,fetch:e.fetch}),U=(ee,H)=>{if(new.target)throw new Error("The OpenAI model function cannot be called with the new keyword.");return ee==="gpt-3.5-turbo-instruct"?_(ee,H):m(ee,H)},z=function(ee,H){return U(ee,H)};return z.languageModel=U,z.chat=m,z.completion=_,z.embedding=D,z.textEmbedding=D,z.textEmbeddingModel=D,z.image=k,z}var q5=nb({compatibility:"strict"});var Ps=require("vscode");function iL({role:e,content:t}){switch(e){case"system":return Ps.LanguageModelChatMessage.User(t);case"user":return Ps.LanguageModelChatMessage.User(t.map(r=>{switch(r.type){case"text":return new Ps.LanguageModelTextPart(r.text);case"image":throw new Error("Image content not supported");case"file":throw new Error("File content not supported")}}));case"tool":return Ps.LanguageModelChatMessage.User(t.map(r=>{switch(r.type){case"tool-result":let n=typeof r.result=="string"?r.result:JSON.stringify(r.result);return new Ps.LanguageModelToolResultPart(r.toolCallId,[new Ps.LanguageModelTextPart(n)])}}));case"assistant":return Ps.LanguageModelChatMessage.Assistant(t.map(r=>{switch(r.type){case"text":return new Ps.LanguageModelTextPart(r.text);case"tool-call":return new Ps.LanguageModelToolCallPart(r.toolCallId,r.toolName,r.args)}}))}}function aL(e){switch(e.type){case"function":return{name:e.name,description:e.description,inputSchema:e.parameters};case"provider-defined":throw new Error("Provider-defined tools not supported")}}var ib=class{specificationVersion="v1";defaultObjectGenerationMode="json";provider="copilot";supportsImageUrls=!1;constructor(t,r,n){this.modelId=t,this.settings=r,this.config=n}async doGenerate(t){throw new Error("Not implemented")}async doStream(t){var H;let[r]=await Ps.lm.selectChatModels({family:this.modelId,vendor:"copilot"});if(!r)throw new Error("Model not found: "+this.modelId);let{prompt:n,inputFormat:i,responseFormat:a,providerMetadata:s,headers:f,abortSignal:m,mode:_,...D}=t;if(_.type!=="regular")throw new Error("Request mode not supported: "+_.type);let k=n.map(iL),U=(H=_.tools)==null?void 0:H.map(aL);n.slice(-1)[0].role=="tool"&&k.push(Ps.LanguageModelChatMessage.User("Follow the instructions in the tool call results above"));let z=await r.sendRequest(k,{tools:U,modelOptions:{stream:!0,temperature:.2,max_tokens:16384,...D}});return{stream:new ReadableStream({async start(K){try{for await(let X of z.stream)X instanceof Ps.LanguageModelTextPart?K.enqueue({type:"text-delta",textDelta:X.value}):X instanceof Ps.LanguageModelToolCallPart&&K.enqueue({type:"tool-call",toolCallType:"function",toolCallId:X.callId,toolName:X.name,args:JSON.stringify(X.input)});K.close()}catch(X){K.error(X)}}}),rawCall:{rawPrompt:"",rawSettings:{}}}}};function XA(e){let t=(n,i={})=>new ib(n,i,{provider:"copilot"}),r=function(n,i={}){return t(n,i)};return r.chat=t,r}var oL={anthropic:tb,openai:nb,copilot:XA},QA={};function ab({id:e,provider:t,apiKey:r}){let n=QA[t];if(!n){let i=oL[t];if(!i)throw new Error("Unknown provider: "+t);n=i({apiKey:r}),QA[t]=n}return n(e,{cacheControl:!0})}var tN=function(e,t,r,n){var i;t[0]=0;for(var a=1;a<t.length;a++){var s=t[a++],f=t[a]?(t[0]|=s?1:2,r[t[a++]]):t[++a];s===3?n[0]=f:s===4?n[1]=Object.assign(n[1]||{},f):s===5?(n[1]=n[1]||{})[t[++a]]=f:s===6?n[1][t[++a]]+=f+"":s?(i=e.apply(f,tN(e,f,r,["",null])),n.push(i),f[0]?t[0]|=2:(t[a-2]=0,t[a]=i)):n.push(f)}return n},eN=new Map;function rN(e){var t=eN.get(this);return t||(t=new Map,eN.set(this,t)),(t=tN(this,t.get(e)||(t.set(e,t=function(r){for(var n,i,a=1,s="",f="",m=[0],_=function(U){a===1&&(U||(s=s.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?m.push(0,U,s):a===3&&(U||s)?(m.push(3,U,s),a=2):a===2&&s==="..."&&U?m.push(4,U,0):a===2&&s&&!U?m.push(5,0,!0,s):a>=5&&((s||!U&&a===5)&&(m.push(a,0,s,i),a=6),U&&(m.push(a,U,0,i),a=6)),s=""},D=0;D<r.length;D++){D&&(a===1&&_(),_(D));for(var k=0;k<r[D].length;k++)n=r[D][k],a===1?n==="<"?(_(),m=[m],a=3):s+=n:a===4?s==="--"&&n===">"?(a=1,s=""):s=n+s[0]:f?n===f?f="":s+=n:n==='"'||n==="'"?f=n:n===">"?(_(),a=1):a&&(n==="="?(a=5,i=s,s=""):n==="/"&&(a<5||r[D][k+1]===">")?(_(),a===3&&(m=m[0]),a=m,(m=m[0]).push(2,0,a),a=0):n===" "||n==="	"||n===`
`||n==="\r"?(_(),a=2):s+=n),a===3&&s==="!--"&&(a=4,m=m[0])}return _(),m}(e)),t),arguments,[])).length>1?t:t[0]}function ob(e){if(Array.isArray(e))return e.map(ob);if(typeof e!="string")return e;let t=e.split(`
`),r=100;if(t.forEach((n,i)=>{let a=n.match(/^(\s*)\S/);i&&a&&(r=Math.min(r,a[1].length))}),r<100)for(let n=1;n<t.length;n++)t[n]=t[n].slice(r);return t.join(`
`)}function sL(e,t,...r){return{type:e,props:t,children:ob(r)}}var uL=rN.bind(sL);function Iy(...e){return ob(uL(...e))}function Km(e,t=""){if(Array.isArray(e))return e.reduce((r,n)=>{let i=Km(n,t);return/^[\n]/.test(i)&&/[\n]$/.test(r)?r+i.slice(1):/^[\s\n]/.test(i)||/[\s\n]$/.test(r)?r+i:r&&i?r+" "+i:r||i||""},"");if((e==null?void 0:e.type)=="markdown"){let{props:r}=e;return r.text}if((e==null?void 0:e.type)=="code"){let{props:r}=e;return"\n```"+(r.type||"")+`
`+r.text+"\n```\n"}if(typeof(e==null?void 0:e.type)=="string"){let{type:r,children:n}=e;return Km([`
`+t+"<"+r+`>
`,Km(n,t+"  "),`
`+t+"</"+r+`>
`])}if(typeof(e==null?void 0:e.type)=="function"){let{type:r,props:n,children:i}=e;return Km(r(n,i),t)}return String(e??"").split(`
`).map(r=>t+r).join(`
`)}var sb=[{provider:"anthropic",family:"claude-3.5-sonnet",id:"claude-3-5-sonnet-20241022",name:"Claude 3.5 Sonnet",cacheControl:!0},{provider:"openai",family:"gpt-4o",id:"gpt-4o-2024-08-06",name:"GPT 4o"},{provider:"openrouter",family:"claude-3.5-sonnet",id:"anthropic/claude-3.5-sonnet:beta",name:"Claude 3.5 Sonnet",cacheControl:!0},{provider:"openrouter",family:"gpt-4o",id:"openai/gpt-4o-2024-08-06",name:"GPT 4o"}];var nN=[{id:"anthropic",name:"Anthropic",envKeyName:"ANTHROPIC_API_KEY",website:"https://console.anthropic.com"},{id:"openai",name:"OpenAI",envKeyName:"OPENAI_API_KEY",website:"https://platform.openai.com"},{id:"openrouter",name:"Open Router",envKeyName:"OPENROUTER_API_KEY",website:"https://openrouter.ai"}];var aN=Symbol("Let zodToJsonSchema decide on which parser to use"),iN={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},oN=e=>typeof e=="string"?{...iN,name:e}:{...iN,...e};var sN=e=>{let t=oN(e),r=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([n,i])=>[i._def,{def:i._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]))}};function ub(e,t,r,n){n!=null&&n.errorMessages&&r&&(e.errorMessage={...e.errorMessage,[t]:r})}function dn(e,t,r,n,i){e[t]=r,ub(e,t,n,i)}function uN(){return{}}function cN(e,t){var n,i,a;let r={type:"array"};return(n=e.type)!=null&&n._def&&((a=(i=e.type)==null?void 0:i._def)==null?void 0:a.typeName)!==Qe.ZodAny&&(r.items=_r(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&dn(r,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&dn(r,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(dn(r,"minItems",e.exactLength.value,e.exactLength.message,t),dn(r,"maxItems",e.exactLength.value,e.exactLength.message,t)),r}function fN(e,t){let r={type:"integer",format:"int64"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"min":t.target==="jsonSchema7"?n.inclusive?dn(r,"minimum",n.value,n.message,t):dn(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),dn(r,"minimum",n.value,n.message,t));break;case"max":t.target==="jsonSchema7"?n.inclusive?dn(r,"maximum",n.value,n.message,t):dn(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),dn(r,"maximum",n.value,n.message,t));break;case"multipleOf":dn(r,"multipleOf",n.value,n.message,t);break}return r}function lN(){return{type:"boolean"}}function Z0(e,t){return _r(e.type._def,t)}var dN=(e,t)=>_r(e.innerType._def,t);function cb(e,t,r){let n=r??t.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((i,a)=>cb(e,t,i))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return cL(e,t)}}var cL=(e,t)=>{let r={type:"integer",format:"unix-time"};if(t.target==="openApi3")return r;for(let n of e.checks)switch(n.kind){case"min":dn(r,"minimum",n.value,n.message,t);break;case"max":dn(r,"maximum",n.value,n.message,t);break}return r};function pN(e,t){return{..._r(e.innerType._def,t),default:e.defaultValue()}}function hN(e,t){return t.effectStrategy==="input"?_r(e.schema._def,t):{}}function vN(e){return{type:"string",enum:Array.from(e.values)}}var fL=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function mN(e,t){let r=[_r(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),_r(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(a=>!!a),n=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,i=[];return r.forEach(a=>{if(fL(a))i.push(...a.allOf),a.unevaluatedProperties===void 0&&(n=void 0);else{let s=a;if("additionalProperties"in a&&a.additionalProperties===!1){let{additionalProperties:f,...m}=a;s=m}else n=void 0;i.push(s)}}),i.length?{allOf:i,...n}:void 0}function gN(e,t){let r=typeof e.value;return r!=="bigint"&&r!=="number"&&r!=="boolean"&&r!=="string"?{type:Array.isArray(e.value)?"array":"object"}:t.target==="openApi3"?{type:r==="bigint"?"integer":r,enum:[e.value]}:{type:r==="bigint"?"integer":r,const:e.value}}var fb,ih={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(fb===void 0&&(fb=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),fb),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function X0(e,t){let r={type:"string"};if(e.checks)for(let n of e.checks)switch(n.kind){case"min":dn(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,t);break;case"max":dn(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"email":switch(t.emailStrategy){case"format:email":ah(r,"email",n.message,t);break;case"format:idn-email":ah(r,"idn-email",n.message,t);break;case"pattern:zod":Mc(r,ih.email,n.message,t);break}break;case"url":ah(r,"uri",n.message,t);break;case"uuid":ah(r,"uuid",n.message,t);break;case"regex":Mc(r,n.regex,n.message,t);break;case"cuid":Mc(r,ih.cuid,n.message,t);break;case"cuid2":Mc(r,ih.cuid2,n.message,t);break;case"startsWith":Mc(r,RegExp(`^${lb(n.value,t)}`),n.message,t);break;case"endsWith":Mc(r,RegExp(`${lb(n.value,t)}$`),n.message,t);break;case"datetime":ah(r,"date-time",n.message,t);break;case"date":ah(r,"date",n.message,t);break;case"time":ah(r,"time",n.message,t);break;case"duration":ah(r,"duration",n.message,t);break;case"length":dn(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,t),dn(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"includes":{Mc(r,RegExp(lb(n.value,t)),n.message,t);break}case"ip":{n.version!=="v6"&&ah(r,"ipv4",n.message,t),n.version!=="v4"&&ah(r,"ipv6",n.message,t);break}case"base64url":Mc(r,ih.base64url,n.message,t);break;case"jwt":Mc(r,ih.jwt,n.message,t);break;case"cidr":{n.version!=="v6"&&Mc(r,ih.ipv4Cidr,n.message,t),n.version!=="v4"&&Mc(r,ih.ipv6Cidr,n.message,t);break}case"emoji":Mc(r,ih.emoji(),n.message,t);break;case"ulid":{Mc(r,ih.ulid,n.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{ah(r,"binary",n.message,t);break}case"contentEncoding:base64":{dn(r,"contentEncoding","base64",n.message,t);break}case"pattern:zod":{Mc(r,ih.base64,n.message,t);break}}break}case"nanoid":Mc(r,ih.nanoid,n.message,t);case"toLowerCase":case"toUpperCase":case"trim":break;default:}return r}function lb(e,t){return t.patternStrategy==="escape"?dL(e):e}var lL=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function dL(e){let t="";for(let r=0;r<e.length;r++)lL.has(e[r])||(t+="\\"),t+=e[r];return t}function ah(e,t,r,n){var i;e.format||(i=e.anyOf)!=null&&i.some(a=>a.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&n.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):dn(e,"format",t,r,n)}function Mc(e,t,r,n){var i;e.pattern||(i=e.allOf)!=null&&i.some(a=>a.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&n.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.allOf.push({pattern:yN(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):dn(e,"pattern",yN(t,n),r,n)}function yN(e,t){var m;if(!t.applyRegexFlags||!e.flags)return e.source;let r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},n=r.i?e.source.toLowerCase():e.source,i="",a=!1,s=!1,f=!1;for(let _=0;_<n.length;_++){if(a){i+=n[_],a=!1;continue}if(r.i){if(s){if(n[_].match(/[a-z]/)){f?(i+=n[_],i+=`${n[_-2]}-${n[_]}`.toUpperCase(),f=!1):n[_+1]==="-"&&((m=n[_+2])!=null&&m.match(/[a-z]/))?(i+=n[_],f=!0):i+=`${n[_]}${n[_].toUpperCase()}`;continue}}else if(n[_].match(/[a-z]/)){i+=`[${n[_]}${n[_].toUpperCase()}]`;continue}}if(r.m){if(n[_]==="^"){i+=`(^|(?<=[\r
]))`;continue}else if(n[_]==="$"){i+=`($|(?=[\r
]))`;continue}}if(r.s&&n[_]==="."){i+=s?`${n[_]}\r
`:`[${n[_]}\r
]`;continue}i+=n[_],n[_]==="\\"?a=!0:s&&n[_]==="]"?s=!1:!s&&n[_]==="["&&(s=!0)}try{new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return i}function Q0(e,t){var n,i,a,s,f,m;if(t.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),t.target==="openApi3"&&((n=e.keyType)==null?void 0:n._def.typeName)===Qe.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((_,D)=>({..._,[D]:_r(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",D]})??{}}),{}),additionalProperties:!1};let r={type:"object",additionalProperties:_r(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??{}};if(t.target==="openApi3")return r;if(((i=e.keyType)==null?void 0:i._def.typeName)===Qe.ZodString&&((a=e.keyType._def.checks)!=null&&a.length)){let{type:_,...D}=X0(e.keyType._def,t);return{...r,propertyNames:D}}else{if(((s=e.keyType)==null?void 0:s._def.typeName)===Qe.ZodEnum)return{...r,propertyNames:{enum:e.keyType._def.values}};if(((f=e.keyType)==null?void 0:f._def.typeName)===Qe.ZodBranded&&e.keyType._def.type._def.typeName===Qe.ZodString&&((m=e.keyType._def.type._def.checks)!=null&&m.length)){let{type:_,...D}=Z0(e.keyType._def,t);return{...r,propertyNames:D}}}return r}function _N(e,t){if(t.mapStrategy==="record")return Q0(e,t);let r=_r(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},n=_r(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}function EN(e){let t=e.values,n=Object.keys(e.values).filter(a=>typeof t[t[a]]!="number").map(a=>t[a]),i=Array.from(new Set(n.map(a=>typeof a)));return{type:i.length===1?i[0]==="string"?"string":"number":["string","number"],enum:n}}function wN(){return{not:{}}}function bN(e){return e.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}var T_={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function DN(e,t){if(t.target==="openApi3")return SN(e,t);let r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(n=>n._def.typeName in T_&&(!n._def.checks||!n._def.checks.length))){let n=r.reduce((i,a)=>{let s=T_[a._def.typeName];return s&&!i.includes(s)?[...i,s]:i},[]);return{type:n.length>1?n:n[0]}}else if(r.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){let n=r.reduce((i,a)=>{let s=typeof a._def.value;switch(s){case"string":case"number":case"boolean":return[...i,s];case"bigint":return[...i,"integer"];case"object":if(a._def.value===null)return[...i,"null"];case"symbol":case"undefined":case"function":default:return i}},[]);if(n.length===r.length){let i=n.filter((a,s,f)=>f.indexOf(a)===s);return{type:i.length>1?i:i[0],enum:r.reduce((a,s)=>a.includes(s._def.value)?a:[...a,s._def.value],[])}}}else if(r.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((n,i)=>[...n,...i._def.values.filter(a=>!n.includes(a))],[])};return SN(e,t)}var SN=(e,t)=>{let r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((n,i)=>_r(n._def,{...t,currentPath:[...t.currentPath,"anyOf",`${i}`]})).filter(n=>!!n&&(!t.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return r.length?{anyOf:r}:void 0};function TN(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return t.target==="openApi3"?{type:T_[e.innerType._def.typeName],nullable:!0}:{type:[T_[e.innerType._def.typeName],"null"]};if(t.target==="openApi3"){let n=_r(e.innerType._def,{...t,currentPath:[...t.currentPath]});return n&&"$ref"in n?{allOf:[n],nullable:!0}:n&&{...n,nullable:!0}}let r=_r(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}function AN(e,t){let r={type:"number"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"int":r.type="integer",ub(r,"type",n.message,t);break;case"min":t.target==="jsonSchema7"?n.inclusive?dn(r,"minimum",n.value,n.message,t):dn(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),dn(r,"minimum",n.value,n.message,t));break;case"max":t.target==="jsonSchema7"?n.inclusive?dn(r,"maximum",n.value,n.message,t):dn(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),dn(r,"maximum",n.value,n.message,t));break;case"multipleOf":dn(r,"multipleOf",n.value,n.message,t);break}return r}function pL(e,t){return t.removeAdditionalStrategy==="strict"?e.catchall._def.typeName==="ZodNever"?e.unknownKeys!=="strict":_r(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0:e.catchall._def.typeName==="ZodNever"?e.unknownKeys==="passthrough":_r(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0}function NN(e,t){let r=t.target==="openAi",n={type:"object",...Object.entries(e.shape()).reduce((i,[a,s])=>{if(s===void 0||s._def===void 0)return i;let f=s.isOptional();f&&r&&(s instanceof Lf&&(s=s._def.innerType),s.isNullable()||(s=s.nullable()),f=!1);let m=_r(s._def,{...t,currentPath:[...t.currentPath,"properties",a],propertyPath:[...t.currentPath,"properties",a]});return m===void 0?i:{properties:{...i.properties,[a]:m},required:f?i.required:[...i.required,a]}},{properties:{},required:[]}),additionalProperties:pL(e,t)};return n.required.length||delete n.required,n}var CN=(e,t)=>{var n;if(t.currentPath.toString()===((n=t.propertyPath)==null?void 0:n.toString()))return _r(e.innerType._def,t);let r=_r(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:{}},r]}:{}};var IN=(e,t)=>{if(t.pipeStrategy==="input")return _r(e.in._def,t);if(t.pipeStrategy==="output")return _r(e.out._def,t);let r=_r(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=_r(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(i=>i!==void 0)}};function xN(e,t){return _r(e.type._def,t)}function PN(e,t){let n={type:"array",uniqueItems:!0,items:_r(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&dn(n,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&dn(n,"maxItems",e.maxSize.value,e.maxSize.message,t),n}function RN(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((r,n)=>_r(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[]),additionalItems:_r(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((r,n)=>_r(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[])}}function kN(){return{not:{}}}function ON(){return{}}var MN=(e,t)=>_r(e.innerType._def,t);function _r(e,t,r=!1){var s;let n=t.seen.get(e);if(t.override){let f=(s=t.override)==null?void 0:s.call(t,e,t,n,r);if(f!==aN)return f}if(n&&!r){let f=hL(n,t);if(f!==void 0)return f}let i={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,i);let a=mL(e,e.typeName,t);return a&&gL(e,t,a),i.jsonSchema=a,a}var hL=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:vL(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((r,n)=>t.currentPath[n]===r)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{}):t.$refStrategy==="seen"?{}:void 0}},vL=(e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")},mL=(e,t,r)=>{switch(t){case Qe.ZodString:return X0(e,r);case Qe.ZodNumber:return AN(e,r);case Qe.ZodObject:return NN(e,r);case Qe.ZodBigInt:return fN(e,r);case Qe.ZodBoolean:return lN();case Qe.ZodDate:return cb(e,r);case Qe.ZodUndefined:return kN();case Qe.ZodNull:return bN(r);case Qe.ZodArray:return cN(e,r);case Qe.ZodUnion:case Qe.ZodDiscriminatedUnion:return DN(e,r);case Qe.ZodIntersection:return mN(e,r);case Qe.ZodTuple:return RN(e,r);case Qe.ZodRecord:return Q0(e,r);case Qe.ZodLiteral:return gN(e,r);case Qe.ZodEnum:return vN(e);case Qe.ZodNativeEnum:return EN(e);case Qe.ZodNullable:return TN(e,r);case Qe.ZodOptional:return CN(e,r);case Qe.ZodMap:return _N(e,r);case Qe.ZodSet:return PN(e,r);case Qe.ZodLazy:return _r(e.getter()._def,r);case Qe.ZodPromise:return xN(e,r);case Qe.ZodNaN:case Qe.ZodNever:return wN();case Qe.ZodEffects:return hN(e,r);case Qe.ZodAny:return uN();case Qe.ZodUnknown:return ON();case Qe.ZodDefault:return pN(e,r);case Qe.ZodBranded:return Z0(e,r);case Qe.ZodReadonly:return MN(e,r);case Qe.ZodCatch:return dN(e,r);case Qe.ZodPipeline:return IN(e,r);case Qe.ZodFunction:case Qe.ZodVoid:case Qe.ZodSymbol:return;default:return(n=>{})(t)}},gL=(e,t,r)=>(e.description&&(r.description=e.description,t.markdownDescription&&(r.markdownDescription=e.description)),r);var LN=(e,t)=>{let r=sN(t),n=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((m,[_,D])=>({...m,[_]:_r(D._def,{...r,currentPath:[...r.basePath,r.definitionPath,_]},!0)??{}}),{}):void 0,i=typeof t=="string"?t:(t==null?void 0:t.nameStrategy)==="title"||t==null?void 0:t.name,a=_r(e._def,i===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,i]},!1)??{},s=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;s!==void 0&&(a.title=s);let f=i===void 0?n?{...a,[r.definitionPath]:n}:a:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,i].join("/"),[r.definitionPath]:{...n,[i]:a}};return r.target==="jsonSchema7"?f.$schema="http://json-schema.org/draft-07/schema#":(r.target==="jsonSchema2019-09"||r.target==="openAi")&&(f.$schema="https://json-schema.org/draft/2019-09/schema#"),r.target==="openAi"&&("anyOf"in f||"oneOf"in f||"allOf"in f||"type"in f&&Array.isArray(f.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),f};var FN=LN;var A_={code:"0",name:"text",parse:e=>{if(typeof e!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},N_={code:"3",name:"error",parse:e=>{if(typeof e!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},C_={code:"4",name:"assistant_message",parse:e=>{if(e==null||typeof e!="object"||!("id"in e)||!("role"in e)||!("content"in e)||typeof e.id!="string"||typeof e.role!="string"||e.role!=="assistant"||!Array.isArray(e.content)||!e.content.every(t=>t!=null&&typeof t=="object"&&"type"in t&&t.type==="text"&&"text"in t&&t.text!=null&&typeof t.text=="object"&&"value"in t.text&&typeof t.text.value=="string"))throw new Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},I_={code:"5",name:"assistant_control_data",parse:e=>{if(e==null||typeof e!="object"||!("threadId"in e)||!("messageId"in e)||typeof e.threadId!="string"||typeof e.messageId!="string")throw new Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}},x_={code:"6",name:"data_message",parse:e=>{if(e==null||typeof e!="object"||!("role"in e)||!("data"in e)||typeof e.role!="string"||e.role!=="data")throw new Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}}},yL=[A_,N_,C_,I_,x_],Oq={[A_.code]:A_,[N_.code]:N_,[C_.code]:C_,[I_.code]:I_,[x_.code]:x_},Mq={[A_.name]:A_.code,[N_.name]:N_.code,[C_.name]:C_.code,[I_.name]:I_.code,[x_.name]:x_.code},Lq=yL.map(e=>e.code);var P_={code:"0",name:"text",parse:e=>{if(typeof e!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},R_={code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw new Error('"data" parts expect an array value.');return{type:"data",value:e}}},k_={code:"3",name:"error",parse:e=>{if(typeof e!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},O_={code:"8",name:"message_annotations",parse:e=>{if(!Array.isArray(e))throw new Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}}},M_={code:"9",name:"tool_call",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string"||!("args"in e)||typeof e.args!="object")throw new Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:e}}},L_={code:"a",name:"tool_result",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("result"in e))throw new Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:e}}},F_={code:"b",name:"tool_call_streaming_start",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string")throw new Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:e}}},U_={code:"c",name:"tool_call_delta",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("argsTextDelta"in e)||typeof e.argsTextDelta!="string")throw new Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:e}}},B_={code:"d",name:"finish_message",parse:e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_message" parts expect an object with a "finishReason" property.');let t={finishReason:e.finishReason};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),{type:"finish_message",value:t}}},j_={code:"e",name:"finish_step",parse:e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_step" parts expect an object with a "finishReason" property.');let t={finishReason:e.finishReason,isContinued:!1};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),"isContinued"in e&&typeof e.isContinued=="boolean"&&(t.isContinued=e.isContinued),{type:"finish_step",value:t}}},UN=[P_,R_,k_,O_,M_,L_,F_,U_,B_,j_],Fq={[P_.code]:P_,[R_.code]:R_,[k_.code]:k_,[O_.code]:O_,[M_.code]:M_,[L_.code]:L_,[F_.code]:F_,[U_.code]:U_,[B_.code]:B_,[j_.code]:j_},Uq={[P_.name]:P_.code,[R_.name]:R_.code,[k_.name]:k_.code,[O_.name]:O_.code,[M_.name]:M_.code,[L_.name]:L_.code,[F_.name]:F_.code,[U_.name]:U_.code,[B_.name]:B_.code,[j_.name]:j_.code},Bq=UN.map(e=>e.code);function td(e,t){let r=UN.find(n=>n.name===e);if(!r)throw new Error(`Invalid stream part type: ${e}`);return`${r.code}:${JSON.stringify(t)}
`}var db=Symbol.for("vercel.ai.schema");function _L(e,{validate:t}={}){return{[db]:!0,_type:void 0,[__]:!0,jsonSchema:e,validate:t}}function EL(e){return typeof e=="object"&&e!==null&&db in e&&e[db]===!0&&"jsonSchema"in e&&"validate"in e}function Lg(e){return EL(e)?e:wL(e)}function wL(e){return _L(FN(e),{validate:t=>{let r=e.safeParse(t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}}})}var BN=typeof globalThis=="object"?globalThis:global;var am="1.9.0";var jN=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function bL(e){var t=new Set([e]),r=new Set,n=e.match(jN);if(!n)return function(){return!1};var i={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(i.prerelease!=null)return function(m){return m===e};function a(f){return r.add(f),!1}function s(f){return t.add(f),!0}return function(m){if(t.has(m))return!0;if(r.has(m))return!1;var _=m.match(jN);if(!_)return a(m);var D={major:+_[1],minor:+_[2],patch:+_[3],prerelease:_[4]};return D.prerelease!=null||i.major!==D.major?a(m):i.major===0?i.minor===D.minor&&i.patch<=D.patch?s(m):a(m):i.minor<=D.minor?s(m):a(m)}}var GN=bL(am);var SL=am.split(".")[0],G_=Symbol.for("opentelemetry.js.api."+SL),q_=BN;function xy(e,t,r,n){var i;n===void 0&&(n=!1);var a=q_[G_]=(i=q_[G_])!==null&&i!==void 0?i:{version:am};if(!n&&a[e]){var s=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(s.stack||s.message),!1}if(a.version!==am){var s=new Error("@opentelemetry/api: Registration of version v"+a.version+" for "+e+" does not match previously registered API v"+am);return r.error(s.stack||s.message),!1}return a[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+am+"."),!0}function om(e){var t,r,n=(t=q_[G_])===null||t===void 0?void 0:t.version;if(!(!n||!GN(n)))return(r=q_[G_])===null||r===void 0?void 0:r[e]}function Py(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+am+".");var r=q_[G_];r&&delete r[e]}var DL=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(f){s={error:f}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a},TL=function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))},qN=function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Y_("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Y_("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Y_("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Y_("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Y_("verbose",this._namespace,t)},e}();function Y_(e,t,r){var n=om("diag");if(n)return r.unshift(t),n[e].apply(n,TL([],DL(r),!1))}var Lc;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(Lc||(Lc={}));function YN(e,t){e<Lc.NONE?e=Lc.NONE:e>Lc.ALL&&(e=Lc.ALL),t=t||{};function r(n,i){var a=t[n];return typeof a=="function"&&e>=i?a.bind(t):function(){}}return{error:r("error",Lc.ERROR),warn:r("warn",Lc.WARN),info:r("info",Lc.INFO),debug:r("debug",Lc.DEBUG),verbose:r("verbose",Lc.VERBOSE)}}var AL=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(f){s={error:f}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a},NL=function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))},CL="diag",Ry=function(){function e(){function t(i){return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var f=om("diag");if(f)return f[i].apply(f,NL([],AL(a),!1))}}var r=this,n=function(i,a){var s,f,m;if(a===void 0&&(a={logLevel:Lc.INFO}),i===r){var _=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error((s=_.stack)!==null&&s!==void 0?s:_.message),!1}typeof a=="number"&&(a={logLevel:a});var D=om("diag"),k=YN((f=a.logLevel)!==null&&f!==void 0?f:Lc.INFO,i);if(D&&!a.suppressOverrideMessage){var U=(m=new Error().stack)!==null&&m!==void 0?m:"<failed to generate stacktrace>";D.warn("Current logger will be overwritten from "+U),k.warn("Current logger will overwrite one already registered from "+U)}return xy("diag",k,r,!0)};r.setLogger=n,r.disable=function(){Py(CL,r)},r.createComponentLogger=function(i){return new qN(i)},r.verbose=t("verbose"),r.debug=t("debug"),r.info=t("info"),r.warn=t("warn"),r.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}();function zN(e){return Symbol.for(e)}var IL=function(){function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(n){return r._currentContext.get(n)},r.setValue=function(n,i){var a=new e(r._currentContext);return a._currentContext.set(n,i),a},r.deleteValue=function(n){var i=new e(r._currentContext);return i._currentContext.delete(n),i}}return e}(),$N=new IL;var xL=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(f){s={error:f}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a},PL=function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))},VN=function(){function e(){}return e.prototype.active=function(){return $N},e.prototype.with=function(t,r,n){for(var i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];return r.call.apply(r,PL([n],xL(i),!1))},e.prototype.bind=function(t,r){return r},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}();var RL=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(f){s={error:f}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a},kL=function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))},pb="context",OL=new VN,eE=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return xy(pb,t,Ry.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,r,n){for(var i,a=[],s=3;s<arguments.length;s++)a[s-3]=arguments[s];return(i=this._getContextManager()).with.apply(i,kL([t,r,n],RL(a),!1))},e.prototype.bind=function(t,r){return this._getContextManager().bind(t,r)},e.prototype._getContextManager=function(){return om(pb)||OL},e.prototype.disable=function(){this._getContextManager().disable(),Py(pb,Ry.instance())},e}();var tE;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(tE||(tE={}));var hb="0000000000000000",vb="00000000000000000000000000000000",WN={traceId:vb,spanId:hb,traceFlags:tE.NONE};var Jm=function(){function e(t){t===void 0&&(t=WN),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,r){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,r){return this},e.prototype.addLink=function(t){return this},e.prototype.addLinks=function(t){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,r){},e}();var mb=zN("OpenTelemetry Context Key SPAN");function rE(e){return e.getValue(mb)||void 0}function HN(){return rE(eE.getInstance().active())}function z_(e,t){return e.setValue(mb,t)}function KN(e){return e.deleteValue(mb)}function JN(e,t){return z_(e,new Jm(t))}function nE(e){var t;return(t=rE(e))===null||t===void 0?void 0:t.spanContext()}var ML=/^([0-9a-f]{32})$/i,LL=/^[0-9a-f]{16}$/i;function FL(e){return ML.test(e)&&e!==vb}function UL(e){return LL.test(e)&&e!==hb}function iE(e){return FL(e.traceId)&&UL(e.spanId)}function ZN(e){return new Jm(e)}var gb=eE.getInstance(),aE=function(){function e(){}return e.prototype.startSpan=function(t,r,n){n===void 0&&(n=gb.active());var i=!!(r!=null&&r.root);if(i)return new Jm;var a=n&&nE(n);return BL(a)&&iE(a)?new Jm(a):new Jm},e.prototype.startActiveSpan=function(t,r,n,i){var a,s,f;if(!(arguments.length<2)){arguments.length===2?f=r:arguments.length===3?(a=r,f=n):(a=r,s=n,f=i);var m=s??gb.active(),_=this.startSpan(t,a,m),D=z_(m,_);return gb.with(D,f,void 0,_)}},e}();function BL(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}var jL=new aE,XN=function(){function e(t,r,n,i){this._provider=t,this.name=r,this.version=n,this.options=i}return e.prototype.startSpan=function(t,r,n){return this._getTracer().startSpan(t,r,n)},e.prototype.startActiveSpan=function(t,r,n,i){var a=this._getTracer();return Reflect.apply(a.startActiveSpan,a,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):jL},e}();var QN=function(){function e(){}return e.prototype.getTracer=function(t,r,n){return new aE},e}();var GL=new QN,yb=function(){function e(){}return e.prototype.getTracer=function(t,r,n){var i;return(i=this.getDelegateTracer(t,r,n))!==null&&i!==void 0?i:new XN(this,t,r,n)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:GL},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,r,n){var i;return(i=this._delegate)===null||i===void 0?void 0:i.getTracer(t,r,n)},e}();var ky;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(ky||(ky={}));var _b="trace",eC=function(){function e(){this._proxyTracerProvider=new yb,this.wrapSpanContext=ZN,this.isSpanContextValid=iE,this.deleteSpan=KN,this.getSpan=rE,this.getActiveSpan=HN,this.getSpanContext=nE,this.setSpan=z_,this.setSpanContext=JN}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var r=xy(_b,this._proxyTracerProvider,Ry.instance());return r&&this._proxyTracerProvider.setDelegate(t),r},e.prototype.getTracerProvider=function(){return om(_b)||this._proxyTracerProvider},e.prototype.getTracer=function(t,r){return this.getTracerProvider().getTracer(t,r)},e.prototype.disable=function(){Py(_b,Ry.instance()),this._proxyTracerProvider=new yb},e}();var Eb=eC.getInstance();var qL=Object.defineProperty,Tb=(e,t)=>{for(var r in t)qL(e,r,{get:t[r],enumerable:!0})};function sE(e,{contentType:t,dataStreamVersion:r}){let n=new Headers(e??{});return n.has("Content-Type")||n.set("Content-Type",t),r!==void 0&&n.set("X-Vercel-AI-Data-Stream",r),n}function tC(e,{contentType:t,dataStreamVersion:r}){let n={};if(e!=null)for(let[i,a]of Object.entries(e))n[i]=a;return n["Content-Type"]==null&&(n["Content-Type"]=t),r!==void 0&&(n["X-Vercel-AI-Data-Stream"]=r),n}function rC({response:e,status:t,statusText:r,headers:n,stream:i}){e.writeHead(t??200,r,n);let a=i.getReader();(async()=>{try{for(;;){let{done:f,value:m}=await a.read();if(f)break;e.write(m)}}catch(f){throw f}finally{e.end()}})()}var lC="AI_InvalidArgumentError",dC=`vercel.ai.error.${lC}`,YL=Symbol.for(dC),pC,oh=class extends Qt{constructor({parameter:e,value:t,message:r}){super({name:lC,message:`Invalid argument for parameter ${e}: ${r}`}),this[pC]=!0,this.parameter=e,this.value=t}static isInstance(e){return Qt.hasMarker(e,dC)}};pC=YL;async function zL(e){return e===void 0?Promise.resolve():new Promise(t=>setTimeout(t,e))}var hC="AI_RetryError",vC=`vercel.ai.error.${hC}`,$L=Symbol.for(vC),mC,nC=class extends Qt{constructor({message:e,reason:t,errors:r}){super({name:hC,message:e}),this[mC]=!0,this.reason=t,this.errors=r,this.lastError=r[r.length-1]}static isInstance(e){return Qt.hasMarker(e,vC)}};mC=$L;var VL=({maxRetries:e=2,initialDelayInMs:t=2e3,backoffFactor:r=2}={})=>async n=>gC(n,{maxRetries:e,delayInMs:t,backoffFactor:r});async function gC(e,{maxRetries:t,delayInMs:r,backoffFactor:n},i=[]){try{return await e()}catch(a){if(y_(a)||t===0)throw a;let s=RA(a),f=[...i,a],m=f.length;if(m>t)throw new nC({message:`Failed after ${m} attempts. Last error: ${s}`,reason:"maxRetriesExceeded",errors:f});if(a instanceof Error&&Zl.isInstance(a)&&a.isRetryable===!0&&m<=t)return await zL(r),gC(e,{maxRetries:t,delayInMs:n*r,backoffFactor:n},f);throw m===1?a:new nC({message:`Failed after ${m} attempts with non-retryable error: '${s}'`,reason:"errorNotRetryable",errors:f})}}function WL({maxRetries:e}){if(e!=null){if(!Number.isInteger(e))throw new oh({parameter:"maxRetries",value:e,message:"maxRetries must be an integer"});if(e<0)throw new oh({parameter:"maxRetries",value:e,message:"maxRetries must be >= 0"})}let t=e??2;return{maxRetries:t,retry:VL({maxRetries:t})}}function bb({operationId:e,telemetry:t}){return{"operation.name":`${e}${(t==null?void 0:t.functionId)!=null?` ${t.functionId}`:""}`,"resource.name":t==null?void 0:t.functionId,"ai.operationId":e,"ai.telemetry.functionId":t==null?void 0:t.functionId}}function HL({model:e,settings:t,telemetry:r,headers:n}){var i;return{"ai.model.provider":e.provider,"ai.model.id":e.modelId,...Object.entries(t).reduce((a,[s,f])=>(a[`ai.settings.${s}`]=f,a),{}),...Object.entries((i=r==null?void 0:r.metadata)!=null?i:{}).reduce((a,[s,f])=>(a[`ai.telemetry.metadata.${s}`]=f,a),{}),...Object.entries(n??{}).reduce((a,[s,f])=>(f!==void 0&&(a[`ai.request.headers.${s}`]=f),a),{})}}var KL={startSpan(){return oE},startActiveSpan(e,t,r,n){if(typeof t=="function")return t(oE);if(typeof r=="function")return r(oE);if(typeof n=="function")return n(oE)}},oE={spanContext(){return JL},setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording(){return!1},recordException(){return this}},JL={traceId:"",spanId:"",traceFlags:0};function ZL({isEnabled:e=!1,tracer:t}={}){return e?t||Eb.getTracer("ai"):KL}function Sb({name:e,tracer:t,attributes:r,fn:n,endWhenDone:i=!0}){return t.startActiveSpan(e,{attributes:r},async a=>{try{let s=await n(a);return i&&a.end(),s}catch(s){try{s instanceof Error?(a.recordException({name:s.name,message:s.message,stack:s.stack}),a.setStatus({code:ky.ERROR,message:s.message})):a.setStatus({code:ky.ERROR})}finally{a.end()}throw s}})}function Oy({telemetry:e,attributes:t}){return(e==null?void 0:e.isEnabled)!==!0?{}:Object.entries(t).reduce((r,[n,i])=>{if(i===void 0)return r;if(typeof i=="object"&&"input"in i&&typeof i.input=="function"){if((e==null?void 0:e.recordInputs)===!1)return r;let a=i.input();return a===void 0?r:{...r,[n]:a}}if(typeof i=="object"&&"output"in i&&typeof i.output=="function"){if((e==null?void 0:e.recordOutputs)===!1)return r;let a=i.output();return a===void 0?r:{...r,[n]:a}}return{...r,[n]:i}},{})}var yC="AI_NoObjectGeneratedError",_C=`vercel.ai.error.${yC}`,XL=Symbol.for(_C),EC,iC=class extends Qt{constructor({message:e="No object generated.",cause:t,text:r,response:n,usage:i}){super({name:yC,message:e,cause:t}),this[EC]=!0,this.text=r,this.response=n,this.usage=i}static isInstance(e){return Qt.hasMarker(e,_C)}};EC=XL;var wC="AI_DownloadError",bC=`vercel.ai.error.${wC}`,QL=Symbol.for(bC),SC,wb=class extends Qt{constructor({url:e,statusCode:t,statusText:r,cause:n,message:i=n==null?`Failed to download ${e}: ${t} ${r}`:`Failed to download ${e}: ${n}`}){super({name:wC,message:i,cause:n}),this[SC]=!0,this.url=e,this.statusCode=t,this.statusText=r}static isInstance(e){return Qt.hasMarker(e,bC)}};SC=QL;async function eF({url:e,fetchImplementation:t=fetch}){var r;let n=e.toString();try{let i=await t(n);if(!i.ok)throw new wb({url:n,statusCode:i.status,statusText:i.statusText});return{data:new Uint8Array(await i.arrayBuffer()),mimeType:(r=i.headers.get("content-type"))!=null?r:void 0}}catch(i){throw wb.isInstance(i)?i:new wb({url:n,cause:i})}}var tF=[{mimeType:"image/gif",bytes:[71,73,70]},{mimeType:"image/png",bytes:[137,80,78,71]},{mimeType:"image/jpeg",bytes:[255,216]},{mimeType:"image/webp",bytes:[82,73,70,70]}];function rF(e){for(let{bytes:t,mimeType:r}of tF)if(e.length>=t.length&&t.every((n,i)=>e[i]===n))return r}var DC="AI_InvalidDataContentError",TC=`vercel.ai.error.${DC}`,nF=Symbol.for(TC),AC,aC=class extends Qt{constructor({content:e,cause:t,message:r=`Invalid data content. Expected a base64 string, Uint8Array, ArrayBuffer, or Buffer, but got ${typeof e}.`}){super({name:DC,message:r,cause:t}),this[AC]=!0,this.content=e}static isInstance(e){return Qt.hasMarker(e,TC)}};AC=nF;var NC=M.union([M.string(),M.instanceof(Uint8Array),M.instanceof(ArrayBuffer),M.custom(e=>{var t,r;return(r=(t=globalThis.Buffer)==null?void 0:t.isBuffer(e))!=null?r:!1},{message:"Must be a Buffer"})]);function iF(e){return typeof e=="string"?e:e instanceof ArrayBuffer?_g(new Uint8Array(e)):_g(e)}function uE(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")try{return OA(e)}catch(t){throw new aC({message:"Invalid data content. Content string is not a base64-encoded media.",content:e,cause:t})}if(e instanceof ArrayBuffer)return new Uint8Array(e);throw new aC({content:e})}function aF(e){try{return new TextDecoder().decode(e)}catch{throw new Error("Error decoding Uint8Array to text")}}var CC="AI_InvalidMessageRoleError",IC=`vercel.ai.error.${CC}`,oF=Symbol.for(IC),xC,sF=class extends Qt{constructor({role:e,message:t=`Invalid message role: '${e}'. Must be one of: "system", "user", "assistant", "tool".`}){super({name:CC,message:t}),this[xC]=!0,this.role=e}static isInstance(e){return Qt.hasMarker(e,IC)}};xC=oF;function uF(e){try{let[t,r]=e.split(",");return{mimeType:t.split(";")[0].split(":")[1],base64Content:r}}catch{return{mimeType:void 0,base64Content:void 0}}}async function cF({prompt:e,modelSupportsImageUrls:t=!0,modelSupportsUrl:r=()=>!1,downloadImplementation:n=eF}){let i=await lF(e.messages,n,t,r);return[...e.system!=null?[{role:"system",content:e.system}]:[],...e.messages.map(a=>fF(a,i))]}function fF(e,t){let r=e.role;switch(r){case"system":return{role:"system",content:e.content,providerMetadata:e.experimental_providerMetadata};case"user":return typeof e.content=="string"?{role:"user",content:[{type:"text",text:e.content}],providerMetadata:e.experimental_providerMetadata}:{role:"user",content:e.content.map(n=>dF(n,t)).filter(n=>n.type!=="text"||n.text!==""),providerMetadata:e.experimental_providerMetadata};case"assistant":return typeof e.content=="string"?{role:"assistant",content:[{type:"text",text:e.content}],providerMetadata:e.experimental_providerMetadata}:{role:"assistant",content:e.content.filter(n=>n.type!=="text"||n.text!=="").map(n=>{let{experimental_providerMetadata:i,...a}=n;return{...a,providerMetadata:i}}),providerMetadata:e.experimental_providerMetadata};case"tool":return{role:"tool",content:e.content.map(n=>({type:"tool-result",toolCallId:n.toolCallId,toolName:n.toolName,result:n.result,content:n.experimental_content,isError:n.isError,providerMetadata:n.experimental_providerMetadata})),providerMetadata:e.experimental_providerMetadata};default:{let n=r;throw new sF({role:n})}}}async function lF(e,t,r,n){let i=e.filter(s=>s.role==="user").map(s=>s.content).filter(s=>Array.isArray(s)).flat().filter(s=>s.type==="image"||s.type==="file").filter(s=>!(s.type==="image"&&r===!0)).map(s=>s.type==="image"?s.image:s.data).map(s=>typeof s=="string"&&(s.startsWith("http:")||s.startsWith("https:"))?new URL(s):s).filter(s=>s instanceof URL).filter(s=>!n(s)),a=await Promise.all(i.map(async s=>({url:s,data:await t({url:s})})));return Object.fromEntries(a.map(({url:s,data:f})=>[s.toString(),f]))}function dF(e,t){if(e.type==="text")return{type:"text",text:e.text,providerMetadata:e.experimental_providerMetadata};let r=e.mimeType,n,i,a,s=e.type;switch(s){case"image":n=e.image;break;case"file":n=e.data;break;default:throw new Error(`Unsupported part type: ${s}`)}try{i=typeof n=="string"?new URL(n):n}catch{i=n}if(i instanceof URL)if(i.protocol==="data:"){let{mimeType:f,base64Content:m}=uF(i.toString());if(f==null||m==null)throw new Error(`Invalid data URL format in part ${s}`);r=f,a=uE(m)}else{let f=t[i.toString()];f?(a=f.data,r??(r=f.mimeType)):a=i}else a=uE(i);switch(s){case"image":return r==null&&a instanceof Uint8Array&&(r=rF(a)),{type:"image",image:a,mimeType:r,providerMetadata:e.experimental_providerMetadata};case"file":if(r==null)throw new Error("Mime type is missing for file part");return{type:"file",data:a instanceof Uint8Array?iF(a):a,mimeType:r,providerMetadata:e.experimental_providerMetadata}}}function pF({maxTokens:e,temperature:t,topP:r,topK:n,presencePenalty:i,frequencyPenalty:a,stopSequences:s,seed:f}){if(e!=null){if(!Number.isInteger(e))throw new oh({parameter:"maxTokens",value:e,message:"maxTokens must be an integer"});if(e<1)throw new oh({parameter:"maxTokens",value:e,message:"maxTokens must be >= 1"})}if(t!=null&&typeof t!="number")throw new oh({parameter:"temperature",value:t,message:"temperature must be a number"});if(r!=null&&typeof r!="number")throw new oh({parameter:"topP",value:r,message:"topP must be a number"});if(n!=null&&typeof n!="number")throw new oh({parameter:"topK",value:n,message:"topK must be a number"});if(i!=null&&typeof i!="number")throw new oh({parameter:"presencePenalty",value:i,message:"presencePenalty must be a number"});if(a!=null&&typeof a!="number")throw new oh({parameter:"frequencyPenalty",value:a,message:"frequencyPenalty must be a number"});if(f!=null&&!Number.isInteger(f))throw new oh({parameter:"seed",value:f,message:"seed must be an integer"});return{maxTokens:e,temperature:t??0,topP:r,topK:n,presencePenalty:i,frequencyPenalty:a,stopSequences:s!=null&&s.length>0?s:void 0,seed:f}}var Db=M.lazy(()=>M.union([M.null(),M.string(),M.number(),M.boolean(),M.record(M.string(),Db),M.array(Db)])),Zm=M.record(M.string(),M.record(M.string(),Db)),hF=M.array(M.union([M.object({type:M.literal("text"),text:M.string()}),M.object({type:M.literal("image"),data:M.string(),mimeType:M.string().optional()})])),PC=M.object({type:M.literal("text"),text:M.string(),experimental_providerMetadata:Zm.optional()}),vF=M.object({type:M.literal("image"),image:M.union([NC,M.instanceof(URL)]),mimeType:M.string().optional(),experimental_providerMetadata:Zm.optional()}),mF=M.object({type:M.literal("file"),data:M.union([NC,M.instanceof(URL)]),mimeType:M.string(),experimental_providerMetadata:Zm.optional()}),gF=M.object({type:M.literal("tool-call"),toolCallId:M.string(),toolName:M.string(),args:M.unknown()}),yF=M.object({type:M.literal("tool-result"),toolCallId:M.string(),toolName:M.string(),result:M.unknown(),content:hF.optional(),isError:M.boolean().optional(),experimental_providerMetadata:Zm.optional()}),_F=M.object({role:M.literal("system"),content:M.string(),experimental_providerMetadata:Zm.optional()}),EF=M.object({role:M.literal("user"),content:M.union([M.string(),M.array(M.union([PC,vF,mF]))]),experimental_providerMetadata:Zm.optional()}),wF=M.object({role:M.literal("assistant"),content:M.union([M.string(),M.array(M.union([PC,gF]))]),experimental_providerMetadata:Zm.optional()}),bF=M.object({role:M.literal("tool"),content:M.array(yF),experimental_providerMetadata:Zm.optional()}),SF=M.union([_F,EF,wF,bF]);function DF(e){if(!Array.isArray(e))return"other";if(e.length===0)return"messages";let t=e.map(TF);return t.some(r=>r==="has-ui-specific-parts")?"ui-messages":t.every(r=>r==="has-core-specific-parts"||r==="message")?"messages":"other"}function TF(e){return typeof e=="object"&&e!==null&&(e.role==="function"||e.role==="data"||"toolInvocations"in e||"experimental_attachments"in e)?"has-ui-specific-parts":typeof e=="object"&&e!==null&&"content"in e&&(Array.isArray(e.content)||"experimental_providerMetadata"in e)?"has-core-specific-parts":typeof e=="object"&&e!==null&&"role"in e&&"content"in e&&typeof e.content=="string"&&["system","user","assistant","tool"].includes(e.role)?"message":"other"}function AF(e){var t,r,n;let i=[];for(let a of e){let s;try{s=new URL(a.url)}catch{throw new Error(`Invalid URL: ${a.url}`)}switch(s.protocol){case"http:":case"https:":{if((t=a.contentType)!=null&&t.startsWith("image/"))i.push({type:"image",image:s});else{if(!a.contentType)throw new Error("If the attachment is not an image, it must specify a content type");i.push({type:"file",data:s,mimeType:a.contentType})}break}case"data:":{let f,m,_;try{[f,m]=a.url.split(","),_=f.split(";")[0].split(":")[1]}catch{throw new Error(`Error processing data URL: ${a.url}`)}if(_==null||m==null)throw new Error(`Invalid data URL format: ${a.url}`);if((r=a.contentType)!=null&&r.startsWith("image/"))i.push({type:"image",image:uE(m)});else if((n=a.contentType)!=null&&n.startsWith("text/"))i.push({type:"text",text:aF(uE(m))});else{if(!a.contentType)throw new Error("If the attachment is not an image or text, it must specify a content type");i.push({type:"file",data:m,mimeType:a.contentType})}break}default:throw new Error(`Unsupported URL protocol: ${s.protocol}`)}}return i}var RC="AI_MessageConversionError",kC=`vercel.ai.error.${RC}`,NF=Symbol.for(kC),OC,oC=class extends Qt{constructor({originalMessage:e,message:t}){super({name:RC,message:t}),this[OC]=!0,this.originalMessage=e}static isInstance(e){return Qt.hasMarker(e,kC)}};OC=NF;function CF(e,t){var r;let n=(r=t==null?void 0:t.tools)!=null?r:{},i=[];for(let a of e){let{role:s,content:f,toolInvocations:m,experimental_attachments:_}=a;switch(s){case"system":{i.push({role:"system",content:f});break}case"user":{i.push({role:"user",content:_?[{type:"text",text:f},...AF(_)]:f});break}case"assistant":{if(m==null){i.push({role:"assistant",content:f});break}i.push({role:"assistant",content:[{type:"text",text:f},...m.map(({toolCallId:D,toolName:k,args:U})=>({type:"tool-call",toolCallId:D,toolName:k,args:U}))]}),i.push({role:"tool",content:m.map(D=>{if(!("result"in D))throw new oC({originalMessage:a,message:"ToolInvocation must have a result: "+JSON.stringify(D)});let{toolCallId:k,toolName:U,result:z}=D,ee=n[U];return(ee==null?void 0:ee.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:k,toolName:U,result:ee.experimental_toToolResultContent(z),experimental_content:ee.experimental_toToolResultContent(z)}:{type:"tool-result",toolCallId:k,toolName:U,result:z}})});break}case"data":break;default:{let D=s;throw new oC({originalMessage:a,message:`Unsupported role: ${D}`})}}}return i}function IF({prompt:e,tools:t}){if(e.prompt==null&&e.messages==null)throw new Xv({prompt:e,message:"prompt or messages must be defined"});if(e.prompt!=null&&e.messages!=null)throw new Xv({prompt:e,message:"prompt and messages cannot be defined at the same time"});if(e.system!=null&&typeof e.system!="string")throw new Xv({prompt:e,message:"system must be a string"});if(e.prompt!=null){if(typeof e.prompt!="string")throw new Xv({prompt:e,message:"prompt must be a string"});return{type:"prompt",system:e.system,messages:[{role:"user",content:e.prompt}]}}if(e.messages!=null){let r=DF(e.messages);if(r==="other")throw new Xv({prompt:e,message:"messages must be an array of CoreMessage or UIMessage"});let n=r==="ui-messages"?CF(e.messages,{tools:t}):e.messages,i=$m({value:n,schema:M.array(SF)});if(!i.success)throw new Xv({prompt:e,message:"messages must be an array of CoreMessage or UIMessage",cause:i.error});return{type:"messages",messages:n,system:e.system}}throw new Error("unreachable")}function xF({promptTokens:e,completionTokens:t}){return{promptTokens:e,completionTokens:t,totalTokens:e+t}}var PF="JSON schema:",RF="You MUST answer with a JSON object that matches the JSON schema above.",kF="You MUST answer with JSON.";function OF({prompt:e,schema:t,schemaPrefix:r=t!=null?PF:void 0,schemaSuffix:n=t!=null?RF:kF}){return[e!=null&&e.length>0?e:void 0,e!=null&&e.length>0?"":void 0,r,t!=null?JSON.stringify(t):void 0,n].filter(i=>i!=null).join(`
`)}function sC(e,t){let r=e.pipeThrough(new TransformStream(t));return r[Symbol.asyncIterator]=()=>{let n=r.getReader();return{async next(){let{done:i,value:a}=await n.read();return i?{done:!0,value:void 0}:{done:!1,value:a}}}},r}var yz=Qv({prefix:"aiobj",size:24});var sv=class{constructor(){this.status={type:"pending"},this._resolve=void 0,this._reject=void 0}get value(){return this.promise?this.promise:(this.promise=new Promise((e,t)=>{this.status.type==="resolved"?e(this.status.value):this.status.type==="rejected"&&t(this.status.error),this._resolve=e,this._reject=t}),this.promise)}resolve(e){var t;this.status={type:"resolved",value:e},this.promise&&((t=this._resolve)==null||t.call(this,e))}reject(e){var t;this.status={type:"rejected",error:e},this.promise&&((t=this._reject)==null||t.call(this,e))}};function uC(){let e,t;return{promise:new Promise((n,i)=>{e=n,t=i}),resolve:e,reject:t}}function MF(){let e=[],t=null,r=!1,n=uC(),i=async()=>{if(r&&e.length===0){t==null||t.close();return}if(e.length===0)return n=uC(),await n.promise,i();try{let{value:a,done:s}=await e[0].read();s?(e.shift(),e.length>0?await i():r&&(t==null||t.close())):t==null||t.enqueue(a)}catch(a){t==null||t.error(a),e.shift(),r&&e.length===0&&(t==null||t.close())}};return{stream:new ReadableStream({start(a){t=a},pull:i,async cancel(){for(let a of e)await a.cancel();e=[],r=!0}}),addStream:a=>{if(r)throw new Error("Cannot add inner stream: outer stream is closed");e.push(a.getReader()),n.resolve()},close:()=>{r=!0,n.resolve(),e.length===0&&(t==null||t.close())}}}function LF(){var e,t;return(t=(e=globalThis==null?void 0:globalThis.performance)==null?void 0:e.now())!=null?t:Date.now()}var Ez=Qv({prefix:"aiobj",size:24});var MC="AI_InvalidToolArgumentsError",LC=`vercel.ai.error.${MC}`,FF=Symbol.for(LC),FC,UC=class extends Qt{constructor({toolArgs:e,toolName:t,cause:r,message:n=`Invalid arguments for tool ${t}: ${zm(r)}`}){super({name:MC,message:n,cause:r}),this[FC]=!0,this.toolArgs=e,this.toolName=t}static isInstance(e){return Qt.hasMarker(e,LC)}};FC=FF;var BC="AI_NoSuchToolError",jC=`vercel.ai.error.${BC}`,UF=Symbol.for(jC),GC,$_=class extends Qt{constructor({toolName:e,availableTools:t=void 0,message:r=`Model tried to call unavailable tool '${e}'. ${t===void 0?"No tools are available.":`Available tools: ${t.join(", ")}.`}`}){super({name:BC,message:r}),this[GC]=!0,this.toolName=e,this.availableTools=t}static isInstance(e){return Qt.hasMarker(e,jC)}};GC=UF;var qC="AI_ToolCallRepairError",YC=`vercel.ai.error.${qC}`,BF=Symbol.for(YC),zC,jF=class extends Qt{constructor({cause:e,originalError:t,message:r=`Error repairing tool call: ${zm(e)}`}){super({name:qC,message:r,cause:e}),this[zC]=!0,this.originalError=t}static isInstance(e){return Qt.hasMarker(e,YC)}};zC=BF;var $C="AI_ToolExecutionError",VC=`vercel.ai.error.${$C}`,GF=Symbol.for(VC),WC,qF=class extends Qt{constructor({toolArgs:e,toolName:t,cause:r,message:n=`Error executing tool ${t}: ${zm(r)}`}){super({name:$C,message:n,cause:r}),this[WC]=!0,this.toolArgs=e,this.toolName=t}static isInstance(e){return Qt.hasMarker(e,VC)}};WC=GF;function YF(e){return e!=null&&Object.keys(e).length>0}function zF({tools:e,toolChoice:t,activeTools:r}){return YF(e)?{tools:(r!=null?Object.entries(e).filter(([i])=>r.includes(i)):Object.entries(e)).map(([i,a])=>{let s=a.type;switch(s){case void 0:case"function":return{type:"function",name:i,description:a.description,parameters:Lg(a.parameters).jsonSchema};case"provider-defined":return{type:"provider-defined",name:i,id:a.id,args:a.args};default:{let f=s;throw new Error(`Unsupported tool type: ${f}`)}}}),toolChoice:t==null?{type:"auto"}:typeof t=="string"?{type:t}:{type:"tool",toolName:t.toolName}}:{tools:void 0,toolChoice:void 0}}var $F=/^([\s\S]*?)(\s+)(\S*)$/;function VF(e){let t=e.match($F);return t?{prefix:t[1],whitespace:t[2],suffix:t[3]}:void 0}async function WF({toolCall:e,tools:t,repairToolCall:r,system:n,messages:i}){if(t==null)throw new $_({toolName:e.toolName});try{return await cC({toolCall:e,tools:t})}catch(a){if(r==null||!($_.isInstance(a)||UC.isInstance(a)))throw a;let s=null;try{s=await r({toolCall:e,tools:t,parameterSchema:({toolName:f})=>Lg(t[f].parameters).jsonSchema,system:n,messages:i,error:a})}catch(f){throw new jF({cause:f,originalError:a})}if(s==null)throw a;return await cC({toolCall:s,tools:t})}}async function cC({toolCall:e,tools:t}){let r=e.toolName,n=t[r];if(n==null)throw new $_({toolName:e.toolName,availableTools:Object.keys(t)});let i=Lg(n.parameters),a=e.args.trim()===""?$m({value:{},schema:i}):yg({text:e.args,schema:i});if(a.success===!1)throw new UC({toolName:r,toolArgs:e.args,cause:a.error});return{type:"tool-call",toolCallId:e.toolCallId,toolName:r,args:a.value}}function HF({text:e="",tools:t,toolCalls:r,toolResults:n}){let i=[];return i.push({role:"assistant",content:[{type:"text",text:e},...r]}),n.length>0&&i.push({role:"tool",content:n.map(a=>{let s=t[a.toolName];return(s==null?void 0:s.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:a.toolCallId,toolName:a.toolName,result:s.experimental_toToolResultContent(a.result),experimental_content:s.experimental_toToolResultContent(a.result)}:{type:"tool-result",toolCallId:a.toolCallId,toolName:a.toolName,result:a.result}})}),i}var Iz=Qv({prefix:"aitxt",size:24});var KF={};Tb(KF,{object:()=>ZF,text:()=>JF});var JF=()=>({type:"text",responseFormat:()=>({type:"text"}),injectIntoSystemPrompt({system:e}){return e},parseOutput({text:e}){return e}}),ZF=({schema:e})=>{let t=Lg(e);return{type:"object",responseFormat:({model:r})=>({type:"json",schema:r.supportsStructuredOutputs?t.jsonSchema:void 0}),injectIntoSystemPrompt({system:r,model:n}){return n.supportsStructuredOutputs?r:OF({prompt:r,schema:t.jsonSchema})},parseOutput({text:r},n){let i=yg({text:r});if(!i.success)throw new iC({message:"No object generated: could not parse the response.",cause:i.error,text:r,response:n.response,usage:n.usage});let a=$m({value:i.value,schema:t});if(!a.success)throw new iC({message:"No object generated: response did not match schema.",cause:a.error,text:r,response:n.response,usage:n.usage});return a.value}}};function Ab(e,t){let r=e.getReader(),n=t.getReader(),i,a,s=!1,f=!1;async function m(D){try{i==null&&(i=r.read());let k=await i;i=void 0,k.done?D.close():D.enqueue(k.value)}catch(k){D.error(k)}}async function _(D){try{a==null&&(a=n.read());let k=await a;a=void 0,k.done?D.close():D.enqueue(k.value)}catch(k){D.error(k)}}return new ReadableStream({async pull(D){try{if(s){await _(D);return}if(f){await m(D);return}i==null&&(i=r.read()),a==null&&(a=n.read());let{result:k,reader:U}=await Promise.race([i.then(z=>({result:z,reader:r})),a.then(z=>({result:z,reader:n}))]);k.done||D.enqueue(k.value),U===r?(i=void 0,k.done&&(await _(D),s=!0)):(a=void 0,k.done&&(f=!0,await m(D)))}catch(k){D.error(k)}},cancel(){r.cancel(),n.cancel()}})}function XF({tools:e,generatorStream:t,toolCallStreaming:r,tracer:n,telemetry:i,system:a,messages:s,abortSignal:f,repairToolCall:m}){let _=null,D=new ReadableStream({start(X){_=X}}),k={},U=new Set,z=!1,ee;function H(){z&&U.size===0&&(ee!=null&&_.enqueue(ee),_.close())}let K=new TransformStream({async transform(X,ue){let ce=X.type;switch(ce){case"text-delta":case"response-metadata":case"error":{ue.enqueue(X);break}case"tool-call-delta":{r&&(k[X.toolCallId]||(ue.enqueue({type:"tool-call-streaming-start",toolCallId:X.toolCallId,toolName:X.toolName}),k[X.toolCallId]=!0),ue.enqueue({type:"tool-call-delta",toolCallId:X.toolCallId,toolName:X.toolName,argsTextDelta:X.argsTextDelta}));break}case"tool-call":{let ge=X.toolName;if(e==null){_.enqueue({type:"error",error:new $_({toolName:X.toolName})});break}let Fe=e[ge];if(Fe==null){_.enqueue({type:"error",error:new $_({toolName:X.toolName,availableTools:Object.keys(e)})});break}try{let Ne=await WF({toolCall:X,tools:e,repairToolCall:m,system:a,messages:s});if(ue.enqueue(Ne),Fe.execute!=null){let he=em();U.add(he),Sb({name:"ai.toolCall",attributes:Oy({telemetry:i,attributes:{...bb({operationId:"ai.toolCall",telemetry:i}),"ai.toolCall.name":Ne.toolName,"ai.toolCall.id":Ne.toolCallId,"ai.toolCall.args":{output:()=>JSON.stringify(Ne.args)}}}),tracer:n,fn:async Ie=>Fe.execute(Ne.args,{toolCallId:Ne.toolCallId,messages:s,abortSignal:f}).then(_e=>{_.enqueue({...Ne,type:"tool-result",result:_e}),U.delete(he),H();try{Ie.setAttributes(Oy({telemetry:i,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(_e)}}}))}catch{}},_e=>{_.enqueue({type:"error",error:new qF({toolName:Ne.toolName,toolArgs:Ne.args,cause:_e})}),U.delete(he),H()})})}}catch(Ne){_.enqueue({type:"error",error:Ne})}break}case"finish":{ee={type:"finish",finishReason:X.finishReason,logprobs:X.logprobs,usage:xF(X.usage),experimental_providerMetadata:X.providerMetadata};break}default:{let ge=ce;throw new Error(`Unhandled chunk type: ${ge}`)}}},flush(){z=!0,H()}});return new ReadableStream({async start(X){return Promise.all([t.pipeThrough(K).pipeTo(new WritableStream({write(ue){X.enqueue(ue)},close(){}})),D.pipeTo(new WritableStream({write(ue){X.enqueue(ue)},close(){X.close()}}))])}})}var QF=Qv({prefix:"aitxt",size:24});function HC({model:e,tools:t,toolChoice:r,system:n,prompt:i,messages:a,maxRetries:s,abortSignal:f,headers:m,maxSteps:_=1,experimental_continueSteps:D=!1,experimental_telemetry:k,experimental_providerMetadata:U,experimental_toolCallStreaming:z=!1,experimental_activeTools:ee,experimental_repairToolCall:H,experimental_transform:K,onChunk:X,onFinish:ue,onStepFinish:ce,_internal:{now:ge=LF,generateId:Fe=QF,currentDate:Ne=()=>new Date}={},...he}){return new e3({model:e,telemetry:k,headers:m,settings:he,maxRetries:s,abortSignal:f,system:n,prompt:i,messages:a,tools:t,toolChoice:r,toolCallStreaming:z,transform:K==null?void 0:K({tools:t}),activeTools:ee,repairToolCall:H,maxSteps:_,continueSteps:D,providerMetadata:U,onChunk:X,onFinish:ue,onStepFinish:ce,now:ge,currentDate:Ne,generateId:Fe})}var e3=class{constructor({model:e,telemetry:t,headers:r,settings:n,maxRetries:i,abortSignal:a,system:s,prompt:f,messages:m,tools:_,toolChoice:D,toolCallStreaming:k,transform:U,activeTools:z,repairToolCall:ee,maxSteps:H,continueSteps:K,providerMetadata:X,onChunk:ue,onFinish:ce,onStepFinish:ge,now:Fe,currentDate:Ne,generateId:he}){if(this.warningsPromise=new sv,this.usagePromise=new sv,this.finishReasonPromise=new sv,this.providerMetadataPromise=new sv,this.textPromise=new sv,this.toolCallsPromise=new sv,this.toolResultsPromise=new sv,this.requestPromise=new sv,this.responsePromise=new sv,this.stepsPromise=new sv,H<1)throw new oh({parameter:"maxSteps",value:H,message:"maxSteps must be at least 1"});let Ie=MF();this.addStream=Ie.addStream,this.closeStream=Ie.close,this.baseStream=U?Ie.stream.pipeThrough(U):Ie.stream;let{maxRetries:_e,retry:ze}=WL({maxRetries:i}),ct=ZL(t),gr=HL({model:e,telemetry:t,headers:r,settings:{...n,maxRetries:_e}}),Tr=IF({prompt:{system:s,prompt:f,messages:m},tools:_}),kt=this;Sb({name:"ai.streamText",attributes:Oy({telemetry:t,attributes:{...bb({operationId:"ai.streamText",telemetry:t}),...gr,"ai.prompt":{input:()=>JSON.stringify({system:s,prompt:f,messages:m})},"ai.settings.maxSteps":H}}),tracer:ct,endWhenDone:!1,fn:async Xr=>{let Ue=[];async function Vr({currentStep:We,responseMessages:Qr,usage:Gt,stepType:ar,previousStepText:Pr,hasLeadingWhitespace:et}){let kn=Qr.length===0?Tr.type:"messages",ft=[...Tr.messages,...Qr],Ju=await cF({prompt:{type:kn,system:Tr.system,messages:ft},modelSupportsImageUrls:e.supportsImageUrls,modelSupportsUrl:e.supportsUrl}),Vt={type:"regular",...zF({tools:_,toolChoice:D,activeTools:z})},{result:{stream:Zo,warnings:Wt,rawResponse:Jt,request:ei},doStreamSpan:or,startTimestampMs:pi}=await ze(()=>Sb({name:"ai.streamText.doStream",attributes:Oy({telemetry:t,attributes:{...bb({operationId:"ai.streamText.doStream",telemetry:t}),...gr,"ai.prompt.format":{input:()=>kn},"ai.prompt.messages":{input:()=>JSON.stringify(Ju)},"ai.prompt.tools":{input:()=>{var Ar;return(Ar=Vt.tools)==null?void 0:Ar.map(Nr=>JSON.stringify(Nr))}},"ai.prompt.toolChoice":{input:()=>Vt.toolChoice!=null?JSON.stringify(Vt.toolChoice):void 0},"gen_ai.system":e.provider,"gen_ai.request.model":e.modelId,"gen_ai.request.frequency_penalty":n.frequencyPenalty,"gen_ai.request.max_tokens":n.maxTokens,"gen_ai.request.presence_penalty":n.presencePenalty,"gen_ai.request.stop_sequences":n.stopSequences,"gen_ai.request.temperature":n.temperature,"gen_ai.request.top_k":n.topK,"gen_ai.request.top_p":n.topP}}),tracer:ct,endWhenDone:!1,fn:async Ar=>({startTimestampMs:Fe(),doStreamSpan:Ar,result:await e.doStream({mode:Vt,...pF(n),inputFormat:kn,prompt:Ju,providerMetadata:X,abortSignal:a,headers:r})})})),qr=XF({tools:_,generatorStream:Zo,toolCallStreaming:k,tracer:ct,telemetry:t,system:s,messages:ft,repairToolCall:ee,abortSignal:a}),Rs=ei??{},Rt=[],Wr=[],Un="unknown",On={promptTokens:0,completionTokens:0,totalTokens:0},Hr,Mn=!0,ji="",Jn=ar==="continue"?Pr:"",Mr,Ct={id:he(),timestamp:Ne(),modelId:e.modelId},lr="",tn=!1,nd=!0,ti=!1;async function Fc({controller:Ar,chunk:Nr}){Ar.enqueue(Nr),ji+=Nr.textDelta,Jn+=Nr.textDelta,tn=!0,ti=Nr.textDelta.trimEnd()!==Nr.textDelta,await(ue==null?void 0:ue({chunk:Nr}))}kt.addStream(qr.pipeThrough(new TransformStream({async transform(Ar,Nr){var hi,sr,bn;if(Mn){let vi=Fe()-pi;Mn=!1,or.addEvent("ai.stream.firstChunk",{"ai.response.msToFirstChunk":vi}),or.setAttributes({"ai.response.msToFirstChunk":vi})}if(Ar.type==="text-delta"&&Ar.textDelta.length===0)return;let Bn=Ar.type;switch(Bn){case"text-delta":{if(K){let vi=nd&&et?Ar.textDelta.trimStart():Ar.textDelta;if(vi.length===0)break;nd=!1,lr+=vi;let Do=VF(lr);Do!=null&&(lr=Do.suffix,await Fc({controller:Nr,chunk:{type:"text-delta",textDelta:Do.prefix+Do.whitespace}}))}else await Fc({controller:Nr,chunk:Ar});break}case"tool-call":{Nr.enqueue(Ar),Rt.push(Ar),await(ue==null?void 0:ue({chunk:Ar}));break}case"tool-result":{Nr.enqueue(Ar),Wr.push(Ar),await(ue==null?void 0:ue({chunk:Ar}));break}case"response-metadata":{Ct={id:(hi=Ar.id)!=null?hi:Ct.id,timestamp:(sr=Ar.timestamp)!=null?sr:Ct.timestamp,modelId:(bn=Ar.modelId)!=null?bn:Ct.modelId};break}case"finish":{On=Ar.usage,Un=Ar.finishReason,Hr=Ar.experimental_providerMetadata,Mr=Ar.logprobs;let vi=Fe()-pi;or.addEvent("ai.stream.finish"),or.setAttributes({"ai.response.msToFinish":vi,"ai.response.avgCompletionTokensPerSecond":1e3*On.completionTokens/vi});break}case"tool-call-streaming-start":case"tool-call-delta":{Nr.enqueue(Ar),await(ue==null?void 0:ue({chunk:Ar}));break}case"error":{Nr.enqueue(Ar),Un="error";break}default:{let vi=Bn;throw new Error(`Unknown chunk type: ${vi}`)}}},async flush(Ar){let Nr=Rt.length>0?JSON.stringify(Rt):void 0,hi="done";We+1<H&&(K&&Un==="length"&&Rt.length===0?hi="continue":Rt.length>0&&Wr.length===Rt.length&&(hi="tool-result")),K&&lr.length>0&&(hi!=="continue"||ar==="continue"&&!tn)&&(await Fc({controller:Ar,chunk:{type:"text-delta",textDelta:lr}}),lr="");try{or.setAttributes(Oy({telemetry:t,attributes:{"ai.response.finishReason":Un,"ai.response.text":{output:()=>ji},"ai.response.toolCalls":{output:()=>Nr},"ai.response.id":Ct.id,"ai.response.model":Ct.modelId,"ai.response.timestamp":Ct.timestamp.toISOString(),"ai.usage.promptTokens":On.promptTokens,"ai.usage.completionTokens":On.completionTokens,"gen_ai.response.finish_reasons":[Un],"gen_ai.response.id":Ct.id,"gen_ai.response.model":Ct.modelId,"gen_ai.usage.input_tokens":On.promptTokens,"gen_ai.usage.output_tokens":On.completionTokens}}))}catch{}finally{or.end()}if(Ar.enqueue({type:"step-finish",finishReason:Un,usage:On,experimental_providerMetadata:Hr,logprobs:Mr,response:{...Ct},isContinued:hi==="continue"}),ar==="continue"){let Bn=Qr[Qr.length-1];typeof Bn.content=="string"?Bn.content+=ji:Bn.content.push({text:ji,type:"text"})}else Qr.push(...HF({text:ji,tools:_??{},toolCalls:Rt,toolResults:Wr}));let sr={stepType:ar,text:ji,toolCalls:Rt,toolResults:Wr,finishReason:Un,usage:On,warnings:Wt,logprobs:Mr,request:Rs,response:{...Ct,headers:Jt==null?void 0:Jt.headers,messages:JSON.parse(JSON.stringify(Qr))},experimental_providerMetadata:Hr,isContinued:hi==="continue"};Ue.push(sr),await(ge==null?void 0:ge(sr));let bn={promptTokens:Gt.promptTokens+On.promptTokens,completionTokens:Gt.completionTokens+On.completionTokens,totalTokens:Gt.totalTokens+On.totalTokens};if(hi!=="done"){await Vr({currentStep:We+1,responseMessages:Qr,usage:bn,stepType:hi,previousStepText:Jn,hasLeadingWhitespace:ti});return}try{Ar.enqueue({type:"finish",finishReason:Un,usage:bn,experimental_providerMetadata:Hr,logprobs:Mr,response:{...Ct}}),kt.closeStream(),Xr.setAttributes(Oy({telemetry:t,attributes:{"ai.response.finishReason":Un,"ai.response.text":{output:()=>Jn},"ai.response.toolCalls":{output:()=>Nr},"ai.usage.promptTokens":bn.promptTokens,"ai.usage.completionTokens":bn.completionTokens}})),kt.usagePromise.resolve(bn),kt.finishReasonPromise.resolve(Un),kt.textPromise.resolve(Jn),kt.toolCallsPromise.resolve(Rt),kt.providerMetadataPromise.resolve(Hr),kt.toolResultsPromise.resolve(Wr),kt.requestPromise.resolve(Rs),kt.responsePromise.resolve({...Ct,headers:Jt==null?void 0:Jt.headers,messages:Qr}),kt.stepsPromise.resolve(Ue),kt.warningsPromise.resolve(Wt??[]),await(ce==null?void 0:ce({finishReason:Un,logprobs:Mr,usage:bn,text:Jn,toolCalls:Rt,toolResults:Wr,request:Rs,response:{...Ct,headers:Jt==null?void 0:Jt.headers,messages:Qr},warnings:Wt,experimental_providerMetadata:Hr,steps:Ue}))}catch(Bn){Ar.error(Bn)}finally{Xr.end()}}})))}await Vr({currentStep:0,responseMessages:[],usage:{promptTokens:0,completionTokens:0,totalTokens:0},previousStepText:"",stepType:"initial",hasLeadingWhitespace:!1})}}).catch(Xr=>{kt.addStream(new ReadableStream({start(Ue){Ue.enqueue({type:"error",error:Xr}),Ue.close()}})),kt.closeStream()})}get warnings(){return this.warningsPromise.value}get usage(){return this.usagePromise.value}get finishReason(){return this.finishReasonPromise.value}get experimental_providerMetadata(){return this.providerMetadataPromise.value}get text(){return this.textPromise.value}get toolCalls(){return this.toolCallsPromise.value}get toolResults(){return this.toolResultsPromise.value}get request(){return this.requestPromise.value}get response(){return this.responsePromise.value}get steps(){return this.stepsPromise.value}teeStream(){let[e,t]=this.baseStream.tee();return this.baseStream=t,e}get textStream(){return sC(this.teeStream(),{transform(e,t){e.type==="text-delta"?t.enqueue(e.textDelta):e.type==="error"&&t.error(e.error)}})}get fullStream(){return sC(this.teeStream(),{transform(e,t){t.enqueue(e)}})}toDataStreamInternal({getErrorMessage:e=()=>"An error occurred.",sendUsage:t=!0}={}){let r="",n=new TransformStream({async transform(a,s){s.enqueue(a),a.type==="text-delta"&&(r+=a.textDelta)}}),i=new TransformStream({transform:async(a,s)=>{let f=a.type;switch(f){case"text-delta":{s.enqueue(td("text",a.textDelta));break}case"tool-call-streaming-start":{s.enqueue(td("tool_call_streaming_start",{toolCallId:a.toolCallId,toolName:a.toolName}));break}case"tool-call-delta":{s.enqueue(td("tool_call_delta",{toolCallId:a.toolCallId,argsTextDelta:a.argsTextDelta}));break}case"tool-call":{s.enqueue(td("tool_call",{toolCallId:a.toolCallId,toolName:a.toolName,args:a.args}));break}case"tool-result":{s.enqueue(td("tool_result",{toolCallId:a.toolCallId,result:a.result}));break}case"error":{s.enqueue(td("error",e(a.error)));break}case"step-finish":{s.enqueue(td("finish_step",{finishReason:a.finishReason,usage:t?{promptTokens:a.usage.promptTokens,completionTokens:a.usage.completionTokens}:void 0,isContinued:a.isContinued}));break}case"finish":{s.enqueue(td("finish_message",{finishReason:a.finishReason,usage:t?{promptTokens:a.usage.promptTokens,completionTokens:a.usage.completionTokens}:void 0}));break}default:{let m=f;throw new Error(`Unknown chunk type: ${m}`)}}}});return this.fullStream.pipeThrough(n).pipeThrough(i)}pipeDataStreamToResponse(e,{status:t,statusText:r,headers:n,data:i,getErrorMessage:a,sendUsage:s}={}){rC({response:e,status:t,statusText:r,headers:tC(n,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"}),stream:this.toDataStream({data:i,getErrorMessage:a,sendUsage:s})})}pipeTextStreamToResponse(e,t){rC({response:e,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText,headers:tC(t==null?void 0:t.headers,{contentType:"text/plain; charset=utf-8"}),stream:this.textStream.pipeThrough(new TextEncoderStream)})}toDataStream(e){let t=this.toDataStreamInternal({getErrorMessage:e==null?void 0:e.getErrorMessage,sendUsage:e==null?void 0:e.sendUsage}).pipeThrough(new TextEncoderStream);return e!=null&&e.data?Ab(e==null?void 0:e.data.stream,t):t}mergeIntoDataStream(e){e.merge(this.toDataStreamInternal({getErrorMessage:e.onError}))}toDataStreamResponse({headers:e,status:t,statusText:r,data:n,getErrorMessage:i,sendUsage:a}={}){return new Response(this.toDataStream({data:n,getErrorMessage:i,sendUsage:a}),{status:t,statusText:r,headers:sE(e,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}toTextStreamResponse(e){var t;return new Response(this.textStream.pipeThrough(new TextEncoderStream),{status:(t=e==null?void 0:e.status)!=null?t:200,headers:sE(e==null?void 0:e.headers,{contentType:"text/plain; charset=utf-8"})})}};var t3="AI_NoSuchProviderError",r3=`vercel.ai.error.${t3}`,n3=Symbol.for(r3),i3;i3=n3;var a3={};Tb(a3,{mergeIntoDataStream:()=>u3,toDataStream:()=>o3,toDataStreamResponse:()=>s3});function KC(e={}){let t=new TextEncoder,r="";return new TransformStream({async start(){e.onStart&&await e.onStart()},async transform(n,i){i.enqueue(t.encode(n)),r+=n,e.onToken&&await e.onToken(n),e.onText&&typeof n=="string"&&await e.onText(n)},async flush(){e.onCompletion&&await e.onCompletion(r),e.onFinal&&await e.onFinal(r)}})}function Nb(e,t){return e.pipeThrough(new TransformStream({transform:async(r,n)=>{var i;if(typeof r=="string"){n.enqueue(r);return}if("event"in r){r.event==="on_chat_model_stream"&&fC((i=r.data)==null?void 0:i.chunk,n);return}fC(r,n)}})).pipeThrough(KC(t)).pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform:async(r,n)=>{n.enqueue(td("text",r))}}))}function o3(e,t){return Nb(e,t).pipeThrough(new TextEncoderStream)}function s3(e,t){var r;let n=Nb(e,t==null?void 0:t.callbacks).pipeThrough(new TextEncoderStream),i=t==null?void 0:t.data,a=t==null?void 0:t.init,s=i?Ab(i.stream,n):n;return new Response(s,{status:(r=a==null?void 0:a.status)!=null?r:200,statusText:a==null?void 0:a.statusText,headers:sE(a==null?void 0:a.headers,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function u3(e,t){t.dataStream.merge(Nb(e,t.callbacks))}function fC(e,t){if(typeof e.content=="string")t.enqueue(e.content);else{let r=e.content;for(let n of r)n.type==="text"&&t.enqueue(n.text)}}var c3={};Tb(c3,{mergeIntoDataStream:()=>d3,toDataStream:()=>f3,toDataStreamResponse:()=>l3});function Cb(e,t){let r=p3();return PA(e[Symbol.asyncIterator]()).pipeThrough(new TransformStream({async transform(n,i){i.enqueue(r(n.delta))}})).pipeThrough(KC(t)).pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform:async(n,i)=>{i.enqueue(td("text",n))}}))}function f3(e,t){return Cb(e,t).pipeThrough(new TextEncoderStream)}function l3(e,t={}){var r;let{init:n,data:i,callbacks:a}=t,s=Cb(e,a).pipeThrough(new TextEncoderStream),f=i?Ab(i.stream,s):s;return new Response(f,{status:(r=n==null?void 0:n.status)!=null?r:200,statusText:n==null?void 0:n.statusText,headers:sE(n==null?void 0:n.headers,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function d3(e,t){t.dataStream.merge(Cb(e,t.callbacks))}function p3(){let e=!0;return t=>(e&&(t=t.trimStart(),t&&(e=!1)),t)}var Uz=15*1e3;var cE="experimental_providerMetadata";function JC(e){let t=e.filter(({role:s})=>s=="user"||s=="tool"),r=e.filter(({role:s})=>s=="assistant");function n(s,{content:f}){var m;return s+(Array.isArray(f)&&((m=f[f.length-1])!=null&&m[cE])?1:0)}function i(s){let{content:f}=s;Array.isArray(f)||(f=[{type:"text",text:f}]),f[f.length-1][cE]={anthropic:{cacheControl:{type:"ephemeral"}}},s.content=f}function a(s){let{content:f}=s;Array.isArray(f)&&f[f.length-1][cE]&&delete f[f.length-1][cE]}r.reduce(n,0)||i(r.pop()),i(t.pop()),t.slice(0,-2).forEach(a)}var Fg=require("vscode");var XC=`
When responding, start straight with the answer, like you are writing a technical documentation. No confirmation, no small talk.
You are communicating with the user via tools, always try to use tool calling where appropriate.
The user does not see the tools and doesn't know what they are. Never mention tool names and never explain that you are using them.
Use question tool to collect all necessary information to better understand what the user wants if the request is ambiguous or missing something.
Use read_file and read_directory tools to understand the work environment. 
Use insert_text, replace_text, delete_text tools to suggest the source code changes.
Use create_file, write_file tools when the change is for the whole file.
`,h3=e=>Iy`
    Files in the project root directory:
    <files>
        ${e.join(`
`)||"empty (no files here)"}
    </files>
`,v3=e=>Iy`
    Top-level project directories: 
    <directories>
        ${e.join(`
`)||"empty (no sub-directories here)"}
    </directories>
`,QC=async()=>{let e=await s2(""),t=e.filter(({isFile:n})=>n).map(({name:n})=>n),r=e.filter(({isDirectory:n})=>n).map(({name:n})=>n);return[v3(r),`

`,h3(t)]},eI=()=>Iy`
    Files open in editor windows: 
    <files>
        ${ty().map(Hh).join(`
`)}
    </files>
`,tI=()=>{var e,t,r,n;return Iy`
    Current file:
    <file>
        ${Hh(Fg.Uri.file(((t=(e=Fg.window.activeTextEditor)==null?void 0:e.document)==null?void 0:t.fileName)||""))}
    </file>
    ${`

`}
    Programming language of the current file: 
    <language>
        ${(n=(r=Fg.window.activeTextEditor)==null?void 0:r.document)==null?void 0:n.languageId}
    </language>
`};function ZC(){var t,r;let e=(t=Fg.window.activeTextEditor)==null?void 0:t.selection;return e&&!e.isEmpty?(r=Fg.window.activeTextEditor)==null?void 0:r.document.getText(e):""}var rI=()=>ZC()&&Iy`
    The selected text in the active editor is:
    <selection>
        ${ZC()}
    </selection>
`;var nI={about:"Tell me about yourself",writing:"Describe your writing style",developer:"What is your experience as a software developer?",process:"Describe how you write code",environment:"What you have now in the editor workspace?"},m3=`
I am the AI assistant, working in VSCode editor.
I can access all content and tools in the current editor workspace.
I am proactively reading the code and configuration files to get detailed understanding of the environment.
`,g3=`
I'd describe my approach like this:

I'm direct and to the point. I don't waste time with pleasantries or unnecessary context. 
My goal is to provide accurate, practical solutions to coding problems as efficiently as possible.

I use short code snippets to illustrate my points. These snippets are always properly formatted 
and indented for readability. I explain the key parts of the code, but I assume a certain level of 
programming knowledge from my audience.

I often break down my answers into steps or bullet points for clarity. I'm not afraid to point out 
flaws in the original question or suggest better approaches if I see them.

I include relevant documentation links or references to support my answers, but I don't just link-drop 
without explanation. I summarize the key points and explain why they're relevant.

My tone is professional and sometimes a bit terse. I'm here to solve problems, not to make friends. 
However, I'm also not rude or dismissive. If a question is unclear, I ask for clarification rather than 
making assumptions.

I'm aware of best practices and potential pitfalls, so I often include warnings about edge cases or 
performance issues that might not be immediately obvious.
`,y3=`
I'm a seasoned software developer with a deep understanding of core programming principles and system design. 
My experience spans multiple domains, allowing me to approach problems from various angles.

I excel at breaking down complex requirements into manageable components and designing scalable, maintainable 
solutions. My code is clean, well-documented, and follows best practices for readability and efficiency.

I'm particularly strong in algorithmic thinking and optimization. I can analyze performance bottlenecks 
and implement effective solutions, whether it's improving time complexity or reducing resource usage.

I have a solid grasp of software architecture patterns and can adapt them to fit project needs. 
I'm comfortable designing and implementing APIs, working with databases, and integrating various system components.

Testing is integral to my development process. I write comprehensive unit tests and understand 
the value of integration and end-to-end testing in ensuring robust, reliable software.

I stay current with industry trends and continuously refine my skills. However, I'm pragmatic in my approach, 
focusing on proven technologies that add real value rather than chasing every new trend.

Debugging and troubleshooting are areas where I shine. I can quickly isolate issues in complex systems 
and implement effective fixes.

Lastly, I'm a strong communicator. I can explain technical concepts clearly to both technical 
and non-technical stakeholders, facilitating better collaboration across teams.
`,_3=`
When designing and building complex code, my thought process typically follows these steps:

I start by thoroughly analyzing the problem domain. I break down the requirements, 
identifying the core functionalities and potential edge cases.

Next, I consider the overall architecture. I think about how different components will interact, 
data flow, and potential bottlenecks. I often sketch out high-level diagrams to visualize the system structure.

I evaluate trade-offs between different design patterns and approaches. I consider factors like scalability, 
maintainability, and performance. I try to anticipate future requirements to make the system extensible.

Before diving into implementation, I plan out the data structures and algorithms I'll use. 
I consider time and space complexity, thinking about how the solution will perform with larger datasets.

I break the problem down into smaller, manageable modules or functions. I define clear interfaces 
between these components, thinking about how they'll be tested in isolation.

As I start coding, I focus on creating a minimal viable implementation of each component. 
I write unit tests alongside the code, using test-driven development where appropriate.

I constantly refactor as I go, looking for opportunities to improve code clarity and efficiency. 
I'm always thinking about how another developer would read and understand my code.

For particularly complex parts, I often step back and reconsider my approach. Sometimes I'll implement 
a quick prototype to validate a concept before fully committing to it.

Throughout the process, I document my code and decisions. I write clear comments explaining the 'why' 
behind complex logic, not just the 'what'.

As the system comes together, I start thinking about integration testing and how different components interact. 
I look for potential race conditions or unexpected behaviors in the system as a whole.

Finally, I review the entire solution, considering aspects like error handling, logging, and monitoring. 
I think about how the system will behave in production and what tools will be needed to maintain it.

This process is iterative, and I'm always ready to revisit earlier decisions as new information or challenges arise. The goal is to create a robust, efficient, and maintainable solution that solves the problem at hand while being flexible enough to adapt to future needs.
`;async function iI(){let e=[],t=Km([await QC(),`

`,eI(),`

`,tI(),`

`,rI()]),r={about:m3,writing:g3,developer:y3,process:_3,environment:t};for(let n in nI)r[n]&&(e.push({role:"user",content:Km(nI[n])}),e.push({role:"assistant",content:Km(r[n])}));return e}var Ug=require("vscode");async function aI(){let e=[];for(let{name:t,modelDescription:r,value:n}of Nt.request.references){let i=String(n),a;n instanceof Ug.Uri?(t=Hh(n),a=await Ug.workspace.openTextDocument(n),i=a.getText()):n instanceof Ug.Location&&(t+=" from "+Hh(n.uri),a=await Ug.workspace.openTextDocument(n.uri),i=a.getText(n.range)),r&&(t+=` (${r})`),e.push({role:"user",content:`Read ${t}`}),e.push({role:"assistant",content:i})}return e}var E3="question",w3=`
    Use this tool to ask questions in order to collect all relevant info for the task.
    You can ask one question at a time. If you have more questions, use this tool several times.
    Provide also the of suggested answers, so that the user can just click on answer text instead of typing.
`,b3=M.object({question:M.string().describe("Question text"),answers:M.array(M.string()).describe("Suggested answers to display to the user"),multiple_choice:M.boolean().describe("Is this a multiple choice question?")}),S3="Preparing questions ...",Ib=[];async function D3({question:e,answers:t,multiple_choice:r}){let n=[],{stream:i}=Nt;for(;;){i.markdown(T3({question:e})),r&&i.markdown(A3(n));let a=await uv({followups:N3(t,n,r)});if({stream:i}=Nt,r){if(a.prompt=="continue")return Ib.push({question:e,items:n}),n.join(`
`);a.prompt&&n.push(a.prompt)}else return Ib.push({question:e,answer:a.prompt}),a.prompt}}var T3=({question:e})=>`

---
Q: **${e}**
`,A3=e=>`
${e.map(t=>`
- ${t}`)}
`;function N3(e,t,r){let n=[];return e.forEach(i=>{t.indexOf(i)==-1&&!/please/i.test(i)&&n.push({prompt:i})}),r&&n.push({prompt:"continue",label:"\u25B6 continue to the next question..."}),n}var oI={name:E3,description:w3,parameters:b3,execute:D3,progress:S3,latest:Ib};var C3="list",I3=`
    Allows to present the information as a list
`,x3=M.object({header:M.string().describe("Item header"),content:M.string().describe("Item content")}),P3=M.object({title:M.string().describe("Title"),items:M.array(x3).describe("List items"),comments:M.string().describe("Comments")});async function R3({title:e,items:t,comments:r}){let{stream:n}=Nt;return n.markdown(`

# `+e+`
`),t.forEach(({header:i,content:a})=>{n.markdown(`
## `+i+`
`),n.markdown(`
`+a+`
`)}),"ok"}var sI={name:C3,description:I3,parameters:P3,execute:R3};var k3="summary",O3=`
    Shows summary, explanations or walkthrough section at the end of the response or after each task step.
    Allows the user to see the progress of completing the task.
    Always use this tool at the end of each step or when the task is finished.
`,M3=M.object({text:M.string().describe("Short walkthrough or summary of this step")});async function L3({text:e}){return Nt.stream.markdown(`

`+e+`

`),"ok"}var uI={name:k3,description:O3,parameters:M3,execute:L3};var F3="followups",U3=`
    Displays followup actions to the user at the end of the conversation turn.
`,B3=M.object({actions:M.array(M.string()).describe("Short followup actions (5-10 words)")}),cI={name:F3,description:U3,parameters:B3};var j3="evaluation",G3=`
    Registers the task evaluation, which is necessary for the optimal planning and execution.

    Evaluate the task for 
    - clarity (ambiguity, incompleteness, imprecision),
    - complexity (functional scope, architectural scale, required skills level)
    - workload (workflow type, projected effort, budget estimate)

    Carefully choose the most appropriate level for each evaluated dimension.
`,q3=M.number().describe(`
The ambiguity level:
    0 - n/a (not applicable)
    1 - very low
    2 - low
    3 - medium
    4 - high
    5 - very high

Ambiguity implies that something can be interpreted in multiple valid ways.
`),Y3=M.number().describe(`
The incompleteness level:
    0 - n/a (not applicable)
    1 - very low
    2 - low
    3 - medium
    4 - high
    5 - very high

Incompleteness refers to missing information or parts.
`),z3=M.number().describe(`
The imprecision level:
    0 - n/a (not applicable)
    1 - very low
    2 - low
    3 - medium
    4 - high
    5 - very high

Imprecision refers to lack of exactness or accuracy.
`),$3=M.number().describe(`
The functional scope level:
    0 - n/a (not applicable)
    1 - implementation details, simple bugfix, code formatting
    2 - user story, issue, enhancement, complex bugfix
    3 - product feature, architectural refactoring
    4 - epic, application, library, subsystem
    5 - full product, platform, framework
`),V3=M.number().describe(`
The architectural scale level:
    0 - n/a (not applicable)
    1 - code level (local scope): variable naming, control flow, error handling
    2 - component level (single module): classes, functions, state management, data structures
    3 - service level (multiple modules): APIs, database models, service integrations
    4 - application level (system-wide): application architecture, system design
    5 - enterprise level (cross-system): distributed systems, cloud infrastructure, scalability
`),W3=M.number().describe(`
The required software engineering skills level:
    0 - n/a (not applicable)
    1 - junior (1 year)
    2 - mid (1-3 years)
    3 - senior (3-5 years)
    4 - stuff (5-10 years)
    5 - principal (10+) years
`),H3=M.number().describe(`
The applicable workflow type:
    0 - n/a (not applicable)
    1 - single commit
    2 - pull request
    3 - sprint/iteration
    4 - small project
    5 - large project
`),K3=M.number().describe(`
The projected effort level:
    0 - n/a (not applicable)
    1 - very small (minutes)
    2 - small (hours)
    3 - medium (days)
    4 - large (weeks)
    5 - very large (months)
`),J3=M.number().describe(`
The development budget estimate:
    0 - n/a (not applicable)
    1 - very low
    2 - $20-200
    3 - $200-2000
    4 - $2000-20000
    5 - above $20000
`),Z3=M.string().describe("Suggestions how to improve the request"),X3=M.boolean().describe(`
    true if task requirements need further clarification or refinement
`),Q3=M.boolean().describe(`
    true if solution is not trivial and will benefit from detailed design
`),eU=M.boolean().describe(`
    true to split the task into smaller, manageable steps
`),tU=M.object({ambiguity:q3,incompleteness:Y3,imprecision:z3,functionalScope:$3,architecturalScale:V3,skillsLevel:W3,workflowType:H3,projectedEffort:K3,budgetEstimate:J3,clarifyRequirements:X3,designSolution:Q3,splitIntoParts:eU,suggestions:Z3}),fI={name:j3,description:G3,parameters:tU};var rU="read_file",nU=`
    this tool returns the file content.
    I use it to read the file in the active editor, or any other file in the current workspace.
`,iU=(e,t)=>`
Here is the full content of ${e} -
\`\`\`
${t}
\`\`\`
`,aU=M.object({filename:M.string().describe("filename")}),oU="Reading file ...";async function sU({filename:e}){let{stream:t}=Nt;t.reference(Yv(e)),t.markdown(""),t.progress(`Reading ${e} ...`);try{let r=An(e),n=(await pu(r)).replace(/\r\n/g,`
`);return iU(e,n)}catch{return"ERROR: document not found"}}var lI={name:rU,description:nU,parameters:aU,execute:sU,progress:oU};var V_=require("vscode");var{fs:uU}=V_.workspace,cU="read_directory",fU=`
    Returns the contents of a filesystem directory - a list of subdirectories and files.
`,lU=M.object({dirname:M.string().describe("directory name")}),dU="Reading directory ...";async function pU({dirname:e}){let{stream:t}=Nt;t.markdown(""),t.progress(`Reading ${e} ...`);try{let r=An(e),n=[],i=[];for(let[a,s]of await uU.readDirectory(r))s&V_.FileType.File?i.push(a):s&V_.FileType.Directory&&n.push(a+"/");return n.concat(i).join("/n")}catch{return"ERROR: directory not found or cannot be read"}}var dI={name:cU,description:fU,parameters:lU,execute:pU,progress:dU};var hI=require("vscode");var cv=require("vscode");var So=require("vscode");async function fE(e,t){var _,D,k;let r=e.edits.find(U=>U.id==t);if(!r)return;let n=new So.WorkspaceEdit,i=Yv(r.filename);try{await So.workspace.fs.stat(i)}catch{i=i.with({scheme:"untitled"})}let a=await So.workspace.openTextDocument(i),s=a.getText().replace(/\r\n/g,`
`),f=s==r.after.replace(/\r\n/g,`
`)?r.before:r.after,m=new So.Range(new So.Position(0,0),new So.Position(a.lineCount,0));n.replace(i,m,f),await So.workspace.applyEdit(n),((k=(D=(_=So.window.activeTextEditor)==null?void 0:_.document)==null?void 0:D.uri)==null?void 0:k.path)!=i.path&&await So.window.showTextDocument(a),hU(r.search)}function hU(e){var m;let t=So.window.activeTextEditor,r=t==null?void 0:t.document,n=(m=r==null?void 0:r.getText())==null?void 0:m.replace(/\r\n/g,`
`);if(!e||!t||!r)return;let i=n.indexOf(e);if(i==-1)return;let a=n.slice(0,i).split(`
`).length-1,s=e.split(`
`).length,f=new So.Position(a,0);t.selection=new So.Selection(f,f),t.revealRange(new So.Range(f,new So.Position(a+s,0)))}function Xm(e,t,r,n,i,a,s){if(a.startsWith(".multicoder/task"))return xb(e,i,a);let f=new cv.MarkdownString(`

`),m=encodeURIComponent(JSON.stringify([a,r])),_=`command:multicoder.diffView?${m}`,D=U=>`<sub><span class="codicon codicon-${U}" style="color:var(--vscode-textLink-foreground);"></span></sub>`;f.supportThemeIcons=!0,f.isTrusted={enabledCommands:["multicoder.diffView"]},f.supportHtml=!0,f.appendMarkdown(`[${D("diff-single")} ${n} (${a})](${_} 'Open Diff')`),f.appendCodeblock(i,s),e.markdown(f),e.button({title:"Apply",command:"multicoder.action",arguments:[k],tooltip:"Click to apply changes, click again to revert"});function k(){fE(t,r)}}function xb(e,t,r){var a,s;let n=new cv.MarkdownString(`

`);n.supportHtml=!0,n.appendMarkdown(t),e.markdown(n),e.button({title:"Edit",command:"multicoder.action",arguments:[i],tooltip:"Click to edit the document"});async function i(){let f=An(r),m=await cv.workspace.openTextDocument(f);cv.window.showTextDocument(m)}String((s=(a=cv.window.activeTextEditor)==null?void 0:a.document)==null?void 0:s.uri)==String(An(r))&&cv.commands.executeCommand("workbench.action.files.revert")}var vU="insert_text",mU=`
    Insert the new text into the file.
`,gU=M.object({filename:M.string().describe("The name of the file"),summary:M.string().describe("Short summary of this operation (3-10 words)"),placement:M.enum(["before","after"]).describe("Whether to insert text before or after the anchor"),anchor_text:M.string().describe("The anchor text"),inserted_text:M.string().describe("The inserted text")}),yU="Writing code ...";async function _U({filename:e,summary:t,placement:r,anchor_text:n,inserted_text:i}){let{stream:a,shared:s}=Nt,f=An(e),m=await hI.workspace.openTextDocument(f),_=await pu(f),D=wU(_,r,n,i,m.eol),k=m.languageId,U=Kh();return D===null?"ERROR: cannot find anchor text":(await kc(f,D),s.edits.push({id:U,summary:t,filename:e,before:_,after:D,search:i}),Xm(a,s,U,t,i,e,k),"Waiting for the user feedback")}function EU(e){return/^\s*\/\//.test(e)||/^\s*\/\*/.test(e)}function pI(e,t){let r=EU(e)?"":`
`;return e.endsWith(`
`)&&t.startsWith(`
`)?e+t:e.endsWith(`
`)||t.startsWith(`
`)?e+r+t:e+r+`
`+t}function wU(e,t,r,n,i){if(!r)return null;let a=e.replace(/\r\n/g,`
`),s=a.replace(r,t=="after"?pI(r,n):pI(n,r));return a==s?null:(i==2&&(s=s.replace(/\n/g,`\r
`)),s)}var vI={name:vU,description:mU,parameters:gU,execute:_U,progress:yU};var mI=require("vscode");var bU="replace_text",SU=`
    Replace part of the file with the new text.
`,DU=M.object({filename:M.string().describe("The name of the file"),summary:M.string().describe("Short summary of this operation (3-10 words)"),old_text:M.string().describe("The text fragment to find"),new_text:M.string().describe("The replacement text")}),TU="Writing code ...";async function AU({filename:e,summary:t,old_text:r,new_text:n}){let{stream:i,shared:a}=Nt,s=An(e),f=await mI.workspace.openTextDocument(s),m=await pu(s),_=NU(m,r,n,f.eol),D=f.languageId,k=Kh();return _===null?"ERROR: cannot find text to replace":(await kc(s,_),a.edits.push({id:k,summary:t,filename:e,before:m,after:_,search:n}),Xm(i,a,k,t,n,e,D),"Waiting for the user feedback")}function NU(e,t,r,n){let i=e.replace(/\r\n/g,`
`),a=i.replace(t,r);return i==a?null:(n==2&&(a=a.replace(/\n/g,`\r
`)),a)}var gI={name:bU,description:SU,parameters:DU,execute:AU,progress:TU};var yI=require("vscode");var CU="delete_text",IU=`
    Delete the text fragment from the file.
`,xU=M.object({filename:M.string().describe("The name of the file"),summary:M.string().describe("Short summary of this operation (3-10 words)"),deleted_text:M.string().describe("The text to delete from the file")}),PU="Writing code ...";async function RU({filename:e,summary:t,deleted_text:r}){let{stream:n,shared:i}=Nt,a=An(e),s=await yI.workspace.openTextDocument(a),f=await pu(a),m=kU(f,r,s.eol),_=s.languageId,D=Kh();return m===null?"ERROR: cannot find text to delete":(await kc(a,m),i.edits.push({id:D,summary:t,filename:e,before:f,after:m,search:r}),Xm(n,i,D,t,r,e,_),"Waiting for the user feedback")}function kU(e,t,r){let n=e.replace(/\r\n/g,`
`),i=n.replace(t,"");return n==i?null:(r==2&&(i=i.replace(/\n/g,`\r
`)),i)}var _I={name:CU,description:IU,parameters:xU,execute:RU,progress:PU};var EI=require("vscode");var OU="create_file",MU=`
    I use this tool to create a new file. 
`,LU=M.object({filename:M.string().describe("document filename"),summary:M.string().describe("very short (3-10 words) summary of this change"),language:M.string().describe("programming language for markdown code block"),content:M.string().describe("full content of the new file")}),FU="Writing code ...";async function UU({filename:e,summary:t,content:r,language:n}){let{stream:i,shared:a}=Nt,s=Yv(e),f=An(s),m=Kh();try{await kc(f,r)}catch(k){return String(k)}let _={id:m,summary:t,filename:e,before:null,after:r,search:r};a.edits.push(_);async function D(){fE(a,m)}return BU(i,m,t,r,e,n,D),"Waiting for the user feedback"}function BU(e,t,r,n,i,a,s){if(i.startsWith(".multicoder/task"))return xb(e,n,i);let f=new EI.MarkdownString(`

`),m=encodeURIComponent(JSON.stringify([i,t])),_=`command:multicoder.diffView?${m}`,D=k=>`<sub><span class="codicon codicon-${k}" style="color:var(--vscode-textLink-foreground);"></span></sub>`;f.supportThemeIcons=!0,f.isTrusted={enabledCommands:["multicoder.diffView"]},f.supportHtml=!0,f.appendMarkdown(`[${D("diff-single")} ${r} (${i})](${_} 'Open Diff')`),f.appendCodeblock(n,a),e.markdown(f),e.button({title:"Create",command:"multicoder.action",arguments:[s],tooltip:"Click to create file, click again to revert"})}var wI={name:OU,description:MU,parameters:LU,execute:UU,progress:FU};var bI=require("vscode");var jU="write_file",GU=`
    Write data to a file, replacing its entire contents. 
`,qU=M.object({filename:M.string().describe("The name of the file"),summary:M.string().describe("Short summary of this operation (3-10 words)"),new_content:M.string().describe("The new content of the file")}),YU="Writing code ...";async function zU({filename:e,summary:t,new_content:r}){let{stream:n,shared:i}=Nt,a=An(e),s=await bI.workspace.openTextDocument(a),f=s.languageId,m=Kh(),_=await pu(a),D=r;return await kc(a,D),i.edits.push({id:m,summary:t,filename:e,before:_,after:D,search:r}),Xm(n,i,m,t,D,e,f),"Waiting for the user feedback"}var SI={name:jU,description:GU,parameters:qU,execute:zU,progress:YU};var $U=[oI,sI,uI,cI,fI,lI,dI,vI,gI,_I,wI,SI],rd=Object.fromEntries($U.map(e=>[e.name,VU(e)]));function VU(e){return{execute:async()=>"ok",...e}}var lE,WU,DI;function uv(e){return new Promise((t,r)=>{lE=t,WU=r,DI(e)})}var Oa=[];async function TI(e){let{shared:t}=Nt;return t.edits=[],t.plan=null,Oa=[...await iI()],lE=e,{next(r){return new Promise((n,i)=>{DI=n,Promise.resolve(lE(r)).catch(i)})},return(){Oa=[],lE=e}}}async function Pb(e,t=""){let{model:r,telemetry:n}=Nt,i=Oa.pop();if(i.role=="system"||i.role=="assistant")Oa.push(i,...await aI(),{role:"user",content:e});else if(i.role=="tool"){let s=i.content.slice();s.push({...s.pop(),result:e}),Oa.push({role:"tool",content:s})}else if(i.role=="user"){let{content:s}=i;s=Array.isArray(s)?s.slice():[{type:"text",text:s}],s.push({type:"text",text:e}),Oa.push({role:"user",content:s})}else throw new Error("Unsupported prompt structure");let a=0;for(;;){JC(Oa);let s=await HC({model:r,system:XC,messages:Oa,tools:rd,temperature:.2,maxTokens:8096,maxSteps:1,experimental_toolCallStreaming:!0});for await(let _ of s.fullStream){if(Nt.token.isCancellationRequested)break;switch(_.type){case"text-delta":Nt.stream.markdown(_.textDelta);break;case"tool-call-streaming-start":let D=rd[_.toolName].progress;D&&Nt.stream.progress(D);break;case"tool-call":n.logUsage(_.toolName);break;case"error":throw _.error}}Nt.stream.markdown(`

`);let f=await s.response,m=await s.toolCalls;if(Oa=[...Oa,...f.messages],m.length){a=0;for(let _ of m)if(_.toolName==t)return _.args}else if(t){if(++a>1)throw new Error(`Unable to call ${t} tool`);Oa=[...Oa,{role:"user",content:`Reply using ${t} tool`}]}else return}}async function vu(e,t,r=""){return r&&Nt.stream.progress(r),Pb(t,e.name)}function Ku(){let e=Oa.concat();return{restore(){Oa=e.concat()}}}function Qm(e,t=""){if(Oa=Oa.slice(),!e&&t){Oa.push({role:"assistant",content:t});return}let r=Oa.pop();if(r.role=="system"||r.role=="assistant")Oa.push(r,{role:"user",content:e});else if(r.role=="tool"){let n=r.content.slice();n.push({...n.pop(),result:e}),Oa.push({role:"tool",content:n})}else if(r.role=="user"){let{content:n}=r;n=Array.isArray(n)?n.slice():[{type:"text",text:n}],n.push({type:"text",text:e}),Oa.push({role:"user",content:n})}else throw new Error("Unsupported prompt structure");t&&Oa.push({role:"assistant",content:t})}var yE=require("vscode");var{evaluation:AI}=rd,HU=()=>`
    Evaluate the task and reply using ${AI.name} tool, taking into account the included documents (if any)
`;function Rb(e){let t=(e.ambiguity+e.incompleteness+e.imprecision)/3,r=(e.architecturalScale+e.functionalScope+e.skillsLevel)/3,n=(e.projectedEffort+e.workflowType+e.budgetEstimate)/3;return[t,r,n]}async function NI(){let e=Ku(),t=await vu(AI,HU(),"Thinking..."),[r,n,i]=Rb(t),a=s=>s.toFixed(1);return e.restore(),t}var pE=require("vscode");var{summary:dE,followups:II}=rd,{fs:CI}=pE.workspace,KU=(e,t)=>`Clarify the requirements, taking into consideration the suggestions below:
    <suggestions>
      ${t}
    </suggestions>

    For the existing project, include implied implementation requirements derived from the project configuration and context.
    Focus strictly on the requirements - DO NOT try to design the solution, define data structures or write some code at this point.
    Adjust the content and structure according to the task complexity (should very short and simple for trivial tasks).
    Produce a minimal, but complete document, do not leave any open questions for the future.
    Save the requirements document to ${e}/ directory, then deliver a very short summary using ${dE.name} tool.
`,JU=(e,t)=>`Read the existing requirements document(s):
    <document-filenames>
      ${e}
    </document-filenames>

    Make the following changes in the document(s):
    <changes>
      ${t}
    </changes>

    Modify the document(s), then deliver a very short summary using ${dE.name} tool.
`,ZU=()=>`
    Carefully review the requirements document to find any missing elements.
    Add or correct any significant items and remove anything that is not strictly necessary.
    Focus strictly on the requirements - DO NOT try to design the solution, define data structures or write some code at this point.
`,XU=()=>`
    Suggest possible high-level modifications which may make the requirements more clear and easy to understand. 
    For example, increase or decrease detalization, add/remove sections, split/merge sections etc.
    Offer them as followup actions using ${II.name} tool.
    Never ever include any other actions, only modifications of the requirements.
`;async function xI(e,t){let r=Ku(),n=new Set;for(let[i]of await CI.readDirectory(An(e)))n.add(i);for(await vu(dE,KU(e,t),"Clarifying requirements...");;){let i=Ku(),{actions:a}=await vu(II,XU());i.restore();let s={followups:a.map(_=>({prompt:_,label:_}))};s.followups.push({prompt:"improve",label:"\u2B6E Review and improve"}),s.followups.push({prompt:"continue",label:"\u25B6 Continue to design/planning (Enter)"});let f=await uv(s);if(r.restore(),!f.prompt||f.prompt=="continue")break;let m=[];for(let[_,D]of await CI.readDirectory(An(e)))D&pE.FileType.File&&!n.has(_)&&m.push(e+"/"+_);t=f.prompt=="improve"?ZU():f.prompt,await vu(dE,JU(m,t),"Updating requirements...")}}var vE=require("vscode");var{summary:hE,followups:RI}=rd,{fs:PI}=vE.workspace,QU=(e,t)=>`Design the solution, taking into consideration the suggestions below:
    <suggestions>
      ${t}
    </suggestions>

    For the existing project, make sure you have all the information on the project configuration and context.
    Focus strictly on the solution design - DO NOT try to write code, DO NOT make step-by-step plan at this point.
    Adjust the content and structure according to the task complexity (should very short and simple for trivial tasks).
    Save the document(s) to ${e}/ directory, then deliver a very short summary using ${hE.name} tool.
`,e4=(e,t)=>`Read the existing design document(s):
    <document-filenames>
      ${e}
    </document-filenames>

    Make the following changes in the document(s):
    <changes>
      ${t}
    </changes>

    Modify the document(s), then deliver a very short summary using ${hE.name} tool.
`,t4=()=>`
    Carefully review the design document(s) to find any missing elements.
    Add or correct any significant items and remove anything that is not strictly necessary.
    Focus strictly on the solution design - DO NOT try to write code, DO NOT make step-by-step plan at this point.
`,r4=()=>`
    Suggest possible high-level modifications which may make the solution design more clear and easy to understand. 
    For example, increase or decrease detalization, add/remove sections, split/merge sections etc.
    Offer them as followup actions using ${RI.name} tool.
    Never ever include any other actions, only modifications of the solution design.
`;async function kI(e,t){let r=Ku(),n=new Set;for(let[i]of await PI.readDirectory(An(e)))n.add(i);for(await vu(hE,QU(e,t),"Designing solution...");;){let i=Ku(),{actions:a}=await vu(RI,r4());i.restore();let s={followups:a.map(_=>({prompt:_,label:_}))};s.followups.push({prompt:"improve",label:"\u2B6E Review and improve"}),s.followups.push({prompt:"continue",label:"\u25B6 Continue to planning/implementation (Enter)"});let f=await uv(s);if(r.restore(),!f.prompt||f.prompt=="continue")break;let m=[];for(let[_,D]of await PI.readDirectory(An(e)))D&vE.FileType.File&&!n.has(_)&&m.push(e+"/"+_);t=f.prompt=="improve"?t4():f.prompt,await vu(hE,e4(m,t),"Updating design...")}}var sm=require("vscode");var{list:mE,followups:OI}=rd,n4=()=>`
    Split the task into smaller, more manageable steps and present them using the ${mE.name} tool.
    The list should contain task steps. If the work is very small, use just one single step.
    Each step has a name (header) and a specification of the work to do in this step.
    Strictly follow the requirements and design documents if available.
    Take into account the changes made in the previous tasks.
    Carefully think through all steps and mentally verify the proposed implementation.
    Follow KISS, YAGNI and SOLID principles.
`,i4=(e,t)=>`Read the existing implementation plan:
    <document-filename>
      ${e}/implementation_plan.md
    </document-filename>

    Make the following changes in the plan:
    <changes>
      ${t}
    </changes>

    Modify the plan, then present it using the ${mE.name} tool.
    The list should contain task steps. If the work is very small, use just one single step.
    Each step has a name (header) and a specification of the work to do in this step.
    Strictly follow the requirements and design documents if available.
    Take into account the changes made in the previous tasks.
    Carefully think through all steps and mentally verify the proposed implementation.
    Follow KISS, YAGNI and SOLID principles.
`,a4=()=>`
    Carefully analyse each section of the plan to identify any inconsistencies or logical errors. 
    Check for edge cases, cross-dependencies and anything, that can affect successful implementation.
`,o4=()=>`
    Suggest possible high-level modifications which may improve this implementation plan. 
    For example, increase or decrease detalization, add/remove sections, split/merge sections etc.
    Offer them as followup actions using ${OI.name} tool.
    Never ever include any other actions, only modifications of the implementation plan.
`,s4=({title:e,items:t})=>`# ${e}

${t.map(({header:r,content:n})=>`## ${r}

${n}

`).join("")}
`;function u4(e,t){var n,i;Nt.stream.button({title:"Edit",command:"multicoder.action",arguments:[r],tooltip:"Click to edit the plan"});async function r(){let a=await sm.workspace.openTextDocument(t);sm.window.showTextDocument(a)}String((i=(n=sm.window.activeTextEditor)==null?void 0:n.document)==null?void 0:i.uri)==String(t)&&sm.commands.executeCommand("workbench.action.files.revert"),Nt.stream.markdown(`
`+e.comments+`
`)}async function c4(e,t,r){if(await pu(r)==t)return;let i=await sm.commands.executeCommand("vscode.executeDocumentSymbolProvider",r);if(!i||i.length===0)return;let a=await sm.workspace.openTextDocument(r),s=i[0],f=s.name.replace(/^[#\s]+/,""),m=s.children.map(({name:_,range:D})=>({header:_.replace(/^[#\s]+/,""),content:a.getText(D).slice(_.length).trim()}));e.title=f,e.items=m}async function MI(e,t){let r=Ku(),n=await vu(mE,n4(),"Planning..."),i=An(e+"/implementation_plan.md");for(;;){let a=s4(n);await kc(i,a),u4(n,i);let s=Ku(),{actions:f}=await vu(OI,o4());s.restore();let m={followups:f.map(D=>({prompt:D,label:D}))};m.followups.push({prompt:"improve",label:"\u2B6E Review and improve"}),m.followups.push({prompt:"continue",label:"\u25B6 Start implementation (Enter)"});let _=await uv(m);if(r.restore(),!_.prompt||_.prompt=="continue"){await c4(n,a,i);break}t=_.prompt=="improve"?a4():_.prompt,n=await vu(mE,i4(e,t),"Updating planning...")}return n}var{summary:gE}=rd,f4=()=>`
    Implement the task, then deliver the summary using ${gE.name} tool.
`,l4=e=>`
    We have now implemented all the steps of the plan:
    <implemented>
    ${e.title}
    </implemented>
    Deliver the summary of this work using ${gE.name} tool.
`,d4=(e,t,r,n)=>`Step ${e+1} (${t}) is now completed.

${r}

${n.length?"Completed changes:":""}
${n.map(({summary:i,filename:a})=>`- ${i} (${a})`).join(`
`)}
`,p4=(e,t)=>`We will now work on the step ${t+1}:

## ${e.header}

${e.content}
`;async function kb(e,t,r,n){if(!e||e.items.length==1)return await vu(gE,f4());Qm("",`Do you want me to work on ${e.title}?`);for(let i=0;i<e.items.length;i++){let a=Ku(),s=e.items[i],f=Nt.shared.edits.length;Nt.stream.markdown(`

## `+s.header+`

`),Qm(p4(s,i));let m=await n(t+1,r+"/"+(i+1));a.restore();let _=Nt.shared.edits.slice(f);Qm(d4(i,s.header.replace(/^[\d\.\s]+/,""),m.text,_))}return await vu(gE,l4(e))}var{fs:h4}=yE.workspace,v4=".multicoder/task",m4=(e,t,r)=>`<document filename="${r}/${t}">
${e}
</document>
`;async function LI(e=0,t=v4){let r=Ku(),n=0,i=0,a=null;for(;;){r.restore();for(let[k,U]of await h4.readDirectory(An(t)))if(U&yE.FileType.File){let z=await pu(An(t+"/"+k));Qm(m4(z,k,t))}if(a)return await kb(a,e,t,LI);let s=await NI(),f="implement",[m,_,D]=Rb(s);if(s.architecturalScale==0&&!e)return{};if(s.splitIntoParts&&(f="plan"),s.designSolution&&!i&&(f="design"),s.clarifyRequirements&&!n&&!i&&!e&&(f="clarify"),!i&&_>2.5&&f!="clarify"&&(f="design"),D>2&&f=="implement"&&(f="plan"),f=="clarify"){await xI(t,s.suggestions),++n;continue}if(f=="design"){await kI(t,s.suggestions),++i;continue}if(f=="plan"){a=await MI(t,s.suggestions);continue}return await kb()}}var g4=e=>`We have a new request:
<request>
${e}
</request>
`;async function FI(e){for(;;){let t=e.prompt,r=Ku();Qm(g4(t)),(await LI()).text?Qm(""," "):(r.restore(),await Pb(t)),e=await uv()}}var _E={};CE(_E,{config:()=>Ob});var BI=require("vscode");var y4=()=>`
Multicoder can work with LLM models provided by **GitHub Copilot** (default configuration) or 
send requests directly to the core provider APIs (**Anthropic**, **OpenAI**).

If you have your own API key and want to use it instead of the Github models, select 'Core Providers' in the Model Provider dropdown (settings panel)
and set your API key(s) using the buttons below.

`;async function UI(e){var r;let t=await Nt.ext.secrets.get(e)||((r=process==null?void 0:process.env)==null?void 0:r[e]);return t&&t.slice(0,12)+"..."+t.slice(-4)}async function Ob(){let{stream:e,telemetry:t}=Nt;BI.commands.executeCommand("workbench.action.openSettings","@ext:multicoder.multicoder"),t.logUsage("config"),e.markdown(y4());let r=await UI("ANTHROPIC_API_KEY");e.markdown(`Anthropic API key: ${r}`),e.button({command:"multicoder.storeApiKey",title:"Set Anthropic key",arguments:["ANTHROPIC_API_KEY","Anthropic API key"]}),e.markdown(`

`);let n=await UI("OPENAI_API_KEY");e.markdown(`OpenAI API key: ${n}`),e.button({command:"multicoder.storeApiKey",title:"Set OpenAI key",arguments:["OPENAI_API_KEY","OpenAI API key"]})}var jI,GI;async function _4(){var k,U;let{request:e,ext:t,telemetry:r}=Nt,n=e.model.id,i=My.workspace.getConfiguration("multicoder"),a=i.get("modelProvider");if(n==jI&&a==GI&&Nt.model)return;jI=n,GI=a;let s=e.model.family;if(s.startsWith("o1")&&(s="gpt-4o"),Nt.id=s,a=="default"&&(a="copilot"),a=="copilot"){Nt.model=ab({id:s,provider:"copilot",apiKey:""}),r.logUsage("model",{model:s});return}if(a=="auto"&&(a=(k=sb.find(z=>z.family==s))==null?void 0:k.provider,!a))throw new Error("Cannot find model: "+s);let f=nN.find(z=>z.id==a),m=sb.find(z=>z.provider==a&&z.family==s),{envKeyName:_}=f,D=await t.secrets.get(_)||((U=process==null?void 0:process.env)==null?void 0:U[_]);if(!D){await Ob();return}Nt.model=ab({...m,apiKey:D}),r.logUsage("model",{model:s})}function qI(){let{ext:e,telemetry:t}=Nt,r,n=My.chat.createChatParticipant("multicoder",async(i,a,s,f)=>{try{return Object.assign(Nt,{request:i,chat:a,stream:s,token:f}),await _4(),Nt.model?(a.history.length||(r==null||r.return(),r=null,I2()),r?t.logUsage("next_round"):(r=await TI(FI),t.logUsage("start_new")),_E[i.command]?(await _E[i.command](),{metadata:{command:i.command}}):{metadata:await r.next(i)}):void 0}catch(m){throw t.logError(m),Nt.model=null,r=null,m}});n.iconPath=My.Uri.joinPath(e.extensionUri,"resources","multicoder.png"),n.followupProvider={provideFollowups(i){var a;return((a=i.metadata)==null?void 0:a.followups)||[]}}}function E4(e){Nt.ext=e,Nt.config=YI.workspace.getConfiguration("multicoder"),Nt.shared={},T2(),C2(),FT(),qI()}function w4(){}0&&(module.exports={activate,deactivate});
/*! Bundled license information:

@microsoft/1ds-core-js/dist/es5/ms.core.js:
  (*!
   * 1DS JS SDK Core, 4.3.4
   * Copyright (c) Microsoft and contributors. All rights reserved.
   * (Microsoft Internal Only)
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.5 *)
  (*!
   * NevWare21 Solutions LLC - ts-async, 0.5.3
   * https://github.com/nevware21/ts-async
   * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
   * Licensed under the MIT license.
   *)

@microsoft/1ds-post-js/dist/es5/ms.post.js:
  (*!
   * 1DS JS SDK POST plugin, 4.3.4
   * Copyright (c) Microsoft and contributors. All rights reserved.
   * (Microsoft Internal Only)
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.5 *)
  (*!
   * NevWare21 Solutions LLC - ts-async, 0.5.3
   * https://github.com/nevware21/ts-async
   * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
   * Licensed under the MIT license.
   *)

@microsoft/applicationinsights-common/dist/es5/applicationinsights-common.js:
  (*!
   * Application Insights JavaScript SDK - Common, 3.3.4
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.5 *)

@microsoft/applicationinsights-web-basic/dist/es5/applicationinsights-web-basic.js:
  (*!
   * Application Insights JavaScript Web SDK - Basic, 3.3.4
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.5 *)
  (*!
   * NevWare21 Solutions LLC - ts-async, 0.5.3
   * https://github.com/nevware21/ts-async
   * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
   * Licensed under the MIT license.
   *)
*/
//# sourceMappingURL=extension.js.map
