var Lx=Object.create;var X_=Object.defineProperty;var Fx=Object.getOwnPropertyDescriptor;var Ux=Object.getOwnPropertyNames;var Bx=Object.getPrototypeOf,jx=Object.prototype.hasOwnProperty;var cr=(e,t)=>()=>(t||e((t={exports:{}}).exports,t),t.exports),IE=(e,t)=>{for(var r in t)X_(e,r,{get:t[r],enumerable:!0})},e2=(e,t,r,n)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of Ux(t))!jx.call(e,i)&&i!==r&&X_(e,i,{get:()=>t[i],enumerable:!(n=Fx(t,i))||n.enumerable});return e};var Uf=(e,t,r)=>(r=e!=null?Lx(Bx(e)):{},e2(t||!e||!e.__esModule?X_(r,"default",{value:e,enumerable:!0}):r,e)),Gx=e=>e2(X_({},"__esModule",{value:!0}),e);var FE=cr((Z4,u2)=>{function t2(e){return Array.isArray(e)?e:[e]}var kE="",r2=" ",PE="\\",zx=/^\s+$/,$x=/(?:[^\\]|^)\\$/,Vx=/^\\!/,Wx=/^\\#/,Hx=/\r?\n/g,Kx=/^\.*\/|^\.+$/,RE="/",a2="node-ignore";typeof Symbol<"u"&&(a2=Symbol.for("node-ignore"));var n2=a2,Jx=(e,t,r)=>Object.defineProperty(e,t,{value:r}),Zx=/([0-z])-([0-z])/g,o2=()=>!1,Xx=e=>e.replace(Zx,(t,r,n)=>r.charCodeAt(0)<=n.charCodeAt(0)?t:kE),Qx=e=>{let{length:t}=e;return e.slice(0,t-t%2)},e1=[[/^\uFEFF/,()=>kE],[/((?:\\\\)*?)(\\?\s+)$/,(e,t,r)=>t+(r.indexOf("\\")===0?r2:kE)],[/(\\+?)\s/g,(e,t)=>{let{length:r}=t;return t.slice(0,r-r%2)+r2}],[/[\\$.|*+(){^]/g,e=>`\\${e}`],[/(?!\\)\?/g,()=>"[^/]"],[/^\//,()=>"^"],[/\//g,()=>"\\/"],[/^\^*\\\*\\\*\\\//,()=>"^(?:.*\\/)?"],[/^(?=[^^])/,function(){return/\/(?!$)/.test(this)?"^":"(?:^|\\/)"}],[/\\\/\\\*\\\*(?=\\\/|$)/g,(e,t,r)=>t+6<r.length?"(?:\\/[^\\/]+)*":"\\/.+"],[/(^|[^\\]+)(\\\*)+(?=.+)/g,(e,t,r)=>{let n=r.replace(/\\\*/g,"[^\\/]*");return t+n}],[/\\\\\\(?=[$.|*+(){^])/g,()=>PE],[/\\\\/g,()=>PE],[/(\\)?\[([^\]/]*?)(\\*)($|\])/g,(e,t,r,n,i)=>t===PE?`\\[${r}${Qx(n)}${i}`:i==="]"&&n.length%2===0?`[${Xx(r)}${n}]`:"[]"],[/(?:[^*])$/,e=>/\/$/.test(e)?`${e}$`:`${e}(?=$|\\/$)`],[/(\^|\\\/)?\\\*$/,(e,t)=>`${t?`${t}[^/]+`:"[^/]*"}(?=$|\\/$)`]],i2=Object.create(null),t1=(e,t)=>{let r=i2[e];return r||(r=e1.reduce((n,[i,a])=>n.replace(i,a.bind(e)),e),i2[e]=r),t?new RegExp(r,"i"):new RegExp(r)},LE=e=>typeof e=="string",r1=e=>e&&LE(e)&&!zx.test(e)&&!$x.test(e)&&e.indexOf("#")!==0,n1=e=>e.split(Hx),OE=class{constructor(t,r,n,i){this.origin=t,this.pattern=r,this.negative=n,this.regex=i}},i1=(e,t)=>{let r=e,n=!1;e.indexOf("!")===0&&(n=!0,e=e.substr(1)),e=e.replace(Vx,"!").replace(Wx,"#");let i=t1(e,t);return new OE(r,e,n,i)},a1=(e,t)=>{throw new t(e)},zv=(e,t,r)=>LE(e)?e?zv.isNotRelative(e)?r(`path should be a \`path.relative()\`d string, but got "${t}"`,RangeError):!0:r("path must not be empty",TypeError):r(`path must be a string, but got \`${t}\``,TypeError),s2=e=>Kx.test(e);zv.isNotRelative=s2;zv.convert=e=>e;var ME=class{constructor({ignorecase:t=!0,ignoreCase:r=t,allowRelativePaths:n=!1}={}){Jx(this,n2,!0),this._rules=[],this._ignoreCase=r,this._allowRelativePaths=n,this._initCache()}_initCache(){this._ignoreCache=Object.create(null),this._testCache=Object.create(null)}_addPattern(t){if(t&&t[n2]){this._rules=this._rules.concat(t._rules),this._added=!0;return}if(r1(t)){let r=i1(t,this._ignoreCase);this._added=!0,this._rules.push(r)}}add(t){return this._added=!1,t2(LE(t)?n1(t):t).forEach(this._addPattern,this),this._added&&this._initCache(),this}addPattern(t){return this.add(t)}_testOne(t,r){let n=!1,i=!1;return this._rules.forEach(a=>{let{negative:s}=a;if(i===s&&n!==i||s&&!n&&!i&&!r)return;a.regex.test(t)&&(n=!s,i=s)}),{ignored:n,unignored:i}}_test(t,r,n,i){let a=t&&zv.convert(t);return zv(a,t,this._allowRelativePaths?o2:a1),this._t(a,r,n,i)}_t(t,r,n,i){if(t in r)return r[t];if(i||(i=t.split(RE)),i.pop(),!i.length)return r[t]=this._testOne(t,n);let a=this._t(i.join(RE)+RE,r,n,i);return r[t]=a.ignored?a:this._testOne(t,n)}ignores(t){return this._test(t,this._ignoreCache,!1).ignored}createFilter(){return t=>!this.ignores(t)}filter(t){return t2(t).filter(this.createFilter())}test(t){return this._test(t,this._testCache,!0)}},Q_=e=>new ME(e),o1=e=>zv(e&&zv.convert(e),e,o2);Q_.isPathValid=o1;Q_.default=Q_;u2.exports=Q_;if(typeof process<"u"&&(process.env&&process.env.IGNORE_TEST_WIN32||process.platform==="win32")){let e=r=>/^\\\\\?\\/.test(r)||/["<>|\u0000-\u001F]+/u.test(r)?r:r.replace(/\\/g,"/");zv.convert=e;let t=/^[a-z]:\//i;zv.isNotRelative=r=>t.test(r)||s2(r)}});var d2=cr((t0,l2)=>{(function(e,t){typeof t0=="object"&&typeof l2<"u"?t(t0):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.oneDS=e.oneDS||{}))})(t0,function(e){"use strict";var t="function",r="object",n="undefined",i="prototype",a=Object,s=a[i];function f(o,l){return o||l}function h(o,l){return o[l]}var y=void 0,D=null,x="",L="function",Y="object",ee="prototype",W="__proto__",H="undefined",X="constructor",ue="Symbol",ce="_polyfill",he="length",Ue="name",Le="call",ve="toString",Pe=f(Object),Te=h(Pe,ee),Je=f(String),mt=h(Je,ee),Er=f(Math),fr=f(Array),Bt=h(fr,ee),en=h(Bt,"slice");function qe(o,l){try{return{v:o.apply(this,l)}}catch(m){return{e:m}}}function Jr(o,l){var m=qe(o);return m.e?l:m.v}var Fe;function Gr(o){return function(l){return typeof l===o}}function er(o){var l="[object "+o+"]";return function(m){return!!(m&&kt(m)===l)}}function kt(o){return Te[ve].call(o)}function nn(o,l){return typeof o===l}function ut(o){return typeof o===H||o===H}function Hn(o){return!Zt(o)}function lt(o){return o===D||ut(o)}function Au(o){return o===D||!Zt(o)}function Zt(o){return!!o||o!==y}function to(o){return!Fe&&(Fe=["string","number","boolean",H,"symbol","bigint"]),o!==Y&&Fe.indexOf(o)!==-1}var It=Gr("string"),qt=Gr(L);function fn(o){return!o&&lt(o)?!1:!!o&&typeof o===Y}var Ve=h(fr,"isArray"),tn=er("Date"),Dr=Gr("number"),ci=Gr("boolean"),Yt=er("Error");function ln(o){return!!(o&&o.then&&qt(o.then))}function ka(o){return!o||!Oa(o)}function Oa(o){return!(!o||Jr(function(){return!(o&&0+o)},!o))}var an=h(Pe,"getOwnPropertyDescriptor");function Tn(o,l){return!!o&&Te.hasOwnProperty[Le](o,l)}var Co=f(h(Pe,"hasOwn"),Ui);function Ui(o,l){return Tn(o,l)||!!an(o,l)}function Lr(o,l,m){if(o&&fn(o)){for(var w in o)if(Co(o,w)&&l[Le](m||o,w,o[w])===-1)break}}var or={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function lr(o){var l={};if(l[or.c]=!0,l[or.e]=!0,o.l){l.get=function(){return o.l.v};var m=an(o.l,"v");m&&m.set&&(l.set=function(w){o.l.v=w})}return Lr(o,function(w,T){l[or[w]]=Hn(T)?l[or[w]]:T}),l}var Zr=h(Pe,"defineProperty");function up(o,l,m,w,T,P){var O={e:P,c:T};return m&&(O.g=m),w&&(O.s=w),Zr(o,l,lr(O))}function fi(o,l,m){return Zr(o,l,lr(m))}function as(o,l,m,w,T){var P={};return Lr(o,function(O,R){Nu(P,O,l?R:O,T),Nu(P,R,m?R:O,T)}),w?w(P):P}function Nu(o,l,m,w){Zr(o,l,{value:m,enumerable:!0,writable:!!w})}var on=f(Je),Bi="[object Error]";function vr(o,l){var m=x,w=Te[ve][Le](o);w===Bi&&(o={stack:on(o.stack),message:on(o.message),name:on(o.name)});try{m=JSON.stringify(o,D,l?typeof l=="number"?l:4:y),m=(m?m.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):D)||on(o)}catch(T){m=" - "+vr(T,l)}return w+": "+m}function Si(o){throw new Error(o)}function Di(o){throw new TypeError(o)}var os=h(Pe,"freeze");function ss(o){return o}function ro(o){return o[W]||D}var us=h(Pe,"assign"),Io=h(Pe,"keys");function Ys(o){return os&&Lr(o,function(l,m){(Ve(m)||fn(m))&&Ys(m)}),no(o)}var no=f(os,ss),Cu=f(h(Pe,"seal"),ss),Rr=f(h(Pe,"getPrototypeOf"),ro);function Hr(o){return as(o,1,0,no)}function da(o){return as(o,0,0,no)}var xo=da({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),cs="__tsUtils$gblCfg",Ti;function pa(){var o;return typeof globalThis!==H&&(o=globalThis),!o&&typeof self!==H&&(o=self),!o&&typeof window!==H&&(o=window),!o&&typeof global!==H&&(o=global),o}function Po(){if(!Ti){var o=qe(pa).v||{};Ti=o[cs]=o[cs]||{}}return Ti}var Ai=Ro;function Ro(o,l,m){var w=l?l[o]:D;return function(T){var P=(T?T[o]:D)||w;if(P||m){var O=arguments;return(P||m).apply(T,P?en[Le](O,1):O)}Di('"'+on(o)+'" not defined for '+vr(T))}}function cp(o){return function(l){return l[o]}}var cd=h(Er,"max"),fp=Ai("slice",mt),mn=Ai("substring",mt),ko=Ro("substr",mt,fs);function fs(o,l,m){return lt(o)&&Di("Invalid "+vr(o)),m<0?x:(l=l||0,l<0&&(l=cd(l+o[he],0)),ut(m)?fp(o,l):fp(o,l,l+m))}function Un(o,l){return mn(o,0,l)}var ls="_urid",Iu;function ta(){if(!Iu){var o=Po();Iu=o.gblSym=o.gblSym||{k:{},s:{}}}return Iu}var gn;function Bn(o){var l={description:on(o),toString:function(){return ue+"("+o+")"}};return l[ce]=!0,l}function uc(o){var l=ta();if(!Co(l.k,o)){var m=Bn(o),w=Io(l.s).length;m[ls]=function(){return w+"_"+m[ve]()},l.k[o]=m,l.s[m[ls]()]=on(o)}return l.k[o]}function ha(o){!gn&&(gn={});var l,m=xo[o];return m&&(l=gn[m]=gn[m]||Bn(ue+"."+m)),l}var kr;function li(){kr=Po()}function fd(o){var l={};return!kr&&li(),l.b=kr.lzy,Zr(l,"v",{configurable:!0,get:function(){var m=o();return kr.lzy||Zr(l,"v",{value:m}),l.b=kr.lzy,m}}),l}function Ni(o){return Zr({toJSON:function(){return o}},"v",{value:o})}var ds="window",Hc;function ps(o,l){var m;return function(){return!kr&&li(),(!m||kr.lzy)&&(m=Ni(qe(o,l).v)),m.v}}function ld(o){return!kr&&li(),(!Hc||o===!1||kr.lzy)&&(Hc=Ni(qe(pa).v||D)),Hc.v}function dn(o,l){var m;if(!Hc||l===!1?m=ld(l):m=Hc.v,m&&m[o])return m[o];if(o===ds)try{return window}catch{}return D}function $f(){return!!ra()}var ra=ps(dn,["document"]);function lp(){return!!va()}var va=ps(dn,[ds]);function lh(){return!!ma()}var ma=ps(dn,["navigator"]);function Vf(){return!!io()}var io=ps(dn,["history"]),dd=ps(function(){return!!qe(function(){return process&&(process.versions||{}).node}).v}),Tr,hs;function pd(){return Tr=Ni(qe(dn,[ue]).v),Tr}function na(o){var l=(kr.lzy?0:Tr)||pd();return l.v?l.v[o]:y}function Kc(){return!!Ft()}function Ft(){return!kr&&li(),((kr.lzy?0:Tr)||pd()).v}function ga(o,l){var m=xo[o];!kr&&li();var w=(kr.lzy?0:Tr)||pd();return w.v?w.v[m||o]:l?y:ha(o)}function cc(o,l){!kr&&li();var m=(kr.lzy?0:Tr)||pd();return m.v?m.v(o):l?D:Bn(o)}function Wf(o){return!kr&&li(),hs=(kr.lzy?0:hs)||Ni(qe(na,["for"]).v),(hs.v||uc)(o)}function dv(o){return!!o&&qt(o.next)}function Ma(o){return!Au(o)&&qt(o[ga(3)])}var Hf;function dp(o,l,m){if(o&&(dv(o)||(!Hf&&(Hf=Ni(ga(3))),o=o[Hf.v]?o[Hf.v]():D),dv(o))){var w=y,T=y;try{for(var P=0;!(T=o.next()).done&&l[Le](m||o,T.value,P,o)!==-1;)P++}catch(O){w={e:O},o.throw&&(T=D,o.throw(w))}finally{try{T&&!T.done&&o.return&&o.return(T)}finally{if(w)throw w.e}}}}function xu(o,l,m){return o.apply(l,m)}function La(o,l){return!ut(l)&&o&&(Ve(l)?xu(o.push,o,l):dv(l)||Ma(l)?dp(l,function(m){o.push(m)}):o.push(l)),o}function _t(o,l,m){if(o)for(var w=o[he]>>>0,T=0;T<w&&!(T in o&&l[Le](m||o,o[T],T,o)===-1);T++);}var di=Ai("indexOf",Bt),Pu=Ai("map",Bt);function zs(o,l,m){return((o?o.slice:D)||en).apply(o,en[Le](arguments,1))}function pp(o,l,m){return di(o,l,m)!==-1}var hp=Ro("includes",Bt,pp),Xn=Ai("reduce",Bt),ya=f(h(Pe,"create"),vp);function vp(o){if(!o)return{};var l=typeof o;l!==Y&&l!==L&&Di("Prototype must be an Object or function: "+vr(o));function m(){}return m[ee]=o,new m}var Fa;function ia(o,l){var m=Pe.setPrototypeOf||function(w,T){var P;!Fa&&(Fa=Ni((P={},P[W]=[],P instanceof Array))),Fa.v?w[W]=T:Lr(T,function(O,R){return w[O]=R})};return m(o,l)}function cm(o,l,m){qe(fi,[l,Ue,{v:o,c:!0,e:!1}]),l=ia(l,m);function w(){this[X]=l,qe(fi,[this,Ue,{v:o,c:!0,e:!1}])}return l[ee]=m===D?ya(m):(w[ee]=m[ee],new w),l}function pv(o,l){l&&(o[Ue]=l)}function dh(o,l,m){var w=m||Error,T=w[ee][Ue],P=Error.captureStackTrace;return cm(o,function(){var O=this,R=arguments;try{qe(pv,[w,o]);var U=xu(w,O,en[Le](R))||O;if(U!==O){var G=Rr(O);G!==Rr(U)&&ia(U,G)}return P&&P(U,O[X]),l&&l(U,R),U}finally{qe(pv,[w,T])}},w)}function Ru(){return(Date.now||ph)()}function ph(){return new Date().getTime()}function Qm(o){return function(m){return lt(m)&&Di("strTrim called ["+vr(m)+"]"),m&&m.replace&&(m=m.replace(o,x)),m}}var mp=Qm(/^\s+|(?=\s)\s+$/g),ji=Ro("trim",mt,mp),Kf,Jf,ao;function _a(o){if(!o||typeof o!==Y)return!1;ao||(ao=lp()?va():!0);var l=!1;if(o!==ao){Jf||(Kf=Function[ee][ve],Jf=Kf[Le](Pe));try{var m=Rr(o);l=!m,l||(Tn(m,X)&&(m=m[X]),l=!!(m&&typeof m===L&&Kf[Le](m)===Jf))}catch{}}return l}function ku(o){return o.value&&mh(o),!0}var hh=[hd,mh,vh,yp];function Ua(o,l,m,w){var T;return _t(o,function(P){if(P.k===l)return T=P,-1}),T||(T={k:l,v:l},o.push(T),w(T)),T.v}function gp(o,l,m,w){var T=m.handler,P=m.path?w?m.path.concat(w):m.path:[],O={handler:m.handler,src:m.src,path:P},R=typeof l,U=!1,G=l===D;G||(l&&R===Y?U=_a(l):G=to(R));var K={type:R,isPrim:G,isPlain:U,value:l,result:l,path:P,origin:m.src,copy:function(J,Q){return gp(o,J,Q?O:m,Q)},copyTo:function(J,Q){return fc(o,J,Q,O)}};return K.isPrim?T&&T[Le](m,K)?K.result:l:Ua(o,l,P,function(J){fi(K,"result",{g:function(){return J.v},s:function(ne){J.v=ne}});for(var Q=0,ae=T;!(ae||(Q<hh.length?hh[Q++]:ku))[Le](m,K);)ae=D})}function fc(o,l,m,w){if(!lt(m))for(var T in m)l[T]=gp(o,m[T],w,T);return l}function Jc(o,l,m){var w={handler:m,src:l,path:[]};return fc([],o,l,w)}function Zf(o,l){var m={handler:l,src:o};return gp([],o,m)}function hd(o){var l=o.value;if(Ve(l)){var m=o.result=[];return m.length=l.length,o.copyTo(m,l),!0}return!1}function yp(o){var l=o.value;return tn(l)?(o.result=new Date(l.getTime()),!0):!1}function vh(o){return o.type===L}function mh(o){var l=o.value;if(l&&o.isPlain){var m=o.result={};return o.copyTo(m,l),!0}return!1}function Ou(o,l){return _t(l,function(m){Jc(o,m)}),o}function _p(o,l,m,w,T,P,O){return Ou(Zf(o)||{},en[Le](arguments))}var $s=cp(he),lc;function Ba(){return!kr&&li(),(!lc||kr.lzy)&&(lc=Ni(qe(dn,["performance"]).v)),lc.v}function Xf(){var o=Ba();return o&&o.now?o.now():Ru()}var vd=Ro("endsWith",mt,Zc);function Zc(o,l,m){It(o)||Di("'"+vr(o)+"' is not a string");var w=It(l)?l:on(l),T=!ut(m)&&m<o[he]?m:o[he];return mn(o,T-w[he],T)===w}var oo=Ai("indexOf",mt),hv=Ro("startsWith",mt,vs);function vs(o,l,m){It(o)||Di("'"+vr(o)+"' is not a string");var w=It(l)?l:on(l),T=m>0?m:0;return mn(o,T,T+w[he])===w}var Oo="ref",so="unref",Mu="hasRef",md="enabled";function Xc(o,l,m){var w=!0,T=o?l(D):D,P;function O(){return w=!1,T&&T[so]&&T[so](),P}function R(){T&&m(T),T=D}function U(){return T=l(T),w||O(),P}function G(K){!K&&T&&R(),K&&!T&&U()}return P={cancel:R,refresh:U},P[Mu]=function(){return T&&T[Mu]?T[Mu]():w},P[Oo]=function(){return w=!0,T&&T[Oo]&&T[Oo](),P},P[so]=O,P=Zr(P,md,{get:function(){return!!T},set:G}),{h:P,dn:function(){T=D}}}function Qc(o,l,m){var w=Ve(l),T=w?l.length:0,P=(T>0?l[0]:w?y:l)||setTimeout,O=(T>1?l[1]:y)||clearTimeout,R=m[0];m[0]=function(){U.dn(),xu(R,y,en[Le](arguments))};var U=Xc(o,function(G){if(G){if(G.refresh)return G.refresh(),G;xu(O,y,[G])}return xu(P,y,m)},function(G){xu(O,y,[G])});return U.h}function dc(o,l){return Qc(!0,y,en[Le](arguments))}function gd(o,l){return Qc(!1,y,en[Le](arguments))}(ld()||{}).Symbol,(ld()||{}).Reflect;var Qf="hasOwnProperty",yd=function(o,l){return yd=a.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,w){m.__proto__=w}||function(m,w){for(var T in w)w[Qf](T)&&(m[T]=w[T])},yd(o,l)};function pc(o,l){typeof l!==t&&l!==null&&Di("Class extends value "+String(l)+" is not a constructor or null"),yd(o,l);function m(){this.constructor=o}o[i]=l===null?ya(l):(m[i]=l[i],new m)}function uo(o,l){for(var m=0,w=l.length,T=o.length;m<w;m++,T++)o[T]=l[m];return o}var ef,Mo="constructor",Ea="prototype",ms="function",Xr="_dynInstFuncs",Vs="_isDynProxy",co="_dynClass",tf="_dynCls$",rf="_dynInstChk",gs=rf,el="_dfOpts",ys="_unknown_",Lu="__proto__",aa="_dyn"+Lu,Ep="__dynProto$Gbl",hc="_dynInstProto",Gi="useBaseInst",_d="setInstFuncs",wp=Object,tl=wp.getPrototypeOf,rl=wp.getOwnPropertyNames,bp=ld(),vv=bp[Ep]||(bp[Ep]={o:(ef={},ef[_d]=!0,ef[Gi]=!0,ef),n:1e3});function vc(o){return o&&(o===wp[Ea]||o===Array[Ea])}function Lo(o){return vc(o)||o===Function[Ea]}function fo(o){var l;if(o){if(tl)return tl(o);var m=o[Lu]||o[Ea]||(o[Mo]?o[Mo][Ea]:null);l=o[aa]||m,Tn(o,aa)||(delete o[hc],l=o[aa]=o[hc]||o[aa],o[hc]=m)}return l}function Sn(o,l){var m=[];if(rl)m=rl(o);else for(var w in o)typeof w=="string"&&Tn(o,w)&&m.push(w);if(m&&m.length>0)for(var T=0;T<m.length;T++)l(m[T])}function nl(o,l,m){return l!==Mo&&typeof o[l]===ms&&(m||Tn(o,l))&&l!==Lu&&l!==Ea}function mc(o){Di("DynamicProto: "+o)}function gc(o){var l=ya(null);return Sn(o,function(m){!l[m]&&nl(o,m,!1)&&(l[m]=o[m])}),l}function Sp(o,l){for(var m=o.length-1;m>=0;m--)if(o[m]===l)return!0;return!1}function ja(o,l,m,w){function T(U,G,K){var J=G[K];if(J[Vs]&&w){var Q=U[Xr]||{};Q[gs]!==!1&&(J=(Q[G[co]]||{})[K]||J)}return function(){return J.apply(U,arguments)}}var P=ya(null);Sn(m,function(U){P[U]=T(l,m,U)});for(var O=fo(o),R=[];O&&!Lo(O)&&!Sp(R,O);)Sn(O,function(U){!P[U]&&nl(O,U,!tl)&&(P[U]=T(l,O,U))}),R.push(O),O=fo(O);return P}function Fu(o,l,m,w){var T=null;if(o&&Tn(m,co)){var P=o[Xr]||ya(null);if(T=(P[m[co]]||ya(null))[l],T||mc("Missing ["+l+"] "+ms),!T[rf]&&P[gs]!==!1){for(var O=!Tn(o,l),R=fo(o),U=[];O&&R&&!Lo(R)&&!Sp(U,R);){var G=R[l];if(G){O=G===w;break}U.push(R),R=fo(R)}try{O&&(o[l]=T),T[rf]=1}catch{P[gs]=!1}}}return T}function Ws(o,l,m){var w=l[o];return w===m&&(w=fo(l)[o]),typeof w!==ms&&mc("["+o+"] is not a "+ms),w}function mr(o,l,m,w,T){function P(U,G){var K=function(){var J=Fu(this,G,U,K)||Ws(G,U,K);return J.apply(this,arguments)};return K[Vs]=1,K}if(!vc(o)){var O=m[Xr]=m[Xr]||ya(null);if(!vc(O)){var R=O[l]=O[l]||ya(null);O[gs]!==!1&&(O[gs]=!!T),vc(R)||Sn(m,function(U){nl(m,U,!1)&&m[U]!==w[U]&&(R[U]=m[U],delete m[U],(!Tn(o,U)||o[U]&&!o[U][Vs])&&(o[U]=P(o,U)))})}}}function Fo(o,l){if(tl){for(var m=[],w=fo(l);w&&!Lo(w)&&!Sp(m,w);){if(w===o)return!0;m.push(w),w=fo(w)}return!1}return!0}function _s(o,l){return Tn(o,Ea)?o.name||l||ys:((o||{})[Mo]||{}).name||l||ys}function Ga(o,l,m,w){Tn(o,Ea)||mc("theClass is an invalid class definition.");var T=o[Ea];Fo(T,l)||mc("["+_s(o)+"] not in hierarchy of ["+_s(l)+"]");var P=null;Tn(T,co)?P=T[co]:(P=tf+_s(o,"_")+"$"+vv.n,vv.n++,T[co]=P);var O=Ga[el],R=!!O[Gi];R&&w&&w[Gi]!==void 0&&(R=!!w[Gi]);var U=gc(l),G=ja(T,l,U,R);m(l,G);var K=!!tl&&!!O[_d];K&&w&&(K=!!w[_d]),mr(T,P,l,U,K!==!1)}Ga[el]=vv.o;var Ed=100,qa=Hr,Uu=qa({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}),yn=qa({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2}),oa="toLowerCase",qr="blkVal",Et="length",yc="rdOnly",Uo="notify",Hs="warnToConsole",lo="throwInternal",Bu="setDf",Ya="watch",$r="logger",Bo="apply",Yr="push",jo="splice",wd="hdlr",Go="cancel",Ln="initialize",po="identifier",Es="removeNotificationListener",Ci="addNotificationListener",qi="isInitialized",nf="instrumentationKey",_c="INACTIVE",bd="value",Ks="getNotifyMgr",qo="getPlugin",Yo="name",Ec="iKey",zo="time",jn="processNext",Sd="getProcessTelContext",wc="pollInternalLogs",Js="enabled",wa="stopPollingInternalLogs",ws="unload",Zs="onComplete",za="version",af="loggingLevelConsole",ju="createNew",pi="teardown",Gu="messageId",Xs="message",$a="isAsync",bc="diagLog",_n="_doTeardown",Qn="update",Va="getNext",Sc="setNextPlugin",bs="protocol",Dp="userAgent",ba="split",of="nodeType",Ii="replace",Dd="logInternalMessage",sa="type",Ss="handler",Ds="status",Tp="getResponseHeader",il="getAllResponseHeaders",Td="isChildEvt",al="data",$o="getCtx",ua="setCtx",sf="complete",mv="itemsReceived",Dc="urlString",Tc="sendPOST",Ts="headers",ol="timeout",fm="setRequestHeader",Ap="traceId",sl="spanId",Ac="traceFlags",gh;function gv(o,l){gh||(gh=dh("AggregationError",function(w,T){T[Et]>1&&(w.errors=T[1])}));var m=o||"One or more errors occurred.";throw _t(l,function(w,T){m+=`
`.concat(T," > ").concat(vr(w))}),new gh(m,l||[])}var Nc="Promise",yv="rejected";function ul(o,l){return Np(o,function(m){return l?l({status:"fulfilled",rejected:!1,value:m}):m},function(m){return l?l({status:yv,rejected:!0,reason:m}):m})}function Np(o,l,m,w){var T=o;try{if(ln(o))(l||m)&&(T=o.then(l,m));else try{l&&(T=l(o))}catch(P){if(m)T=m(P);else throw P}}finally{w&&ho(T,w)}return T}function ho(o,l){var m=o;return l&&(ln(o)?o.finally?m=o.finally(l):m=o.then(function(w){return l(),w},function(w){throw l(),w}):l()),m}var yh=["pending","resolving","resolved",yv],lm="dispatchEvent",Ad;function _h(o){var l;return o&&o.createEvent&&(l=o.createEvent("Event")),!!l&&l.initEvent}function Cp(o,l,m,w){var T=ra();!Ad&&(Ad=Ni(!!qe(_h,[T]).v));var P=Ad.v?T.createEvent("Event"):w?new Event(l):{};if(m&&m(P),Ad.v&&P.initEvent(l,!1,!0),P&&o[lm])o[lm](P);else{var O=o["on"+l];if(O)O(P);else{var R=dn("console");R&&(R.error||R.log)(l,vr(P))}}}var uf="unhandledRejection",Nd=uf.toLowerCase(),Cc=10,Qs;function cf(o){return qt(o)?o.toString():vr(o)}function _v(o,l,m){var w=zs(arguments,3),T=0,P=!1,O,R=[],U=!1,G=null,K;function J(st,sr){try{U=!0,G&&G.cancel(),G=null;var hr=o(function(qn,wn){R.push(function(){try{var Yn=T===2?st:sr,Xa=ut(Yn)?O:qt(Yn)?Yn(O):Yn;ln(Xa)?Xa.then(qn,wn):Yn?qn(Xa):T===3?wn(Xa):qn(Xa)}catch(xa){wn(xa)}}),P&&we()},w);return hr}finally{}}function Q(st){return J(void 0,st)}function ae(st){var sr=st,hr=st;return qt(st)&&(sr=function(qn){return st&&st(),qn},hr=function(qn){throw st&&st(),qn}),J(sr,hr)}function ne(){return yh[T]}function we(){if(R.length>0){var st=R.slice();R=[],U=!0,G&&G.cancel(),G=null,l(st)}}function Se(st,sr){return function(hr){if(T===sr){if(st===2&&ln(hr)){T=1,hr.then(Se(2,1),Se(3,1));return}T=st,P=!0,O=hr,we(),!U&&st===3&&!G&&(G=dc($e,Cc))}}}function $e(){if(!U)if(U=!0,dd())process.emit(uf,O,K);else{var st=va()||ld();!Qs&&(Qs=Ni(qe(dn,[Nc+"RejectionEvent"]).v)),Cp(st,Nd,function(sr){return fi(sr,"promise",{g:function(){return K}}),sr.reason=O,sr},!!Qs.v)}}K={then:J,catch:Q,finally:ae},Zr(K,"state",{get:ne}),Kc()&&(K[ga(11)]="IPromise");function Qe(){return"IPromise "+ne()+(P?" - "+cf(O):"")}return K.toString=Qe,function(){qt(m)||Di(Nc+": executor is not a function - "+cf(m));var sr=Se(3,0);try{m.call(K,Se(2,0),sr)}catch(hr){sr(hr)}}(),K}function Ip(o){return function(l){var m=zs(arguments,1);return o(function(w,T){try{var P=[],O=1;dp(l,function(R,U){R&&(O++,Np(R,function(G){P[U]=G,--O===0&&w(P)},T))}),O--,O===0&&w(P)}catch(R){T(R)}},m)}}function ff(o){return Ni(function(l){var m=zs(arguments,1);return o(function(w,T){var P=[],O=1;function R(U,G){O++,ul(U,function(K){K.rejected?P[G]={status:yv,reason:K.reason}:P[G]={status:"fulfilled",value:K.value},--O===0&&w(P)})}try{Ve(l)?_t(l,R):Ma(l)?dp(l,R):Di("Input is not an iterable"),O--,O===0&&w(P)}catch(U){T(U)}},m)})}function xp(o){_t(o,function(l){try{l()}catch{}})}function eu(o){var l=Dr(o)?o:0;return function(m){dc(function(){xp(m)},l)}}function Vr(o,l){return _v(Vr,eu(l),o,l)}var Ic;function hi(o,l){!Ic&&(Ic=Ni(qe(dn,[Nc]).v||null));var m=Ic.v;if(!m)return Vr(o);qt(o)||Di(Nc+": executor is not a function - "+vr(o));var w=0;function T(){return yh[w]}var P=new m(function(O,R){function U(K){w=2,O(K)}function G(K){w=3,R(K)}o(U,G)});return Zr(P,"state",{get:T}),P}var Pp;function Cd(o){return _v(Cd,xp,o)}function lf(o,l){return!Pp&&(Pp=ff(Cd)),Pp.v(o,l)}var xc;function ca(o,l){return!xc&&(xc=Ni(hi)),xc.v.call(this,o,l)}var Id=Ip(ca),ei=void 0,wr="",tu="channels",An="core",As="createPerfMgr",Pc="disabled",Rc="extensionConfig",ru="extensions",vo="processTelemetry",cl="priority",Eh="eventsSent",fl="eventsDiscarded",wh="eventsSendRequest",ll="perfEvent",df="offlineEventsStored",Rp="offlineBatchSent",Kn="offlineBatchDrop",pf="getPerfMgr",vi="domain",qu="path",kp="Not dynamic - ",xd=/-([a-z])/g,mi=/([^\w\d_$])/g,Pd=/^(\d+[\w\d_$])/;function Op(o){return!lt(o)}function nu(o){var l=o;return l&&It(l)&&(l=l[Ii](xd,function(m,w){return w.toUpperCase()}),l=l[Ii](mi,"_"),l=l[Ii](Pd,function(m,w){return"_"+w})),l}function xt(o,l){return o&&l?oo(o,l)!==-1:!1}function Ns(o){return o&&o.toISOString()||""}function Cs(o){return Yt(o)?o[Yo]:wr}function Sa(o,l,m,w,T){var P=m;return o&&(P=o[l],P!==m&&(!T||T(P))&&(!w||w(m))&&(P=m,o[l]=P)),P}function dl(o,l,m){var w;return o?(w=o[l],!w&&lt(w)&&(w=ut(m)?{}:m,o[l]=w)):w=ut(m)?{}:m,w}function hf(o,l){var m=null,w=null;return qt(o)?m=o:w=o,function(){var T=arguments;if(m&&(w=m()),w)return w[l][Bo](w,T)}}function Is(o,l,m){if(o&&l&&fn(o)&&fn(l)){var w=function(P){if(It(P)){var O=l[P];qt(O)?(!m||m(P,!0,l,o))&&(o[P]=hf(l,P)):(!m||m(P,!1,l,o))&&(Co(o,P)&&delete o[P],fi(o,P,{g:function(){return l[P]},s:function(R){l[P]=R}}))}};for(var T in l)w(T)}return o}function Wa(o,l,m,w,T){o&&l&&m&&(T!==!1||ut(o[l]))&&(o[l]=hf(m,w))}function vf(o,l,m,w){return o&&l&&fn(o)&&Ve(m)&&_t(m,function(T){It(T)&&Wa(o,T,l,T,w)}),o}function Rd(o){return o&&us&&(o=a(us({},o))),o}function iu(o){try{return o.responseText}catch{}return null}function pl(o,l){return o?"XDomainRequest,Response:"+iu(o)||"":l}function mf(o,l){return o?"XMLHttpRequest,Status:"+o[Ds]+",Response:"+iu(o)||o.response||"":l}function hl(o,l){return l&&(Dr(l)?o=[l].concat(o):Ve(l)&&(o=l.concat(o))),o}var Mp="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Lp="withCredentials",bh="timeout";function dm(o,l,m,w,T,P){w===void 0&&(w=!1),T===void 0&&(T=!1);function O(U,G,K){try{U[G]=K}catch{}}var R=new XMLHttpRequest;return w&&O(R,Mp,w),m&&O(R,Lp,m),R.open(o,l,!T),m&&O(R,Lp,m),!T&&P&&O(R,bh,P),R}function xs(o){var l={};if(It(o)){var m=ji(o)[ba](/[\r\n]+/);_t(m,function(w){if(w){var T=w.indexOf(": ");if(T!==-1){var P=ji(w.substring(0,T))[oa](),O=ji(w.substring(T+1));l[P]=O}else l[ji(w)]=1}})}return l}function au(o,l,m){if(!o[m]&&l&&l[Tp]){var w=l[Tp](m);w&&(o[m]=ji(w))}return o}var Ps="kill-duration",Ha="kill-duration-seconds",ou="time-delta-millis";function Yu(o,l){var m={};return o[il]?m=xs(o[il]()):l&&(m=au(m,o,ou),m=au(m,o,Ps),m=au(m,o,Ha)),m}var Da="documentMode",gf="location",Ev="console",kc="JSON",Sh="crypto",vl="msCrypto",yf="ReactNative",ml="msie",su="trident/",Ka="XMLHttpRequest",_f=null,gl=null,kd=!1,gi=null,uu=null;function yi(o,l){var m=!1;if(o){try{if(m=l in o,!m){var w=o[i];w&&(m=l in w)}}catch{}if(!m)try{var T=new o;m=!ut(T[l])}catch{}}return m}function Od(o){kd=o}function zu(o){if(o&&kd){var l=dn("__mockLocation");if(l)return l}return typeof location===r&&location?location:dn(gf)}function Md(){return typeof console!==n?console:dn(Ev)}function Yi(){return!!(typeof JSON===r&&JSON||dn(kc)!==null)}function _i(){return Yi()?JSON||dn(kc):null}function Dh(){return dn(Sh)}function yl(){return dn(vl)}function _l(){var o=ma();return o&&o.product?o.product===yf:!1}function $u(){var o=ma();if(o&&(o[Dp]!==gl||_f===null)){gl=o[Dp];var l=(gl||wr)[oa]();_f=xt(l,ml)||xt(l,su)}return _f}function wv(o){if(o===void 0&&(o=null),!o){var l=ma()||{};o=l?(l.userAgent||wr)[oa]():wr}var m=(o||wr)[oa]();if(xt(m,ml)){var w=ra()||{};return Math.max(parseInt(m[ba](ml)[1]),w[Da]||0)}else if(xt(m,su)){var T=parseInt(m[ba](su)[1]);if(T)return T+4}return null}function bv(o){return(uu===null||o===!1)&&(uu=lh()&&!!ma().sendBeacon),uu}function El(o){var l=!1;try{l=!!dn("fetch");var m=dn("Request");l&&o&&m&&(l=yi(m,"keepalive"))}catch{}return l}function Th(){return gi===null&&(gi=typeof XDomainRequest!==n,gi&&wl()&&(gi=gi&&!yi(dn(Ka),"withCredentials"))),gi}function wl(){var o=!1;try{var l=dn(Ka);o=!!l}catch{}return o}function Ah(o,l){if(o)for(var m=0;m<o[Et];m++){var w=o[m];if(w[Yo]&&w[Yo]===l)return w}return{}}function Sv(o){var l=ra();return l&&o?Ah(l.querySelectorAll("meta"),o).content:null}function bl(o){var l,m=Ba();if(m){var w=m.getEntriesByType("navigation")||[];l=Ah((w[Et]>0?w[0]:{}).serverTiming,o).description}return l}var Dv=4294967296,Vu=4294967295,Ef=123456789,Fp=987654321,Rs=!1,Ld=Ef,Sl=Fp;function Vo(o){o<0&&(o>>>=0),Ld=Ef+o&Vu,Sl=Fp-o&Vu,Rs=!0}function wf(){try{var o=Ru()&2147483647;Vo((Math.random()*Dv^o)+o)}catch{}}function Tv(o){return o>0?Math.floor(bf()/Vu*(o+1))>>>0:0}function bf(o){var l=0,m=Dh()||yl();return m&&m.getRandomValues&&(l=m.getRandomValues(new Uint32Array(1))[0]&Vu),l===0&&$u()&&(Rs||wf(),l=pm()&Vu),l===0&&(l=Math.floor(Dv*Math.random()|0)),o||(l>>>=0),l}function pm(o){Sl=36969*(Sl&65535)+(Sl>>16)&Vu,Ld=18e3*(Ld&65535)+(Ld>>16)&Vu;var l=(Sl<<16)+(Ld&65535)>>>0&Vu|0;return o||(l>>>=0),l}function Dl(o){o===void 0&&(o=22);for(var l="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",m=bf()>>>0,w=0,T=wr;T[Et]<o;)w++,T+=l.charAt(m&63),m>>>=6,w===5&&(m=(bf()<<2&4294967295|m&3)>>>0,w=0);return T}var Av="3.3.4",Nh="."+Dl(6),Wu=0;function Hu(o){return o[of]===1||o[of]===9||!+o[of]}function Sf(o,l){var m=l[o.id];if(!m){m={};try{Hu(l)&&fi(l,o.id,{e:!1,v:m})}catch{}}return m}function ks(o,l){return l===void 0&&(l=!1),nu(o+Wu+++(l?"."+Av:wr)+Nh)}function cu(o){var l={id:ks("_aiData-"+(o||wr)+"."+Av),accept:function(m){return Hu(m)},get:function(m,w,T,P){var O=m[l.id];return O?O[nu(w)]:(P&&(O=Sf(l,m),O[nu(w)]=T),T)},kill:function(m,w){if(m&&m[w])try{delete m[w]}catch{}}};return l}function Tl(o){return o&&fn(o)&&(o.isVal||o.fb||Co(o,"v")||Co(o,"mrg")||Co(o,"ref")||o.set)}function Fd(o,l,m){var w,T=m.dfVal||Zt;if(l&&m.fb){var P=m.fb;Ve(P)||(P=[P]);for(var O=0;O<P[Et];O++){var R=P[O],U=l[R];if(T(U)?w=U:o&&(U=o.cfg[R],T(U)&&(w=U),o.set(o.cfg,on(R),U)),T(w))break}}return!T(w)&&T(m.v)&&(w=m.v),w}function Ud(o,l,m){var w=m;if(m&&Tl(m)&&(w=Fd(o,l,m)),w){Tl(w)&&(w=Ud(o,l,w));var T;Ve(w)?(T=[],T[Et]=w[Et]):_a(w)&&(T={}),T&&(Lr(w,function(P,O){O&&Tl(O)&&(O=Ud(o,l,O)),T[P]=O}),w=T)}return w}function Al(o,l,m,w){var T,P,O,R=w,U,G,K,J;Tl(R)?(T=R.isVal,P=R.set,K=R[yc],J=R[qr],U=R.mrg,G=R.ref,!G&&ut(G)&&(G=!!U),O=Fd(o,l,R)):O=w,J&&o[qr](l,m);var Q,ae=!0,ne=l[m];(ne||!lt(ne))&&(Q=ne,ae=!1,T&&Q!==O&&!T(Q)&&(Q=O,ae=!0),P&&(Q=P(Q,O,l),ae=Q===O)),ae?O?Q=Ud(o,l,O):Q=O:(_a(Q)||Ve(O))&&U&&O&&(_a(O)||Ve(O))&&Lr(O,function(we,Se){Al(o,Q,we,Se)}),o.set(l,m,Q),G&&o.ref(l,m),K&&o[yc](l,m)}var Ta=Wf("[[ai_dynCfg_1]]"),Nl=Wf("[[ai_blkDynCfg_1]]"),Nv=Wf("[[ai_frcDynCfg_1]]");function hm(o){if(o){var l;if(Ve(o)?(l=[],l[Et]=o[Et]):_a(o)&&(l={}),l)return Lr(o,function(m,w){l[m]=hm(w)}),l}return o}function Df(o){if(o){var l=o[Ta]||o;if(l.cfg&&(l.cfg===o||l.cfg[Ta]===l))return l}return null}function vm(o){if(o&&(_a(o)||Ve(o)))try{o[Nl]=!0}catch{}return o}function Wo(o){if(o)try{o[Nv]=!0}catch{}return o}function Ku(o,l,m){var w=!1;return m&&!o[l.blkVal]&&(w=m[Nv],!w&&!m[Nl]&&(w=_a(m)||Ve(m))),w}function Tf(o){Di("InvalidAccess:"+o)}var Cv=["push","pop","shift","unshift","splice"],Up=function(o,l,m,w){o&&o[lo](3,108,"".concat(m," [").concat(l,"] failed - ")+vr(w))};function Iv(o,l,m){Ve(l)&&_t(Cv,function(w){var T=l[w];l[w]=function(){for(var P=[],O=0;O<arguments.length;O++)P[O]=arguments[O];var R=T[Bo](this,P);return jd(o,l,m,"Patching"),R}})}function Ch(o,l){var m=an(o,l);return m&&m.get}function Bd(o,l,m,w){var T={n:m,h:[],trk:function(G){G&&G.fn&&(di(T.h,G)===-1&&T.h[Yr](G),o.trk(G,T))},clr:function(G){var K=di(T.h,G);K!==-1&&T.h[jo](K,1)}},P=!0,O=!1;function R(){P&&(O=O||Ku(R,o,w),w&&!w[Ta]&&O&&(w=jd(o,w,m,"Converting")),P=!1);var G=o.act;return G&&T.trk(G),w}R[o.prop]={chng:function(){o.add(T)}};function U(G){if(w!==G){R[o.ro]&&!o.upd&&Tf("["+m+"] is read-only:"+vr(l)),P&&(O=O||Ku(R,o,w),P=!1);var K=O&&R[o.rf];if(O)if(K){Lr(w,function(Q){w[Q]=G?G[Q]:ei});try{Lr(G,function(Q,ae){Af(o,w,Q,ae)}),G=w}catch(Q){Up((o.hdlr||{})[$r],m,"Assigning",Q),O=!1}}else w&&w[Ta]&&Lr(w,function(Q){var ae=Ch(w,Q);if(ae){var ne=ae[o.prop];ne&&ne.chng()}});if(G!==w){var J=G&&Ku(R,o,G);!K&&J&&(G=jd(o,G,m,"Converting")),w=G,O=J}o.add(T)}}fi(l,T.n,{g:R,s:U})}function Af(o,l,m,w){if(l){var T=Ch(l,m),P=T&&!!T[o.prop];P?l[m]=w:Bd(o,l,m,w)}return l}function mo(o,l,m,w){if(l){var T=Ch(l,m),P=T&&!!T[o.prop],O=w&&w[0],R=w&&w[1],U=w&&w[2];if(!P){if(U)try{vm(l)}catch(G){Up((o.hdlr||{})[$r],m,"Blocking",G)}try{Af(o,l,m,l[m]),T=Ch(l,m)}catch(G){Up((o.hdlr||{})[$r],m,"State",G)}}O&&(T[o.rf]=O),R&&(T[o.ro]=R),U&&(T[o.blkVal]=!0)}return l}function jd(o,l,m,w){try{Lr(l,function(T,P){Af(o,l,T,P)}),l[Ta]||(Zr(l,Ta,{get:function(){return o[wd]}}),Iv(o,l,m))}catch(T){Up((o.hdlr||{})[$r],m,w,T)}return l}var Nf="[[ai_",zi="]]";function go(o){var l,m=cc(Nf+"get"+o.uid+zi),w=cc(Nf+"ro"+o.uid+zi),T=cc(Nf+"rf"+o.uid+zi),P=cc(Nf+"blkVal"+o.uid+zi),O=cc(Nf+"dtl"+o.uid+zi),R=null,U=null,G;function K(ne,we){var Se=G.act;try{G.act=ne,ne&&ne[O]&&(_t(ne[O],function(Qe){Qe.clr(ne)}),ne[O]=[]),we({cfg:o.cfg,set:o.set.bind(o),setDf:o[Bu].bind(o),ref:o.ref.bind(o),rdOnly:o[yc].bind(o)})}catch(Qe){var $e=o[$r];throw $e&&$e[lo](1,107,vr(Qe)),Qe}finally{G.act=Se||null}}function J(){if(R){var ne=R;R=null,U&&U[Go](),U=null;var we=[];if(_t(ne,function(Se){if(Se&&(Se[O]&&(_t(Se[O],function($e){$e.clr(Se)}),Se[O]=null),Se.fn))try{K(Se,Se.fn)}catch($e){we[Yr]($e)}}),R)try{J()}catch(Se){we[Yr](Se)}we[Et]>0&&gv("Watcher error(s): ",we)}}function Q(ne){if(ne&&ne.h[Et]>0){R||(R=[]),U||(U=dc(function(){U=null,J()},0));for(var we=0;we<ne.h[Et];we++){var Se=ne.h[we];Se&&di(R,Se)===-1&&R[Yr](Se)}}}function ae(ne,we){if(ne){var Se=ne[O]=ne[O]||[];di(Se,we)===-1&&Se[Yr](we)}}return G=(l={prop:m,ro:w,rf:T},l[qr]=P,l[wd]=o,l.add=Q,l[Uo]=J,l.use=K,l.trk=ae,l),G}function Cl(o,l){var m={fn:l,rm:function(){m.fn=null,o=null,l=null}};return fi(m,"toJSON",{v:function(){return"WatcherHandler"+(m.fn?"":"[X]")}}),o.use(m,l),m}function xv(o,l,m){var w,T=Df(l);if(T)return T;var P=ks("dyncfg",!0),O=l&&m!==!1?l:hm(l),R;function U(){R[Uo]()}function G($e,Qe,st){try{$e=Af(R,$e,Qe,st)}catch(sr){Up(o,Qe,"Setting value",sr)}return $e[Qe]}function K($e){return Cl(R,$e)}function J($e,Qe){R.use(null,function(st){var sr=R.upd;try{ut(Qe)||(R.upd=Qe),$e(st)}finally{R.upd=sr}})}function Q($e,Qe){var st;return mo(R,$e,Qe,(st={},st[0]=!0,st))[Qe]}function ae($e,Qe){var st;return mo(R,$e,Qe,(st={},st[1]=!0,st))[Qe]}function ne($e,Qe){var st;return mo(R,$e,Qe,(st={},st[2]=!0,st))[Qe]}function we($e,Qe){return Qe&&Lr(Qe,function(st,sr){Al(Se,$e,st,sr)}),$e}var Se=(w={uid:null,cfg:O},w[$r]=o,w[Uo]=U,w.set=G,w[Bu]=we,w[Ya]=K,w.ref=Q,w[yc]=ae,w[qr]=ne,w._block=J,w);return fi(Se,"uid",{c:!1,e:!1,w:!1,v:P}),R=go(Se),jd(R,O,"config","Creating"),Se}function Pv(o,l){o?(o[Hs](l),o[lo](2,108,l)):Tf(l)}function Ei(o,l,m,w){var T=xv(m,o||{},w);return l&&T[Bu](T.cfg,l),T}function Cf(o,l,m){var w=o[Ta]||o;return w.cfg&&(w.cfg===o||w.cfg[Ta]===w)?w[Ya](l):(Pv(m,kp+vr(o)),Ei(o,null,m)[Ya](l))}function Il(o,l){if(o&&o[ws])return o[ws](l)}function mm(o,l,m){var w;return m||(w=ca(function(T){m=T})),o&&$s(o)>0?ul(Il(o[0],l),function(){mm(zs(o,1),l,m)}):m(),w}var Rv=500,xl="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";function $i(o){return{mrg:!0,v:o}}var Bp=[Eh,fl,wh,ll],Oc=null,If;function fu(o,l){return function(){var m=arguments,w=jp(l);if(w){var T=w.listener;T&&T[o]&&T[o][Bo](T,m)}}}function Pl(){var o=dn("Microsoft");return o&&(Oc=o.ApplicationInsights),Oc}function jp(o){var l=Oc;return!l&&o.disableDbgExt!==!0&&(l=Oc||Pl()),l?l.ChromeDbgExt:null}function Ct(o){if(!If){If={};for(var l=0;l<Bp[Et];l++)If[Bp[l]]=fu(Bp[l],o)}return If}var Ju,Ho="warnToConsole",Rl="AI (Internal): ",gm="AI: ",kl="AITR_",Gd={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},Ko=(Ju={},Ju[0]=null,Ju[1]="errorToConsole",Ju[2]=Ho,Ju[3]="debugToConsole",Ju);function kv(o){return o?'"'+o[Ii](/\"/g,wr)+'"':wr}function Gp(o,l){var m=Md();if(m){var w="log";m[o]&&(w=o),qt(m[w])&&m[w](l)}}var qp=function(){function o(l,m,w,T){w===void 0&&(w=!1);var P=this;P[Gu]=l,P[Xs]=(w?gm:Rl)+l;var O=wr;Yi()&&(O=_i().stringify(T));var R=(m?" message:"+kv(m):wr)+(T?" props:"+kv(O):wr);P[Xs]+=R}return o.dataType="MessageData",o}();function Ol(o,l){return(o||{})[$r]||new Mc(l)}var Mc=function(){function o(l){this.identifier="DiagnosticLogger",this.queue=[];var m=0,w={},T,P,O,R,U;Ga(o,this,function(G){U=J(l||{}),G.consoleLoggingLevel=function(){return T},G[lo]=function(ne,we,Se,$e,Qe){Qe===void 0&&(Qe=!1);var st=new qp(we,Se,Qe,$e);if(R)throw vr(st);var sr=Ko[ne]||Ho;if(ut(st[Xs]))ae("throw"+(ne===1?"Critical":"Warning"),st);else{if(Qe){var hr=+st[Gu];!w[hr]&&T>=ne&&(G[sr](st[Xs]),w[hr]=!0)}else T>=ne&&G[sr](st[Xs]);K(ne,st)}},G.debugToConsole=function(ne){Gp("debug",ne),ae("warning",ne)},G[Hs]=function(ne){Gp("warn",ne),ae("warning",ne)},G.errorToConsole=function(ne){Gp("error",ne),ae("error",ne)},G.resetInternalMessageCount=function(){m=0,w={}},G[Dd]=K,G[ws]=function(ne){U&&U.rm(),U=null};function K(ne,we){if(!Q()){var Se=!0,$e=kl+we[Gu];if(w[$e]?Se=!1:w[$e]=!0,Se&&(ne<=P&&(G.queue[Yr](we),m++,ae(ne===1?"error":"warn",we)),m===O)){var Qe="Internal events throttle limit per PageView reached for this app.",st=new qp(23,Qe,!1);G.queue[Yr](st),ne===1?G.errorToConsole(Qe):G[Hs](Qe)}}}function J(ne){return Cf(Ei(ne,Gd,G).cfg,function(we){var Se=we.cfg;T=Se[af],P=Se.loggingLevelTelemetry,O=Se.maxMessageLimit,R=Se.enableDebug})}function Q(){return m>=O}function ae(ne,we){var Se=jp(l||{});Se&&Se[bc]&&Se[bc](ne,we)}})}return o.__ieDyn=1,o}();function Ih(o){return o||new Mc}function Kr(o,l,m,w,T,P){P===void 0&&(P=!1),Ih(o)[lo](l,m,w,T,P)}function lu(o,l){Ih(o)[Hs](l)}function xh(o,l,m){Ih(o)[Dd](l,m)}var Zu,yo,Gn="toGMTString",qd="toUTCString",Lc="cookie",xf="expires",Os="isCookieUseDisabled",_o="disableCookiesUsage",Jo="_ckMgr",Yd=null,Yp=null,Ph=null,Ms,Rh={},zd={},kh=(Zu={cookieCfg:$i((yo={},yo[vi]={fb:"cookieDomain",dfVal:Op},yo.path={fb:"cookiePath",dfVal:Op},yo.enabled=ei,yo.ignoreCookies=ei,yo.blockedCookies=ei,yo)),cookieDomain:ei,cookiePath:ei},Zu[_o]=ei,Zu);function Ls(){!Ms&&(Ms=fd(function(){return ra()}))}function ym(o,l){var m=C[Jo]||zd[Jo];return m||(m=C[Jo]=C(o,l),zd[Jo]=m),m}function Xu(o){return o?o.isEnabled():!0}function Oh(o,l){return l&&o&&Ve(o.ignoreCookies)?di(o.ignoreCookies,l)!==-1:!1}function p(o,l){return l&&o&&Ve(o.blockedCookies)&&di(o.blockedCookies,l)!==-1?!0:Oh(o,l)}function _(o,l){var m=l[Js];if(lt(m)){var w=void 0;ut(o[Os])||(w=!o[Os]),ut(o[_o])||(w=!o[_o]),m=w}return m}function b(o,l){var m;if(o)m=o.getCookieMgr();else if(l){var w=l.cookieCfg;w&&w[Jo]?m=w[Jo]:m=C(l)}return m||(m=ym(l,(o||{})[$r])),m}function C(o,l){var m,w,T,P,O,R,U,G,K;o=Ei(o||zd,null,l).cfg,O=Cf(o,function(Q){Q[Bu](Q.cfg,kh),w=Q.ref(Q.cfg,"cookieCfg"),T=w[qu]||"/",P=w[vi],R=_(o,w)!==!1,U=w.getCookie||oe,G=w.setCookie||be,K=w.delCookie||be},l);var J=(m={isEnabled:function(){var Q=_(o,w)!==!1&&R&&j(l),ae=zd[Jo];return Q&&ae&&J!==ae&&(Q=Xu(ae)),Q},setEnabled:function(Q){R=Q!==!1,w[Js]=Q},set:function(Q,ae,ne,we,Se){var $e=!1;if(Xu(J)&&!p(w,Q)){var Qe={},st=ji(ae||wr),sr=oo(st,";");if(sr!==-1&&(st=ji(Un(ae,sr)),Qe=Z(mn(ae,sr+1))),Sa(Qe,vi,we||P,Oa,ut),!lt(ne)){var hr=$u();if(ut(Qe[xf])){var qn=Ru(),wn=qn+ne*1e3;if(wn>0){var Yn=new Date;Yn.setTime(wn),Sa(Qe,xf,re(Yn,hr?Gn:qd)||re(Yn,hr?Gn:qd)||wr,Oa)}}hr||Sa(Qe,"max-age",wr+ne,null,ut)}var Xa=zu();Xa&&Xa[bs]==="https:"&&(Sa(Qe,"secure",null,null,ut),Yp===null&&(Yp=!ct((ma()||{})[Dp])),Yp&&Sa(Qe,"SameSite","None",null,ut)),Sa(Qe,qu,Se||T,null,ut),G(Q,se(st,Qe)),$e=!0}return $e},get:function(Q){var ae=wr;return Xu(J)&&!Oh(w,Q)&&(ae=U(Q)),ae},del:function(Q,ae){var ne=!1;return Xu(J)&&(ne=J.purge(Q,ae)),ne},purge:function(Q,ae){var ne,we=!1;if(j(l)){var Se=(ne={},ne[qu]=ae||"/",ne[xf]="Thu, 01 Jan 1970 00:00:01 GMT",ne);$u()||(Se["max-age"]="0"),K(Q,se(wr,Se)),we=!0}return we}},m[ws]=function(Q){O&&O.rm(),O=null},m);return J[Jo]=J,J}function j(o){if(Yd===null){Yd=!1,!Ms&&Ls();try{var l=Ms.v||{};Yd=l[Lc]!==void 0}catch(m){Kr(o,2,68,"Cannot access document.cookie - "+Cs(m),{exception:vr(m)})}}return Yd}function Z(o){var l={};if(o&&o[Et]){var m=ji(o)[ba](";");_t(m,function(w){if(w=ji(w||wr),w){var T=oo(w,"=");T===-1?l[w]=null:l[ji(Un(w,T))]=ji(mn(w,T+1))}})}return l}function re(o,l){return qt(o[l])?o[l]():null}function se(o,l){var m=o||wr;return Lr(l,function(w,T){m+="; "+w+(lt(T)?wr:"="+T)}),m}function oe(o){var l=wr;if(!Ms&&Ls(),Ms.v){var m=Ms.v[Lc]||wr;Ph!==m&&(Rh=Z(m),Ph=m),l=ji(Rh[o]||wr)}return l}function be(o,l){!Ms&&Ls(),Ms.v&&(Ms.v[Lc]=o+"="+l)}function ct(o){return It(o)?!!(xt(o,"CPU iPhone OS 12")||xt(o,"iPad; CPU OS 12")||xt(o,"Macintosh; Intel Mac OS X 10_14")&&xt(o,"Version/")&&xt(o,"Safari")||xt(o,"Macintosh; Intel Mac OS X 10_14")&&vd(o,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||xt(o,"Chrome/5")||xt(o,"Chrome/6")||xt(o,"UnrealEngine")&&!xt(o,"Chrome")||xt(o,"UCBrowser/12")||xt(o,"UCBrowser/11")):!1}var Pt={perfEvtsSendAll:!1};function tr(o){o.h=null;var l=o.cb;o.cb=[],_t(l,function(m){qe(m.fn,[m.arg])})}function dt(o,l,m,w){_t(o,function(T){T&&T[l]&&(m?(m.cb[Yr]({fn:w,arg:T}),m.h=m.h||dc(tr,0,m)):qe(w,[T]))})}var gt=function(){function o(l){this.listeners=[];var m,w,T=[],P={h:null,cb:[]},O=Ei(l,Pt);w=O[Ya](function(R){m=!!R.cfg.perfEvtsSendAll}),Ga(o,this,function(R){fi(R,"listeners",{g:function(){return T}}),R[Ci]=function(U){T[Yr](U)},R[Es]=function(U){for(var G=di(T,U);G>-1;)T[jo](G,1),G=di(T,U)},R[Eh]=function(U){dt(T,Eh,P,function(G){G[Eh](U)})},R[fl]=function(U,G){dt(T,fl,P,function(K){K[fl](U,G)})},R[wh]=function(U,G){dt(T,wh,G?P:null,function(K){K[wh](U,G)})},R[ll]=function(U){U&&(m||!U[Td]())&&dt(T,ll,null,function(G){U[$a]?dc(function(){return G[ll](U)},0):G[ll](U)})},R[df]=function(U){U&&U[Et]&&dt(T,df,P,function(G){G[df](U)})},R[Rp]=function(U){U&&U[al]&&dt(T,Rp,P,function(G){G[Rp](U)})},R[Kn]=function(U,G){if(U>0){var K=G||0;dt(T,Kn,P,function(J){J[Kn](U,K)})}},R[ws]=function(U){var G=function(){w&&w.rm(),w=null,T=[],P.h&&P.h[Go](),P.h=null,P.cb=[]},K;if(dt(T,"unload",null,function(J){var Q=J[ws](U);Q&&(K||(K=[]),K[Yr](Q))}),K)return ca(function(J){return ul(Id(K),function(){G(),J()})});G()}})}return o.__ieDyn=1,o}(),dr="ctx",zt="ParentContextKey",Nr="ChildrenContextKey",xr=null,Ut=function(){function o(l,m,w){var T=this;if(T.start=Ru(),T[Yo]=l,T[$a]=w,T[Td]=function(){return!1},qt(m)){var P;fi(T,"payload",{g:function(){return!P&&qt(m)&&(P=m(),m=null),P}})}T[$o]=function(O){return O?O===o[zt]||O===o[Nr]?T[O]:(T[dr]||{})[O]:null},T[ua]=function(O,R){if(O)if(O===o[zt])T[O]||(T[Td]=function(){return!0}),T[O]=R;else if(O===o[Nr])T[O]=R;else{var U=T[dr]=T[dr]||{};U[O]=R}},T[sf]=function(){var O=0,R=T[$o](o[Nr]);if(Ve(R))for(var U=0;U<R[Et];U++){var G=R[U];G&&(O+=G[zo])}T[zo]=Ru()-T.start,T.exTime=T[zo]-O,T[sf]=function(){}}}return o.ParentContextKey="parent",o.ChildrenContextKey="childEvts",o}(),In=function(){function o(l){this.ctx={},Ga(o,this,function(m){m.create=function(w,T,P){return new Ut(w,T,P)},m.fire=function(w){w&&(w[sf](),l&&qt(l[ll])&&l[ll](w))},m[ua]=function(w,T){if(w){var P=m[dr]=m[dr]||{};P[w]=T}},m[$o]=function(w){return(m[dr]||{})[w]}})}return o.__ieDyn=1,o}(),Fc="CoreUtils.doPerf";function du(o,l,m,w,T){if(o){var P=o;if(P[pf]&&(P=P[pf]()),P){var O=void 0,R=P[$o](Fc);try{if(O=P.create(l(),w,T),O){if(R&&O[ua]&&(O[ua](Ut[zt],R),R[$o]&&R[ua])){var U=R[$o](Ut[Nr]);U||(U=[],R[ua](Ut[Nr],U)),U[Yr](O)}return P[ua](Fc,O),m(O)}}catch(G){O&&O[ua]&&O[ua]("exception",G)}finally{O&&P.fire(O),P[ua](Fc,R)}}}return m()}function Pf(){return xr}function Ml(){var o=$d();return mn(o,0,8)+"-"+mn(o,8,12)+"-"+mn(o,12,16)+"-"+mn(o,16,20)+"-"+mn(o,20)}function $d(){for(var o=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],l=wr,m,w=0;w<4;w++)m=bf(),l+=o[m&15]+o[m>>4&15]+o[m>>8&15]+o[m>>12&15]+o[m>>16&15]+o[m>>20&15]+o[m>>24&15]+o[m>>28&15];var T=o[8+(bf()&3)|0];return ko(l,0,8)+ko(l,9,4)+"4"+ko(l,13,3)+T+ko(l,16,3)+ko(l,19,12)}var Ll=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,Fl="00",Vd="ff",Ul="00000000000000000000000000000000",Be="0000000000000000",wt=1;function Kt(o,l,m){return o&&o[Et]===l&&o!==m?!!o.match(/^[\da-f]*$/i):!1}function pn(o,l,m){return Kt(o,l)?o:m}function xi(o){(isNaN(o)||o<0||o>255)&&(o=1);for(var l=o.toString(16);l[Et]<2;)l="0"+l;return l}function Pi(o,l,m,w){var T;return T={},T[za]=Kt(w,2,Vd)?w:Fl,T[Ap]=Aa(o)?o:$d(),T[sl]=Fs(l)?l:Un($d(),16),T.traceFlags=m>=0&&m<=255?m:1,T}function ti(o,l){var m;if(!o||(Ve(o)&&(o=o[0]||""),!o||!It(o)||o[Et]>8192))return null;if(o.indexOf(",")!==-1){var w=o[ba](",");o=w[l>0&&w[Et]>l?l:0]}var T=Ll.exec(ji(o));return!T||T[1]===Vd||T[2]===Ul||T[3]===Be?null:(m={version:(T[1]||wr)[oa](),traceId:(T[2]||wr)[oa](),spanId:(T[3]||wr)[oa]()},m[Ac]=parseInt(T[4],16),m)}function Aa(o){return Kt(o,32,Ul)}function Fs(o){return Kt(o,16,Be)}function Rf(o){return!(!o||!Kt(o[za],2,Vd)||!Kt(o[Ap],32,Ul)||!Kt(o[sl],16,Be)||!Kt(xi(o[Ac]),2))}function Ov(o){return Rf(o)?(o[Ac]&wt)===wt:!1}function Qu(o){if(o){var l=xi(o[Ac]);Kt(l,2)||(l="01");var m=o[za]||Fl;return m!=="00"&&m!=="ff"&&(m=Fl),"".concat(m.toLowerCase(),"-").concat(pn(o.traceId,32,Ul).toLowerCase(),"-").concat(pn(o.spanId,16,Be).toLowerCase(),"-").concat(l.toLowerCase())}return""}function Wd(o){var l="traceparent",m=ti(Sv(l),o);return m||(m=ti(bl(l),o)),m}var _m=cu("plugin");function ri(o){return _m.get(o,"state",{},!0)}function Us(o,l){for(var m=[],w=null,T=o[Va](),P;T;){var O=T[qo]();if(O){w&&w[Sc]&&O[vo]&&w[Sc](O),P=ri(O);var R=!!P[qi];O[qi]&&(R=O[qi]()),R||m[Yr](O),w=O,T=T[Va]()}}_t(m,function(U){var G=o[An]();U[Ln](o.getCfg(),G,l,o[Va]()),P=ri(U),!U[An]&&!P[An]&&(P[An]=G),P[qi]=!0,delete P[pi]})}function Mv(o){return o.sort(function(l,m){var w=0;if(m){var T=m[vo];l[vo]?w=T?l[cl]-m[cl]:1:T&&(w=-1)}else w=l?1:-1;return w})}function Em(o){var l={};return{getName:function(){return l[Yo]},setName:function(m){o&&o.setName(m),l[Yo]=m},getTraceId:function(){return l[Ap]},setTraceId:function(m){o&&o.setTraceId(m),Aa(m)&&(l[Ap]=m)},getSpanId:function(){return l[sl]},setSpanId:function(m){o&&o.setSpanId(m),Fs(m)&&(l[sl]=m)},getTraceFlags:function(){return l[Ac]},setTraceFlags:function(m){o&&o.setTraceFlags(m),l[Ac]=m}}}var Mh="TelemetryPluginChain",wm="_hasRun",bm="_getTelCtx",Bg=0;function Sm(o,l,m){for(;o;){if(o[qo]()===m)return o;o=o[Va]()}return Of([m],l.config||{},l)}function Dm(o,l,m,w){var T=null,P=[];l||(l=Ei({},null,m[$r])),w!==null&&(T=w?Sm(o,m,w):o);var O={_next:U,ctx:{core:function(){return m},diagLog:function(){return Ol(m,l.cfg)},getCfg:function(){return l.cfg},getExtCfg:K,getConfig:J,hasNext:function(){return!!T},getNext:function(){return T},setNext:function(ae){T=ae},iterate:Q,onComplete:R}};function R(ae,ne){for(var we=[],Se=2;Se<arguments.length;Se++)we[Se-2]=arguments[Se];ae&&P[Yr]({func:ae,self:ut(ne)?O.ctx:ne,args:we})}function U(){var ae=T;if(T=ae?ae[Va]():null,!ae){var ne=P;ne&&ne[Et]>0&&(_t(ne,function(we){try{we.func.call(we.self,we.args)}catch(Se){Kr(m[$r],2,73,"Unexpected Exception during onComplete - "+vr(Se))}}),P=[])}return ae}function G(ae,ne){var we=null,Se=l.cfg;if(Se&&ae){var $e=Se[Rc];!$e&&ne&&($e={}),Se[Rc]=$e,$e=l.ref(Se,Rc),$e&&(we=$e[ae],!we&&ne&&(we={}),$e[ae]=we,we=l.ref($e,ae))}return we}function K(ae,ne){var we=G(ae,!0);return ne&&Lr(ne,function(Se,$e){if(lt(we[Se])){var Qe=l.cfg[Se];(Qe||!lt(Qe))&&(we[Se]=Qe)}Al(l,we,Se,$e)}),l[Bu](we,ne)}function J(ae,ne,we){we===void 0&&(we=!1);var Se,$e=G(ae,!1),Qe=l.cfg;return $e&&($e[ne]||!lt($e[ne]))?Se=$e[ne]:(Qe[ne]||!lt(Qe[ne]))&&(Se=Qe[ne]),Se||!lt(Se)?Se:we}function Q(ae){for(var ne;ne=O._next();){var we=ne[qo]();we&&ae(we)}}return O}function kf(o,l,m,w){var T=Ei(l),P=Dm(o,T,m,w),O=P.ctx;function R(G){var K=P._next();return K&&K[vo](G,O),!K}function U(G,K){return G===void 0&&(G=null),Ve(G)&&(G=Of(G,T.cfg,m,K)),kf(G||O[Va](),T.cfg,m,K)}return O[jn]=R,O[ju]=U,O}function Bl(o,l,m){var w=Ei(l.config),T=Dm(o,w,l,m),P=T.ctx;function O(U){var G=T._next();return G&&G[ws](P,U),!G}function R(U,G){return U===void 0&&(U=null),Ve(U)&&(U=Of(U,w.cfg,l,G)),Bl(U||P[Va](),l,G)}return P[jn]=O,P[ju]=R,P}function pu(o,l,m){var w=Ei(l.config),T=Dm(o,w,l,m),P=T.ctx;function O(U){return P.iterate(function(G){qt(G[Qn])&&G[Qn](P,U)})}function R(U,G){return U===void 0&&(U=null),Ve(U)&&(U=Of(U,w.cfg,l,G)),pu(U||P[Va](),l,G)}return P[jn]=O,P[ju]=R,P}function Of(o,l,m,w){var T=null,P=!w;if(Ve(o)&&o[Et]>0){var O=null;_t(o,function(R){if(!P&&w===R&&(P=!0),P&&R&&qt(R[vo])){var U=Tm(R,l,m);T||(T=U),O&&O._setNext(U),O=U}})}return w&&!T?Of([w],l,m):T}function Tm(o,l,m){var w=null,T=qt(o[vo]),P=qt(o[Sc]),O;o?O=o[po]+"-"+o[cl]+"-"+Bg++:O="Unknown-0-"+Bg++;var R={getPlugin:function(){return o},getNext:function(){return w},processTelemetry:K,unload:J,update:Q,_id:O,_setNext:function(ae){w=ae}};function U(){var ae;return o&&qt(o[bm])&&(ae=o[bm]()),ae||(ae=kf(R,l,m)),ae}function G(ae,ne,we,Se,$e){var Qe=!1,st=o?o[po]:Mh,sr=ae[wm];return sr||(sr=ae[wm]={}),ae.setNext(w),o&&du(ae[An](),function(){return st+":"+we},function(){sr[O]=!0;try{var hr=w?w._id:wr;hr&&(sr[hr]=!1),Qe=ne(ae)}catch(wn){var qn=w?sr[w._id]:!0;qn&&(Qe=!0),(!w||!qn)&&Kr(ae[bc](),1,73,"Plugin ["+st+"] failed during "+we+" - "+vr(wn)+", run flags: "+vr(sr))}},Se,$e),Qe}function K(ae,ne){ne=ne||U();function we(Se){if(!o||!T)return!1;var $e=ri(o);return $e[pi]||$e[Pc]?!1:(P&&o[Sc](w),o[vo](ae,Se),!0)}G(ne,we,"processTelemetry",function(){return{item:ae}},!ae.sync)||ne[jn](ae)}function J(ae,ne){function we(){var Se=!1;if(o){var $e=ri(o),Qe=o[An]||$e[An];o&&(!Qe||Qe===ae.core())&&!$e[pi]&&($e[An]=null,$e[pi]=!0,$e[qi]=!1,o[pi]&&o[pi](ae,ne)===!0&&(Se=!0))}return Se}G(ae,we,"unload",function(){},ne[$a])||ae[jn](ne)}function Q(ae,ne){function we(){var Se=!1;if(o){var $e=ri(o),Qe=o[An]||$e[An];o&&(!Qe||Qe===ae.core())&&!$e[pi]&&o[Qn]&&o[Qn](ae,ne)===!0&&(Se=!0)}return Se}G(ae,we,"update",function(){},!1)||ae[jn](ne)}return no(R)}var Lv=function(){function o(l,m,w,T){var P=this,O=kf(l,m,w,T);vf(P,O,Io(O))}return o}();function Lh(){var o=[];function l(w){w&&o[Yr](w)}function m(w,T){_t(o,function(P){try{P(w,T)}catch(O){Kr(w[bc](),2,73,"Unexpected error calling unload handler - "+vr(O))}}),o=[]}return{add:l,run:m}}var Fh,Hd;function eg(o,l){Fh=o,Hd=l}function Am(){var o=[];function l(w){var T=o;o=[],_t(T,function(P){try{(P.rm||P.remove).call(P)}catch(O){Kr(w,2,73,"Unloading:"+vr(O))}}),Fh&&T[Et]>Fh&&(Hd?Hd("doUnload",T):Kr(null,1,48,"Max unload hooks exceeded. An excessive number of unload hooks has been detected."))}function m(w){w&&(La(o,w),Fh&&o[Et]>Fh&&(Hd?Hd("Add",o):Kr(null,1,48,"Max unload hooks exceeded. An excessive number of unload hooks has been detected.")))}return{run:l,add:m}}var zp,Mf="getPlugin",Ly=(zp={},zp[Rc]={isVal:Op,v:{}},zp),tg=function(){function o(){var l=this,m,w,T,P,O;G(),Ga(o,l,function(K){K[Ln]=function(J,Q,ae,ne){U(J,Q,ne),m=!0},K[pi]=function(J,Q){var ae,ne=K[An];if(!ne||J&&ne!==J[An]())return;var we,Se=!1,$e=J||Bl(null,ne,T&&T[Mf]?T[Mf]():T),Qe=Q||(ae={reason:0},ae[$a]=!1,ae);function st(){Se||(Se=!0,P.run($e,Q),O.run($e[bc]()),we===!0&&$e[jn](Qe),G())}return!K[_n]||K[_n]($e,Qe,st)!==!0?st():we=!0,we},K[Qn]=function(J,Q){var ae=K[An];if(!ae||J&&ae!==J[An]())return;var ne,we=!1,Se=J||pu(null,ae,T&&T[Mf]?T[Mf]():T),$e=Q||{reason:0};function Qe(){we||(we=!0,U(Se.getCfg(),Se.core(),Se[Va]()))}return!K._doUpdate||K._doUpdate(Se,$e,Qe)!==!0?Qe():ne=!0,ne},Wa(K,"_addUnloadCb",function(){return P},"add"),Wa(K,"_addHook",function(){return O},"add"),fi(K,"_unloadHooks",{g:function(){return O}})}),l[bc]=function(K){return R(K)[bc]()},l[qi]=function(){return m},l.setInitialized=function(K){m=K},l[Sc]=function(K){T=K},l[jn]=function(K,J){J?J[jn](K):T&&qt(T[vo])&&T[vo](K,null)},l._getTelCtx=R;function R(K){K===void 0&&(K=null);var J=K;if(!J){var Q=w||kf(null,{},l[An]);T&&T[Mf]?J=Q[ju](null,T[Mf]):J=Q[ju](null,T)}return J}function U(K,J,Q){Ei(K,Ly,Ol(J)),!Q&&J&&(Q=J[Sd]()[Va]());var ae=T;T&&T[Mf]&&(ae=T[Mf]()),l[An]=J,w=kf(Q,K,J,ae)}function G(){m=!1,l[An]=null,w=null,T=null,O=Am(),P=Lh()}}return o.__ieDyn=1,o}();function jg(o,l,m){var w={id:l,fn:m};La(o,w);var T={remove:function(){_t(o,function(P,O){if(P.id===w.id)return o[jo](O,1),-1})}};return T}function Nm(o,l,m){for(var w=!1,T=o[Et],P=0;P<T;++P){var O=o[P];if(O)try{if(O.fn[Bo](null,[l])===!1){w=!0;break}}catch(R){Kr(m,2,64,"Telemetry initializer failed: "+Cs(R),{exception:vr(R)},!0)}}return!w}var Fy=function(o){pc(l,o);function l(){var m=o.call(this)||this;m.identifier="TelemetryInitializerPlugin",m.priority=199;var w,T;P(),Ga(l,m,function(O,R){O.addTelemetryInitializer=function(U){return jg(T,w++,U)},O[vo]=function(U,G){Nm(T,U,G?G[bc]():O[bc]())&&O[jn](U,G)},O[_n]=function(){P()}});function P(){w=0,T=[]}return m}return l.__ieDyn=1,l}(tg),jl,Uh="Plugins must provide initialize method",Fv="_notificationManager",Gl="SDK is still unloading...",Bh="SDK is not initialized",rg=100,Gg=5e4,Kd=Ys((jl={cookieCfg:{}},jl[ru]={rdOnly:!0,ref:!0,v:[]},jl[tu]={rdOnly:!0,ref:!0,v:[]},jl[Rc]={ref:!0,v:{}},jl[As]=ei,jl.loggingLevelConsole=0,jl.diagnosticLogInterval=ei,jl));function qg(o,l){return new In(l)}function Uy(o,l,m){var w,T=[],P=[],O={};return _t(m,function(R){(lt(R)||lt(R[Ln]))&&Si(Uh);var U=R[cl],G=R[po];R&&U&&(lt(O[U])?O[U]=G:lu(o,"Two extensions have same priority #"+U+" - "+O[U]+", "+G)),!U||U<l?T[Yr](R):P[Yr](R)}),w={},w[An]=T,w[tu]=P,w}function ng(o,l){var m=!1;return _t(l,function(w){if(w===o)return m=!0,-1}),m}function Uv(o,l,m,w){m&&Lr(m,function(T,P){w&&_a(P)&&_a(l[T])&&Uv(o,l[T],P,w),w&&_a(P)&&_a(l[T])?Uv(o,l[T],P,w):o.set(l,T,P)})}function ig(o,l){var m=null,w=-1;return _t(o,function(T,P){if(T.w===l)return m=T,w=P,-1}),{i:w,l:m}}function Cm(o,l){var m=ig(o,l).l;return m||(m={w:l,rm:function(){var w=ig(o,l);w.i!==-1&&o[jo](w.i,1)}},o[Yr](m)),m}function jh(o,l,m){_t(l,function(w){var T=Cf(o,w.w,m);delete w.w,w.rm=function(){T.rm()}})}function Jd(o,l,m,w){return l.add(o[Ya](function(T){var P=T.cfg.disableDbgExt;P===!0&&w&&(m[Es](w),w=null),m&&!w&&P!==!0&&(w=Ct(T.cfg),m[Ci](w))})),w}function ag(o){return fi({rm:function(){o.rm()}},"toJSON",{v:function(){return"aicore::onCfgChange<"+JSON.stringify(o)+">"}})}var Bv=function(){function o(){var l,m,w,T,P,O,R,U,G,K,J,Q,ae,ne,we,Se,$e,Qe,st,sr,hr,qn,wn,Yn,Xa,xa,Jl,qv,Zl,ot,$t,Rn;Ga(o,this,function(je){Ur(),je._getDbgPlgTargets=function(){return[wn,T]},je[qi]=function(){return m},je.activeStatus=function(){return xa},je._setPendingStatus=function(){xa=3},je[Ln]=function(Ne,bt,Xt,jt){ae&&Si(Gl),je[qi]()&&Si("Core cannot be initialized more than once"),l=Ei(Ne,Kd,Xt||je[$r],!1),Ne=l.cfg,bo(l[Ya](function(Dn){var ki=Dn.cfg,So=xa===3;if(!So){qv=ki.initInMemoMaxSize||rg;var es=ki[nf],ed=ki.endpointUrl;if(lt(es)){hr=null,xa=yn[_c];var Kh="Please provide instrumentation key";m?(Kr(w,1,100,Kh),oi()):Si(Kh);return}var ug=[];if(ln(es)?(ug[Yr](es),hr=null):hr=es,ln(ed)?(ug[Yr](ed),Jl=null):Jl=ed,ug[Et]){Zl=!1,xa=3;var V_=Op(ki.initTimeOut)?ki.initTimeOut:Gg,wE=lf(ug);dc(function(){Zl||Mt()},V_),ul(wE,function(zn){try{if(Zl)return;if(!zn.rejected){var Hi=zn[bd];if(Hi&&Hi[Et]){var By=Hi[0];if(hr=By&&By[bd],Hi[Et]>1){var Ki=Hi[1];Jl=Ki&&Ki[bd]}}hr&&(Ne[nf]=hr,Ne.endpointUrl=Jl)}Mt()}catch{Zl||Mt()}})}else Mt();var Wg=Dn.ref(Dn.cfg,Rc);Lr(Wg,function(zn){Dn.ref(Wg,zn)})}})),P=jt,st=Jd(l,Qe,P&&je[Ks](),st),Ql(),je[$r]=Xt;var Qt=Ne[ru];if(K=[],K[Yr].apply(K,uo(uo([],bt,!1),Qt)),J=Ne[tu],fa(null),(!Q||Q[Et]===0)&&Si("No "+tu+" available"),J&&J[Et]>1){var Fn=je[qo]("TeeChannelController");(!Fn||!Fn.plugin)&&Kr(w,1,28,"TeeChannel required")}jh(Ne,qn,w),qn=null,m=!0,xa===yn.ACTIVE&&oi()},je.getChannels=function(){var Ne=[];return Q&&_t(Q,function(bt){Ne[Yr](bt)}),no(Ne)},je.track=function(Ne){du(je[pf](),function(){return"AppInsightsCore:track"},function(){Ne===null&&(Ri(Ne),Si("Invalid telemetry item")),!Ne[Yo]&&lt(Ne[Yo])&&(Ri(Ne),Si("telemetry name required")),Ne[Ec]=Ne[Ec]||hr,Ne[zo]=Ne[zo]||Ns(new Date),Ne.ver=Ne.ver||"4.0",!ae&&je[qi]()&&xa===yn.ACTIVE?Pa()[jn](Ne):xa!==yn[_c]&&T[Et]<=qv&&T[Yr](Ne)},function(){return{item:Ne}},!Ne.sync)},je[Sd]=Pa,je[Ks]=function(){return P||(P=new gt(l.cfg),je[Fv]=P),P},je[Ci]=function(Ne){je.getNotifyMgr()[Ci](Ne)},je[Es]=function(Ne){P&&P[Es](Ne)},je.getCookieMgr=function(){return U||(U=C(l.cfg,je[$r])),U},je.setCookieMgr=function(Ne){U!==Ne&&(Il(U,!1),U=Ne)},je[pf]=function(){return O||R||Pf()},je.setPerfMgr=function(Ne){O=Ne},je.eventCnt=function(){return T[Et]},je.releaseQueue=function(){if(m&&T[Et]>0){var Ne=T;T=[],xa===2?_t(Ne,function(bt){bt[Ec]=bt[Ec]||hr,Pa()[jn](bt)}):Kr(w,2,20,"core init status is not active")}},je[wc]=function(Ne){return we=Ne||null,Rn=!1,ot&&ot[Go](),Eo(!0)};function Mt(){Zl=!0,lt(hr)?(xa=yn[_c],Kr(w,1,112,"ikey can't be resolved from promises")):xa=yn.ACTIVE,oi()}function oi(){m&&(je.releaseQueue(),je[wc]())}function Eo(Ne){if((!ot||!ot[Js])&&!Rn){var bt=Ne||w&&w.queue[Et]>0;bt&&($t||($t=!0,bo(l[Ya](function(Xt){var jt=Xt.cfg.diagnosticLogInterval;(!jt||!(jt>0))&&(jt=1e4);var Qt=!1;ot&&(Qt=ot[Js],ot[Go]()),ot=gd(Wh,jt),ot.unref(),ot[Js]=Qt}))),ot[Js]=!0)}return ot}je[wa]=function(){Rn=!0,ot&&ot[Go](),Wh()},vf(je,function(){return ne},["addTelemetryInitializer"]),je[ws]=function(Ne,bt,Xt){var jt;Ne===void 0&&(Ne=!0),m||Si(Bh),ae&&Si(Gl);var Qt=(jt={reason:50},jt[$a]=Ne,jt.flushComplete=!1,jt),Fn;Ne&&!bt&&(Fn=ca(function(So){bt=So}));var Dn=Bl(Xl(),je);Dn[Zs](function(){Qe.run(je[$r]),mm([U,P,w],Ne,function(){Ur(),bt&&bt(Qt)})},je);function ki(So){Qt.flushComplete=So,ae=!0,$e.run(Dn,Qt),je[wa](),Dn[jn](Qt)}return Wh(),ep(Ne,ki,6,Xt),Fn},je[qo]=wo,je.addPlugin=function(Ne,bt,Xt,jt){if(!Ne){jt&&jt(!1),xm(Uh);return}var Qt=wo(Ne[po]);if(Qt&&!bt){jt&&jt(!1),xm("Plugin ["+Ne[po]+"] is already loaded!");return}var Fn={reason:16};function Dn(es){K[Yr](Ne),Fn.added=[Ne],fa(Fn),jt&&jt(!0)}if(Qt){var ki=[Qt.plugin],So={reason:2,isAsync:!!Xt};nc(ki,So,function(es){es?(Fn.removed=ki,Fn.reason|=32,Dn()):jt&&jt(!1)})}else Dn()},je.updateCfg=function(Ne,bt){bt===void 0&&(bt=!0);var Xt;if(je[qi]()){Xt={reason:1,cfg:l.cfg,oldCfg:_p({},l.cfg),newConfig:_p({},Ne),merge:bt},Ne=Xt.newConfig;var jt=l.cfg;Ne[ru]=jt[ru],Ne[tu]=jt[tu]}l._block(function(Qt){var Fn=Qt.cfg;Uv(Qt,Fn,Ne,bt),bt||Lr(Fn,function(Dn){Co(Ne,Dn)||Qt.set(Fn,Dn,ei)}),Qt[Bu](Fn,Kd)},!0),l[Uo](),Xt&&Hh(Xt)},je.evtNamespace=function(){return Se},je.flush=ep,je.getTraceCtx=function(Ne){return sr||(sr=Em()),sr},je.setTraceCtx=function(Ne){sr=Ne||null},je.addUnloadHook=bo,Wa(je,"addUnloadCb",function(){return $e},"add"),je.onCfgChange=function(Ne){var bt;return m?bt=Cf(l.cfg,Ne,je[$r]):bt=Cm(qn,Ne),ag(bt)},je.getWParam=function(){return $f()||l.cfg.enableWParam?0:-1};function Qo(){var Ne={};Yn=[];var bt=function(Xt){Xt&&_t(Xt,function(jt){if(jt[po]&&jt[za]&&!Ne[jt.identifier]){var Qt=jt[po]+"="+jt[za];Yn[Yr](Qt),Ne[jt.identifier]=jt}})};bt(Q),J&&_t(J,function(Xt){bt(Xt)}),bt(K)}function Ur(){m=!1,l=Ei({},Kd,je[$r]),l.cfg[af]=1,fi(je,"config",{g:function(){return l.cfg},s:function(bt){je.updateCfg(bt,!1)}}),fi(je,"pluginVersionStringArr",{g:function(){return Yn||Qo(),Yn}}),fi(je,"pluginVersionString",{g:function(){return Xa||(Yn||Qo(),Xa=Yn.join(";")),Xa||wr}}),fi(je,"logger",{g:function(){return w||(w=new Mc(l.cfg),l[$r]=w),w},s:function(bt){l[$r]=bt,w!==bt&&(Il(w,!1),w=bt)}}),je[$r]=new Mc(l.cfg),wn=[];var Ne=je.config[ru]||[];Ne.splice(0,Ne[Et]),La(Ne,wn),ne=new Fy,T=[],Il(P,!1),P=null,O=null,R=null,Il(U,!1),U=null,G=null,K=[],J=null,Q=null,ae=!1,we=null,Se=ks("AIBaseCore",!0),$e=Lh(),sr=null,hr=null,Qe=Am(),qn=[],Xa=null,Yn=null,Rn=!1,ot=null,$t=!1,xa=0,Jl=null,qv=null,Zl=!1}function Pa(){var Ne=kf(Xl(),l.cfg,je);return Ne[Zs](Eo),Ne}function fa(Ne){var bt=Uy(je[$r],Rv,K);G=null,Xa=null,Yn=null,Q=(J||[])[0]||[],Q=Mv(La(Q,bt[tu]));var Xt=La(Mv(bt[An]),Q);wn=no(Xt);var jt=je.config[ru]||[];jt.splice(0,jt[Et]),La(jt,wn);var Qt=Pa();Q&&Q[Et]>0&&Us(Qt[ju](Q),Xt),Us(Qt,Xt),Ne&&Hh(Ne)}function wo(Ne){var bt=null,Xt=null,jt=[];return _t(wn,function(Qt){if(Qt[po]===Ne&&Qt!==ne)return Xt=Qt,-1;Qt.getChannel&&jt[Yr](Qt)}),!Xt&&jt[Et]>0&&_t(jt,function(Qt){if(Xt=Qt.getChannel(Ne),!Xt)return-1}),Xt&&(bt={plugin:Xt,setEnabled:function(Qt){ri(Xt)[Pc]=!Qt},isEnabled:function(){var Qt=ri(Xt);return!Qt[pi]&&!Qt[Pc]},remove:function(Qt,Fn){var Dn;Qt===void 0&&(Qt=!0);var ki=[Xt],So=(Dn={reason:1},Dn[$a]=Qt,Dn);nc(ki,So,function(es){es&&fa({reason:32,removed:ki}),Fn&&Fn(es)})}}),bt}function Xl(){if(!G){var Ne=(wn||[]).slice();di(Ne,ne)===-1&&Ne[Yr](ne),G=Of(Mv(Ne),l.cfg,je)}return G}function nc(Ne,bt,Xt){if(Ne&&Ne[Et]>0){var jt=Of(Ne,l.cfg,je),Qt=Bl(jt,je);Qt[Zs](function(){var Fn=!1,Dn=[];_t(K,function(So,es){ng(So,Ne)?Fn=!0:Dn[Yr](So)}),K=Dn,Xa=null,Yn=null;var ki=[];J&&(_t(J,function(So,es){var ed=[];_t(So,function(Kh){ng(Kh,Ne)?Fn=!0:ed[Yr](Kh)}),ki[Yr](ed)}),J=ki),Xt&&Xt(Fn),Eo()}),Qt[jn](bt)}else Xt(!1)}function Wh(){if(w&&w.queue){var Ne=w.queue.slice(0);w.queue[Et]=0,_t(Ne,function(bt){var Xt,jt=(Xt={},Xt[Yo]=we||"InternalMessageId: "+bt[Gu],Xt[Ec]=hr,Xt[zo]=Ns(new Date),Xt.baseType=qp.dataType,Xt.baseData={message:bt[Xs]},Xt);je.track(jt)})}}function ep(Ne,bt,Xt,jt){var Qt=1,Fn=!1,Dn=null;jt=jt||5e3;function ki(){Qt--,Fn&&Qt===0&&(Dn&&Dn[Go](),Dn=null,bt&&bt(Fn),bt=null)}if(Q&&Q[Et]>0){var So=Pa()[ju](Q);So.iterate(function(es){if(es.flush){Qt++;var ed=!1;es.flush(Ne,function(){ed=!0,ki()},Xt)||ed||(Ne&&Dn==null?Dn=dc(function(){Dn=null,ki()},jt):ki())}})}return Fn=!0,ki(),!0}function Ql(){var Ne;bo(l[Ya](function(bt){var Xt=bt.cfg.enablePerfMgr;if(Xt){var jt=bt.cfg[As];(Ne!==jt||!Ne)&&(jt||(jt=qg),dl(bt.cfg,As,jt),Ne=jt,R=null),!O&&!R&&qt(jt)&&(R=jt(je,je[Ks]()))}else R=null,Ne=null}))}function Hh(Ne){var bt=pu(Xl(),je);bt[Zs](Eo),(!je._updateHook||je._updateHook(bt,Ne)!==!0)&&bt[jn](Ne)}function xm(Ne){var bt=je[$r];bt?(Kr(bt,2,73,Ne),Eo()):Si(Ne)}function Ri(Ne){var bt=je[Ks]();bt&&bt[fl]([Ne],2)}function bo(Ne){Qe.add(Ne)}})}return o.__ieDyn=1,o}();function Qr(o,l){try{if(o&&o!==""){var m=_i().parse(o);if(m&&m[mv]&&m[mv]>=m.itemsAccepted&&m.itemsReceived-m.itemsAccepted===m.errors[Et])return m}}catch(w){Kr(l,1,43,"Cannot parse the response. "+(w[Yo]||vr(w)),{response:o})}return null}var hu="",Zd="NoResponseBody",$p="&"+Zd+"=true",Gh="POST",jv=function(){function o(){var l=0,m,w,T,P,O,R,U,G,K,J,Q,ae,ne,we;Ga(o,this,function(Se,$e){var Qe=!0;Zl(),Se[Ln]=function(ot,$t){T=$t,w&&Kr(T,1,28,"Sender is already initialized"),Se.SetConfig(ot),w=!0},Se._getDbgPlgTargets=function(){return[w,P,R,m]},Se.SetConfig=function(ot){try{if(O=ot.senderOnCompleteCallBack||{},R=!!ot.disableCredentials,U=ot.fetchCredentials,P=!!ot.isOneDs,m=!!ot.enableSendPromise,K=!!ot.disableXhr,J=!!ot.disableBeacon,Q=!!ot.disableBeaconSync,we=ot.timeWrapper,ne=!!ot.addNoResponse,ae=!!ot.disableFetchKeepAlive,G={sendPOST:xa},P||(Qe=!1),R){var $t=zu();$t&&$t.protocol&&$t.protocol[oa]()==="file:"&&(Qe=!1)}return!0}catch{}return!1},Se.getSyncFetchPayload=function(){return l},Se.getSenderInst=function(ot,$t){return ot&&ot[Et]?qn(ot,$t):null},Se.getFallbackInst=function(){return G},Se[_n]=function(ot,$t){Zl()};function st(ot,$t){wn($t,200,{},ot)}function sr(ot,$t){Kr(T,2,26,"Failed to send telemetry.",{message:ot}),wn($t,400,{})}function hr(ot){sr("No endpoint url is provided for the batch",ot)}function qn(ot,$t){for(var Rn,je=0,Mt=null,oi=0;Mt==null&&oi<ot[Et];)je=ot[oi],!K&&je===1?Th()?Mt=qv:wl()&&(Mt=xa):je===2&&El($t)&&(!$t||!ae)?Mt=Jl:je===3&&bv()&&($t?!Q:!J)&&(Mt=Xa),oi++;return Mt?(Rn={_transport:je,_isSync:$t},Rn[Tc]=Mt,Rn):null}function wn(ot,$t,Rn,je){try{ot&&ot($t,Rn,je)}catch{}}function Yn(ot,$t){var Rn=ma(),je=ot[Dc];if(!je)return hr($t),!0;je=ot[Dc]+(ne?$p:hu);var Mt=ot[al],oi=P?Mt:new Blob([Mt],{type:"text/plain;charset=UTF-8"}),Eo=Rn.sendBeacon(je,oi);return Eo}function Xa(ot,$t,Rn){var je=ot[al];try{if(je)if(Yn(ot,$t))st(hu,$t);else{var Mt=O&&O.beaconOnRetry;Mt&&qt(Mt)?Mt(ot,$t,Yn):(G&&G[Tc](ot,$t,!0),Kr(T,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(oi){P&&lu(T,"Failed to send telemetry using sendBeacon API. Ex:"+vr(oi)),wn($t,P?0:400,{},hu)}}function xa(ot,$t,Rn){var je,Mt,oi,Eo=ot[Ts]||{};!Rn&&m&&(je=ca(function(fa,wo){Mt=fa,oi=wo})),P&&Rn&&ot.disableXhrSync&&(Rn=!1);var Qo=ot[Dc];if(!Qo){hr($t),Mt&&Mt(!1);return}var Ur=dm(Gh,Qo,Qe,!0,Rn,ot[ol]);P||Ur[fm]("Content-type","application/json"),_t(Io(Eo),function(fa){Ur[fm](fa,Eo[fa])}),Ur.onreadystatechange=function(){P||(Pa(Ur),Ur.readyState===4&&Mt&&Mt(!0))},Ur.onload=function(){P&&Pa(Ur)};function Pa(fa){var wo=O&&O.xhrOnComplete,Xl=wo&&qt(wo);if(Xl)wo(fa,$t,ot);else{var nc=iu(fa);wn($t,fa[Ds],Yu(fa,P),nc)}}return Ur.onerror=function(fa){wn($t,P?Ur[Ds]:400,Yu(Ur,P),P?hu:mf(Ur)),oi&&oi(fa)},Ur.ontimeout=function(){wn($t,P?Ur[Ds]:500,Yu(Ur,P),P?hu:mf(Ur)),Mt&&Mt(!1)},Ur.send(ot[al]),je}function Jl(ot,$t,Rn){var je,Mt=ot[Dc],oi=ot[al],Eo=P?oi:new Blob([oi],{type:"application/json"}),Qo,Ur,Pa,fa=new Headers,wo=oi[Et],Xl=!1,nc=!1,Wh=ot[Ts]||{},ep=(je={method:Gh,body:Eo},je[xl]=!0,je);ot.headers&&Io(ot.headers)[Et]>0&&(_t(Io(Wh),function(Ri){fa.append(Ri,Wh[Ri])}),ep[Ts]=fa),U?ep.credentials=U:Qe&&P&&(ep.credentials="include"),Rn&&(ep.keepalive=!0,l+=wo,P?ot._sendReason===2&&(Xl=!0,ne&&(Mt+=$p)):Xl=!0);var Ql=new Request(Mt,ep);try{Ql[xl]=!0}catch{}if(!Rn&&m&&(Qo=ca(function(Ri,bo){Ur=Ri,Pa=bo})),!Mt){hr($t),Ur&&Ur(!1);return}function Hh(Ri){wn($t,P?0:400,{},P?hu:Ri)}function xm(Ri,bo,Ne){var bt=Ri[Ds],Xt=O.fetchOnComplete;Xt&&qt(Xt)?Xt(Ri,$t,Ne||hu,bo):wn($t,bt,{},Ne||hu)}try{ul(fetch(P?Mt:Ql,P?ep:null),function(Ri){if(Rn&&(l-=wo,wo=0),!nc)if(nc=!0,Ri.rejected)Hh(Ri.reason&&Ri.reason[Xs]),Pa&&Pa(Ri.reason);else{var bo=Ri[bd];try{!P&&!bo.ok?(Hh(bo.statusText),Ur&&Ur(!1)):P&&!bo.body?(xm(bo,null,hu),Ur&&Ur(!0)):ul(bo.text(),function(Ne){xm(bo,ot,Ne[bd]),Ur&&Ur(!0)})}catch(Ne){Hh(vr(Ne)),Pa&&Pa(Ne)}}})}catch(Ri){nc||(Hh(vr(Ri)),Pa&&Pa(Ri))}return Xl&&!nc&&(nc=!0,wn($t,200,{}),Ur&&Ur(!0)),P&&!nc&&ot[ol]>0&&we&&we.set(function(){nc||(nc=!0,wn($t,500,{}),Ur&&Ur(!0))},ot[ol]),Qo}function qv(ot,$t,Rn){var je=va(),Mt=new XDomainRequest,oi=ot[al];Mt.onload=function(){var fa=iu(Mt),wo=O&&O.xdrOnComplete;wo&&qt(wo)?wo(Mt,$t,ot):wn($t,200,{},fa)},Mt.onerror=function(){wn($t,400,{},P?hu:pl(Mt))},Mt.ontimeout=function(){wn($t,500,{})},Mt.onprogress=function(){};var Eo=je&&je.location&&je.location[bs]||"",Qo=ot[Dc];if(!Qo){hr($t);return}if(!P&&Qo.lastIndexOf(Eo,0)!==0){var Ur="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";Kr(T,2,40,". "+Ur),sr(Ur,$t);return}var Pa=P?Qo:Qo[Ii](/^(https?:)/,"");Mt.open(Gh,Pa),ot[ol]&&(Mt[ol]=ot[ol]),Mt.send(oi),P&&Rn?we&&we.set(function(){Mt.send(oi)},0):Mt.send(oi)}function Zl(){l=0,w=!1,m=!1,T=null,P=null,O=null,R=null,U=null,G=null,K=!1,J=!1,Q=!1,ae=!1,ne=!1,we=null}})}return o.__ieDyn=1,o}(),ql="on",Xd="attachEvent",Yg="addEventListener",Vp="detachEvent",Lf="removeEventListener",Uc="events",Zo="visibilitychange",vu="pagehide",Ff="pageshow",Yl="unload",ec="beforeunload",tc=ks("aiEvtPageHide"),Wp=ks("aiEvtPageShow"),Qd=/\.[\.]+/g,zg=/[\.]+$/,qh=1,Bc=cu("events"),Im=/^([^.]*)(?:\.(.+)|)/;function Yh(o){return o&&o[Ii]?o[Ii](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,wr):o}function zl(o,l){var m;if(l){var w=wr;Ve(l)?(w=wr,_t(l,function(P){P=Yh(P),P&&(P[0]!=="."&&(P="."+P),w+=P)})):w=Yh(l),w&&(w[0]!=="."&&(w="."+w),o=(o||wr)+w)}var T=Im.exec(o||wr)||[];return m={},m[sa]=T[1],m.ns=(T[2]||wr).replace(Qd,".").replace(zg,wr)[ba](".").sort().join("."),m}function zh(o,l,m){var w=[],T=Bc.get(o,Uc,{},!1),P=zl(l,m);return Lr(T,function(O,R){_t(R,function(U){var G;(!P[sa]||P[sa]===U.evtName[sa])&&(!P.ns||P.ns===P.ns)&&w[Yr]((G={},G[Yo]=U.evtName[sa]+(U.evtName.ns?"."+U.evtName.ns:wr),G.handler=U[Ss],G))})}),w}function $h(o,l,m){m===void 0&&(m=!0);var w=Bc.get(o,Uc,{},m),T=w[l];return T||(T=w[l]=[]),T}function og(o,l,m,w){o&&l&&l[sa]&&(o[Lf]?o[Lf](l[sa],m,w):o[Vp]&&o[Vp](ql+l[sa],m))}function sg(o,l,m,w){var T=!1;return o&&l&&l[sa]&&m&&(o[Yg]?(o[Yg](l[sa],m,w),T=!0):o[Xd]&&(o[Xd](ql+l[sa],m),T=!0)),T}function $g(o,l,m,w){for(var T=l[Et];T--;){var P=l[T];P&&(!m.ns||m.ns===P.evtName.ns)&&(!w||w(P))&&(og(o,P.evtName,P[Ss],P.capture),l[jo](T,1))}}function Na(o,l,m){if(l[sa])$g(o,$h(o,l[sa]),l,m);else{var w=Bc.get(o,Uc,{});Lr(w,function(T,P){$g(o,P,l,m)}),Io(w)[Et]===0&&Bc.kill(o,Uc)}}function mu(o,l){var m;return l?(Ve(l)?m=[o].concat(l):m=[o,l],m=zl("xx",m).ns[ba](".")):m=o,m}function Hp(o,l,m,w,T){var P;T===void 0&&(T=!1);var O=!1;if(o)try{var R=zl(l,w);if(O=sg(o,R,m,T),O&&Bc.accept(o)){var U=(P={guid:qh++,evtName:R},P[Ss]=m,P.capture=T,P);$h(o,R.type)[Yr](U)}}catch{}return O}function Jn(o,l,m,w,T){if(T===void 0&&(T=!1),o)try{var P=zl(l,w),O=!1;Na(o,P,function(R){return P.ns&&!m||R[Ss]===m?(O=!0,!0):!1}),O||og(o,P,m,T)}catch{}}function Kp(o,l,m,w){return w===void 0&&(w=!1),Hp(o,l,m,null,w)}function Jp(o,l,m,w){w===void 0&&(w=!1),Jn(o,l,m,null,w)}function Vg(o,l,m){var w=!1,T=va();T&&(w=Hp(T,o,l,m),w=Hp(T.body,o,l,m)||w);var P=ra();return P&&(w=Hp(P,o,l,m)||w),w}function v(o,l,m){var w=va();w&&(Jn(w,o,l,m),Jn(w.body,o,l,m));var T=ra();T&&Jn(T,o,l,m)}function E(o,l,m,w){var T=!1;return l&&o&&o[Et]>0&&_t(o,function(P){P&&(!m||di(m,P)===-1)&&(T=Vg(P,l,w)||T)}),T}function A(o,l,m,w){var T=!1;return l&&o&&Ve(o)&&(T=E(o,l,m,w),!T&&m&&m[Et]>0&&(T=E(o,l,null,w))),T}function I(o,l,m){o&&Ve(o)&&_t(o,function(w){w&&v(w,l,m)})}function F(o,l,m){return A([ec,Yl,vu],o,l,m)}function z(o,l){I([ec,Yl,vu],o,l)}function $(o,l,m){function w(O){var R=ra();o&&R&&R.visibilityState==="hidden"&&o(O)}var T=mu(tc,m),P=E([vu],o,l,T);return(!l||di(l,Zo)===-1)&&(P=E([Zo],w,l,T)||P),!P&&l&&(P=$(o,null,m)),P}function te(o,l){var m=mu(tc,l);I([vu],o,m),I([Zo],null,m)}function le(o,l,m){function w(O){var R=ra();o&&R&&R.visibilityState==="visible"&&o(O)}var T=mu(Wp,m),P=E([Ff],o,l,T);return P=E([Zo],w,l,T)||P,!P&&l&&(P=le(o,null,m)),P}function de(o,l){var m=mu(Wp,l);I([Ff],o,m),I([Zo],null,m)}var ke=qa({DISABLED:0,CRITICAL:1,WARNING:2,DEBUG:3}),Ze="",He="https://browser.events.data.microsoft.com/OneCollector/1.0/",Re="version",_e="properties",We="initialize",Ce="logger",rt="indexOf",Oe="timings",Ie="pollInternalLogs",Xe="value",Jt="kind",rr="length",pr="processTelemetryStart",Or="handleField",zr="rmSanitizer",En="rmFieldSanitizer",hn="canHandle",nr,ni="4.3.4",at="1DS-Web-JS-"+ni,yt=s.hasOwnProperty,Cr="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",gr="withCredentials",Rt="timeout",Fr=(nr={},nr[0]=0,nr[2]=6,nr[1]=1,nr[3]=7,nr[4098]=6,nr[4097]=1,nr[4099]=7,nr),Ot=null,Vi=$f(),ht=lp();function xn(o){return!(o===Ze||lt(o))}function Pn(o){if(o){var l=oo(o,"-");if(l>-1)return Un(o,l)}return Ze}function Ca(){return Ot===null&&(Ot=!ut(Uint8Array)&&!Wi()&&!_l()),Ot}function jc(o){return!!(o&&Dr(o)&&o>=1&&o<=4)}function Ja(o,l,m){if(!l&&!xn(l)||typeof o!="string")return null;var w=typeof l;if(w==="string"||w==="number"||w==="boolean"||Ve(l))l={value:l};else if(w==="object"&&!yt.call(l,"value"))l={value:m?JSON.stringify(l):l};else if(lt(l[Xe])||l[Xe]===Ze||!It(l[Xe])&&!Dr(l[Xe])&&!ci(l[Xe])&&!Ve(l[Xe]))return null;if(Ve(l[Xe])&&!yu(l[Xe]))return null;if(!lt(l[Jt])){if(Ve(l[Xe])||!sn(l[Jt]))return null;l[Xe]=l[Xe].toString()}return l}function $l(o,l,m){var w=-1;if(!ut(o))if(l>0&&(l===32?w=8192:l<=13&&(w=l<<5)),ai(m))w===-1&&(w=0),w|=m;else{var T=Fr[Za(o)]||-1;w!==-1&&T!==-1?w|=T:T===6&&(w=T)}return w}function Bs(o,l,m){m===void 0&&(m=!0);var w;return o&&(w=o.get(l),m&&w&&decodeURIComponent&&(w=decodeURIComponent(w))),w||Ze}function Xo(o){o===void 0&&(o="D");var l=Ml();return o==="B"?l="{"+l+"}":o==="P"?l="("+l+")":o==="N"&&(l=l.replace(/-/g,Ze)),l}function gu(o,l,m,w,T){var P={},O=!1,R=0,U=arguments[rr],G=arguments;for(ci(G[0])&&(O=G[0],R++);R<U;R++){var o=G[R];Lr(o,function(J,Q){O&&Q&&fn(Q)?Ve(Q)?(P[J]=P[J]||[],_t(Q,function(ae,ne){ae&&fn(ae)?P[J][ne]=gu(!0,P[J][ne],ae):P[J][ne]=ae})):P[J]=gu(!0,P[J],Q):P[J]=Q})}return P}var ii=Xf;function sn(o){return o===0||o>0&&o<=13||o===32}function ai(o){return o>=0&&o<=9}function Wi(){var o=ma();if(!ut(o)&&o.userAgent){var l=o.userAgent.toLowerCase();if((l[rt]("safari")>=0||l[rt]("firefox")>=0)&&l[rt]("chrome")<0)return!0}return!1}function yu(o){return o[rr]>0}function Gc(o,l){var m=o;m[Oe]=m[Oe]||{},m[Oe][pr]=m[Oe][pr]||{},m[Oe][pr][l]=ii()}function Za(o){var l=0;if(o!=null){var m=typeof o;m==="string"?l=1:m==="number"?l=2:m==="boolean"?l=3:m===r&&(l=4,Ve(o)?(l=4096,o[rr]>0&&(l|=Za(o[0]))):yt.call(o,"value")&&(l=8192|Za(o[Xe])))}return l}function Vl(){return!!dn("chrome")}function _u(o,l,m,w,T,P){w===void 0&&(w=!1),T===void 0&&(T=!1);function O(U,G,K){try{U[G]=K}catch{}}var R=new XMLHttpRequest;return w&&O(R,Cr,w),m&&O(R,gr,m),R.open(o,l,!T),m&&O(R,gr,m),!T&&P&&O(R,Rt,P),R}function Gv(o){return o>0}var qc=Ys({endpointUrl:He,propertyStorageOverride:{isVal:Wl}});function Wl(o){return o&&(!o.getProperty||!o.setProperty)&&Si("Invalid property storage override passed."),!0}var wi=function(o){pc(l,o);function l(){var m=o.call(this)||this;return Ga(l,m,function(w,T){w[We]=function(P,O,R,U){du(w,function(){return"AppInsightsCore.initialize"},function(){try{T[We](Ei(P,qc,R||w[Ce],!1).cfg,O,R,U)}catch(J){var G=w[Ce],K=vr(J);K[rt]("channels")!==-1&&(K+=`
 - Channels must be provided through config.channels only!`),Kr(G,1,514,"SDK Initialization Failed - no telemetry will be sent: "+K)}},function(){return{config:P,extensions:O,logger:R,notificationManager:U}})},w.track=function(P){du(w,function(){return"AppInsightsCore.track"},function(){var O=P;if(O){O[Oe]=O[Oe]||{},O[Oe].trackStart=ii(),jc(O.latency)||(O.latency=1);var R=O.ext=O.ext||{};R.sdk=R.sdk||{},R.sdk.ver=at;var U=O.baseData=O.baseData||{};U[_e]=U[_e]||{};var G=U[_e];G[Re]=G[Re]||w.pluginVersionString||Ze}T.track(O)},function(){return{item:P}},!P.sync)},w[Ie]=function(P){return T[Ie](P||"InternalLog")}}),m}return l.__ieDyn=1,l}(Bv),Zp=qa({NotSet:0,Pii_DistinguishedName:1,Pii_GenericData:2,Pii_IPV4Address:3,Pii_IPv6Address:4,Pii_MailSubject:5,Pii_PhoneNumber:6,Pii_QueryString:7,Pii_SipAddress:8,Pii_SmtpAddress:9,Pii_Identity:10,Pii_Uri:11,Pii_Fqdn:12,Pii_IPV4AddressLegacy:13,Pii_IPv6ScrubLastHextets:14,Pii_DropValue:15,CustomerContent_GenericContent:32}),Hl=qa({Normal:1,CostDeferred:2,RealTime:3,Immediate:4}),Vh=qa({Unspecified:0,String:1,Int32:2,UInt32:3,Int64:4,UInt64:5,Double:6,Bool:7,Guid:8,DateTime:9}),rc=qa({Normal:1,Critical:2}),Ia=qa({NONE:0,ERROR:1,WARNING:2,INFORMATION:3}),Kl=function(){function o(l){var m=this,w={},T=[],P=[];l&&P.push(l);function O(K,J){var Q,ae=w[K];if(ae&&(Q=ae[J]),!Q&&Q!==null){if(It(K)&&It(J))if(P[rr]>0){for(var ne=0;ne<P[rr];ne++)if(P[ne][Or](K,J)){Q={canHandle:!0,fieldHandler:P[ne]};break}}else T[rr]===0&&(Q={canHandle:!0});if(!Q&&Q!==null){Q=null;for(var ne=0;ne<T[rr];ne++)if(T[ne][Or](K,J)){Q={canHandle:!0,handler:T[ne],fieldHandler:null};break}}ae||(ae=w[K]={}),ae[J]=Q}return Q}m.clearCache=function(){w={}},m.addSanitizer=function(K){K&&(hp(T,K)||T.push(K),w={})},m.addFieldSanitizer=function(K){K&&(hp(P,K)||P.push(K),w={})},m[zr]=function(K){if(K){var J=di(T,K);J!==-1&&(T.splice(J,1),w={}),_t(T,function(Q){Q&&Q[zr]&&Q[zr](K)})}},m[En]=function(K){if(K){var J=di(P,K);J!==-1&&(P.splice(J,1),w={}),_t(T,function(Q){Q&&Q[En]&&Q[En](K)})}},m.isEmpty=function(){return $s(T)+$s(P)===0},m[Or]=function(K,J){var Q=O(K,J);return Q?Q[hn]:!1},m[Xe]=function(K,J,Q,ae){var ne=O(K,J);if(ne&&ne[hn]){if(!ne||!ne[hn])return null;if(ne.handler)return ne.handler[Xe](K,J,Q,ae);if(!It(J)||lt(Q)||Q===Ze)return null;var we=null,Se=Za(Q);if((Se&8192)===8192){var $e=Se&-8193;if(we=Q,!xn(we[Xe])||$e!==1&&$e!==2&&$e!==3&&($e&4096)!==4096)return null}else Se===1||Se===2||Se===3||(Se&4096)===4096?we=U(K,J,Q):Se===4&&(we=U(K,J,ae?JSON.stringify(Q):Q));if(we)return R(ne,K,J,Se,we,ae)}return null},m.property=function(K,J,Q,ae){var ne=O(K,J);if(!ne||!ne[hn]||!It(J)||lt(Q)||!xn(Q[Xe]))return null;var we=Za(Q[Xe]);return we===0?null:R(ne,K,J,we,Q,ae)};function R(K,J,Q,ae,ne,we){if(K.handler)return K.handler.property(J,Q,ne,we);if(!lt(ne[Jt])){if((ae&4096)===4096||!sn(ne[Jt]))return null;ne[Xe]=ne[Xe].toString()}return G(K.fieldHandler,J,Q,ae,ne)}function U(K,J,Q){return xn(Q)?{value:Q}:null}function G(K,J,Q,ae,ne){if(ne&&K){var we=K.getSanitizer(J,Q,ae,ne[Jt],ne.propertyType);if(we)if(ae===4){var Se={},$e=ne[Xe];Lr($e,function(st,sr){var hr=J+"."+Q;if(xn(sr)){var qn=U(hr,st,sr);qn=G(K,hr,st,Za(sr),qn),qn&&(Se[st]=qn[Xe])}}),ne[Xe]=Se}else{var Qe={path:J,name:Q,type:ae,prop:ne,sanitizer:m};ne=we.call(m,Qe)}}return ne}}return o.getFieldType=Za,o}();e.ActiveStatus=yn,e.AppInsightsCore=wi,e.BaseTelemetryPlugin=tg,e.DiagnosticLogger=Mc,e.EventLatency=Hl,e.EventPersistence=rc,e.EventPropertyType=Vh,e.EventsDiscardedReason=Uu,e.FullVersionString=at,e.InternalAppInsightsCore=Bv,e.LoggingSeverity=ke,e.MinChannelPriorty=Ed,e.NotificationManager=gt,e.PerfEvent=Ut,e.PerfManager=In,e.ProcessTelemetryContext=Lv,e.SenderPostManager=jv,e.TraceLevel=Ia,e.Undefined=n,e.ValueKind=Zp,e.ValueSanitizer=Kl,e.Version=ni,e._InternalLogMessage=qp,e.__getRegisteredEvents=zh,e._appendHeader=au,e._getAllResponseHeaders=Yu,e._logInternalMessage=xh,e._testHookMaxUnloadHooksCb=eg,e._throwInternal=Kr,e._warnToConsole=lu,e.addEventHandler=Vg,e.addEventListeners=A,e.addPageHideEventListener=$,e.addPageShowEventListener=le,e.addPageUnloadEventListener=F,e.areCookiesSupported=j,e.arrForEach=_t,e.arrIndexOf=di,e.arrMap=Pu,e.arrReduce=Xn,e.attachEvent=Kp,e.blockDynamicConversion=vm,e.convertAllHeadersToMap=xs,e.cookieAvailable=j,e.createCookieMgr=C,e.createDynamicConfig=Ei,e.createEnumStyle=qa,e.createGuid=Xo,e.createProcessTelemetryContext=kf,e.createTraceParent=Pi,e.createUniqueNamespace=ks,e.createUnloadHandlerContainer=Lh,e.dateNow=Ru,e.detachEvent=Jp,e.disallowsSameSiteNone=ct,e.doPerf=du,e.dumpObj=vr,e.eventOff=Jn,e.eventOn=Hp,e.extend=gu,e.findW3cTraceParent=Wd,e.forceDynamicConversion=Wo,e.formatErrorMessageXdr=pl,e.formatErrorMessageXhr=mf,e.formatTraceParent=Qu,e.generateW3CId=$d,e.getCommonSchemaMetaData=$l,e.getConsole=Md,e.getCookieValue=Bs,e.getCrypto=Dh,e.getDocument=ra,e.getDynamicConfigHandler=Df,e.getExceptionName=Cs,e.getFieldValueType=Za,e.getGlobal=ld,e.getGlobalInst=dn,e.getHistory=io,e.getIEVersion=wv,e.getISOString=Ns,e.getJSON=_i,e.getLocation=zu,e.getMsCrypto=yl,e.getNavigator=ma,e.getPerformance=Ba,e.getResponseText=iu,e.getSetValue=dl,e.getTenantId=Pn,e.getTime=ii,e.getWindow=va,e.hasDocument=$f,e.hasHistory=Vf,e.hasJSON=Yi,e.hasNavigator=lh,e.hasOwnProperty=Tn,e.hasWindow=lp,e.isArray=Ve,e.isArrayValid=yu,e.isBeaconsSupported=bv,e.isBoolean=ci,e.isChromium=Vl,e.isDate=tn,e.isDocumentObjectAvailable=Vi,e.isError=Yt,e.isFetchSupported=El,e.isFunction=qt,e.isGreaterThanZero=Gv,e.isIE=$u,e.isLatency=jc,e.isNotTruthy=ka,e.isNullOrUndefined=lt,e.isNumber=Dr,e.isObject=fn,e.isReactNative=_l,e.isSampledFlag=Ov,e.isString=It,e.isTruthy=Oa,e.isTypeof=nn,e.isUint8ArrayAvailable=Ca,e.isUndefined=ut,e.isValidSpanId=Fs,e.isValidTraceId=Aa,e.isValidTraceParent=Rf,e.isValueAssigned=xn,e.isValueKind=sn,e.isWindowObjectAvailable=ht,e.isXhrSupported=wl,e.mergeEvtNamespace=mu,e.newGuid=Ml,e.newId=Dl,e.normalizeJsName=nu,e.objDefineAccessors=up,e.objForEachKey=Lr,e.objFreeze=no,e.objKeys=Io,e.objSeal=Cu,e.onConfigChange=Cf,e.openXhr=_u,e.optimizeObject=Rd,e.parseResponse=Qr,e.parseTraceParent=ti,e.perfNow=Xf,e.prependTransports=hl,e.proxyAssign=Is,e.proxyFunctionAs=Wa,e.proxyFunctions=vf,e.random32=bf,e.randomValue=Tv,e.removeEventHandler=v,e.removeEventListeners=I,e.removePageHideEventListener=te,e.removePageShowEventListener=de,e.removePageUnloadEventListener=z,e.safeGetCookieMgr=b,e.safeGetLogger=Ol,e.sanitizeProperty=Ja,e.setEnableEnvMocks=Od,e.setProcessTelemetryTimings=Gc,e.setValue=Sa,e.strContains=xt,e.strEndsWith=vd,e.strFunction=t,e.strObject=r,e.strPrototype=i,e.strStartsWith=hv,e.strTrim=ji,e.strUndefined=n,e.throwError=Si,e.toISOString=Ns,e.useXDomainRequest=Th})});var h2=cr((r0,p2)=>{(function(e,t){typeof r0=="object"&&typeof p2<"u"?t(r0):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t(e.oneDS=e.oneDS||{}))})(r0,function(e){"use strict";var t="REAL_TIME",r="NEAR_REAL_TIME",n="BEST_EFFORT",i="function",a="object",s="undefined",f="prototype",h=Object,y=h[f];function D(v,E){return v||E}function x(v,E){return v[E]}var L=void 0,Y=null,ee="",W="function",H="object",X="prototype",ue="__proto__",ce="undefined",he="constructor",Ue="Symbol",Le="_polyfill",ve="length",Pe="name",Te="call",Je="toString",mt=D(Object),Er=x(mt,X),fr=D(String),Bt=x(fr,X),en=D(Math),qe=D(Array),Jr=x(qe,X),Fe=x(Jr,"slice");function Gr(v,E){try{return{v:v.apply(this,E)}}catch(A){return{e:A}}}function er(v){return function(E){return typeof E===v}}function kt(v){return typeof v===ce||v===ce}function nn(v){return!lt(v)}function ut(v){return v===Y||kt(v)}function Hn(v){return v===Y||!lt(v)}function lt(v){return!!v||v!==L}var Au=er("string"),Zt=er(W);function to(v){return!v&&ut(v)?!1:!!v&&typeof v===H}var It=x(qe,"isArray"),qt=er("number"),fn=er("boolean");function Ve(v){return!!(v&&v.then&&Zt(v.then))}var tn=x(mt,"getOwnPropertyDescriptor");function Dr(v,E){return!!v&&Er.hasOwnProperty[Te](v,E)}var ci=D(x(mt,"hasOwn"),Yt);function Yt(v,E){return Dr(v,E)||!!tn(v,E)}function ln(v,E,A){if(v&&to(v)){for(var I in v)if(ci(v,I)&&E[Te](A||v,I,v[I])===-1)break}}var ka={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function Oa(v){var E={};if(E[ka.c]=!0,E[ka.e]=!0,v.l){E.get=function(){return v.l.v};var A=tn(v.l,"v");A&&A.set&&(E.set=function(I){v.l.v=I})}return ln(v,function(I,F){E[ka[I]]=nn(F)?E[ka[I]]:F}),E}var an=x(mt,"defineProperty");function Tn(v,E,A){return an(v,E,Oa(A))}function Co(v,E,A,I,F){var z={};return ln(v,function($,te){Ui(z,$,E?te:$,F),Ui(z,te,A?te:$,F)}),I?I(z):z}function Ui(v,E,A,I){an(v,E,{value:A,enumerable:!0,writable:!!I})}var Lr=D(fr),or="[object Error]";function lr(v,E){var A=ee,I=Er[Je][Te](v);I===or&&(v={stack:Lr(v.stack),message:Lr(v.message),name:Lr(v.name)});try{A=JSON.stringify(v,Y,E?typeof E=="number"?E:4:L),A=(A?A.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):Y)||Lr(v)}catch(F){A=" - "+lr(F,E)}return I+": "+A}function Zr(v){throw new TypeError(v)}var up=x(mt,"freeze");function fi(v){return v}function as(v){return v[ue]||Y}var Nu=x(mt,"assign"),on=x(mt,"keys");function Bi(v){return up&&ln(v,function(E,A){(It(A)||to(A))&&Bi(A)}),vr(v)}var vr=D(up,fi),Si=D(x(mt,"getPrototypeOf"),as);function Di(v){return Co(v,1,0,vr)}function os(v){return Co(v,0,0,vr)}var ss=os({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),ro="__tsUtils$gblCfg",us;function Io(){var v;return typeof globalThis!==ce&&(v=globalThis),!v&&typeof self!==ce&&(v=self),!v&&typeof window!==ce&&(v=window),!v&&typeof global!==ce&&(v=global),v}function Ys(){if(!us){var v=Gr(Io).v||{};us=v[ro]=v[ro]||{}}return us}var no=Cu;function Cu(v,E,A){var I=E?E[v]:Y;return function(F){var z=(F?F[v]:Y)||I;if(z||A){var $=arguments;return(z||A).apply(F,z?Fe[Te]($,1):$)}Zr('"'+Lr(v)+'" not defined for '+lr(F))}}var Rr=x(en,"max"),Hr=no("slice",Bt),da=no("substring",Bt),xo=Cu("substr",Bt,cs);function cs(v,E,A){return ut(v)&&Zr("Invalid "+lr(v)),A<0?ee:(E=E||0,E<0&&(E=Rr(E+v[ve],0)),kt(A)?Hr(v,E):Hr(v,E,E+A))}function Ti(v,E){return da(v,0,E)}var pa="_urid",Po;function Ai(){if(!Po){var v=Ys();Po=v.gblSym=v.gblSym||{k:{},s:{}}}return Po}var Ro;function cp(v){var E={description:Lr(v),toString:function(){return Ue+"("+v+")"}};return E[Le]=!0,E}function cd(v){var E=Ai();if(!ci(E.k,v)){var A=cp(v),I=on(E.s).length;A[pa]=function(){return I+"_"+A[Je]()},E.k[v]=A,E.s[A[pa]()]=Lr(v)}return E.k[v]}function fp(v){!Ro&&(Ro={});var E,A=ss[v];return A&&(E=Ro[A]=Ro[A]||cp(Ue+"."+A)),E}var mn;function ko(){mn=Ys()}function fs(v){return an({toJSON:function(){return v}},"v",{value:v})}var Un="window",ls;function Iu(v,E){var A;return function(){return!mn&&ko(),(!A||mn.lzy)&&(A=fs(Gr(v,E).v)),A.v}}function ta(v){return!mn&&ko(),(!ls||v===!1||mn.lzy)&&(ls=fs(Gr(Io).v||Y)),ls.v}function gn(v,E){var A;if(!ls||E===!1?A=ta(E):A=ls.v,A&&A[v])return A[v];if(v===Un)try{return window}catch{}return Y}var Bn=Iu(gn,["document"]);function uc(){return!!ha()}var ha=Iu(gn,[Un]);function kr(){return!!li()}var li=Iu(gn,["navigator"]),fd=Iu(function(){return!!Gr(function(){return process&&(process.versions||{}).node}).v}),Ni,ds;function Hc(){return Ni=fs(Gr(gn,[Ue]).v),Ni}function ps(v){var E=(mn.lzy?0:Ni)||Hc();return E.v?E.v[v]:L}function ld(){return!!dn()}function dn(){return!mn&&ko(),((mn.lzy?0:Ni)||Hc()).v}function $f(v,E){var A=ss[v];!mn&&ko();var I=(mn.lzy?0:Ni)||Hc();return I.v?I.v[A||v]:E?L:fp(v)}function ra(v,E){!mn&&ko();var A=(mn.lzy?0:Ni)||Hc();return A.v?A.v(v):E?Y:cp(v)}function lp(v){return!mn&&ko(),ds=(mn.lzy?0:ds)||fs(Gr(ps,["for"]).v),(ds.v||cd)(v)}function va(v){return!!v&&Zt(v.next)}function lh(v){return!Hn(v)&&Zt(v[$f(3)])}var ma;function Vf(v,E,A){if(v&&(va(v)||(!ma&&(ma=fs($f(3))),v=v[ma.v]?v[ma.v]():Y),va(v))){var I=L,F=L;try{for(var z=0;!(F=v.next()).done&&E[Te](A||v,F.value,z,v)!==-1;)z++}catch($){I={e:$},v.throw&&(F=Y,v.throw(I))}finally{try{F&&!F.done&&v.return&&v.return(F)}finally{if(I)throw I.e}}}}function io(v,E,A){return v.apply(E,A)}function dd(v,E){return!kt(E)&&v&&(It(E)?io(v.push,v,E):va(E)||lh(E)?Vf(E,function(A){v.push(A)}):v.push(E)),v}function Tr(v,E,A){if(v)for(var I=v[ve]>>>0,F=0;F<I&&!(F in v&&E[Te](A||v,v[F],F,v)===-1);F++);}var hs=no("indexOf",Jr);function pd(v,E,A){return((v?v.slice:Y)||Fe).apply(v,Fe[Te](arguments,1))}var na=D(x(mt,"create"),Kc);function Kc(v){if(!v)return{};var E=typeof v;E!==H&&E!==W&&Zr("Prototype must be an Object or function: "+lr(v));function A(){}return A[X]=v,new A}var Ft;function ga(v,E){var A=mt.setPrototypeOf||function(I,F){var z;!Ft&&(Ft=fs((z={},z[ue]=[],z instanceof Array))),Ft.v?I[ue]=F:ln(F,function($,te){return I[$]=te})};return A(v,E)}function cc(v,E,A){Gr(Tn,[E,Pe,{v,c:!0,e:!1}]),E=ga(E,A);function I(){this[he]=E,Gr(Tn,[this,Pe,{v,c:!0,e:!1}])}return E[X]=A===Y?na(A):(I[X]=A[X],new I),E}function Wf(v,E){E&&(v[Pe]=E)}function dv(v,E,A){var I=A||Error,F=I[X][Pe],z=Error.captureStackTrace;return cc(v,function(){var $=this,te=arguments;try{Gr(Wf,[I,v]);var le=io(I,$,Fe[Te](te))||$;if(le!==$){var de=Si($);de!==Si(le)&&ga(le,de)}return z&&z(le,$[he]),E&&E(le,te),le}finally{Gr(Wf,[I,F])}},I)}function Ma(){return(Date.now||Hf)()}function Hf(){return new Date().getTime()}function dp(v){return function(A){return ut(A)&&Zr("strTrim called ["+lr(A)+"]"),A&&A.replace&&(A=A.replace(v,ee)),A}}var xu=dp(/^\s+|(?=\s)\s+$/g),La=Cu("trim",Bt,xu),_t,di,Pu;function zs(v){if(!v||typeof v!==H)return!1;Pu||(Pu=uc()?ha():!0);var E=!1;if(v!==Pu){di||(_t=Function[X][Je],di=_t[Te](mt));try{var A=Si(v);E=!A,E||(Dr(A,he)&&(A=A[he]),E=!!(A&&typeof A===W&&_t[Te](A)===di))}catch{}}return E}function pp(){return Ma()}var hp=no("indexOf",Bt),Xn=Cu("startsWith",Bt,ya);function ya(v,E,A){Au(v)||Zr("'"+lr(v)+"' is not a string");var I=Au(E)?E:Lr(E),F=A>0?A:0;return da(v,F,F+I[ve])===I}var vp="ref",Fa="unref",ia="hasRef",cm="enabled";function pv(v,E,A){var I=!0,F=v?E(Y):Y,z;function $(){return I=!1,F&&F[Fa]&&F[Fa](),z}function te(){F&&A(F),F=Y}function le(){return F=E(F),I||$(),z}function de(ke){!ke&&F&&te(),ke&&!F&&le()}return z={cancel:te,refresh:le},z[ia]=function(){return F&&F[ia]?F[ia]():I},z[vp]=function(){return I=!0,F&&F[vp]&&F[vp](),z},z[Fa]=$,z=an(z,cm,{get:function(){return!!F},set:de}),{h:z,dn:function(){F=Y}}}function dh(v,E,A){var I=It(E),F=I?E.length:0,z=(F>0?E[0]:I?L:E)||setTimeout,$=(F>1?E[1]:L)||clearTimeout,te=A[0];A[0]=function(){le.dn(),io(te,L,Fe[Te](arguments))};var le=pv(v,function(de){if(de){if(de.refresh)return de.refresh(),de;io($,L,[de])}return io(z,L,A)},function(de){io($,L,[de])});return le.h}function Ru(v,E){return dh(!0,L,Fe[Te](arguments))}function ph(v,E,A){return dh(!0,v,Fe[Te](arguments,1))}(ta()||{}).Symbol,(ta()||{}).Reflect;var Qm="hasOwnProperty",mp=function(v,E){return mp=h.setPrototypeOf||{__proto__:[]}instanceof Array&&function(A,I){A.__proto__=I}||function(A,I){for(var F in I)I[Qm](F)&&(A[F]=I[F])},mp(v,E)};function ji(v,E){typeof E!==i&&E!==null&&Zr("Class extends value "+String(E)+" is not a constructor or null"),mp(v,E);function A(){this.constructor=v}v[f]=E===null?na(E):(A[f]=E[f],new A)}var Kf,Jf="constructor",ao="prototype",_a="function",ku="_dynInstFuncs",hh="_isDynProxy",Ua="_dynClass",gp="_dynCls$",fc="_dynInstChk",Jc=fc,Zf="_dfOpts",hd="_unknown_",yp="__proto__",vh="_dyn"+yp,mh="__dynProto$Gbl",Ou="_dynInstProto",_p="useBaseInst",$s="setInstFuncs",lc=Object,Ba=lc.getPrototypeOf,Xf=lc.getOwnPropertyNames,vd=ta(),Zc=vd[mh]||(vd[mh]={o:(Kf={},Kf[$s]=!0,Kf[_p]=!0,Kf),n:1e3});function oo(v){return v&&(v===lc[ao]||v===Array[ao])}function hv(v){return oo(v)||v===Function[ao]}function vs(v){var E;if(v){if(Ba)return Ba(v);var A=v[yp]||v[ao]||(v[Jf]?v[Jf][ao]:null);E=v[vh]||A,Dr(v,vh)||(delete v[Ou],E=v[vh]=v[Ou]||v[vh],v[Ou]=A)}return E}function Oo(v,E){var A=[];if(Xf)A=Xf(v);else for(var I in v)typeof I=="string"&&Dr(v,I)&&A.push(I);if(A&&A.length>0)for(var F=0;F<A.length;F++)E(A[F])}function so(v,E,A){return E!==Jf&&typeof v[E]===_a&&(A||Dr(v,E))&&E!==yp&&E!==ao}function Mu(v){Zr("DynamicProto: "+v)}function md(v){var E=na(null);return Oo(v,function(A){!E[A]&&so(v,A,!1)&&(E[A]=v[A])}),E}function Xc(v,E){for(var A=v.length-1;A>=0;A--)if(v[A]===E)return!0;return!1}function Qc(v,E,A,I){function F(le,de,ke){var Ze=de[ke];if(Ze[hh]&&I){var He=le[ku]||{};He[Jc]!==!1&&(Ze=(He[de[Ua]]||{})[ke]||Ze)}return function(){return Ze.apply(le,arguments)}}var z=na(null);Oo(A,function(le){z[le]=F(E,A,le)});for(var $=vs(v),te=[];$&&!hv($)&&!Xc(te,$);)Oo($,function(le){!z[le]&&so($,le,!Ba)&&(z[le]=F(E,$,le))}),te.push($),$=vs($);return z}function dc(v,E,A,I){var F=null;if(v&&Dr(A,Ua)){var z=v[ku]||na(null);if(F=(z[A[Ua]]||na(null))[E],F||Mu("Missing ["+E+"] "+_a),!F[fc]&&z[Jc]!==!1){for(var $=!Dr(v,E),te=vs(v),le=[];$&&te&&!hv(te)&&!Xc(le,te);){var de=te[E];if(de){$=de===I;break}le.push(te),te=vs(te)}try{$&&(v[E]=F),F[fc]=1}catch{z[Jc]=!1}}}return F}function gd(v,E,A){var I=E[v];return I===A&&(I=vs(E)[v]),typeof I!==_a&&Mu("["+v+"] is not a "+_a),I}function Qf(v,E,A,I,F){function z(le,de){var ke=function(){var Ze=dc(this,de,le,ke)||gd(de,le,ke);return Ze.apply(this,arguments)};return ke[hh]=1,ke}if(!oo(v)){var $=A[ku]=A[ku]||na(null);if(!oo($)){var te=$[E]=$[E]||na(null);$[Jc]!==!1&&($[Jc]=!!F),oo(te)||Oo(A,function(le){so(A,le,!1)&&A[le]!==I[le]&&(te[le]=A[le],delete A[le],(!Dr(v,le)||v[le]&&!v[le][hh])&&(v[le]=z(v,le)))})}}}function yd(v,E){if(Ba){for(var A=[],I=vs(E);I&&!hv(I)&&!Xc(A,I);){if(I===v)return!0;A.push(I),I=vs(I)}return!1}return!0}function pc(v,E){return Dr(v,ao)?v.name||E||hd:((v||{})[Jf]||{}).name||E||hd}function uo(v,E,A,I){Dr(v,ao)||Mu("theClass is an invalid class definition.");var F=v[ao];yd(F,E)||Mu("["+pc(v)+"] not in hierarchy of ["+pc(E)+"]");var z=null;Dr(F,Ua)?z=F[Ua]:(z=gp+pc(v,"_")+"$"+Zc.n,Zc.n++,F[Ua]=z);var $=uo[Zf],te=!!$[_p];te&&I&&I[_p]!==void 0&&(te=!!I[_p]);var le=md(E),de=Qc(F,E,le,te);A(E,de);var ke=!!Ba&&!!$[$s];ke&&I&&(ke=!!I[$s]),Qf(F,z,E,le,ke!==!1)}uo[Zf]=Zc.o;var ef=Di,Mo=ef({Unknown:0,NonRetryableStatus:1,InvalidEvent:2,SizeLimitExceeded:3,KillSwitch:4,QueueFull:5}),Ea="toLowerCase",ms="blkVal",Xr="length",Vs="rdOnly",co="notify",tf="warnToConsole",rf="throwInternal",gs="setDf",el="watch",ys="logger",Lu="apply",aa="push",Ep="splice",hc="hdlr",Gi="cancel",_d="initialize",wp="identifier",tl="isInitialized",rl="value",bp="getPlugin",vv="name",vc="time",Lo="processNext",fo="getProcessTelContext",Sn="unload",nl="loggingLevelConsole",mc="createNew",gc="teardown",Sp="messageId",ja="message",Fu="isAsync",Ws="diagLog",mr="_doTeardown",Fo="update",_s="getNext",Ga="setNextPlugin",Ed="protocol",qa="userAgent",Uu="split",yn="nodeType",oa="replace",qr="logInternalMessage",Et="type",yc="handler",Uo="status",Hs="getResponseHeader",lo="getAllResponseHeaders",Bu="isChildEvt",Ya="data",$r="getCtx",Bo="setCtx",Yr="complete",jo="urlString",wd="sendPOST",Go="headers",Ln="timeout",po="setRequestHeader",Es;function Ci(v,E){Es||(Es=dv("AggregationError",function(I,F){F[Xr]>1&&(I.errors=F[1])}));var A=v||"One or more errors occurred.";throw Tr(E,function(I,F){A+=`
`.concat(F," > ").concat(lr(I))}),new Es(A,E||[])}var qi="Promise",nf="rejected";function _c(v,E){return bd(v,function(A){return E?E({status:"fulfilled",rejected:!1,value:A}):A},function(A){return E?E({status:nf,rejected:!0,reason:A}):A})}function bd(v,E,A,I){var F=v;try{if(Ve(v))(E||A)&&(F=v.then(E,A));else try{E&&(F=E(v))}catch(z){if(A)F=A(z);else throw z}}finally{I&&Ks(F,I)}return F}function Ks(v,E){var A=v;return E&&(Ve(v)?v.finally?A=v.finally(E):A=v.then(function(I){return E(),I},function(I){throw E(),I}):E()),A}var qo=["pending","resolving","resolved",nf],Yo="dispatchEvent",Ec;function zo(v){var E;return v&&v.createEvent&&(E=v.createEvent("Event")),!!E&&E.initEvent}function jn(v,E,A,I){var F=Bn();!Ec&&(Ec=fs(!!Gr(zo,[F]).v));var z=Ec.v?F.createEvent("Event"):I?new Event(E):{};if(A&&A(z),Ec.v&&z.initEvent(E,!1,!0),z&&v[Yo])v[Yo](z);else{var $=v["on"+E];if($)$(z);else{var te=gn("console");te&&(te.error||te.log)(E,lr(z))}}}var Sd="unhandledRejection",wc=Sd.toLowerCase(),Js=10,wa;function ws(v){return Zt(v)?v.toString():lr(v)}function Zs(v,E,A){var I=pd(arguments,3),F=0,z=!1,$,te=[],le=!1,de=null,ke;function Ze(Ie,Xe){try{le=!0,de&&de.cancel(),de=null;var Jt=v(function(rr,pr){te.push(function(){try{var Or=F===2?Ie:Xe,zr=kt(Or)?$:Zt(Or)?Or($):Or;Ve(zr)?zr.then(rr,pr):Or?rr(zr):F===3?pr(zr):rr(zr)}catch(En){pr(En)}}),z&&We()},I);return Jt}finally{}}function He(Ie){return Ze(void 0,Ie)}function Re(Ie){var Xe=Ie,Jt=Ie;return Zt(Ie)&&(Xe=function(rr){return Ie&&Ie(),rr},Jt=function(rr){throw Ie&&Ie(),rr}),Ze(Xe,Jt)}function _e(){return qo[F]}function We(){if(te.length>0){var Ie=te.slice();te=[],le=!0,de&&de.cancel(),de=null,E(Ie)}}function Ce(Ie,Xe){return function(Jt){if(F===Xe){if(Ie===2&&Ve(Jt)){F=1,Jt.then(Ce(2,1),Ce(3,1));return}F=Ie,z=!0,$=Jt,We(),!le&&Ie===3&&!de&&(de=Ru(rt,Js))}}}function rt(){if(!le)if(le=!0,fd())process.emit(Sd,$,ke);else{var Ie=ha()||ta();!wa&&(wa=fs(Gr(gn,[qi+"RejectionEvent"]).v)),jn(Ie,wc,function(Xe){return Tn(Xe,"promise",{g:function(){return ke}}),Xe.reason=$,Xe},!!wa.v)}}ke={then:Ze,catch:He,finally:Re},an(ke,"state",{get:_e}),ld()&&(ke[$f(11)]="IPromise");function Oe(){return"IPromise "+_e()+(z?" - "+ws($):"")}return ke.toString=Oe,function(){Zt(A)||Zr(qi+": executor is not a function - "+ws(A));var Xe=Ce(3,0);try{A.call(ke,Ce(2,0),Xe)}catch(Jt){Xe(Jt)}}(),ke}function za(v){Tr(v,function(E){try{E()}catch{}})}function af(v){var E=qt(v)?v:0;return function(A){Ru(function(){za(A)},E)}}function ju(v,E){return Zs(ju,af(E),v,E)}var pi;function Gu(v,E){!pi&&(pi=fs(Gr(gn,[qi]).v||null));var A=pi.v;if(!A)return ju(v);Zt(v)||Zr(qi+": executor is not a function - "+lr(v));var I=0;function F(){return qo[I]}var z=new A(function($,te){function le(ke){I=2,$(ke)}function de(ke){I=3,te(ke)}v(le,de)});return an(z,"state",{get:F}),z}var Xs;function $a(v,E){return!Xs&&(Xs=fs(Gu)),Xs.v.call(this,v,E)}var bc=void 0,_n="",Qn="core",Va="disabled",Sc="extensionConfig",bs="processTelemetry",Dp="priority",ba="getPerfMgr",of="Not dynamic - ",Ii=/-([a-z])/g,Dd=/([^\w\d_$])/g,sa=/^(\d+[\w\d_$])/;function Ss(v){return!ut(v)}function Ds(v){var E=v;return E&&Au(E)&&(E=E[oa](Ii,function(A,I){return I.toUpperCase()}),E=E[oa](Dd,"_"),E=E[oa](sa,function(A,I){return"_"+I})),E}function Tp(v,E){return v&&E?hp(v,E)!==-1:!1}function il(v,E){var A=null,I=null;return Zt(v)?A=v:I=v,function(){var F=arguments;if(A&&(I=A()),I)return I[E][Lu](I,F)}}function Td(v,E,A,I,F){v&&E&&A&&(F!==!1||kt(v[E]))&&(v[E]=il(A,I))}function al(v,E,A,I){return v&&E&&to(v)&&It(A)&&Tr(A,function(F){Au(F)&&Td(v,F,E,F,I)}),v}function $o(v){return v&&Nu&&(v=h(Nu({},v))),v}function ua(v){try{return v.responseText}catch{}return null}function sf(v,E){return v?"XDomainRequest,Response:"+ua(v)||"":E}function mv(v,E){return v?"XMLHttpRequest,Status:"+v[Uo]+",Response:"+ua(v)||v.response||"":E}function Dc(v,E){return E&&(qt(E)?v=[E].concat(v):It(E)&&(v=E.concat(v))),v}var Tc="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Ts="withCredentials",ol="timeout";function fm(v,E,A,I,F,z){I===void 0&&(I=!1),F===void 0&&(F=!1);function $(le,de,ke){try{le[de]=ke}catch{}}var te=new XMLHttpRequest;return I&&$(te,Tc,I),A&&$(te,Ts,A),te.open(v,E,!F),A&&$(te,Ts,A),!F&&z&&$(te,ol,z),te}function Ap(v){var E={};if(Au(v)){var A=La(v)[Uu](/[\r\n]+/);Tr(A,function(I){if(I){var F=I.indexOf(": ");if(F!==-1){var z=La(I.substring(0,F))[Ea](),$=La(I.substring(F+1));E[z]=$}else E[La(I)]=1}})}return E}function sl(v,E,A){if(!v[A]&&E&&E[Hs]){var I=E[Hs](A);I&&(v[A]=La(I))}return v}var Ac="kill-duration",gh="kill-duration-seconds",gv="time-delta-millis";function Nc(v,E){var A={};return v[lo]?A=Ap(v[lo]()):E&&(A=sl(A,v,gv),A=sl(A,v,Ac),A=sl(A,v,gh)),A}var yv="location",ul="console",Np="JSON",ho="crypto",yh="msCrypto",lm="ReactNative",Ad="msie",_h="trident/",Cp="XMLHttpRequest",uf=null,Nd=null,Cc=!1,Qs=null,cf=null;function _v(v,E){var A=!1;if(v){try{if(A=E in v,!A){var I=v[f];I&&(A=E in I)}}catch{}if(!A)try{var F=new v;A=!kt(F[E])}catch{}}return A}function Ip(v){if(v&&Cc){var E=gn("__mockLocation");if(E)return E}return typeof location===a&&location?location:gn(yv)}function ff(){return typeof console!==s?console:gn(ul)}function xp(){return!!(typeof JSON===a&&JSON||gn(Np)!==null)}function eu(){return xp()?JSON||gn(Np):null}function Vr(){return gn(ho)}function Ic(){return gn(yh)}function hi(){var v=li();return v&&v.product?v.product===lm:!1}function Pp(){var v=li();if(v&&(v[qa]!==Nd||uf===null)){Nd=v[qa];var E=(Nd||_n)[Ea]();uf=Tp(E,Ad)||Tp(E,_h)}return uf}function Cd(v){return(cf===null||v===!1)&&(cf=kr()&&!!li().sendBeacon),cf}function lf(v){var E=!1;try{E=!!gn("fetch");var A=gn("Request");E&&v&&A&&(E=_v(A,"keepalive"))}catch{}return E}function xc(){return Qs===null&&(Qs=typeof XDomainRequest!==s,Qs&&ca()&&(Qs=Qs&&!_v(gn(Cp),"withCredentials"))),Qs}function ca(){var v=!1;try{var E=gn(Cp);v=!!E}catch{}return v}var Id=4294967296,ei=4294967295,wr=123456789,tu=987654321,An=!1,As=wr,Pc=tu;function Rc(v){v<0&&(v>>>=0),As=wr+v&ei,Pc=tu-v&ei,An=!0}function ru(){try{var v=Ma()&2147483647;Rc((Math.random()*Id^v)+v)}catch{}}function vo(v){var E=0,A=Vr()||Ic();return A&&A.getRandomValues&&(E=A.getRandomValues(new Uint32Array(1))[0]&ei),E===0&&Pp()&&(An||ru(),E=cl()&ei),E===0&&(E=Math.floor(Id*Math.random()|0)),v||(E>>>=0),E}function cl(v){Pc=36969*(Pc&65535)+(Pc>>16)&ei,As=18e3*(As&65535)+(As>>16)&ei;var E=(Pc<<16)+(As&65535)>>>0&ei|0;return v||(E>>>=0),E}function Eh(v){v===void 0&&(v=22);for(var E="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",A=vo()>>>0,I=0,F=_n;F[Xr]<v;)I++,F+=E.charAt(A&63),A>>>=6,I===5&&(A=(vo()<<2&4294967295|A&3)>>>0,I=0);return F}var fl="3.3.4",wh="."+Eh(6),ll=0;function df(v){return v[yn]===1||v[yn]===9||!+v[yn]}function Rp(v,E){var A=E[v.id];if(!A){A={};try{df(E)&&Tn(E,v.id,{e:!1,v:A})}catch{}}return A}function Kn(v,E){return E===void 0&&(E=!1),Ds(v+ll+++(E?"."+fl:_n)+wh)}function pf(v){var E={id:Kn("_aiData-"+(v||_n)+"."+fl),accept:function(A){return df(A)},get:function(A,I,F,z){var $=A[E.id];return $?$[Ds(I)]:(z&&($=Rp(E,A),$[Ds(I)]=F),F)},kill:function(A,I){if(A&&A[I])try{delete A[I]}catch{}}};return E}function vi(v){return v&&to(v)&&(v.isVal||v.fb||ci(v,"v")||ci(v,"mrg")||ci(v,"ref")||v.set)}function qu(v,E,A){var I,F=A.dfVal||lt;if(E&&A.fb){var z=A.fb;It(z)||(z=[z]);for(var $=0;$<z[Xr];$++){var te=z[$],le=E[te];if(F(le)?I=le:v&&(le=v.cfg[te],F(le)&&(I=le),v.set(v.cfg,Lr(te),le)),F(I))break}}return!F(I)&&F(A.v)&&(I=A.v),I}function kp(v,E,A){var I=A;if(A&&vi(A)&&(I=qu(v,E,A)),I){vi(I)&&(I=kp(v,E,I));var F;It(I)?(F=[],F[Xr]=I[Xr]):zs(I)&&(F={}),F&&(ln(I,function(z,$){$&&vi($)&&($=kp(v,E,$)),F[z]=$}),I=F)}return I}function xd(v,E,A,I){var F,z,$,te=I,le,de,ke,Ze;vi(te)?(F=te.isVal,z=te.set,ke=te[Vs],Ze=te[ms],le=te.mrg,de=te.ref,!de&&kt(de)&&(de=!!le),$=qu(v,E,te)):$=I,Ze&&v[ms](E,A);var He,Re=!0,_e=E[A];(_e||!ut(_e))&&(He=_e,Re=!1,F&&He!==$&&!F(He)&&(He=$,Re=!0),z&&(He=z(He,$,E),Re=He===$)),Re?$?He=kp(v,E,$):He=$:(zs(He)||It($))&&le&&$&&(zs($)||It($))&&ln($,function(We,Ce){xd(v,He,We,Ce)}),v.set(E,A,He),de&&v.ref(E,A),ke&&v[Vs](E,A)}var mi=lp("[[ai_dynCfg_1]]"),Pd=lp("[[ai_blkDynCfg_1]]"),Op=lp("[[ai_frcDynCfg_1]]");function nu(v){if(v){var E;if(It(v)?(E=[],E[Xr]=v[Xr]):zs(v)&&(E={}),E)return ln(v,function(A,I){E[A]=nu(I)}),E}return v}function xt(v){if(v){var E=v[mi]||v;if(E.cfg&&(E.cfg===v||E.cfg[mi]===E))return E}return null}function Ns(v){if(v&&(zs(v)||It(v)))try{v[Pd]=!0}catch{}return v}function Cs(v,E,A){var I=!1;return A&&!v[E.blkVal]&&(I=A[Op],!I&&!A[Pd]&&(I=zs(A)||It(A))),I}function Sa(v){Zr("InvalidAccess:"+v)}var dl=["push","pop","shift","unshift","splice"],hf=function(v,E,A,I){v&&v[rf](3,108,"".concat(A," [").concat(E,"] failed - ")+lr(I))};function Is(v,E,A){It(E)&&Tr(dl,function(I){var F=E[I];E[I]=function(){for(var z=[],$=0;$<arguments.length;$++)z[$]=arguments[$];var te=F[Lu](this,z);return pl(v,E,A,"Patching"),te}})}function Wa(v,E){var A=tn(v,E);return A&&A.get}function vf(v,E,A,I){var F={n:A,h:[],trk:function(de){de&&de.fn&&(hs(F.h,de)===-1&&F.h[aa](de),v.trk(de,F))},clr:function(de){var ke=hs(F.h,de);ke!==-1&&F.h[Ep](ke,1)}},z=!0,$=!1;function te(){z&&($=$||Cs(te,v,I),I&&!I[mi]&&$&&(I=pl(v,I,A,"Converting")),z=!1);var de=v.act;return de&&F.trk(de),I}te[v.prop]={chng:function(){v.add(F)}};function le(de){if(I!==de){te[v.ro]&&!v.upd&&Sa("["+A+"] is read-only:"+lr(E)),z&&($=$||Cs(te,v,I),z=!1);var ke=$&&te[v.rf];if($)if(ke){ln(I,function(He){I[He]=de?de[He]:bc});try{ln(de,function(He,Re){Rd(v,I,He,Re)}),de=I}catch(He){hf((v.hdlr||{})[ys],A,"Assigning",He),$=!1}}else I&&I[mi]&&ln(I,function(He){var Re=Wa(I,He);if(Re){var _e=Re[v.prop];_e&&_e.chng()}});if(de!==I){var Ze=de&&Cs(te,v,de);!ke&&Ze&&(de=pl(v,de,A,"Converting")),I=de,$=Ze}v.add(F)}}Tn(E,F.n,{g:te,s:le})}function Rd(v,E,A,I){if(E){var F=Wa(E,A),z=F&&!!F[v.prop];z?E[A]=I:vf(v,E,A,I)}return E}function iu(v,E,A,I){if(E){var F=Wa(E,A),z=F&&!!F[v.prop],$=I&&I[0],te=I&&I[1],le=I&&I[2];if(!z){if(le)try{Ns(E)}catch(de){hf((v.hdlr||{})[ys],A,"Blocking",de)}try{Rd(v,E,A,E[A]),F=Wa(E,A)}catch(de){hf((v.hdlr||{})[ys],A,"State",de)}}$&&(F[v.rf]=$),te&&(F[v.ro]=te),le&&(F[v.blkVal]=!0)}return E}function pl(v,E,A,I){try{ln(E,function(F,z){Rd(v,E,F,z)}),E[mi]||(an(E,mi,{get:function(){return v[hc]}}),Is(v,E,A))}catch(F){hf((v.hdlr||{})[ys],A,I,F)}return E}var mf="[[ai_",hl="]]";function Mp(v){var E,A=ra(mf+"get"+v.uid+hl),I=ra(mf+"ro"+v.uid+hl),F=ra(mf+"rf"+v.uid+hl),z=ra(mf+"blkVal"+v.uid+hl),$=ra(mf+"dtl"+v.uid+hl),te=null,le=null,de;function ke(_e,We){var Ce=de.act;try{de.act=_e,_e&&_e[$]&&(Tr(_e[$],function(Oe){Oe.clr(_e)}),_e[$]=[]),We({cfg:v.cfg,set:v.set.bind(v),setDf:v[gs].bind(v),ref:v.ref.bind(v),rdOnly:v[Vs].bind(v)})}catch(Oe){var rt=v[ys];throw rt&&rt[rf](1,107,lr(Oe)),Oe}finally{de.act=Ce||null}}function Ze(){if(te){var _e=te;te=null,le&&le[Gi](),le=null;var We=[];if(Tr(_e,function(Ce){if(Ce&&(Ce[$]&&(Tr(Ce[$],function(rt){rt.clr(Ce)}),Ce[$]=null),Ce.fn))try{ke(Ce,Ce.fn)}catch(rt){We[aa](rt)}}),te)try{Ze()}catch(Ce){We[aa](Ce)}We[Xr]>0&&Ci("Watcher error(s): ",We)}}function He(_e){if(_e&&_e.h[Xr]>0){te||(te=[]),le||(le=Ru(function(){le=null,Ze()},0));for(var We=0;We<_e.h[Xr];We++){var Ce=_e.h[We];Ce&&hs(te,Ce)===-1&&te[aa](Ce)}}}function Re(_e,We){if(_e){var Ce=_e[$]=_e[$]||[];hs(Ce,We)===-1&&Ce[aa](We)}}return de=(E={prop:A,ro:I,rf:F},E[ms]=z,E[hc]=v,E.add=He,E[co]=Ze,E.use=ke,E.trk=Re,E),de}function Lp(v,E){var A={fn:E,rm:function(){A.fn=null,v=null,E=null}};return Tn(A,"toJSON",{v:function(){return"WatcherHandler"+(A.fn?"":"[X]")}}),v.use(A,E),A}function bh(v,E,A){var I,F=xt(E);if(F)return F;var z=Kn("dyncfg",!0),$=E&&A!==!1?E:nu(E),te;function le(){te[co]()}function de(rt,Oe,Ie){try{rt=Rd(te,rt,Oe,Ie)}catch(Xe){hf(v,Oe,"Setting value",Xe)}return rt[Oe]}function ke(rt){return Lp(te,rt)}function Ze(rt,Oe){te.use(null,function(Ie){var Xe=te.upd;try{kt(Oe)||(te.upd=Oe),rt(Ie)}finally{te.upd=Xe}})}function He(rt,Oe){var Ie;return iu(te,rt,Oe,(Ie={},Ie[0]=!0,Ie))[Oe]}function Re(rt,Oe){var Ie;return iu(te,rt,Oe,(Ie={},Ie[1]=!0,Ie))[Oe]}function _e(rt,Oe){var Ie;return iu(te,rt,Oe,(Ie={},Ie[2]=!0,Ie))[Oe]}function We(rt,Oe){return Oe&&ln(Oe,function(Ie,Xe){xd(Ce,rt,Ie,Xe)}),rt}var Ce=(I={uid:null,cfg:$},I[ys]=v,I[co]=le,I.set=de,I[gs]=We,I[el]=ke,I.ref=He,I[Vs]=Re,I[ms]=_e,I._block=Ze,I);return Tn(Ce,"uid",{c:!1,e:!1,w:!1,v:z}),te=Mp(Ce),pl(te,$,"config","Creating"),Ce}function dm(v,E){v?(v[tf](E),v[rf](2,108,E)):Sa(E)}function xs(v,E,A,I){var F=bh(A,v||{},I);return E&&F[gs](F.cfg,E),F}function au(v,E,A){var I=v[mi]||v;return I.cfg&&(I.cfg===v||I.cfg[mi]===I)?I[el](E):(dm(A,of+lr(v)),xs(v,null,A)[el](E))}var Ps="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Ha=null;function ou(){var v=gn("Microsoft");return v&&(Ha=v.ApplicationInsights),Ha}function Yu(v){var E=Ha;return!E&&v.disableDbgExt!==!0&&(E=Ha||ou()),E?E.ChromeDbgExt:null}var Da,gf="warnToConsole",Ev="AI (Internal): ",kc="AI: ",Sh="AITR_",vl={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},yf=(Da={},Da[0]=null,Da[1]="errorToConsole",Da[2]=gf,Da[3]="debugToConsole",Da);function ml(v){return v?'"'+v[oa](/\"/g,_n)+'"':_n}function su(v,E){var A=ff();if(A){var I="log";A[v]&&(I=v),Zt(A[I])&&A[I](E)}}var Ka=function(){function v(E,A,I,F){I===void 0&&(I=!1);var z=this;z[Sp]=E,z[ja]=(I?kc:Ev)+E;var $=_n;xp()&&($=eu().stringify(F));var te=(A?" message:"+ml(A):_n)+(F?" props:"+ml($):_n);z[ja]+=te}return v.dataType="MessageData",v}();function _f(v,E){return(v||{})[ys]||new gl(E)}var gl=function(){function v(E){this.identifier="DiagnosticLogger",this.queue=[];var A=0,I={},F,z,$,te,le;uo(v,this,function(de){le=Ze(E||{}),de.consoleLoggingLevel=function(){return F},de[rf]=function(_e,We,Ce,rt,Oe){Oe===void 0&&(Oe=!1);var Ie=new Ka(We,Ce,Oe,rt);if(te)throw lr(Ie);var Xe=yf[_e]||gf;if(kt(Ie[ja]))Re("throw"+(_e===1?"Critical":"Warning"),Ie);else{if(Oe){var Jt=+Ie[Sp];!I[Jt]&&F>=_e&&(de[Xe](Ie[ja]),I[Jt]=!0)}else F>=_e&&de[Xe](Ie[ja]);ke(_e,Ie)}},de.debugToConsole=function(_e){su("debug",_e),Re("warning",_e)},de[tf]=function(_e){su("warn",_e),Re("warning",_e)},de.errorToConsole=function(_e){su("error",_e),Re("error",_e)},de.resetInternalMessageCount=function(){A=0,I={}},de[qr]=ke,de[Sn]=function(_e){le&&le.rm(),le=null};function ke(_e,We){if(!He()){var Ce=!0,rt=Sh+We[Sp];if(I[rt]?Ce=!1:I[rt]=!0,Ce&&(_e<=z&&(de.queue[aa](We),A++,Re(_e===1?"error":"warn",We)),A===$)){var Oe="Internal events throttle limit per PageView reached for this app.",Ie=new Ka(23,Oe,!1);de.queue[aa](Ie),_e===1?de.errorToConsole(Oe):de[tf](Oe)}}}function Ze(_e){return au(xs(_e,vl,de).cfg,function(We){var Ce=We.cfg;F=Ce[nl],z=Ce.loggingLevelTelemetry,$=Ce.maxMessageLimit,te=Ce.enableDebug})}function He(){return A>=$}function Re(_e,We){var Ce=Yu(E||{});Ce&&Ce[Ws]&&Ce[Ws](_e,We)}})}return v.__ieDyn=1,v}();function kd(v){return v||new gl}function gi(v,E,A,I,F,z){z===void 0&&(z=!1),kd(v)[rf](E,A,I,F,z)}function uu(v,E){kd(v)[tf](E)}var yi="ctx",Od="ParentContextKey",zu="ChildrenContextKey",Md=function(){function v(E,A,I){var F=this;if(F.start=Ma(),F[vv]=E,F[Fu]=I,F[Bu]=function(){return!1},Zt(A)){var z;Tn(F,"payload",{g:function(){return!z&&Zt(A)&&(z=A(),A=null),z}})}F[$r]=function($){return $?$===v[Od]||$===v[zu]?F[$]:(F[yi]||{})[$]:null},F[Bo]=function($,te){if($)if($===v[Od])F[$]||(F[Bu]=function(){return!0}),F[$]=te;else if($===v[zu])F[$]=te;else{var le=F[yi]=F[yi]||{};le[$]=te}},F[Yr]=function(){var $=0,te=F[$r](v[zu]);if(It(te))for(var le=0;le<te[Xr];le++){var de=te[le];de&&($+=de[vc])}F[vc]=Ma()-F.start,F.exTime=F[vc]-$,F[Yr]=function(){}}}return v.ParentContextKey="parent",v.ChildrenContextKey="childEvts",v}(),Yi="CoreUtils.doPerf";function _i(v,E,A,I,F){if(v){var z=v;if(z[ba]&&(z=z[ba]()),z){var $=void 0,te=z[$r](Yi);try{if($=z.create(E(),I,F),$){if(te&&$[Bo]&&($[Bo](Md[Od],te),te[$r]&&te[Bo])){var le=te[$r](Md[zu]);le||(le=[],te[Bo](Md[zu],le)),le[aa]($)}return z[Bo](Yi,$),A($)}}catch(de){$&&$[Bo]&&$[Bo]("exception",de)}finally{$&&z.fire($),z[Bo](Yi,te)}}}return A()}var Dh=pf("plugin");function yl(v){return Dh.get(v,"state",{},!0)}var _l="TelemetryPluginChain",$u="_hasRun",wv="_getTelCtx",bv=0;function El(v,E,A){for(;v;){if(v[bp]()===A)return v;v=v[_s]()}return bl([A],E.config||{},E)}function Th(v,E,A,I){var F=null,z=[];E||(E=xs({},null,A[ys])),I!==null&&(F=I?El(v,A,I):v);var $={_next:le,ctx:{core:function(){return A},diagLog:function(){return _f(A,E.cfg)},getCfg:function(){return E.cfg},getExtCfg:ke,getConfig:Ze,hasNext:function(){return!!F},getNext:function(){return F},setNext:function(Re){F=Re},iterate:He,onComplete:te}};function te(Re,_e){for(var We=[],Ce=2;Ce<arguments.length;Ce++)We[Ce-2]=arguments[Ce];Re&&z[aa]({func:Re,self:kt(_e)?$.ctx:_e,args:We})}function le(){var Re=F;if(F=Re?Re[_s]():null,!Re){var _e=z;_e&&_e[Xr]>0&&(Tr(_e,function(We){try{We.func.call(We.self,We.args)}catch(Ce){gi(A[ys],2,73,"Unexpected Exception during onComplete - "+lr(Ce))}}),z=[])}return Re}function de(Re,_e){var We=null,Ce=E.cfg;if(Ce&&Re){var rt=Ce[Sc];!rt&&_e&&(rt={}),Ce[Sc]=rt,rt=E.ref(Ce,Sc),rt&&(We=rt[Re],!We&&_e&&(We={}),rt[Re]=We,We=E.ref(rt,Re))}return We}function ke(Re,_e){var We=de(Re,!0);return _e&&ln(_e,function(Ce,rt){if(ut(We[Ce])){var Oe=E.cfg[Ce];(Oe||!ut(Oe))&&(We[Ce]=Oe)}xd(E,We,Ce,rt)}),E[gs](We,_e)}function Ze(Re,_e,We){We===void 0&&(We=!1);var Ce,rt=de(Re,!1),Oe=E.cfg;return rt&&(rt[_e]||!ut(rt[_e]))?Ce=rt[_e]:(Oe[_e]||!ut(Oe[_e]))&&(Ce=Oe[_e]),Ce||!ut(Ce)?Ce:We}function He(Re){for(var _e;_e=$._next();){var We=_e[bp]();We&&Re(We)}}return $}function wl(v,E,A,I){var F=xs(E),z=Th(v,F,A,I),$=z.ctx;function te(de){var ke=z._next();return ke&&ke[bs](de,$),!ke}function le(de,ke){return de===void 0&&(de=null),It(de)&&(de=bl(de,F.cfg,A,ke)),wl(de||$[_s](),F.cfg,A,ke)}return $[Lo]=te,$[mc]=le,$}function Ah(v,E,A){var I=xs(E.config),F=Th(v,I,E,A),z=F.ctx;function $(le){var de=F._next();return de&&de[Sn](z,le),!de}function te(le,de){return le===void 0&&(le=null),It(le)&&(le=bl(le,I.cfg,E,de)),Ah(le||z[_s](),E,de)}return z[Lo]=$,z[mc]=te,z}function Sv(v,E,A){var I=xs(E.config),F=Th(v,I,E,A),z=F.ctx;function $(le){return z.iterate(function(de){Zt(de[Fo])&&de[Fo](z,le)})}function te(le,de){return le===void 0&&(le=null),It(le)&&(le=bl(le,I.cfg,E,de)),Sv(le||z[_s](),E,de)}return z[Lo]=$,z[mc]=te,z}function bl(v,E,A,I){var F=null,z=!I;if(It(v)&&v[Xr]>0){var $=null;Tr(v,function(te){if(!z&&I===te&&(z=!0),z&&te&&Zt(te[bs])){var le=Dv(te,E,A);F||(F=le),$&&$._setNext(le),$=le}})}return I&&!F?bl([I],E,A):F}function Dv(v,E,A){var I=null,F=Zt(v[bs]),z=Zt(v[Ga]),$;v?$=v[wp]+"-"+v[Dp]+"-"+bv++:$="Unknown-0-"+bv++;var te={getPlugin:function(){return v},getNext:function(){return I},processTelemetry:ke,unload:Ze,update:He,_id:$,_setNext:function(Re){I=Re}};function le(){var Re;return v&&Zt(v[wv])&&(Re=v[wv]()),Re||(Re=wl(te,E,A)),Re}function de(Re,_e,We,Ce,rt){var Oe=!1,Ie=v?v[wp]:_l,Xe=Re[$u];return Xe||(Xe=Re[$u]={}),Re.setNext(I),v&&_i(Re[Qn](),function(){return Ie+":"+We},function(){Xe[$]=!0;try{var Jt=I?I._id:_n;Jt&&(Xe[Jt]=!1),Oe=_e(Re)}catch(pr){var rr=I?Xe[I._id]:!0;rr&&(Oe=!0),(!I||!rr)&&gi(Re[Ws](),1,73,"Plugin ["+Ie+"] failed during "+We+" - "+lr(pr)+", run flags: "+lr(Xe))}},Ce,rt),Oe}function ke(Re,_e){_e=_e||le();function We(Ce){if(!v||!F)return!1;var rt=yl(v);return rt[gc]||rt[Va]?!1:(z&&v[Ga](I),v[bs](Re,Ce),!0)}de(_e,We,"processTelemetry",function(){return{item:Re}},!Re.sync)||_e[Lo](Re)}function Ze(Re,_e){function We(){var Ce=!1;if(v){var rt=yl(v),Oe=v[Qn]||rt[Qn];v&&(!Oe||Oe===Re.core())&&!rt[gc]&&(rt[Qn]=null,rt[gc]=!0,rt[tl]=!1,v[gc]&&v[gc](Re,_e)===!0&&(Ce=!0))}return Ce}de(Re,We,"unload",function(){},_e[Fu])||Re[Lo](_e)}function He(Re,_e){function We(){var Ce=!1;if(v){var rt=yl(v),Oe=v[Qn]||rt[Qn];v&&(!Oe||Oe===Re.core())&&!rt[gc]&&v[Fo]&&v[Fo](Re,_e)===!0&&(Ce=!0)}return Ce}de(Re,We,"update",function(){},!1)||Re[Lo](_e)}return vr(te)}function Vu(){var v=[];function E(I){I&&v[aa](I)}function A(I,F){Tr(v,function(z){try{z(I,F)}catch($){gi(I[Ws](),2,73,"Unexpected error calling unload handler - "+lr($))}}),v=[]}return{add:E,run:A}}function Ef(){var v=[];function E(I){var F=v;v=[],Tr(F,function(z){try{(z.rm||z.remove).call(z)}catch($){gi(I,2,73,"Unloading:"+lr($))}})}function A(I){I&&dd(v,I)}return{run:E,add:A}}var Fp,Rs="getPlugin",Ld=(Fp={},Fp[Sc]={isVal:Ss,v:{}},Fp),Sl=function(){function v(){var E=this,A,I,F,z,$;de(),uo(v,E,function(ke){ke[_d]=function(Ze,He,Re,_e){le(Ze,He,_e),A=!0},ke[gc]=function(Ze,He){var Re,_e=ke[Qn];if(!_e||Ze&&_e!==Ze[Qn]())return;var We,Ce=!1,rt=Ze||Ah(null,_e,F&&F[Rs]?F[Rs]():F),Oe=He||(Re={reason:0},Re[Fu]=!1,Re);function Ie(){Ce||(Ce=!0,z.run(rt,He),$.run(rt[Ws]()),We===!0&&rt[Lo](Oe),de())}return!ke[mr]||ke[mr](rt,Oe,Ie)!==!0?Ie():We=!0,We},ke[Fo]=function(Ze,He){var Re=ke[Qn];if(!Re||Ze&&Re!==Ze[Qn]())return;var _e,We=!1,Ce=Ze||Sv(null,Re,F&&F[Rs]?F[Rs]():F),rt=He||{reason:0};function Oe(){We||(We=!0,le(Ce.getCfg(),Ce.core(),Ce[_s]()))}return!ke._doUpdate||ke._doUpdate(Ce,rt,Oe)!==!0?Oe():_e=!0,_e},Td(ke,"_addUnloadCb",function(){return z},"add"),Td(ke,"_addHook",function(){return $},"add"),Tn(ke,"_unloadHooks",{g:function(){return $}})}),E[Ws]=function(ke){return te(ke)[Ws]()},E[tl]=function(){return A},E.setInitialized=function(ke){A=ke},E[Ga]=function(ke){F=ke},E[Lo]=function(ke,Ze){Ze?Ze[Lo](ke):F&&Zt(F[bs])&&F[bs](ke,null)},E._getTelCtx=te;function te(ke){ke===void 0&&(ke=null);var Ze=ke;if(!Ze){var He=I||wl(null,{},E[Qn]);F&&F[Rs]?Ze=He[mc](null,F[Rs]):Ze=He[mc](null,F)}return Ze}function le(ke,Ze,He){xs(ke,Ld,_f(Ze)),!He&&Ze&&(He=Ze[fo]()[_s]());var Re=F;F&&F[Rs]&&(Re=F[Rs]()),E[Qn]=Ze,I=wl(He,ke,Ze,Re)}function de(){A=!1,E[Qn]=null,I=null,F=null,$=Ef(),z=Vu()}}return v.__ieDyn=1,v}(),Vo="",wf="NoResponseBody",Tv="&"+wf+"=true",bf="POST",pm=function(){function v(){var E=0,A,I,F,z,$,te,le,de,ke,Ze,He,Re,_e,We;uo(v,this,function(Ce,rt){var Oe=!0;ni(),Ce[_d]=function(at,yt){F=yt,I&&gi(F,1,28,"Sender is already initialized"),Ce.SetConfig(at),I=!0},Ce._getDbgPlgTargets=function(){return[I,z,te,A]},Ce.SetConfig=function(at){try{if($=at.senderOnCompleteCallBack||{},te=!!at.disableCredentials,le=at.fetchCredentials,z=!!at.isOneDs,A=!!at.enableSendPromise,ke=!!at.disableXhr,Ze=!!at.disableBeacon,He=!!at.disableBeaconSync,We=at.timeWrapper,_e=!!at.addNoResponse,Re=!!at.disableFetchKeepAlive,de={sendPOST:En},z||(Oe=!1),te){var yt=Ip();yt&&yt.protocol&&yt.protocol[Ea]()==="file:"&&(Oe=!1)}return!0}catch{}return!1},Ce.getSyncFetchPayload=function(){return E},Ce.getSenderInst=function(at,yt){return at&&at[Xr]?rr(at,yt):null},Ce.getFallbackInst=function(){return de},Ce[mr]=function(at,yt){ni()};function Ie(at,yt){pr(yt,200,{},at)}function Xe(at,yt){gi(F,2,26,"Failed to send telemetry.",{message:at}),pr(yt,400,{})}function Jt(at){Xe("No endpoint url is provided for the batch",at)}function rr(at,yt){for(var Cr,gr=0,Rt=null,Fr=0;Rt==null&&Fr<at[Xr];)gr=at[Fr],!ke&&gr===1?xc()?Rt=nr:ca()&&(Rt=En):gr===2&&lf(yt)&&(!yt||!Re)?Rt=hn:gr===3&&Cd()&&(yt?!He:!Ze)&&(Rt=zr),Fr++;return Rt?(Cr={_transport:gr,_isSync:yt},Cr[wd]=Rt,Cr):null}function pr(at,yt,Cr,gr){try{at&&at(yt,Cr,gr)}catch{}}function Or(at,yt){var Cr=li(),gr=at[jo];if(!gr)return Jt(yt),!0;gr=at[jo]+(_e?Tv:Vo);var Rt=at[Ya],Fr=z?Rt:new Blob([Rt],{type:"text/plain;charset=UTF-8"}),Ot=Cr.sendBeacon(gr,Fr);return Ot}function zr(at,yt,Cr){var gr=at[Ya];try{if(gr)if(Or(at,yt))Ie(Vo,yt);else{var Rt=$&&$.beaconOnRetry;Rt&&Zt(Rt)?Rt(at,yt,Or):(de&&de[wd](at,yt,!0),gi(F,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(Fr){z&&uu(F,"Failed to send telemetry using sendBeacon API. Ex:"+lr(Fr)),pr(yt,z?0:400,{},Vo)}}function En(at,yt,Cr){var gr,Rt,Fr,Ot=at[Go]||{};!Cr&&A&&(gr=$a(function(Pn,Ca){Rt=Pn,Fr=Ca})),z&&Cr&&at.disableXhrSync&&(Cr=!1);var Vi=at[jo];if(!Vi){Jt(yt),Rt&&Rt(!1);return}var ht=fm(bf,Vi,Oe,!0,Cr,at[Ln]);z||ht[po]("Content-type","application/json"),Tr(on(Ot),function(Pn){ht[po](Pn,Ot[Pn])}),ht.onreadystatechange=function(){z||(xn(ht),ht.readyState===4&&Rt&&Rt(!0))},ht.onload=function(){z&&xn(ht)};function xn(Pn){var Ca=$&&$.xhrOnComplete,jc=Ca&&Zt(Ca);if(jc)Ca(Pn,yt,at);else{var Ja=ua(Pn);pr(yt,Pn[Uo],Nc(Pn,z),Ja)}}return ht.onerror=function(Pn){pr(yt,z?ht[Uo]:400,Nc(ht,z),z?Vo:mv(ht)),Fr&&Fr(Pn)},ht.ontimeout=function(){pr(yt,z?ht[Uo]:500,Nc(ht,z),z?Vo:mv(ht)),Rt&&Rt(!1)},ht.send(at[Ya]),gr}function hn(at,yt,Cr){var gr,Rt=at[jo],Fr=at[Ya],Ot=z?Fr:new Blob([Fr],{type:"application/json"}),Vi,ht,xn,Pn=new Headers,Ca=Fr[Xr],jc=!1,Ja=!1,$l=at[Go]||{},Bs=(gr={method:bf,body:Ot},gr[Ps]=!0,gr);at.headers&&on(at.headers)[Xr]>0&&(Tr(on($l),function(sn){Pn.append(sn,$l[sn])}),Bs[Go]=Pn),le?Bs.credentials=le:Oe&&z&&(Bs.credentials="include"),Cr&&(Bs.keepalive=!0,E+=Ca,z?at._sendReason===2&&(jc=!0,_e&&(Rt+=Tv)):jc=!0);var Xo=new Request(Rt,Bs);try{Xo[Ps]=!0}catch{}if(!Cr&&A&&(Vi=$a(function(sn,ai){ht=sn,xn=ai})),!Rt){Jt(yt),ht&&ht(!1);return}function gu(sn){pr(yt,z?0:400,{},z?Vo:sn)}function ii(sn,ai,Wi){var yu=sn[Uo],Gc=$.fetchOnComplete;Gc&&Zt(Gc)?Gc(sn,yt,Wi||Vo,ai):pr(yt,yu,{},Wi||Vo)}try{_c(fetch(z?Rt:Xo,z?Bs:null),function(sn){if(Cr&&(E-=Ca,Ca=0),!Ja)if(Ja=!0,sn.rejected)gu(sn.reason&&sn.reason[ja]),xn&&xn(sn.reason);else{var ai=sn[rl];try{!z&&!ai.ok?(gu(ai.statusText),ht&&ht(!1)):z&&!ai.body?(ii(ai,null,Vo),ht&&ht(!0)):_c(ai.text(),function(Wi){ii(ai,at,Wi[rl]),ht&&ht(!0)})}catch(Wi){gu(lr(Wi)),xn&&xn(Wi)}}})}catch(sn){Ja||(gu(lr(sn)),xn&&xn(sn))}return jc&&!Ja&&(Ja=!0,pr(yt,200,{}),ht&&ht(!0)),z&&!Ja&&at[Ln]>0&&We&&We.set(function(){Ja||(Ja=!0,pr(yt,500,{}),ht&&ht(!0))},at[Ln]),Vi}function nr(at,yt,Cr){var gr=ha(),Rt=new XDomainRequest,Fr=at[Ya];Rt.onload=function(){var Pn=ua(Rt),Ca=$&&$.xdrOnComplete;Ca&&Zt(Ca)?Ca(Rt,yt,at):pr(yt,200,{},Pn)},Rt.onerror=function(){pr(yt,400,{},z?Vo:sf(Rt))},Rt.ontimeout=function(){pr(yt,500,{})},Rt.onprogress=function(){};var Ot=gr&&gr.location&&gr.location[Ed]||"",Vi=at[jo];if(!Vi){Jt(yt);return}if(!z&&Vi.lastIndexOf(Ot,0)!==0){var ht="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";gi(F,2,40,". "+ht),Xe(ht,yt);return}var xn=z?Vi:Vi[oa](/^(https?:)/,"");Rt.open(bf,xn),at[Ln]&&(Rt[Ln]=at[Ln]),Rt.send(Fr),z&&Cr?We&&We.set(function(){Rt.send(Fr)},0):Rt.send(Fr)}function ni(){E=0,I=!1,A=!1,F=null,z=null,$=null,te=null,le=null,de=null,ke=!1,Ze=!1,He=!1,Re=!1,_e=!1,We=null}})}return v.__ieDyn=1,v}(),Dl="on",Av="attachEvent",Nh="addEventListener",Wu="detachEvent",Hu="removeEventListener",Sf="events",ks="visibilitychange",cu="pagehide",Tl="pageshow",Fd="unload",Ud="beforeunload",Al=Kn("aiEvtPageHide"),Ta=Kn("aiEvtPageShow"),Nl=/\.[\.]+/g,Nv=/[\.]+$/,hm=1,Df=pf("events"),vm=/^([^.]*)(?:\.(.+)|)/;function Wo(v){return v&&v[oa]?v[oa](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,_n):v}function Ku(v,E){var A;if(E){var I=_n;It(E)?(I=_n,Tr(E,function(z){z=Wo(z),z&&(z[0]!=="."&&(z="."+z),I+=z)})):I=Wo(E),I&&(I[0]!=="."&&(I="."+I),v=(v||_n)+I)}var F=vm.exec(v||_n)||[];return A={},A[Et]=F[1],A.ns=(F[2]||_n).replace(Nl,".").replace(Nv,_n)[Uu](".").sort().join("."),A}function Tf(v,E,A){A===void 0&&(A=!0);var I=Df.get(v,Sf,{},A),F=I[E];return F||(F=I[E]=[]),F}function Cv(v,E,A,I){v&&E&&E[Et]&&(v[Hu]?v[Hu](E[Et],A,I):v[Wu]&&v[Wu](Dl+E[Et],A))}function Up(v,E,A,I){var F=!1;return v&&E&&E[Et]&&A&&(v[Nh]?(v[Nh](E[Et],A,I),F=!0):v[Av]&&(v[Av](Dl+E[Et],A),F=!0)),F}function Iv(v,E,A,I){for(var F=E[Xr];F--;){var z=E[F];z&&(!A.ns||A.ns===z.evtName.ns)&&(!I||I(z))&&(Cv(v,z.evtName,z[yc],z.capture),E[Ep](F,1))}}function Ch(v,E,A){if(E[Et])Iv(v,Tf(v,E[Et]),E,A);else{var I=Df.get(v,Sf,{});ln(I,function(F,z){Iv(v,z,E,A)}),on(I)[Xr]===0&&Df.kill(v,Sf)}}function Bd(v,E){var A;return E?(It(E)?A=[v].concat(E):A=[v,E],A=Ku("xx",A).ns[Uu](".")):A=v,A}function Af(v,E,A,I,F){var z;F===void 0&&(F=!1);var $=!1;if(v)try{var te=Ku(E,I);if($=Up(v,te,A,F),$&&Df.accept(v)){var le=(z={guid:hm++,evtName:te},z[yc]=A,z.capture=F,z);Tf(v,te.type)[aa](le)}}catch{}return $}function mo(v,E,A,I,F){if(F===void 0&&(F=!1),v)try{var z=Ku(E,I),$=!1;Ch(v,z,function(te){return z.ns&&!A||te[yc]===A?($=!0,!0):!1}),$||Cv(v,z,A,F)}catch{}}function jd(v,E,A){var I=!1,F=ha();F&&(I=Af(F,v,E,A),I=Af(F.body,v,E,A)||I);var z=Bn();return z&&(I=Af(z,v,E,A)||I),I}function Nf(v,E,A){var I=ha();I&&(mo(I,v,E,A),mo(I.body,v,E,A));var F=Bn();F&&mo(F,v,E,A)}function zi(v,E,A,I){var F=!1;return E&&v&&v[Xr]>0&&Tr(v,function(z){z&&(!A||hs(A,z)===-1)&&(F=jd(z,E,I)||F)}),F}function go(v,E,A,I){var F=!1;return E&&v&&It(v)&&(F=zi(v,E,A,I),!F&&A&&A[Xr]>0&&(F=zi(v,E,null,I))),F}function Cl(v,E,A){v&&It(v)&&Tr(v,function(I){I&&Nf(I,E,A)})}function xv(v,E,A){return go([Ud,Fd,cu],v,E,A)}function Pv(v,E){Cl([Ud,Fd,cu],v,E)}function Ei(v,E,A){function I($){var te=Bn();v&&te&&te.visibilityState==="hidden"&&v($)}var F=Bd(Al,A),z=zi([cu],v,E,F);return(!E||hs(E,ks)===-1)&&(z=zi([ks],I,E,F)||z),!z&&E&&(z=Ei(v,null,A)),z}function Cf(v,E){var A=Bd(Al,E);Cl([cu],v,A),Cl([ks],null,A)}function Il(v,E,A){function I($){var te=Bn();v&&te&&te.visibilityState==="visible"&&v($)}var F=Bd(Ta,A),z=zi([Tl],v,E,F);return z=zi([ks],I,E,F)||z,!z&&E&&(z=Il(v,null,A)),z}function mm(v,E){var A=Bd(Ta,E);Cl([Tl],v,A),Cl([ks],null,A)}var Rv="",xl="timings",$i="value",Bp="kind",Oc="length",If="processTelemetryStart",fu,Pl="4.3.4",jp="1DS-Web-JS-"+Pl,Ct=y.hasOwnProperty,Ju=(fu={},fu[0]=0,fu[2]=6,fu[1]=1,fu[3]=7,fu[4098]=6,fu[4097]=1,fu[4099]=7,fu);function Ho(v){return!(v===Rv||ut(v))}function Rl(v){if(v){var E=hp(v,"-");if(E>-1)return Ti(v,E)}return Rv}function gm(v,E,A){if(!E&&!Ho(E)||typeof v!="string")return null;var I=typeof E;if(I==="string"||I==="number"||I==="boolean"||It(E))E={value:E};else if(I==="object"&&!Ct.call(E,"value"))E={value:A?JSON.stringify(E):E};else if(ut(E[$i])||E[$i]===Rv||!Au(E[$i])&&!qt(E[$i])&&!fn(E[$i])&&!It(E[$i]))return null;if(It(E[$i])&&!qp(E[$i]))return null;if(!ut(E[Bp])){if(It(E[$i])||!kv(E[Bp]))return null;E[$i]=E[$i].toString()}return E}function kl(v,E,A){var I=-1;if(!kt(v))if(E>0&&(E===32?I=8192:E<=13&&(I=E<<5)),Gp(A))I===-1&&(I=0),I|=A;else{var F=Ju[Mc(v)]||-1;I!==-1&&F!==-1?I|=F:F===6&&(I=F)}return I}function Gd(v,E,A,I,F){var z={},$=!1,te=0,le=arguments[Oc],de=arguments;for(fn(de[0])&&($=de[0],te++);te<le;te++){var v=de[te];ln(v,function(Ze,He){$&&He&&to(He)?It(He)?(z[Ze]=z[Ze]||[],Tr(He,function(Re,_e){Re&&to(Re)?z[Ze][_e]=Gd(!0,z[Ze][_e],Re):z[Ze][_e]=Re})):z[Ze]=Gd(!0,z[Ze],He):z[Ze]=He})}return z}var Ko=pp;function kv(v){return v===0||v>0&&v<=13||v===32}function Gp(v){return v>=0&&v<=9}function qp(v){return v[Oc]>0}function Ol(v,E){var A=v;A[xl]=A[xl]||{},A[xl][If]=A[xl][If]||{},A[xl][If][E]=Ko()}function Mc(v){var E=0;if(v!=null){var A=typeof v;A==="string"?E=1:A==="number"?E=2:A==="boolean"?E=3:A===a&&(E=4,It(v)?(E=4096,v[Oc]>0&&(E|=Mc(v[0]))):Ct.call(v,"value")&&(E=8192|Mc(v[$i])))}return E}function Ih(){return!!gn("chrome")}function Kr(v){return v>0}var lu="",xh="drop",Zu="send",yo="requeue",Gn="rspFail",qd="oth",Lc="no-cache, no-store",xf="application/x-json-stream",Os="cache-control",_o="content-type",Jo="kill-tokens",Yd="kill-duration",Yp="time-delta-millis",Ph="client-version",Ms="client-id",Rh="time-delta-to-apply-millis",zd="upload-time",kh="apikey",Ls="AuthMsaDeviceTicket",ym="WebAuthToken",Xu="AuthXToken",Oh="NoResponseBody",p="msfpc",_="trace",b="user",C="allowRequestSending",j="firstRequestSent",Z="shouldAddClockSkewHeaders",re="getClockSkewHeaderValue",se="setClockSkew",oe="length",be="concat",ct="iKey",Pt="count",tr="events",dt="push",gt="split",dr="splice",zt="toLowerCase",Nr="hdrs",xr="useHdrs",Ut="initialize",In="setTimeoutOverride",Fc="clearTimeoutOverride",du="payloadPreprocessor",Pf="overrideEndpointUrl",Ml="avoidOptions",$d="disableEventTimings",Ll="stringifyObjects",Fl="enableCompoundKey",Vd="disableXhrSync",Ul="disableFetchKeepAlive",Be="addNoResponse",wt="excludeCsMetaData",Kt="useSendBeacon",pn="fetchCredentials",xi="alwaysUseXhrOverride",Pi="unloadTransports",ti="serializeOfflineEvt",Aa="getOfflineRequestDetails",Fs="createPayload",Rf="createOneDSPayload",Ov="payloadBlob",Qu="headers",Wd="_thePayload",_m="urlString",ri="batches",Us="sendType",Mv="addHeader",Em="canSendRequest",Mh="sendQueuedRequests",wm="isCompletelyIdle",bm="setUnloading",Bg="isTenantKilled",Sm="resume",Dm="sendSynchronousBatch",kf="_transport",Bl="getWParam",pu="isBeacon",Of="timings",Tm="isTeardown",Lv="isSync",Lh="data",Fh="timeout",Hd="_sendReason",eg="setKillSwitchTenants",Am="_backOffTransmission",zp="identifier",Mf="disableOptimizeObj",Ly="ignoreMc1Ms0CookieProcessing",tg="eventsLimitInMem",jg="autoFlushEventsLimit",Nm="disableAutoBatchFlushLimit",Fy="overrideInstrumentationKey",jl="disableTelemetry",Uh="baseData",Fv="sendAttempt",Gl="latency",Bh="sync";function rg(v){var E=(v.ext||{}).intweb;return E&&Ho(E[p])?E[p]:null}function Gg(v){for(var E=null,A=0;E===null&&A<v[oe];A++)E=rg(v[A]);return E}var Kd=function(){function v(E,A){var I=A?[][be](A):[],F=this,z=Gg(I);F[ct]=function(){return E},F.Msfpc=function(){return z||lu},F[Pt]=function(){return I[oe]},F[tr]=function(){return I},F.addEvent=function($){return $?(I[dt]($),z||(z=rg($)),!0):!1},F[gt]=function($,te){var le;if($<I[oe]){var de=I[oe]-$;ut(te)||(de=te<de?te:de),le=I[dr]($,de),z=Gg(I)}return new v(E,le)}}return v.create=function(E,A){return new v(E,A)},v}(),qg=function(){function v(){var E=!0,A=!0,I=!0,F="use-collector-delta",z=!1;uo(v,this,function($){$[C]=function(){return E},$[j]=function(){I&&(I=!1,z||(E=!1))},$[Z]=function(){return A},$[re]=function(){return F},$[se]=function(te){z||(te?(F=te,A=!0,z=!0):A=!1,E=!0)}})}return v.__ieDyn=1,v}(),Uy=1e3,ng=function(){function v(){var E={};function A(I){var F=[];return I&&Tr(I,function(z){F[dt](La(z))}),F}uo(v,this,function(I){I[eg]=function(F,z){if(F&&z)try{var $=A(F[gt](","));if(z==="this-request-only")return $;for(var te=parseInt(z,10)*Uy,le=0;le<$[oe];++le)E[$[le]]=Ma()+te}catch{return[]}return[]},I[Bg]=function(F){var z=E,$=La(F);return z[$]!==void 0&&z[$]>Ma()?!0:(delete z[$],!1)}})}return v.__ieDyn=1,v}(),Uv=.8,ig=1.2,Cm=3e3,jh=6e5;function Jd(v){return!(v>=300&&v<500&&v!=429||v==501||v==505)}function ag(v){var E=0,A=Cm*Uv,I=Cm*ig,F=Math.floor(Math.random()*(I-A))+A;return E=Math.pow(2,v)*F,Math.min(E,jh)}var Bv=20,Qr=3984588,hu=65e3,Zd=2e6,$p=Math.min(Zd,hu),Gh="metadata",jv="f",ql=/\./,Xd=function(){function v(E,A,I,F,z,$){var te="data",le="baseData",de="ext",ke=!!F,Ze=!0,He=A,Re={},_e=!!$,We=z||kl;uo(v,this,function(Ce){Ce.createPayload=function(Ie,Xe,Jt,rr,pr,Or){return{apiKeys:[],payloadBlob:lu,overflow:null,sizeExceed:[],failedEvts:[],batches:[],numEvents:0,retryCnt:Ie,isTeardown:Xe,isSync:Jt,isBeacon:rr,sendType:Or,sendReason:pr}},Ce.appendPayload=function(Ie,Xe,Jt){var rr=Ie&&Xe&&!Ie.overflow;return rr&&_i(E,function(){return"Serializer:appendPayload"},function(){for(var pr=Xe.events(),Or=Ie.payloadBlob,zr=Ie.numEvents,En=!1,hn=[],nr=[],ni=Ie.isBeacon,at=ni?hu:Qr,yt=ni?$p:Zd,Cr=0,gr=0;Cr<pr.length;){var Rt=pr[Cr];if(Rt){if(zr>=Jt){Ie.overflow=Xe.split(Cr);break}var Fr=Ce.getEventBlob(Rt);if(Fr&&Fr.length<=yt){var Ot=Fr.length,Vi=Or.length;if(Vi+Ot>at){Ie.overflow=Xe.split(Cr);break}Or&&(Or+=`
`),Or+=Fr,gr++,gr>Bv&&(xo(Or,0,1),gr=0),En=!0,zr++}else Fr?hn.push(Rt):nr.push(Rt),pr.splice(Cr,1),Cr--}Cr++}if(hn.length>0&&Ie.sizeExceed.push(Kd.create(Xe.iKey(),hn)),nr.length>0&&Ie.failedEvts.push(Kd.create(Xe.iKey(),nr)),En){Ie.batches.push(Xe),Ie.payloadBlob=Or,Ie.numEvents=zr;var ht=Xe.iKey();hs(Ie.apiKeys,ht)===-1&&Ie.apiKeys.push(ht)}},function(){return{payload:Ie,theBatch:{iKey:Xe.iKey(),evts:Xe.events()},max:Jt}}),rr},Ce.getEventBlob=function(Ie){try{return _i(E,function(){return"Serializer.getEventBlob"},function(){var Xe={};Xe.name=Ie.name,Xe.time=Ie.time,Xe.ver=Ie.ver,Xe.iKey="o:"+Rl(Ie.iKey);var Jt={},rr;_e||(rr=function(En,hn,nr){Yg(We,Jt,En,hn,nr)});var pr=Ie[de];pr&&(Xe[de]=Jt,ln(pr,function(En,hn){var nr=Jt[En]={};Oe(hn,nr,"ext."+En,!0,null,null,!0)}));var Or=Xe[te]={};Or.baseType=Ie.baseType;var zr=Or[le]={};return Oe(Ie.baseData,zr,le,!1,[le],rr,Ze),Oe(Ie.data,Or,te,!1,[],rr,Ze),JSON.stringify(Xe)},function(){return{item:Ie}})}catch{return null}};function rt(Ie,Xe){var Jt=Re[Ie];return Jt===void 0&&(Ie.length>=7&&(Jt=Xn(Ie,"ext.metadata")||Xn(Ie,"ext.web")),Re[Ie]=Jt),Jt}function Oe(Ie,Xe,Jt,rr,pr,Or,zr){ln(Ie,function(En,hn){var nr=null;if(hn||Ho(hn)){var ni=Jt,at=En,yt=pr,Cr=Xe;if(ke&&!rr&&ql.test(En)){var gr=En.split("."),Rt=gr.length;if(Rt>1){yt&&(yt=yt.slice());for(var Fr=0;Fr<Rt-1;Fr++){var Ot=gr[Fr];Cr=Cr[Ot]=Cr[Ot]||{},ni+="."+Ot,yt&&yt.push(Ot)}at=gr[Rt-1]}}var Vi=rr&&rt(ni);if(!Vi&&He&&He.handleField(ni,at)?nr=He.value(ni,at,hn,I):nr=gm(at,hn,I),nr){var ht=nr.value;if(Cr[at]=ht,Or&&Or(yt,at,nr),zr&&typeof ht=="object"&&!It(ht)){var xn=yt;xn&&(xn=xn.slice(),xn.push(at)),Oe(hn,ht,ni+"."+at,rr,xn,Or,zr)}}}})}})}return v.__ieDyn=1,v}();function Yg(v,E,A,I,F){if(F&&E){var z=v(F.value,F.kind,F.propertyType);if(z>-1){var $=E[Gh];$||($=E[Gh]={f:{}});var te=$[jv];if(te||(te=$[jv]={}),A)for(var le=0;le<A.length;le++){var de=A[le];te[de]||(te[de]={f:{}});var ke=te[de][jv];ke||(ke=te[de][jv]={}),te=ke}te=te[I]={},It(F.value)?te.a={t:z}:te.t=z}}}function Vp(v,E){return{set:function(A,I){for(var F=[],z=2;z<arguments.length;z++)F[z-2]=arguments[z];return ph([v,E],A,I,F)}}}var Lf,Uc="sendAttempt",Zo="&"+Oh+"=true",vu="?cors=true&"+_o[zt]()+"="+xf,Ff=(Lf={},Lf[1]=yo,Lf[100]=yo,Lf[200]="sent",Lf[8004]=xh,Lf[8003]=xh,Lf),Yl={},ec={};function tc(v,E,A){Yl[v]=E,A!==!1&&(ec[E]=v)}tc(Ls,Ls,!1),tc(Ph,Ph),tc(Ms,"Client-Id"),tc(kh,kh),tc(Rh,Rh),tc(zd,zd),tc(Xu,Xu);function Wp(v,E){var A=!1;if(v&&E){var I=on(v);if(I&&I[oe]>0)for(var F=E[zt](),z=0;z<I[oe];z++){var $=I[z];if($&&Dr(E,$)&&$[zt]()===F){A=!0;break}}}return A}function Qd(v,E,A,I){E&&A&&A[oe]>0&&(I&&Yl[E]?(v[Nr][Yl[E]]=A,v[xr]=!0):v.url+="&"+E+"="+A)}function zg(v,E,A){for(var I=0;I<v[oe];I++)if(v[I].name===E){v[I].value=A;return}v[dt]({name:E,value:A})}function qh(v,E){for(var A=0;A<v[oe];A++)if(v[A].name===E){v[dr](A,1);return}}var Bc=function(){function v(E,A,I,F){var z,$,te,le,de=!1,ke,Ze,He,Re,_e,We,Ce,rt,Oe,Ie,Xe,Jt,rr,pr,Or,zr,En,hn,nr,ni,at,yt,Cr,gr,Rt,Fr,Ot,Vi;uo(v,this,function(ht){Ja();var xn=!0;ht[Ut]=function(o,l,m){gr||(_e=l,Jt=l.getCookieMgr(),Ze=m,He=Ze.diagLog(),dd(ni,au(o,function(w){var T,P=w.cfg,O=w.cfg.extensionConfig[m.identifier];Rt=Vp(O[In],O[Fc]),Ho(P.anonCookieName)?zg(Ce,"anoncknm",P.anonCookieName):qh(Ce,"anoncknm"),at=O[du],yt=O.payloadListener;var R=O.httpXHROverride,U=O[Pf]?O[Pf]:P.endpointUrl;z=U+vu,pr=kt(O[Ml])?!0:!O[Ml],Xe=!O[$d];var G=O.valueSanitizer,K=O[Ll],J=!!P[Fl];kt(O[Fl])||(J=!!O[Fl]),Or=O.xhrTimeout,zr=!!O[Vd],En=!!O[Ul],nr=O[Be]!==!1,Fr=!!O[wt],l.getPlugin("LocalStorage")&&(En=!0),de=!hi(),Ie=new Xd(_e,G,K,J,kl,Fr),ut(O[Kt])||(de=!!O[Kt]),O[pn]&&(Vi=O[pn]);var Q=Ca();Ot?Ot.SetConfig(Q):(Ot=new pm,Ot[Ut](Q,He));var ae=R,ne=O[xi]?R:null,we=O[xi]?R:null,Se=[3,2];if(!R){We=!1;var $e=[];hi()?($e=[2,1],Se=[2,1,3]):$e=[1,2,3],$e=Dc($e,O.transports),R=Pn($e,!1),R||uu(He,"No available transport to send events"),ae=Pn($e,!0)}ne||(Se=Dc(Se,O[Pi]),ne=Pn(Se,!0)),hn=!We&&(de&&Cd()||!En&&lf(!0)),Re=(T={},T[0]=R,T[1]=ae||Pn([1,2,3],!0),T[2]=ne||ae||Pn([1],!0),T[3]=we||Pn([2,3],!0)||ae||Pn([1],!0),T)})),gr=!0)},ht.addResponseHandler=function(o){return Cr[dt](o),{rm:function(){var l=Cr.indexOf(o);l>=0&&Cr[dr](l,1)}}},ht[ti]=function(o){try{if(Ie)return Ie.getEventBlob(o)}catch{}return lu},ht[Aa]=function(){try{var o=Ie&&Ie[Fs](0,!1,!1,!1,1,0);return Vl(o,pr)}catch{}return null},ht[Rf]=function(o,l){try{var m=[];Tr(o,function(R){l&&(R=$o(R));var U=Kd.create(R[ct],[R]);m[dt](U)});for(var w=null;m[oe]>0&&Ie;){var T=m.shift();T&&T[Pt]()>0&&(w=w||Ie[Fs](0,!1,!1,!1,1,0),Ie.appendPayload(w,T,E))}var P=Vl(w,pr),O={data:w[Ov],urlString:P.url,headers:P[Nr],timeout:Or,disableXhrSync:zr,disableFetchKeepAlive:En};return pr&&(Wp(O[Qu],Os)||(O[Qu][Os]=Lc),Wp(O[Qu],_o)||(O[Qu][_o]=xf)),O}catch{}return null};function Pn(o,l){try{return Ot&&Ot.getSenderInst(o,l)}catch{}return null}ht._getDbgPlgTargets=function(){return[Re[0],$,Ie,Re,Ca(),z]};function Ca(){try{var o={xdrOnComplete:jc,fetchOnComplete:$l,xhrOnComplete:Bs,beaconOnRetry:gu},l={enableSendPromise:!1,isOneDs:!0,disableCredentials:!xn,fetchCredentials:Vi,disableXhr:!1,disableBeacon:!de,disableBeaconSync:!de,disableFetchKeepAlive:En,timeWrapper:Rt,addNoResponse:nr,senderOnCompleteCallBack:o};return l}catch{}return null}function jc(o,l,m){var w=ua(o);Xo(l,200,{},w),rc(w)}function Ja(){var o;z=null,$=new ng,te=!1,le=new qg,de=!1,ke=0,Ze=null,He=null,Re=null,_e=null,We=!0,Ce=[],rt={},Oe=[],Ie=null,Xe=!1,Jt=null,rr=!1,pr=!1,Or=o,zr=o,En=o,hn=o,nr=o,ni=[],at=o,yt=o,Cr=[],gr=!1,Rt=Vp(),Fr=!1,Ot=null}function $l(o,l,m,w){var T=function(R,U,G){Xo(l,R,U,G),rc(G)},P={},O=o[Qu];O&&O.forEach(function(R,U){P[U]=R}),T(o.status,P,m||lu)}function Bs(o,l,m){var w=ua(o);Xo(l,o.status,Nc(o,!0),w),rc(w)}function Xo(o,l,m,w){try{o(l,m,w)}catch(T){gi(He,2,518,lr(T))}}function gu(o,l,m){var w=o,T=200,P=w[Wd],O=o[_m]+(nr?Zo:lu);try{var R=li();if(P){var U=!!_e.getPlugin("LocalStorage"),G=[],K=[];Tr(P[ri],function(J){if(G&&J&&J[Pt]()>0)for(var Q=J[tr](),ae=0;ae<Q[oe];ae++)if(R.sendBeacon(O,Ie.getEventBlob(Q[ae])))K[dt](J[ae]);else{G[dt](J[gt](ae));break}else G[dt](J[gt](0))}),K[oe]>0&&(P.sentEvts=K),U||Ia(G,8003,P[Us],!0)}else T=0}catch(J){uu(He,"Failed to send telemetry using sendBeacon API. Ex:"+lr(J)),T=0}finally{Xo(l,T,{},lu)}}function ii(o){return o===2||o===3}function sn(o){return rr&&ii(o)&&(o=2),o}ht[Mv]=function(o,l){rt[o]=l},ht.removeHeader=function(o){delete rt[o]},ht[Em]=function(){return ai()&&le[C]()},ht[Mh]=function(o,l){kt(o)&&(o=0),rr&&(o=sn(o),l=2),yu(Oe,o,0)&&Za(Wi(),0,!1,o,l||0)},ht[wm]=function(){return!te&&ke===0&&Oe[oe]===0},ht[bm]=function(o){rr=o},ht.addBatch=function(o){if(o&&o[Pt]()>0){if($.isTenantKilled(o[ct]()))return!1;Oe[dt](o)}return!0},ht.teardown=function(){Oe[oe]>0&&Za(Wi(),0,!0,2,2),Tr(ni,function(o){o&&o.rm&&o.rm()}),ni=[]},ht.pause=function(){te=!0},ht[Sm]=function(){te=!1,ht[Mh](0,4)},ht[Dm]=function(o,l,m){o&&o[Pt]()>0&&(ut(l)&&(l=1),rr&&(l=sn(l),m=2),Za([o],0,!1,l,m||0))};function ai(){return!te&&ke<A}function Wi(){var o=Oe;return Oe=[],o}function yu(o,l,m){var w=!1;return o&&o[oe]>0&&!te&&Re[l]&&Ie&&(w=l!==0||ai()&&(m>0||le[C]())),w}function Gc(o){var l={};return o&&Tr(o,function(m,w){l[w]={iKey:m[ct](),evts:m[tr]()}}),l}function Za(o,l,m,w,T){if(!(!o||o[oe]===0)){if(te){Ia(o,1,w);return}w=sn(w);try{var P=o,O=w!==0;_i(_e,function(){return"HttpManager:_sendBatches"},function(R){R&&(o=o.slice(0));for(var U=[],G=null,K=Ko(),J=Re[w]||(O?Re[1]:Re[0]),Q=J&&J[kf],ae=hn&&(rr||ii(w)||Q===3||J._isSync&&Q===2);yu(o,w,l);){var ne=o.shift();ne&&ne[Pt]()>0&&($.isTenantKilled(ne[ct]())?U[dt](ne):(G=G||Ie[Fs](l,m,O,ae,T,w),Ie.appendPayload(G,ne,E)?G.overflow!==null&&(o=[G.overflow][be](o),G.overflow=null,Gv(G,K,Ko(),T),K=Ko(),G=null):(Gv(G,K,Ko(),T),K=Ko(),o=[ne][be](o),G=null)))}G&&Gv(G,K,Ko(),T),o[oe]>0&&(Oe=o[be](Oe)),Ia(U,8004,w)},function(){return{batches:Gc(P),retryCount:l,isTeardown:m,isSynchronous:O,sendReason:T,useSendBeacon:ii(w),sendType:w}},!O)}catch(R){gi(He,2,48,"Unexpected Exception sending batch: "+lr(R))}}}function Vl(o,l){var m={url:z,hdrs:{},useHdrs:!1};l?(m[Nr]=Gd(m[Nr],rt),m.useHdrs=on(m.hdrs)[oe]>0):ln(rt,function(R,U){ec[R]?Qd(m,ec[R],U,!1):(m[Nr][R]=U,m[xr]=!0)}),Qd(m,Ms,"NO_AUTH",l),Qd(m,Ph,jp,l);var w=lu;Tr(o.apiKeys,function(R){w[oe]>0&&(w+=","),w+=R}),Qd(m,kh,w,l),Qd(m,zd,Ma().toString(),l);var T=Vh(o);if(Ho(T)&&(m.url+="&ext.intweb.msfpc="+T),le[Z]()&&Qd(m,Rh,le[re](),l),_e[Bl]){var P=_e[Bl]();P>=0&&(m.url+="&w="+P)}for(var O=0;O<Ce[oe];O++)m.url+="&"+Ce[O].name+"="+Ce[O].value;return m}function _u(o,l,m){o[l]=o[l]||{},o[l][Ze.identifier]=m}function Gv(o,l,m,w){if(o&&o.payloadBlob&&o.payloadBlob[oe]>0){var T=!!at,P=Re[o.sendType];!ii(o[Us])&&o[pu]&&o.sendReason===2&&(P=Re[2]||Re[3]||P);var O=pr;(o.isBeacon||P[kf]===3)&&(O=!1);var R=Vl(o,O);O=O||R[xr];var U=Ko();_i(_e,function(){return"HttpManager:_doPayloadSend"},function(){for(var G=0;G<o.batches[oe];G++)for(var K=o[ri][G],J=K[tr](),Q=0;Q<J[oe];Q++){var ae=J[Q];if(Xe){var ne=ae[Of]=ae[Of]||{};_u(ne,"sendEventStart",U),_u(ne,"serializationStart",l),_u(ne,"serializationCompleted",m)}ae[Uc]>0?ae[Uc]++:ae[Uc]=1}Ia(o[ri],1e3+(w||0),o[Us],!0);var we={data:o[Ov],urlString:R.url,headers:R[Nr],_thePayload:o,_sendReason:w,timeout:Or,disableXhrSync:zr,disableFetchKeepAlive:En};O&&(Wp(we[Qu],Os)||(we[Qu][Os]=Lc),Wp(we[Qu],_o)||(we[Qu][_o]=xf));var Se=null;P&&(Se=function($e){le[j]();var Qe=function(sr,hr){Wl(sr,hr,o,w)},st=o[Tm]||o[Lv];try{P.sendPOST($e,Qe,st),yt&&yt(we,$e,st,o[pu])}catch(sr){uu(He,"Unexpected exception sending payload. Ex:"+lr(sr)),Xo(Qe,0,{})}}),_i(_e,function(){return"HttpManager:_doPayloadSend.sender"},function(){if(Se)if(o[Us]===0&&ke++,T&&!o.isBeacon&&P[kf]!==3){var $e={data:we[Lh],urlString:we[_m],headers:Gd({},we[Qu]),timeout:we[Fh],disableXhrSync:we[Vd],disableFetchKeepAlive:we[Ul]},Qe=!1;_i(_e,function(){return"HttpManager:_doPayloadSend.sendHook"},function(){try{at($e,function(st){Qe=!0,!We&&!st[Wd]&&(st[Wd]=st[Wd]||we[Wd],st[Hd]=st[Hd]||we[Hd]),Se(st)},o.isSync||o[Tm])}catch{Qe||Se(we)}})}else Se(we)})},function(){return{thePayload:o,serializationStart:l,serializationCompleted:m,sendReason:w}},o[Lv])}o.sizeExceed&&o.sizeExceed[oe]>0&&Ia(o.sizeExceed,8003,o[Us]),o.failedEvts&&o.failedEvts[oe]>0&&Ia(o.failedEvts,8002,o[Us])}function qc(o,l){Xe&&Tr(o,function(m){var w=m[Of]=m[Of]||{};_u(w,"sendEventCompleted",l)})}function Wl(o,l,m,w){var T=9e3,P=null,O=!1,R=!1;try{var U=!0;if(typeof o!==s){if(l){le[se](l[Yp]);var G=l[Yd]||l["kill-duration-seconds"];Tr($[eg](l[Jo],G),function(J){Tr(m[ri],function(Q){if(Q[ct]()===J){P=P||[];var ae=Q[gt](0);m.numEvents-=ae[Pt](),P[dt](ae)}})})}if(o==200||o==204){T=200;return}(!Jd(o)||m.numEvents<=0)&&(U=!1),T=9e3+o%1e3}if(U){T=100;var K=m.retryCnt;m[Us]===0&&(K<I?(O=!0,Hl(function(){m[Us]===0&&ke--,Za(m[ri],K+1,m[Tm],rr?2:m[Us],5)},rr,ag(K))):(R=!0,rr&&(T=8001)))}}finally{O||(le[se](),wi(m,T,w,R)),Ia(P,8004,m[Us])}}function wi(o,l,m,w){try{w&&Ze[Am]();var T=o[ri];l===200&&(T=o.sentEvts||o[ri],!w&&!o[Lv]&&Ze._clearBackOff(),Zp(T)),Ia(T,l,o[Us],!0)}finally{o[Us]===0&&(ke--,m!==5&&ht.sendQueuedRequests(o[Us],m))}}function Zp(o){if(Xe){var l=Ko();Tr(o,function(m){m&&m[Pt]()>0&&qc(m[tr](),l)})}}function Hl(o,l,m){l?o():Rt.set(o,m)}function Vh(o){for(var l=0;l<o.batches[oe];l++){var m=o[ri][l].Msfpc();if(m)return encodeURIComponent(m)}return lu}function rc(o){var l=Cr;try{for(var m=0;m<l[oe];m++)try{l[m](o)}catch(T){gi(He,1,519,"Response handler failed: "+T)}if(o){var w=JSON.parse(o);Ho(w.webResult)&&Ho(w.webResult[p])&&Jt.set("MSFPC",w.webResult[p],365*86400)}}catch{}}function Ia(o,l,m,w){if(o&&o[oe]>0&&F){var T=F[Kl(l)];if(T){var P=m!==0;_i(_e,function(){return"HttpManager:_sendBatchesNotification"},function(){Hl(function(){try{T.call(F,o,l,P,m)}catch(O){gi(He,1,74,"send request notification failed: "+O)}},w||P,0)},function(){return{batches:Gc(o),reason:l,isSync:P,sendSync:w,sendType:m}},!P)}}}function Kl(o){var l=Ff[o];return Ho(l)||(l=qd,o>=9e3&&o<=9999?l=Gn:o>=8e3&&o<=8999?l=xh:o>=1e3&&o<=1999&&(l=Zu)),l}})}return v.__ieDyn=1,v}(),Im=.25,Yh=500,zl=20,zh=6,$h=2,og=4,sg=2,$g=1,Na=1e4,mu="eventsDiscarded",Hp="",Jn=void 0,Kp=Bi({eventsLimitInMem:{isVal:Kr,v:Na},immediateEventLimit:{isVal:Kr,v:500},autoFlushEventsLimit:{isVal:Kr,v:0},disableAutoBatchFlushLimit:!1,httpXHROverride:{isVal:Jp,v:Jn},overrideInstrumentationKey:Jn,overrideEndpointUrl:Jn,disableTelemetry:!1,ignoreMc1Ms0CookieProcessing:!1,setTimeoutOverride:Jn,clearTimeoutOverride:Jn,payloadPreprocessor:Jn,payloadListener:Jn,disableEventTimings:Jn,valueSanitizer:Jn,stringifyObjects:Jn,enableCompoundKey:Jn,disableOptimizeObj:!1,fetchCredentials:Jn,transports:Jn,unloadTransports:Jn,useSendBeacon:Jn,disableFetchKeepAlive:Jn,avoidOptions:!1,xhrTimeout:Jn,disableXhrSync:Jn,alwaysUseXhrOverride:!1,maxEventRetryAttempts:{isVal:qt,v:zh},maxUnloadEventRetryAttempts:{isVal:qt,v:$h},addNoResponse:Jn,excludeCsMetaData:Jn});function Jp(v){return v&&v.sendPOST}var Vg=function(v){ji(E,v);function E(){var A=v.call(this)||this;A.identifier="PostChannel",A.priority=1011,A.version="4.3.4";var I,F=!1,z=[],$,te=!1,le=0,de,ke=0,Ze,He={},Re=t,_e,We,Ce,rt,Oe,Ie,Xe,Jt,rr,pr,Or,zr,En,hn,nr,ni,at,yt,Cr,gr,Rt,Fr;return uo(E,A,function(Ot,Vi){sn(),Ot._getDbgPlgTargets=function(){return[Oe,I]},Ot[Ut]=function(R,U,G){_i(U,function(){return"PostChannel:initialize"},function(){Vi[Ut](R,U,G),Cr=U.getNotifyMgr();try{nr=Bd(Kn(Ot[zp]),U.evtNamespace&&U.evtNamespace()),Ot._addHook(au(R,function(K){var J=K.cfg,Q=wl(null,J,U);I=Q.getExtCfg(Ot[zp],Kp),ni=Vp(I[In],I[Fc]),Or=!I[Mf]&&Ih(),at=I[Ly],xn(U),Ze=I[tg],de=I.immediateEventLimit,Xe=I[jg],En=I.maxEventRetryAttempts,hn=I.maxUnloadEventRetryAttempts,yt=I[Nm],Ve(J.endpointUrl)?Ot.pause():te&&Ot[Sm](),O(),Rt=I[Fy],Fr=!!I[jl],gr&&ht();var ae=J.disablePageUnloadEvents||[];gr=xv(jc,ae,nr),gr=Ei(jc,ae,nr)||gr,gr=Il(Ja,J.disablePageShowEvents,nr)||gr})),Oe[Ut](R,Ot.core,Ot)}catch(K){throw Ot.setInitialized(!1),K}},function(){return{theConfig:R,core:U,extensions:G}})},Ot.processTelemetry=function(R,U){Ol(R,Ot[zp]),U=U||Ot._getTelCtx(U);var G=R;!Fr&&!F&&(Rt&&(G[ct]=Rt),Bs(G,!0),zr?yu(2,2):ii()),Ot.processNext(G,U)},Ot.getOfflineSupport=function(){try{var R=Oe&&Oe[Aa]();if(Oe)return{getUrl:function(){return R?R.url:null},serialize:Ca,batch:Pn,shouldProcess:function(U){return!Fr},createPayload:function(U){return null},createOneDSPayload:function(U){if(Oe[Rf])return Oe[Rf](U,Or)}}}catch{}return null},Ot._doTeardown=function(R,U){yu(2,2),F=!0,Oe.teardown(),ht(),sn()};function ht(){Pv(null,nr),Cf(null,nr),mm(null,nr)}function xn(R){var U=R[Bl];R[Bl]=function(){var G=0;return at&&(G=G|2),G|U.call(R)}}function Pn(R){var U=Hp;return R&&R[oe]&&Tr(R,function(G){U&&(U+=`
`),U+=G}),U}function Ca(R){var U=Hp;try{$l(R),U=Oe[ti](R)}catch{}return U}function jc(R){var U=R||ha().event;U.type!=="beforeunload"&&(zr=!0,Oe[bm](zr)),yu(2,2)}function Ja(R){zr=!1,Oe[bm](zr)}function $l(R){R.ext&&R.ext[_]&&delete R.ext[_],R.ext&&R.ext[b]&&R.ext[b].id&&delete R.ext[b].id,Or&&(R.ext=$o(R.ext),R[Uh]&&(R[Uh]=$o(R[Uh])),R[Lh]&&(R[Lh]=$o(R[Lh])))}function Bs(R,U){if(R[Fv]||(R[Fv]=0),R[Gl]||(R[Gl]=1),$l(R),R[Bh]){if(Ce||te)R[Gl]=3,R[Bh]=!1;else if(Oe){Or&&(R=$o(R)),Oe[Dm](Kd.create(R[ct],[R]),R[Bh]===!0?1:R[Bh],3);return}}var G=R[Gl],K=ke,J=Ze;G===4&&(K=le,J=de);var Q=!1;if(K<J)Q=!_u(R,U);else{var ae=1,ne=zl;G===4&&(ae=4,ne=1),Q=!0,Gv(R[ct],R[Gl],ae,ne)&&(Q=!_u(R,U))}Q&&Kl(mu,[R],Mo.QueueFull)}Ot.setEventQueueLimits=function(R,U){I[tg]=Ze=Kr(R)?R:Na,I[jg]=Xe=Kr(U)?U:0,O();var G=ke>R;if(!G&&Jt>0)for(var K=1;!G&&K<=3;K++){var J=Ie[K];J&&J[ri]&&Tr(J[ri],function(Q){Q&&Q[Pt]()>=Jt&&(G=!0)})}Vl(!0,G)},Ot.pause=function(){Wi(),te=!0,Oe&&Oe.pause()},Ot[Sm]=function(){te=!1,Oe&&Oe[Sm](),ii()},Ot._loadTransmitProfiles=function(R){Hl(),ln(R,function(U,G){var K=G[oe];if(K>=2){var J=K>2?G[2]:0;if(G[dr](0,K-2),G[1]<0&&(G[0]=-1),G[1]>0&&G[0]>0){var Q=G[0]/G[1];G[0]=Math.ceil(Q)*G[1]}J>=0&&G[1]>=0&&J>G[1]&&(J=G[1]),G[dt](J),He[U]=G}})},Ot.flush=function(R,U,G){R===void 0&&(R=!0);var K;if(!te)if(G=G||1,R)U||(K=$a(function(Q){U=Q})),$==null?(Wi(),Wl(1,0,G),$=ai(function(){$=null,wi(U,G)},0)):z[dt](U);else{var J=Wi();Xo(1,1,G),U&&U(),J&&ii()}return K},Ot.setMsaAuthTicket=function(R){Oe[Mv](Ls,R)},Ot.setAuthPluginHeader=function(R){Oe[Mv](ym,R)},Ot.removeAuthPluginHeader=function(){Oe.removeHeader(ym)},Ot.hasEvents=gu,Ot._setTransmitProfile=function(R){Re!==R&&He[R]!==void 0&&(Wi(),Re=R,ii())},al(Ot,function(){return Oe},["addResponseHandler"]);function Xo(R,U,G){var K=Wl(R,U,G);return Oe[Mh](U,G),K}function gu(){return ke>0}function ii(){if(rr>=0&&Wl(rr,0,pr)&&Oe[Mh](0,pr),le>0&&!We&&!te){var R=He[Re][2];R>=0&&(We=ai(function(){We=null,Xo(4,0,1),ii()},R))}var U=He[Re][1];!_e&&!$&&U>=0&&!te&&(gu()?_e=ai(function(){_e=null,Xo(rt===0?3:1,0,1),rt++,rt%=2,ii()},U):rt=0)}Ot[Am]=function(){Ce<og&&(Ce++,Wi(),ii())},Ot._clearBackOff=function(){Ce&&(Ce=0,Wi(),ii())};function sn(){I=null,F=!1,z=[],$=null,te=!1,le=0,de=500,ke=0,Ze=Na,He={},Re=t,_e=null,We=null,Ce=0,rt=0,Ie={},Xe=0,gr=!1,Jt=0,rr=-1,pr=null,Or=!0,zr=!1,En=zh,hn=$h,nr=null,Rt=null,Fr=!1,ni=Vp(),Oe=new Bc(Yh,sg,$g,{requeue:rc,send:l,sent:m,drop:w,rspFail:T,oth:P}),Vh(),Gc(),O()}function ai(R,U){U===0&&Ce&&(U=1);var G=1e3;return Ce&&(G=ag(Ce-1)),ni.set(R,U*G)}function Wi(){return _e!==null?(_e.cancel(),_e=null,rt=0,!0):!1}function yu(R,U){Wi(),$&&($.cancel(),$=null),te||Xo(1,R,U)}function Gc(){Ie[4]={batches:[],iKeyMap:{}},Ie[3]={batches:[],iKeyMap:{}},Ie[2]={batches:[],iKeyMap:{}},Ie[1]={batches:[],iKeyMap:{}}}function Za(R,U,G){var K=Ie[U];K||(U=1,K=Ie[U]);var J=K.iKeyMap[R];return!J&&G&&(J=Kd.create(R),K.batches[dt](J),K.iKeyMap[R]=J),J}function Vl(R,U){Oe[Em]()&&!Ce&&(Xe>0&&ke>Xe&&(U=!0),U&&$==null&&Ot.flush(R,function(){},20))}function _u(R,U){Or&&(R=$o(R));var G=R[Gl],K=Za(R[ct],G,!0);return K.addEvent(R)?(G!==4?(ke++,U&&R[Fv]===0&&Vl(!R.sync,Jt>0&&K[Pt]()>=Jt)):le++,!0):!1}function Gv(R,U,G,K){for(;G<=U;){var J=Za(R,U,!0);if(J&&J[Pt]()>0){var Q=J[gt](0,K),ae=Q[Pt]();if(ae>0)return G===4?le-=ae:ke-=ae,o(mu,[Q],Mo.QueueFull),!0}G++}return qc(),!1}function qc(){for(var R=0,U=0,G=function(J){var Q=Ie[J];Q&&Q[ri]&&Tr(Q[ri],function(ae){J===4?R+=ae[Pt]():U+=ae[Pt]()})},K=1;K<=4;K++)G(K);ke=U,le=R}function Wl(R,U,G){var K=!1,J=U===0;return!J||Oe[Em]()?_i(Ot.core,function(){return"PostChannel._queueBatches"},function(){for(var Q=[],ae=4;ae>=R;){var ne=Ie[ae];ne&&ne.batches&&ne.batches[oe]>0&&(Tr(ne[ri],function(we){Oe.addBatch(we)?K=K||we&&we[Pt]()>0:Q=Q[be](we[tr]()),ae===4?le-=we[Pt]():ke-=we[Pt]()}),ne[ri]=[],ne.iKeyMap={}),ae--}Q[oe]>0&&Kl(mu,Q,Mo.KillSwitch),K&&rr>=R&&(rr=-1,pr=0)},function(){return{latency:R,sendType:U,sendReason:G}},!J):(rr=rr>=0?Math.min(rr,R):R,pr=Math.max(pr,G)),K}function wi(R,U){Xo(1,0,U),qc(),Zp(function(){R&&R(),z[oe]>0?$=ai(function(){$=null,wi(z.shift(),U)},0):($=null,ii())})}function Zp(R){Oe[wm]()?R():$=ai(function(){$=null,Zp(R)},Im)}function Hl(){Wi(),Vh(),Re=t,ii()}function Vh(){He={},He[t]=[2,1,0],He[r]=[6,3,0],He[n]=[18,9,0]}function rc(R,U){var G=[],K=En;zr&&(K=hn),Tr(R,function(J){J&&J[Pt]()>0&&Tr(J[tr](),function(Q){Q&&(Q[Bh]&&(Q[Gl]=4,Q[Bh]=!1),Q[Fv]<K?(Ol(Q,Ot[zp]),Bs(Q,!1)):G[dt](Q))})}),G[oe]>0&&Kl(mu,G,Mo.NonRetryableStatus),zr&&yu(2,2)}function Ia(R,U){var G=Cr||{},K=G[R];if(K)try{K.apply(G,U)}catch(J){gi(Ot.diagLog(),1,74,R+" notification failed: "+J)}}function Kl(R,U){for(var G=[],K=2;K<arguments.length;K++)G[K-2]=arguments[K];U&&U[oe]>0&&Ia(R,[U][be](G))}function o(R,U){for(var G=[],K=2;K<arguments.length;K++)G[K-2]=arguments[K];U&&U[oe]>0&&Tr(U,function(J){J&&J[Pt]()>0&&Ia(R,[J.events()][be](G))})}function l(R,U,G){R&&R[oe]>0&&Ia("eventsSendRequest",[U>=1e3&&U<=1999?U-1e3:0,G!==!0])}function m(R,U){o("eventsSent",R,U),ii()}function w(R,U){o(mu,R,U>=8e3&&U<=8999?U-8e3:Mo.Unknown)}function T(R){o(mu,R,Mo.NonRetryableStatus),ii()}function P(R,U){o(mu,R,Mo.Unknown),ii()}function O(){yt?Jt=0:Jt=Math.max(Yh*(sg+1),Ze/6)}}),A}return E.__ieDyn=1,E}(Sl);e.BE_PROFILE=n,e.NRT_PROFILE=r,e.PostChannel=Vg,e.RT_PROFILE=t})});var m2=cr(Xh=>{"use strict";var d1=Xh&&Xh.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),p1=Xh&&Xh.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),v2=Xh&&Xh.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&d1(t,e,r);return p1(t,e),t};Object.defineProperty(Xh,"__esModule",{value:!0});Xh.oneDataSystemClientFactory=void 0;var h1=async(e,t,r)=>{let n=await Promise.resolve().then(()=>v2(d2())),i=await Promise.resolve().then(()=>v2(h2())),a=new n.AppInsightsCore,s=new i.PostChannel,f={instrumentationKey:e,endpointUrl:"https://mobile.events.data.microsoft.com/OneCollector/1.0",loggingLevelTelemetry:0,loggingLevelConsole:0,disableCookiesUsage:!0,disableDbgExt:!0,disableInstrumentationKeyValidation:!0,channels:[[s]]};if(r){f.extensionConfig={};let D={alwaysUseXhrOverride:!0,httpXHROverride:r};f.extensionConfig[s.identifier]=D}let y=t.workspace.getConfiguration("telemetry").get("internalTesting");return a.initialize(f,[]),a.addTelemetryInitializer(D=>{D.ext=D.ext??{},D.ext.web=D.ext.web??{},D.ext.web.consentDetails='{"GPC_DataSharingOptIn":false}',y&&(D.ext.utc=D.ext.utc??{},D.ext.utc.flags=8462029)}),a},v1=async(e,t,r)=>{let n=await h1(e,t,r);return{logEvent:(s,f)=>{try{n==null||n.track({name:s,baseData:{name:s,properties:f==null?void 0:f.properties,measurements:f==null?void 0:f.measurements}})}catch(h){throw new Error(`Failed to log event to app insights!
`+h.message)}},flush:async()=>{try{return new Promise((f,h)=>{if(!n){f();return}n.flush(!0,y=>{if(!y){h("Failed to flush app 1DS!");return}})})}catch(s){throw new Error(`Failed to flush 1DS!
`+s.message)}},dispose:async()=>new Promise(f=>{if(!n){f();return}n.unload(!1,()=>{f(),n=void 0},1e3)})}};Xh.oneDataSystemClientFactory=v1});var y2=cr((n0,g2)=>{(function(e,t){typeof n0=="object"&&typeof g2<"u"?t(n0):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(n0,function(e){"use strict";function t(p,_){return p||_}function r(p,_){return p[_]}var n=void 0,i=null,a="",s="function",f="object",h="prototype",y="__proto__",D="undefined",x="constructor",L="Symbol",Y="_polyfill",ee="length",W="name",H="call",X="toString",ue=t(Object),ce=r(ue,h),he=t(String),Ue=r(he,h),Le=t(Math),ve=t(Array),Pe=r(ve,h),Te=r(Pe,"slice");function Je(p,_){try{return{v:p.apply(this,_)}}catch(b){return{e:b}}}function mt(p){return function(_){return typeof _===p}}function Er(p){var _="[object "+p+"]";return function(b){return!!(b&&fr(b)===_)}}function fr(p){return ce[X].call(p)}function Bt(p){return typeof p===D||p===D}function en(p){return!Jr(p)}function qe(p){return p===i||Bt(p)}function Jr(p){return!!p||p!==n}var Fe=mt("string"),Gr=mt(s);function er(p){return!p&&qe(p)?!1:!!p&&typeof p===f}var kt=r(ve,"isArray"),nn=Er("Error"),ut=r(ue,"getOwnPropertyDescriptor");function Hn(p,_){return!!p&&ce.hasOwnProperty[H](p,_)}var lt=t(r(ue,"hasOwn"),Au);function Au(p,_){return Hn(p,_)||!!ut(p,_)}function Zt(p,_,b){if(p&&er(p)){for(var C in p)if(lt(p,C)&&_[H](b||p,C,p[C])===-1)break}}var to={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function It(p){var _={};if(_[to.c]=!0,_[to.e]=!0,p.l){_.get=function(){return p.l.v};var b=ut(p.l,"v");b&&b.set&&(_.set=function(C){p.l.v=C})}return Zt(p,function(C,j){_[to[C]]=en(j)?_[to[C]]:j}),_}var qt=r(ue,"defineProperty");function fn(p,_,b){return qt(p,_,It(b))}function Ve(p,_,b,C,j){var Z={};return Zt(p,function(re,se){tn(Z,re,_?se:re,j),tn(Z,se,b?se:re,j)}),C?C(Z):Z}function tn(p,_,b,C){qt(p,_,{value:b,enumerable:!0,writable:!!C})}var Dr=t(he),ci="[object Error]";function Yt(p,_){var b=a,C=ce[X][H](p);C===ci&&(p={stack:Dr(p.stack),message:Dr(p.message),name:Dr(p.name)});try{b=JSON.stringify(p,i,_?typeof _=="number"?_:4:n),b=(b?b.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):i)||Dr(p)}catch(j){b=" - "+Yt(j,_)}return C+": "+b}function ln(p){throw new Error(p)}function ka(p){throw new TypeError(p)}var Oa=r(ue,"freeze");function an(p){return p}function Tn(p){return p[y]||i}var Co=r(ue,"assign"),Ui=r(ue,"keys"),Lr=t(Oa,an),or=t(r(ue,"getPrototypeOf"),Tn);function lr(p){return Ve(p,1,0,Lr)}function Zr(p){var _={};return Zt(p,function(b,C){tn(_,b,C[1]),tn(_,C[0],C[1])}),Lr(_)}function up(p){return Zr(p)}var fi="__tsUtils$gblCfg",as;function Nu(){var p;return typeof globalThis!==D&&(p=globalThis),!p&&typeof self!==D&&(p=self),!p&&typeof window!==D&&(p=window),!p&&typeof global!==D&&(p=global),p}function on(){if(!as){var p=Je(Nu).v||{};as=p[fi]=p[fi]||{}}return as}var Bi=vr;function vr(p,_,b){var C=_?_[p]:i;return function(j){var Z=(j?j[p]:i)||C;if(Z||b){var re=arguments;return(Z||b).apply(j,Z?Te[H](re,1):re)}ka('"'+Dr(p)+'" not defined for '+Yt(j))}}var Si=r(Le,"max"),Di=Bi("slice",Ue),os=Bi("substring",Ue),ss=vr("substr",Ue,ro);function ro(p,_,b){return qe(p)&&ka("Invalid "+Yt(p)),b<0?a:(_=_||0,_<0&&(_=Si(_+p[ee],0)),Bt(b)?Di(p,_):Di(p,_,_+b))}function us(p,_){return os(p,0,_)}var Io="_urid",Ys;function no(){if(!Ys){var p=on();Ys=p.gblSym=p.gblSym||{k:{},s:{}}}return Ys}function Cu(p){var _={description:Dr(p),toString:function(){return L+"("+p+")"}};return _[Y]=!0,_}function Rr(p){var _=no();if(!lt(_.k,p)){var b=Cu(p),C=Ui(_.s).length;b[Io]=function(){return C+"_"+b[X]()},_.k[p]=b,_.s[b[Io]()]=Dr(p)}return _.k[p]}var Hr;function da(){Hr=on()}function xo(p){return qt({toJSON:function(){return p}},"v",{value:p})}var cs="window",Ti;function pa(p,_){var b;return function(){return!Hr&&da(),(!b||Hr.lzy)&&(b=xo(Je(p,_).v)),b.v}}function Po(p){return!Hr&&da(),(!Ti||p===!1||Hr.lzy)&&(Ti=xo(Je(Nu).v||i)),Ti.v}function Ai(p,_){var b;if(!Ti||_===!1?b=Po(_):b=Ti.v,b&&b[p])return b[p];if(p===cs)try{return window}catch{}return i}var Ro=pa(Ai,["document"]);function cp(){return!!cd()}var cd=pa(Ai,[cs]);function fp(){return!!mn()}var mn=pa(Ai,["navigator"]),ko,fs;function Un(){return ko=xo(Je(Ai,[L]).v),ko}function ls(p){var _=(Hr.lzy?0:ko)||Un();return _.v?_.v[p]:n}function Iu(p,_){!Hr&&da();var b=(Hr.lzy?0:ko)||Un();return b.v?b.v(p):_?i:Cu(p)}function ta(p){return!Hr&&da(),fs=(Hr.lzy?0:fs)||xo(Je(ls,["for"]).v),(fs.v||Rr)(p)}function gn(p,_,b){return p.apply(_,b)}function Bn(p,_,b){if(p)for(var C=p[ee]>>>0,j=0;j<C&&!(j in p&&_[H](b||p,p[j],j,p)===-1);j++);}var uc=Bi("indexOf",Pe),ha=Bi("map",Pe),kr=Bi("reduce",Pe),li=t(r(ue,"create"),fd);function fd(p){if(!p)return{};var _=typeof p;_!==f&&_!==s&&ka("Prototype must be an Object or function: "+Yt(p));function b(){}return b[h]=p,new b}var Ni;function ds(p,_){var b=ue.setPrototypeOf||function(C,j){var Z;!Ni&&(Ni=xo((Z={},Z[y]=[],Z instanceof Array))),Ni.v?C[y]=j:Zt(j,function(re,se){return C[re]=se})};return b(p,_)}function Hc(p,_,b){Je(fn,[_,W,{v:p,c:!0,e:!1}]),_=ds(_,b);function C(){this[x]=_,Je(fn,[this,W,{v:p,c:!0,e:!1}])}return _[h]=b===i?li(b):(C[h]=b[h],new C),_}function ps(p,_){_&&(p[W]=_)}function ld(p,_,b){var C=b||Error,j=C[h][W],Z=Error.captureStackTrace;return Hc(p,function(){var re=this,se=arguments;try{Je(ps,[C,p]);var oe=gn(C,re,Te[H](se))||re;if(oe!==re){var be=or(re);be!==or(oe)&&ds(oe,be)}return Z&&Z(oe,re[x]),_&&_(oe,se),oe}finally{Je(ps,[C,j])}},C)}function dn(){return(Date.now||$f)()}function $f(){return new Date().getTime()}function ra(p){return function(b){return qe(b)&&ka("strTrim called ["+Yt(b)+"]"),b&&b.replace&&(b=b.replace(p,a)),b}}var lp=ra(/^\s+|(?=\s)\s+$/g),va=vr("trim",Ue,lp),lh,ma,Vf;function io(p){if(!p||typeof p!==f)return!1;Vf||(Vf=cp()?cd():!0);var _=!1;if(p!==Vf){ma||(lh=Function[h][X],ma=lh[H](ue));try{var b=or(p);_=!b,_||(Hn(b,x)&&(b=b[x]),_=!!(b&&typeof b===s&&lh[H](b)===ma))}catch{}}return _}var dd;function Tr(){return!Hr&&da(),(!dd||Hr.lzy)&&(dd=xo(Je(Ai,["performance"]).v)),dd.v}var hs=vr("endsWith",Ue,pd);function pd(p,_,b){Fe(p)||ka("'"+Yt(p)+"' is not a string");var C=Fe(_)?_:Dr(_),j=!Bt(b)&&b<p[ee]?b:p[ee];return os(p,j-C[ee],j)===C}var na=Bi("indexOf",Ue),Kc="ref",Ft="unref",ga="hasRef",cc="enabled";function Wf(p,_,b){var C=!0,j=p?_(i):i,Z;function re(){return C=!1,j&&j[Ft]&&j[Ft](),Z}function se(){j&&b(j),j=i}function oe(){return j=_(j),C||re(),Z}function be(ct){!ct&&j&&se(),ct&&!j&&oe()}return Z={cancel:se,refresh:oe},Z[ga]=function(){return j&&j[ga]?j[ga]():C},Z[Kc]=function(){return C=!0,j&&j[Kc]&&j[Kc](),Z},Z[Ft]=re,Z=qt(Z,cc,{get:function(){return!!j},set:be}),{h:Z,dn:function(){j=i}}}function dv(p,_,b){var C=kt(_),j=C?_.length:0,Z=(j>0?_[0]:C?n:_)||setTimeout,re=(j>1?_[1]:n)||clearTimeout,se=b[0];b[0]=function(){oe.dn(),gn(se,n,Te[H](arguments))};var oe=Wf(p,function(be){if(be){if(be.refresh)return be.refresh(),be;gn(re,n,[be])}return gn(Z,n,b)},function(be){gn(re,n,[be])});return oe.h}function Ma(p,_){return dv(!0,n,Te[H](arguments))}var Hf=lr,dp=up,xu="toLowerCase",La="blkVal",_t="length",di="rdOnly",Pu="notify",zs="warnToConsole",pp="throwInternal",hp="setDf",Xn="watch",ya="logger",vp="apply",Fa="push",ia="splice",cm="hdlr",pv="cancel",dh="name",Ru="unload",ph="version",Qm="loggingLevelConsole",mp="messageId",ji="message",Kf="diagLog",Jf="userAgent",ao="split",_a="nodeType",ku="replace",hh="logInternalMessage",Ua="type",gp="handler",fc="traceId",Jc="spanId",Zf="traceFlags",hd="getAttribute",yp;function vh(p,_){yp||(yp=ld("AggregationError",function(C,j){j[_t]>1&&(C.errors=j[1])}));var b=p||"One or more errors occurred.";throw Bn(_,function(C,j){b+=`
`.concat(j," > ").concat(Yt(C))}),new yp(b,_||[])}var mh="function",Ou="object",_p="undefined",$s="prototype",lc=Object,Ba=lc[$s];(Po()||{}).Symbol,(Po()||{}).Reflect;var Xf="hasOwnProperty",vd=function(p){for(var _,b=1,C=arguments.length;b<C;b++){_=arguments[b];for(var j in _)Ba[Xf].call(_,j)&&(p[j]=_[j])}return p},Zc=Co||vd,oo=function(p,_){return oo=lc.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,C){b.__proto__=C}||function(b,C){for(var j in C)C[Xf](j)&&(b[j]=C[j])},oo(p,_)};function hv(p,_){typeof _!==mh&&_!==null&&ka("Class extends value "+String(_)+" is not a constructor or null"),oo(p,_);function b(){this.constructor=p}p[$s]=_===null?li(_):(b[$s]=_[$s],new b)}var vs,Oo="constructor",so="prototype",Mu="function",md="_dynInstFuncs",Xc="_isDynProxy",Qc="_dynClass",dc="_dynCls$",gd="_dynInstChk",Qf=gd,yd="_dfOpts",pc="_unknown_",uo="__proto__",ef="_dyn"+uo,Mo="__dynProto$Gbl",Ea="_dynInstProto",ms="useBaseInst",Xr="setInstFuncs",Vs=Object,co=Vs.getPrototypeOf,tf=Vs.getOwnPropertyNames,rf=Po(),gs=rf[Mo]||(rf[Mo]={o:(vs={},vs[Xr]=!0,vs[ms]=!0,vs),n:1e3});function el(p){return p&&(p===Vs[so]||p===Array[so])}function ys(p){return el(p)||p===Function[so]}function Lu(p){var _;if(p){if(co)return co(p);var b=p[uo]||p[so]||(p[Oo]?p[Oo][so]:null);_=p[ef]||b,Hn(p,ef)||(delete p[Ea],_=p[ef]=p[Ea]||p[ef],p[Ea]=b)}return _}function aa(p,_){var b=[];if(tf)b=tf(p);else for(var C in p)typeof C=="string"&&Hn(p,C)&&b.push(C);if(b&&b.length>0)for(var j=0;j<b.length;j++)_(b[j])}function Ep(p,_,b){return _!==Oo&&typeof p[_]===Mu&&(b||Hn(p,_))&&_!==uo&&_!==so}function hc(p){ka("DynamicProto: "+p)}function Gi(p){var _=li(null);return aa(p,function(b){!_[b]&&Ep(p,b,!1)&&(_[b]=p[b])}),_}function _d(p,_){for(var b=p.length-1;b>=0;b--)if(p[b]===_)return!0;return!1}function wp(p,_,b,C){function j(oe,be,ct){var Pt=be[ct];if(Pt[Xc]&&C){var tr=oe[md]||{};tr[Qf]!==!1&&(Pt=(tr[be[Qc]]||{})[ct]||Pt)}return function(){return Pt.apply(oe,arguments)}}var Z=li(null);aa(b,function(oe){Z[oe]=j(_,b,oe)});for(var re=Lu(p),se=[];re&&!ys(re)&&!_d(se,re);)aa(re,function(oe){!Z[oe]&&Ep(re,oe,!co)&&(Z[oe]=j(_,re,oe))}),se.push(re),re=Lu(re);return Z}function tl(p,_,b,C){var j=null;if(p&&Hn(b,Qc)){var Z=p[md]||li(null);if(j=(Z[b[Qc]]||li(null))[_],j||hc("Missing ["+_+"] "+Mu),!j[gd]&&Z[Qf]!==!1){for(var re=!Hn(p,_),se=Lu(p),oe=[];re&&se&&!ys(se)&&!_d(oe,se);){var be=se[_];if(be){re=be===C;break}oe.push(se),se=Lu(se)}try{re&&(p[_]=j),j[gd]=1}catch{Z[Qf]=!1}}}return j}function rl(p,_,b){var C=_[p];return C===b&&(C=Lu(_)[p]),typeof C!==Mu&&hc("["+p+"] is not a "+Mu),C}function bp(p,_,b,C,j){function Z(oe,be){var ct=function(){var Pt=tl(this,be,oe,ct)||rl(be,oe,ct);return Pt.apply(this,arguments)};return ct[Xc]=1,ct}if(!el(p)){var re=b[md]=b[md]||li(null);if(!el(re)){var se=re[_]=re[_]||li(null);re[Qf]!==!1&&(re[Qf]=!!j),el(se)||aa(b,function(oe){Ep(b,oe,!1)&&b[oe]!==C[oe]&&(se[oe]=b[oe],delete b[oe],(!Hn(p,oe)||p[oe]&&!p[oe][Xc])&&(p[oe]=Z(p,oe)))})}}}function vv(p,_){if(co){for(var b=[],C=Lu(_);C&&!ys(C)&&!_d(b,C);){if(C===p)return!0;b.push(C),C=Lu(C)}return!1}return!0}function vc(p,_){return Hn(p,so)?p.name||_||pc:((p||{})[Oo]||{}).name||_||pc}function Lo(p,_,b,C){Hn(p,so)||hc("theClass is an invalid class definition.");var j=p[so];vv(j,_)||hc("["+vc(p)+"] not in hierarchy of ["+vc(_)+"]");var Z=null;Hn(j,Qc)?Z=j[Qc]:(Z=dc+vc(p,"_")+"$"+gs.n,gs.n++,j[Qc]=Z);var re=Lo[yd],se=!!re[ms];se&&C&&C[ms]!==void 0&&(se=!!C[ms]);var oe=Gi(_),be=wp(j,_,oe,se);b(_,be);var ct=!!co&&!!re[Xr];ct&&C&&(ct=!!C[Xr]),bp(j,Z,_,oe,ct!==!1)}Lo[yd]=gs.o;var fo=void 0,Sn="",nl="Not dynamic - ",mc=/-([a-z])/g,gc=/([^\w\d_$])/g,Sp=/^(\d+[\w\d_$])/;function ja(p){return!qe(p)}function Fu(p){var _=p;return _&&Fe(_)&&(_=_[ku](mc,function(b,C){return C.toUpperCase()}),_=_[ku](gc,"_"),_=_[ku](Sp,function(b,C){return"_"+C})),_}function Ws(p,_){return p&&_?na(p,_)!==-1:!1}function mr(p){return p&&p.toISOString()||""}function Fo(p){return nn(p)?p[dh]:Sn}function _s(p){return function(){function _(){var b=this;p&&Zt(p,function(C,j){b[C]=j})}return _}()}var Ga="console",Ed="JSON",qa="crypto",Uu="msCrypto",yn="msie",oa="trident/",qr=null,Et=null,yc=null;function Uo(){return typeof console!==_p?console:Ai(Ga)}function Hs(){return!!(typeof JSON===Ou&&JSON||Ai(Ed)!==null)}function lo(){return Hs()?JSON||Ai(Ed):null}function Bu(){return Ai(qa)}function Ya(){return Ai(Uu)}function $r(){var p=mn();if(p&&(p[Jf]!==Et||qr===null)){Et=p[Jf];var _=(Et||Sn)[xu]();qr=Ws(_,yn)||Ws(_,oa)}return qr}function Bo(p){return(yc===null||p===!1)&&(yc=fp()&&!!mn().sendBeacon),yc}function Yr(p,_){if(p)for(var b=0;b<p[_t];b++){var C=p[b];if(C[dh]&&C[dh]===_)return C}return{}}function jo(p){var _=Ro();return _&&p?Yr(_.querySelectorAll("meta"),p).content:null}function wd(p){var _,b=Tr();if(b){var C=b.getEntriesByType("navigation")||[];_=Yr((C[_t]>0?C[0]:{}).serverTiming,p).description}return _}var Go=4294967296,Ln=4294967295,po=123456789,Es=987654321,Ci=!1,qi=po,nf=Es;function _c(p){p<0&&(p>>>=0),qi=po+p&Ln,nf=Es-p&Ln,Ci=!0}function bd(){try{var p=dn()&2147483647;_c((Math.random()*Go^p)+p)}catch{}}function Ks(p){return p>0?Math.floor(qo()/Ln*(p+1))>>>0:0}function qo(p){var _=0,b=Bu()||Ya();return b&&b.getRandomValues&&(_=b.getRandomValues(new Uint32Array(1))[0]&Ln),_===0&&$r()&&(Ci||bd(),_=Yo()&Ln),_===0&&(_=Math.floor(Go*Math.random()|0)),p||(_>>>=0),_}function Yo(p){nf=36969*(nf&65535)+(nf>>16)&Ln,qi=18e3*(qi&65535)+(qi>>16)&Ln;var _=(nf<<16)+(qi&65535)>>>0&Ln|0;return p||(_>>>=0),_}function Ec(p){p===void 0&&(p=22);for(var _="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",b=qo()>>>0,C=0,j=Sn;j[_t]<p;)C++,j+=_.charAt(b&63),b>>>=6,C===5&&(b=(qo()<<2&4294967295|b&3)>>>0,C=0);return j}var zo="3.3.4",jn="."+Ec(6),Sd=0;function wc(p){return p[_a]===1||p[_a]===9||!+p[_a]}function Js(p,_){var b=_[p.id];if(!b){b={};try{wc(_)&&fn(_,p.id,{e:!1,v:b})}catch{}}return b}function wa(p,_){return _===void 0&&(_=!1),Fu(p+Sd+++(_?"."+zo:Sn)+jn)}function ws(p){var _={id:wa("_aiData-"+(p||Sn)+"."+zo),accept:function(b){return wc(b)},get:function(b,C,j,Z){var re=b[_.id];return re?re[Fu(C)]:(Z&&(re=Js(_,b),re[Fu(C)]=j),j)},kill:function(b,C){if(b&&b[C])try{delete b[C]}catch{}}};return _}function Zs(p){return p&&er(p)&&(p.isVal||p.fb||lt(p,"v")||lt(p,"mrg")||lt(p,"ref")||p.set)}function za(p,_,b){var C,j=b.dfVal||Jr;if(_&&b.fb){var Z=b.fb;kt(Z)||(Z=[Z]);for(var re=0;re<Z[_t];re++){var se=Z[re],oe=_[se];if(j(oe)?C=oe:p&&(oe=p.cfg[se],j(oe)&&(C=oe),p.set(p.cfg,Dr(se),oe)),j(C))break}}return!j(C)&&j(b.v)&&(C=b.v),C}function af(p,_,b){var C=b;if(b&&Zs(b)&&(C=za(p,_,b)),C){Zs(C)&&(C=af(p,_,C));var j;kt(C)?(j=[],j[_t]=C[_t]):io(C)&&(j={}),j&&(Zt(C,function(Z,re){re&&Zs(re)&&(re=af(p,_,re)),j[Z]=re}),C=j)}return C}function ju(p,_,b,C){var j,Z,re,se=C,oe,be,ct,Pt;Zs(se)?(j=se.isVal,Z=se.set,ct=se[di],Pt=se[La],oe=se.mrg,be=se.ref,!be&&Bt(be)&&(be=!!oe),re=za(p,_,se)):re=C,Pt&&p[La](_,b);var tr,dt=!0,gt=_[b];(gt||!qe(gt))&&(tr=gt,dt=!1,j&&tr!==re&&!j(tr)&&(tr=re,dt=!0),Z&&(tr=Z(tr,re,_),dt=tr===re)),dt?re?tr=af(p,_,re):tr=re:(io(tr)||kt(re))&&oe&&re&&(io(re)||kt(re))&&Zt(re,function(dr,zt){ju(p,tr,dr,zt)}),p.set(_,b,tr),be&&p.ref(_,b),ct&&p[di](_,b)}var pi=ta("[[ai_dynCfg_1]]"),Gu=ta("[[ai_blkDynCfg_1]]"),Xs=ta("[[ai_frcDynCfg_1]]");function $a(p){if(p){var _;if(kt(p)?(_=[],_[_t]=p[_t]):io(p)&&(_={}),_)return Zt(p,function(b,C){_[b]=$a(C)}),_}return p}function bc(p){if(p){var _=p[pi]||p;if(_.cfg&&(_.cfg===p||_.cfg[pi]===_))return _}return null}function _n(p){if(p&&(io(p)||kt(p)))try{p[Gu]=!0}catch{}return p}function Qn(p,_,b){var C=!1;return b&&!p[_.blkVal]&&(C=b[Xs],!C&&!b[Gu]&&(C=io(b)||kt(b))),C}function Va(p){ka("InvalidAccess:"+p)}var Sc=["push","pop","shift","unshift","splice"],bs=function(p,_,b,C){p&&p[pp](3,108,"".concat(b," [").concat(_,"] failed - ")+Yt(C))};function Dp(p,_,b){kt(_)&&Bn(Sc,function(C){var j=_[C];_[C]=function(){for(var Z=[],re=0;re<arguments.length;re++)Z[re]=arguments[re];var se=j[vp](this,Z);return sa(p,_,b,"Patching"),se}})}function ba(p,_){var b=ut(p,_);return b&&b.get}function of(p,_,b,C){var j={n:b,h:[],trk:function(be){be&&be.fn&&(uc(j.h,be)===-1&&j.h[Fa](be),p.trk(be,j))},clr:function(be){var ct=uc(j.h,be);ct!==-1&&j.h[ia](ct,1)}},Z=!0,re=!1;function se(){Z&&(re=re||Qn(se,p,C),C&&!C[pi]&&re&&(C=sa(p,C,b,"Converting")),Z=!1);var be=p.act;return be&&j.trk(be),C}se[p.prop]={chng:function(){p.add(j)}};function oe(be){if(C!==be){se[p.ro]&&!p.upd&&Va("["+b+"] is read-only:"+Yt(_)),Z&&(re=re||Qn(se,p,C),Z=!1);var ct=re&&se[p.rf];if(re)if(ct){Zt(C,function(tr){C[tr]=be?be[tr]:fo});try{Zt(be,function(tr,dt){Ii(p,C,tr,dt)}),be=C}catch(tr){bs((p.hdlr||{})[ya],b,"Assigning",tr),re=!1}}else C&&C[pi]&&Zt(C,function(tr){var dt=ba(C,tr);if(dt){var gt=dt[p.prop];gt&&gt.chng()}});if(be!==C){var Pt=be&&Qn(se,p,be);!ct&&Pt&&(be=sa(p,be,b,"Converting")),C=be,re=Pt}p.add(j)}}fn(_,j.n,{g:se,s:oe})}function Ii(p,_,b,C){if(_){var j=ba(_,b),Z=j&&!!j[p.prop];Z?_[b]=C:of(p,_,b,C)}return _}function Dd(p,_,b,C){if(_){var j=ba(_,b),Z=j&&!!j[p.prop],re=C&&C[0],se=C&&C[1],oe=C&&C[2];if(!Z){if(oe)try{_n(_)}catch(be){bs((p.hdlr||{})[ya],b,"Blocking",be)}try{Ii(p,_,b,_[b]),j=ba(_,b)}catch(be){bs((p.hdlr||{})[ya],b,"State",be)}}re&&(j[p.rf]=re),se&&(j[p.ro]=se),oe&&(j[p.blkVal]=!0)}return _}function sa(p,_,b,C){try{Zt(_,function(j,Z){Ii(p,_,j,Z)}),_[pi]||(qt(_,pi,{get:function(){return p[cm]}}),Dp(p,_,b))}catch(j){bs((p.hdlr||{})[ya],b,C,j)}return _}var Ss="[[ai_",Ds="]]";function Tp(p){var _,b=Iu(Ss+"get"+p.uid+Ds),C=Iu(Ss+"ro"+p.uid+Ds),j=Iu(Ss+"rf"+p.uid+Ds),Z=Iu(Ss+"blkVal"+p.uid+Ds),re=Iu(Ss+"dtl"+p.uid+Ds),se=null,oe=null,be;function ct(gt,dr){var zt=be.act;try{be.act=gt,gt&&gt[re]&&(Bn(gt[re],function(xr){xr.clr(gt)}),gt[re]=[]),dr({cfg:p.cfg,set:p.set.bind(p),setDf:p[hp].bind(p),ref:p.ref.bind(p),rdOnly:p[di].bind(p)})}catch(xr){var Nr=p[ya];throw Nr&&Nr[pp](1,107,Yt(xr)),xr}finally{be.act=zt||null}}function Pt(){if(se){var gt=se;se=null,oe&&oe[pv](),oe=null;var dr=[];if(Bn(gt,function(zt){if(zt&&(zt[re]&&(Bn(zt[re],function(Nr){Nr.clr(zt)}),zt[re]=null),zt.fn))try{ct(zt,zt.fn)}catch(Nr){dr[Fa](Nr)}}),se)try{Pt()}catch(zt){dr[Fa](zt)}dr[_t]>0&&vh("Watcher error(s): ",dr)}}function tr(gt){if(gt&&gt.h[_t]>0){se||(se=[]),oe||(oe=Ma(function(){oe=null,Pt()},0));for(var dr=0;dr<gt.h[_t];dr++){var zt=gt.h[dr];zt&&uc(se,zt)===-1&&se[Fa](zt)}}}function dt(gt,dr){if(gt){var zt=gt[re]=gt[re]||[];uc(zt,dr)===-1&&zt[Fa](dr)}}return be=(_={prop:b,ro:C,rf:j},_[La]=Z,_[cm]=p,_.add=tr,_[Pu]=Pt,_.use=ct,_.trk=dt,_),be}function il(p,_){var b={fn:_,rm:function(){b.fn=null,p=null,_=null}};return fn(b,"toJSON",{v:function(){return"WatcherHandler"+(b.fn?"":"[X]")}}),p.use(b,_),b}function Td(p,_,b){var C,j=bc(_);if(j)return j;var Z=wa("dyncfg",!0),re=_&&b!==!1?_:$a(_),se;function oe(){se[Pu]()}function be(Nr,xr,Ut){try{Nr=Ii(se,Nr,xr,Ut)}catch(In){bs(p,xr,"Setting value",In)}return Nr[xr]}function ct(Nr){return il(se,Nr)}function Pt(Nr,xr){se.use(null,function(Ut){var In=se.upd;try{Bt(xr)||(se.upd=xr),Nr(Ut)}finally{se.upd=In}})}function tr(Nr,xr){var Ut;return Dd(se,Nr,xr,(Ut={},Ut[0]=!0,Ut))[xr]}function dt(Nr,xr){var Ut;return Dd(se,Nr,xr,(Ut={},Ut[1]=!0,Ut))[xr]}function gt(Nr,xr){var Ut;return Dd(se,Nr,xr,(Ut={},Ut[2]=!0,Ut))[xr]}function dr(Nr,xr){return xr&&Zt(xr,function(Ut,In){ju(zt,Nr,Ut,In)}),Nr}var zt=(C={uid:null,cfg:re},C[ya]=p,C[Pu]=oe,C.set=be,C[hp]=dr,C[Xn]=ct,C.ref=tr,C[di]=dt,C[La]=gt,C._block=Pt,C);return fn(zt,"uid",{c:!1,e:!1,w:!1,v:Z}),se=Tp(zt),sa(se,re,"config","Creating"),zt}function al(p,_){p?(p[zs](_),p[pp](2,108,_)):Va(_)}function $o(p,_,b,C){var j=Td(b,p||{},C);return _&&j[hp](j.cfg,_),j}function ua(p,_,b){var C=p[pi]||p;return C.cfg&&(C.cfg===p||C.cfg[pi]===C)?C[Xn](_):(al(b,nl+Yt(p)),$o(p,null,b)[Xn](_))}var sf=null;function mv(){var p=Ai("Microsoft");return p&&(sf=p.ApplicationInsights),sf}function Dc(p){var _=sf;return!_&&p.disableDbgExt!==!0&&(_=sf||mv()),_?_.ChromeDbgExt:null}var Tc,Ts="warnToConsole",ol="AI (Internal): ",fm="AI: ",Ap="AITR_",sl={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},Ac=(Tc={},Tc[0]=null,Tc[1]="errorToConsole",Tc[2]=Ts,Tc[3]="debugToConsole",Tc);function gh(p){return p?'"'+p[ku](/\"/g,Sn)+'"':Sn}function gv(p,_){var b=Uo();if(b){var C="log";b[p]&&(C=p),Gr(b[C])&&b[C](_)}}var Nc=function(){function p(_,b,C,j){C===void 0&&(C=!1);var Z=this;Z[mp]=_,Z[ji]=(C?fm:ol)+_;var re=Sn;Hs()&&(re=lo().stringify(j));var se=(b?" message:"+gh(b):Sn)+(j?" props:"+gh(re):Sn);Z[ji]+=se}return p.dataType="MessageData",p}();function yv(p,_){return(p||{})[ya]||new ul(_)}var ul=function(){function p(_){this.identifier="DiagnosticLogger",this.queue=[];var b=0,C={},j,Z,re,se,oe;Lo(p,this,function(be){oe=Pt(_||{}),be.consoleLoggingLevel=function(){return j},be[pp]=function(gt,dr,zt,Nr,xr){xr===void 0&&(xr=!1);var Ut=new Nc(dr,zt,xr,Nr);if(se)throw Yt(Ut);var In=Ac[gt]||Ts;if(Bt(Ut[ji]))dt("throw"+(gt===1?"Critical":"Warning"),Ut);else{if(xr){var Fc=+Ut[mp];!C[Fc]&&j>=gt&&(be[In](Ut[ji]),C[Fc]=!0)}else j>=gt&&be[In](Ut[ji]);ct(gt,Ut)}},be.debugToConsole=function(gt){gv("debug",gt),dt("warning",gt)},be[zs]=function(gt){gv("warn",gt),dt("warning",gt)},be.errorToConsole=function(gt){gv("error",gt),dt("error",gt)},be.resetInternalMessageCount=function(){b=0,C={}},be[hh]=ct,be[Ru]=function(gt){oe&&oe.rm(),oe=null};function ct(gt,dr){if(!tr()){var zt=!0,Nr=Ap+dr[mp];if(C[Nr]?zt=!1:C[Nr]=!0,zt&&(gt<=Z&&(be.queue[Fa](dr),b++,dt(gt===1?"error":"warn",dr)),b===re)){var xr="Internal events throttle limit per PageView reached for this app.",Ut=new Nc(23,xr,!1);be.queue[Fa](Ut),gt===1?be.errorToConsole(xr):be[zs](xr)}}}function Pt(gt){return ua($o(gt,sl,be).cfg,function(dr){var zt=dr.cfg;j=zt[Qm],Z=zt.loggingLevelTelemetry,re=zt.maxMessageLimit,se=zt.enableDebug})}function tr(){return b>=re}function dt(gt,dr){var zt=Dc(_||{});zt&&zt[Kf]&&zt[Kf](gt,dr)}})}return p.__ieDyn=1,p}();function Np(p){return p||new ul}function ho(p,_,b,C,j,Z){Z===void 0&&(Z=!1),Np(p)[pp](_,b,C,j,Z)}function yh(){for(var p=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"],_=Sn,b,C=0;C<4;C++)b=qo(),_+=p[b&15]+p[b>>4&15]+p[b>>8&15]+p[b>>12&15]+p[b>>16&15]+p[b>>20&15]+p[b>>24&15]+p[b>>28&15];var j=p[8+(qo()&3)|0];return ss(_,0,8)+ss(_,9,4)+"4"+ss(_,13,3)+j+ss(_,16,3)+ss(_,19,12)}var lm=/^([\da-f]{2})-([\da-f]{32})-([\da-f]{16})-([\da-f]{2})(-[^\s]{1,64})?$/i,Ad="00",_h="ff",Cp="00000000000000000000000000000000",uf="0000000000000000",Nd=1;function Cc(p,_,b){return p&&p[_t]===_&&p!==b?!!p.match(/^[\da-f]*$/i):!1}function Qs(p,_,b){return Cc(p,_)?p:b}function cf(p){(isNaN(p)||p<0||p>255)&&(p=1);for(var _=p.toString(16);_[_t]<2;)_="0"+_;return _}function _v(p,_,b,C){var j;return j={},j[ph]=Cc(C,2,_h)?C:Ad,j[fc]=ff(p)?p:yh(),j[Jc]=xp(_)?_:us(yh(),16),j.traceFlags=b>=0&&b<=255?b:1,j}function Ip(p,_){var b;if(!p||(kt(p)&&(p=p[0]||""),!p||!Fe(p)||p[_t]>8192))return null;if(p.indexOf(",")!==-1){var C=p[ao](",");p=C[_>0&&C[_t]>_?_:0]}var j=lm.exec(va(p));return!j||j[1]===_h||j[2]===Cp||j[3]===uf?null:(b={version:(j[1]||Sn)[xu](),traceId:(j[2]||Sn)[xu](),spanId:(j[3]||Sn)[xu]()},b[Zf]=parseInt(j[4],16),b)}function ff(p){return Cc(p,32,Cp)}function xp(p){return Cc(p,16,uf)}function eu(p){return!(!p||!Cc(p[ph],2,_h)||!Cc(p[fc],32,Cp)||!Cc(p[Jc],16,uf)||!Cc(cf(p[Zf]),2))}function Vr(p){return eu(p)?(p[Zf]&Nd)===Nd:!1}function Ic(p){if(p){var _=cf(p[Zf]);Cc(_,2)||(_="01");var b=p[ph]||Ad;return b!=="00"&&b!=="ff"&&(b=Ad),"".concat(b.toLowerCase(),"-").concat(Qs(p.traceId,32,Cp).toLowerCase(),"-").concat(Qs(p.spanId,16,uf).toLowerCase(),"-").concat(_.toLowerCase())}return""}function hi(p){var _="traceparent",b=Ip(jo(_),p);return b||(b=Ip(wd(_),p)),b}function Pp(p){var _=p.getElementsByTagName("script"),b=[];return Bn(_,function(C){var j=C[hd]("src");if(j){var Z=C[hd]("crossorigin"),re=C.hasAttribute("async")===!0,se=C.hasAttribute("defer")===!0,oe=C[hd]("referrerpolicy"),be={url:j};Z&&(be.crossOrigin=Z),re&&(be.async=re),se&&(be.defer=se),oe&&(be.referrerPolicy=oe),b[Fa](be)}}),b}var Cd="on",lf="attachEvent",xc="addEventListener",ca="detachEvent",Id="removeEventListener",ei="events";wa("aiEvtPageHide"),wa("aiEvtPageShow");var wr=/\.[\.]+/g,tu=/[\.]+$/,An=1,As=ws("events"),Pc=/^([^.]*)(?:\.(.+)|)/;function Rc(p){return p&&p[ku]?p[ku](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Sn):p}function ru(p,_){var b;if(_){var C=Sn;kt(_)?(C=Sn,Bn(_,function(Z){Z=Rc(Z),Z&&(Z[0]!=="."&&(Z="."+Z),C+=Z)})):C=Rc(_),C&&(C[0]!=="."&&(C="."+C),p=(p||Sn)+C)}var j=Pc.exec(p||Sn)||[];return b={},b[Ua]=j[1],b.ns=(j[2]||Sn).replace(wr,".").replace(tu,Sn)[ao](".").sort().join("."),b}function vo(p,_,b){b===void 0&&(b=!0);var C=As.get(p,ei,{},b),j=C[_];return j||(j=C[_]=[]),j}function cl(p,_,b,C){p&&_&&_[Ua]&&(p[Id]?p[Id](_[Ua],b,C):p[ca]&&p[ca](Cd+_[Ua],b))}function Eh(p,_,b,C){var j=!1;return p&&_&&_[Ua]&&b&&(p[xc]?(p[xc](_[Ua],b,C),j=!0):p[lf]&&(p[lf](Cd+_[Ua],b),j=!0)),j}function fl(p,_,b,C){for(var j=_[_t];j--;){var Z=_[j];Z&&(!b.ns||b.ns===Z.evtName.ns)&&(!C||C(Z))&&(cl(p,Z.evtName,Z[gp],Z.capture),_[ia](j,1))}}function wh(p,_,b){if(_[Ua])fl(p,vo(p,_[Ua]),_,b);else{var C=As.get(p,ei,{});Zt(C,function(j,Z){fl(p,Z,_,b)}),Ui(C)[_t]===0&&As.kill(p,ei)}}function ll(p,_){var b;return _?(kt(_)?b=[p].concat(_):b=[p,_],b=ru("xx",b).ns[ao](".")):b=p,b}function df(p,_,b,C,j){var Z;j===void 0&&(j=!1);var re=!1;if(p)try{var se=ru(_,C);if(re=Eh(p,se,b,j),re&&As.accept(p)){var oe=(Z={guid:An++,evtName:se},Z[gp]=b,Z.capture=j,Z);vo(p,se.type)[Fa](oe)}}catch{}return re}function Rp(p,_,b,C,j){if(j===void 0&&(j=!1),p)try{var Z=ru(_,C),re=!1;wh(p,Z,function(se){return Z.ns&&!b||se[gp]===b?(re=!0,!0):!1}),re||cl(p,Z,b,j)}catch{}}var Kn="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",pf="sampleRate",vi="ProcessLegacy",qu="http.method",kp="https://dc.services.visualstudio.com",xd="/v2/track",mi="not_specified",Pd="iKey",Op=dp({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),nu="split",xt="length",Ns="toLowerCase",Cs="ingestionendpoint",Sa="toString",dl="push",hf="removeItem",Is="name",Wa="message",vf="count",Rd="preTriggerDate",iu="disabled",pl="interval",mf="daysOfMonth",hl="date",Mp="getUTCDate",Lp="stringify",bh="pathname",dm="correlationHeaderExcludePatterns",xs="extensionConfig",au="exceptions",Ps="parsedStack",Ha="properties",ou="measurements",Yu="sizeInBytes",Da="typeName",gf="severityLevel",Ev="problemGroup",kc="isManual",Sh="CreateFromInterface",vl="assembly",yf="fileName",ml="hasFullStack",su="level",Ka="method",_f="line",gl="duration",kd="receivedResponse";function gi(p,_,b){var C=_[xt],j=uu(p,_);if(j[xt]!==C){for(var Z=0,re=j;b[re]!==void 0;)Z++,re=os(j,0,147)+_l(Z);j=re}return j}function uu(p,_){var b;return _&&(_=va(Dr(_)),_[xt]>150&&(b=os(_,0,150),ho(p,2,57,"name is too long.  It has been truncated to 150 characters.",{name:_},!0))),b||_}function yi(p,_,b){b===void 0&&(b=1024);var C;return _&&(b=b||1024,_=va(Dr(_)),_[xt]>b&&(C=os(_,0,b),ho(p,2,61,"string value is too long. It has been truncated to "+b+" characters.",{value:_},!0))),C||_}function Od(p,_){return yl(p,_,2048,66)}function zu(p,_){var b;return _&&_[xt]>32768&&(b=os(_,0,32768),ho(p,2,56,"message is too long, it has been truncated to 32768 characters.",{message:_},!0)),b||_}function Md(p,_){var b;if(_){var C=""+_;C[xt]>32768&&(b=os(C,0,32768),ho(p,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:_},!0))}return b||_}function Yi(p,_){if(_){var b={};Zt(_,function(C,j){if(er(j)&&Hs())try{j=lo()[Lp](j)}catch(Z){ho(p,2,49,"custom property is not valid",{exception:Z},!0)}j=yi(p,j,8192),C=gi(p,C,b),b[C]=j}),_=b}return _}function _i(p,_){if(_){var b={};Zt(_,function(C,j){C=gi(p,C,b),b[C]=j}),_=b}return _}function Dh(p,_){return _&&yl(p,_,128,69)[Sa]()}function yl(p,_,b,C){var j;return _&&(_=va(Dr(_)),_[xt]>b&&(j=os(_,0,b),ho(p,2,C,"input is too long, it has been truncated to "+b+" characters.",{data:_},!0))),j||_}function _l(p){var _="00"+p;return ss(_,_[xt]-3)}var $u=Ro()||{},wv=0,bv=[null,null,null,null,null];function El(p){var _=wv,b=bv,C=b[_];return $u.createElement?b[_]||(C=b[_]=$u.createElement("a")):C={host:Sv(p,!0)},C.href=p,_++,_>=b[xt]&&(_=0),wv=_,C}function Th(p){var _,b=El(p);return b&&(_=b.href),_}function wl(p){var _,b=El(p);return b&&(_=b[bh]),_}function Ah(p,_){return p?p.toUpperCase()+" "+_:_}function Sv(p,_){var b=bl(p,_)||"";if(b){var C=b.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(C!=null&&C[xt]>3&&Fe(C[2])&&C[2][xt]>0)return C[2]+(C[3]||"")}return b}function bl(p,_){var b=null;if(p){var C=p.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(C!=null&&C[xt]>2&&Fe(C[2])&&C[2][xt]>0&&(b=C[2]||"",_&&C[xt]>2)){var j=(C[1]||"")[Ns](),Z=C[3]||"";(j==="http"&&Z===":80"||j==="https"&&Z===":443")&&(Z=""),b+=Z}}return b}var Dv=[kp+xd,"https://breeze.aimon.applicationinsights.io"+xd,"https://dc-int.services.visualstudio.com"+xd],Vu="cid-v1:";function Ef(p){return uc(Dv,p[Ns]())!==-1}function Fp(p){Vu=p}function Rs(){return Vu}function Ld(p,_,b){if(!_||p&&p.disableCorrelationHeaders)return!1;if(p&&p[dm]){for(var C=0;C<p.correlationHeaderExcludePatterns[xt];C++)if(p[dm][C].test(_))return!1}var j=El(_).host[Ns]();if(j&&(na(j,":443")!==-1||na(j,":80")!==-1)&&(j=(bl(_,!0)||"")[Ns]()),(!p||!p.enableCorsCorrelation)&&j&&j!==b)return!1;var Z=p&&p.correlationHeaderDomains;if(Z){var re;if(Bn(Z,function(be){var ct=new RegExp(be.toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));re=re||ct.test(j)}),!re)return!1}var se=p&&p.correlationHeaderExcludedDomains;if(!se||se[xt]===0)return!0;for(var C=0;C<se[xt];C++){var oe=new RegExp(se[C].toLowerCase().replace(/\\/g,"\\\\").replace(/\./g,"\\.").replace(/\*/g,".*"));if(oe.test(j))return!1}return j&&j[xt]>0}function Sl(p){if(p){var _=Vo(p,Op[1]);if(_&&_!==Vu)return _}}function Vo(p,_){if(p)for(var b=p[nu](","),C=0;C<b[xt];++C){var j=b[C][nu]("=");if(j[xt]===2&&j[0]===_)return j[1]}}function wf(p,_,b,C){var j,Z=C,re=C;if(_&&_[xt]>0){var se=El(_);if(j=se.host,!Z)if(se[bh]!=null){var oe=se.pathname[xt]===0?"/":se[bh];oe.charAt(0)!=="/"&&(oe="/"+oe),re=se[bh],Z=yi(p,b?b+" "+oe:oe)}else Z=yi(p,_)}else j=C,Z=C;return{target:j,name:Z,data:re}}function Tv(){var p=Tr();if(p&&p.now&&p.timing){var _=p.now()+p.timing.navigationStart;if(_>0)return _}return dn()}function bf(p,_){var b=null;return p!==0&&_!==0&&!qe(p)&&!qe(_)&&(b=_-p),b}function pm(p,_){var b=p||{};return{getName:function(){return b[Is]},setName:function(C){_&&_.setName(C),b[Is]=C},getTraceId:function(){return b.traceID},setTraceId:function(C){_&&_.setTraceId(C),ff(C)&&(b.traceID=C)},getSpanId:function(){return b.parentID},setSpanId:function(C){_&&_.setSpanId(C),xp(C)&&(b.parentID=C)},getTraceFlags:function(){return b.traceFlags},setTraceFlags:function(C){_&&_.setTraceFlags(C),b.traceFlags=C}}}var Dl=Hf({LocalStorage:0,SessionStorage:1}),Av=Hf({AI:0,AI_AND_W3C:1,W3C:2}),Nh=Hf({Normal:1,Critical:2}),Wu=void 0,Hu=void 0,Sf="";function ks(){return Ta()?cu(Dl.LocalStorage):null}function cu(p){try{if(qe(Po()))return null;var _=new Date()[Sa](),b=Ai(p===Dl.LocalStorage?"localStorage":"sessionStorage"),C=Sf+_;b.setItem(C,_);var j=b.getItem(C)!==_;if(b[hf](C),!j)return b}catch{}return null}function Tl(){return Df()?cu(Dl.SessionStorage):null}function Fd(){Wu=!1,Hu=!1}function Ud(p){Sf=p||""}function Al(){Wu=Ta(!0),Hu=Df(!0)}function Ta(p){return(p||Wu===void 0)&&(Wu=!!cu(Dl.LocalStorage)),Wu}function Nl(p,_){var b=ks();if(b!==null)try{return b.getItem(_)}catch(C){Wu=!1,ho(p,2,1,"Browser failed read of local storage. "+Fo(C),{exception:Yt(C)})}return null}function Nv(p,_,b){var C=ks();if(C!==null)try{return C.setItem(_,b),!0}catch(j){Wu=!1,ho(p,2,3,"Browser failed write to local storage. "+Fo(j),{exception:Yt(j)})}return!1}function hm(p,_){var b=ks();if(b!==null)try{return b[hf](_),!0}catch(C){Wu=!1,ho(p,2,5,"Browser failed removal of local storage item. "+Fo(C),{exception:Yt(C)})}return!1}function Df(p){return(p||Hu===void 0)&&(Hu=!!cu(Dl.SessionStorage)),Hu}function vm(){var p=[];return Df()&&Zt(Ai("sessionStorage"),function(_){p[dl](_)}),p}function Wo(p,_){var b=Tl();if(b!==null)try{return b.getItem(_)}catch(C){Hu=!1,ho(p,2,2,"Browser failed read of session storage. "+Fo(C),{exception:Yt(C)})}return null}function Ku(p,_,b){var C=Tl();if(C!==null)try{return C.setItem(_,b),!0}catch(j){Hu=!1,ho(p,2,4,"Browser failed write to session storage. "+Fo(j),{exception:Yt(j)})}return!1}function Tf(p,_){var b=Tl();if(b!==null)try{return b[hf](_),!0}catch(C){Hu=!1,ho(p,2,6,"Browser failed removal of session storage item. "+Fo(C),{exception:Yt(C)})}return!1}var Cv="appInsightsThrottle",Up=function(){function p(_,b){var C=this,j,Z,re,se,oe,be,ct,Pt=!1,tr=!1;gt(),C._getDbgPlgTargets=function(){return[ct]},C.getConfig=function(){return re},C.canThrottle=function(Be){var wt=Fl(Be),Kt=dr(Be);return xr(Kt,j,wt)},C.isTriggered=function(Be){return Vd(Be)},C.isReady=function(){return Pt},C.flush=function(Be){try{var wt=Ul(Be);if(wt&&wt[xt]>0){var Kt=wt.slice(0);return ct[Be]=[],Bn(Kt,function(pn){dt(pn.msgID,pn[Wa],pn.severity,!1)}),!0}}catch{}return!1},C.flushAll=function(){try{if(ct){var Be=!0;return Zt(ct,function(wt){var Kt=C.flush(parseInt(wt));Be=Be&&Kt}),Be}}catch{}return!1},C.onReadyState=function(Be,wt){return wt===void 0&&(wt=!0),Pt=qe(Be)?!0:Be,Pt&&wt?C.flushAll():null},C.sendMessage=function(Be,wt,Kt){return dt(Be,wt,Kt,!0)};function dt(Be,wt,Kt,pn){if(Pt){var xi=Ll(Be);if(!xi)return;var Pi=dr(Be),ti=Fl(Be),Aa=xr(Pi,j,ti),Fs=!1,Rf=0,Ov=Vd(Be);try{Aa&&!Ov?(Rf=Math.min(Pi.limit.maxSendNumber,ti[vf]+1),ti[vf]=0,Fs=!0,oe[Be]=!0,ti[Rd]=new Date):(oe[Be]=Aa,ti[vf]+=1);var Qu=Ut(Be);Pf(Z,Qu,ti);for(var Wd=0;Wd<Rf;Wd++)$d(Be,Z,wt,Kt)}catch{}return{isThrottled:Fs,throttleNum:Rf}}else if(pn){var _m=Ul(Be);_m[dl]({msgID:Be,message:wt,severity:Kt})}return null}function gt(){Z=yv(_),oe={},se={},ct={},re={},zt(109),be=ja(b)?b:"",_.addUnloadHook(ua(_.config,function(Be){var wt=Be.cfg;j=Ta();var Kt=wt.throttleMgrCfg||{};Zt(Kt,function(pn,xi){zt(parseInt(pn),xi)})}))}function dr(Be){return re[Be]||re[109]}function zt(Be,wt){var Kt,pn;try{var xi=wt||{},Pi={};Pi[iu]=!!xi[iu];var ti=xi[pl]||{};tr=(ti==null?void 0:ti.daysOfMonth)&&(ti==null?void 0:ti.daysOfMonth[xt])>0,Pi[pl]=Nr(ti);var Aa={samplingRate:((Kt=xi.limit)===null||Kt===void 0?void 0:Kt.samplingRate)||100,maxSendNumber:((pn=xi.limit)===null||pn===void 0?void 0:pn.maxSendNumber)||1};Pi.limit=Aa,re[Be]=Pi}catch{}}function Nr(Be){Be=Be||{};var wt=Be==null?void 0:Be.monthInterval,Kt=Be==null?void 0:Be.dayInterval;return qe(wt)&&qe(Kt)&&(Be.monthInterval=3,tr||(Be[mf]=[28],tr=!0)),Be={monthInterval:Be==null?void 0:Be.monthInterval,dayInterval:Be==null?void 0:Be.dayInterval,daysOfMonth:Be==null?void 0:Be.daysOfMonth},Be}function xr(Be,wt,Kt){if(Be&&!Be[iu]&&wt&&ja(Kt)){var pn=du(),xi=Kt[hl],Pi=Be[pl],ti=1;if(Pi!=null&&Pi.monthInterval){var Aa=(pn.getUTCFullYear()-xi.getUTCFullYear())*12+pn.getUTCMonth()-xi.getUTCMonth();ti=Ml(Pi.monthInterval,0,Aa)}var Fs=1;if(tr)Fs=uc(Pi[mf],pn[Mp]());else if(Pi!=null&&Pi.dayInterval){var Rf=Math.floor((pn.getTime()-xi.getTime())/864e5);Fs=Ml(Pi.dayInterval,0,Rf)}return ti>=0&&Fs>=0}return!1}function Ut(Be,wt){var Kt=ja(wt)?wt:"";return Be?Cv+Kt+"-"+Be:null}function In(Be){try{if(Be){var wt=new Date;return Be.getUTCFullYear()===wt.getUTCFullYear()&&Be.getUTCMonth()===wt.getUTCMonth()&&Be[Mp]()===wt[Mp]()}}catch{}return!1}function Fc(Be,wt,Kt){try{var pn={date:du(),count:0};if(Be){var xi=JSON.parse(Be),Pi={date:du(xi[hl])||pn[hl],count:xi[vf]||pn[vf],preTriggerDate:xi.preTriggerDate?du(xi[Rd]):void 0};return Pi}else return Pf(wt,Kt,pn),pn}catch{}return null}function du(Be){try{if(Be){var wt=new Date(Be);if(!isNaN(wt.getDate()))return wt}else return new Date}catch{}return null}function Pf(Be,wt,Kt){try{return Nv(Be,wt,va(JSON[Lp](Kt)))}catch{}return!1}function Ml(Be,wt,Kt){return Be<=0?1:Kt>=wt&&(Kt-wt)%Be==0?Math.floor((Kt-wt)/Be)+1:-1}function $d(Be,wt,Kt,pn){ho(wt,pn||1,Be,Kt)}function Ll(Be){try{var wt=dr(Be);return Ks(1e6)<=wt.limit.samplingRate}catch{}return!1}function Fl(Be){try{var wt=se[Be];if(!wt){var Kt=Ut(Be,be);wt=Fc(Nl(Z,Kt),Z,Kt),se[Be]=wt}return se[Be]}catch{}return null}function Vd(Be){var wt=oe[Be];if(qe(wt)){wt=!1;var Kt=Fl(Be);Kt&&(wt=In(Kt[Rd])),oe[Be]=wt}return oe[Be]}function Ul(Be){return ct=ct||{},qe(ct[Be])&&(ct[Be]=[]),ct[Be]}}return p}(),Iv=";",Ch="=";function Bd(p){if(!p)return{};var _=p[nu](Iv),b=kr(_,function(j,Z){var re=Z[nu](Ch);if(re[xt]===2){var se=re[0][Ns](),oe=re[1];j[se]=oe}return j},{});if(Ui(b)[xt]>0){if(b.endpointsuffix){var C=b.location?b.location+".":"";b[Cs]=b[Cs]||"https://"+C+"dc."+b.endpointsuffix}b[Cs]=b[Cs]||kp,hs(b[Cs],"/")&&(b[Cs]=b[Cs].slice(0,-1))}return b}var Af={parse:Bd},mo=function(){function p(_,b,C){var j=this,Z=this;Z.ver=1,Z.sampleRate=100,Z.tags={},Z[Is]=yi(_,C)||mi,Z.data=b,Z.time=mr(new Date),Z.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return j.sampleRate===100?4:1},tags:1,data:1}}return p}(),jd=function(){function p(_,b,C,j){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var Z=this;Z.ver=2,Z[Is]=yi(_,b)||mi,Z[Ha]=Yi(_,C),Z[ou]=_i(_,j)}return p.envelopeType="Microsoft.ApplicationInsights.{0}.Event",p.dataType="EventData",p}(),Nf="<no_method>",zi="error",go="stack",Cl="stackDetails",xv="errorSrc",Pv="message",Ei="description";function Cf(p,_){var b=p;return b&&!Fe(b)&&(JSON&&JSON[Lp]?(b=JSON[Lp](p),_&&(!b||b==="{}")&&(Gr(p[Sa])?b=p[Sa]():b=""+p)):b=""+p+" - (Missing JSON.stringify)"),b||""}function Il(p,_){var b=p;return p&&(b&&!Fe(b)&&(b=p[Pv]||p[Ei]||b),b&&!Fe(b)&&(b=Cf(b,!0)),p.filename&&(b=b+" @"+(p.filename||"")+":"+(p.lineno||"?")+":"+(p.colno||"?"))),_&&_!=="String"&&_!=="Object"&&_!=="Error"&&na(b||"",_)===-1&&(b=_+": "+b),b||""}function mm(p){try{if(er(p))return"hasFullStack"in p&&"typeName"in p}catch{}return!1}function Rv(p){try{if(er(p))return"ver"in p&&"exceptions"in p&&"properties"in p}catch{}return!1}function xl(p){return p&&p.src&&Fe(p.src)&&p.obj&&kt(p.obj)}function $i(p){var _=p||"";Fe(_)||(Fe(_[go])?_=_[go]:_=""+_);var b=_[nu](`
`);return{src:_,obj:b}}function Bp(p){for(var _=[],b=p[nu](`
`),C=0;C<b[xt];C++){var j=b[C];b[C+1]&&(j+="@"+b[C+1],C++),_[dl](j)}return{src:p,obj:_}}function Oc(p){var _=null;if(p)try{if(p[go])_=$i(p[go]);else if(p[zi]&&p[zi][go])_=$i(p[zi][go]);else if(p.exception&&p.exception[go])_=$i(p.exception[go]);else if(xl(p))_=p;else if(xl(p[Cl]))_=p[Cl];else if(cd()&&cd().opera&&p[Pv])_=Bp(p[Wa]);else if(p.reason&&p.reason[go])_=$i(p.reason[go]);else if(Fe(p))_=$i(p);else{var b=p[Pv]||p[Ei]||"";Fe(p[xv])&&(b&&(b+=`
`),b+=" from "+p[xv]),b&&(_=$i(b))}}catch(C){_=$i(C)}return _||{src:"",obj:null}}function If(p){var _="";return p&&(p.obj?Bn(p.obj,function(b){_+=b+`
`}):_=p.src||""),_}function fu(p){var _,b=p.obj;if(b&&b[xt]>0){_=[];var C=0,j=0;Bn(b,function(gt){var dr=gt[Sa]();if(Ho.regex.test(dr)){var zt=new Ho(dr,C++);j+=zt[Yu],_[dl](zt)}});var Z=32*1024;if(j>Z)for(var re=0,se=_[xt]-1,oe=0,be=re,ct=se;re<se;){var Pt=_[re][Yu],tr=_[se][Yu];if(oe+=Pt+tr,oe>Z){var dt=ct-be+1;_.splice(be,dt);break}be=re,ct=se,re++,se--}}return _}function Pl(p){var _="";if(p&&(_=p.typeName||p[Is]||"",!_))try{var b=/function (.{1,200})\(/,C=b.exec(p.constructor[Sa]());_=C&&C[xt]>1?C[1]:""}catch{}return _}function jp(p){if(p)try{if(!Fe(p)){var _=Pl(p),b=Cf(p,!1);return(!b||b==="{}")&&(p[zi]&&(p=p[zi],_=Pl(p)),b=Cf(p,!0)),na(b,_)!==0&&_!=="String"?_+":"+b:b}}catch{}return""+(p||"")}var Ct=function(){function p(_,b,C,j,Z,re){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var se=this;se.ver=2,Rv(b)?(se[au]=b[au]||[],se[Ha]=b[Ha],se[ou]=b[ou],b[gf]&&(se[gf]=b[gf]),b.id&&(se.id=b.id,b[Ha].id=b.id),b[Ev]&&(se[Ev]=b[Ev]),qe(b[kc])||(se[kc]=b[kc])):(C||(C={}),re&&(C.id=re),se[au]=[new Ju(_,b,C)],se[Ha]=Yi(_,C),se[ou]=_i(_,j),Z&&(se[gf]=Z),re&&(se.id=re))}return p.CreateAutoException=function(_,b,C,j,Z,re,se,oe){var be,ct=Pl(Z||re||_);return be={},be[Wa]=Il(_,ct),be.url=b,be.lineNumber=C,be.columnNumber=j,be.error=jp(Z||re||_),be.evt=jp(re||_),be[Da]=ct,be.stackDetails=Oc(se||Z||re),be.errorSrc=oe,be},p.CreateFromInterface=function(_,b,C,j){var Z=b[au]&&ha(b[au],function(se){return Ju[Sh](_,se)}),re=new p(_,Zc(Zc({},b),{exceptions:Z}),C,j);return re},p.prototype.toInterface=function(){var _,b=this,C=b.exceptions,j=b.properties,Z=b.measurements,re=b.severityLevel,se=b.problemGroup,oe=b.id,be=b.isManual,ct=C instanceof Array&&ha(C,function(Pt){return Pt.toInterface()})||void 0;return _={ver:"4.0"},_[au]=ct,_.severityLevel=re,_.properties=j,_.measurements=Z,_.problemGroup=se,_.id=oe,_.isManual=be,_},p.CreateSimpleException=function(_,b,C,j,Z,re){var se;return{exceptions:[(se={},se[ml]=!0,se.message=_,se.stack=Z,se.typeName=b,se)]}},p.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",p.dataType="ExceptionData",p.formatError=jp,p}(),Ju=function(){function p(_,b,C){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var j=this;if(mm(b))j[Da]=b[Da],j[Wa]=b[Wa],j[go]=b[go],j[Ps]=b[Ps]||[],j[ml]=b[ml];else{var Z=b,re=Z&&Z.evt;nn(Z)||(Z=Z[zi]||re||Z),j[Da]=yi(_,Pl(Z))||mi,j[Wa]=zu(_,Il(b||Z,j[Da]))||mi;var se=b[Cl]||Oc(b);j[Ps]=fu(se),kt(j[Ps])&&ha(j[Ps],function(oe){oe[vl]=yi(_,oe[vl]),oe[yf]=yi(_,oe[yf])}),j[go]=Md(_,If(se)),j.hasFullStack=kt(j.parsedStack)&&j.parsedStack[xt]>0,C&&(C[Da]=C[Da]||j[Da])}}return p.prototype.toInterface=function(){var _,b=this,C=b[Ps]instanceof Array&&ha(b[Ps],function(Z){return Z.toInterface()}),j=(_={id:b.id,outerId:b.outerId,typeName:b[Da],message:b[Wa],hasFullStack:b[ml],stack:b[go]},_[Ps]=C||void 0,_);return j},p.CreateFromInterface=function(_,b){var C=b[Ps]instanceof Array&&ha(b[Ps],function(Z){return Ho[Sh](Z)})||b[Ps],j=new p(_,Zc(Zc({},b),{parsedStack:C}));return j},p}(),Ho=function(){function p(_,b){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var C=this;if(C[Yu]=0,typeof _=="string"){var j=_;C[su]=b,C[Ka]=Nf,C[vl]=va(j),C[yf]="",C[_f]=0;var Z=j.match(p.regex);Z&&Z[xt]>=5&&(C[Ka]=va(Z[2])||C[Ka],C[yf]=va(Z[4]),C[_f]=parseInt(Z[5])||0)}else C[su]=_[su],C[Ka]=_[Ka],C[vl]=_[vl],C[yf]=_[yf],C[_f]=_[_f],C[Yu]=0;C.sizeInBytes+=C.method[xt],C.sizeInBytes+=C.fileName[xt],C.sizeInBytes+=C.assembly[xt],C[Yu]+=p.baseSize,C.sizeInBytes+=C.level.toString()[xt],C.sizeInBytes+=C.line.toString()[xt]}return p.CreateFromInterface=function(_){return new p(_,null)},p.prototype.toInterface=function(){var _=this;return{level:_[su],method:_[Ka],assembly:_[vl],fileName:_[yf],line:_[_f]}},p.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,p.baseSize=58,p}(),Rl=function(){function p(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return p}(),gm=function(){function p(_,b,C,j,Z,re,se,oe,be){this.aiDataContract={ver:1,metrics:1,properties:0};var ct=this;ct.ver=2;var Pt=new Rl;Pt[vf]=j>0?j:void 0,Pt.max=isNaN(re)||re===null?void 0:re,Pt.min=isNaN(Z)||Z===null?void 0:Z,Pt[Is]=yi(_,b)||mi,Pt.value=C,Pt.stdDev=isNaN(se)||se===null?void 0:se,ct.metrics=[Pt],ct[Ha]=Yi(_,oe),ct[ou]=_i(_,be)}return p.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",p.dataType="MetricData",p}(),kl="";function Gd(p,_){return _===void 0&&(_=!1),p==null?_:p.toString()[Ns]()==="true"}function Ko(p){(isNaN(p)||p<0)&&(p=0),p=Math.round(p);var _=kl+p%1e3,b=kl+Math.floor(p/1e3)%60,C=kl+Math.floor(p/(1e3*60))%60,j=kl+Math.floor(p/(1e3*60*60))%24,Z=Math.floor(p/(1e3*60*60*24));return _=_[xt]===1?"00"+_:_[xt]===2?"0"+_:_,b=b[xt]<2?"0"+b:b,C=C[xt]<2?"0"+C:C,j=j[xt]<2?"0"+j:j,(Z>0?Z+".":kl)+j+":"+C+":"+b+"."+_}function kv(p,_){var b=null;return Bn(p,function(C){if(C.identifier===_)return b=C,-1}),b}function Gp(p,_,b,C,j){return!j&&Fe(p)&&(p==="Script error."||p==="Script error")}var qp=function(){function p(_,b,C,j,Z,re,se){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var oe=this;oe.ver=2,oe.id=Dh(_,se),oe.url=Od(_,C),oe[Is]=yi(_,b)||mi,isNaN(j)||(oe[gl]=Ko(j)),oe[Ha]=Yi(_,Z),oe[ou]=_i(_,re)}return p.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",p.dataType="PageviewData",p}(),Ol=function(){function p(_,b,C,j,Z,re,se,oe,be,ct,Pt,tr){be===void 0&&(be="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var dt=this;dt.ver=2,dt.id=b,dt[gl]=Ko(Z),dt.success=re,dt.resultCode=se+"",dt.type=yi(_,be);var gt=wf(_,C,oe,j);dt.data=Od(_,j)||gt.data,dt.target=yi(_,gt.target),ct&&(dt.target="".concat(dt.target," | ").concat(ct)),dt[Is]=yi(_,gt[Is]),dt[Ha]=Yi(_,Pt),dt[ou]=_i(_,tr)}return p.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",p.dataType="RemoteDependencyData",p}(),Mc=function(){function p(_,b,C,j,Z){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var re=this;re.ver=2,b=b||mi,re[Wa]=zu(_,b),re[Ha]=Yi(_,j),re[ou]=_i(_,Z),C&&(re[gf]=C)}return p.envelopeType="Microsoft.ApplicationInsights.{0}.Message",p.dataType="MessageData",p}(),Ih=function(){function p(_,b,C,j,Z,re,se){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var oe=this;oe.ver=2,oe.url=Od(_,C),oe[Is]=yi(_,b)||mi,oe[Ha]=Yi(_,Z),oe[ou]=_i(_,re),se&&(oe.domProcessing=se.domProcessing,oe[gl]=se[gl],oe.networkConnect=se.networkConnect,oe.perfTotal=se.perfTotal,oe[kd]=se[kd],oe.sentRequest=se.sentRequest)}return p.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",p.dataType="PageviewPerformanceData",p}(),Kr=function(){function p(_,b){this.aiDataContract={baseType:1,baseData:1},this.baseType=_,this.baseData=b}return p}(),lu=Hf({Verbose:0,Information:1,Warning:2,Error:3,Critical:4}),xh=function(){function p(){}return p.getConfig=function(_,b,C,j){j===void 0&&(j=!1);var Z;return C&&_[xs]&&_[xs][C]&&!qe(_[xs][C][b])?Z=_[xs][C][b]:Z=_[b],qe(Z)?j:Z},p}();function Zu(p){var _="ai."+p+".";return function(b){return _+b}}var yo=Zu("application"),Gn=Zu("device"),qd=Zu("location"),Lc=Zu("operation"),xf=Zu("session"),Os=Zu("user"),_o=Zu("cloud"),Jo=Zu("internal"),Yd=function(p){hv(_,p);function _(){return p.call(this)||this}return _}(_s({applicationVersion:yo("ver"),applicationBuild:yo("build"),applicationTypeId:yo("typeId"),applicationId:yo("applicationId"),applicationLayer:yo("layer"),deviceId:Gn("id"),deviceIp:Gn("ip"),deviceLanguage:Gn("language"),deviceLocale:Gn("locale"),deviceModel:Gn("model"),deviceFriendlyName:Gn("friendlyName"),deviceNetwork:Gn("network"),deviceNetworkName:Gn("networkName"),deviceOEMName:Gn("oemName"),deviceOS:Gn("os"),deviceOSVersion:Gn("osVersion"),deviceRoleInstance:Gn("roleInstance"),deviceRoleName:Gn("roleName"),deviceScreenResolution:Gn("screenResolution"),deviceType:Gn("type"),deviceMachineName:Gn("machineName"),deviceVMName:Gn("vmName"),deviceBrowser:Gn("browser"),deviceBrowserVersion:Gn("browserVersion"),locationIp:qd("ip"),locationCountry:qd("country"),locationProvince:qd("province"),locationCity:qd("city"),operationId:Lc("id"),operationName:Lc("name"),operationParentId:Lc("parentId"),operationRootId:Lc("rootId"),operationSyntheticSource:Lc("syntheticSource"),operationCorrelationVector:Lc("correlationVector"),sessionId:xf("id"),sessionIsFirst:xf("isFirst"),sessionIsNew:xf("isNew"),userAccountAcquisitionDate:Os("accountAcquisitionDate"),userAccountId:Os("accountId"),userAgent:Os("userAgent"),userId:Os("id"),userStoreRegion:Os("storeRegion"),userAuthUserId:Os("authUserId"),userAnonymousUserAcquisitionDate:Os("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:Os("authUserAcquisitionDate"),cloudName:_o("name"),cloudRole:_o("role"),cloudRoleVer:_o("roleVer"),cloudRoleInstance:_o("roleInstance"),cloudEnvironment:_o("environment"),cloudLocation:_o("location"),cloudDeploymentUnit:_o("deploymentUnit"),internalNodeName:Jo("nodeName"),internalSdkVersion:Jo("sdkVersion"),internalAgentVersion:Jo("agentVersion"),internalSnippet:Jo("snippet"),internalSdkSrc:Jo("sdkSrc")}));function Yp(p,_,b,C,j,Z){var re;b=yi(C,b)||mi,(qe(p)||qe(_)||qe(b))&&ln("Input doesn't contain all required fields");var se="";p[Pd]&&(se=p[Pd],delete p[Pd]);var oe=(re={},re[Is]=b,re.time=mr(new Date),re.iKey=se,re.ext=Z||{},re.tags=[],re.data={},re.baseType=_,re.baseData=p,re);return qe(j)||Zt(j,function(be,ct){oe.data[be]=ct}),oe}var Ph=function(){function p(){}return p.create=Yp,p}(),Ms={UserExt:"user",DeviceExt:"device",TraceExt:"trace",WebExt:"web",AppExt:"app",OSExt:"os",SessionExt:"ses",SDKExt:"sdk"},Rh=new Yd;function zd(p){var _=null;if(Gr(Event))_=new Event(p);else{var b=Ro();b&&b.createEvent&&(_=b.createEvent("Event"),_.initEvent(p,!0,!0))}return _}function kh(p,_){Rp(p,null,null,_)}function Ls(p){var _=Ro(),b=mn(),C=!1,j=[],Z=1;b&&!qe(b.onLine)&&!b.onLine&&(Z=2);var re=0,se=tr(),oe=ll(wa("OfflineListener"),p);try{if(ct(cd())&&(C=!0),_){var be=_.body||_;be.ononline&&ct(be)&&(C=!0)}}catch{C=!1}function ct(Ut){var In=!1;return Ut&&(In=df(Ut,"online",dr,oe),In&&df(Ut,"offline",zt,oe)),In}function Pt(){return se}function tr(){return!(re===2||Z===2)}function dt(){var Ut=tr();se!==Ut&&(se=Ut,Bn(j,function(In){var Fc={isOnline:se,rState:Z,uState:re};try{In(Fc)}catch{}}))}function gt(Ut){re=Ut,dt()}function dr(){Z=1,dt()}function zt(){Z=2,dt()}function Nr(){var Ut=cd();if(Ut&&C){if(kh(Ut,oe),_){var In=_.body||_;Bt(In.ononline)||kh(In,oe)}C=!1}}function xr(Ut){return j[dl](Ut),{rm:function(){var In=j.indexOf(Ut);if(In>-1)return j.splice(In,1)}}}return{isOnline:Pt,isListening:function(){return C},unload:Nr,addListener:xr,setOnlineState:gt}}var ym="AppInsightsPropertiesPlugin",Xu="AppInsightsChannelPlugin",Oh="ApplicationInsightsAnalytics";e.AnalyticsPluginIdentifier=Oh,e.BreezeChannelIdentifier=Xu,e.ConfigurationManager=xh,e.ConnectionStringParser=Af,e.ContextTagKeys=Yd,e.CtxTagKeys=Rh,e.DEFAULT_BREEZE_ENDPOINT=kp,e.DEFAULT_BREEZE_PATH=xd,e.Data=Kr,e.DisabledPropertyName=Kn,e.DistributedTracingModes=Av,e.Envelope=mo,e.Event=jd,e.EventPersistence=Nh,e.Exception=Ct,e.Extensions=Ms,e.HttpMethod=qu,e.Metric=gm,e.PageView=qp,e.PageViewPerformance=Ih,e.ProcessLegacy=vi,e.PropertiesPluginIdentifier=ym,e.RemoteDependencyData=Ol,e.RequestHeaders=Op,e.SampleRate=pf,e.SeverityLevel=lu,e.TelemetryItemCreator=Ph,e.ThrottleMgr=Up,e.Trace=Mc,e.correlationIdCanIncludeCorrelationHeader=Ld,e.correlationIdGetCorrelationContext=Sl,e.correlationIdGetCorrelationContextValue=Vo,e.correlationIdGetPrefix=Rs,e.correlationIdSetPrefix=Fp,e.createDistributedTraceContextFromTrace=pm,e.createDomEvent=zd,e.createOfflineListener=Ls,e.createTelemetryItem=Yp,e.createTraceParent=_v,e.dataSanitizeException=Md,e.dataSanitizeId=Dh,e.dataSanitizeInput=yl,e.dataSanitizeKey=uu,e.dataSanitizeKeyAndAddUniqueness=gi,e.dataSanitizeMeasurements=_i,e.dataSanitizeMessage=zu,e.dataSanitizeProperties=Yi,e.dataSanitizeString=yi,e.dataSanitizeUrl=Od,e.dateTimeUtilsDuration=bf,e.dateTimeUtilsNow=Tv,e.dsPadNumber=_l,e.findAllScripts=Pp,e.findW3cTraceParent=hi,e.formatTraceParent=Ic,e.getExtensionByName=kv,e.isBeaconApiSupported=Bo,e.isCrossOriginError=Gp,e.isInternalApplicationInsightsEndpoint=Ef,e.isSampledFlag=Vr,e.isValidSpanId=xp,e.isValidTraceId=ff,e.isValidTraceParent=eu,e.msToTimeSpan=Ko,e.parseConnectionString=Bd,e.parseTraceParent=Ip,e.strNotSpecified=mi,e.stringToBoolOrDefault=Gd,e.urlGetAbsoluteUrl=Th,e.urlGetCompleteUrl=Ah,e.urlGetPathName=wl,e.urlParseFullHost=bl,e.urlParseHost=Sv,e.urlParseUrl=El,e.utlCanUseLocalStorage=Ta,e.utlCanUseSessionStorage=Df,e.utlDisableStorage=Fd,e.utlEnableStorage=Al,e.utlGetLocalStorage=Nl,e.utlGetSessionStorage=Wo,e.utlGetSessionStorageKeys=vm,e.utlRemoveSessionStorage=Tf,e.utlRemoveStorage=hm,e.utlSetLocalStorage=Nv,e.utlSetSessionStorage=Ku,e.utlSetStoragePrefix=Ud})});var GE=cr(i0=>{"use strict";Object.defineProperty(i0,"__esModule",{value:!0});i0.TelemetryUtil=void 0;var jE=class e{static applyReplacements(t,r){for(let n of Object.keys(t))for(let i of r)i.lookup.test(n)&&(i.replacementString!==void 0?t[n]=i.replacementString:delete t[n])}static shouldUseOneDataSystemSDK(t){return t.length===74&&t[32]==="-"&&t[41]==="-"&&t[46]==="-"&&t[51]==="-"&&t[56]==="-"&&t[69]==="-"}static getAdditionalCommonProperties(t){return{"common.os":t.platform,"common.nodeArch":t.architecture,"common.platformversion":(t.release||"").replace(/^(\d+)(\.\d+)?(\.\d+)?(.*)/,"$1$2$3"),"common.telemetryclientversion":"0.9.8"}}static getInstance(){return e._instance||(e._instance=new e),e._instance}};i0.TelemetryUtil=jE});var E2=cr((a0,_2)=>{(function(e,t){typeof a0=="object"&&typeof _2<"u"?t(a0):typeof define=="function"&&define.amd?define(["exports"],t):(e=typeof globalThis<"u"?globalThis:e||self,t((e.Microsoft=e.Microsoft||{},e.Microsoft.ApplicationInsights=e.Microsoft.ApplicationInsights||{})))})(a0,function(e){"use strict";function t(u,c){return u||c}function r(u,c){return u[c]}var n=void 0,i=null,a="",s="function",f="object",h="prototype",y="__proto__",D="undefined",x="constructor",L="Symbol",Y="_polyfill",ee="length",W="name",H="call",X="toString",ue=t(Object),ce=r(ue,h),he=t(String),Ue=r(he,h),Le=t(Math),ve=t(Array),Pe=r(ve,h),Te=r(Pe,"slice");function Je(u,c){try{return{v:u.apply(this,c)}}catch(d){return{e:d}}}function mt(u,c){var d=Je(u);return d.e?c:d.v}var Er;function fr(u){return function(c){return typeof c===u}}function Bt(u){var c="[object "+u+"]";return function(d){return!!(d&&en(d)===c)}}function en(u){return ce[X].call(u)}function qe(u){return typeof u===D||u===D}function Jr(u){return!er(u)}function Fe(u){return u===i||qe(u)}function Gr(u){return u===i||!er(u)}function er(u){return!!u||u!==n}function kt(u){return!Er&&(Er=["string","number","boolean",D,"symbol","bigint"]),u!==f&&Er.indexOf(u)!==-1}var nn=fr("string"),ut=fr(s);function Hn(u){return!u&&Fe(u)?!1:!!u&&typeof u===f}var lt=r(ve,"isArray"),Au=Bt("Date"),Zt=fr("number"),to=fr("boolean"),It=Bt("Error");function qt(u){return!!(u&&u.then&&ut(u.then))}function fn(u){return!(!u||mt(function(){return!(u&&0+u)},!u))}var Ve=r(ue,"getOwnPropertyDescriptor");function tn(u,c){return!!u&&ce.hasOwnProperty[H](u,c)}var Dr=t(r(ue,"hasOwn"),ci);function ci(u,c){return tn(u,c)||!!Ve(u,c)}function Yt(u,c,d){if(u&&Hn(u)){for(var g in u)if(Dr(u,g)&&c[H](d||u,g,u[g])===-1)break}}var ln={e:"enumerable",c:"configurable",v:"value",w:"writable",g:"get",s:"set"};function ka(u){var c={};if(c[ln.c]=!0,c[ln.e]=!0,u.l){c.get=function(){return u.l.v};var d=Ve(u.l,"v");d&&d.set&&(c.set=function(g){u.l.v=g})}return Yt(u,function(g,S){c[ln[g]]=Jr(S)?c[ln[g]]:S}),c}var Oa=r(ue,"defineProperty");function an(u,c,d){return Oa(u,c,ka(d))}function Tn(u,c,d,g,S){var N={};return Yt(u,function(k,B){Co(N,k,c?B:k,S),Co(N,B,d?B:k,S)}),g?g(N):N}function Co(u,c,d,g){Oa(u,c,{value:d,enumerable:!0,writable:!!g})}var Ui=t(he),Lr="[object Error]";function or(u,c){var d=a,g=ce[X][H](u);g===Lr&&(u={stack:Ui(u.stack),message:Ui(u.message),name:Ui(u.name)});try{d=JSON.stringify(u,i,c?typeof c=="number"?c:4:n),d=(d?d.replace(/"(\w+)"\s*:\s{0,1}/g,"$1: "):i)||Ui(u)}catch(S){d=" - "+or(S,c)}return g+": "+d}function lr(u){throw new Error(u)}function Zr(u){throw new TypeError(u)}var up=r(ue,"freeze");function fi(u){return u}function as(u){return u[y]||i}var Nu=r(ue,"assign"),on=r(ue,"keys");function Bi(u){return up&&Yt(u,function(c,d){(lt(d)||Hn(d))&&Bi(d)}),vr(u)}var vr=t(up,fi),Si=t(r(ue,"getPrototypeOf"),as);function Di(u){return Tn(u,1,0,vr)}function os(u){return Tn(u,0,0,vr)}function ss(u){var c={};return Yt(u,function(d,g){Co(c,d,g[1]),Co(c,g[0],g[1])}),vr(c)}function ro(u){return ss(u)}var us=os({asyncIterator:0,hasInstance:1,isConcatSpreadable:2,iterator:3,match:4,matchAll:5,replace:6,search:7,species:8,split:9,toPrimitive:10,toStringTag:11,unscopables:12}),Io="__tsUtils$gblCfg",Ys;function no(){var u;return typeof globalThis!==D&&(u=globalThis),!u&&typeof self!==D&&(u=self),!u&&typeof window!==D&&(u=window),!u&&typeof global!==D&&(u=global),u}function Cu(){if(!Ys){var u=Je(no).v||{};Ys=u[Io]=u[Io]||{}}return Ys}var Rr=Hr;function Hr(u,c,d){var g=c?c[u]:i;return function(S){var N=(S?S[u]:i)||g;if(N||d){var k=arguments;return(N||d).apply(S,N?Te[H](k,1):k)}Zr('"'+Ui(u)+'" not defined for '+or(S))}}function da(u){return function(c){return c[u]}}var xo=r(Le,"max"),cs=Rr("slice",Ue),Ti=Rr("substring",Ue),pa=Hr("substr",Ue,Po);function Po(u,c,d){return Fe(u)&&Zr("Invalid "+or(u)),d<0?a:(c=c||0,c<0&&(c=xo(c+u[ee],0)),qe(d)?cs(u,c):cs(u,c,c+d))}function Ai(u,c){return Ti(u,0,c)}var Ro="_urid",cp;function cd(){if(!cp){var u=Cu();cp=u.gblSym=u.gblSym||{k:{},s:{}}}return cp}var fp;function mn(u){var c={description:Ui(u),toString:function(){return L+"("+u+")"}};return c[Y]=!0,c}function ko(u){var c=cd();if(!Dr(c.k,u)){var d=mn(u),g=on(c.s).length;d[Ro]=function(){return g+"_"+d[X]()},c.k[u]=d,c.s[d[Ro]()]=Ui(u)}return c.k[u]}function fs(u){!fp&&(fp={});var c,d=us[u];return d&&(c=fp[d]=fp[d]||mn(L+"."+d)),c}var Un;function ls(){Un=Cu()}function Iu(u){var c={};return!Un&&ls(),c.b=Un.lzy,Oa(c,"v",{configurable:!0,get:function(){var d=u();return Un.lzy||Oa(c,"v",{value:d}),c.b=Un.lzy,d}}),c}function ta(u){return Oa({toJSON:function(){return u}},"v",{value:u})}var gn="window",Bn;function uc(u,c){var d;return function(){return!Un&&ls(),(!d||Un.lzy)&&(d=ta(Je(u,c).v)),d.v}}function ha(u){return!Un&&ls(),(!Bn||u===!1||Un.lzy)&&(Bn=ta(Je(no).v||i)),Bn.v}function kr(u,c){var d;if(!Bn||c===!1?d=ha(c):d=Bn.v,d&&d[u])return d[u];if(u===gn)try{return window}catch{}return i}function li(){return!!fd()}var fd=uc(kr,["document"]);function Ni(){return!!ds()}var ds=uc(kr,[gn]);function Hc(){return!!ps()}var ps=uc(kr,["navigator"]),ld=uc(function(){return!!Je(function(){return process&&(process.versions||{}).node}).v}),dn,$f;function ra(){return dn=ta(Je(kr,[L]).v),dn}function lp(u){var c=(Un.lzy?0:dn)||ra();return c.v?c.v[u]:n}function va(){return!!lh()}function lh(){return!Un&&ls(),((Un.lzy?0:dn)||ra()).v}function ma(u,c){var d=us[u];!Un&&ls();var g=(Un.lzy?0:dn)||ra();return g.v?g.v[d||u]:c?n:fs(u)}function Vf(u,c){!Un&&ls();var d=(Un.lzy?0:dn)||ra();return d.v?d.v(u):c?i:mn(u)}function io(u){return!Un&&ls(),$f=(Un.lzy?0:$f)||ta(Je(lp,["for"]).v),($f.v||ko)(u)}function dd(u){return!!u&&ut(u.next)}function Tr(u){return!Gr(u)&&ut(u[ma(3)])}var hs;function pd(u,c,d){if(u&&(dd(u)||(!hs&&(hs=ta(ma(3))),u=u[hs.v]?u[hs.v]():i),dd(u))){var g=n,S=n;try{for(var N=0;!(S=u.next()).done&&c[H](d||u,S.value,N,u)!==-1;)N++}catch(k){g={e:k},u.throw&&(S=i,u.throw(g))}finally{try{S&&!S.done&&u.return&&u.return(S)}finally{if(g)throw g.e}}}}function na(u,c,d){return u.apply(c,d)}function Kc(u,c){return!qe(c)&&u&&(lt(c)?na(u.push,u,c):dd(c)||Tr(c)?pd(c,function(d){u.push(d)}):u.push(c)),u}function Ft(u,c,d){if(u)for(var g=u[ee]>>>0,S=0;S<g&&!(S in u&&c[H](d||u,u[S],S,u)===-1);S++);}var ga=Rr("indexOf",Pe),cc=Rr("map",Pe);function Wf(u,c,d){return((u?u.slice:i)||Te).apply(u,Te[H](arguments,1))}var dv=Rr("reduce",Pe),Ma=t(r(ue,"create"),Hf);function Hf(u){if(!u)return{};var c=typeof u;c!==f&&c!==s&&Zr("Prototype must be an Object or function: "+or(u));function d(){}return d[h]=u,new d}var dp;function xu(u,c){var d=ue.setPrototypeOf||function(g,S){var N;!dp&&(dp=ta((N={},N[y]=[],N instanceof Array))),dp.v?g[y]=S:Yt(S,function(k,B){return g[k]=B})};return d(u,c)}function La(u,c,d){Je(an,[c,W,{v:u,c:!0,e:!1}]),c=xu(c,d);function g(){this[x]=c,Je(an,[this,W,{v:u,c:!0,e:!1}])}return c[h]=d===i?Ma(d):(g[h]=d[h],new g),c}function _t(u,c){c&&(u[W]=c)}function di(u,c,d){var g=d||Error,S=g[h][W],N=Error.captureStackTrace;return La(u,function(){var k=this,B=arguments;try{Je(_t,[g,u]);var q=na(g,k,Te[H](B))||k;if(q!==k){var V=Si(k);V!==Si(q)&&xu(q,V)}return N&&N(q,k[x]),c&&c(q,B),q}finally{Je(_t,[g,S])}},g)}function Pu(){return(Date.now||zs)()}function zs(){return new Date().getTime()}function pp(u){return function(d){return Fe(d)&&Zr("strTrim called ["+or(d)+"]"),d&&d.replace&&(d=d.replace(u,a)),d}}var hp=pp(/^\s+|(?=\s)\s+$/g),Xn=Hr("trim",Ue,hp),ya,vp,Fa;function ia(u){if(!u||typeof u!==f)return!1;Fa||(Fa=Ni()?ds():!0);var c=!1;if(u!==Fa){vp||(ya=Function[h][X],vp=ya[H](ue));try{var d=Si(u);c=!d,c||(tn(d,x)&&(d=d[x]),c=!!(d&&typeof d===s&&ya[H](d)===vp))}catch{}}return c}function cm(u){return u.value&&ao(u),!0}var pv=[ji,ao,Jf,Kf];function dh(u,c,d,g){var S;return Ft(u,function(N){if(N.k===c)return S=N,-1}),S||(S={k:c,v:c},u.push(S),g(S)),S.v}function Ru(u,c,d,g){var S=d.handler,N=d.path?g?d.path.concat(g):d.path:[],k={handler:d.handler,src:d.src,path:N},B=typeof c,q=!1,V=c===i;V||(c&&B===f?q=ia(c):V=kt(B));var ie={type:B,isPrim:V,isPlain:q,value:c,result:c,path:N,origin:d.src,copy:function(me,ge){return Ru(u,me,ge?k:d,ge)},copyTo:function(me,ge){return ph(u,me,ge,k)}};return ie.isPrim?S&&S[H](d,ie)?ie.result:c:dh(u,c,N,function(me){an(ie,"result",{g:function(){return me.v},s:function(pe){me.v=pe}});for(var ge=0,ye=S;!(ye||(ge<pv.length?pv[ge++]:cm))[H](d,ie);)ye=i})}function ph(u,c,d,g){if(!Fe(d))for(var S in d)c[S]=Ru(u,d[S],g,S);return c}function Qm(u,c,d){var g={handler:d,src:c,path:[]};return ph([],u,c,g)}function mp(u,c){var d={handler:c,src:u};return Ru([],u,d)}function ji(u){var c=u.value;if(lt(c)){var d=u.result=[];return d.length=c.length,u.copyTo(d,c),!0}return!1}function Kf(u){var c=u.value;return Au(c)?(u.result=new Date(c.getTime()),!0):!1}function Jf(u){return u.type===s}function ao(u){var c=u.value;if(c&&u.isPlain){var d=u.result={};return u.copyTo(d,c),!0}return!1}function _a(u,c){return Ft(c,function(d){Qm(u,d)}),u}function ku(u,c,d,g,S,N,k){return _a(mp(u)||{},Te[H](arguments))}var hh=da(ee),Ua=Hr("endsWith",Ue,gp);function gp(u,c,d){nn(u)||Zr("'"+or(u)+"' is not a string");var g=nn(c)?c:Ui(c),S=!qe(d)&&d<u[ee]?d:u[ee];return Ti(u,S-g[ee],S)===g}var fc=Rr("indexOf",Ue),Jc="ref",Zf="unref",hd="hasRef",yp="enabled";function vh(u,c,d){var g=!0,S=u?c(i):i,N;function k(){return g=!1,S&&S[Zf]&&S[Zf](),N}function B(){S&&d(S),S=i}function q(){return S=c(S),g||k(),N}function V(ie){!ie&&S&&B(),ie&&!S&&q()}return N={cancel:B,refresh:q},N[hd]=function(){return S&&S[hd]?S[hd]():g},N[Jc]=function(){return g=!0,S&&S[Jc]&&S[Jc](),N},N[Zf]=k,N=Oa(N,yp,{get:function(){return!!S},set:V}),{h:N,dn:function(){S=i}}}function mh(u,c,d){var g=lt(c),S=g?c.length:0,N=(S>0?c[0]:g?n:c)||setTimeout,k=(S>1?c[1]:n)||clearTimeout,B=d[0];d[0]=function(){q.dn(),na(B,n,Te[H](arguments))};var q=vh(u,function(V){if(V){if(V.refresh)return V.refresh(),V;na(k,n,[V])}return na(N,n,d)},function(V){na(k,n,[V])});return q.h}function Ou(u,c){return mh(!0,n,Te[H](arguments))}function _p(u,c){return mh(!1,n,Te[H](arguments))}var $s,lc="constructor",Ba="prototype",Xf="function",vd="_dynInstFuncs",Zc="_isDynProxy",oo="_dynClass",hv="_dynCls$",vs="_dynInstChk",Oo=vs,so="_dfOpts",Mu="_unknown_",md="__proto__",Xc="_dyn"+md,Qc="__dynProto$Gbl",dc="_dynInstProto",gd="useBaseInst",Qf="setInstFuncs",yd=Object,pc=yd.getPrototypeOf,uo=yd.getOwnPropertyNames,ef=ha(),Mo=ef[Qc]||(ef[Qc]={o:($s={},$s[Qf]=!0,$s[gd]=!0,$s),n:1e3});function Ea(u){return u&&(u===yd[Ba]||u===Array[Ba])}function ms(u){return Ea(u)||u===Function[Ba]}function Xr(u){var c;if(u){if(pc)return pc(u);var d=u[md]||u[Ba]||(u[lc]?u[lc][Ba]:null);c=u[Xc]||d,tn(u,Xc)||(delete u[dc],c=u[Xc]=u[dc]||u[Xc],u[dc]=d)}return c}function Vs(u,c){var d=[];if(uo)d=uo(u);else for(var g in u)typeof g=="string"&&tn(u,g)&&d.push(g);if(d&&d.length>0)for(var S=0;S<d.length;S++)c(d[S])}function co(u,c,d){return c!==lc&&typeof u[c]===Xf&&(d||tn(u,c))&&c!==md&&c!==Ba}function tf(u){Zr("DynamicProto: "+u)}function rf(u){var c=Ma(null);return Vs(u,function(d){!c[d]&&co(u,d,!1)&&(c[d]=u[d])}),c}function gs(u,c){for(var d=u.length-1;d>=0;d--)if(u[d]===c)return!0;return!1}function el(u,c,d,g){function S(q,V,ie){var me=V[ie];if(me[Zc]&&g){var ge=q[vd]||{};ge[Oo]!==!1&&(me=(ge[V[oo]]||{})[ie]||me)}return function(){return me.apply(q,arguments)}}var N=Ma(null);Vs(d,function(q){N[q]=S(c,d,q)});for(var k=Xr(u),B=[];k&&!ms(k)&&!gs(B,k);)Vs(k,function(q){!N[q]&&co(k,q,!pc)&&(N[q]=S(c,k,q))}),B.push(k),k=Xr(k);return N}function ys(u,c,d,g){var S=null;if(u&&tn(d,oo)){var N=u[vd]||Ma(null);if(S=(N[d[oo]]||Ma(null))[c],S||tf("Missing ["+c+"] "+Xf),!S[vs]&&N[Oo]!==!1){for(var k=!tn(u,c),B=Xr(u),q=[];k&&B&&!ms(B)&&!gs(q,B);){var V=B[c];if(V){k=V===g;break}q.push(B),B=Xr(B)}try{k&&(u[c]=S),S[vs]=1}catch{N[Oo]=!1}}}return S}function Lu(u,c,d){var g=c[u];return g===d&&(g=Xr(c)[u]),typeof g!==Xf&&tf("["+u+"] is not a "+Xf),g}function aa(u,c,d,g,S){function N(q,V){var ie=function(){var me=ys(this,V,q,ie)||Lu(V,q,ie);return me.apply(this,arguments)};return ie[Zc]=1,ie}if(!Ea(u)){var k=d[vd]=d[vd]||Ma(null);if(!Ea(k)){var B=k[c]=k[c]||Ma(null);k[Oo]!==!1&&(k[Oo]=!!S),Ea(B)||Vs(d,function(q){co(d,q,!1)&&d[q]!==g[q]&&(B[q]=d[q],delete d[q],(!tn(u,q)||u[q]&&!u[q][Zc])&&(u[q]=N(u,q)))})}}}function Ep(u,c){if(pc){for(var d=[],g=Xr(c);g&&!ms(g)&&!gs(d,g);){if(g===u)return!0;d.push(g),g=Xr(g)}return!1}return!0}function hc(u,c){return tn(u,Ba)?u.name||c||Mu:((u||{})[lc]||{}).name||c||Mu}function Gi(u,c,d,g){tn(u,Ba)||tf("theClass is an invalid class definition.");var S=u[Ba];Ep(S,c)||tf("["+hc(u)+"] not in hierarchy of ["+hc(c)+"]");var N=null;tn(S,oo)?N=S[oo]:(N=hv+hc(u,"_")+"$"+Mo.n,Mo.n++,S[oo]=N);var k=Gi[so],B=!!k[gd];B&&g&&g[gd]!==void 0&&(B=!!g[gd]);var q=rf(c),V=el(S,c,q,B);d(c,V);var ie=!!pc&&!!k[Qf];ie&&g&&(ie=!!g[Qf]),aa(S,N,c,q,ie!==!1)}Gi[so]=Mo.o;var _d="function",wp="object",tl="undefined",rl="prototype",bp=Object,vv=bp[rl];(ha()||{}).Symbol,(ha()||{}).Reflect;var vc="hasOwnProperty",Lo=function(u){for(var c,d=1,g=arguments.length;d<g;d++){c=arguments[d];for(var S in c)vv[vc].call(c,S)&&(u[S]=c[S])}return u},fo=Nu||Lo,Sn=function(u,c){return Sn=bp.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,g){d.__proto__=g}||function(d,g){for(var S in g)g[vc](S)&&(d[S]=g[S])},Sn(u,c)};function nl(u,c){typeof c!==_d&&c!==null&&Zr("Class extends value "+String(c)+" is not a constructor or null"),Sn(u,c);function d(){this.constructor=u}u[rl]=c===null?Ma(c):(d[rl]=c[rl],new d)}function mc(u,c){for(var d=0,g=c.length,S=u.length;d<g;d++,S++)u[S]=c[d];return u}var gc=Di,Sp=ro,ja=gc({NONE:0,PENDING:3,INACTIVE:1,ACTIVE:2}),Fu="toLowerCase",Ws="blkVal",mr="length",Fo="rdOnly",_s="notify",Ga="warnToConsole",Ed="throwInternal",qa="setDf",Uu="watch",yn="logger",oa="apply",qr="push",Et="splice",yc="hdlr",Uo="cancel",Hs="initialize",lo="identifier",Bu="removeNotificationListener",Ya="addNotificationListener",$r="isInitialized",Bo="instrumentationKey",Yr="INACTIVE",jo="value",wd="getNotifyMgr",Go="getPlugin",Ln="name",po="iKey",Es="time",Ci="processNext",qi="getProcessTelContext",nf="pollInternalLogs",_c="enabled",bd="stopPollingInternalLogs",Ks="unload",qo="onComplete",Yo="version",Ec="loggingLevelConsole",zo="createNew",jn="teardown",Sd="messageId",wc="message",Js="isAsync",wa="diagLog",ws="_doTeardown",Zs="update",za="getNext",af="setNextPlugin",ju="protocol",pi="userAgent",Gu="split",Xs="nodeType",$a="replace",bc="logInternalMessage",_n="type",Qn="handler",Va="status",Sc="getResponseHeader",bs="getAllResponseHeaders",Dp="isChildEvt",ba="data",of="getCtx",Ii="setCtx",Dd="complete",sa="itemsReceived",Ss="urlString",Ds="sendPOST",Tp="headers",il="timeout",Td="setRequestHeader",al="traceId",$o="spanId",ua="traceFlags",sf;function mv(u,c){sf||(sf=di("AggregationError",function(g,S){S[mr]>1&&(g.errors=S[1])}));var d=u||"One or more errors occurred.";throw Ft(c,function(g,S){d+=`
`.concat(S," > ").concat(or(g))}),new sf(d,c||[])}var Dc="Promise",Tc="rejected";function Ts(u,c){return ol(u,function(d){return c?c({status:"fulfilled",rejected:!1,value:d}):d},function(d){return c?c({status:Tc,rejected:!0,reason:d}):d})}function ol(u,c,d,g){var S=u;try{if(qt(u))(c||d)&&(S=u.then(c,d));else try{c&&(S=c(u))}catch(N){if(d)S=d(N);else throw N}}finally{g&&fm(S,g)}return S}function fm(u,c){var d=u;return c&&(qt(u)?u.finally?d=u.finally(c):d=u.then(function(g){return c(),g},function(g){throw c(),g}):c()),d}var Ap=["pending","resolving","resolved",Tc],sl="dispatchEvent",Ac;function gh(u){var c;return u&&u.createEvent&&(c=u.createEvent("Event")),!!c&&c.initEvent}function gv(u,c,d,g){var S=fd();!Ac&&(Ac=ta(!!Je(gh,[S]).v));var N=Ac.v?S.createEvent("Event"):g?new Event(c):{};if(d&&d(N),Ac.v&&N.initEvent(c,!1,!0),N&&u[sl])u[sl](N);else{var k=u["on"+c];if(k)k(N);else{var B=kr("console");B&&(B.error||B.log)(c,or(N))}}}var Nc="unhandledRejection",yv=Nc.toLowerCase(),ul=10,Np;function ho(u){return ut(u)?u.toString():or(u)}function yh(u,c,d){var g=Wf(arguments,3),S=0,N=!1,k,B=[],q=!1,V=null,ie;function me(tt,vt){try{q=!0,V&&V.cancel(),V=null;var Ir=u(function(un,cn){B.push(function(){try{var Nn=S===2?tt:vt,ir=qe(Nn)?k:ut(Nn)?Nn(k):Nn;qt(ir)?ir.then(un,cn):Nn?un(ir):S===3?cn(ir):un(ir)}catch(Vt){cn(Vt)}}),N&&Me()},g);return Ir}finally{}}function ge(tt){return me(void 0,tt)}function ye(tt){var vt=tt,Ir=tt;return ut(tt)&&(vt=function(un){return tt&&tt(),un},Ir=function(un){throw tt&&tt(),un}),me(vt,Ir)}function pe(){return Ap[S]}function Me(){if(B.length>0){var tt=B.slice();B=[],q=!0,V&&V.cancel(),V=null,c(tt)}}function Ee(tt,vt){return function(Ir){if(S===vt){if(tt===2&&qt(Ir)){S=1,Ir.then(Ee(2,1),Ee(3,1));return}S=tt,N=!0,k=Ir,Me(),!q&&tt===3&&!V&&(V=Ou(Ge,ul))}}}function Ge(){if(!q)if(q=!0,ld())process.emit(Nc,k,ie);else{var tt=ds()||ha();!Np&&(Np=ta(Je(kr,[Dc+"RejectionEvent"]).v)),gv(tt,yv,function(vt){return an(vt,"promise",{g:function(){return ie}}),vt.reason=k,vt},!!Np.v)}}ie={then:me,catch:ge,finally:ye},Oa(ie,"state",{get:pe}),va()&&(ie[ma(11)]="IPromise");function Ye(){return"IPromise "+pe()+(N?" - "+ho(k):"")}return ie.toString=Ye,function(){ut(d)||Zr(Dc+": executor is not a function - "+ho(d));var vt=Ee(3,0);try{d.call(ie,Ee(2,0),vt)}catch(Ir){vt(Ir)}}(),ie}function lm(u){return function(c){var d=Wf(arguments,1);return u(function(g,S){try{var N=[],k=1;pd(c,function(B,q){B&&(k++,ol(B,function(V){N[q]=V,--k===0&&g(N)},S))}),k--,k===0&&g(N)}catch(B){S(B)}},d)}}function Ad(u){return ta(function(c){var d=Wf(arguments,1);return u(function(g,S){var N=[],k=1;function B(q,V){k++,Ts(q,function(ie){ie.rejected?N[V]={status:Tc,reason:ie.reason}:N[V]={status:"fulfilled",value:ie.value},--k===0&&g(N)})}try{lt(c)?Ft(c,B):Tr(c)?pd(c,B):Zr("Input is not an iterable"),k--,k===0&&g(N)}catch(q){S(q)}},d)})}function _h(u){Ft(u,function(c){try{c()}catch{}})}function Cp(u){var c=Zt(u)?u:0;return function(d){Ou(function(){_h(d)},c)}}function uf(u,c){return yh(uf,Cp(c),u,c)}var Nd;function Cc(u,c){!Nd&&(Nd=ta(Je(kr,[Dc]).v||null));var d=Nd.v;if(!d)return uf(u);ut(u)||Zr(Dc+": executor is not a function - "+or(u));var g=0;function S(){return Ap[g]}var N=new d(function(k,B){function q(ie){g=2,k(ie)}function V(ie){g=3,B(ie)}u(q,V)});return Oa(N,"state",{get:S}),N}var Qs;function cf(u){return yh(cf,_h,u)}function _v(u,c){return!Qs&&(Qs=Ad(cf)),Qs.v(u,c)}var Ip;function ff(u,c){return!Ip&&(Ip=ta(Cc)),Ip.v.call(this,u,c)}var xp=lm(ff),eu=void 0,Vr="",Ic="channels",hi="core",Pp="createPerfMgr",Cd="disabled",lf="extensionConfig",xc="extensions",ca="processTelemetry",Id="priority",ei="eventsSent",wr="eventsDiscarded",tu="eventsSendRequest",An="perfEvent",As="offlineEventsStored",Pc="offlineBatchSent",Rc="offlineBatchDrop",ru="getPerfMgr",vo="domain",cl="path",Eh="Not dynamic - ",fl=/-([a-z])/g,wh=/([^\w\d_$])/g,ll=/^(\d+[\w\d_$])/;function df(u){return!Fe(u)}function Rp(u){var c=u;return c&&nn(c)&&(c=c[$a](fl,function(d,g){return g.toUpperCase()}),c=c[$a](wh,"_"),c=c[$a](ll,function(d,g){return"_"+g})),c}function Kn(u,c){return u&&c?fc(u,c)!==-1:!1}function pf(u){return u&&u.toISOString()||""}function vi(u){return It(u)?u[Ln]:Vr}function qu(u,c,d,g,S){var N=d;return u&&(N=u[c],N!==d&&(!S||S(N))&&(!g||g(d))&&(N=d,u[c]=N)),N}function kp(u,c,d){var g;return u?(g=u[c],!g&&Fe(g)&&(g=qe(d)?{}:d,u[c]=g)):g=qe(d)?{}:d,g}function xd(u,c){var d=null,g=null;return ut(u)?d=u:g=u,function(){var S=arguments;if(d&&(g=d()),g)return g[c][oa](g,S)}}function mi(u,c,d,g,S){u&&c&&d&&(S!==!1||qe(u[c]))&&(u[c]=xd(d,g))}function Pd(u,c,d,g){return u&&c&&Hn(u)&&lt(d)&&Ft(d,function(S){nn(S)&&mi(u,S,c,S,g)}),u}function Op(u){return function(){function c(){var d=this;u&&Yt(u,function(g,S){d[g]=S})}return c}()}function nu(u){return u&&Nu&&(u=bp(Nu({},u))),u}function xt(u,c,d,g,S,N){var k=arguments,B=k[0]||{},q=k[mr],V=!1,ie=1;for(q>0&&to(B)&&(V=B,B=k[ie]||{},ie++),Hn(B)||(B={});ie<q;ie++){var me=k[ie],ge=lt(me),ye=Hn(me);for(var pe in me){var Me=ge&&pe in me||ye&&Dr(me,pe);if(Me){var Ee=me[pe],Ge=void 0;if(V&&Ee&&((Ge=lt(Ee))||ia(Ee))){var Ye=B[pe];Ge?lt(Ye)||(Ye=[]):ia(Ye)||(Ye={}),Ee=xt(V,Ye,Ee)}Ee!==void 0&&(B[pe]=Ee)}}}return B}function Ns(u){try{return u.responseText}catch{}return null}function Cs(u,c){return u?"XDomainRequest,Response:"+Ns(u)||"":c}function Sa(u,c){return u?"XMLHttpRequest,Status:"+u[Va]+",Response:"+Ns(u)||u.response||"":c}function dl(u,c){return c&&(Zt(c)?u=[c].concat(u):lt(c)&&(u=c.concat(u))),u}var hf="Microsoft_ApplicationInsights_BypassAjaxInstrumentation",Is="withCredentials",Wa="timeout";function vf(u,c,d,g,S,N){g===void 0&&(g=!1),S===void 0&&(S=!1);function k(q,V,ie){try{q[V]=ie}catch{}}var B=new XMLHttpRequest;return g&&k(B,hf,g),d&&k(B,Is,d),B.open(u,c,!S),d&&k(B,Is,d),!S&&N&&k(B,Wa,N),B}function Rd(u){var c={};if(nn(u)){var d=Xn(u)[Gu](/[\r\n]+/);Ft(d,function(g){if(g){var S=g.indexOf(": ");if(S!==-1){var N=Xn(g.substring(0,S))[Fu](),k=Xn(g.substring(S+1));c[N]=k}else c[Xn(g)]=1}})}return c}function iu(u,c,d){if(!u[d]&&c&&c[Sc]){var g=c[Sc](d);g&&(u[d]=Xn(g))}return u}var pl="kill-duration",mf="kill-duration-seconds",hl="time-delta-millis";function Mp(u,c){var d={};return u[bs]?d=Rd(u[bs]()):c&&(d=iu(d,u,hl),d=iu(d,u,pl),d=iu(d,u,mf)),d}var Lp="documentMode",bh="location",dm="console",xs="JSON",au="crypto",Ps="msCrypto",Ha="msie",ou="trident/",Yu="XMLHttpRequest",Da=null,gf=null,Ev=!1,kc=null,Sh=null;function vl(u,c){var d=!1;if(u){try{if(d=c in u,!d){var g=u[rl];g&&(d=c in g)}}catch{}if(!d)try{var S=new u;d=!qe(S[c])}catch{}}return d}function yf(u){if(u&&Ev){var c=kr("__mockLocation");if(c)return c}return typeof location===wp&&location?location:kr(bh)}function ml(){return typeof console!==tl?console:kr(dm)}function su(){return!!(typeof JSON===wp&&JSON||kr(xs)!==null)}function Ka(){return su()?JSON||kr(xs):null}function _f(){return kr(au)}function gl(){return kr(Ps)}function kd(){var u=ps();if(u&&(u[pi]!==gf||Da===null)){gf=u[pi];var c=(gf||Vr)[Fu]();Da=Kn(c,Ha)||Kn(c,ou)}return Da}function gi(u){if(u===void 0&&(u=null),!u){var c=ps()||{};u=c?(c.userAgent||Vr)[Fu]():Vr}var d=(u||Vr)[Fu]();if(Kn(d,Ha)){var g=fd()||{};return Math.max(parseInt(d[Gu](Ha)[1]),g[Lp]||0)}else if(Kn(d,ou)){var S=parseInt(d[Gu](ou)[1]);if(S)return S+4}return null}function uu(u){return(Sh===null||u===!1)&&(Sh=Hc()&&!!ps().sendBeacon),Sh}function yi(u){var c=!1;try{c=!!kr("fetch");var d=kr("Request");c&&u&&d&&(c=vl(d,"keepalive"))}catch{}return c}function Od(){return kc===null&&(kc=typeof XDomainRequest!==tl,kc&&zu()&&(kc=kc&&!vl(kr(Yu),"withCredentials"))),kc}function zu(){var u=!1;try{var c=kr(Yu);u=!!c}catch{}return u}var Md=4294967296,Yi=4294967295,_i=123456789,Dh=987654321,yl=!1,_l=_i,$u=Dh;function wv(u){u<0&&(u>>>=0),_l=_i+u&Yi,$u=Dh-u&Yi,yl=!0}function bv(){try{var u=Pu()&2147483647;wv((Math.random()*Md^u)+u)}catch{}}function El(u){var c=0,d=_f()||gl();return d&&d.getRandomValues&&(c=d.getRandomValues(new Uint32Array(1))[0]&Yi),c===0&&kd()&&(yl||bv(),c=Th()&Yi),c===0&&(c=Math.floor(Md*Math.random()|0)),u||(c>>>=0),c}function Th(u){$u=36969*($u&65535)+($u>>16)&Yi,_l=18e3*(_l&65535)+(_l>>16)&Yi;var c=($u<<16)+(_l&65535)>>>0&Yi|0;return u||(c>>>=0),c}function wl(u){u===void 0&&(u=22);for(var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",d=El()>>>0,g=0,S=Vr;S[mr]<u;)g++,S+=c.charAt(d&63),d>>>=6,g===5&&(d=(El()<<2&4294967295|d&3)>>>0,g=0);return S}var Ah="3.3.4",Sv="."+wl(6),bl=0;function Dv(u){return u[Xs]===1||u[Xs]===9||!+u[Xs]}function Vu(u,c){var d=c[u.id];if(!d){d={};try{Dv(c)&&an(c,u.id,{e:!1,v:d})}catch{}}return d}function Ef(u,c){return c===void 0&&(c=!1),Rp(u+bl+++(c?"."+Ah:Vr)+Sv)}function Fp(u){var c={id:Ef("_aiData-"+(u||Vr)+"."+Ah),accept:function(d){return Dv(d)},get:function(d,g,S,N){var k=d[c.id];return k?k[Rp(g)]:(N&&(k=Vu(c,d),k[Rp(g)]=S),S)},kill:function(d,g){if(d&&d[g])try{delete d[g]}catch{}}};return c}function Rs(u){return u&&Hn(u)&&(u.isVal||u.fb||Dr(u,"v")||Dr(u,"mrg")||Dr(u,"ref")||u.set)}function Ld(u,c,d){var g,S=d.dfVal||er;if(c&&d.fb){var N=d.fb;lt(N)||(N=[N]);for(var k=0;k<N[mr];k++){var B=N[k],q=c[B];if(S(q)?g=q:u&&(q=u.cfg[B],S(q)&&(g=q),u.set(u.cfg,Ui(B),q)),S(g))break}}return!S(g)&&S(d.v)&&(g=d.v),g}function Sl(u,c,d){var g=d;if(d&&Rs(d)&&(g=Ld(u,c,d)),g){Rs(g)&&(g=Sl(u,c,g));var S;lt(g)?(S=[],S[mr]=g[mr]):ia(g)&&(S={}),S&&(Yt(g,function(N,k){k&&Rs(k)&&(k=Sl(u,c,k)),S[N]=k}),g=S)}return g}function Vo(u,c,d,g){var S,N,k,B=g,q,V,ie,me;Rs(B)?(S=B.isVal,N=B.set,ie=B[Fo],me=B[Ws],q=B.mrg,V=B.ref,!V&&qe(V)&&(V=!!q),k=Ld(u,c,B)):k=g,me&&u[Ws](c,d);var ge,ye=!0,pe=c[d];(pe||!Fe(pe))&&(ge=pe,ye=!1,S&&ge!==k&&!S(ge)&&(ge=k,ye=!0),N&&(ge=N(ge,k,c),ye=ge===k)),ye?k?ge=Sl(u,c,k):ge=k:(ia(ge)||lt(k))&&q&&k&&(ia(k)||lt(k))&&Yt(k,function(Me,Ee){Vo(u,ge,Me,Ee)}),u.set(c,d,ge),V&&u.ref(c,d),ie&&u[Fo](c,d)}var wf=io("[[ai_dynCfg_1]]"),Tv=io("[[ai_blkDynCfg_1]]"),bf=io("[[ai_frcDynCfg_1]]");function pm(u){if(u){var c;if(lt(u)?(c=[],c[mr]=u[mr]):ia(u)&&(c={}),c)return Yt(u,function(d,g){c[d]=pm(g)}),c}return u}function Dl(u){if(u){var c=u[wf]||u;if(c.cfg&&(c.cfg===u||c.cfg[wf]===c))return c}return null}function Av(u){if(u&&(ia(u)||lt(u)))try{u[Tv]=!0}catch{}return u}function Nh(u,c,d){var g=!1;return d&&!u[c.blkVal]&&(g=d[bf],!g&&!d[Tv]&&(g=ia(d)||lt(d))),g}function Wu(u){Zr("InvalidAccess:"+u)}var Hu=["push","pop","shift","unshift","splice"],Sf=function(u,c,d,g){u&&u[Ed](3,108,"".concat(d," [").concat(c,"] failed - ")+or(g))};function ks(u,c,d){lt(c)&&Ft(Hu,function(g){var S=c[g];c[g]=function(){for(var N=[],k=0;k<arguments.length;k++)N[k]=arguments[k];var B=S[oa](this,N);return Al(u,c,d,"Patching"),B}})}function cu(u,c){var d=Ve(u,c);return d&&d.get}function Tl(u,c,d,g){var S={n:d,h:[],trk:function(V){V&&V.fn&&(ga(S.h,V)===-1&&S.h[qr](V),u.trk(V,S))},clr:function(V){var ie=ga(S.h,V);ie!==-1&&S.h[Et](ie,1)}},N=!0,k=!1;function B(){N&&(k=k||Nh(B,u,g),g&&!g[wf]&&k&&(g=Al(u,g,d,"Converting")),N=!1);var V=u.act;return V&&S.trk(V),g}B[u.prop]={chng:function(){u.add(S)}};function q(V){if(g!==V){B[u.ro]&&!u.upd&&Wu("["+d+"] is read-only:"+or(c)),N&&(k=k||Nh(B,u,g),N=!1);var ie=k&&B[u.rf];if(k)if(ie){Yt(g,function(ge){g[ge]=V?V[ge]:eu});try{Yt(V,function(ge,ye){Fd(u,g,ge,ye)}),V=g}catch(ge){Sf((u.hdlr||{})[yn],d,"Assigning",ge),k=!1}}else g&&g[wf]&&Yt(g,function(ge){var ye=cu(g,ge);if(ye){var pe=ye[u.prop];pe&&pe.chng()}});if(V!==g){var me=V&&Nh(B,u,V);!ie&&me&&(V=Al(u,V,d,"Converting")),g=V,k=me}u.add(S)}}an(c,S.n,{g:B,s:q})}function Fd(u,c,d,g){if(c){var S=cu(c,d),N=S&&!!S[u.prop];N?c[d]=g:Tl(u,c,d,g)}return c}function Ud(u,c,d,g){if(c){var S=cu(c,d),N=S&&!!S[u.prop],k=g&&g[0],B=g&&g[1],q=g&&g[2];if(!N){if(q)try{Av(c)}catch(V){Sf((u.hdlr||{})[yn],d,"Blocking",V)}try{Fd(u,c,d,c[d]),S=cu(c,d)}catch(V){Sf((u.hdlr||{})[yn],d,"State",V)}}k&&(S[u.rf]=k),B&&(S[u.ro]=B),q&&(S[u.blkVal]=!0)}return c}function Al(u,c,d,g){try{Yt(c,function(S,N){Fd(u,c,S,N)}),c[wf]||(Oa(c,wf,{get:function(){return u[yc]}}),ks(u,c,d))}catch(S){Sf((u.hdlr||{})[yn],d,g,S)}return c}var Ta="[[ai_",Nl="]]";function Nv(u){var c,d=Vf(Ta+"get"+u.uid+Nl),g=Vf(Ta+"ro"+u.uid+Nl),S=Vf(Ta+"rf"+u.uid+Nl),N=Vf(Ta+"blkVal"+u.uid+Nl),k=Vf(Ta+"dtl"+u.uid+Nl),B=null,q=null,V;function ie(pe,Me){var Ee=V.act;try{V.act=pe,pe&&pe[k]&&(Ft(pe[k],function(Ye){Ye.clr(pe)}),pe[k]=[]),Me({cfg:u.cfg,set:u.set.bind(u),setDf:u[qa].bind(u),ref:u.ref.bind(u),rdOnly:u[Fo].bind(u)})}catch(Ye){var Ge=u[yn];throw Ge&&Ge[Ed](1,107,or(Ye)),Ye}finally{V.act=Ee||null}}function me(){if(B){var pe=B;B=null,q&&q[Uo](),q=null;var Me=[];if(Ft(pe,function(Ee){if(Ee&&(Ee[k]&&(Ft(Ee[k],function(Ge){Ge.clr(Ee)}),Ee[k]=null),Ee.fn))try{ie(Ee,Ee.fn)}catch(Ge){Me[qr](Ge)}}),B)try{me()}catch(Ee){Me[qr](Ee)}Me[mr]>0&&mv("Watcher error(s): ",Me)}}function ge(pe){if(pe&&pe.h[mr]>0){B||(B=[]),q||(q=Ou(function(){q=null,me()},0));for(var Me=0;Me<pe.h[mr];Me++){var Ee=pe.h[Me];Ee&&ga(B,Ee)===-1&&B[qr](Ee)}}}function ye(pe,Me){if(pe){var Ee=pe[k]=pe[k]||[];ga(Ee,Me)===-1&&Ee[qr](Me)}}return V=(c={prop:d,ro:g,rf:S},c[Ws]=N,c[yc]=u,c.add=ge,c[_s]=me,c.use=ie,c.trk=ye,c),V}function hm(u,c){var d={fn:c,rm:function(){d.fn=null,u=null,c=null}};return an(d,"toJSON",{v:function(){return"WatcherHandler"+(d.fn?"":"[X]")}}),u.use(d,c),d}function Df(u,c,d){var g,S=Dl(c);if(S)return S;var N=Ef("dyncfg",!0),k=c&&d!==!1?c:pm(c),B;function q(){B[_s]()}function V(Ge,Ye,tt){try{Ge=Fd(B,Ge,Ye,tt)}catch(vt){Sf(u,Ye,"Setting value",vt)}return Ge[Ye]}function ie(Ge){return hm(B,Ge)}function me(Ge,Ye){B.use(null,function(tt){var vt=B.upd;try{qe(Ye)||(B.upd=Ye),Ge(tt)}finally{B.upd=vt}})}function ge(Ge,Ye){var tt;return Ud(B,Ge,Ye,(tt={},tt[0]=!0,tt))[Ye]}function ye(Ge,Ye){var tt;return Ud(B,Ge,Ye,(tt={},tt[1]=!0,tt))[Ye]}function pe(Ge,Ye){var tt;return Ud(B,Ge,Ye,(tt={},tt[2]=!0,tt))[Ye]}function Me(Ge,Ye){return Ye&&Yt(Ye,function(tt,vt){Vo(Ee,Ge,tt,vt)}),Ge}var Ee=(g={uid:null,cfg:k},g[yn]=u,g[_s]=q,g.set=V,g[qa]=Me,g[Uu]=ie,g.ref=ge,g[Fo]=ye,g[Ws]=pe,g._block=me,g);return an(Ee,"uid",{c:!1,e:!1,w:!1,v:N}),B=Nv(Ee),Al(B,k,"config","Creating"),Ee}function vm(u,c){u?(u[Ga](c),u[Ed](2,108,c)):Wu(c)}function Wo(u,c,d,g){var S=Df(d,u||{},g);return c&&S[qa](S.cfg,c),S}function Ku(u,c,d){var g=u[wf]||u;return g.cfg&&(g.cfg===u||g.cfg[wf]===g)?g[Uu](c):(vm(d,Eh+or(u)),Wo(u,null,d)[Uu](c))}function Tf(u,c){if(u&&u[Ks])return u[Ks](c)}function Cv(u,c,d){var g;return d||(g=ff(function(S){d=S})),u&&hh(u)>0?Ts(Tf(u[0],c),function(){Cv(Wf(u,1),c,d)}):d(),g}var Up=500,Iv="Microsoft_ApplicationInsights_BypassAjaxInstrumentation";function Ch(u,c,d){return!u&&Fe(u)?c:to(u)?u:Ui(u)[Fu]()==="true"}function Bd(u){return{mrg:!0,v:u}}function Af(u,c,d){return{fb:d,isVal:u,v:c}}function mo(u,c){return{fb:c,set:Ch,v:!!u}}var jd=[ei,wr,tu,An],Nf=null,zi;function go(u,c){return function(){var d=arguments,g=xv(c);if(g){var S=g.listener;S&&S[u]&&S[u][oa](S,d)}}}function Cl(){var u=kr("Microsoft");return u&&(Nf=u.ApplicationInsights),Nf}function xv(u){var c=Nf;return!c&&u.disableDbgExt!==!0&&(c=Nf||Cl()),c?c.ChromeDbgExt:null}function Pv(u){if(!zi){zi={};for(var c=0;c<jd[mr];c++)zi[jd[c]]=go(jd[c],u)}return zi}var Ei,Cf="warnToConsole",Il="AI (Internal): ",mm="AI: ",Rv="AITR_",xl={loggingLevelConsole:0,loggingLevelTelemetry:1,maxMessageLimit:25,enableDebug:!1},$i=(Ei={},Ei[0]=null,Ei[1]="errorToConsole",Ei[2]=Cf,Ei[3]="debugToConsole",Ei);function Bp(u){return u?'"'+u[$a](/\"/g,Vr)+'"':Vr}function Oc(u,c){var d=ml();if(d){var g="log";d[u]&&(g=u),ut(d[g])&&d[g](c)}}var If=function(){function u(c,d,g,S){g===void 0&&(g=!1);var N=this;N[Sd]=c,N[wc]=(g?mm:Il)+c;var k=Vr;su()&&(k=Ka().stringify(S));var B=(d?" message:"+Bp(d):Vr)+(S?" props:"+Bp(k):Vr);N[wc]+=B}return u.dataType="MessageData",u}();function fu(u,c){return(u||{})[yn]||new Pl(c)}var Pl=function(){function u(c){this.identifier="DiagnosticLogger",this.queue=[];var d=0,g={},S,N,k,B,q;Gi(u,this,function(V){q=me(c||{}),V.consoleLoggingLevel=function(){return S},V[Ed]=function(pe,Me,Ee,Ge,Ye){Ye===void 0&&(Ye=!1);var tt=new If(Me,Ee,Ye,Ge);if(B)throw or(tt);var vt=$i[pe]||Cf;if(qe(tt[wc]))ye("throw"+(pe===1?"Critical":"Warning"),tt);else{if(Ye){var Ir=+tt[Sd];!g[Ir]&&S>=pe&&(V[vt](tt[wc]),g[Ir]=!0)}else S>=pe&&V[vt](tt[wc]);ie(pe,tt)}},V.debugToConsole=function(pe){Oc("debug",pe),ye("warning",pe)},V[Ga]=function(pe){Oc("warn",pe),ye("warning",pe)},V.errorToConsole=function(pe){Oc("error",pe),ye("error",pe)},V.resetInternalMessageCount=function(){d=0,g={}},V[bc]=ie,V[Ks]=function(pe){q&&q.rm(),q=null};function ie(pe,Me){if(!ge()){var Ee=!0,Ge=Rv+Me[Sd];if(g[Ge]?Ee=!1:g[Ge]=!0,Ee&&(pe<=N&&(V.queue[qr](Me),d++,ye(pe===1?"error":"warn",Me)),d===k)){var Ye="Internal events throttle limit per PageView reached for this app.",tt=new If(23,Ye,!1);V.queue[qr](tt),pe===1?V.errorToConsole(Ye):V[Ga](Ye)}}}function me(pe){return Ku(Wo(pe,xl,V).cfg,function(Me){var Ee=Me.cfg;S=Ee[Ec],N=Ee.loggingLevelTelemetry,k=Ee.maxMessageLimit,B=Ee.enableDebug})}function ge(){return d>=k}function ye(pe,Me){var Ee=xv(c||{});Ee&&Ee[wa]&&Ee[wa](pe,Me)}})}return u.__ieDyn=1,u}();function jp(u){return u||new Pl}function Ct(u,c,d,g,S,N){N===void 0&&(N=!1),jp(u)[Ed](c,d,g,S,N)}function Ju(u,c){jp(u)[Ga](c)}var Ho,Rl,gm="toGMTString",kl="toUTCString",Gd="cookie",Ko="expires",kv="isCookieUseDisabled",Gp="disableCookiesUsage",qp="_ckMgr",Ol=null,Mc=null,Ih=null,Kr,lu={},xh={},Zu=(Ho={cookieCfg:Bd((Rl={},Rl[vo]={fb:"cookieDomain",dfVal:df},Rl.path={fb:"cookiePath",dfVal:df},Rl.enabled=eu,Rl.ignoreCookies=eu,Rl.blockedCookies=eu,Rl)),cookieDomain:eu,cookiePath:eu},Ho[Gp]=eu,Ho);function yo(){!Kr&&(Kr=Iu(function(){return fd()}))}function Gn(u){return u?u.isEnabled():!0}function qd(u,c){return c&&u&&lt(u.ignoreCookies)?ga(u.ignoreCookies,c)!==-1:!1}function Lc(u,c){return c&&u&&lt(u.blockedCookies)&&ga(u.blockedCookies,c)!==-1?!0:qd(u,c)}function xf(u,c){var d=c[_c];if(Fe(d)){var g=void 0;qe(u[kv])||(g=!u[kv]),qe(u[Gp])||(g=!u[Gp]),d=g}return d}function Os(u,c){var d,g,S,N,k,B,q,V,ie;u=Wo(u||xh,null,c).cfg,k=Ku(u,function(ge){ge[qa](ge.cfg,Zu),g=ge.ref(ge.cfg,"cookieCfg"),S=g[cl]||"/",N=g[vo],B=xf(u,g)!==!1,q=g.getCookie||Ph,V=g.setCookie||Ms,ie=g.delCookie||Ms},c);var me=(d={isEnabled:function(){var ge=xf(u,g)!==!1&&B&&_o(c),ye=xh[qp];return ge&&ye&&me!==ye&&(ge=Gn(ye)),ge},setEnabled:function(ge){B=ge!==!1,g[_c]=ge},set:function(ge,ye,pe,Me,Ee){var Ge=!1;if(Gn(me)&&!Lc(g,ge)){var Ye={},tt=Xn(ye||Vr),vt=fc(tt,";");if(vt!==-1&&(tt=Xn(Ai(ye,vt)),Ye=Jo(Ti(ye,vt+1))),qu(Ye,vo,Me||N,fn,qe),!Fe(pe)){var Ir=kd();if(qe(Ye[Ko])){var un=Pu(),cn=un+pe*1e3;if(cn>0){var Nn=new Date;Nn.setTime(cn),qu(Ye,Ko,Yd(Nn,Ir?gm:kl)||Yd(Nn,Ir?gm:kl)||Vr,fn)}}Ir||qu(Ye,"max-age",Vr+pe,null,qe)}var ir=yf();ir&&ir[ju]==="https:"&&(qu(Ye,"secure",null,null,qe),Mc===null&&(Mc=!Rh((ps()||{})[pi])),Mc&&qu(Ye,"SameSite","None",null,qe)),qu(Ye,cl,Ee||S,null,qe),V(ge,Yp(tt,Ye)),Ge=!0}return Ge},get:function(ge){var ye=Vr;return Gn(me)&&!qd(g,ge)&&(ye=q(ge)),ye},del:function(ge,ye){var pe=!1;return Gn(me)&&(pe=me.purge(ge,ye)),pe},purge:function(ge,ye){var pe,Me=!1;if(_o(c)){var Ee=(pe={},pe[cl]=ye||"/",pe[Ko]="Thu, 01 Jan 1970 00:00:01 GMT",pe);kd()||(Ee["max-age"]="0"),ie(ge,Yp(Vr,Ee)),Me=!0}return Me}},d[Ks]=function(ge){k&&k.rm(),k=null},d);return me[qp]=me,me}function _o(u){if(Ol===null){Ol=!1,!Kr&&yo();try{var c=Kr.v||{};Ol=c[Gd]!==void 0}catch(d){Ct(u,2,68,"Cannot access document.cookie - "+vi(d),{exception:or(d)})}}return Ol}function Jo(u){var c={};if(u&&u[mr]){var d=Xn(u)[Gu](";");Ft(d,function(g){if(g=Xn(g||Vr),g){var S=fc(g,"=");S===-1?c[g]=null:c[Xn(Ai(g,S))]=Xn(Ti(g,S+1))}})}return c}function Yd(u,c){return ut(u[c])?u[c]():null}function Yp(u,c){var d=u||Vr;return Yt(c,function(g,S){d+="; "+g+(Fe(S)?Vr:"="+S)}),d}function Ph(u){var c=Vr;if(!Kr&&yo(),Kr.v){var d=Kr.v[Gd]||Vr;Ih!==d&&(lu=Jo(d),Ih=d),c=Xn(lu[u]||Vr)}return c}function Ms(u,c){!Kr&&yo(),Kr.v&&(Kr.v[Gd]=u+"="+c)}function Rh(u){return nn(u)?!!(Kn(u,"CPU iPhone OS 12")||Kn(u,"iPad; CPU OS 12")||Kn(u,"Macintosh; Intel Mac OS X 10_14")&&Kn(u,"Version/")&&Kn(u,"Safari")||Kn(u,"Macintosh; Intel Mac OS X 10_14")&&Ua(u,"AppleWebKit/605.1.15 (KHTML, like Gecko)")||Kn(u,"Chrome/5")||Kn(u,"Chrome/6")||Kn(u,"UnrealEngine")&&!Kn(u,"Chrome")||Kn(u,"UCBrowser/12")||Kn(u,"UCBrowser/11")):!1}var zd={perfEvtsSendAll:!1};function kh(u){u.h=null;var c=u.cb;u.cb=[],Ft(c,function(d){Je(d.fn,[d.arg])})}function Ls(u,c,d,g){Ft(u,function(S){S&&S[c]&&(d?(d.cb[qr]({fn:g,arg:S}),d.h=d.h||Ou(kh,0,d)):Je(g,[S]))})}var ym=function(){function u(c){this.listeners=[];var d,g,S=[],N={h:null,cb:[]},k=Wo(c,zd);g=k[Uu](function(B){d=!!B.cfg.perfEvtsSendAll}),Gi(u,this,function(B){an(B,"listeners",{g:function(){return S}}),B[Ya]=function(q){S[qr](q)},B[Bu]=function(q){for(var V=ga(S,q);V>-1;)S[Et](V,1),V=ga(S,q)},B[ei]=function(q){Ls(S,ei,N,function(V){V[ei](q)})},B[wr]=function(q,V){Ls(S,wr,N,function(ie){ie[wr](q,V)})},B[tu]=function(q,V){Ls(S,tu,V?N:null,function(ie){ie[tu](q,V)})},B[An]=function(q){q&&(d||!q[Dp]())&&Ls(S,An,null,function(V){q[Js]?Ou(function(){return V[An](q)},0):V[An](q)})},B[As]=function(q){q&&q[mr]&&Ls(S,As,N,function(V){V[As](q)})},B[Pc]=function(q){q&&q[ba]&&Ls(S,Pc,N,function(V){V[Pc](q)})},B[Rc]=function(q,V){if(q>0){var ie=V||0;Ls(S,Rc,N,function(me){me[Rc](q,ie)})}},B[Ks]=function(q){var V=function(){g&&g.rm(),g=null,S=[],N.h&&N.h[Uo](),N.h=null,N.cb=[]},ie;if(Ls(S,"unload",null,function(me){var ge=me[Ks](q);ge&&(ie||(ie=[]),ie[qr](ge))}),ie)return ff(function(me){return Ts(xp(ie),function(){V(),me()})});V()}})}return u.__ieDyn=1,u}(),Xu="ctx",Oh="ParentContextKey",p="ChildrenContextKey",_=null,b=function(){function u(c,d,g){var S=this;if(S.start=Pu(),S[Ln]=c,S[Js]=g,S[Dp]=function(){return!1},ut(d)){var N;an(S,"payload",{g:function(){return!N&&ut(d)&&(N=d(),d=null),N}})}S[of]=function(k){return k?k===u[Oh]||k===u[p]?S[k]:(S[Xu]||{})[k]:null},S[Ii]=function(k,B){if(k)if(k===u[Oh])S[k]||(S[Dp]=function(){return!0}),S[k]=B;else if(k===u[p])S[k]=B;else{var q=S[Xu]=S[Xu]||{};q[k]=B}},S[Dd]=function(){var k=0,B=S[of](u[p]);if(lt(B))for(var q=0;q<B[mr];q++){var V=B[q];V&&(k+=V[Es])}S[Es]=Pu()-S.start,S.exTime=S[Es]-k,S[Dd]=function(){}}}return u.ParentContextKey="parent",u.ChildrenContextKey="childEvts",u}(),C=function(){function u(c){this.ctx={},Gi(u,this,function(d){d.create=function(g,S,N){return new b(g,S,N)},d.fire=function(g){g&&(g[Dd](),c&&ut(c[An])&&c[An](g))},d[Ii]=function(g,S){if(g){var N=d[Xu]=d[Xu]||{};N[g]=S}},d[of]=function(g){return(d[Xu]||{})[g]}})}return u.__ieDyn=1,u}(),j="CoreUtils.doPerf";function Z(u,c,d,g,S){if(u){var N=u;if(N[ru]&&(N=N[ru]()),N){var k=void 0,B=N[of](j);try{if(k=N.create(c(),g,S),k){if(B&&k[Ii]&&(k[Ii](b[Oh],B),B[of]&&B[Ii])){var q=B[of](b[p]);q||(q=[],B[Ii](b[p],q)),q[qr](k)}return N[Ii](j,k),d(k)}}catch(V){k&&k[Ii]&&k[Ii]("exception",V)}finally{k&&N.fire(k),N[Ii](j,B)}}}return d()}function re(){return _}var se="00000000000000000000000000000000",oe="0000000000000000";function be(u,c,d){return u&&u[mr]===c&&u!==d?!!u.match(/^[\da-f]*$/i):!1}function ct(u){return be(u,32,se)}function Pt(u){return be(u,16,oe)}var tr=Fp("plugin");function dt(u){return tr.get(u,"state",{},!0)}function gt(u,c){for(var d=[],g=null,S=u[za](),N;S;){var k=S[Go]();if(k){g&&g[af]&&k[ca]&&g[af](k),N=dt(k);var B=!!N[$r];k[$r]&&(B=k[$r]()),B||d[qr](k),g=k,S=S[za]()}}Ft(d,function(q){var V=u[hi]();q[Hs](u.getCfg(),V,c,u[za]()),N=dt(q),!q[hi]&&!N[hi]&&(N[hi]=V),N[$r]=!0,delete N[jn]})}function dr(u){return u.sort(function(c,d){var g=0;if(d){var S=d[ca];c[ca]?g=S?c[Id]-d[Id]:1:S&&(g=-1)}else g=c?1:-1;return g})}function zt(u){var c={};return{getName:function(){return c[Ln]},setName:function(d){u&&u.setName(d),c[Ln]=d},getTraceId:function(){return c[al]},setTraceId:function(d){u&&u.setTraceId(d),ct(d)&&(c[al]=d)},getSpanId:function(){return c[$o]},setSpanId:function(d){u&&u.setSpanId(d),Pt(d)&&(c[$o]=d)},getTraceFlags:function(){return c[ua]},setTraceFlags:function(d){u&&u.setTraceFlags(d),c[ua]=d}}}var Nr="TelemetryPluginChain",xr="_hasRun",Ut="_getTelCtx",In=0;function Fc(u,c,d){for(;u;){if(u[Go]()===d)return u;u=u[za]()}return Ll([d],c.config||{},c)}function du(u,c,d,g){var S=null,N=[];c||(c=Wo({},null,d[yn])),g!==null&&(S=g?Fc(u,d,g):u);var k={_next:q,ctx:{core:function(){return d},diagLog:function(){return fu(d,c.cfg)},getCfg:function(){return c.cfg},getExtCfg:ie,getConfig:me,hasNext:function(){return!!S},getNext:function(){return S},setNext:function(ye){S=ye},iterate:ge,onComplete:B}};function B(ye,pe){for(var Me=[],Ee=2;Ee<arguments.length;Ee++)Me[Ee-2]=arguments[Ee];ye&&N[qr]({func:ye,self:qe(pe)?k.ctx:pe,args:Me})}function q(){var ye=S;if(S=ye?ye[za]():null,!ye){var pe=N;pe&&pe[mr]>0&&(Ft(pe,function(Me){try{Me.func.call(Me.self,Me.args)}catch(Ee){Ct(d[yn],2,73,"Unexpected Exception during onComplete - "+or(Ee))}}),N=[])}return ye}function V(ye,pe){var Me=null,Ee=c.cfg;if(Ee&&ye){var Ge=Ee[lf];!Ge&&pe&&(Ge={}),Ee[lf]=Ge,Ge=c.ref(Ee,lf),Ge&&(Me=Ge[ye],!Me&&pe&&(Me={}),Ge[ye]=Me,Me=c.ref(Ge,ye))}return Me}function ie(ye,pe){var Me=V(ye,!0);return pe&&Yt(pe,function(Ee,Ge){if(Fe(Me[Ee])){var Ye=c.cfg[Ee];(Ye||!Fe(Ye))&&(Me[Ee]=Ye)}Vo(c,Me,Ee,Ge)}),c[qa](Me,pe)}function me(ye,pe,Me){Me===void 0&&(Me=!1);var Ee,Ge=V(ye,!1),Ye=c.cfg;return Ge&&(Ge[pe]||!Fe(Ge[pe]))?Ee=Ge[pe]:(Ye[pe]||!Fe(Ye[pe]))&&(Ee=Ye[pe]),Ee||!Fe(Ee)?Ee:Me}function ge(ye){for(var pe;pe=k._next();){var Me=pe[Go]();Me&&ye(Me)}}return k}function Pf(u,c,d,g){var S=Wo(c),N=du(u,S,d,g),k=N.ctx;function B(V){var ie=N._next();return ie&&ie[ca](V,k),!ie}function q(V,ie){return V===void 0&&(V=null),lt(V)&&(V=Ll(V,S.cfg,d,ie)),Pf(V||k[za](),S.cfg,d,ie)}return k[Ci]=B,k[zo]=q,k}function Ml(u,c,d){var g=Wo(c.config),S=du(u,g,c,d),N=S.ctx;function k(q){var V=S._next();return V&&V[Ks](N,q),!V}function B(q,V){return q===void 0&&(q=null),lt(q)&&(q=Ll(q,g.cfg,c,V)),Ml(q||N[za](),c,V)}return N[Ci]=k,N[zo]=B,N}function $d(u,c,d){var g=Wo(c.config),S=du(u,g,c,d),N=S.ctx;function k(q){return N.iterate(function(V){ut(V[Zs])&&V[Zs](N,q)})}function B(q,V){return q===void 0&&(q=null),lt(q)&&(q=Ll(q,g.cfg,c,V)),$d(q||N[za](),c,V)}return N[Ci]=k,N[zo]=B,N}function Ll(u,c,d,g){var S=null,N=!g;if(lt(u)&&u[mr]>0){var k=null;Ft(u,function(B){if(!N&&g===B&&(N=!0),N&&B&&ut(B[ca])){var q=Fl(B,c,d);S||(S=q),k&&k._setNext(q),k=q}})}return g&&!S?Ll([g],c,d):S}function Fl(u,c,d){var g=null,S=ut(u[ca]),N=ut(u[af]),k;u?k=u[lo]+"-"+u[Id]+"-"+In++:k="Unknown-0-"+In++;var B={getPlugin:function(){return u},getNext:function(){return g},processTelemetry:ie,unload:me,update:ge,_id:k,_setNext:function(ye){g=ye}};function q(){var ye;return u&&ut(u[Ut])&&(ye=u[Ut]()),ye||(ye=Pf(B,c,d)),ye}function V(ye,pe,Me,Ee,Ge){var Ye=!1,tt=u?u[lo]:Nr,vt=ye[xr];return vt||(vt=ye[xr]={}),ye.setNext(g),u&&Z(ye[hi](),function(){return tt+":"+Me},function(){vt[k]=!0;try{var Ir=g?g._id:Vr;Ir&&(vt[Ir]=!1),Ye=pe(ye)}catch(cn){var un=g?vt[g._id]:!0;un&&(Ye=!0),(!g||!un)&&Ct(ye[wa](),1,73,"Plugin ["+tt+"] failed during "+Me+" - "+or(cn)+", run flags: "+or(vt))}},Ee,Ge),Ye}function ie(ye,pe){pe=pe||q();function Me(Ee){if(!u||!S)return!1;var Ge=dt(u);return Ge[jn]||Ge[Cd]?!1:(N&&u[af](g),u[ca](ye,Ee),!0)}V(pe,Me,"processTelemetry",function(){return{item:ye}},!ye.sync)||pe[Ci](ye)}function me(ye,pe){function Me(){var Ee=!1;if(u){var Ge=dt(u),Ye=u[hi]||Ge[hi];u&&(!Ye||Ye===ye.core())&&!Ge[jn]&&(Ge[hi]=null,Ge[jn]=!0,Ge[$r]=!1,u[jn]&&u[jn](ye,pe)===!0&&(Ee=!0))}return Ee}V(ye,Me,"unload",function(){},pe[Js])||ye[Ci](pe)}function ge(ye,pe){function Me(){var Ee=!1;if(u){var Ge=dt(u),Ye=u[hi]||Ge[hi];u&&(!Ye||Ye===ye.core())&&!Ge[jn]&&u[Zs]&&u[Zs](ye,pe)===!0&&(Ee=!0)}return Ee}V(ye,Me,"update",function(){},!1)||ye[Ci](pe)}return vr(B)}function Vd(){var u=[];function c(g){g&&u[qr](g)}function d(g,S){Ft(u,function(N){try{N(g,S)}catch(k){Ct(g[wa](),2,73,"Unexpected error calling unload handler - "+or(k))}}),u=[]}return{add:c,run:d}}function Ul(){var u=[];function c(g){var S=u;u=[],Ft(S,function(N){try{(N.rm||N.remove).call(N)}catch(k){Ct(g,2,73,"Unloading:"+or(k))}})}function d(g){g&&Kc(u,g)}return{run:c,add:d}}var Be,wt="getPlugin",Kt=(Be={},Be[lf]={isVal:df,v:{}},Be),pn=function(){function u(){var c=this,d,g,S,N,k;V(),Gi(u,c,function(ie){ie[Hs]=function(me,ge,ye,pe){q(me,ge,pe),d=!0},ie[jn]=function(me,ge){var ye,pe=ie[hi];if(!pe||me&&pe!==me[hi]())return;var Me,Ee=!1,Ge=me||Ml(null,pe,S&&S[wt]?S[wt]():S),Ye=ge||(ye={reason:0},ye[Js]=!1,ye);function tt(){Ee||(Ee=!0,N.run(Ge,ge),k.run(Ge[wa]()),Me===!0&&Ge[Ci](Ye),V())}return!ie[ws]||ie[ws](Ge,Ye,tt)!==!0?tt():Me=!0,Me},ie[Zs]=function(me,ge){var ye=ie[hi];if(!ye||me&&ye!==me[hi]())return;var pe,Me=!1,Ee=me||$d(null,ye,S&&S[wt]?S[wt]():S),Ge=ge||{reason:0};function Ye(){Me||(Me=!0,q(Ee.getCfg(),Ee.core(),Ee[za]()))}return!ie._doUpdate||ie._doUpdate(Ee,Ge,Ye)!==!0?Ye():pe=!0,pe},mi(ie,"_addUnloadCb",function(){return N},"add"),mi(ie,"_addHook",function(){return k},"add"),an(ie,"_unloadHooks",{g:function(){return k}})}),c[wa]=function(ie){return B(ie)[wa]()},c[$r]=function(){return d},c.setInitialized=function(ie){d=ie},c[af]=function(ie){S=ie},c[Ci]=function(ie,me){me?me[Ci](ie):S&&ut(S[ca])&&S[ca](ie,null)},c._getTelCtx=B;function B(ie){ie===void 0&&(ie=null);var me=ie;if(!me){var ge=g||Pf(null,{},c[hi]);S&&S[wt]?me=ge[zo](null,S[wt]):me=ge[zo](null,S)}return me}function q(ie,me,ge){Wo(ie,Kt,fu(me)),!ge&&me&&(ge=me[qi]()[za]());var ye=S;S&&S[wt]&&(ye=S[wt]()),c[hi]=me,g=Pf(ge,ie,me,ye)}function V(){d=!1,c[hi]=null,g=null,S=null,k=Ul(),N=Vd()}}return u.__ieDyn=1,u}();function xi(u,c,d){var g={id:c,fn:d};Kc(u,g);var S={remove:function(){Ft(u,function(N,k){if(N.id===g.id)return u[Et](k,1),-1})}};return S}function Pi(u,c,d){for(var g=!1,S=u[mr],N=0;N<S;++N){var k=u[N];if(k)try{if(k.fn[oa](null,[c])===!1){g=!0;break}}catch(B){Ct(d,2,64,"Telemetry initializer failed: "+vi(B),{exception:or(B)},!0)}}return!g}var ti=function(u){nl(c,u);function c(){var d=u.call(this)||this;d.identifier="TelemetryInitializerPlugin",d.priority=199;var g,S;N(),Gi(c,d,function(k,B){k.addTelemetryInitializer=function(q){return xi(S,g++,q)},k[ca]=function(q,V){Pi(S,q,V?V[wa]():k[wa]())&&k[Ci](q,V)},k[ws]=function(){N()}});function N(){g=0,S=[]}return d}return c.__ieDyn=1,c}(pn),Aa,Fs="Plugins must provide initialize method",Rf="_notificationManager",Ov="SDK is still unloading...",Qu="SDK is not initialized",Wd=100,_m=5e4,ri=Bi((Aa={cookieCfg:{}},Aa[xc]={rdOnly:!0,ref:!0,v:[]},Aa[Ic]={rdOnly:!0,ref:!0,v:[]},Aa[lf]={ref:!0,v:{}},Aa[Pp]=eu,Aa.loggingLevelConsole=0,Aa.diagnosticLogInterval=eu,Aa));function Us(u,c){return new C(c)}function Mv(u,c,d){var g,S=[],N=[],k={};return Ft(d,function(B){(Fe(B)||Fe(B[Hs]))&&lr(Fs);var q=B[Id],V=B[lo];B&&q&&(Fe(k[q])?k[q]=V:Ju(u,"Two extensions have same priority #"+q+" - "+k[q]+", "+V)),!q||q<c?S[qr](B):N[qr](B)}),g={},g[hi]=S,g[Ic]=N,g}function Em(u,c){var d=!1;return Ft(c,function(g){if(g===u)return d=!0,-1}),d}function Mh(u,c,d,g){d&&Yt(d,function(S,N){g&&ia(N)&&ia(c[S])&&Mh(u,c[S],N,g),g&&ia(N)&&ia(c[S])?Mh(u,c[S],N,g):u.set(c,S,N)})}function wm(u,c){var d=null,g=-1;return Ft(u,function(S,N){if(S.w===c)return d=S,g=N,-1}),{i:g,l:d}}function bm(u,c){var d=wm(u,c).l;return d||(d={w:c,rm:function(){var g=wm(u,c);g.i!==-1&&u[Et](g.i,1)}},u[qr](d)),d}function Bg(u,c,d){Ft(c,function(g){var S=Ku(u,g.w,d);delete g.w,g.rm=function(){S.rm()}})}function Sm(u,c,d,g){return c.add(u[Uu](function(S){var N=S.cfg.disableDbgExt;N===!0&&g&&(d[Bu](g),g=null),d&&!g&&N!==!0&&(g=Pv(S.cfg),d[Ya](g))})),g}function Dm(u){return an({rm:function(){u.rm()}},"toJSON",{v:function(){return"aicore::onCfgChange<"+JSON.stringify(u)+">"}})}var kf=function(){function u(){var c,d,g,S,N,k,B,q,V,ie,me,ge,ye,pe,Me,Ee,Ge,Ye,tt,vt,Ir,un,cn,Nn,ir,Vt,rn,Ji,si,it,Wt,kn;Gi(u,this,function(ze){De(),ze._getDbgPlgTargets=function(){return[cn,S]},ze[$r]=function(){return d},ze.activeStatus=function(){return Vt},ze._setPendingStatus=function(){Vt=3},ze[Hs]=function(xe,St,ar,Lt){ye&&lr(Ov),ze[$r]()&&lr("Core cannot be initialized more than once"),c=Wo(xe,ri,ar||ze[yn],!1),xe=c.cfg,Eu(c[Uu](function(Cn){var Xi=Cn.cfg,ts=Vt===3;if(!ts){Ji=Xi.initInMemoMaxSize||Wd;var wu=Xi[Bo],eh=Xi.endpointUrl;if(Fe(wu)){Ir=null,Vt=ja[Yr];var th="Please provide instrumentation key";d?(Ct(g,1,100,th),ui()):lr(th);return}var Zg=[];if(qt(wu)?(Zg[qr](wu),Ir=null):Ir=wu,qt(eh)?(Zg[qr](eh),rn=null):rn=eh,Zg[mr]){si=!1,Vt=3;var Gy=df(Xi.initTimeOut)?Xi.initTimeOut:_m,DE=_v(Zg);Ou(function(){si||ur()},Gy),Ts(DE,function(Mm){try{if(si)return;if(!Mm.rejected){var Lm=Mm[jo];if(Lm&&Lm[mr]){var H_=Lm[0];if(Ir=H_&&H_[jo],Lm[mr]>1){var K_=Lm[1];rn=K_&&K_[jo]}}Ir&&(xe[Bo]=Ir,xe.endpointUrl=rn)}ur()}catch{si||ur()}})}else ur();var Xg=Cn.ref(Cn.cfg,lf);Yt(Xg,function(Mm){Cn.ref(Xg,Mm)})}})),N=Lt,tt=Sm(c,Ye,N&&ze[wd](),tt),km(),ze[yn]=ar;var yr=xe[xc];if(ie=[],ie[qr].apply(ie,mc(mc([],St,!1),yr)),me=xe[Ic],la(null),(!ge||ge[mr]===0)&&lr("No "+Ic+" available"),me&&me[mr]>1){var $n=ze[Go]("TeeChannelController");(!$n||!$n.plugin)&&Ct(g,1,28,"TeeChannel required")}Bg(xe,un,g),un=null,d=!0,Vt===ja.ACTIVE&&ui()},ze.getChannels=function(){var xe=[];return ge&&Ft(ge,function(St){xe[qr](St)}),vr(xe)},ze.track=function(xe){Z(ze[ru](),function(){return"AppInsightsCore:track"},function(){xe===null&&(Zi(xe),lr("Invalid telemetry item")),!xe[Ln]&&Fe(xe[Ln])&&(Zi(xe),lr("telemetry name required")),xe[po]=xe[po]||Ir,xe[Es]=xe[Es]||pf(new Date),xe.ver=xe.ver||"4.0",!ye&&ze[$r]()&&Vt===ja.ACTIVE?Do()[Ci](xe):Vt!==ja[Yr]&&S[mr]<=Ji&&S[qr](xe)},function(){return{item:xe}},!xe.sync)},ze[qi]=Do,ze[wd]=function(){return N||(N=new ym(c.cfg),ze[Rf]=N),N},ze[Ya]=function(xe){ze.getNotifyMgr()[Ya](xe)},ze[Bu]=function(xe){N&&N[Bu](xe)},ze.getCookieMgr=function(){return q||(q=Os(c.cfg,ze[yn])),q},ze.setCookieMgr=function(xe){q!==xe&&(Tf(q,!1),q=xe)},ze[ru]=function(){return k||B||re()},ze.setPerfMgr=function(xe){k=xe},ze.eventCnt=function(){return S[mr]},ze.releaseQueue=function(){if(d&&S[mr]>0){var xe=S;S=[],Vt===2?Ft(xe,function(St){St[po]=St[po]||Ir,Do()[Ci](St)}):Ct(g,2,20,"core init status is not active")}},ze[nf]=function(xe){return Me=xe||null,kn=!1,it&&it[Uo](),On(!0)};function ur(){si=!0,Fe(Ir)?(Vt=ja[Yr],Ct(g,1,112,"ikey can't be resolved from promises")):Vt=ja.ACTIVE,ui()}function ui(){d&&(ze.releaseQueue(),ze[nf]())}function On(xe){if((!it||!it[_c])&&!kn){var St=xe||g&&g.queue[mr]>0;St&&(Wt||(Wt=!0,Eu(c[Uu](function(ar){var Lt=ar.cfg.diagnosticLogInterval;(!Lt||!(Lt>0))&&(Lt=1e4);var yr=!1;it&&(yr=it[_c],it[Uo]()),it=_p(Rm,Lt),it.unref(),it[_c]=yr}))),it[_c]=!0)}return it}ze[bd]=function(){kn=!0,it&&it[Uo](),Rm()},Pd(ze,function(){return pe},["addTelemetryInitializer"]),ze[Ks]=function(xe,St,ar){var Lt;xe===void 0&&(xe=!0),d||lr(Qu),ye&&lr(Ov);var yr=(Lt={reason:50},Lt[Js]=xe,Lt.flushComplete=!1,Lt),$n;xe&&!St&&($n=ff(function(ts){St=ts}));var Cn=Ml(tp(),ze);Cn[qo](function(){Ye.run(ze[yn]),Cv([q,N,g],xe,function(){De(),St&&St(yr)})},ze);function Xi(ts){yr.flushComplete=ts,ye=!0,Ge.run(Cn,yr),ze[bd](),Cn[Ci](yr)}return Rm(),Xp(xe,Xi,6,ar),$n},ze[Go]=Gs,ze.addPlugin=function(xe,St,ar,Lt){if(!xe){Lt&&Lt(!1),Om(Fs);return}var yr=Gs(xe[lo]);if(yr&&!St){Lt&&Lt(!1),Om("Plugin ["+xe[lo]+"] is already loaded!");return}var $n={reason:16};function Cn(wu){ie[qr](xe),$n.added=[xe],la($n),Lt&&Lt(!0)}if(yr){var Xi=[yr.plugin],ts={reason:2,isAsync:!!ar};Yc(Xi,ts,function(wu){wu?($n.removed=Xi,$n.reason|=32,Cn()):Lt&&Lt(!1)})}else Cn()},ze.updateCfg=function(xe,St){St===void 0&&(St=!0);var ar;if(ze[$r]()){ar={reason:1,cfg:c.cfg,oldCfg:ku({},c.cfg),newConfig:ku({},xe),merge:St},xe=ar.newConfig;var Lt=c.cfg;xe[xc]=Lt[xc],xe[Ic]=Lt[Ic]}c._block(function(yr){var $n=yr.cfg;Mh(yr,$n,xe,St),St||Yt($n,function(Cn){Dr(xe,Cn)||yr.set($n,Cn,eu)}),yr[qa]($n,ri)},!0),c[_s](),ar&&Qp(ar)},ze.evtNamespace=function(){return Ee},ze.flush=Xp,ze.getTraceCtx=function(xe){return vt||(vt=zt()),vt},ze.setTraceCtx=function(xe){vt=xe||null},ze.addUnloadHook=Eu,mi(ze,"addUnloadCb",function(){return Ge},"add"),ze.onCfgChange=function(xe){var St;return d?St=Ku(c.cfg,xe,ze[yn]):St=bm(un,xe),Dm(St)},ze.getWParam=function(){return li()||c.cfg.enableWParam?0:-1};function js(){var xe={};Nn=[];var St=function(ar){ar&&Ft(ar,function(Lt){if(Lt[lo]&&Lt[Yo]&&!xe[Lt.identifier]){var yr=Lt[lo]+"="+Lt[Yo];Nn[qr](yr),xe[Lt.identifier]=Lt}})};St(ge),me&&Ft(me,function(ar){St(ar)}),St(ie)}function De(){d=!1,c=Wo({},ri,ze[yn]),c.cfg[Ec]=1,an(ze,"config",{g:function(){return c.cfg},s:function(St){ze.updateCfg(St,!1)}}),an(ze,"pluginVersionStringArr",{g:function(){return Nn||js(),Nn}}),an(ze,"pluginVersionString",{g:function(){return ir||(Nn||js(),ir=Nn.join(";")),ir||Vr}}),an(ze,"logger",{g:function(){return g||(g=new Pl(c.cfg),c[yn]=g),g},s:function(St){c[yn]=St,g!==St&&(Tf(g,!1),g=St)}}),ze[yn]=new Pl(c.cfg),cn=[];var xe=ze.config[xc]||[];xe.splice(0,xe[mr]),Kc(xe,cn),pe=new ti,S=[],Tf(N,!1),N=null,k=null,B=null,Tf(q,!1),q=null,V=null,ie=[],me=null,ge=null,ye=!1,Me=null,Ee=Ef("AIBaseCore",!0),Ge=Vd(),vt=null,Ir=null,Ye=Ul(),un=[],ir=null,Nn=null,kn=!1,it=null,Wt=!1,Vt=0,rn=null,Ji=null,si=!1}function Do(){var xe=Pf(tp(),c.cfg,ze);return xe[qo](On),xe}function la(xe){var St=Mv(ze[yn],Up,ie);V=null,ir=null,Nn=null,ge=(me||[])[0]||[],ge=dr(Kc(ge,St[Ic]));var ar=Kc(dr(St[hi]),ge);cn=vr(ar);var Lt=ze.config[xc]||[];Lt.splice(0,Lt[mr]),Kc(Lt,cn);var yr=Do();ge&&ge[mr]>0&&gt(yr[zo](ge),ar),gt(yr,ar),xe&&Qp(xe)}function Gs(xe){var St=null,ar=null,Lt=[];return Ft(cn,function(yr){if(yr[lo]===xe&&yr!==pe)return ar=yr,-1;yr.getChannel&&Lt[qr](yr)}),!ar&&Lt[mr]>0&&Ft(Lt,function(yr){if(ar=yr.getChannel(xe),!ar)return-1}),ar&&(St={plugin:ar,setEnabled:function(yr){dt(ar)[Cd]=!yr},isEnabled:function(){var yr=dt(ar);return!yr[jn]&&!yr[Cd]},remove:function(yr,$n){var Cn;yr===void 0&&(yr=!0);var Xi=[ar],ts=(Cn={reason:1},Cn[Js]=yr,Cn);Yc(Xi,ts,function(wu){wu&&la({reason:32,removed:Xi}),$n&&$n(wu)})}}),St}function tp(){if(!V){var xe=(cn||[]).slice();ga(xe,pe)===-1&&xe[qr](pe),V=Ll(dr(xe),c.cfg,ze)}return V}function Yc(xe,St,ar){if(xe&&xe[mr]>0){var Lt=Ll(xe,c.cfg,ze),yr=Ml(Lt,ze);yr[qo](function(){var $n=!1,Cn=[];Ft(ie,function(ts,wu){Em(ts,xe)?$n=!0:Cn[qr](ts)}),ie=Cn,ir=null,Nn=null;var Xi=[];me&&(Ft(me,function(ts,wu){var eh=[];Ft(ts,function(th){Em(th,xe)?$n=!0:eh[qr](th)}),Xi[qr](eh)}),me=Xi),ar&&ar($n),On()}),yr[Ci](St)}else ar(!1)}function Rm(){if(g&&g.queue){var xe=g.queue.slice(0);g.queue[mr]=0,Ft(xe,function(St){var ar,Lt=(ar={},ar[Ln]=Me||"InternalMessageId: "+St[Sd],ar[po]=Ir,ar[Es]=pf(new Date),ar.baseType=If.dataType,ar.baseData={message:St[wc]},ar);ze.track(Lt)})}}function Xp(xe,St,ar,Lt){var yr=1,$n=!1,Cn=null;Lt=Lt||5e3;function Xi(){yr--,$n&&yr===0&&(Cn&&Cn[Uo](),Cn=null,St&&St($n),St=null)}if(ge&&ge[mr]>0){var ts=Do()[zo](ge);ts.iterate(function(wu){if(wu.flush){yr++;var eh=!1;wu.flush(xe,function(){eh=!0,Xi()},ar)||eh||(xe&&Cn==null?Cn=Ou(function(){Cn=null,Xi()},Lt):Xi())}})}return $n=!0,Xi(),!0}function km(){var xe;Eu(c[Uu](function(St){var ar=St.cfg.enablePerfMgr;if(ar){var Lt=St.cfg[Pp];(xe!==Lt||!xe)&&(Lt||(Lt=Us),kp(St.cfg,Pp,Lt),xe=Lt,B=null),!k&&!B&&ut(Lt)&&(B=Lt(ze,ze[wd]()))}else B=null,xe=null}))}function Qp(xe){var St=$d(tp(),ze);St[qo](On),(!ze._updateHook||ze._updateHook(St,xe)!==!0)&&St[Ci](xe)}function Om(xe){var St=ze[yn];St?(Ct(St,2,73,xe),On()):lr(xe)}function Zi(xe){var St=ze[wd]();St&&St[wr]([xe],2)}function Eu(xe){Ye.add(xe)}})}return u.__ieDyn=1,u}();function Bl(u,c){try{if(u&&u!==""){var d=Ka().parse(u);if(d&&d[sa]&&d[sa]>=d.itemsAccepted&&d.itemsReceived-d.itemsAccepted===d.errors[mr])return d}}catch(g){Ct(c,1,43,"Cannot parse the response. "+(g[Ln]||or(g)),{response:u})}return null}var pu="",Of="NoResponseBody",Tm="&"+Of+"=true",Lv="POST",Lh=function(){function u(){var c=0,d,g,S,N,k,B,q,V,ie,me,ge,ye,pe,Me;Gi(u,this,function(Ee,Ge){var Ye=!0;si(),Ee[Hs]=function(it,Wt){S=Wt,g&&Ct(S,1,28,"Sender is already initialized"),Ee.SetConfig(it),g=!0},Ee._getDbgPlgTargets=function(){return[g,N,B,d]},Ee.SetConfig=function(it){try{if(k=it.senderOnCompleteCallBack||{},B=!!it.disableCredentials,q=it.fetchCredentials,N=!!it.isOneDs,d=!!it.enableSendPromise,ie=!!it.disableXhr,me=!!it.disableBeacon,ge=!!it.disableBeaconSync,Me=it.timeWrapper,pe=!!it.addNoResponse,ye=!!it.disableFetchKeepAlive,V={sendPOST:Vt},N||(Ye=!1),B){var Wt=yf();Wt&&Wt.protocol&&Wt.protocol[Fu]()==="file:"&&(Ye=!1)}return!0}catch{}return!1},Ee.getSyncFetchPayload=function(){return c},Ee.getSenderInst=function(it,Wt){return it&&it[mr]?un(it,Wt):null},Ee.getFallbackInst=function(){return V},Ee[ws]=function(it,Wt){si()};function tt(it,Wt){cn(Wt,200,{},it)}function vt(it,Wt){Ct(S,2,26,"Failed to send telemetry.",{message:it}),cn(Wt,400,{})}function Ir(it){vt("No endpoint url is provided for the batch",it)}function un(it,Wt){for(var kn,ze=0,ur=null,ui=0;ur==null&&ui<it[mr];)ze=it[ui],!ie&&ze===1?Od()?ur=Ji:zu()&&(ur=Vt):ze===2&&yi(Wt)&&(!Wt||!ye)?ur=rn:ze===3&&uu()&&(Wt?!ge:!me)&&(ur=ir),ui++;return ur?(kn={_transport:ze,_isSync:Wt},kn[Ds]=ur,kn):null}function cn(it,Wt,kn,ze){try{it&&it(Wt,kn,ze)}catch{}}function Nn(it,Wt){var kn=ps(),ze=it[Ss];if(!ze)return Ir(Wt),!0;ze=it[Ss]+(pe?Tm:pu);var ur=it[ba],ui=N?ur:new Blob([ur],{type:"text/plain;charset=UTF-8"}),On=kn.sendBeacon(ze,ui);return On}function ir(it,Wt,kn){var ze=it[ba];try{if(ze)if(Nn(it,Wt))tt(pu,Wt);else{var ur=k&&k.beaconOnRetry;ur&&ut(ur)?ur(it,Wt,Nn):(V&&V[Ds](it,Wt,!0),Ct(S,2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}catch(ui){N&&Ju(S,"Failed to send telemetry using sendBeacon API. Ex:"+or(ui)),cn(Wt,N?0:400,{},pu)}}function Vt(it,Wt,kn){var ze,ur,ui,On=it[Tp]||{};!kn&&d&&(ze=ff(function(la,Gs){ur=la,ui=Gs})),N&&kn&&it.disableXhrSync&&(kn=!1);var js=it[Ss];if(!js){Ir(Wt),ur&&ur(!1);return}var De=vf(Lv,js,Ye,!0,kn,it[il]);N||De[Td]("Content-type","application/json"),Ft(on(On),function(la){De[Td](la,On[la])}),De.onreadystatechange=function(){N||(Do(De),De.readyState===4&&ur&&ur(!0))},De.onload=function(){N&&Do(De)};function Do(la){var Gs=k&&k.xhrOnComplete,tp=Gs&&ut(Gs);if(tp)Gs(la,Wt,it);else{var Yc=Ns(la);cn(Wt,la[Va],Mp(la,N),Yc)}}return De.onerror=function(la){cn(Wt,N?De[Va]:400,Mp(De,N),N?pu:Sa(De)),ui&&ui(la)},De.ontimeout=function(){cn(Wt,N?De[Va]:500,Mp(De,N),N?pu:Sa(De)),ur&&ur(!1)},De.send(it[ba]),ze}function rn(it,Wt,kn){var ze,ur=it[Ss],ui=it[ba],On=N?ui:new Blob([ui],{type:"application/json"}),js,De,Do,la=new Headers,Gs=ui[mr],tp=!1,Yc=!1,Rm=it[Tp]||{},Xp=(ze={method:Lv,body:On},ze[Iv]=!0,ze);it.headers&&on(it.headers)[mr]>0&&(Ft(on(Rm),function(Zi){la.append(Zi,Rm[Zi])}),Xp[Tp]=la),q?Xp.credentials=q:Ye&&N&&(Xp.credentials="include"),kn&&(Xp.keepalive=!0,c+=Gs,N?it._sendReason===2&&(tp=!0,pe&&(ur+=Tm)):tp=!0);var km=new Request(ur,Xp);try{km[Iv]=!0}catch{}if(!kn&&d&&(js=ff(function(Zi,Eu){De=Zi,Do=Eu})),!ur){Ir(Wt),De&&De(!1);return}function Qp(Zi){cn(Wt,N?0:400,{},N?pu:Zi)}function Om(Zi,Eu,xe){var St=Zi[Va],ar=k.fetchOnComplete;ar&&ut(ar)?ar(Zi,Wt,xe||pu,Eu):cn(Wt,St,{},xe||pu)}try{Ts(fetch(N?ur:km,N?Xp:null),function(Zi){if(kn&&(c-=Gs,Gs=0),!Yc)if(Yc=!0,Zi.rejected)Qp(Zi.reason&&Zi.reason[wc]),Do&&Do(Zi.reason);else{var Eu=Zi[jo];try{!N&&!Eu.ok?(Qp(Eu.statusText),De&&De(!1)):N&&!Eu.body?(Om(Eu,null,pu),De&&De(!0)):Ts(Eu.text(),function(xe){Om(Eu,it,xe[jo]),De&&De(!0)})}catch(xe){Qp(or(xe)),Do&&Do(xe)}}})}catch(Zi){Yc||(Qp(or(Zi)),Do&&Do(Zi))}return tp&&!Yc&&(Yc=!0,cn(Wt,200,{}),De&&De(!0)),N&&!Yc&&it[il]>0&&Me&&Me.set(function(){Yc||(Yc=!0,cn(Wt,500,{}),De&&De(!0))},it[il]),js}function Ji(it,Wt,kn){var ze=ds(),ur=new XDomainRequest,ui=it[ba];ur.onload=function(){var la=Ns(ur),Gs=k&&k.xdrOnComplete;Gs&&ut(Gs)?Gs(ur,Wt,it):cn(Wt,200,{},la)},ur.onerror=function(){cn(Wt,400,{},N?pu:Cs(ur))},ur.ontimeout=function(){cn(Wt,500,{})},ur.onprogress=function(){};var On=ze&&ze.location&&ze.location[ju]||"",js=it[Ss];if(!js){Ir(Wt);return}if(!N&&js.lastIndexOf(On,0)!==0){var De="Cannot send XDomain request. The endpoint URL protocol doesn't match the hosting page protocol.";Ct(S,2,40,". "+De),vt(De,Wt);return}var Do=N?js:js[$a](/^(https?:)/,"");ur.open(Lv,Do),it[il]&&(ur[il]=it[il]),ur.send(ui),N&&kn?Me&&Me.set(function(){ur.send(ui)},0):ur.send(ui)}function si(){c=0,g=!1,d=!1,S=null,N=null,k=null,B=null,q=null,V=null,ie=!1,me=!1,ge=!1,ye=!1,pe=!1,Me=null}})}return u.__ieDyn=1,u}(),Fh="on",Hd="attachEvent",eg="addEventListener",Am="detachEvent",zp="removeEventListener",Mf="events";Ef("aiEvtPageHide"),Ef("aiEvtPageShow");var Ly=/\.[\.]+/g,tg=/[\.]+$/,jg=1,Nm=Fp("events"),Fy=/^([^.]*)(?:\.(.+)|)/;function jl(u){return u&&u[$a]?u[$a](/^[\s\.]+|(?=[\s\.])[\.\s]+$/g,Vr):u}function Uh(u,c){var d;if(c){var g=Vr;lt(c)?(g=Vr,Ft(c,function(N){N=jl(N),N&&(N[0]!=="."&&(N="."+N),g+=N)})):g=jl(c),g&&(g[0]!=="."&&(g="."+g),u=(u||Vr)+g)}var S=Fy.exec(u||Vr)||[];return d={},d[_n]=S[1],d.ns=(S[2]||Vr).replace(Ly,".").replace(tg,Vr)[Gu](".").sort().join("."),d}function Fv(u,c,d){d===void 0&&(d=!0);var g=Nm.get(u,Mf,{},d),S=g[c];return S||(S=g[c]=[]),S}function Gl(u,c,d,g){u&&c&&c[_n]&&(u[zp]?u[zp](c[_n],d,g):u[Am]&&u[Am](Fh+c[_n],d))}function Bh(u,c,d,g){var S=!1;return u&&c&&c[_n]&&d&&(u[eg]?(u[eg](c[_n],d,g),S=!0):u[Hd]&&(u[Hd](Fh+c[_n],d),S=!0)),S}function rg(u,c,d,g){for(var S=c[mr];S--;){var N=c[S];N&&(!d.ns||d.ns===N.evtName.ns)&&(!g||g(N))&&(Gl(u,N.evtName,N[Qn],N.capture),c[Et](S,1))}}function Gg(u,c,d){if(c[_n])rg(u,Fv(u,c[_n]),c,d);else{var g=Nm.get(u,Mf,{});Yt(g,function(S,N){rg(u,N,c,d)}),on(g)[mr]===0&&Nm.kill(u,Mf)}}function Kd(u,c){var d;return c?(lt(c)?d=[u].concat(c):d=[u,c],d=Uh("xx",d).ns[Gu](".")):d=u,d}function qg(u,c,d,g,S){var N;S===void 0&&(S=!1);var k=!1;if(u)try{var B=Uh(c,g);if(k=Bh(u,B,d,S),k&&Nm.accept(u)){var q=(N={guid:jg++,evtName:B},N[Qn]=d,N.capture=S,N);Fv(u,B.type)[qr](q)}}catch{}return k}function Uy(u,c,d,g,S){if(S===void 0&&(S=!1),u)try{var N=Uh(c,g),k=!1;Gg(u,N,function(B){return N.ns&&!d||B[Qn]===d?(k=!0,!0):!1}),k||Gl(u,N,d,S)}catch{}}var ng="sampleRate",Uv="ProcessLegacy",ig="http.method",Cm="https://dc.services.visualstudio.com",jh="/v2/track",Jd="not_specified",ag=Sp({requestContextHeader:[0,"Request-Context"],requestContextTargetKey:[1,"appId"],requestContextAppIdFormat:[2,"appId=cid-v1:"],requestIdHeader:[3,"Request-Id"],traceParentHeader:[4,"traceparent"],traceStateHeader:[5,"tracestate"],sdkContextHeader:[6,"Sdk-Context"],sdkContextHeaderAppIdRequest:[7,"appId"],requestContextHeaderLowerCase:[8,"request-context"]}),Bv="split",Qr="length",hu="toLowerCase",Zd="ingestionendpoint",$p="toString",Gh="push",jv="removeItem",ql="name",Xd="message",Yg="count",Vp="stringify",Lf="pathname",Uc="exceptions",Zo="parsedStack",vu="properties",Ff="measurements",Yl="sizeInBytes",ec="typeName",tc="severityLevel",Wp="problemGroup",Qd="isManual",zg="CreateFromInterface",qh="assembly",Bc="fileName",Im="hasFullStack",Yh="level",zl="method",zh="line",$h="duration",og="receivedResponse";function sg(u,c,d){var g=c[Qr],S=$g(u,c);if(S[Qr]!==g){for(var N=0,k=S;d[k]!==void 0;)N++,k=Ti(S,0,147)+E(N);S=k}return S}function $g(u,c){var d;return c&&(c=Xn(Ui(c)),c[Qr]>150&&(d=Ti(c,0,150),Ct(u,2,57,"name is too long.  It has been truncated to 150 characters.",{name:c},!0))),d||c}function Na(u,c,d){d===void 0&&(d=1024);var g;return c&&(d=d||1024,c=Xn(Ui(c)),c[Qr]>d&&(g=Ti(c,0,d),Ct(u,2,61,"string value is too long. It has been truncated to "+d+" characters.",{value:c},!0))),g||c}function mu(u,c){return v(u,c,2048,66)}function Hp(u,c){var d;return c&&c[Qr]>32768&&(d=Ti(c,0,32768),Ct(u,2,56,"message is too long, it has been truncated to 32768 characters.",{message:c},!0)),d||c}function Jn(u,c){var d;if(c){var g=""+c;g[Qr]>32768&&(d=Ti(g,0,32768),Ct(u,2,52,"exception is too long, it has been truncated to 32768 characters.",{exception:c},!0))}return d||c}function Kp(u,c){if(c){var d={};Yt(c,function(g,S){if(Hn(S)&&su())try{S=Ka()[Vp](S)}catch(N){Ct(u,2,49,"custom property is not valid",{exception:N},!0)}S=Na(u,S,8192),g=sg(u,g,d),d[g]=S}),c=d}return c}function Jp(u,c){if(c){var d={};Yt(c,function(g,S){g=sg(u,g,d),d[g]=S}),c=d}return c}function Vg(u,c){return c&&v(u,c,128,69)[$p]()}function v(u,c,d,g){var S;return c&&(c=Xn(Ui(c)),c[Qr]>d&&(S=Ti(c,0,d),Ct(u,2,g,"input is too long, it has been truncated to "+d+" characters.",{data:c},!0))),S||c}function E(u){var c="00"+u;return pa(c,c[Qr]-3)}var A=fd()||{},I=0,F=[null,null,null,null,null];function z(u){var c=I,d=F,g=d[c];return A.createElement?d[c]||(g=d[c]=A.createElement("a")):g={host:$(u,!0)},g.href=u,c++,c>=d[Qr]&&(c=0),I=c,g}function $(u,c){var d=te(u,c)||"";if(d){var g=d.match(/(www\d{0,5}\.)?([^\/:]{1,256})(:\d{1,20})?/i);if(g!=null&&g[Qr]>3&&nn(g[2])&&g[2][Qr]>0)return g[2]+(g[3]||"")}return d}function te(u,c){var d=null;if(u){var g=u.match(/(\w{1,150}):\/\/([^\/:]{1,256})(:\d{1,20})?/i);if(g!=null&&g[Qr]>2&&nn(g[2])&&g[2][Qr]>0&&(d=g[2]||"",c&&g[Qr]>2)){var S=(g[1]||"")[hu](),N=g[3]||"";(S==="http"&&N===":80"||S==="https"&&N===":443")&&(N=""),d+=N}}return d}var le=[Cm+jh,"https://breeze.aimon.applicationinsights.io"+jh,"https://dc-int.services.visualstudio.com"+jh];function de(u){return ga(le,u[hu]())!==-1}function ke(u,c,d,g){var S,N=g,k=g;if(c&&c[Qr]>0){var B=z(c);if(S=B.host,!N)if(B[Lf]!=null){var q=B.pathname[Qr]===0?"/":B[Lf];q.charAt(0)!=="/"&&(q="/"+q),k=B[Lf],N=Na(u,d?d+" "+q:q)}else N=Na(u,c)}else S=g,N=g;return{target:S,name:N,data:k}}var Ze=gc({LocalStorage:0,SessionStorage:1}),He=void 0,Re="";function _e(u){try{if(Fe(ha()))return null;var c=new Date()[$p](),d=kr(u===Ze.LocalStorage?"localStorage":"sessionStorage"),g=Re+c;d.setItem(g,c);var S=d.getItem(g)!==c;if(d[jv](g),!S)return d}catch{}return null}function We(){return rt()?_e(Ze.SessionStorage):null}function Ce(u){Re=u||""}function rt(u){return(u||He===void 0)&&(He=!!_e(Ze.SessionStorage)),He}function Oe(u,c){var d=We();if(d!==null)try{return d.getItem(c)}catch(g){He=!1,Ct(u,2,2,"Browser failed read of session storage. "+vi(g),{exception:or(g)})}return null}function Ie(u,c,d){var g=We();if(g!==null)try{return g.setItem(c,d),!0}catch(S){He=!1,Ct(u,2,4,"Browser failed write to session storage. "+vi(S),{exception:or(S)})}return!1}function Xe(u,c){var d=We();if(d!==null)try{return d[jv](c),!0}catch(g){He=!1,Ct(u,2,6,"Browser failed removal of session storage item. "+vi(g),{exception:or(g)})}return!1}var Jt=";",rr="=";function pr(u){if(!u)return{};var c=u[Bv](Jt),d=dv(c,function(S,N){var k=N[Bv](rr);if(k[Qr]===2){var B=k[0][hu](),q=k[1];S[B]=q}return S},{});if(on(d)[Qr]>0){if(d.endpointsuffix){var g=d.location?d.location+".":"";d[Zd]=d[Zd]||"https://"+g+"dc."+d.endpointsuffix}d[Zd]=d[Zd]||Cm,Ua(d[Zd],"/")&&(d[Zd]=d[Zd].slice(0,-1))}return d}var Or=function(){function u(c,d,g){var S=this,N=this;N.ver=1,N.sampleRate=100,N.tags={},N[ql]=Na(c,g)||Jd,N.data=d,N.time=pf(new Date),N.aiDataContract={time:1,iKey:1,name:1,sampleRate:function(){return S.sampleRate===100?4:1},tags:1,data:1}}return u}(),zr=function(){function u(c,d,g,S){this.aiDataContract={ver:1,name:1,properties:0,measurements:0};var N=this;N.ver=2,N[ql]=Na(c,d)||Jd,N[vu]=Kp(c,g),N[Ff]=Jp(c,S)}return u.envelopeType="Microsoft.ApplicationInsights.{0}.Event",u.dataType="EventData",u}(),En="<no_method>",hn="error",nr="stack",ni="stackDetails",at="errorSrc",yt="message",Cr="description";function gr(u,c){var d=u;return d&&!nn(d)&&(JSON&&JSON[Vp]?(d=JSON[Vp](u),c&&(!d||d==="{}")&&(ut(u[$p])?d=u[$p]():d=""+u)):d=""+u+" - (Missing JSON.stringify)"),d||""}function Rt(u,c){var d=u;return u&&(d&&!nn(d)&&(d=u[yt]||u[Cr]||d),d&&!nn(d)&&(d=gr(d,!0)),u.filename&&(d=d+" @"+(u.filename||"")+":"+(u.lineno||"?")+":"+(u.colno||"?"))),c&&c!=="String"&&c!=="Object"&&c!=="Error"&&fc(d||"",c)===-1&&(d=c+": "+d),d||""}function Fr(u){try{if(Hn(u))return"hasFullStack"in u&&"typeName"in u}catch{}return!1}function Ot(u){try{if(Hn(u))return"ver"in u&&"exceptions"in u&&"properties"in u}catch{}return!1}function Vi(u){return u&&u.src&&nn(u.src)&&u.obj&&lt(u.obj)}function ht(u){var c=u||"";nn(c)||(nn(c[nr])?c=c[nr]:c=""+c);var d=c[Bv](`
`);return{src:c,obj:d}}function xn(u){for(var c=[],d=u[Bv](`
`),g=0;g<d[Qr];g++){var S=d[g];d[g+1]&&(S+="@"+d[g+1],g++),c[Gh](S)}return{src:u,obj:c}}function Pn(u){var c=null;if(u)try{if(u[nr])c=ht(u[nr]);else if(u[hn]&&u[hn][nr])c=ht(u[hn][nr]);else if(u.exception&&u.exception[nr])c=ht(u.exception[nr]);else if(Vi(u))c=u;else if(Vi(u[ni]))c=u[ni];else if(ds()&&ds().opera&&u[yt])c=xn(u[Xd]);else if(u.reason&&u.reason[nr])c=ht(u.reason[nr]);else if(nn(u))c=ht(u);else{var d=u[yt]||u[Cr]||"";nn(u[at])&&(d&&(d+=`
`),d+=" from "+u[at]),d&&(c=ht(d))}}catch(g){c=ht(g)}return c||{src:"",obj:null}}function Ca(u){var c="";return u&&(u.obj?Ft(u.obj,function(d){c+=d+`
`}):c=u.src||""),c}function jc(u){var c,d=u.obj;if(d&&d[Qr]>0){c=[];var g=0,S=0;Ft(d,function(pe){var Me=pe[$p]();if(gu.regex.test(Me)){var Ee=new gu(Me,g++);S+=Ee[Yl],c[Gh](Ee)}});var N=32*1024;if(S>N)for(var k=0,B=c[Qr]-1,q=0,V=k,ie=B;k<B;){var me=c[k][Yl],ge=c[B][Yl];if(q+=me+ge,q>N){var ye=ie-V+1;c.splice(V,ye);break}V=k,ie=B,k++,B--}}return c}function Ja(u){var c="";if(u&&(c=u.typeName||u[ql]||"",!c))try{var d=/function (.{1,200})\(/,g=d.exec(u.constructor[$p]());c=g&&g[Qr]>1?g[1]:""}catch{}return c}function $l(u){if(u)try{if(!nn(u)){var c=Ja(u),d=gr(u,!1);return(!d||d==="{}")&&(u[hn]&&(u=u[hn],c=Ja(u)),d=gr(u,!0)),fc(d,c)!==0&&c!=="String"?c+":"+d:d}}catch{}return""+(u||"")}var Bs=function(){function u(c,d,g,S,N,k){this.aiDataContract={ver:1,exceptions:1,severityLevel:0,properties:0,measurements:0};var B=this;B.ver=2,Ot(d)?(B[Uc]=d[Uc]||[],B[vu]=d[vu],B[Ff]=d[Ff],d[tc]&&(B[tc]=d[tc]),d.id&&(B.id=d.id,d[vu].id=d.id),d[Wp]&&(B[Wp]=d[Wp]),Fe(d[Qd])||(B[Qd]=d[Qd])):(g||(g={}),k&&(g.id=k),B[Uc]=[new Xo(c,d,g)],B[vu]=Kp(c,g),B[Ff]=Jp(c,S),N&&(B[tc]=N),k&&(B.id=k))}return u.CreateAutoException=function(c,d,g,S,N,k,B,q){var V,ie=Ja(N||k||c);return V={},V[Xd]=Rt(c,ie),V.url=d,V.lineNumber=g,V.columnNumber=S,V.error=$l(N||k||c),V.evt=$l(k||c),V[ec]=ie,V.stackDetails=Pn(B||N||k),V.errorSrc=q,V},u.CreateFromInterface=function(c,d,g,S){var N=d[Uc]&&cc(d[Uc],function(B){return Xo[zg](c,B)}),k=new u(c,fo(fo({},d),{exceptions:N}),g,S);return k},u.prototype.toInterface=function(){var c,d=this,g=d.exceptions,S=d.properties,N=d.measurements,k=d.severityLevel,B=d.problemGroup,q=d.id,V=d.isManual,ie=g instanceof Array&&cc(g,function(me){return me.toInterface()})||void 0;return c={ver:"4.0"},c[Uc]=ie,c.severityLevel=k,c.properties=S,c.measurements=N,c.problemGroup=B,c.id=q,c.isManual=V,c},u.CreateSimpleException=function(c,d,g,S,N,k){var B;return{exceptions:[(B={},B[Im]=!0,B.message=c,B.stack=N,B.typeName=d,B)]}},u.envelopeType="Microsoft.ApplicationInsights.{0}.Exception",u.dataType="ExceptionData",u.formatError=$l,u}(),Xo=function(){function u(c,d,g){this.aiDataContract={id:0,outerId:0,typeName:1,message:1,hasFullStack:0,stack:0,parsedStack:2};var S=this;if(Fr(d))S[ec]=d[ec],S[Xd]=d[Xd],S[nr]=d[nr],S[Zo]=d[Zo]||[],S[Im]=d[Im];else{var N=d,k=N&&N.evt;It(N)||(N=N[hn]||k||N),S[ec]=Na(c,Ja(N))||Jd,S[Xd]=Hp(c,Rt(d||N,S[ec]))||Jd;var B=d[ni]||Pn(d);S[Zo]=jc(B),lt(S[Zo])&&cc(S[Zo],function(q){q[qh]=Na(c,q[qh]),q[Bc]=Na(c,q[Bc])}),S[nr]=Jn(c,Ca(B)),S.hasFullStack=lt(S.parsedStack)&&S.parsedStack[Qr]>0,g&&(g[ec]=g[ec]||S[ec])}}return u.prototype.toInterface=function(){var c,d=this,g=d[Zo]instanceof Array&&cc(d[Zo],function(N){return N.toInterface()}),S=(c={id:d.id,outerId:d.outerId,typeName:d[ec],message:d[Xd],hasFullStack:d[Im],stack:d[nr]},c[Zo]=g||void 0,c);return S},u.CreateFromInterface=function(c,d){var g=d[Zo]instanceof Array&&cc(d[Zo],function(N){return gu[zg](N)})||d[Zo],S=new u(c,fo(fo({},d),{parsedStack:g}));return S},u}(),gu=function(){function u(c,d){this.aiDataContract={level:1,method:1,assembly:0,fileName:0,line:0};var g=this;if(g[Yl]=0,typeof c=="string"){var S=c;g[Yh]=d,g[zl]=En,g[qh]=Xn(S),g[Bc]="",g[zh]=0;var N=S.match(u.regex);N&&N[Qr]>=5&&(g[zl]=Xn(N[2])||g[zl],g[Bc]=Xn(N[4]),g[zh]=parseInt(N[5])||0)}else g[Yh]=c[Yh],g[zl]=c[zl],g[qh]=c[qh],g[Bc]=c[Bc],g[zh]=c[zh],g[Yl]=0;g.sizeInBytes+=g.method[Qr],g.sizeInBytes+=g.fileName[Qr],g.sizeInBytes+=g.assembly[Qr],g[Yl]+=u.baseSize,g.sizeInBytes+=g.level.toString()[Qr],g.sizeInBytes+=g.line.toString()[Qr]}return u.CreateFromInterface=function(c){return new u(c,null)},u.prototype.toInterface=function(){var c=this;return{level:c[Yh],method:c[zl],assembly:c[qh],fileName:c[Bc],line:c[zh]}},u.regex=/^([\s]+at)?[\s]{0,50}([^\@\()]+?)[\s]{0,50}(\@|\()([^\(\n]+):([0-9]+):([0-9]+)(\)?)$/,u.baseSize=58,u}(),ii=function(){function u(){this.aiDataContract={name:1,kind:0,value:1,count:0,min:0,max:0,stdDev:0},this.kind=0}return u}(),sn=function(){function u(c,d,g,S,N,k,B,q,V){this.aiDataContract={ver:1,metrics:1,properties:0};var ie=this;ie.ver=2;var me=new ii;me[Yg]=S>0?S:void 0,me.max=isNaN(k)||k===null?void 0:k,me.min=isNaN(N)||N===null?void 0:N,me[ql]=Na(c,d)||Jd,me.value=g,me.stdDev=isNaN(B)||B===null?void 0:B,ie.metrics=[me],ie[vu]=Kp(c,q),ie[Ff]=Jp(c,V)}return u.envelopeType="Microsoft.ApplicationInsights.{0}.Metric",u.dataType="MetricData",u}(),ai="";function Wi(u){(isNaN(u)||u<0)&&(u=0),u=Math.round(u);var c=ai+u%1e3,d=ai+Math.floor(u/1e3)%60,g=ai+Math.floor(u/(1e3*60))%60,S=ai+Math.floor(u/(1e3*60*60))%24,N=Math.floor(u/(1e3*60*60*24));return c=c[Qr]===1?"00"+c:c[Qr]===2?"0"+c:c,d=d[Qr]<2?"0"+d:d,g=g[Qr]<2?"0"+g:g,S=S[Qr]<2?"0"+S:S,(N>0?N+".":ai)+S+":"+g+":"+d+"."+c}var yu=function(){function u(c,d,g,S,N,k,B){this.aiDataContract={ver:1,name:0,url:0,duration:0,properties:0,measurements:0,id:0};var q=this;q.ver=2,q.id=Vg(c,B),q.url=mu(c,g),q[ql]=Na(c,d)||Jd,isNaN(S)||(q[$h]=Wi(S)),q[vu]=Kp(c,N),q[Ff]=Jp(c,k)}return u.envelopeType="Microsoft.ApplicationInsights.{0}.Pageview",u.dataType="PageviewData",u}(),Gc=function(){function u(c,d,g,S,N,k,B,q,V,ie,me,ge){V===void 0&&(V="Ajax"),this.aiDataContract={id:1,ver:1,name:0,resultCode:0,duration:0,success:0,data:0,target:0,type:0,properties:0,measurements:0,kind:0,value:0,count:0,min:0,max:0,stdDev:0,dependencyKind:0,dependencySource:0,commandName:0,dependencyTypeName:0};var ye=this;ye.ver=2,ye.id=d,ye[$h]=Wi(N),ye.success=k,ye.resultCode=B+"",ye.type=Na(c,V);var pe=ke(c,g,q,S);ye.data=mu(c,S)||pe.data,ye.target=Na(c,pe.target),ie&&(ye.target="".concat(ye.target," | ").concat(ie)),ye[ql]=Na(c,pe[ql]),ye[vu]=Kp(c,me),ye[Ff]=Jp(c,ge)}return u.envelopeType="Microsoft.ApplicationInsights.{0}.RemoteDependency",u.dataType="RemoteDependencyData",u}(),Za=function(){function u(c,d,g,S,N){this.aiDataContract={ver:1,message:1,severityLevel:0,properties:0};var k=this;k.ver=2,d=d||Jd,k[Xd]=Hp(c,d),k[vu]=Kp(c,S),k[Ff]=Jp(c,N),g&&(k[tc]=g)}return u.envelopeType="Microsoft.ApplicationInsights.{0}.Message",u.dataType="MessageData",u}(),Vl=function(){function u(c,d,g,S,N,k,B){this.aiDataContract={ver:1,name:0,url:0,duration:0,perfTotal:0,networkConnect:0,sentRequest:0,receivedResponse:0,domProcessing:0,properties:0,measurements:0};var q=this;q.ver=2,q.url=mu(c,g),q[ql]=Na(c,d)||Jd,q[vu]=Kp(c,N),q[Ff]=Jp(c,k),B&&(q.domProcessing=B.domProcessing,q[$h]=B[$h],q.networkConnect=B.networkConnect,q.perfTotal=B.perfTotal,q[og]=B[og],q.sentRequest=B.sentRequest)}return u.envelopeType="Microsoft.ApplicationInsights.{0}.PageviewPerformance",u.dataType="PageviewPerformanceData",u}(),_u=function(){function u(c,d){this.aiDataContract={baseType:1,baseData:1},this.baseType=c,this.baseData=d}return u}(),Gv=gc({Verbose:0,Information:1,Warning:2,Error:3,Critical:4});function qc(u){var c="ai."+u+".";return function(d){return c+d}}var Wl=qc("application"),wi=qc("device"),Zp=qc("location"),Hl=qc("operation"),Vh=qc("session"),rc=qc("user"),Ia=qc("cloud"),Kl=qc("internal"),o=function(u){nl(c,u);function c(){return u.call(this)||this}return c}(Op({applicationVersion:Wl("ver"),applicationBuild:Wl("build"),applicationTypeId:Wl("typeId"),applicationId:Wl("applicationId"),applicationLayer:Wl("layer"),deviceId:wi("id"),deviceIp:wi("ip"),deviceLanguage:wi("language"),deviceLocale:wi("locale"),deviceModel:wi("model"),deviceFriendlyName:wi("friendlyName"),deviceNetwork:wi("network"),deviceNetworkName:wi("networkName"),deviceOEMName:wi("oemName"),deviceOS:wi("os"),deviceOSVersion:wi("osVersion"),deviceRoleInstance:wi("roleInstance"),deviceRoleName:wi("roleName"),deviceScreenResolution:wi("screenResolution"),deviceType:wi("type"),deviceMachineName:wi("machineName"),deviceVMName:wi("vmName"),deviceBrowser:wi("browser"),deviceBrowserVersion:wi("browserVersion"),locationIp:Zp("ip"),locationCountry:Zp("country"),locationProvince:Zp("province"),locationCity:Zp("city"),operationId:Hl("id"),operationName:Hl("name"),operationParentId:Hl("parentId"),operationRootId:Hl("rootId"),operationSyntheticSource:Hl("syntheticSource"),operationCorrelationVector:Hl("correlationVector"),sessionId:Vh("id"),sessionIsFirst:Vh("isFirst"),sessionIsNew:Vh("isNew"),userAccountAcquisitionDate:rc("accountAcquisitionDate"),userAccountId:rc("accountId"),userAgent:rc("userAgent"),userId:rc("id"),userStoreRegion:rc("storeRegion"),userAuthUserId:rc("authUserId"),userAnonymousUserAcquisitionDate:rc("anonUserAcquisitionDate"),userAuthenticatedUserAcquisitionDate:rc("authUserAcquisitionDate"),cloudName:Ia("name"),cloudRole:Ia("role"),cloudRoleVer:Ia("roleVer"),cloudRoleInstance:Ia("roleInstance"),cloudEnvironment:Ia("environment"),cloudLocation:Ia("location"),cloudDeploymentUnit:Ia("deploymentUnit"),internalNodeName:Kl("nodeName"),internalSdkVersion:Kl("sdkVersion"),internalAgentVersion:Kl("agentVersion"),internalSnippet:Kl("snippet"),internalSdkSrc:Kl("sdkSrc")})),l=new o;function m(u,c){Uy(u,null,null,c)}function w(u){var c=fd(),d=ps(),g=!1,S=[],N=1;d&&!Fe(d.onLine)&&!d.onLine&&(N=2);var k=0,B=ge(),q=Kd(Ef("OfflineListener"),u);try{if(ie(ds())&&(g=!0),c){var V=c.body||c;V.ononline&&ie(V)&&(g=!0)}}catch{g=!1}function ie(tt){var vt=!1;return tt&&(vt=qg(tt,"online",Me,q),vt&&qg(tt,"offline",Ee,q)),vt}function me(){return B}function ge(){return!(k===2||N===2)}function ye(){var tt=ge();B!==tt&&(B=tt,Ft(S,function(vt){var Ir={isOnline:B,rState:N,uState:k};try{vt(Ir)}catch{}}))}function pe(tt){k=tt,ye()}function Me(){N=1,ye()}function Ee(){N=2,ye()}function Ge(){var tt=ds();if(tt&&g){if(m(tt,q),c){var vt=c.body||c;qe(vt.ononline)||m(vt,q)}g=!1}}function Ye(tt){return S[Gh](tt),{rm:function(){var vt=S.indexOf(tt);if(vt>-1)return S.splice(vt,1)}}}return{isOnline:me,isListening:function(){return g},unload:Ge,addListener:Ye,setOnlineState:pe}}var T="AppInsightsChannelPlugin",P="duration",O="tags",R="deviceType",U="data",G="name",K="traceID",J="length",Q="stringify",ae="measurements",ne="dataType",we="envelopeType",Se="toString",$e="_get",Qe="enqueue",st="count",sr="eventsLimitInMem",hr="push",qn="item",wn="emitLineDelimitedJson",Yn="clear",Xa="createNew",xa="markAsSent",Jl="clearSent",qv="bufferOverride",Zl="BUFFER_KEY",ot="SENT_BUFFER_KEY",$t="concat",Rn="MAX_BUFFER_SIZE",je="triggerSend",Mt="diagLog",oi="initialize",Eo="_sender",Qo="endpointUrl",Ur="instrumentationKey",Pa="customHeaders",fa="maxBatchSizeInBytes",wo="onunloadDisableBeacon",Xl="isBeaconApiDisabled",nc="alwaysUseXhrOverride",Wh="disableXhr",ep="enableSessionStorageBuffer",Ql="_buffer",Hh="onunloadDisableFetch",xm="disableSendBeaconSplit",Ri="enableSendPromise",bo="getSenderInst",Ne="unloadTransports",bt="convertUndefined",Xt="maxBatchInterval",jt="serialize",Qt="_onError",Fn="_onPartialSuccess",Dn="_onSuccess",ki="itemsReceived",So="itemsAccepted",es="oriPayload",ed="baseType",Kh="sampleRate",ug="eventsSendRequest",V_="getSamplingScore",wE="getHashCodeScore",Wg="baseType",zn="baseData",Hi="properties",By="true";function Ki(u,c,d){return qu(u,c,d,fn)}function Bb(u,c,d){var g=d[O]=d[O]||{},S=c.ext=c.ext||{},N=c[O]=c[O]||[],k=S.user;k&&(Ki(g,l.userAuthUserId,k.authId),Ki(g,l.userId,k.id||k.localId));var B=S.app;B&&Ki(g,l.sessionId,B.sesId);var q=S.device;q&&(Ki(g,l.deviceId,q.id||q.localId),Ki(g,l[R],q.deviceClass),Ki(g,l.deviceIp,q.ip),Ki(g,l.deviceModel,q.model),Ki(g,l[R],q[R]));var V=c.ext.web;if(V){Ki(g,l.deviceLanguage,V.browserLang),Ki(g,l.deviceBrowserVersion,V.browserVer),Ki(g,l.deviceBrowser,V.browser);var ie=d[U]=d[U]||{},me=ie[zn]=ie[zn]||{},ge=me[Hi]=me[Hi]||{};Ki(ge,"domain",V.domain),Ki(ge,"isManual",V.isManual?By:null),Ki(ge,"screenRes",V.screenRes),Ki(ge,"userConsent",V.userConsent?By:null)}var ye=S.os;ye&&(Ki(g,l.deviceOS,ye[G]),Ki(g,l.deviceOSVersion,ye.osVer));var pe=S.trace;pe&&(Ki(g,l.operationParentId,pe.parentID),Ki(g,l.operationName,Na(u,pe[G])),Ki(g,l.operationId,pe[K]));for(var Me={},Ee=N[J]-1;Ee>=0;Ee--){var Ge=N[Ee];Yt(Ge,function(tt,vt){Me[tt]=vt}),N.splice(Ee,1)}Yt(N,function(tt,vt){Me[tt]=vt});var Ye=fo(fo({},g),Me);Ye[l.internalSdkVersion]||(Ye[l.internalSdkVersion]=Na(u,"javascript:".concat(hx.Version),64)),d[O]=nu(Ye)}function Pm(u,c,d){Fe(u)||Yt(u,function(g,S){Zt(S)?d[g]=S:nn(S)?c[g]=S:su()&&(c[g]=Ka()[Q](S))})}function cg(u,c){Fe(u)||Yt(u,function(d,g){u[d]=g||c})}function fg(u,c,d,g){var S=new Or(u,g,c);Ki(S,"sampleRate",d[ng]),(d[zn]||{}).startTime&&(S.time=pf(d[zn].startTime)),S.iKey=d.iKey;var N=d.iKey.replace(/-/g,"");return S[G]=S[G].replace("{0}",N),Bb(u,d,S),d[O]=d[O]||[],nu(S)}function lg(u,c){Fe(c[zn])&&Ct(u,1,46,"telemetryItem.baseData cannot be null.")}var hx={Version:"3.3.4"};function vx(u,c,d){lg(u,c);var g=c[zn][ae]||{},S=c[zn][Hi]||{};Pm(c[U],S,g),Fe(d)||cg(S,d);var N=c[zn];if(Fe(N))return Ju(u,"Invalid input for dependency data"),null;var k=N[Hi]&&N[Hi][ig]?N[Hi][ig]:"GET",B=new Gc(u,N.id,N.target,N[G],N[P],N.success,N.responseCode,k,N.type,N.correlationContext,S,g),q=new _u(Gc[ne],B);return fg(u,Gc[we],c,q)}function jb(u,c,d){lg(u,c);var g={},S={};c[Wg]!==zr[ne]&&(g.baseTypeSource=c[Wg]),c[Wg]===zr[ne]?(g=c[zn][Hi]||{},S=c[zn][ae]||{}):c[zn]&&Pm(c[zn],g,S),Pm(c[U],g,S),Fe(d)||cg(g,d);var N=c[zn][G],k=new zr(u,N,g,S),B=new _u(zr[ne],k);return fg(u,zr[we],c,B)}function mx(u,c,d){lg(u,c);var g=c[zn][ae]||{},S=c[zn][Hi]||{};Pm(c[U],S,g),Fe(d)||cg(S,d);var N=c[zn],k=Bs.CreateFromInterface(u,N,S,g),B=new _u(Bs[ne],k);return fg(u,Bs[we],c,B)}function gx(u,c,d){lg(u,c);var g=c[zn],S=g[Hi]||{},N=g[ae]||{};Pm(c[U],S,N),Fe(d)||cg(S,d);var k=new sn(u,g[G],g.average,g.sampleCount,g.min,g.max,g.stdDev,S,N),B=new _u(sn[ne],k);return fg(u,sn[we],c,B)}function yx(u,c,d){lg(u,c);var g,S=c[zn];!Fe(S)&&!Fe(S[Hi])&&!Fe(S[Hi][P])?(g=S[Hi][P],delete S[Hi][P]):!Fe(c[U])&&!Fe(c[U][P])&&(g=c[U][P],delete c[U][P]);var N=c[zn],k;((c.ext||{}).trace||{})[K]&&(k=c.ext.trace[K]);var B=N.id||k,q=N[G],V=N.uri,ie=N[Hi]||{},me=N[ae]||{};if(Fe(N.refUri)||(ie.refUri=N.refUri),Fe(N.pageType)||(ie.pageType=N.pageType),Fe(N.isLoggedIn)||(ie.isLoggedIn=N.isLoggedIn[Se]()),!Fe(N[Hi])){var ge=N[Hi];Yt(ge,function(Me,Ee){ie[Me]=Ee})}Pm(c[U],ie,me),Fe(d)||cg(ie,d);var ye=new yu(u,q,V,g,ie,me,B),pe=new _u(yu[ne],ye);return fg(u,yu[we],c,pe)}function _x(u,c,d){lg(u,c);var g=c[zn],S=g[G],N=g.uri||g.url,k=g[Hi]||{},B=g[ae]||{};Pm(c[U],k,B),Fe(d)||cg(k,d);var q=new Vl(u,S,N,void 0,k,B,g),V=new _u(Vl[ne],q);return fg(u,Vl[we],c,V)}function Ex(u,c,d){lg(u,c);var g=c[zn].message,S=c[zn].severityLevel,N=c[zn][Hi]||{},k=c[zn][ae]||{};Pm(c[U],N,k),Fe(d)||cg(N,d);var B=new Za(u,g,S,N,k),q=new _u(Za[ne],B);return fg(u,Za[we],c,q)}var Gb=function(){function u(c,d){var g=[],S=!1,N=d.maxRetryCnt;this[$e]=function(){return g},this._set=function(k){return g=k,g},Gi(u,this,function(k){k[Qe]=function(B){if(k[st]()>=d[sr]){S||(Ct(c,2,105,"Maximum in-memory buffer size reached: "+k[st](),!0),S=!0);return}B.cnt=B.cnt||0,!(!Fe(N)&&B.cnt>N)&&g[hr](B)},k[st]=function(){return g[J]},k.size=function(){for(var B=g[J],q=0;q<g[J];q++)B+=g[q].item[J];return d[wn]||(B+=2),B},k[Yn]=function(){g=[],S=!1},k.getItems=function(){return g.slice(0)},k.batchPayloads=function(B){if(B&&B[J]>0){var q=[];Ft(B,function(ie){q[hr](ie[qn])});var V=d[wn]?q.join(`
`):"["+q.join(",")+"]";return V}return null},k[Xa]=function(B,q,V){var ie=g.slice(0);B=B||c,q=q||{};var me=V?new qb(B,q):new bE(B,q);return Ft(ie,function(ge){me[Qe](ge)}),me}})}return u.__ieDyn=1,u}(),bE=function(u){nl(c,u);function c(d,g){var S=u.call(this,d,g)||this;return Gi(c,S,function(N,k){N[xa]=function(B){k[Yn]()},N[Jl]=function(B){}}),S}return c.__ieDyn=1,c}(Gb),wx=["AI_buffer","AI_sentBuffer"],qb=function(u){nl(c,u);function c(g,S){var N=u.call(this,g,S)||this,k=!1,B=S==null?void 0:S.namePrefix,q=S[qv]||{getItem:Oe,setItem:Ie},V=q.getItem,ie=q.setItem,me=S.maxRetryCnt;return Gi(c,N,function(ge,ye){var pe=vt(c[Zl]),Me=vt(c[ot]),Ee=cn(),Ge=Me[$t](Ee),Ye=ge._set(pe[$t](Ge));Ye[J]>c[Rn]&&(Ye[J]=c[Rn]),un(c[ot],[]),un(c[Zl],Ye),ge[Qe]=function(ir){if(ge[st]()>=c[Rn]){k||(Ct(g,2,67,"Maximum buffer size reached: "+ge[st](),!0),k=!0);return}ir.cnt=ir.cnt||0,!(!Fe(me)&&ir.cnt>me)&&(ye[Qe](ir),un(c.BUFFER_KEY,ge[$e]()))},ge[Yn]=function(){ye[Yn](),un(c.BUFFER_KEY,ge[$e]()),un(c[ot],[]),k=!1},ge[xa]=function(ir){un(c[Zl],ge._set(tt(ir,ge[$e]())));var Vt=vt(c[ot]);Vt instanceof Array&&ir instanceof Array&&(Vt=Vt[$t](ir),Vt[J]>c[Rn]&&(Ct(g,1,67,"Sent buffer reached its maximum size: "+Vt[J],!0),Vt[J]=c[Rn]),un(c[ot],Vt))},ge[Jl]=function(ir){var Vt=vt(c[ot]);Vt=tt(ir,Vt),un(c[ot],Vt)},ge[Xa]=function(ir,Vt,rn){rn=!!rn;var Ji=ge[$e]().slice(0),si=vt(c[ot]).slice(0);ir=ir||g,Vt=Vt||{},ge[Yn]();var it=rn?new c(ir,Vt):new bE(ir,Vt);return Ft(Ji,function(Wt){it[Qe](Wt)}),rn&&it[xa](si),it};function tt(ir,Vt){var rn=[],Ji=[];return Ft(ir,function(si){Ji[hr](si[qn])}),Ft(Vt,function(si){!ut(si)&&ga(Ji,si[qn])===-1&&rn[hr](si)}),rn}function vt(ir){var Vt=ir;return Vt=B?B+"_"+Vt:Vt,Ir(Vt)}function Ir(ir){try{var Vt=V(g,ir);if(Vt){var rn=Ka().parse(Vt);if(nn(rn)&&(rn=Ka().parse(rn)),rn&&lt(rn))return rn}}catch(Ji){Ct(g,1,42," storage key: "+ir+", "+vi(Ji),{exception:or(Ji)})}return[]}function un(ir,Vt){var rn=ir;try{rn=B?B+"_"+rn:rn;var Ji=JSON[Q](Vt);ie(g,rn,Ji)}catch(si){ie(g,rn,JSON[Q]([])),Ct(g,2,41," storage key: "+rn+", "+vi(si)+". Buffer cleared",{exception:or(si)})}}function cn(){var ir=[];try{return Ft(wx,function(Vt){var rn=Nn(Vt);if(ir=ir[$t](rn),B){var Ji=B+"_"+Vt,si=Nn(Ji);ir=ir[$t](si)}}),ir}catch(Vt){Ct(g,2,41,"Transfer events from previous buffers: "+vi(Vt)+". previous Buffer items can not be removed",{exception:or(Vt)})}return[]}function Nn(ir){try{var Vt=Ir(ir),rn=[];return Ft(Vt,function(Ji){var si={item:Ji,cnt:0};rn[hr](si)}),Xe(g,ir),rn}catch{}return[]}}),N}var d;return d=c,c.VERSION="_1",c.BUFFER_KEY="AI_buffer"+d.VERSION,c.SENT_BUFFER_KEY="AI_sentBuffer"+d.VERSION,c.MAX_BUFFER_SIZE=2e3,c}(Gb),bx=function(){function u(c){Gi(u,this,function(d){d[jt]=function(k){var B=g(k,"root");try{return Ka()[Q](B)}catch(q){Ct(c,1,48,q&&ut(q[Se])?q[Se]():"Error serializing object",null,!0)}};function g(k,B){var q="__aiCircularRefCheck",V={};if(!k)return Ct(c,1,48,"cannot serialize object because it is null or undefined",{name:B},!0),V;if(k[q])return Ct(c,2,50,"Circular reference detected while serializing object",{name:B},!0),V;if(!k.aiDataContract){if(B==="measurements")V=N(k,"number",B);else if(B==="properties")V=N(k,"string",B);else if(B==="tags")V=N(k,"string",B);else if(lt(k))V=S(k,B);else{Ct(c,2,49,"Attempting to serialize an object which does not implement ISerializable",{name:B},!0);try{Ka()[Q](k),V=k}catch(ie){Ct(c,1,48,ie&&ut(ie[Se])?ie[Se]():"Error serializing object",null,!0)}}return V}return k[q]=!0,Yt(k.aiDataContract,function(ie,me){var ge=ut(me)?me()&1:me&1,ye=ut(me)?me()&4:me&4,pe=me&2,Me=k[ie]!==void 0,Ee=Hn(k[ie])&&k[ie]!==null;if(ge&&!Me&&!pe)Ct(c,1,24,"Missing required field specification. The field is required but not present on source",{field:ie,name:B});else if(!ye){var Ge=void 0;Ee?pe?Ge=S(k[ie],ie):Ge=g(k[ie],ie):Ge=k[ie],Ge!==void 0&&(V[ie]=Ge)}}),delete k[q],V}function S(k,B){var q;if(k)if(!lt(k))Ct(c,1,54,`This field was specified as an array in the contract but the item is not an array.\r
`,{name:B},!0);else{q=[];for(var V=0;V<k[J];V++){var ie=k[V],me=g(ie,B+"["+V+"]");q[hr](me)}}return q}function N(k,B,q){var V;return k&&(V={},Yt(k,function(ie,me){if(B==="string")me===void 0?V[ie]="undefined":me===null?V[ie]="null":me[Se]?V[ie]=me[Se]():V[ie]="invalid field: toString() is not defined.";else if(B==="number")if(me===void 0)V[ie]="undefined";else if(me===null)V[ie]="null";else{var ge=parseFloat(me);V[ie]=ge}else V[ie]="invalid field: "+q+" is of unknown type.",Ct(c,1,V[ie],null,!0)})),V}})}return u.__ieDyn=1,u}(),Sx=8,Dx=function(){function u(){}return u.prototype.getHashCodeScore=function(c){var d=this.getHashCode(c)/u.INT_MAX_VALUE;return d*100},u.prototype.getHashCode=function(c){if(c==="")return 0;for(;c[J]<Sx;)c=c[$t](c);for(var d=5381,g=0;g<c[J];++g)d=(d<<5)+d+c.charCodeAt(g),d=d&d;return Math.abs(d)},u.INT_MAX_VALUE=2147483647,u}(),Tx=function(){function u(){var c=this,d=new Dx,g=new o;c[V_]=function(S){var N=0;return S[O]&&S[O][g.userId]?N=d.getHashCodeScore(S[O][g.userId]):S.ext&&S.ext.user&&S.ext.user.id?N=d[wE](S.ext.user.id):S[O]&&S[O][g.operationId]?N=d.getHashCodeScore(S[O][g.operationId]):S.ext&&S.ext.telemetryTrace&&S.ext.telemetryTrace[K]?N=d.getHashCodeScore(S.ext.telemetryTrace[K]):N=Math.random()*100,N}}return u}(),Ax=function(){function u(c,d){this.INT_MAX_VALUE=2147483647;var g=d||fu(null);(c>100||c<0)&&(g.throwInternal(2,58,"Sampling rate is out of range (0..100). Sampling will be disabled, you may be sending too much data which may affect your AI service level.",{samplingRate:c},!0),c=100),this[Kh]=c,this.samplingScoreGenerator=new Tx}return u.prototype.isSampledIn=function(c){var d=this[Kh],g=!1;return d==null||d>=100||c.baseType===sn[ne]?!0:(g=this.samplingScoreGenerator[V_](c)<d,g)},u}(),Oi,Yv,Jh=void 0,Yb="",Nx=65e3;function zb(u){try{return u.responseText}catch{}return null}function Cx(u){return u&&u.sendPOST}var $b=Bi((Oi={endpointUrl:Af(fn,Cm+jh)},Oi[wn]=mo(),Oi[Xt]=15e3,Oi[fa]=102400,Oi.disableTelemetry=mo(),Oi[ep]=mo(!0),Oi.isRetryDisabled=mo(),Oi[Xl]=mo(!0),Oi[xm]=mo(!0),Oi[Wh]=mo(),Oi[Hh]=mo(),Oi[wo]=mo(),Oi[Ur]=Jh,Oi.namePrefix=Jh,Oi.samplingPercentage=Af(Ix,100),Oi[Pa]=Jh,Oi[bt]=Jh,Oi[sr]=1e4,Oi[qv]=!1,Oi.httpXHROverride={isVal:Cx,v:Jh},Oi[nc]=mo(),Oi.transports=Jh,Oi.retryCodes=Jh,Oi.maxRetryCnt={isVal:Zt,v:10},Oi));function Ix(u){return!isNaN(u)&&u>0&&u<=100}var xx=(Yv={},Yv[zr.dataType]=jb,Yv[Za.dataType]=Ex,Yv[yu.dataType]=yx,Yv[Vl.dataType]=_x,Yv[Bs.dataType]=mx,Yv[sn.dataType]=gx,Yv[Gc.dataType]=vx,Yv),Vb=function(u){nl(c,u);function c(){var d=u.call(this)||this;d.priority=1001,d.identifier=T;var g,S,N,k,B,q,V,ie=0,me,ge,ye,pe,Me,Ee,Ge,Ye,tt,vt,Ir,un,cn,Nn,ir,Vt,rn,Ji,si,it,Wt,kn,ze,ur,ui,On,js;return Gi(c,d,function(De,Do){Jb(),De.pause=function(){Mm(),N=!0},De.resume=function(){N&&(N=!1,S=null,Cn(),Xg())},De.flush=function(fe,Ae,Dt){if(fe===void 0&&(fe=!0),!N){Mm();try{return De[je](fe,null,Dt||1)}catch(Tt){Ct(De[Mt](),1,22,"flush failed, telemetry will not be collected: "+vi(Tt),{exception:or(Tt)})}}},De.onunloadFlush=function(){if(!N)if(Ge||it)try{return De[je](!0,wu,2)}catch(fe){Ct(De[Mt](),1,20,"failed to flush with beacon sender on page unload, telemetry will not be collected: "+vi(fe),{exception:or(fe)})}else De.flush(!1)},De.addHeader=function(fe,Ae){V[fe]=Ae},De[oi]=function(fe,Ae,Dt,Tt){De.isInitialized()&&Ct(De[Mt](),1,28,"Sender is already initialized"),Do[oi](fe,Ae,Dt,Tt);var Pr=De.identifier;B=new bx(Ae.logger),g=0,S=null,De[Eo]=null,q=0;var br=De[Mt]();ye=Kd(Ef("Sender"),Ae.evtNamespace&&Ae.evtNamespace()),ge=w(ye),De._addHook(Ku(fe,function(Wr){var Mi=Wr.cfg;Mi.storagePrefix&&Ce(Mi.storagePrefix);var rp=Pf(null,Mi,Ae),Mr=rp.getExtCfg(Pr,$b),Zb=Mr[Qo];if(pe&&Zb===pe){var TE=Mi[Qo];TE&&TE!==Zb&&(Mr[Qo]=TE)}qt(Mr[Ur])&&(Mr[Ur]=Mi[Ur]),an(De,"_senderConfig",{g:function(){return Mr}}),Me!==Mr[Qo]&&(pe=Me=Mr[Qo]),Ae.activeStatus()===ja.PENDING?De.pause():Ae.activeStatus()===ja.ACTIVE&&De.resume(),vt&&vt!==Mr[Pa]&&Ft(vt,function(bu){delete V[bu.header]}),Ee=Mr[fa],Ge=(Mr[wo]===!1||Mr[Xl]===!1)&&uu(),Ye=Mr[wo]===!1&&uu(),tt=Mr[Xl]===!1&&uu(),it=Mr[nc],Wt=!!Mr[Wh],js=Mr.retryCodes;var AE=Mr[qv],Qg=!!Mr[ep]&&(!!AE||rt()),Xb=Mr.namePrefix,Ox=Qg!==Vt||Qg&&Ji!==Xb||Qg&&rn!==AE;if(De[Ql]){if(Ox)try{De._buffer=De._buffer[Xa](br,Mr,Qg)}catch(bu){Ct(De[Mt](),1,12,"failed to transfer telemetry to different buffer storage, telemetry will be lost: "+vi(bu),{exception:or(bu)})}Cn()}else De[Ql]=Qg?new qb(br,Mr):new bE(br,Mr);Ji=Xb,Vt=Qg,rn=AE,kn=!Mr[Hh]&&yi(!0),ui=!!Mr[xm],De._sample=new Ax(Mr.samplingPercentage,br),un=Mr[Ur],!qt(un)&&!Kb(un,Mi)&&Ct(br,1,100,"Invalid Instrumentation key "+un),vt=Mr[Pa],nn(pe)&&!de(pe)&&vt&&vt[J]>0?Ft(vt,function(bu){d.addHeader(bu.header,bu.value)}):vt=null,si=Mr[Ri];var Qb=Gs();On?On.SetConfig(Qb):(On=new Lh,On[oi](Qb,br));var J_=Mr.httpXHROverride,Z_=null,qy=null,Mx=dl([3,1,2],Mr.transports);Z_=On&&On[bo](Mx,!1);var NE=On&&On.getFallbackInst();ze=function(bu,dg){return Lt(NE,bu,dg)},ur=function(bu,dg){return Lt(NE,bu,dg,!1)},Z_=it?J_:Z_||J_||NE,De[Eo]=function(bu,dg){return Lt(Z_,bu,dg)},kn&&(me=Zg);var CE=dl([3,1],Mr[Ne]);kn||(CE=CE.filter(function(bu){return bu!==2})),qy=On&&On[bo](CE,!0),qy=it?J_:qy||J_,(it||Mr[Ne]||!me)&&qy&&(me=function(bu,dg){return Lt(qy,bu,dg)}),me||(me=ze),Ir=Mr.disableTelemetry,cn=Mr[bt]||Jh,Nn=Mr.isRetryDisabled,ir=Mr[Xt]}))},De.processTelemetry=function(fe,Ae){var Dt;Ae=De._getTelCtx(Ae);var Tt=Ae[Mt]();try{var Pr=Qp(fe,Tt);if(!Pr)return;var br=Om(fe,Tt);if(!br)return;var Wr=B[jt](br),Mi=De[Ql];Cn(Wr);var rp=(Dt={},Dt[qn]=Wr,Dt.cnt=0,Dt);Mi[Qe](rp),Xg()}catch(Mr){Ct(Tt,2,12,"Failed adding telemetry to the sender's buffer, some telemetry will be lost: "+vi(Mr),{exception:or(Mr)})}De.processNext(fe,Ae)},De.isCompletelyIdle=function(){return!N&&ie===0&&De._buffer[st]()===0},De.getOfflineListener=function(){return ge},De._xhrReadyStateChange=function(fe,Ae,Dt){if(!th(Ae))return tp(fe,Ae,Dt)},De[je]=function(fe,Ae,Dt){fe===void 0&&(fe=!0);var Tt;if(!N)try{var Pr=De[Ql];if(Ir)Pr[Yn]();else if(Pr[st]()>0){var br=Pr.getItems();K_(Dt||0,fe),Ae?Tt=Ae.call(De,br,fe):Tt=De[Eo](br,fe)}Mm()}catch(Mi){var Wr=gi();(!Wr||Wr>9)&&Ct(De[Mt](),1,40,"Telemetry transmission failed, some telemetry will be lost: "+vi(Mi),{exception:or(Mi)})}return Tt},De.getOfflineSupport=function(){var fe;return fe={getUrl:function(){return pe},createPayload:xe},fe[jt]=Zi,fe.batch=Eu,fe.shouldProcess=function(Ae){return!!Qp(Ae)},fe},De._doTeardown=function(fe,Ae){De.onunloadFlush(),Tf(ge,!1),Jb()},De[Qt]=function(fe,Ae,Dt){if(!th(fe))return Yc(fe,Ae)},De[Fn]=function(fe,Ae){if(!th(fe))return Rm(fe,Ae)},De[Dn]=function(fe,Ae){if(!th(fe))return Xp(fe)},De._xdrOnLoad=function(fe,Ae){if(!th(Ae))return la(fe,Ae)};function la(fe,Ae){var Dt=zb(fe);if(fe&&(Dt+""=="200"||Dt===""))g=0,De[Dn](Ae,0);else{var Tt=Bl(Dt);Tt&&Tt[ki]&&Tt[ki]>Tt[So]&&!Nn?De[Fn](Ae,Tt):De[Qt](Ae,Cs(fe))}}function Gs(){var fe;try{var Ae={xdrOnComplete:function(Tt,Pr,br){var Wr=km(br);if(Wr)return la(Tt,Wr)},fetchOnComplete:function(Tt,Pr,br,Wr){var Mi=km(Wr);if(Mi)return Xi(Tt.status,Mi,Tt.url,Mi[J],Tt.statusText,br||"")},xhrOnComplete:function(Tt,Pr,br){var Wr=km(br);if(Wr)return tp(Tt,Wr,Wr[J])},beaconOnRetry:function(Tt,Pr,br){return eh(Tt,Pr,br)}},Dt=(fe={},fe[Ri]=si,fe.isOneDs=!1,fe.disableCredentials=!1,fe[Wh]=Wt,fe.disableBeacon=!tt,fe.disableBeaconSync=!Ye,fe.senderOnCompleteCallBack=Ae,fe);return Dt}catch{}return null}function tp(fe,Ae,Dt){fe.readyState===4&&Xi(fe.status,Ae,fe.responseURL,Dt,Sa(fe),zb(fe)||fe.response)}function Yc(fe,Ae,Dt){Ct(De[Mt](),2,26,"Failed to send telemetry.",{message:Ae}),De._buffer&&De._buffer[Jl](fe)}function Rm(fe,Ae){for(var Dt=[],Tt=[],Pr=Ae.errors.reverse(),br=0,Wr=Pr;br<Wr.length;br++){var Mi=Wr[br],rp=fe.splice(Mi.index,1)[0];Lm(Mi.statusCode)?Tt[hr](rp):Dt[hr](rp)}fe[J]>0&&De[Dn](fe,Ae[So]),Dt[J]>0&&De[Qt](Dt,Sa(null,["partial success",Ae[So],"of",Ae.itemsReceived].join(" "))),Tt[J]>0&&(Gy(Tt),Ct(De[Mt](),2,40,"Partial success. Delivered: "+fe[J]+", Failed: "+Dt[J]+". Will retry to send "+Tt[J]+" our of "+Ae[ki]+" items"))}function Xp(fe,Ae){De._buffer&&De._buffer[Jl](fe)}function km(fe){try{if(fe){var Ae=fe,Dt=Ae[es];return Dt&&Dt[J]?Dt:null}}catch{}return null}function Qp(fe,Ae){if(Ir)return!1;if(!fe)return Ae&&Ct(Ae,1,7,"Cannot send empty telemetry"),!1;if(fe.baseData&&!fe[ed])return Ae&&Ct(Ae,1,70,"Cannot send telemetry without baseData and baseType"),!1;if(fe[ed]||(fe[ed]="EventData"),!De[Eo])return Ae&&Ct(Ae,1,28,"Sender was not initialized"),!1;if(St(fe))fe[ng]=De._sample[Kh];else return Ae&&Ct(Ae,2,33,"Telemetry item was sampled out and not sent",{SampleRate:De._sample[Kh]}),!1;return!0}function Om(fe,Ae){var Dt=fe.iKey||un,Tt=c.constructEnvelope(fe,Dt,Ae,cn);if(!Tt){Ct(Ae,1,47,"Unable to create an AppInsights envelope");return}var Pr=!1;if(fe[O]&&fe[O][Uv]&&(Ft(fe[O][Uv],function(br){try{br&&br(Tt)===!1&&(Pr=!0,Ju(Ae,"Telemetry processor check returns false"))}catch(Wr){Ct(Ae,1,64,"One of telemetry initializers failed, telemetry item will not be sent: "+vi(Wr),{exception:or(Wr)},!0)}}),delete fe[O][Uv]),!Pr)return Tt}function Zi(fe){var Ae=Yb,Dt=De[Mt]();try{var Tt=Qp(fe,Dt),Pr=null;Tt&&(Pr=Om(fe,Dt)),Pr&&(Ae=B[jt](Pr))}catch{}return Ae}function Eu(fe){var Ae=Yb;return fe&&fe[J]&&(Ae="["+fe.join(",")+"]"),Ae}function xe(fe){var Ae,Dt=$n();return Ae={urlString:pe},Ae[U]=fe,Ae.headers=Dt,Ae}function St(fe){return De._sample.isSampledIn(fe)}function ar(fe,Ae,Dt,Tt){Ae===200&&fe?De._onSuccess(fe,fe[J]):Tt&&De[Qt](fe,Tt)}function Lt(fe,Ae,Dt,Tt){Tt===void 0&&(Tt=!0);var Pr=function(Mi,rp,Mr){return ar(Ae,Mi,rp,Mr)},br=yr(Ae),Wr=fe&&fe.sendPOST;return Wr&&br?(Tt&&De._buffer[xa](Ae),Wr(br,Pr,!Dt)):null}function yr(fe){var Ae;if(lt(fe)&&fe[J]>0){var Dt=De[Ql].batchPayloads(fe),Tt=$n(),Pr=(Ae={},Ae[U]=Dt,Ae.urlString=pe,Ae.headers=Tt,Ae.disableXhrSync=Wt,Ae.disableFetchKeepAlive=!kn,Ae[es]=fe,Ae);return Pr}return null}function $n(){try{var fe=V||{};return de(pe)&&(fe[ag[6]]=ag[7]),fe}catch{}return null}function Cn(fe){var Ae=fe?fe[J]:0;return De[Ql].size()+Ae>Ee?((!ge||ge.isOnline())&&De[je](!0,null,10),!0):!1}function Xi(fe,Ae,Dt,Tt,Pr,br){var Wr=null;if(De._appId||(Wr=Bl(br),Wr&&Wr.appId&&(De._appId=Wr.appId)),(fe<200||fe>=300)&&fe!==0){if((fe===301||fe===307||fe===308)&&!ts(Dt)){De[Qt](Ae,Pr);return}if(ge&&!ge.isOnline()){if(!Nn){var Mi=10;Gy(Ae,Mi),Ct(De[Mt](),2,40,". Offline - Response Code: ".concat(fe,". Offline status: ").concat(!ge.isOnline(),". Will retry to send ").concat(Ae.length," items."))}return}!Nn&&Lm(fe)?(Gy(Ae),Ct(De[Mt](),2,40,". Response code "+fe+". Will retry to send "+Ae[J]+" items.")):De[Qt](Ae,Pr)}else ts(Dt),fe===206?(Wr||(Wr=Bl(br)),Wr&&!Nn?De[Fn](Ae,Wr):De[Qt](Ae,Pr)):(g=0,De[Dn](Ae,Tt))}function ts(fe){return q>=10?!1:!Fe(fe)&&fe!==""&&fe!==pe?(pe=fe,++q,!0):!1}function wu(fe,Ae){if(me)me(fe,!1);else{var Dt=On&&On[bo]([3],!0);return Lt(Dt,fe,Ae)}}function eh(fe,Ae,Dt){var Tt=fe,Pr=Tt&&Tt[es];if(ui)ur&&ur(Pr,!0),Ct(De[Mt](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender.");else{for(var br=[],Wr=0;Wr<Pr[J];Wr++){var Mi=Pr[Wr],rp=[Mi],Mr=yr(rp);Dt(Mr,Ae)?De._onSuccess(rp,rp[J]):br[hr](Mi)}br[J]>0&&(ur&&ur(br,!0),Ct(De[Mt](),2,40,". Failed to send telemetry with Beacon API, retried with normal sender."))}}function th(fe){try{if(fe&&fe[J])return nn(fe[0])}catch{}return null}function Zg(fe,Ae){var Dt=null;if(lt(fe)){for(var Tt=fe[J],Pr=0;Pr<fe[J];Pr++)Tt+=fe[Pr].item[J];var br=On.getSyncFetchPayload();br+Tt<=Nx?Dt=2:uu()?Dt=3:(Dt=1,Ct(De[Mt](),2,40,". Failed to send telemetry with Beacon API, retried with xhrSender."));var Wr=On&&On[bo]([Dt],!0);return Lt(Wr,fe,Ae)}return null}function Gy(fe,Ae){if(Ae===void 0&&(Ae=1),!(!fe||fe[J]===0)){var Dt=De[Ql];Dt[Jl](fe),g++;for(var Tt=0,Pr=fe;Tt<Pr.length;Tt++){var br=Pr[Tt];br.cnt=br.cnt||0,br.cnt++,Dt[Qe](br)}DE(Ae),Xg()}}function DE(fe){var Ae=10,Dt;if(g<=1)Dt=Ae;else{var Tt=(Math.pow(2,g)-1)/2,Pr=Math.floor(Math.random()*Tt*Ae)+1;Pr=fe*Pr,Dt=Math.max(Math.min(Pr,3600),Ae)}var br=Pu()+Dt*1e3;S=br}function Xg(){if(!k&&!N){var fe=S?Math.max(0,S-Pu()):0,Ae=Math.max(ir,fe);k=Ou(function(){k=null,De[je](!0,null,1)},Ae)}}function Mm(){k&&k.cancel(),k=null,S=null}function Lm(fe){return Fe(js)?fe===401||fe===408||fe===429||fe===500||fe===502||fe===503||fe===504:js[J]&&js.indexOf(fe)>-1}function H_(){var fe="getNotifyMgr";return De.core[fe]?De.core[fe]():De.core._notificationManager}function K_(fe,Ae){var Dt=H_();if(Dt&&Dt[ug])try{Dt[ug](fe,Ae)}catch(Tt){Ct(De[Mt](),1,74,"send request notification failed: "+vi(Tt),{exception:or(Tt)})}}function Kb(fe,Ae){var Dt=Ae.disableInstrumentationKeyValidation,Tt=Fe(Dt)?!1:Dt;if(Tt)return!0;var Pr="^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$",br=new RegExp(Pr);return br.test(fe)}function Jb(){De[Eo]=null,De[Ql]=null,De._appId=null,De._sample=null,V={},ge=null,g=0,S=null,N=!1,k=null,B=null,q=0,ie=0,me=null,ye=null,pe=null,Me=null,Ee=0,Ge=!1,vt=null,Ir=!1,un=null,cn=Jh,Nn=!1,Vt=null,Ji=Jh,Wt=!1,kn=!1,ui=!1,ze=null,ur=null,On=null,an(De,"_senderConfig",{g:function(){return xt({},$b)}})}}),d}return c.constructEnvelope=function(d,g,S,N){var k;g!==d.iKey&&!Fe(g)?k=fo(fo({},d),{iKey:g}):k=d;var B=xx[k.baseType]||jb;return B(S,k,N)},c}(pn),Hg="instrumentationKey",W_="connectionString",Wb="instrumentationkey",Kg="endpointUrl",Hb="ingestionendpoint",jy="userOverrideEndpointUrl",Jg,SE=void 0,Px=(Jg={diagnosticLogInterval:Af(Rx,1e4)},Jg[W_]=SE,Jg[Kg]=SE,Jg[Hg]=SE,Jg.extensionConfig={},Jg);function Rx(u){return u&&u>0}var kx=function(){function u(c){var d=new kf,g;(Fe(c)||Fe(c[Hg])&&Fe(c[W_]))&&lr("Invalid input configuration"),Gi(u,this,function(N){an(N,"config",{g:function(){return g}}),k(),N.initialize=k,N.track=S,Pd(N,d,["flush","pollInternalLogs","stopPollingInternalLogs","unload","getPlugin","addPlugin","evtNamespace","addUnloadCb","onCfgChange","getTraceCtx","updateCfg","addTelemetryInitializer"]);function k(){var B=Wo(c||{},Px);g=B.cfg,d.addUnloadHook(Ku(B,function(){var q=g[W_];if(qt(q)){var V=cf(function(ye,pe){Ts(q,function(Me){var Ee=Me.value,Ge=g[Hg];if(!Me.rejected&&Ee){g[W_]=Ee;var Ye=pr(Ee);Ge=Ye[Wb]||Ge}ye(Ge)})}),ie=cf(function(ye,pe){Ts(q,function(Me){var Ee=Me.value,Ge=g[Kg];if(!Me.rejected&&Ee){var Ye=pr(Ee),tt=Ye[Hb];Ge=tt?tt+jh:Ge}ye(Ge)})});g[Hg]=V,g[Kg]=g[jy]||ie}if(nn(q)){var me=pr(q),ge=me[Hb];g[Kg]=g[jy]?g[jy]:ge+jh,g[Hg]=me[Wb]||g[Hg]}g[Kg]=g[jy]?g[jy]:g[Kg]})),d.initialize(g,[new Vb])}});function S(N){N&&(N.baseData=N.baseData||{},N.baseType=N.baseType||"EventData"),d.track(N)}}return u.__ieDyn=1,u}();e.AppInsightsCore=kf,e.ApplicationInsights=kx,e.Sender=Vb,e.SeverityLevel=Gv,e.arrForEach=Ft,e.isNullOrUndefined=Fe,e.proxyFunctions=Pd,e.throwError=lr})});var w2=cr(Qh=>{"use strict";var m1=Qh&&Qh.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),g1=Qh&&Qh.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),y1=Qh&&Qh.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&m1(t,e,r);return g1(t,e),t};Object.defineProperty(Qh,"__esModule",{value:!0});Qh.appInsightsClientFactory=void 0;var _1=y2(),E1=GE(),w1=async(e,t,r,n,i)=>{let a;try{let f=await Promise.resolve().then(()=>y1(E2())),h={};if(n){let x={alwaysUseXhrOverride:!0,httpXHROverride:n};h[_1.BreezeChannelIdentifier]=x}let y;e.startsWith("InstrumentationKey=")||(y=e);let D=y?{instrumentationKey:y}:{connectionString:e};a=new f.ApplicationInsights({...D,disableAjaxTracking:!0,disableExceptionTracking:!0,disableFetchTracking:!0,disableCorrelationHeaders:!0,disableCookiesUsage:!0,autoTrackPageVisitTime:!1,emitLineDelimitedJson:!1,disableInstrumentationKeyValidation:!0,extensionConfig:h})}catch(f){return Promise.reject(f)}return{logEvent:(f,h)=>{let y={...h==null?void 0:h.properties,...h==null?void 0:h.measurements};i!=null&&i.length&&E1.TelemetryUtil.applyReplacements(y,i),a==null||a.track({name:f,data:y,baseType:"EventData",ext:{user:{id:t,authId:t},app:{sesId:r}},baseData:{name:f,properties:h==null?void 0:h.properties,measurements:h==null?void 0:h.measurements}})},flush:async()=>{a==null||a.flush(!1)},dispose:async()=>new Promise(h=>{a==null||a.unload(!0,()=>{h(),a=void 0},1e3)})}};Qh.appInsightsClientFactory=w1});var b2=cr(o0=>{"use strict";Object.defineProperty(o0,"__esModule",{value:!0});o0.BaseTelemetryReporter=void 0;var qE=class{constructor(t,r,n){this.telemetrySender=t,this.vscodeAPI=r,this.userOptIn=!1,this.errorOptIn=!1,this.disposables=[],this._onDidChangeTelemetryLevel=new this.vscodeAPI.EventEmitter,this.onDidChangeTelemetryLevel=this._onDidChangeTelemetryLevel.event,this.telemetryLogger=this.vscodeAPI.env.createTelemetryLogger(this.telemetrySender,n),this.updateUserOptIn(),this.telemetryLogger.onDidChangeEnableStates(()=>{this.updateUserOptIn()})}updateUserOptIn(){this.errorOptIn=this.telemetryLogger.isErrorsEnabled,this.userOptIn=this.telemetryLogger.isUsageEnabled,(this.telemetryLogger.isErrorsEnabled||this.telemetryLogger.isUsageEnabled)&&this.telemetrySender.instantiateSender(),this._onDidChangeTelemetryLevel.fire(this.telemetryLevel)}get telemetryLevel(){return this.errorOptIn&&this.userOptIn?"all":this.errorOptIn?"error":"off"}internalSendTelemetryEvent(t,r,n,i){i?this.telemetrySender.sendEventData(t,{properties:r,measurements:n}):this.telemetryLogger.logUsage(t,{properties:r,measurements:n})}sendTelemetryEvent(t,r,n){this.internalSendTelemetryEvent(t,r,n,!1)}sendRawTelemetryEvent(t,r,n){let i={...r};for(let a of Object.keys(i??{})){let s=i[a];typeof a=="string"&&s!==void 0&&(i[a]=new this.vscodeAPI.TelemetryTrustedValue(typeof s=="string"?s:s.value))}this.sendTelemetryEvent(t,i,n)}sendDangerousTelemetryEvent(t,r,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryEvent(t,r,n,!0)}internalSendTelemetryErrorEvent(t,r,n,i){i?this.telemetrySender.sendEventData(t,{properties:r,measurements:n}):this.telemetryLogger.logError(t,{properties:r,measurements:n})}sendTelemetryErrorEvent(t,r,n){this.internalSendTelemetryErrorEvent(t,r,n,!1)}sendDangerousTelemetryErrorEvent(t,r,n){this.telemetrySender.instantiateSender(),this.internalSendTelemetryErrorEvent(t,r,n,!0)}async dispose(){return await this.telemetrySender.dispose(),this.telemetryLogger.dispose(),Promise.all(this.disposables.map(t=>t.dispose()))}};o0.BaseTelemetryReporter=qE});var S2=cr(s0=>{"use strict";Object.defineProperty(s0,"__esModule",{value:!0});s0.BaseTelemetrySender=void 0;var $v;(function(e){e[e.NOT_INSTANTIATED=0]="NOT_INSTANTIATED",e[e.INSTANTIATING=1]="INSTANTIATING",e[e.INSTANTIATED=2]="INSTANTIATED"})($v||($v={}));var YE=class{constructor(t,r){this._instantiationStatus=$v.NOT_INSTANTIATED,this._eventQueue=[],this._exceptionQueue=[],this._clientFactory=r,this._key=t}sendEventData(t,r){if(!this._telemetryClient){this._instantiationStatus!==$v.INSTANTIATED&&this._eventQueue.push({eventName:t,data:r});return}this._telemetryClient.logEvent(t,r)}sendErrorData(t,r){if(!this._telemetryClient){this._instantiationStatus!==$v.INSTANTIATED&&this._exceptionQueue.push({exception:t,data:r});return}let n={stack:t.stack,message:t.message,name:t.name};if(r){let i=r.properties||r;r.properties={...i,...n}}else r={properties:n};this._telemetryClient.logEvent("unhandlederror",r)}async flush(){var t;return(t=this._telemetryClient)==null?void 0:t.flush()}async dispose(){this._telemetryClient&&(await this._telemetryClient.dispose(),this._telemetryClient=void 0)}_flushQueues(){this._eventQueue.forEach(({eventName:t,data:r})=>this.sendEventData(t,r)),this._eventQueue=[],this._exceptionQueue.forEach(({exception:t,data:r})=>this.sendErrorData(t,r)),this._exceptionQueue=[]}instantiateSender(){this._instantiationStatus===$v.NOT_INSTANTIATED&&(this._instantiationStatus=$v.INSTANTIATING,this._clientFactory(this._key).then(t=>{this._telemetryClient=t,this._instantiationStatus=$v.INSTANTIATED,this._flushQueues()}).catch(t=>{console.error(t),this._instantiationStatus=$v.INSTANTIATED}))}};s0.BaseTelemetrySender=YE});var A2=cr(Vv=>{"use strict";var b1=Vv&&Vv.__createBinding||(Object.create?function(e,t,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(t,r);(!i||("get"in i?!t.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return t[r]}}),Object.defineProperty(e,n,i)}:function(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}),S1=Vv&&Vv.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),VE=Vv&&Vv.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)r!=="default"&&Object.prototype.hasOwnProperty.call(e,r)&&b1(t,e,r);return S1(t,e),t};Object.defineProperty(Vv,"__esModule",{value:!0});var D1=VE(require("https")),zE=VE(require("os")),u0=VE(require("vscode")),T1=m2(),A1=w2(),N1=b2(),C1=S2(),D2=GE();function T2(){return{sendPOST:(t,r)=>{let n={method:"POST",headers:{...t.headers,"Content-Type":"application/json","Content-Length":Buffer.byteLength(t.data)}};try{let i=D1.request(t.urlString,n,a=>{a.on("data",function(s){r(a.statusCode??200,a.headers,s.toString())}),a.on("error",function(){r(0,{})})});i.write(t.data,a=>{a&&r(0,{})}),i.end()}catch{r(0,{})}}}}var $E=class extends N1.BaseTelemetryReporter{constructor(t,r){let n=s=>(0,A1.appInsightsClientFactory)(s,u0.env.machineId,u0.env.sessionId,T2(),r);D2.TelemetryUtil.shouldUseOneDataSystemSDK(t)&&(n=s=>(0,T1.oneDataSystemClientFactory)(s,u0,T2()));let i={release:zE.release(),platform:zE.platform(),architecture:zE.arch()},a=new C1.BaseTelemetrySender(t,n);if(t&&t.indexOf("AIF-")===0)throw new Error("AIF keys are no longer supported. Please switch to 1DS keys for 1st party extensions");super(a,u0,{additionalCommonProperties:D2.TelemetryUtil.getAdditionalCommonProperties(i)})}};Vv.default=$E});var zy=cr(ny=>{"use strict";function k1(e,t,r){if(r===void 0&&(r=Array.prototype),e&&typeof r.find=="function")return r.find.call(e,t);for(var n=0;n<e.length;n++)if(Object.prototype.hasOwnProperty.call(e,n)){var i=e[n];if(t.call(void 0,i,n,e))return i}}function KE(e,t){return t===void 0&&(t=Object),t&&typeof t.freeze=="function"?t.freeze(e):e}function O1(e,t){if(e===null||typeof e!="object")throw new TypeError("target is not an object");for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e}var M2=KE({HTML:"text/html",isHTML:function(e){return e===M2.HTML},XML_APPLICATION:"application/xml",XML_TEXT:"text/xml",XML_XHTML_APPLICATION:"application/xhtml+xml",XML_SVG_IMAGE:"image/svg+xml"}),L2=KE({HTML:"http://www.w3.org/1999/xhtml",isHTML:function(e){return e===L2.HTML},SVG:"http://www.w3.org/2000/svg",XML:"http://www.w3.org/XML/1998/namespace",XMLNS:"http://www.w3.org/2000/xmlns/"});ny.assign=O1;ny.find=k1;ny.freeze=KE;ny.MIME_TYPE=M2;ny.NAMESPACE=L2});var ow=cr(Bm=>{var z2=zy(),ev=z2.find,$y=z2.NAMESPACE;function M1(e){return e!==""}function L1(e){return e?e.split(/[\t\n\f\r ]+/).filter(M1):[]}function F1(e,t){return e.hasOwnProperty(t)||(e[t]=!0),e}function F2(e){if(!e)return[];var t=L1(e);return Object.keys(t.reduce(F1,{}))}function U1(e){return function(t){return e&&e.indexOf(t)!==-1}}function Wy(e,t){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}function Gf(e,t){var r=e.prototype;if(!(r instanceof t)){let i=function(){};var n=i;i.prototype=t.prototype,i=new i,Wy(r,i),e.prototype=r=i}r.constructor!=e&&(typeof e!="function"&&console.error("unknown Class:"+e),r.constructor=e)}var qf={},ih=qf.ELEMENT_NODE=1,ay=qf.ATTRIBUTE_NODE=2,c0=qf.TEXT_NODE=3,$2=qf.CDATA_SECTION_NODE=4,V2=qf.ENTITY_REFERENCE_NODE=5,B1=qf.ENTITY_NODE=6,W2=qf.PROCESSING_INSTRUCTION_NODE=7,H2=qf.COMMENT_NODE=8,K2=qf.DOCUMENT_NODE=9,J2=qf.DOCUMENT_TYPE_NODE=10,Hv=qf.DOCUMENT_FRAGMENT_NODE=11,j1=qf.NOTATION_NODE=12,ic={},qs={},DB=ic.INDEX_SIZE_ERR=(qs[1]="Index size error",1),TB=ic.DOMSTRING_SIZE_ERR=(qs[2]="DOMString size error",2),jf=ic.HIERARCHY_REQUEST_ERR=(qs[3]="Hierarchy request error",3),AB=ic.WRONG_DOCUMENT_ERR=(qs[4]="Wrong document",4),NB=ic.INVALID_CHARACTER_ERR=(qs[5]="Invalid character",5),CB=ic.NO_DATA_ALLOWED_ERR=(qs[6]="No data allowed",6),IB=ic.NO_MODIFICATION_ALLOWED_ERR=(qs[7]="No modification allowed",7),Z2=ic.NOT_FOUND_ERR=(qs[8]="Not found",8),xB=ic.NOT_SUPPORTED_ERR=(qs[9]="Not supported",9),U2=ic.INUSE_ATTRIBUTE_ERR=(qs[10]="Attribute in use",10),PB=ic.INVALID_STATE_ERR=(qs[11]="Invalid state",11),RB=ic.SYNTAX_ERR=(qs[12]="Syntax error",12),kB=ic.INVALID_MODIFICATION_ERR=(qs[13]="Invalid modification",13),OB=ic.NAMESPACE_ERR=(qs[14]="Invalid namespace",14),MB=ic.INVALID_ACCESS_ERR=(qs[15]="Invalid access",15);function Qa(e,t){if(t instanceof Error)var r=t;else r=this,Error.call(this,qs[e]),this.message=qs[e],Error.captureStackTrace&&Error.captureStackTrace(this,Qa);return r.code=e,t&&(this.message=this.message+": "+t),r}Qa.prototype=Error.prototype;Wy(ic,Qa);function Wv(){}Wv.prototype={length:0,item:function(e){return e>=0&&e<this.length?this[e]:null},toString:function(e,t){for(var r=[],n=0;n<this.length;n++)iy(this[n],r,e,t);return r.join("")},filter:function(e){return Array.prototype.filter.call(this,e)},indexOf:function(e){return Array.prototype.indexOf.call(this,e)}};function oy(e,t){this._node=e,this._refresh=t,XE(this)}function XE(e){var t=e._node._inc||e._node.ownerDocument._inc;if(e._inc!==t){var r=e._refresh(e._node);if(cS(e,"length",r.length),!e.$$length||r.length<e.$$length)for(var n=r.length;n in e;n++)Object.prototype.hasOwnProperty.call(e,n)&&delete e[n];Wy(r,e),e._inc=t}}oy.prototype.item=function(e){return XE(this),this[e]||null};Gf(oy,Wv);function f0(){}function X2(e,t){for(var r=e.length;r--;)if(e[r]===t)return r}function B2(e,t,r,n){if(n?t[X2(t,n)]=r:t[t.length++]=r,e){r.ownerElement=e;var i=e.ownerDocument;i&&(n&&tS(i,e,n),G1(i,e,r))}}function j2(e,t,r){var n=X2(t,r);if(n>=0){for(var i=t.length-1;n<i;)t[n]=t[++n];if(t.length=i,e){var a=e.ownerDocument;a&&(tS(a,e,r),r.ownerElement=null)}}else throw new Qa(Z2,new Error(e.tagName+"@"+r))}f0.prototype={length:0,item:Wv.prototype.item,getNamedItem:function(e){for(var t=this.length;t--;){var r=this[t];if(r.nodeName==e)return r}},setNamedItem:function(e){var t=e.ownerElement;if(t&&t!=this._ownerElement)throw new Qa(U2);var r=this.getNamedItem(e.nodeName);return B2(this._ownerElement,this,e,r),r},setNamedItemNS:function(e){var t=e.ownerElement,r;if(t&&t!=this._ownerElement)throw new Qa(U2);return r=this.getNamedItemNS(e.namespaceURI,e.localName),B2(this._ownerElement,this,e,r),r},removeNamedItem:function(e){var t=this.getNamedItem(e);return j2(this._ownerElement,this,t),t},removeNamedItemNS:function(e,t){var r=this.getNamedItemNS(e,t);return j2(this._ownerElement,this,r),r},getNamedItemNS:function(e,t){for(var r=this.length;r--;){var n=this[r];if(n.localName==t&&n.namespaceURI==e)return n}return null}};function Q2(){}Q2.prototype={hasFeature:function(e,t){return!0},createDocument:function(e,t,r){var n=new Hy;if(n.implementation=this,n.childNodes=new Wv,n.doctype=r||null,r&&n.appendChild(r),t){var i=n.createElementNS(e,t);n.appendChild(i)}return n},createDocumentType:function(e,t,r){var n=new p0;return n.name=e,n.nodeName=e,n.publicId=t||"",n.systemId=r||"",n}};function Vn(){}Vn.prototype={firstChild:null,lastChild:null,previousSibling:null,nextSibling:null,attributes:null,parentNode:null,childNodes:null,ownerDocument:null,nodeValue:null,namespaceURI:null,prefix:null,localName:null,insertBefore:function(e,t){return l0(this,e,t)},replaceChild:function(e,t){l0(this,e,t,nS),t&&this.removeChild(t)},removeChild:function(e){return rS(this,e)},appendChild:function(e){return this.insertBefore(e,null)},hasChildNodes:function(){return this.firstChild!=null},cloneNode:function(e){return ZE(this.ownerDocument||this,this,e)},normalize:function(){for(var e=this.firstChild;e;){var t=e.nextSibling;t&&t.nodeType==c0&&e.nodeType==c0?(this.removeChild(t),e.appendData(t.data)):(e.normalize(),e=t)}},isSupported:function(e,t){return this.ownerDocument.implementation.hasFeature(e,t)},hasAttributes:function(){return this.attributes.length>0},lookupPrefix:function(e){for(var t=this;t;){var r=t._nsMap;if(r){for(var n in r)if(Object.prototype.hasOwnProperty.call(r,n)&&r[n]===e)return n}t=t.nodeType==ay?t.ownerDocument:t.parentNode}return null},lookupNamespaceURI:function(e){for(var t=this;t;){var r=t._nsMap;if(r&&Object.prototype.hasOwnProperty.call(r,e))return r[e];t=t.nodeType==ay?t.ownerDocument:t.parentNode}return null},isDefaultNamespace:function(e){var t=this.lookupPrefix(e);return t==null}};function eS(e){return e=="<"&&"&lt;"||e==">"&&"&gt;"||e=="&"&&"&amp;"||e=='"'&&"&quot;"||"&#"+e.charCodeAt()+";"}Wy(qf,Vn);Wy(qf,Vn.prototype);function Vy(e,t){if(t(e))return!0;if(e=e.firstChild)do if(Vy(e,t))return!0;while(e=e.nextSibling)}function Hy(){this.ownerDocument=this}function G1(e,t,r){e&&e._inc++;var n=r.namespaceURI;n===$y.XMLNS&&(t._nsMap[r.prefix?r.localName:""]=r.value)}function tS(e,t,r,n){e&&e._inc++;var i=r.namespaceURI;i===$y.XMLNS&&delete t._nsMap[r.prefix?r.localName:""]}function QE(e,t,r){if(e&&e._inc){e._inc++;var n=t.childNodes;if(r)n[n.length++]=r;else{for(var i=t.firstChild,a=0;i;)n[a++]=i,i=i.nextSibling;n.length=a,delete n[n.length]}}}function rS(e,t){var r=t.previousSibling,n=t.nextSibling;return r?r.nextSibling=n:e.firstChild=n,n?n.previousSibling=r:e.lastChild=r,t.parentNode=null,t.previousSibling=null,t.nextSibling=null,QE(e.ownerDocument,e),t}function q1(e){return e&&(e.nodeType===Vn.DOCUMENT_NODE||e.nodeType===Vn.DOCUMENT_FRAGMENT_NODE||e.nodeType===Vn.ELEMENT_NODE)}function Y1(e){return e&&(tv(e)||ew(e)||Kv(e)||e.nodeType===Vn.DOCUMENT_FRAGMENT_NODE||e.nodeType===Vn.COMMENT_NODE||e.nodeType===Vn.PROCESSING_INSTRUCTION_NODE)}function Kv(e){return e&&e.nodeType===Vn.DOCUMENT_TYPE_NODE}function tv(e){return e&&e.nodeType===Vn.ELEMENT_NODE}function ew(e){return e&&e.nodeType===Vn.TEXT_NODE}function G2(e,t){var r=e.childNodes||[];if(ev(r,tv)||Kv(t))return!1;var n=ev(r,Kv);return!(t&&n&&r.indexOf(n)>r.indexOf(t))}function q2(e,t){var r=e.childNodes||[];function n(a){return tv(a)&&a!==t}if(ev(r,n))return!1;var i=ev(r,Kv);return!(t&&i&&r.indexOf(i)>r.indexOf(t))}function z1(e,t,r){if(!q1(e))throw new Qa(jf,"Unexpected parent node type "+e.nodeType);if(r&&r.parentNode!==e)throw new Qa(Z2,"child not in parent");if(!Y1(t)||Kv(t)&&e.nodeType!==Vn.DOCUMENT_NODE)throw new Qa(jf,"Unexpected node type "+t.nodeType+" for parent node type "+e.nodeType)}function $1(e,t,r){var n=e.childNodes||[],i=t.childNodes||[];if(t.nodeType===Vn.DOCUMENT_FRAGMENT_NODE){var a=i.filter(tv);if(a.length>1||ev(i,ew))throw new Qa(jf,"More than one element or text in fragment");if(a.length===1&&!G2(e,r))throw new Qa(jf,"Element in fragment can not be inserted before doctype")}if(tv(t)&&!G2(e,r))throw new Qa(jf,"Only one element can be added and only after doctype");if(Kv(t)){if(ev(n,Kv))throw new Qa(jf,"Only one doctype is allowed");var s=ev(n,tv);if(r&&n.indexOf(s)<n.indexOf(r))throw new Qa(jf,"Doctype can only be inserted before an element");if(!r&&s)throw new Qa(jf,"Doctype can not be appended since element is present")}}function nS(e,t,r){var n=e.childNodes||[],i=t.childNodes||[];if(t.nodeType===Vn.DOCUMENT_FRAGMENT_NODE){var a=i.filter(tv);if(a.length>1||ev(i,ew))throw new Qa(jf,"More than one element or text in fragment");if(a.length===1&&!q2(e,r))throw new Qa(jf,"Element in fragment can not be inserted before doctype")}if(tv(t)&&!q2(e,r))throw new Qa(jf,"Only one element can be added and only after doctype");if(Kv(t)){let h=function(y){return Kv(y)&&y!==r};var f=h;if(ev(n,h))throw new Qa(jf,"Only one doctype is allowed");var s=ev(n,tv);if(r&&n.indexOf(s)<n.indexOf(r))throw new Qa(jf,"Doctype can only be inserted before an element")}}function l0(e,t,r,n){z1(e,t,r),e.nodeType===Vn.DOCUMENT_NODE&&(n||$1)(e,t,r);var i=t.parentNode;if(i&&i.removeChild(t),t.nodeType===Hv){var a=t.firstChild;if(a==null)return t;var s=t.lastChild}else a=s=t;var f=r?r.previousSibling:e.lastChild;a.previousSibling=f,s.nextSibling=r,f?f.nextSibling=a:e.firstChild=a,r==null?e.lastChild=s:r.previousSibling=s;do a.parentNode=e;while(a!==s&&(a=a.nextSibling));return QE(e.ownerDocument||e,e),t.nodeType==Hv&&(t.firstChild=t.lastChild=null),t}function V1(e,t){return t.parentNode&&t.parentNode.removeChild(t),t.parentNode=e,t.previousSibling=e.lastChild,t.nextSibling=null,t.previousSibling?t.previousSibling.nextSibling=t:e.firstChild=t,e.lastChild=t,QE(e.ownerDocument,e,t),t}Hy.prototype={nodeName:"#document",nodeType:K2,doctype:null,documentElement:null,_inc:1,insertBefore:function(e,t){if(e.nodeType==Hv){for(var r=e.firstChild;r;){var n=r.nextSibling;this.insertBefore(r,t),r=n}return e}return l0(this,e,t),e.ownerDocument=this,this.documentElement===null&&e.nodeType===ih&&(this.documentElement=e),e},removeChild:function(e){return this.documentElement==e&&(this.documentElement=null),rS(this,e)},replaceChild:function(e,t){l0(this,e,t,nS),e.ownerDocument=this,t&&this.removeChild(t),tv(e)&&(this.documentElement=e)},importNode:function(e,t){return uS(this,e,t)},getElementById:function(e){var t=null;return Vy(this.documentElement,function(r){if(r.nodeType==ih&&r.getAttribute("id")==e)return t=r,!0}),t},getElementsByClassName:function(e){var t=F2(e);return new oy(this,function(r){var n=[];return t.length>0&&Vy(r.documentElement,function(i){if(i!==r&&i.nodeType===ih){var a=i.getAttribute("class");if(a){var s=e===a;if(!s){var f=F2(a);s=t.every(U1(f))}s&&n.push(i)}}}),n})},createElement:function(e){var t=new vg;t.ownerDocument=this,t.nodeName=e,t.tagName=e,t.localName=e,t.childNodes=new Wv;var r=t.attributes=new f0;return r._ownerElement=t,t},createDocumentFragment:function(){var e=new h0;return e.ownerDocument=this,e.childNodes=new Wv,e},createTextNode:function(e){var t=new tw;return t.ownerDocument=this,t.appendData(e),t},createComment:function(e){var t=new rw;return t.ownerDocument=this,t.appendData(e),t},createCDATASection:function(e){var t=new nw;return t.ownerDocument=this,t.appendData(e),t},createProcessingInstruction:function(e,t){var r=new aw;return r.ownerDocument=this,r.tagName=r.nodeName=r.target=e,r.nodeValue=r.data=t,r},createAttribute:function(e){var t=new d0;return t.ownerDocument=this,t.name=e,t.nodeName=e,t.localName=e,t.specified=!0,t},createEntityReference:function(e){var t=new iw;return t.ownerDocument=this,t.nodeName=e,t},createElementNS:function(e,t){var r=new vg,n=t.split(":"),i=r.attributes=new f0;return r.childNodes=new Wv,r.ownerDocument=this,r.nodeName=t,r.tagName=t,r.namespaceURI=e,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=t,i._ownerElement=r,r},createAttributeNS:function(e,t){var r=new d0,n=t.split(":");return r.ownerDocument=this,r.nodeName=t,r.name=t,r.namespaceURI=e,r.specified=!0,n.length==2?(r.prefix=n[0],r.localName=n[1]):r.localName=t,r}};Gf(Hy,Vn);function vg(){this._nsMap={}}vg.prototype={nodeType:ih,hasAttribute:function(e){return this.getAttributeNode(e)!=null},getAttribute:function(e){var t=this.getAttributeNode(e);return t&&t.value||""},getAttributeNode:function(e){return this.attributes.getNamedItem(e)},setAttribute:function(e,t){var r=this.ownerDocument.createAttribute(e);r.value=r.nodeValue=""+t,this.setAttributeNode(r)},removeAttribute:function(e){var t=this.getAttributeNode(e);t&&this.removeAttributeNode(t)},appendChild:function(e){return e.nodeType===Hv?this.insertBefore(e,null):V1(this,e)},setAttributeNode:function(e){return this.attributes.setNamedItem(e)},setAttributeNodeNS:function(e){return this.attributes.setNamedItemNS(e)},removeAttributeNode:function(e){return this.attributes.removeNamedItem(e.nodeName)},removeAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);r&&this.removeAttributeNode(r)},hasAttributeNS:function(e,t){return this.getAttributeNodeNS(e,t)!=null},getAttributeNS:function(e,t){var r=this.getAttributeNodeNS(e,t);return r&&r.value||""},setAttributeNS:function(e,t,r){var n=this.ownerDocument.createAttributeNS(e,t);n.value=n.nodeValue=""+r,this.setAttributeNode(n)},getAttributeNodeNS:function(e,t){return this.attributes.getNamedItemNS(e,t)},getElementsByTagName:function(e){return new oy(this,function(t){var r=[];return Vy(t,function(n){n!==t&&n.nodeType==ih&&(e==="*"||n.tagName==e)&&r.push(n)}),r})},getElementsByTagNameNS:function(e,t){return new oy(this,function(r){var n=[];return Vy(r,function(i){i!==r&&i.nodeType===ih&&(e==="*"||i.namespaceURI===e)&&(t==="*"||i.localName==t)&&n.push(i)}),n})}};Hy.prototype.getElementsByTagName=vg.prototype.getElementsByTagName;Hy.prototype.getElementsByTagNameNS=vg.prototype.getElementsByTagNameNS;Gf(vg,Vn);function d0(){}d0.prototype.nodeType=ay;Gf(d0,Vn);function Ky(){}Ky.prototype={data:"",substringData:function(e,t){return this.data.substring(e,e+t)},appendData:function(e){e=this.data+e,this.nodeValue=this.data=e,this.length=e.length},insertData:function(e,t){this.replaceData(e,0,t)},appendChild:function(e){throw new Error(qs[jf])},deleteData:function(e,t){this.replaceData(e,t,"")},replaceData:function(e,t,r){var n=this.data.substring(0,e),i=this.data.substring(e+t);r=n+r+i,this.nodeValue=this.data=r,this.length=r.length}};Gf(Ky,Vn);function tw(){}tw.prototype={nodeName:"#text",nodeType:c0,splitText:function(e){var t=this.data,r=t.substring(e);t=t.substring(0,e),this.data=this.nodeValue=t,this.length=t.length;var n=this.ownerDocument.createTextNode(r);return this.parentNode&&this.parentNode.insertBefore(n,this.nextSibling),n}};Gf(tw,Ky);function rw(){}rw.prototype={nodeName:"#comment",nodeType:H2};Gf(rw,Ky);function nw(){}nw.prototype={nodeName:"#cdata-section",nodeType:$2};Gf(nw,Ky);function p0(){}p0.prototype.nodeType=J2;Gf(p0,Vn);function iS(){}iS.prototype.nodeType=j1;Gf(iS,Vn);function aS(){}aS.prototype.nodeType=B1;Gf(aS,Vn);function iw(){}iw.prototype.nodeType=V2;Gf(iw,Vn);function h0(){}h0.prototype.nodeName="#document-fragment";h0.prototype.nodeType=Hv;Gf(h0,Vn);function aw(){}aw.prototype.nodeType=W2;Gf(aw,Vn);function oS(){}oS.prototype.serializeToString=function(e,t,r){return sS.call(e,t,r)};Vn.prototype.toString=sS;function sS(e,t){var r=[],n=this.nodeType==9&&this.documentElement||this,i=n.prefix,a=n.namespaceURI;if(a&&i==null){var i=n.lookupPrefix(a);if(i==null)var s=[{namespace:a,prefix:null}]}return iy(this,r,e,t,s),r.join("")}function Y2(e,t,r){var n=e.prefix||"",i=e.namespaceURI;if(!i||n==="xml"&&i===$y.XML||i===$y.XMLNS)return!1;for(var a=r.length;a--;){var s=r[a];if(s.prefix===n)return s.namespace!==i}return!0}function JE(e,t,r){e.push(" ",t,'="',r.replace(/[<>&"\t\n\r]/g,eS),'"')}function iy(e,t,r,n,i){if(i||(i=[]),n)if(e=n(e),e){if(typeof e=="string"){t.push(e);return}}else return;switch(e.nodeType){case ih:var a=e.attributes,s=a.length,X=e.firstChild,f=e.tagName;r=$y.isHTML(e.namespaceURI)||r;var h=f;if(!r&&!e.prefix&&e.namespaceURI){for(var y,D=0;D<a.length;D++)if(a.item(D).name==="xmlns"){y=a.item(D).value;break}if(!y)for(var x=i.length-1;x>=0;x--){var L=i[x];if(L.prefix===""&&L.namespace===e.namespaceURI){y=L.namespace;break}}if(y!==e.namespaceURI)for(var x=i.length-1;x>=0;x--){var L=i[x];if(L.namespace===e.namespaceURI){L.prefix&&(h=L.prefix+":"+f);break}}}t.push("<",h);for(var Y=0;Y<s;Y++){var ee=a.item(Y);ee.prefix=="xmlns"?i.push({prefix:ee.localName,namespace:ee.value}):ee.nodeName=="xmlns"&&i.push({prefix:"",namespace:ee.value})}for(var Y=0;Y<s;Y++){var ee=a.item(Y);if(Y2(ee,r,i)){var W=ee.prefix||"",H=ee.namespaceURI;JE(t,W?"xmlns:"+W:"xmlns",H),i.push({prefix:W,namespace:H})}iy(ee,t,r,n,i)}if(f===h&&Y2(e,r,i)){var W=e.prefix||"",H=e.namespaceURI;JE(t,W?"xmlns:"+W:"xmlns",H),i.push({prefix:W,namespace:H})}if(X||r&&!/^(?:meta|link|img|br|hr|input)$/i.test(f)){if(t.push(">"),r&&/^script$/i.test(f))for(;X;)X.data?t.push(X.data):iy(X,t,r,n,i.slice()),X=X.nextSibling;else for(;X;)iy(X,t,r,n,i.slice()),X=X.nextSibling;t.push("</",h,">")}else t.push("/>");return;case K2:case Hv:for(var X=e.firstChild;X;)iy(X,t,r,n,i.slice()),X=X.nextSibling;return;case ay:return JE(t,e.name,e.value);case c0:return t.push(e.data.replace(/[<&>]/g,eS));case $2:return t.push("<![CDATA[",e.data,"]]>");case H2:return t.push("<!--",e.data,"-->");case J2:var ue=e.publicId,ce=e.systemId;if(t.push("<!DOCTYPE ",e.name),ue)t.push(" PUBLIC ",ue),ce&&ce!="."&&t.push(" ",ce),t.push(">");else if(ce&&ce!=".")t.push(" SYSTEM ",ce,">");else{var he=e.internalSubset;he&&t.push(" [",he,"]"),t.push(">")}return;case W2:return t.push("<?",e.target," ",e.data,"?>");case V2:return t.push("&",e.nodeName,";");default:t.push("??",e.nodeName)}}function uS(e,t,r){var n;switch(t.nodeType){case ih:n=t.cloneNode(!1),n.ownerDocument=e;case Hv:break;case ay:r=!0;break}if(n||(n=t.cloneNode(!1)),n.ownerDocument=e,n.parentNode=null,r)for(var i=t.firstChild;i;)n.appendChild(uS(e,i,r)),i=i.nextSibling;return n}function ZE(e,t,r){var n=new t.constructor;for(var i in t)if(Object.prototype.hasOwnProperty.call(t,i)){var a=t[i];typeof a!="object"&&a!=n[i]&&(n[i]=a)}switch(t.childNodes&&(n.childNodes=new Wv),n.ownerDocument=e,n.nodeType){case ih:var s=t.attributes,f=n.attributes=new f0,h=s.length;f._ownerElement=n;for(var y=0;y<h;y++)n.setAttributeNode(ZE(e,s.item(y),!0));break;case ay:r=!0}if(r)for(var D=t.firstChild;D;)n.appendChild(ZE(e,D,r)),D=D.nextSibling;return n}function cS(e,t,r){e[t]=r}try{if(Object.defineProperty){let e=function(t){switch(t.nodeType){case ih:case Hv:var r=[];for(t=t.firstChild;t;)t.nodeType!==7&&t.nodeType!==8&&r.push(e(t)),t=t.nextSibling;return r.join("");default:return t.nodeValue}};W1=e,Object.defineProperty(oy.prototype,"length",{get:function(){return XE(this),this.$$length}}),Object.defineProperty(Vn.prototype,"textContent",{get:function(){return e(this)},set:function(t){switch(this.nodeType){case ih:case Hv:for(;this.firstChild;)this.removeChild(this.firstChild);(t||String(t))&&this.appendChild(this.ownerDocument.createTextNode(t));break;default:this.data=t,this.value=t,this.nodeValue=t}}}),cS=function(t,r,n){t["$$"+r]=n}}}catch{}var W1;Bm.DocumentType=p0;Bm.DOMException=Qa;Bm.DOMImplementation=Q2;Bm.Element=vg;Bm.Node=Vn;Bm.NodeList=Wv;Bm.XMLSerializer=oS});var lS=cr(Jy=>{"use strict";var fS=zy().freeze;Jy.XML_ENTITIES=fS({amp:"&",apos:"'",gt:">",lt:"<",quot:'"'});Jy.HTML_ENTITIES=fS({Aacute:"\xC1",aacute:"\xE1",Abreve:"\u0102",abreve:"\u0103",ac:"\u223E",acd:"\u223F",acE:"\u223E\u0333",Acirc:"\xC2",acirc:"\xE2",acute:"\xB4",Acy:"\u0410",acy:"\u0430",AElig:"\xC6",aelig:"\xE6",af:"\u2061",Afr:"\u{1D504}",afr:"\u{1D51E}",Agrave:"\xC0",agrave:"\xE0",alefsym:"\u2135",aleph:"\u2135",Alpha:"\u0391",alpha:"\u03B1",Amacr:"\u0100",amacr:"\u0101",amalg:"\u2A3F",AMP:"&",amp:"&",And:"\u2A53",and:"\u2227",andand:"\u2A55",andd:"\u2A5C",andslope:"\u2A58",andv:"\u2A5A",ang:"\u2220",ange:"\u29A4",angle:"\u2220",angmsd:"\u2221",angmsdaa:"\u29A8",angmsdab:"\u29A9",angmsdac:"\u29AA",angmsdad:"\u29AB",angmsdae:"\u29AC",angmsdaf:"\u29AD",angmsdag:"\u29AE",angmsdah:"\u29AF",angrt:"\u221F",angrtvb:"\u22BE",angrtvbd:"\u299D",angsph:"\u2222",angst:"\xC5",angzarr:"\u237C",Aogon:"\u0104",aogon:"\u0105",Aopf:"\u{1D538}",aopf:"\u{1D552}",ap:"\u2248",apacir:"\u2A6F",apE:"\u2A70",ape:"\u224A",apid:"\u224B",apos:"'",ApplyFunction:"\u2061",approx:"\u2248",approxeq:"\u224A",Aring:"\xC5",aring:"\xE5",Ascr:"\u{1D49C}",ascr:"\u{1D4B6}",Assign:"\u2254",ast:"*",asymp:"\u2248",asympeq:"\u224D",Atilde:"\xC3",atilde:"\xE3",Auml:"\xC4",auml:"\xE4",awconint:"\u2233",awint:"\u2A11",backcong:"\u224C",backepsilon:"\u03F6",backprime:"\u2035",backsim:"\u223D",backsimeq:"\u22CD",Backslash:"\u2216",Barv:"\u2AE7",barvee:"\u22BD",Barwed:"\u2306",barwed:"\u2305",barwedge:"\u2305",bbrk:"\u23B5",bbrktbrk:"\u23B6",bcong:"\u224C",Bcy:"\u0411",bcy:"\u0431",bdquo:"\u201E",becaus:"\u2235",Because:"\u2235",because:"\u2235",bemptyv:"\u29B0",bepsi:"\u03F6",bernou:"\u212C",Bernoullis:"\u212C",Beta:"\u0392",beta:"\u03B2",beth:"\u2136",between:"\u226C",Bfr:"\u{1D505}",bfr:"\u{1D51F}",bigcap:"\u22C2",bigcirc:"\u25EF",bigcup:"\u22C3",bigodot:"\u2A00",bigoplus:"\u2A01",bigotimes:"\u2A02",bigsqcup:"\u2A06",bigstar:"\u2605",bigtriangledown:"\u25BD",bigtriangleup:"\u25B3",biguplus:"\u2A04",bigvee:"\u22C1",bigwedge:"\u22C0",bkarow:"\u290D",blacklozenge:"\u29EB",blacksquare:"\u25AA",blacktriangle:"\u25B4",blacktriangledown:"\u25BE",blacktriangleleft:"\u25C2",blacktriangleright:"\u25B8",blank:"\u2423",blk12:"\u2592",blk14:"\u2591",blk34:"\u2593",block:"\u2588",bne:"=\u20E5",bnequiv:"\u2261\u20E5",bNot:"\u2AED",bnot:"\u2310",Bopf:"\u{1D539}",bopf:"\u{1D553}",bot:"\u22A5",bottom:"\u22A5",bowtie:"\u22C8",boxbox:"\u29C9",boxDL:"\u2557",boxDl:"\u2556",boxdL:"\u2555",boxdl:"\u2510",boxDR:"\u2554",boxDr:"\u2553",boxdR:"\u2552",boxdr:"\u250C",boxH:"\u2550",boxh:"\u2500",boxHD:"\u2566",boxHd:"\u2564",boxhD:"\u2565",boxhd:"\u252C",boxHU:"\u2569",boxHu:"\u2567",boxhU:"\u2568",boxhu:"\u2534",boxminus:"\u229F",boxplus:"\u229E",boxtimes:"\u22A0",boxUL:"\u255D",boxUl:"\u255C",boxuL:"\u255B",boxul:"\u2518",boxUR:"\u255A",boxUr:"\u2559",boxuR:"\u2558",boxur:"\u2514",boxV:"\u2551",boxv:"\u2502",boxVH:"\u256C",boxVh:"\u256B",boxvH:"\u256A",boxvh:"\u253C",boxVL:"\u2563",boxVl:"\u2562",boxvL:"\u2561",boxvl:"\u2524",boxVR:"\u2560",boxVr:"\u255F",boxvR:"\u255E",boxvr:"\u251C",bprime:"\u2035",Breve:"\u02D8",breve:"\u02D8",brvbar:"\xA6",Bscr:"\u212C",bscr:"\u{1D4B7}",bsemi:"\u204F",bsim:"\u223D",bsime:"\u22CD",bsol:"\\",bsolb:"\u29C5",bsolhsub:"\u27C8",bull:"\u2022",bullet:"\u2022",bump:"\u224E",bumpE:"\u2AAE",bumpe:"\u224F",Bumpeq:"\u224E",bumpeq:"\u224F",Cacute:"\u0106",cacute:"\u0107",Cap:"\u22D2",cap:"\u2229",capand:"\u2A44",capbrcup:"\u2A49",capcap:"\u2A4B",capcup:"\u2A47",capdot:"\u2A40",CapitalDifferentialD:"\u2145",caps:"\u2229\uFE00",caret:"\u2041",caron:"\u02C7",Cayleys:"\u212D",ccaps:"\u2A4D",Ccaron:"\u010C",ccaron:"\u010D",Ccedil:"\xC7",ccedil:"\xE7",Ccirc:"\u0108",ccirc:"\u0109",Cconint:"\u2230",ccups:"\u2A4C",ccupssm:"\u2A50",Cdot:"\u010A",cdot:"\u010B",cedil:"\xB8",Cedilla:"\xB8",cemptyv:"\u29B2",cent:"\xA2",CenterDot:"\xB7",centerdot:"\xB7",Cfr:"\u212D",cfr:"\u{1D520}",CHcy:"\u0427",chcy:"\u0447",check:"\u2713",checkmark:"\u2713",Chi:"\u03A7",chi:"\u03C7",cir:"\u25CB",circ:"\u02C6",circeq:"\u2257",circlearrowleft:"\u21BA",circlearrowright:"\u21BB",circledast:"\u229B",circledcirc:"\u229A",circleddash:"\u229D",CircleDot:"\u2299",circledR:"\xAE",circledS:"\u24C8",CircleMinus:"\u2296",CirclePlus:"\u2295",CircleTimes:"\u2297",cirE:"\u29C3",cire:"\u2257",cirfnint:"\u2A10",cirmid:"\u2AEF",cirscir:"\u29C2",ClockwiseContourIntegral:"\u2232",CloseCurlyDoubleQuote:"\u201D",CloseCurlyQuote:"\u2019",clubs:"\u2663",clubsuit:"\u2663",Colon:"\u2237",colon:":",Colone:"\u2A74",colone:"\u2254",coloneq:"\u2254",comma:",",commat:"@",comp:"\u2201",compfn:"\u2218",complement:"\u2201",complexes:"\u2102",cong:"\u2245",congdot:"\u2A6D",Congruent:"\u2261",Conint:"\u222F",conint:"\u222E",ContourIntegral:"\u222E",Copf:"\u2102",copf:"\u{1D554}",coprod:"\u2210",Coproduct:"\u2210",COPY:"\xA9",copy:"\xA9",copysr:"\u2117",CounterClockwiseContourIntegral:"\u2233",crarr:"\u21B5",Cross:"\u2A2F",cross:"\u2717",Cscr:"\u{1D49E}",cscr:"\u{1D4B8}",csub:"\u2ACF",csube:"\u2AD1",csup:"\u2AD0",csupe:"\u2AD2",ctdot:"\u22EF",cudarrl:"\u2938",cudarrr:"\u2935",cuepr:"\u22DE",cuesc:"\u22DF",cularr:"\u21B6",cularrp:"\u293D",Cup:"\u22D3",cup:"\u222A",cupbrcap:"\u2A48",CupCap:"\u224D",cupcap:"\u2A46",cupcup:"\u2A4A",cupdot:"\u228D",cupor:"\u2A45",cups:"\u222A\uFE00",curarr:"\u21B7",curarrm:"\u293C",curlyeqprec:"\u22DE",curlyeqsucc:"\u22DF",curlyvee:"\u22CE",curlywedge:"\u22CF",curren:"\xA4",curvearrowleft:"\u21B6",curvearrowright:"\u21B7",cuvee:"\u22CE",cuwed:"\u22CF",cwconint:"\u2232",cwint:"\u2231",cylcty:"\u232D",Dagger:"\u2021",dagger:"\u2020",daleth:"\u2138",Darr:"\u21A1",dArr:"\u21D3",darr:"\u2193",dash:"\u2010",Dashv:"\u2AE4",dashv:"\u22A3",dbkarow:"\u290F",dblac:"\u02DD",Dcaron:"\u010E",dcaron:"\u010F",Dcy:"\u0414",dcy:"\u0434",DD:"\u2145",dd:"\u2146",ddagger:"\u2021",ddarr:"\u21CA",DDotrahd:"\u2911",ddotseq:"\u2A77",deg:"\xB0",Del:"\u2207",Delta:"\u0394",delta:"\u03B4",demptyv:"\u29B1",dfisht:"\u297F",Dfr:"\u{1D507}",dfr:"\u{1D521}",dHar:"\u2965",dharl:"\u21C3",dharr:"\u21C2",DiacriticalAcute:"\xB4",DiacriticalDot:"\u02D9",DiacriticalDoubleAcute:"\u02DD",DiacriticalGrave:"`",DiacriticalTilde:"\u02DC",diam:"\u22C4",Diamond:"\u22C4",diamond:"\u22C4",diamondsuit:"\u2666",diams:"\u2666",die:"\xA8",DifferentialD:"\u2146",digamma:"\u03DD",disin:"\u22F2",div:"\xF7",divide:"\xF7",divideontimes:"\u22C7",divonx:"\u22C7",DJcy:"\u0402",djcy:"\u0452",dlcorn:"\u231E",dlcrop:"\u230D",dollar:"$",Dopf:"\u{1D53B}",dopf:"\u{1D555}",Dot:"\xA8",dot:"\u02D9",DotDot:"\u20DC",doteq:"\u2250",doteqdot:"\u2251",DotEqual:"\u2250",dotminus:"\u2238",dotplus:"\u2214",dotsquare:"\u22A1",doublebarwedge:"\u2306",DoubleContourIntegral:"\u222F",DoubleDot:"\xA8",DoubleDownArrow:"\u21D3",DoubleLeftArrow:"\u21D0",DoubleLeftRightArrow:"\u21D4",DoubleLeftTee:"\u2AE4",DoubleLongLeftArrow:"\u27F8",DoubleLongLeftRightArrow:"\u27FA",DoubleLongRightArrow:"\u27F9",DoubleRightArrow:"\u21D2",DoubleRightTee:"\u22A8",DoubleUpArrow:"\u21D1",DoubleUpDownArrow:"\u21D5",DoubleVerticalBar:"\u2225",DownArrow:"\u2193",Downarrow:"\u21D3",downarrow:"\u2193",DownArrowBar:"\u2913",DownArrowUpArrow:"\u21F5",DownBreve:"\u0311",downdownarrows:"\u21CA",downharpoonleft:"\u21C3",downharpoonright:"\u21C2",DownLeftRightVector:"\u2950",DownLeftTeeVector:"\u295E",DownLeftVector:"\u21BD",DownLeftVectorBar:"\u2956",DownRightTeeVector:"\u295F",DownRightVector:"\u21C1",DownRightVectorBar:"\u2957",DownTee:"\u22A4",DownTeeArrow:"\u21A7",drbkarow:"\u2910",drcorn:"\u231F",drcrop:"\u230C",Dscr:"\u{1D49F}",dscr:"\u{1D4B9}",DScy:"\u0405",dscy:"\u0455",dsol:"\u29F6",Dstrok:"\u0110",dstrok:"\u0111",dtdot:"\u22F1",dtri:"\u25BF",dtrif:"\u25BE",duarr:"\u21F5",duhar:"\u296F",dwangle:"\u29A6",DZcy:"\u040F",dzcy:"\u045F",dzigrarr:"\u27FF",Eacute:"\xC9",eacute:"\xE9",easter:"\u2A6E",Ecaron:"\u011A",ecaron:"\u011B",ecir:"\u2256",Ecirc:"\xCA",ecirc:"\xEA",ecolon:"\u2255",Ecy:"\u042D",ecy:"\u044D",eDDot:"\u2A77",Edot:"\u0116",eDot:"\u2251",edot:"\u0117",ee:"\u2147",efDot:"\u2252",Efr:"\u{1D508}",efr:"\u{1D522}",eg:"\u2A9A",Egrave:"\xC8",egrave:"\xE8",egs:"\u2A96",egsdot:"\u2A98",el:"\u2A99",Element:"\u2208",elinters:"\u23E7",ell:"\u2113",els:"\u2A95",elsdot:"\u2A97",Emacr:"\u0112",emacr:"\u0113",empty:"\u2205",emptyset:"\u2205",EmptySmallSquare:"\u25FB",emptyv:"\u2205",EmptyVerySmallSquare:"\u25AB",emsp:"\u2003",emsp13:"\u2004",emsp14:"\u2005",ENG:"\u014A",eng:"\u014B",ensp:"\u2002",Eogon:"\u0118",eogon:"\u0119",Eopf:"\u{1D53C}",eopf:"\u{1D556}",epar:"\u22D5",eparsl:"\u29E3",eplus:"\u2A71",epsi:"\u03B5",Epsilon:"\u0395",epsilon:"\u03B5",epsiv:"\u03F5",eqcirc:"\u2256",eqcolon:"\u2255",eqsim:"\u2242",eqslantgtr:"\u2A96",eqslantless:"\u2A95",Equal:"\u2A75",equals:"=",EqualTilde:"\u2242",equest:"\u225F",Equilibrium:"\u21CC",equiv:"\u2261",equivDD:"\u2A78",eqvparsl:"\u29E5",erarr:"\u2971",erDot:"\u2253",Escr:"\u2130",escr:"\u212F",esdot:"\u2250",Esim:"\u2A73",esim:"\u2242",Eta:"\u0397",eta:"\u03B7",ETH:"\xD0",eth:"\xF0",Euml:"\xCB",euml:"\xEB",euro:"\u20AC",excl:"!",exist:"\u2203",Exists:"\u2203",expectation:"\u2130",ExponentialE:"\u2147",exponentiale:"\u2147",fallingdotseq:"\u2252",Fcy:"\u0424",fcy:"\u0444",female:"\u2640",ffilig:"\uFB03",fflig:"\uFB00",ffllig:"\uFB04",Ffr:"\u{1D509}",ffr:"\u{1D523}",filig:"\uFB01",FilledSmallSquare:"\u25FC",FilledVerySmallSquare:"\u25AA",fjlig:"fj",flat:"\u266D",fllig:"\uFB02",fltns:"\u25B1",fnof:"\u0192",Fopf:"\u{1D53D}",fopf:"\u{1D557}",ForAll:"\u2200",forall:"\u2200",fork:"\u22D4",forkv:"\u2AD9",Fouriertrf:"\u2131",fpartint:"\u2A0D",frac12:"\xBD",frac13:"\u2153",frac14:"\xBC",frac15:"\u2155",frac16:"\u2159",frac18:"\u215B",frac23:"\u2154",frac25:"\u2156",frac34:"\xBE",frac35:"\u2157",frac38:"\u215C",frac45:"\u2158",frac56:"\u215A",frac58:"\u215D",frac78:"\u215E",frasl:"\u2044",frown:"\u2322",Fscr:"\u2131",fscr:"\u{1D4BB}",gacute:"\u01F5",Gamma:"\u0393",gamma:"\u03B3",Gammad:"\u03DC",gammad:"\u03DD",gap:"\u2A86",Gbreve:"\u011E",gbreve:"\u011F",Gcedil:"\u0122",Gcirc:"\u011C",gcirc:"\u011D",Gcy:"\u0413",gcy:"\u0433",Gdot:"\u0120",gdot:"\u0121",gE:"\u2267",ge:"\u2265",gEl:"\u2A8C",gel:"\u22DB",geq:"\u2265",geqq:"\u2267",geqslant:"\u2A7E",ges:"\u2A7E",gescc:"\u2AA9",gesdot:"\u2A80",gesdoto:"\u2A82",gesdotol:"\u2A84",gesl:"\u22DB\uFE00",gesles:"\u2A94",Gfr:"\u{1D50A}",gfr:"\u{1D524}",Gg:"\u22D9",gg:"\u226B",ggg:"\u22D9",gimel:"\u2137",GJcy:"\u0403",gjcy:"\u0453",gl:"\u2277",gla:"\u2AA5",glE:"\u2A92",glj:"\u2AA4",gnap:"\u2A8A",gnapprox:"\u2A8A",gnE:"\u2269",gne:"\u2A88",gneq:"\u2A88",gneqq:"\u2269",gnsim:"\u22E7",Gopf:"\u{1D53E}",gopf:"\u{1D558}",grave:"`",GreaterEqual:"\u2265",GreaterEqualLess:"\u22DB",GreaterFullEqual:"\u2267",GreaterGreater:"\u2AA2",GreaterLess:"\u2277",GreaterSlantEqual:"\u2A7E",GreaterTilde:"\u2273",Gscr:"\u{1D4A2}",gscr:"\u210A",gsim:"\u2273",gsime:"\u2A8E",gsiml:"\u2A90",Gt:"\u226B",GT:">",gt:">",gtcc:"\u2AA7",gtcir:"\u2A7A",gtdot:"\u22D7",gtlPar:"\u2995",gtquest:"\u2A7C",gtrapprox:"\u2A86",gtrarr:"\u2978",gtrdot:"\u22D7",gtreqless:"\u22DB",gtreqqless:"\u2A8C",gtrless:"\u2277",gtrsim:"\u2273",gvertneqq:"\u2269\uFE00",gvnE:"\u2269\uFE00",Hacek:"\u02C7",hairsp:"\u200A",half:"\xBD",hamilt:"\u210B",HARDcy:"\u042A",hardcy:"\u044A",hArr:"\u21D4",harr:"\u2194",harrcir:"\u2948",harrw:"\u21AD",Hat:"^",hbar:"\u210F",Hcirc:"\u0124",hcirc:"\u0125",hearts:"\u2665",heartsuit:"\u2665",hellip:"\u2026",hercon:"\u22B9",Hfr:"\u210C",hfr:"\u{1D525}",HilbertSpace:"\u210B",hksearow:"\u2925",hkswarow:"\u2926",hoarr:"\u21FF",homtht:"\u223B",hookleftarrow:"\u21A9",hookrightarrow:"\u21AA",Hopf:"\u210D",hopf:"\u{1D559}",horbar:"\u2015",HorizontalLine:"\u2500",Hscr:"\u210B",hscr:"\u{1D4BD}",hslash:"\u210F",Hstrok:"\u0126",hstrok:"\u0127",HumpDownHump:"\u224E",HumpEqual:"\u224F",hybull:"\u2043",hyphen:"\u2010",Iacute:"\xCD",iacute:"\xED",ic:"\u2063",Icirc:"\xCE",icirc:"\xEE",Icy:"\u0418",icy:"\u0438",Idot:"\u0130",IEcy:"\u0415",iecy:"\u0435",iexcl:"\xA1",iff:"\u21D4",Ifr:"\u2111",ifr:"\u{1D526}",Igrave:"\xCC",igrave:"\xEC",ii:"\u2148",iiiint:"\u2A0C",iiint:"\u222D",iinfin:"\u29DC",iiota:"\u2129",IJlig:"\u0132",ijlig:"\u0133",Im:"\u2111",Imacr:"\u012A",imacr:"\u012B",image:"\u2111",ImaginaryI:"\u2148",imagline:"\u2110",imagpart:"\u2111",imath:"\u0131",imof:"\u22B7",imped:"\u01B5",Implies:"\u21D2",in:"\u2208",incare:"\u2105",infin:"\u221E",infintie:"\u29DD",inodot:"\u0131",Int:"\u222C",int:"\u222B",intcal:"\u22BA",integers:"\u2124",Integral:"\u222B",intercal:"\u22BA",Intersection:"\u22C2",intlarhk:"\u2A17",intprod:"\u2A3C",InvisibleComma:"\u2063",InvisibleTimes:"\u2062",IOcy:"\u0401",iocy:"\u0451",Iogon:"\u012E",iogon:"\u012F",Iopf:"\u{1D540}",iopf:"\u{1D55A}",Iota:"\u0399",iota:"\u03B9",iprod:"\u2A3C",iquest:"\xBF",Iscr:"\u2110",iscr:"\u{1D4BE}",isin:"\u2208",isindot:"\u22F5",isinE:"\u22F9",isins:"\u22F4",isinsv:"\u22F3",isinv:"\u2208",it:"\u2062",Itilde:"\u0128",itilde:"\u0129",Iukcy:"\u0406",iukcy:"\u0456",Iuml:"\xCF",iuml:"\xEF",Jcirc:"\u0134",jcirc:"\u0135",Jcy:"\u0419",jcy:"\u0439",Jfr:"\u{1D50D}",jfr:"\u{1D527}",jmath:"\u0237",Jopf:"\u{1D541}",jopf:"\u{1D55B}",Jscr:"\u{1D4A5}",jscr:"\u{1D4BF}",Jsercy:"\u0408",jsercy:"\u0458",Jukcy:"\u0404",jukcy:"\u0454",Kappa:"\u039A",kappa:"\u03BA",kappav:"\u03F0",Kcedil:"\u0136",kcedil:"\u0137",Kcy:"\u041A",kcy:"\u043A",Kfr:"\u{1D50E}",kfr:"\u{1D528}",kgreen:"\u0138",KHcy:"\u0425",khcy:"\u0445",KJcy:"\u040C",kjcy:"\u045C",Kopf:"\u{1D542}",kopf:"\u{1D55C}",Kscr:"\u{1D4A6}",kscr:"\u{1D4C0}",lAarr:"\u21DA",Lacute:"\u0139",lacute:"\u013A",laemptyv:"\u29B4",lagran:"\u2112",Lambda:"\u039B",lambda:"\u03BB",Lang:"\u27EA",lang:"\u27E8",langd:"\u2991",langle:"\u27E8",lap:"\u2A85",Laplacetrf:"\u2112",laquo:"\xAB",Larr:"\u219E",lArr:"\u21D0",larr:"\u2190",larrb:"\u21E4",larrbfs:"\u291F",larrfs:"\u291D",larrhk:"\u21A9",larrlp:"\u21AB",larrpl:"\u2939",larrsim:"\u2973",larrtl:"\u21A2",lat:"\u2AAB",lAtail:"\u291B",latail:"\u2919",late:"\u2AAD",lates:"\u2AAD\uFE00",lBarr:"\u290E",lbarr:"\u290C",lbbrk:"\u2772",lbrace:"{",lbrack:"[",lbrke:"\u298B",lbrksld:"\u298F",lbrkslu:"\u298D",Lcaron:"\u013D",lcaron:"\u013E",Lcedil:"\u013B",lcedil:"\u013C",lceil:"\u2308",lcub:"{",Lcy:"\u041B",lcy:"\u043B",ldca:"\u2936",ldquo:"\u201C",ldquor:"\u201E",ldrdhar:"\u2967",ldrushar:"\u294B",ldsh:"\u21B2",lE:"\u2266",le:"\u2264",LeftAngleBracket:"\u27E8",LeftArrow:"\u2190",Leftarrow:"\u21D0",leftarrow:"\u2190",LeftArrowBar:"\u21E4",LeftArrowRightArrow:"\u21C6",leftarrowtail:"\u21A2",LeftCeiling:"\u2308",LeftDoubleBracket:"\u27E6",LeftDownTeeVector:"\u2961",LeftDownVector:"\u21C3",LeftDownVectorBar:"\u2959",LeftFloor:"\u230A",leftharpoondown:"\u21BD",leftharpoonup:"\u21BC",leftleftarrows:"\u21C7",LeftRightArrow:"\u2194",Leftrightarrow:"\u21D4",leftrightarrow:"\u2194",leftrightarrows:"\u21C6",leftrightharpoons:"\u21CB",leftrightsquigarrow:"\u21AD",LeftRightVector:"\u294E",LeftTee:"\u22A3",LeftTeeArrow:"\u21A4",LeftTeeVector:"\u295A",leftthreetimes:"\u22CB",LeftTriangle:"\u22B2",LeftTriangleBar:"\u29CF",LeftTriangleEqual:"\u22B4",LeftUpDownVector:"\u2951",LeftUpTeeVector:"\u2960",LeftUpVector:"\u21BF",LeftUpVectorBar:"\u2958",LeftVector:"\u21BC",LeftVectorBar:"\u2952",lEg:"\u2A8B",leg:"\u22DA",leq:"\u2264",leqq:"\u2266",leqslant:"\u2A7D",les:"\u2A7D",lescc:"\u2AA8",lesdot:"\u2A7F",lesdoto:"\u2A81",lesdotor:"\u2A83",lesg:"\u22DA\uFE00",lesges:"\u2A93",lessapprox:"\u2A85",lessdot:"\u22D6",lesseqgtr:"\u22DA",lesseqqgtr:"\u2A8B",LessEqualGreater:"\u22DA",LessFullEqual:"\u2266",LessGreater:"\u2276",lessgtr:"\u2276",LessLess:"\u2AA1",lesssim:"\u2272",LessSlantEqual:"\u2A7D",LessTilde:"\u2272",lfisht:"\u297C",lfloor:"\u230A",Lfr:"\u{1D50F}",lfr:"\u{1D529}",lg:"\u2276",lgE:"\u2A91",lHar:"\u2962",lhard:"\u21BD",lharu:"\u21BC",lharul:"\u296A",lhblk:"\u2584",LJcy:"\u0409",ljcy:"\u0459",Ll:"\u22D8",ll:"\u226A",llarr:"\u21C7",llcorner:"\u231E",Lleftarrow:"\u21DA",llhard:"\u296B",lltri:"\u25FA",Lmidot:"\u013F",lmidot:"\u0140",lmoust:"\u23B0",lmoustache:"\u23B0",lnap:"\u2A89",lnapprox:"\u2A89",lnE:"\u2268",lne:"\u2A87",lneq:"\u2A87",lneqq:"\u2268",lnsim:"\u22E6",loang:"\u27EC",loarr:"\u21FD",lobrk:"\u27E6",LongLeftArrow:"\u27F5",Longleftarrow:"\u27F8",longleftarrow:"\u27F5",LongLeftRightArrow:"\u27F7",Longleftrightarrow:"\u27FA",longleftrightarrow:"\u27F7",longmapsto:"\u27FC",LongRightArrow:"\u27F6",Longrightarrow:"\u27F9",longrightarrow:"\u27F6",looparrowleft:"\u21AB",looparrowright:"\u21AC",lopar:"\u2985",Lopf:"\u{1D543}",lopf:"\u{1D55D}",loplus:"\u2A2D",lotimes:"\u2A34",lowast:"\u2217",lowbar:"_",LowerLeftArrow:"\u2199",LowerRightArrow:"\u2198",loz:"\u25CA",lozenge:"\u25CA",lozf:"\u29EB",lpar:"(",lparlt:"\u2993",lrarr:"\u21C6",lrcorner:"\u231F",lrhar:"\u21CB",lrhard:"\u296D",lrm:"\u200E",lrtri:"\u22BF",lsaquo:"\u2039",Lscr:"\u2112",lscr:"\u{1D4C1}",Lsh:"\u21B0",lsh:"\u21B0",lsim:"\u2272",lsime:"\u2A8D",lsimg:"\u2A8F",lsqb:"[",lsquo:"\u2018",lsquor:"\u201A",Lstrok:"\u0141",lstrok:"\u0142",Lt:"\u226A",LT:"<",lt:"<",ltcc:"\u2AA6",ltcir:"\u2A79",ltdot:"\u22D6",lthree:"\u22CB",ltimes:"\u22C9",ltlarr:"\u2976",ltquest:"\u2A7B",ltri:"\u25C3",ltrie:"\u22B4",ltrif:"\u25C2",ltrPar:"\u2996",lurdshar:"\u294A",luruhar:"\u2966",lvertneqq:"\u2268\uFE00",lvnE:"\u2268\uFE00",macr:"\xAF",male:"\u2642",malt:"\u2720",maltese:"\u2720",Map:"\u2905",map:"\u21A6",mapsto:"\u21A6",mapstodown:"\u21A7",mapstoleft:"\u21A4",mapstoup:"\u21A5",marker:"\u25AE",mcomma:"\u2A29",Mcy:"\u041C",mcy:"\u043C",mdash:"\u2014",mDDot:"\u223A",measuredangle:"\u2221",MediumSpace:"\u205F",Mellintrf:"\u2133",Mfr:"\u{1D510}",mfr:"\u{1D52A}",mho:"\u2127",micro:"\xB5",mid:"\u2223",midast:"*",midcir:"\u2AF0",middot:"\xB7",minus:"\u2212",minusb:"\u229F",minusd:"\u2238",minusdu:"\u2A2A",MinusPlus:"\u2213",mlcp:"\u2ADB",mldr:"\u2026",mnplus:"\u2213",models:"\u22A7",Mopf:"\u{1D544}",mopf:"\u{1D55E}",mp:"\u2213",Mscr:"\u2133",mscr:"\u{1D4C2}",mstpos:"\u223E",Mu:"\u039C",mu:"\u03BC",multimap:"\u22B8",mumap:"\u22B8",nabla:"\u2207",Nacute:"\u0143",nacute:"\u0144",nang:"\u2220\u20D2",nap:"\u2249",napE:"\u2A70\u0338",napid:"\u224B\u0338",napos:"\u0149",napprox:"\u2249",natur:"\u266E",natural:"\u266E",naturals:"\u2115",nbsp:"\xA0",nbump:"\u224E\u0338",nbumpe:"\u224F\u0338",ncap:"\u2A43",Ncaron:"\u0147",ncaron:"\u0148",Ncedil:"\u0145",ncedil:"\u0146",ncong:"\u2247",ncongdot:"\u2A6D\u0338",ncup:"\u2A42",Ncy:"\u041D",ncy:"\u043D",ndash:"\u2013",ne:"\u2260",nearhk:"\u2924",neArr:"\u21D7",nearr:"\u2197",nearrow:"\u2197",nedot:"\u2250\u0338",NegativeMediumSpace:"\u200B",NegativeThickSpace:"\u200B",NegativeThinSpace:"\u200B",NegativeVeryThinSpace:"\u200B",nequiv:"\u2262",nesear:"\u2928",nesim:"\u2242\u0338",NestedGreaterGreater:"\u226B",NestedLessLess:"\u226A",NewLine:`
`,nexist:"\u2204",nexists:"\u2204",Nfr:"\u{1D511}",nfr:"\u{1D52B}",ngE:"\u2267\u0338",nge:"\u2271",ngeq:"\u2271",ngeqq:"\u2267\u0338",ngeqslant:"\u2A7E\u0338",nges:"\u2A7E\u0338",nGg:"\u22D9\u0338",ngsim:"\u2275",nGt:"\u226B\u20D2",ngt:"\u226F",ngtr:"\u226F",nGtv:"\u226B\u0338",nhArr:"\u21CE",nharr:"\u21AE",nhpar:"\u2AF2",ni:"\u220B",nis:"\u22FC",nisd:"\u22FA",niv:"\u220B",NJcy:"\u040A",njcy:"\u045A",nlArr:"\u21CD",nlarr:"\u219A",nldr:"\u2025",nlE:"\u2266\u0338",nle:"\u2270",nLeftarrow:"\u21CD",nleftarrow:"\u219A",nLeftrightarrow:"\u21CE",nleftrightarrow:"\u21AE",nleq:"\u2270",nleqq:"\u2266\u0338",nleqslant:"\u2A7D\u0338",nles:"\u2A7D\u0338",nless:"\u226E",nLl:"\u22D8\u0338",nlsim:"\u2274",nLt:"\u226A\u20D2",nlt:"\u226E",nltri:"\u22EA",nltrie:"\u22EC",nLtv:"\u226A\u0338",nmid:"\u2224",NoBreak:"\u2060",NonBreakingSpace:"\xA0",Nopf:"\u2115",nopf:"\u{1D55F}",Not:"\u2AEC",not:"\xAC",NotCongruent:"\u2262",NotCupCap:"\u226D",NotDoubleVerticalBar:"\u2226",NotElement:"\u2209",NotEqual:"\u2260",NotEqualTilde:"\u2242\u0338",NotExists:"\u2204",NotGreater:"\u226F",NotGreaterEqual:"\u2271",NotGreaterFullEqual:"\u2267\u0338",NotGreaterGreater:"\u226B\u0338",NotGreaterLess:"\u2279",NotGreaterSlantEqual:"\u2A7E\u0338",NotGreaterTilde:"\u2275",NotHumpDownHump:"\u224E\u0338",NotHumpEqual:"\u224F\u0338",notin:"\u2209",notindot:"\u22F5\u0338",notinE:"\u22F9\u0338",notinva:"\u2209",notinvb:"\u22F7",notinvc:"\u22F6",NotLeftTriangle:"\u22EA",NotLeftTriangleBar:"\u29CF\u0338",NotLeftTriangleEqual:"\u22EC",NotLess:"\u226E",NotLessEqual:"\u2270",NotLessGreater:"\u2278",NotLessLess:"\u226A\u0338",NotLessSlantEqual:"\u2A7D\u0338",NotLessTilde:"\u2274",NotNestedGreaterGreater:"\u2AA2\u0338",NotNestedLessLess:"\u2AA1\u0338",notni:"\u220C",notniva:"\u220C",notnivb:"\u22FE",notnivc:"\u22FD",NotPrecedes:"\u2280",NotPrecedesEqual:"\u2AAF\u0338",NotPrecedesSlantEqual:"\u22E0",NotReverseElement:"\u220C",NotRightTriangle:"\u22EB",NotRightTriangleBar:"\u29D0\u0338",NotRightTriangleEqual:"\u22ED",NotSquareSubset:"\u228F\u0338",NotSquareSubsetEqual:"\u22E2",NotSquareSuperset:"\u2290\u0338",NotSquareSupersetEqual:"\u22E3",NotSubset:"\u2282\u20D2",NotSubsetEqual:"\u2288",NotSucceeds:"\u2281",NotSucceedsEqual:"\u2AB0\u0338",NotSucceedsSlantEqual:"\u22E1",NotSucceedsTilde:"\u227F\u0338",NotSuperset:"\u2283\u20D2",NotSupersetEqual:"\u2289",NotTilde:"\u2241",NotTildeEqual:"\u2244",NotTildeFullEqual:"\u2247",NotTildeTilde:"\u2249",NotVerticalBar:"\u2224",npar:"\u2226",nparallel:"\u2226",nparsl:"\u2AFD\u20E5",npart:"\u2202\u0338",npolint:"\u2A14",npr:"\u2280",nprcue:"\u22E0",npre:"\u2AAF\u0338",nprec:"\u2280",npreceq:"\u2AAF\u0338",nrArr:"\u21CF",nrarr:"\u219B",nrarrc:"\u2933\u0338",nrarrw:"\u219D\u0338",nRightarrow:"\u21CF",nrightarrow:"\u219B",nrtri:"\u22EB",nrtrie:"\u22ED",nsc:"\u2281",nsccue:"\u22E1",nsce:"\u2AB0\u0338",Nscr:"\u{1D4A9}",nscr:"\u{1D4C3}",nshortmid:"\u2224",nshortparallel:"\u2226",nsim:"\u2241",nsime:"\u2244",nsimeq:"\u2244",nsmid:"\u2224",nspar:"\u2226",nsqsube:"\u22E2",nsqsupe:"\u22E3",nsub:"\u2284",nsubE:"\u2AC5\u0338",nsube:"\u2288",nsubset:"\u2282\u20D2",nsubseteq:"\u2288",nsubseteqq:"\u2AC5\u0338",nsucc:"\u2281",nsucceq:"\u2AB0\u0338",nsup:"\u2285",nsupE:"\u2AC6\u0338",nsupe:"\u2289",nsupset:"\u2283\u20D2",nsupseteq:"\u2289",nsupseteqq:"\u2AC6\u0338",ntgl:"\u2279",Ntilde:"\xD1",ntilde:"\xF1",ntlg:"\u2278",ntriangleleft:"\u22EA",ntrianglelefteq:"\u22EC",ntriangleright:"\u22EB",ntrianglerighteq:"\u22ED",Nu:"\u039D",nu:"\u03BD",num:"#",numero:"\u2116",numsp:"\u2007",nvap:"\u224D\u20D2",nVDash:"\u22AF",nVdash:"\u22AE",nvDash:"\u22AD",nvdash:"\u22AC",nvge:"\u2265\u20D2",nvgt:">\u20D2",nvHarr:"\u2904",nvinfin:"\u29DE",nvlArr:"\u2902",nvle:"\u2264\u20D2",nvlt:"<\u20D2",nvltrie:"\u22B4\u20D2",nvrArr:"\u2903",nvrtrie:"\u22B5\u20D2",nvsim:"\u223C\u20D2",nwarhk:"\u2923",nwArr:"\u21D6",nwarr:"\u2196",nwarrow:"\u2196",nwnear:"\u2927",Oacute:"\xD3",oacute:"\xF3",oast:"\u229B",ocir:"\u229A",Ocirc:"\xD4",ocirc:"\xF4",Ocy:"\u041E",ocy:"\u043E",odash:"\u229D",Odblac:"\u0150",odblac:"\u0151",odiv:"\u2A38",odot:"\u2299",odsold:"\u29BC",OElig:"\u0152",oelig:"\u0153",ofcir:"\u29BF",Ofr:"\u{1D512}",ofr:"\u{1D52C}",ogon:"\u02DB",Ograve:"\xD2",ograve:"\xF2",ogt:"\u29C1",ohbar:"\u29B5",ohm:"\u03A9",oint:"\u222E",olarr:"\u21BA",olcir:"\u29BE",olcross:"\u29BB",oline:"\u203E",olt:"\u29C0",Omacr:"\u014C",omacr:"\u014D",Omega:"\u03A9",omega:"\u03C9",Omicron:"\u039F",omicron:"\u03BF",omid:"\u29B6",ominus:"\u2296",Oopf:"\u{1D546}",oopf:"\u{1D560}",opar:"\u29B7",OpenCurlyDoubleQuote:"\u201C",OpenCurlyQuote:"\u2018",operp:"\u29B9",oplus:"\u2295",Or:"\u2A54",or:"\u2228",orarr:"\u21BB",ord:"\u2A5D",order:"\u2134",orderof:"\u2134",ordf:"\xAA",ordm:"\xBA",origof:"\u22B6",oror:"\u2A56",orslope:"\u2A57",orv:"\u2A5B",oS:"\u24C8",Oscr:"\u{1D4AA}",oscr:"\u2134",Oslash:"\xD8",oslash:"\xF8",osol:"\u2298",Otilde:"\xD5",otilde:"\xF5",Otimes:"\u2A37",otimes:"\u2297",otimesas:"\u2A36",Ouml:"\xD6",ouml:"\xF6",ovbar:"\u233D",OverBar:"\u203E",OverBrace:"\u23DE",OverBracket:"\u23B4",OverParenthesis:"\u23DC",par:"\u2225",para:"\xB6",parallel:"\u2225",parsim:"\u2AF3",parsl:"\u2AFD",part:"\u2202",PartialD:"\u2202",Pcy:"\u041F",pcy:"\u043F",percnt:"%",period:".",permil:"\u2030",perp:"\u22A5",pertenk:"\u2031",Pfr:"\u{1D513}",pfr:"\u{1D52D}",Phi:"\u03A6",phi:"\u03C6",phiv:"\u03D5",phmmat:"\u2133",phone:"\u260E",Pi:"\u03A0",pi:"\u03C0",pitchfork:"\u22D4",piv:"\u03D6",planck:"\u210F",planckh:"\u210E",plankv:"\u210F",plus:"+",plusacir:"\u2A23",plusb:"\u229E",pluscir:"\u2A22",plusdo:"\u2214",plusdu:"\u2A25",pluse:"\u2A72",PlusMinus:"\xB1",plusmn:"\xB1",plussim:"\u2A26",plustwo:"\u2A27",pm:"\xB1",Poincareplane:"\u210C",pointint:"\u2A15",Popf:"\u2119",popf:"\u{1D561}",pound:"\xA3",Pr:"\u2ABB",pr:"\u227A",prap:"\u2AB7",prcue:"\u227C",prE:"\u2AB3",pre:"\u2AAF",prec:"\u227A",precapprox:"\u2AB7",preccurlyeq:"\u227C",Precedes:"\u227A",PrecedesEqual:"\u2AAF",PrecedesSlantEqual:"\u227C",PrecedesTilde:"\u227E",preceq:"\u2AAF",precnapprox:"\u2AB9",precneqq:"\u2AB5",precnsim:"\u22E8",precsim:"\u227E",Prime:"\u2033",prime:"\u2032",primes:"\u2119",prnap:"\u2AB9",prnE:"\u2AB5",prnsim:"\u22E8",prod:"\u220F",Product:"\u220F",profalar:"\u232E",profline:"\u2312",profsurf:"\u2313",prop:"\u221D",Proportion:"\u2237",Proportional:"\u221D",propto:"\u221D",prsim:"\u227E",prurel:"\u22B0",Pscr:"\u{1D4AB}",pscr:"\u{1D4C5}",Psi:"\u03A8",psi:"\u03C8",puncsp:"\u2008",Qfr:"\u{1D514}",qfr:"\u{1D52E}",qint:"\u2A0C",Qopf:"\u211A",qopf:"\u{1D562}",qprime:"\u2057",Qscr:"\u{1D4AC}",qscr:"\u{1D4C6}",quaternions:"\u210D",quatint:"\u2A16",quest:"?",questeq:"\u225F",QUOT:'"',quot:'"',rAarr:"\u21DB",race:"\u223D\u0331",Racute:"\u0154",racute:"\u0155",radic:"\u221A",raemptyv:"\u29B3",Rang:"\u27EB",rang:"\u27E9",rangd:"\u2992",range:"\u29A5",rangle:"\u27E9",raquo:"\xBB",Rarr:"\u21A0",rArr:"\u21D2",rarr:"\u2192",rarrap:"\u2975",rarrb:"\u21E5",rarrbfs:"\u2920",rarrc:"\u2933",rarrfs:"\u291E",rarrhk:"\u21AA",rarrlp:"\u21AC",rarrpl:"\u2945",rarrsim:"\u2974",Rarrtl:"\u2916",rarrtl:"\u21A3",rarrw:"\u219D",rAtail:"\u291C",ratail:"\u291A",ratio:"\u2236",rationals:"\u211A",RBarr:"\u2910",rBarr:"\u290F",rbarr:"\u290D",rbbrk:"\u2773",rbrace:"}",rbrack:"]",rbrke:"\u298C",rbrksld:"\u298E",rbrkslu:"\u2990",Rcaron:"\u0158",rcaron:"\u0159",Rcedil:"\u0156",rcedil:"\u0157",rceil:"\u2309",rcub:"}",Rcy:"\u0420",rcy:"\u0440",rdca:"\u2937",rdldhar:"\u2969",rdquo:"\u201D",rdquor:"\u201D",rdsh:"\u21B3",Re:"\u211C",real:"\u211C",realine:"\u211B",realpart:"\u211C",reals:"\u211D",rect:"\u25AD",REG:"\xAE",reg:"\xAE",ReverseElement:"\u220B",ReverseEquilibrium:"\u21CB",ReverseUpEquilibrium:"\u296F",rfisht:"\u297D",rfloor:"\u230B",Rfr:"\u211C",rfr:"\u{1D52F}",rHar:"\u2964",rhard:"\u21C1",rharu:"\u21C0",rharul:"\u296C",Rho:"\u03A1",rho:"\u03C1",rhov:"\u03F1",RightAngleBracket:"\u27E9",RightArrow:"\u2192",Rightarrow:"\u21D2",rightarrow:"\u2192",RightArrowBar:"\u21E5",RightArrowLeftArrow:"\u21C4",rightarrowtail:"\u21A3",RightCeiling:"\u2309",RightDoubleBracket:"\u27E7",RightDownTeeVector:"\u295D",RightDownVector:"\u21C2",RightDownVectorBar:"\u2955",RightFloor:"\u230B",rightharpoondown:"\u21C1",rightharpoonup:"\u21C0",rightleftarrows:"\u21C4",rightleftharpoons:"\u21CC",rightrightarrows:"\u21C9",rightsquigarrow:"\u219D",RightTee:"\u22A2",RightTeeArrow:"\u21A6",RightTeeVector:"\u295B",rightthreetimes:"\u22CC",RightTriangle:"\u22B3",RightTriangleBar:"\u29D0",RightTriangleEqual:"\u22B5",RightUpDownVector:"\u294F",RightUpTeeVector:"\u295C",RightUpVector:"\u21BE",RightUpVectorBar:"\u2954",RightVector:"\u21C0",RightVectorBar:"\u2953",ring:"\u02DA",risingdotseq:"\u2253",rlarr:"\u21C4",rlhar:"\u21CC",rlm:"\u200F",rmoust:"\u23B1",rmoustache:"\u23B1",rnmid:"\u2AEE",roang:"\u27ED",roarr:"\u21FE",robrk:"\u27E7",ropar:"\u2986",Ropf:"\u211D",ropf:"\u{1D563}",roplus:"\u2A2E",rotimes:"\u2A35",RoundImplies:"\u2970",rpar:")",rpargt:"\u2994",rppolint:"\u2A12",rrarr:"\u21C9",Rrightarrow:"\u21DB",rsaquo:"\u203A",Rscr:"\u211B",rscr:"\u{1D4C7}",Rsh:"\u21B1",rsh:"\u21B1",rsqb:"]",rsquo:"\u2019",rsquor:"\u2019",rthree:"\u22CC",rtimes:"\u22CA",rtri:"\u25B9",rtrie:"\u22B5",rtrif:"\u25B8",rtriltri:"\u29CE",RuleDelayed:"\u29F4",ruluhar:"\u2968",rx:"\u211E",Sacute:"\u015A",sacute:"\u015B",sbquo:"\u201A",Sc:"\u2ABC",sc:"\u227B",scap:"\u2AB8",Scaron:"\u0160",scaron:"\u0161",sccue:"\u227D",scE:"\u2AB4",sce:"\u2AB0",Scedil:"\u015E",scedil:"\u015F",Scirc:"\u015C",scirc:"\u015D",scnap:"\u2ABA",scnE:"\u2AB6",scnsim:"\u22E9",scpolint:"\u2A13",scsim:"\u227F",Scy:"\u0421",scy:"\u0441",sdot:"\u22C5",sdotb:"\u22A1",sdote:"\u2A66",searhk:"\u2925",seArr:"\u21D8",searr:"\u2198",searrow:"\u2198",sect:"\xA7",semi:";",seswar:"\u2929",setminus:"\u2216",setmn:"\u2216",sext:"\u2736",Sfr:"\u{1D516}",sfr:"\u{1D530}",sfrown:"\u2322",sharp:"\u266F",SHCHcy:"\u0429",shchcy:"\u0449",SHcy:"\u0428",shcy:"\u0448",ShortDownArrow:"\u2193",ShortLeftArrow:"\u2190",shortmid:"\u2223",shortparallel:"\u2225",ShortRightArrow:"\u2192",ShortUpArrow:"\u2191",shy:"\xAD",Sigma:"\u03A3",sigma:"\u03C3",sigmaf:"\u03C2",sigmav:"\u03C2",sim:"\u223C",simdot:"\u2A6A",sime:"\u2243",simeq:"\u2243",simg:"\u2A9E",simgE:"\u2AA0",siml:"\u2A9D",simlE:"\u2A9F",simne:"\u2246",simplus:"\u2A24",simrarr:"\u2972",slarr:"\u2190",SmallCircle:"\u2218",smallsetminus:"\u2216",smashp:"\u2A33",smeparsl:"\u29E4",smid:"\u2223",smile:"\u2323",smt:"\u2AAA",smte:"\u2AAC",smtes:"\u2AAC\uFE00",SOFTcy:"\u042C",softcy:"\u044C",sol:"/",solb:"\u29C4",solbar:"\u233F",Sopf:"\u{1D54A}",sopf:"\u{1D564}",spades:"\u2660",spadesuit:"\u2660",spar:"\u2225",sqcap:"\u2293",sqcaps:"\u2293\uFE00",sqcup:"\u2294",sqcups:"\u2294\uFE00",Sqrt:"\u221A",sqsub:"\u228F",sqsube:"\u2291",sqsubset:"\u228F",sqsubseteq:"\u2291",sqsup:"\u2290",sqsupe:"\u2292",sqsupset:"\u2290",sqsupseteq:"\u2292",squ:"\u25A1",Square:"\u25A1",square:"\u25A1",SquareIntersection:"\u2293",SquareSubset:"\u228F",SquareSubsetEqual:"\u2291",SquareSuperset:"\u2290",SquareSupersetEqual:"\u2292",SquareUnion:"\u2294",squarf:"\u25AA",squf:"\u25AA",srarr:"\u2192",Sscr:"\u{1D4AE}",sscr:"\u{1D4C8}",ssetmn:"\u2216",ssmile:"\u2323",sstarf:"\u22C6",Star:"\u22C6",star:"\u2606",starf:"\u2605",straightepsilon:"\u03F5",straightphi:"\u03D5",strns:"\xAF",Sub:"\u22D0",sub:"\u2282",subdot:"\u2ABD",subE:"\u2AC5",sube:"\u2286",subedot:"\u2AC3",submult:"\u2AC1",subnE:"\u2ACB",subne:"\u228A",subplus:"\u2ABF",subrarr:"\u2979",Subset:"\u22D0",subset:"\u2282",subseteq:"\u2286",subseteqq:"\u2AC5",SubsetEqual:"\u2286",subsetneq:"\u228A",subsetneqq:"\u2ACB",subsim:"\u2AC7",subsub:"\u2AD5",subsup:"\u2AD3",succ:"\u227B",succapprox:"\u2AB8",succcurlyeq:"\u227D",Succeeds:"\u227B",SucceedsEqual:"\u2AB0",SucceedsSlantEqual:"\u227D",SucceedsTilde:"\u227F",succeq:"\u2AB0",succnapprox:"\u2ABA",succneqq:"\u2AB6",succnsim:"\u22E9",succsim:"\u227F",SuchThat:"\u220B",Sum:"\u2211",sum:"\u2211",sung:"\u266A",Sup:"\u22D1",sup:"\u2283",sup1:"\xB9",sup2:"\xB2",sup3:"\xB3",supdot:"\u2ABE",supdsub:"\u2AD8",supE:"\u2AC6",supe:"\u2287",supedot:"\u2AC4",Superset:"\u2283",SupersetEqual:"\u2287",suphsol:"\u27C9",suphsub:"\u2AD7",suplarr:"\u297B",supmult:"\u2AC2",supnE:"\u2ACC",supne:"\u228B",supplus:"\u2AC0",Supset:"\u22D1",supset:"\u2283",supseteq:"\u2287",supseteqq:"\u2AC6",supsetneq:"\u228B",supsetneqq:"\u2ACC",supsim:"\u2AC8",supsub:"\u2AD4",supsup:"\u2AD6",swarhk:"\u2926",swArr:"\u21D9",swarr:"\u2199",swarrow:"\u2199",swnwar:"\u292A",szlig:"\xDF",Tab:"	",target:"\u2316",Tau:"\u03A4",tau:"\u03C4",tbrk:"\u23B4",Tcaron:"\u0164",tcaron:"\u0165",Tcedil:"\u0162",tcedil:"\u0163",Tcy:"\u0422",tcy:"\u0442",tdot:"\u20DB",telrec:"\u2315",Tfr:"\u{1D517}",tfr:"\u{1D531}",there4:"\u2234",Therefore:"\u2234",therefore:"\u2234",Theta:"\u0398",theta:"\u03B8",thetasym:"\u03D1",thetav:"\u03D1",thickapprox:"\u2248",thicksim:"\u223C",ThickSpace:"\u205F\u200A",thinsp:"\u2009",ThinSpace:"\u2009",thkap:"\u2248",thksim:"\u223C",THORN:"\xDE",thorn:"\xFE",Tilde:"\u223C",tilde:"\u02DC",TildeEqual:"\u2243",TildeFullEqual:"\u2245",TildeTilde:"\u2248",times:"\xD7",timesb:"\u22A0",timesbar:"\u2A31",timesd:"\u2A30",tint:"\u222D",toea:"\u2928",top:"\u22A4",topbot:"\u2336",topcir:"\u2AF1",Topf:"\u{1D54B}",topf:"\u{1D565}",topfork:"\u2ADA",tosa:"\u2929",tprime:"\u2034",TRADE:"\u2122",trade:"\u2122",triangle:"\u25B5",triangledown:"\u25BF",triangleleft:"\u25C3",trianglelefteq:"\u22B4",triangleq:"\u225C",triangleright:"\u25B9",trianglerighteq:"\u22B5",tridot:"\u25EC",trie:"\u225C",triminus:"\u2A3A",TripleDot:"\u20DB",triplus:"\u2A39",trisb:"\u29CD",tritime:"\u2A3B",trpezium:"\u23E2",Tscr:"\u{1D4AF}",tscr:"\u{1D4C9}",TScy:"\u0426",tscy:"\u0446",TSHcy:"\u040B",tshcy:"\u045B",Tstrok:"\u0166",tstrok:"\u0167",twixt:"\u226C",twoheadleftarrow:"\u219E",twoheadrightarrow:"\u21A0",Uacute:"\xDA",uacute:"\xFA",Uarr:"\u219F",uArr:"\u21D1",uarr:"\u2191",Uarrocir:"\u2949",Ubrcy:"\u040E",ubrcy:"\u045E",Ubreve:"\u016C",ubreve:"\u016D",Ucirc:"\xDB",ucirc:"\xFB",Ucy:"\u0423",ucy:"\u0443",udarr:"\u21C5",Udblac:"\u0170",udblac:"\u0171",udhar:"\u296E",ufisht:"\u297E",Ufr:"\u{1D518}",ufr:"\u{1D532}",Ugrave:"\xD9",ugrave:"\xF9",uHar:"\u2963",uharl:"\u21BF",uharr:"\u21BE",uhblk:"\u2580",ulcorn:"\u231C",ulcorner:"\u231C",ulcrop:"\u230F",ultri:"\u25F8",Umacr:"\u016A",umacr:"\u016B",uml:"\xA8",UnderBar:"_",UnderBrace:"\u23DF",UnderBracket:"\u23B5",UnderParenthesis:"\u23DD",Union:"\u22C3",UnionPlus:"\u228E",Uogon:"\u0172",uogon:"\u0173",Uopf:"\u{1D54C}",uopf:"\u{1D566}",UpArrow:"\u2191",Uparrow:"\u21D1",uparrow:"\u2191",UpArrowBar:"\u2912",UpArrowDownArrow:"\u21C5",UpDownArrow:"\u2195",Updownarrow:"\u21D5",updownarrow:"\u2195",UpEquilibrium:"\u296E",upharpoonleft:"\u21BF",upharpoonright:"\u21BE",uplus:"\u228E",UpperLeftArrow:"\u2196",UpperRightArrow:"\u2197",Upsi:"\u03D2",upsi:"\u03C5",upsih:"\u03D2",Upsilon:"\u03A5",upsilon:"\u03C5",UpTee:"\u22A5",UpTeeArrow:"\u21A5",upuparrows:"\u21C8",urcorn:"\u231D",urcorner:"\u231D",urcrop:"\u230E",Uring:"\u016E",uring:"\u016F",urtri:"\u25F9",Uscr:"\u{1D4B0}",uscr:"\u{1D4CA}",utdot:"\u22F0",Utilde:"\u0168",utilde:"\u0169",utri:"\u25B5",utrif:"\u25B4",uuarr:"\u21C8",Uuml:"\xDC",uuml:"\xFC",uwangle:"\u29A7",vangrt:"\u299C",varepsilon:"\u03F5",varkappa:"\u03F0",varnothing:"\u2205",varphi:"\u03D5",varpi:"\u03D6",varpropto:"\u221D",vArr:"\u21D5",varr:"\u2195",varrho:"\u03F1",varsigma:"\u03C2",varsubsetneq:"\u228A\uFE00",varsubsetneqq:"\u2ACB\uFE00",varsupsetneq:"\u228B\uFE00",varsupsetneqq:"\u2ACC\uFE00",vartheta:"\u03D1",vartriangleleft:"\u22B2",vartriangleright:"\u22B3",Vbar:"\u2AEB",vBar:"\u2AE8",vBarv:"\u2AE9",Vcy:"\u0412",vcy:"\u0432",VDash:"\u22AB",Vdash:"\u22A9",vDash:"\u22A8",vdash:"\u22A2",Vdashl:"\u2AE6",Vee:"\u22C1",vee:"\u2228",veebar:"\u22BB",veeeq:"\u225A",vellip:"\u22EE",Verbar:"\u2016",verbar:"|",Vert:"\u2016",vert:"|",VerticalBar:"\u2223",VerticalLine:"|",VerticalSeparator:"\u2758",VerticalTilde:"\u2240",VeryThinSpace:"\u200A",Vfr:"\u{1D519}",vfr:"\u{1D533}",vltri:"\u22B2",vnsub:"\u2282\u20D2",vnsup:"\u2283\u20D2",Vopf:"\u{1D54D}",vopf:"\u{1D567}",vprop:"\u221D",vrtri:"\u22B3",Vscr:"\u{1D4B1}",vscr:"\u{1D4CB}",vsubnE:"\u2ACB\uFE00",vsubne:"\u228A\uFE00",vsupnE:"\u2ACC\uFE00",vsupne:"\u228B\uFE00",Vvdash:"\u22AA",vzigzag:"\u299A",Wcirc:"\u0174",wcirc:"\u0175",wedbar:"\u2A5F",Wedge:"\u22C0",wedge:"\u2227",wedgeq:"\u2259",weierp:"\u2118",Wfr:"\u{1D51A}",wfr:"\u{1D534}",Wopf:"\u{1D54E}",wopf:"\u{1D568}",wp:"\u2118",wr:"\u2240",wreath:"\u2240",Wscr:"\u{1D4B2}",wscr:"\u{1D4CC}",xcap:"\u22C2",xcirc:"\u25EF",xcup:"\u22C3",xdtri:"\u25BD",Xfr:"\u{1D51B}",xfr:"\u{1D535}",xhArr:"\u27FA",xharr:"\u27F7",Xi:"\u039E",xi:"\u03BE",xlArr:"\u27F8",xlarr:"\u27F5",xmap:"\u27FC",xnis:"\u22FB",xodot:"\u2A00",Xopf:"\u{1D54F}",xopf:"\u{1D569}",xoplus:"\u2A01",xotime:"\u2A02",xrArr:"\u27F9",xrarr:"\u27F6",Xscr:"\u{1D4B3}",xscr:"\u{1D4CD}",xsqcup:"\u2A06",xuplus:"\u2A04",xutri:"\u25B3",xvee:"\u22C1",xwedge:"\u22C0",Yacute:"\xDD",yacute:"\xFD",YAcy:"\u042F",yacy:"\u044F",Ycirc:"\u0176",ycirc:"\u0177",Ycy:"\u042B",ycy:"\u044B",yen:"\xA5",Yfr:"\u{1D51C}",yfr:"\u{1D536}",YIcy:"\u0407",yicy:"\u0457",Yopf:"\u{1D550}",yopf:"\u{1D56A}",Yscr:"\u{1D4B4}",yscr:"\u{1D4CE}",YUcy:"\u042E",yucy:"\u044E",Yuml:"\u0178",yuml:"\xFF",Zacute:"\u0179",zacute:"\u017A",Zcaron:"\u017D",zcaron:"\u017E",Zcy:"\u0417",zcy:"\u0437",Zdot:"\u017B",zdot:"\u017C",zeetrf:"\u2128",ZeroWidthSpace:"\u200B",Zeta:"\u0396",zeta:"\u03B6",Zfr:"\u2128",zfr:"\u{1D537}",ZHcy:"\u0416",zhcy:"\u0436",zigrarr:"\u21DD",Zopf:"\u2124",zopf:"\u{1D56B}",Zscr:"\u{1D4B5}",zscr:"\u{1D4CF}",zwj:"\u200D",zwnj:"\u200C"});Jy.entityMap=Jy.HTML_ENTITIES});var _S=cr(uw=>{var e_=zy().NAMESPACE,sw=/[A-Z_a-z\xC0-\xD6\xD8-\xF6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,dS=new RegExp("[\\-\\.0-9"+sw.source.slice(1,-1)+"\\u00B7\\u0300-\\u036F\\u203F-\\u2040]"),pS=new RegExp("^"+sw.source+dS.source+"*(?::"+sw.source+dS.source+"*)?$"),Zy=0,jm=1,sy=2,Xy=3,uy=4,cy=5,Qy=6,v0=7;function fy(e,t){this.message=e,this.locator=t,Error.captureStackTrace&&Error.captureStackTrace(this,fy)}fy.prototype=new Error;fy.prototype.name=fy.name;function mS(){}mS.prototype={parse:function(e,t,r){var n=this.domBuilder;n.startDocument(),gS(t,t={}),H1(e,t,r,n,this.errorHandler),n.endDocument()}};function H1(e,t,r,n,i){function a(qe){if(qe>65535){qe-=65536;var Jr=55296+(qe>>10),Fe=56320+(qe&1023);return String.fromCharCode(Jr,Fe)}else return String.fromCharCode(qe)}function s(qe){var Jr=qe.slice(1,-1);return Object.hasOwnProperty.call(r,Jr)?r[Jr]:Jr.charAt(0)==="#"?a(parseInt(Jr.substr(1).replace("x","0x"))):(i.error("entity not found:"+qe),qe)}function f(qe){if(qe>W){var Jr=e.substring(W,qe).replace(/&#?\w+;/g,s);L&&h(W),n.characters(Jr,0,qe-W),W=qe}}function h(qe,Jr){for(;qe>=D&&(Jr=x.exec(e));)y=Jr.index,D=y+Jr[0].length,L.lineNumber++;L.columnNumber=qe-y+1}for(var y=0,D=0,x=/.*(?:\r\n?|\n)|.*$/g,L=n.locator,Y=[{currentNSMap:t}],ee={},W=0;;){try{var H=e.indexOf("<",W);if(H<0){if(!e.substr(W).match(/^\s*$/)){var X=n.doc,ue=X.createTextNode(e.substr(W));X.appendChild(ue),n.currentElement=ue}return}switch(H>W&&f(H),e.charAt(H+1)){case"/":var mt=e.indexOf(">",H+3),ce=e.substring(H+2,mt).replace(/[ \t\n\r]+$/g,""),he=Y.pop();mt<0?(ce=e.substring(H+2).replace(/[\s<].*/,""),i.error("end tag name: "+ce+" is not complete:"+he.tagName),mt=H+1+ce.length):ce.match(/\s</)&&(ce=ce.replace(/[\s<].*/,""),i.error("end tag name: "+ce+" maybe not complete"),mt=H+1+ce.length);var Ue=he.localNSMap,Le=he.tagName==ce,ve=Le||he.tagName&&he.tagName.toLowerCase()==ce.toLowerCase();if(ve){if(n.endElement(he.uri,he.localName,ce),Ue)for(var Pe in Ue)Object.prototype.hasOwnProperty.call(Ue,Pe)&&n.endPrefixMapping(Pe);Le||i.fatalError("end tag name: "+ce+" is not match the current start tagName:"+he.tagName)}else Y.push(he);mt++;break;case"?":L&&h(H),mt=Q1(e,H,n);break;case"!":L&&h(H),mt=X1(e,H,n,i);break;default:L&&h(H);var Te=new yS,Je=Y[Y.length-1].currentNSMap,mt=K1(e,H,Te,Je,s,i),Er=Te.length;if(!Te.closed&&Z1(e,mt,Te.tagName,ee)&&(Te.closed=!0,r.nbsp||i.warning("unclosed xml attribute")),L&&Er){for(var fr=hS(L,{}),Bt=0;Bt<Er;Bt++){var en=Te[Bt];h(en.offset),en.locator=hS(L,{})}n.locator=fr,vS(Te,n,Je)&&Y.push(Te),n.locator=L}else vS(Te,n,Je)&&Y.push(Te);e_.isHTML(Te.uri)&&!Te.closed?mt=J1(e,mt,Te.tagName,s,n):mt++}}catch(qe){if(qe instanceof fy)throw qe;i.error("element parse error: "+qe),mt=-1}mt>W?W=mt:f(Math.max(H,W)+1)}}function hS(e,t){return t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber,t}function K1(e,t,r,n,i,a){function s(Y,ee,W){r.attributeNames.hasOwnProperty(Y)&&a.fatalError("Attribute "+Y+" redefined"),r.addValue(Y,ee.replace(/[\t\n\r]/g," ").replace(/&#?\w+;/g,i),W)}for(var f,h,y=++t,D=Zy;;){var x=e.charAt(y);switch(x){case"=":if(D===jm)f=e.slice(t,y),D=Xy;else if(D===sy)D=Xy;else throw new Error("attribute equal must after attrName");break;case"'":case'"':if(D===Xy||D===jm)if(D===jm&&(a.warning('attribute value must after "="'),f=e.slice(t,y)),t=y+1,y=e.indexOf(x,t),y>0)h=e.slice(t,y),s(f,h,t-1),D=cy;else throw new Error("attribute value no end '"+x+"' match");else if(D==uy)h=e.slice(t,y),s(f,h,t),a.warning('attribute "'+f+'" missed start quot('+x+")!!"),t=y+1,D=cy;else throw new Error('attribute value must after "="');break;case"/":switch(D){case Zy:r.setTagName(e.slice(t,y));case cy:case Qy:case v0:D=v0,r.closed=!0;case uy:case jm:break;case sy:r.closed=!0;break;default:throw new Error("attribute invalid close char('/')")}break;case"":return a.error("unexpected end of input"),D==Zy&&r.setTagName(e.slice(t,y)),y;case">":switch(D){case Zy:r.setTagName(e.slice(t,y));case cy:case Qy:case v0:break;case uy:case jm:h=e.slice(t,y),h.slice(-1)==="/"&&(r.closed=!0,h=h.slice(0,-1));case sy:D===sy&&(h=f),D==uy?(a.warning('attribute "'+h+'" missed quot(")!'),s(f,h,t)):((!e_.isHTML(n[""])||!h.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+h+'" missed value!! "'+h+'" instead!!'),s(h,h,t));break;case Xy:throw new Error("attribute value missed!!")}return y;case"\x80":x=" ";default:if(x<=" ")switch(D){case Zy:r.setTagName(e.slice(t,y)),D=Qy;break;case jm:f=e.slice(t,y),D=sy;break;case uy:var h=e.slice(t,y);a.warning('attribute "'+h+'" missed quot(")!!'),s(f,h,t);case cy:D=Qy;break}else switch(D){case sy:var L=r.tagName;(!e_.isHTML(n[""])||!f.match(/^(?:disabled|checked|selected)$/i))&&a.warning('attribute "'+f+'" missed value!! "'+f+'" instead2!!'),s(f,f,t),t=y,D=jm;break;case cy:a.warning('attribute space is required"'+f+'"!!');case Qy:D=jm,t=y;break;case Xy:D=uy,t=y;break;case v0:throw new Error("elements closed character '/' and '>' must be connected to")}}y++}}function vS(e,t,r){for(var n=e.tagName,i=null,x=e.length;x--;){var a=e[x],s=a.qName,f=a.value,L=s.indexOf(":");if(L>0)var h=a.prefix=s.slice(0,L),y=s.slice(L+1),D=h==="xmlns"&&y;else y=s,h=null,D=s==="xmlns"&&"";a.localName=y,D!==!1&&(i==null&&(i={},gS(r,r={})),r[D]=i[D]=f,a.uri=e_.XMLNS,t.startPrefixMapping(D,f))}for(var x=e.length;x--;){a=e[x];var h=a.prefix;h&&(h==="xml"&&(a.uri=e_.XML),h!=="xmlns"&&(a.uri=r[h||""]))}var L=n.indexOf(":");L>0?(h=e.prefix=n.slice(0,L),y=e.localName=n.slice(L+1)):(h=null,y=e.localName=n);var Y=e.uri=r[h||""];if(t.startElement(Y,y,n,e),e.closed){if(t.endElement(Y,y,n),i)for(h in i)Object.prototype.hasOwnProperty.call(i,h)&&t.endPrefixMapping(h)}else return e.currentNSMap=r,e.localNSMap=i,!0}function J1(e,t,r,n,i){if(/^(?:script|textarea)$/i.test(r)){var a=e.indexOf("</"+r+">",t),s=e.substring(t+1,a);if(/[&<]/.test(s))return/^script$/i.test(r)?(i.characters(s,0,s.length),a):(s=s.replace(/&#?\w+;/g,n),i.characters(s,0,s.length),a)}return t+1}function Z1(e,t,r,n){var i=n[r];return i==null&&(i=e.lastIndexOf("</"+r+">"),i<t&&(i=e.lastIndexOf("</"+r)),n[r]=i),i<t}function gS(e,t){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])}function X1(e,t,r,n){var i=e.charAt(t+2);switch(i){case"-":if(e.charAt(t+3)==="-"){var a=e.indexOf("-->",t+4);return a>t?(r.comment(e,t+4,a-t-4),a+3):(n.error("Unclosed comment"),-1)}else return-1;default:if(e.substr(t+3,6)=="CDATA["){var a=e.indexOf("]]>",t+9);return r.startCDATA(),r.characters(e,t+9,a-t-9),r.endCDATA(),a+3}var s=eP(e,t),f=s.length;if(f>1&&/!doctype/i.test(s[0][0])){var h=s[1][0],y=!1,D=!1;f>3&&(/^public$/i.test(s[2][0])?(y=s[3][0],D=f>4&&s[4][0]):/^system$/i.test(s[2][0])&&(D=s[3][0]));var x=s[f-1];return r.startDTD(h,y,D),r.endDTD(),x.index+x[0].length}}return-1}function Q1(e,t,r){var n=e.indexOf("?>",t);if(n){var i=e.substring(t,n).match(/^<\?(\S*)\s*([\s\S]*?)\s*$/);if(i){var a=i[0].length;return r.processingInstruction(i[1],i[2]),n+2}else return-1}return-1}function yS(){this.attributeNames={}}yS.prototype={setTagName:function(e){if(!pS.test(e))throw new Error("invalid tagName:"+e);this.tagName=e},addValue:function(e,t,r){if(!pS.test(e))throw new Error("invalid attribute:"+e);this.attributeNames[e]=this.length,this[this.length++]={qName:e,value:t,offset:r}},length:0,getLocalName:function(e){return this[e].localName},getLocator:function(e){return this[e].locator},getQName:function(e){return this[e].qName},getURI:function(e){return this[e].uri},getValue:function(e){return this[e].value}};function eP(e,t){var r,n=[],i=/'[^']+'|"[^"]+"|[^\s<>\/=]+=?|(\/?\s*>|<)/g;for(i.lastIndex=t,i.exec(e);r=i.exec(e);)if(n.push(r),r[1])return n}uw.XMLReader=mS;uw.ParseError=fy});var AS=cr(g0=>{var tP=zy(),rP=ow(),ES=lS(),SS=_S(),nP=rP.DOMImplementation,wS=tP.NAMESPACE,iP=SS.ParseError,aP=SS.XMLReader;function DS(e){return e.replace(/\r[\n\u0085]/g,`
`).replace(/[\r\u0085\u2028]/g,`
`)}function TS(e){this.options=e||{locator:{}}}TS.prototype.parseFromString=function(e,t){var r=this.options,n=new aP,i=r.domBuilder||new t_,a=r.errorHandler,s=r.locator,f=r.xmlns||{},h=/\/x?html?$/.test(t),y=h?ES.HTML_ENTITIES:ES.XML_ENTITIES;s&&i.setDocumentLocator(s),n.errorHandler=oP(a,i,s),n.domBuilder=r.domBuilder||i,h&&(f[""]=wS.HTML),f.xml=f.xml||wS.XML;var D=r.normalizeLineEndings||DS;return e&&typeof e=="string"?n.parse(D(e),f,y):n.errorHandler.error("invalid doc source"),i.doc};function oP(e,t,r){if(!e){if(t instanceof t_)return t;e=t}var n={},i=e instanceof Function;r=r||{};function a(s){var f=e[s];!f&&i&&(f=e.length==2?function(h){e(s,h)}:e),n[s]=f&&function(h){f("[xmldom "+s+"]	"+h+cw(r))}||function(){}}return a("warning"),a("error"),a("fatalError"),n}function t_(){this.cdata=!1}function ly(e,t){t.lineNumber=e.lineNumber,t.columnNumber=e.columnNumber}t_.prototype={startDocument:function(){this.doc=new nP().createDocument(null,null,null),this.locator&&(this.doc.documentURI=this.locator.systemId)},startElement:function(e,t,r,n){var i=this.doc,a=i.createElementNS(e,r||t),s=n.length;m0(this,a),this.currentElement=a,this.locator&&ly(this.locator,a);for(var f=0;f<s;f++){var e=n.getURI(f),h=n.getValue(f),r=n.getQName(f),y=i.createAttributeNS(e,r);this.locator&&ly(n.getLocator(f),y),y.value=y.nodeValue=h,a.setAttributeNode(y)}},endElement:function(e,t,r){var n=this.currentElement,i=n.tagName;this.currentElement=n.parentNode},startPrefixMapping:function(e,t){},endPrefixMapping:function(e){},processingInstruction:function(e,t){var r=this.doc.createProcessingInstruction(e,t);this.locator&&ly(this.locator,r),m0(this,r)},ignorableWhitespace:function(e,t,r){},characters:function(e,t,r){if(e=bS.apply(this,arguments),e){if(this.cdata)var n=this.doc.createCDATASection(e);else var n=this.doc.createTextNode(e);this.currentElement?this.currentElement.appendChild(n):/^\s*$/.test(e)&&this.doc.appendChild(n),this.locator&&ly(this.locator,n)}},skippedEntity:function(e){},endDocument:function(){this.doc.normalize()},setDocumentLocator:function(e){(this.locator=e)&&(e.lineNumber=0)},comment:function(e,t,r){e=bS.apply(this,arguments);var n=this.doc.createComment(e);this.locator&&ly(this.locator,n),m0(this,n)},startCDATA:function(){this.cdata=!0},endCDATA:function(){this.cdata=!1},startDTD:function(e,t,r){var n=this.doc.implementation;if(n&&n.createDocumentType){var i=n.createDocumentType(e,t,r);this.locator&&ly(this.locator,i),m0(this,i),this.doc.doctype=i}},warning:function(e){console.warn("[xmldom warning]	"+e,cw(this.locator))},error:function(e){console.error("[xmldom error]	"+e,cw(this.locator))},fatalError:function(e){throw new iP(e,this.locator)}};function cw(e){if(e)return`
@`+(e.systemId||"")+"#[line:"+e.lineNumber+",col:"+e.columnNumber+"]"}function bS(e,t,r){return typeof e=="string"?e.substr(t,r):e.length>=t+r||t?new java.lang.String(e,t,r)+"":e}"endDTD,startEntity,endEntity,attributeDecl,elementDecl,externalEntityDecl,internalEntityDecl,resolveEntity,getExternalSubset,notationDecl,unparsedEntityDecl".replace(/\w+/g,function(e){t_.prototype[e]=function(){return null}});function m0(e,t){e.currentElement?e.currentElement.appendChild(t):e.doc.appendChild(t)}g0.__DOMHandler=t_;g0.normalizeLineEndings=DS;g0.DOMParser=TS});var CS=cr(y0=>{var NS=ow();y0.DOMImplementation=NS.DOMImplementation;y0.XMLSerializer=NS.XMLSerializer;y0.DOMParser=AS().DOMParser});var xS=cr((GB,IS)=>{IS.exports=function(t){return t!==null&&typeof t=="function"&&typeof t.prototype=="object"&&typeof t.prototype.addUndirectedEdgeWithKey=="function"&&typeof t.prototype.dropNode=="function"}});var PS=cr(r_=>{r_.addEdge=function(t,r,n,i,a,s){return r?n==null?t.addUndirectedEdge(i,a,s):t.addUndirectedEdgeWithKey(n,i,a,s):n==null?t.addDirectedEdge(i,a,s):t.addDirectedEdgeWithKey(n,i,a,s)};r_.copyEdge=function(t,r,n,i,a,s){return s=Object.assign({},s),r?n==null?t.addUndirectedEdge(i,a,s):t.addUndirectedEdgeWithKey(n,i,a,s):n==null?t.addDirectedEdge(i,a,s):t.addDirectedEdgeWithKey(n,i,a,s)};r_.mergeEdge=function(t,r,n,i,a,s){return r?n==null?t.mergeUndirectedEdge(i,a,s):t.mergeUndirectedEdgeWithKey(n,i,a,s):n==null?t.mergeDirectedEdge(i,a,s):t.mergeDirectedEdgeWithKey(n,i,a,s)};r_.updateEdge=function(t,r,n,i,a,s){return r?n==null?t.updateUndirectedEdge(i,a,s):t.updateUndirectedEdgeWithKey(n,i,a,s):n==null?t.updateDirectedEdge(i,a,s):t.updateDirectedEdgeWithKey(n,i,a,s)}});var lw=cr(n_=>{var sP=/^\s$/,uP=/\s*,\s*/,cP=/\s*\|\s*/;function fP(e){return sP.test(e)}function RS(e){var t,r,n,i,a=!1,s=!1,f=void 0,h=[],y="";for(n=0,i=e.length;n<i;n++)if(t=e[n],a){if(f===void 0&&(f=""),!y&&t===","){n--,a=!1;continue}if(!s&&t===y){a=!1;continue}if(t==="\\"){if(n+1<i&&(r=e[n+1],r==="r"||r==="t"||r==="n"||r==="\\")){r==="n"?f+=`
`:r==="t"?f+="	":r==="r"?f+="\r":f+="\\",s=!1,n++;continue}s=!0}else f+=t,s=!1}else{if(fP(t))continue;if(t===","){f!==void 0&&(h.push(f),f=void 0);continue}t==='"'||t==="'"?y=t:(n--,y=""),a=!0,s=!1}return f!==void 0&&h.push(f),h}function fw(e,t){return!e||e==="string"?t:e==="boolean"?t==="true":e==="byte"||e==="short"||e==="integer"||e==="long"||e==="float"||e==="double"?+t:t}function lP(e,t){if(e.startsWith("list")){var r=e.slice(4),n;return t.length>=2&&t[0]==="["&&t[t.length-1]==="]"?n=RS(t.slice(1,-1)):t.includes("|")?n=t.split(cP):t.includes(",")?n=t.split(uP):n=[t],n.map(function(i){return fw(r,i)})}else return fw(e,t)}n_.parseListPieces=RS;n_.parseScalarValue=fw;n_.parseValue=lP;var dP=/["'<>&\s]/g;n_.sanitizeTagName=function(t){return t.replace(dP,"").trim()}});var FS=cr((zB,LS)=>{var pP=xS(),hP=PS().mergeEdge,vP=lw(),MS=vP.parseValue;function mP(e){return e!==e}function gP(e){var t=e.getAttribute("hex");if(t)return t;var r=e.getAttribute("a"),n=e.getAttribute("r"),i=e.getAttribute("g"),a=e.getAttribute("b");return r?"rgba("+n+","+i+","+a+","+r+")":"rgb("+n+","+i+","+a+")"}function i_(e,t){var r=e.getElementsByTagName("viz:"+t)[0];return r||(r=e.getElementsByTagNameNS("viz",t)[0]),r||(r=e.getElementsByTagName(t)[0]),r}function yP(e){for(var t={},r,n,i=0,a=e.length;i<a;i++)r=e[i],r.nodeName!=="#text"&&(n=r.textContent.trim(),n&&(t[r.tagName.toLowerCase()]=r.textContent));return t}function kS(e){for(var t={},r={},n,i,a,s=0,f=e.length;s<f;s++)n=e[s],a=n.getAttribute("id")||n.getAttribute("for"),t[a]={id:a,type:n.getAttribute("type")||"string",title:mP(+a)?a:n.getAttribute("title")||a},i=n.getElementsByTagName("default")[0],i&&(r[t[a].title]=MS(t[a].type,i.textContent));return[t,r]}function OS(e,t,r,n){var i={},a=r.getAttribute("label"),s=r.getAttribute("weight"),f=r.getAttribute("kind");a&&(i.label=a),s&&(i.weight=+s),f&&(i.kind=f);for(var h=r.getElementsByTagName("attvalue"),y,D,x,L,Y,ee,W=0,H=h.length;W<H;W++){if(y=h[W],ee=y.getAttribute("id")||y.getAttribute("for"),L=y.getAttribute("value"),D=e[ee],D)x=D.title,Y=D.type;else if(n)x=ee,Y="string";else throw new Error('graphology-gexf/parser: Found undeclared attribute "'+ee+'"');i[x]=MS(Y,L)}var X;for(X in t)X in i||(i[X]=t[X]);var ue=i_(r,"color");ue&&(i.color=gP(ue)),ue=i_(r,"size"),ue&&(i.size=+ue.getAttribute("value"));var ce,he,Ue;return ue=i_(r,"position"),ue&&(ce=ue.getAttribute("x"),he=ue.getAttribute("y"),Ue=ue.getAttribute("z"),ce&&(i.x=+ce),he&&(i.y=+he),Ue&&(i.z=+Ue)),ue=i_(r,"shape"),ue&&(i.shape=ue.getAttribute("value")),ue=i_(r,"thickness"),ue&&(i.thickness=+ue.getAttribute("value")),i}LS.exports=function(t,r){return function(i,a,s){s=s||{};var f=s.addMissingNodes===!0,h=s.allowUndeclaredAttributes===!0,y=s.respectInputGraphType===!0,D,x=a,L,Y,ee,W,H,X,ue,ce,he;if(!pP(i))throw new Error("graphology-gexf/parser: invalid Graph constructor.");if(typeof a=="string"&&(x=new t().parseFromString(a,"application/xml")),!(x instanceof r))throw new Error("graphology-gexf/parser: source should either be a XML document or a string.");var Ue=x.getElementsByTagName("graph")[0],Le=x.getElementsByTagName("meta")[0],ve=Le&&Le.childNodes||[],Pe=x.getElementsByTagName("node"),Te=x.getElementsByTagName("edge"),Je=x.getElementsByTagName("attributes"),mt=[],Er=[];for(ce=0,he=Je.length;ce<he;ce++)L=Je[ce],L.getAttribute("class")==="node"?mt=L.getElementsByTagName("attribute"):L.getAttribute("class")==="edge"&&(Er=L.getElementsByTagName("attribute"));var fr=Ue.getAttribute("defaultedgetype")||"undirected";fr==="mutual"&&(fr="undirected"),Y=kS(mt);var Bt=Y[0],en=Y[1];Y=kS(Er);var qe=Y[0],Jr=Y[1],Fe=Te[0]?Te[0].getAttribute("type")||fr:"mixed",Gr=y?{}:{type:Fe},er=new i(Gr),kt=yP(ve),nn=Le&&Le.getAttribute("lastmodifieddate");for(er.replaceAttributes(kt),nn&&er.setAttribute("lastModifiedDate",nn),ce=0,he=Pe.length;ce<he;ce++)L=Pe[ce],er.addNode(L.getAttribute("id"),OS(Bt,en,L,h));for(ce=0,he=Te.length;ce<he;ce++){if(L=Te[ce],H=L.getAttribute("id"),ee=L.getAttribute("type")||fr,X=L.getAttribute("source"),ue=L.getAttribute("target"),W=OS(qe,Jr,L,h),ee!==er.type&&er.type!=="mixed"){if(y)throw new Error("graphology-gexf/parser: one of the file's edges does not respect the input graph type: "+er.type+".");er=er.copy({type:"mixed"})}if(!er.multi&&(ee==="directed"&&er.hasDirectedEdge(X,ue)||er.hasUndirectedEdge(X,ue))){if(y)throw new Error("graphology-gexf/parser: the file contains parallel edges that the input graph type does not allow.");er=er.copy({multi:!0})}if(D=hP(er,ee!=="directed",H||null,X,ue,W),!f&&(D[2]||D[3]))throw new Error("graphology-gexf/parser: one of your gexf file edges points to an inexisting node. Set the parser `addMissingNodes` option to `true` if you do not care.")}return er}}});var dy=cr(($B,US)=>{US.exports=function(t){return t!==null&&typeof t=="object"&&typeof t.addUndirectedEdgeWithKey=="function"&&typeof t.dropNode=="function"&&typeof t.multi=="boolean"}});var dw=cr((VB,BS)=>{var _P=dy();BS.exports=function(t){if(!_P(t))throw new Error("graphology-utils/infer-type: expecting a valid graphology instance.");var r=t.type;return r!=="mixed"?r:t.directedSize===0&&t.undirectedSize===0||t.directedSize>0&&t.undirectedSize>0?"mixed":t.directedSize>0?"directed":"undirected"}});var qS=cr((WB,GS)=>{function jS(e){return typeof e!="number"&&!e}function td(e){if(typeof e=="string")return e;if(typeof e=="number")return e+"";if(typeof e=="function")return e();if(e instanceof a_)return e.toString();throw Error("Bad Parameter")}function a_(e,t){if(!(this instanceof a_))return new a_;this.name_regex=/[_:A-Za-z][-._:A-Za-z0-9]*/,this.indent=!!e,this.indentString=this.indent&&typeof e=="string"?e:"    ",this.output="",this.stack=[],this.tags=0,this.attributes=0,this.attribute=0,this.texts=0,this.comment=0,this.dtd=0,this.root="",this.pi=0,this.cdata=0,this.started_write=!1,this.writer,this.writer_encoding="UTF-8",typeof t=="function"?this.writer=t:this.writer=function(r,n){this.output+=r}}a_.prototype={toString:function(){return this.flush(),this.output},indenter:function(){if(this.indent){this.write(`
`);for(var e=1;e<this.tags;e++)this.write(this.indentString)}},write:function(){for(var e=0;e<arguments.length;e++)this.writer(arguments[e],this.writer_encoding)},flush:function(){for(var e=this.tags;e>0;e--)this.endElement();this.tags=0},startDocument:function(e,t,r){return this.tags||this.attributes?this:(this.startPI("xml"),this.startAttribute("version"),this.text(typeof e=="string"?e:"1.0"),this.endAttribute(),typeof t=="string"&&(this.startAttribute("encoding"),this.text(t),this.endAttribute(),this.writer_encoding=t),r&&(this.startAttribute("standalone"),this.text("yes"),this.endAttribute()),this.endPI(),this.indent||this.write(`
`),this)},endDocument:function(){return this.attributes&&this.endAttributes(),this},writeElement:function(e,t){return this.startElement(e).text(t).endElement()},writeElementNS:function(e,t,r,n){return n||(n=r),this.startElementNS(e,t,r).text(n).endElement()},startElement:function(e){if(e=td(e),!e.match(this.name_regex)||this.tags===0&&this.root&&this.root!==e)throw Error("Invalid Parameter");return this.attributes&&this.endAttributes(),++this.tags,this.texts=0,this.stack.length>0&&(this.stack[this.stack.length-1].containsTag=!0),this.stack.push({name:e,tags:this.tags}),this.started_write&&this.indenter(),this.write("<",e),this.startAttributes(),this.started_write=!0,this},startElementNS:function(e,t,r){if(e=td(e),t=td(t),!e.match(this.name_regex)||!t.match(this.name_regex))throw Error("Invalid Parameter");return this.attributes&&this.endAttributes(),++this.tags,this.texts=0,this.stack.length>0&&(this.stack[this.stack.length-1].containsTag=!0),this.stack.push({name:e+":"+t,tags:this.tags}),this.started_write&&this.indenter(),this.write("<",e+":"+t),this.startAttributes(),this.started_write=!0,this},endElement:function(){if(!this.tags)return this;var e=this.stack.pop();return this.attributes>0?(this.attribute&&(this.texts&&this.endAttribute(),this.endAttribute()),this.write("/"),this.endAttributes()):(e.containsTag&&this.indenter(),this.write("</",e.name,">")),--this.tags,this.texts=0,this},writeAttribute:function(e,t){return typeof t=="function"&&(t=t()),jS(t)?this:this.startAttribute(e).text(t).endAttribute()},writeAttributeNS:function(e,t,r,n){return n||(n=r),typeof n=="function"&&(n=n()),jS(n)?this:this.startAttributeNS(e,t,r).text(n).endAttribute()},startAttributes:function(){return this.attributes=1,this},endAttributes:function(){return this.attributes?(this.attribute&&this.endAttribute(),this.attributes=0,this.attribute=0,this.texts=0,this.write(">"),this):this},startAttribute:function(e){if(e=td(e),!e.match(this.name_regex))throw Error("Invalid Parameter");return!this.attributes&&!this.pi?this:this.attribute?this:(this.attribute=1,this.write(" ",e,'="'),this)},startAttributeNS:function(e,t,r){if(e=td(e),t=td(t),!e.match(this.name_regex)||!t.match(this.name_regex))throw Error("Invalid Parameter");return!this.attributes&&!this.pi?this:this.attribute?this:(this.attribute=1,this.write(" ",e+":"+t,'="'),this)},endAttribute:function(){return this.attribute?(this.attribute=0,this.texts=0,this.write('"'),this):this},text:function(e){return e=td(e),!this.tags&&!this.comment&&!this.pi&&!this.cdata?this:this.attributes&&this.attribute?(++this.texts,this.write(e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/"/g,"&quot;").replace(/\t/g,"&#x9;").replace(/\n/g,"&#xA;").replace(/\r/g,"&#xD;")),this):(this.attributes&&!this.attribute&&this.endAttributes(),this.comment||this.cdata?this.write(e):this.write(e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),++this.texts,this.started_write=!0,this)},writeComment:function(e){return this.startComment().text(e).endComment()},startComment:function(){return this.comment?this:(this.attributes&&this.endAttributes(),this.indenter(),this.write("<!--"),this.comment=1,this.started_write=!0,this)},endComment:function(){return this.comment?(this.write("-->"),this.comment=0,this):this},writeDocType:function(e,t,r,n){return this.startDocType(e,t,r,n).endDocType()},startDocType:function(e,t,r,n){if(this.dtd||this.tags)return this;if(e=td(e),t=t&&td(t),r=r&&td(r),n=n&&td(n),!e.match(this.name_regex)||t&&!t.match(/^[\w\-][\w\s\-\/\+\:\.]*/)||r&&!r.match(/^[\w\.][\w\-\/\\\:\.]*/)||n&&!n.match(/[\w\s\<\>\+\.\!\#\-\?\*\,\(\)\|]*/))throw Error("Invalid Parameter");return t=t?' PUBLIC "'+t+'"':r?" SYSTEM":"",r=r?' "'+r+'"':"",n=n?" ["+n+"]":"",this.started_write&&this.indenter(),this.write("<!DOCTYPE ",e,t,r,n),this.root=e,this.dtd=1,this.started_write=!0,this},endDocType:function(){return this.dtd?(this.write(">"),this):this},writePI:function(e,t){return this.startPI(e).text(t).endPI()},startPI:function(e){if(e=td(e),!e.match(this.name_regex))throw Error("Invalid Parameter");return this.pi?this:(this.attributes&&this.endAttributes(),this.started_write&&this.indenter(),this.write("<?",e),this.pi=1,this.started_write=!0,this)},endPI:function(){return this.pi?(this.write("?>"),this.pi=0,this):this},writeCData:function(e){return this.startCData().text(e).endCData()},startCData:function(){return this.cdata?this:(this.attributes&&this.endAttributes(),this.indenter(),this.write("<![CDATA["),this.cdata=1,this.started_write=!0,this)},endCData:function(){return this.cdata?(this.write("]]>"),this.cdata=0,this):this},writeRaw:function(e){return e=td(e),!this.tags&&!this.comment&&!this.pi&&!this.cdata?this:this.attributes&&this.attribute?(++this.texts,this.write(e.replace("&","&amp;").replace('"',"&quot;")),this):(this.attributes&&!this.attribute&&this.endAttributes(),++this.texts,this.write(e),this.started_write=!0,this)}};GS.exports=a_});var zS=cr((HB,YS)=>{YS.exports=qS()});var XS=cr((KB,ZS)=>{var EP=dy(),wP=dw(),bP=zS(),SP=lw().sanitizeTagName,DP=new Set(["color","size","x","y","z","shape","thickness"]),TP=/^\s*rgba?\s*\(/i,AP=/^\s*rgba?\s*\(\s*([0-9]*)\s*,\s*([0-9]*)\s*,\s*([0-9]*)\s*(?:,\s*([.0-9]*))?\)\s*$/;function NP(e){if(!e||typeof e!="string")return{};if(e[0]==="#")return e=e.slice(1),e.length===3?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16)}:{r:parseInt(e[0]+e[1],16),g:parseInt(e[2]+e[3],16),b:parseInt(e[4]+e[5],16)};if(TP.test(e)){var t={};return e=e.match(AP),t.r=+e[1],t.g=+e[2],t.b=+e[3],e[4]&&(t.a=+e[4]),t}return{}}function HS(e,t,r){var n={},i;for(i in r)i==="label"?n.label=r.label:e==="edge"&&i==="weight"?n.weight=r.weight:e==="edge"&&i==="kind"?n.kind=r.kind:DP.has(i)?(n.viz=n.viz||{},n.viz[i]=r[i]):(n.attributes=n.attributes||{},n.attributes[i]=r[i]);return n}var CP=HS.bind(null,"node"),IP=HS.bind(null,"edge");function xP(e){return e<=2147483647&&e>=-2147483647}function KS(e){return typeof e>"u"||e===null||e===""||e!==e}var E0={liststring:0,listdouble:1,listlong:2,listinteger:3,listboolean:4,string:5,double:6,long:7,integer:8,boolean:9,empty:10};function JS(e){return KS(e)?"empty":typeof e=="boolean"?"boolean":typeof e=="object"?"string":typeof e=="number"?e===(e|0)?xP(e)?"integer":"long":"double":"string"}function PP(e){for(var t="empty",r=E0[t],n,i,a,s=0,f=e.length;s<f;s++)n=e[s],i=JS(n),a=E0[i],a<r&&(t=i,r=a);return t}function RP(e){if(e instanceof Set&&(e=Array.from(e)),Array.isArray(e)){var t=PP(e);return t==="empty"?"empty":"list"+t}return JS(e)}var kP=/[\r\t\n]/g,pw="'",OP='"';function MP(e,t){return e!=="string"||kP.test(t)||t.includes(pw)?JSON.stringify(t):t.includes(OP)?pw+t+pw:t}function LP(e,t,r){if(t.startsWith("list")){r instanceof Set&&(r=Array.from(r));var n=Array.isArray(r)?r:[r],i=t.slice(4);return e==="1.3"?"["+n.map(function(a){return MP(i,a)}).join(", ")+"]":n.join("|")}return""+r}function FP(e,t){var r=new Array(e.order),n=0;return e.forEachNode(function(i,a){var s=t(i,a);s.key=i,r[n++]=s}),r}function UP(e,t){var r=new Array(e.size),n=0;return e.forEachEdge(function(i,a,s,f,h,y,D){var x=t(i,a);x.key=i,x.source=s,x.target=f,x.undirected=D,r[n++]=x}),r}function $S(e){for(var t={},r,n,i,a,s=0,f=e.length;s<f;s++)if(r=e[s].attributes,!!r)for(a in r)n=RP(r[a]),n!=="empty"&&(i=t[a],i?n!==i&&E0[n]<E0[i]&&(t[a]=n):t[a]=n);return t}function VS(e,t,r){var n;if(Object.keys(t).length){e.startElement("attributes"),e.writeAttribute("class",r);for(n in t)e.startElement("attribute"),e.writeAttribute("id",n),e.writeAttribute("title",n),e.writeAttribute("type",t[n]),e.endElement();e.endElement()}}function WS(e,t,r,n,i){var a=!Object.keys(n).length,s,f,h,y,D,x,L,Y,ee,W,H;for(t.startElement(r+"s"),W=0,H=i.length;W<H;W++){if(s=i[W],x=s.attributes,Y=s.viz,t.startElement(r),t.writeAttribute("id",s.key),r==="edge"&&(D=s.undirected?"undirected":"directed",D!==t.defaultEdgeType&&t.writeAttribute("type",D),t.writeAttribute("source",s.source),t.writeAttribute("target",s.target),L=s.weight,(typeof L=="number"&&!isNaN(L)||typeof L=="string")&&t.writeAttribute("weight",s.weight),s.kind&&t.writeAttribute("kind",s.kind)),s.label&&t.writeAttribute("label",s.label),!a&&x){t.startElement("attvalues");for(f in n)if(f in x){if(y=x[f],KS(y))continue;t.startElement("attvalue"),t.writeAttribute("for",f),t.writeAttribute("value",LP(e,n[f],y)),t.endElement()}t.endElement()}if(Y){if(Y.color){if(t.startElementNS("viz","color"),e==="1.3"&&Y.color.startsWith("#"))t.writeAttribute("hex",Y.color);else{h=NP(Y.color);for(ee in h)t.writeAttribute(ee,h[ee])}t.endElement()}Y.size!==void 0&&(t.startElementNS("viz","size"),t.writeAttribute("value",Y.size),t.endElement()),(Y.x!==void 0||Y.y!==void 0||Y.z!==void 0)&&(t.startElementNS("viz","position"),Y.x!==void 0&&t.writeAttribute("x",Y.x),Y.y!==void 0&&t.writeAttribute("y",Y.y),Y.z!==void 0&&t.writeAttribute("z",Y.z),t.endElement()),Y.shape&&(t.startElementNS("viz","shape"),t.writeAttribute("value",Y.shape),t.endElement()),Y.thickness!==void 0&&(t.startElementNS("viz","thickness"),t.writeAttribute("value",Y.thickness),t.endElement())}t.endElement()}t.endElement()}var _0={encoding:"UTF-8",pretty:!0,version:"1.2",pedantic:!1,formatNode:CP,formatEdge:IP};ZS.exports=function(t,r){if(!EP(t))throw new Error("graphology-gexf/writer: invalid graphology instance.");r=r||{};var n=r.pretty===!1?!1:"  ",i=r.pedantic===!0,a=r.formatNode||_0.formatNode,s=r.formatEdge||_0.formatEdge,f=new bP(n);f.startDocument("1.0",r.encoding||_0.encoding);var h=r.version||_0.version;if(h!=="1.2"&&h!=="1.3")throw new Error('graphology-gexf/writer: invalid gexf version "'+h+'". Expecting 1.2 or 1.3.');f.startElement("gexf"),f.writeAttribute("version",h),h==="1.2"?(f.writeAttribute("xmlns","http://www.gexf.net/1.2draft"),f.writeAttribute("xmlns:viz","http:///www.gexf.net/1.1draft/viz")):h==="1.3"&&(f.writeAttribute("xmlns","http://gexf.net/1.3"),f.writeAttribute("xmlns:viz","http://gexf.net/1.3/viz"),f.writeAttribute("xmlns:xsi","http://www.w3.org/2001/XMLSchema-instance"),f.writeAttribute("xsi:schemaLocation","http://gexf.net/1.3 http://gexf.net/1.3/gexf.xsd")),f.startElement("meta");var y=t.getAttributes();y.lastModifiedDate&&f.writeAttribute("lastmodifieddate",y.lastModifiedDate);var D,x;for(var L in y)L!=="lastModifiedDate"&&(i&&L!=="creator"&&L!=="description"&&L!=="keywords"||(D=SP(L),D&&(x=y[L],(typeof x=="string"||typeof x=="number"||typeof x=="boolean")&&f.writeElement(D,""+x))));f.endElement(),f.startElement("graph");var Y=wP(t);f.defaultEdgeType=Y==="mixed"?"directed":Y,f.writeAttribute("defaultedgetype",f.defaultEdgeType);var ee=FP(t,a),W=UP(t,s),H=$S(ee);VS(f,H,"node");var X=$S(W);return VS(f,X,"edge"),WS(h,f,"node",H,ee),WS(h,f,"edge",X,W),f.toString()}});var eD=cr(hw=>{var QS=CS(),BP=FS(),jP=new QS.DOMParser().parseFromString("<t></t>","application/xml");hw.parse=BP(QS.DOMParser,jP.constructor);hw.write=XS()});var rD=cr((ZB,tD)=>{tD.exports=eD()});var Gm=cr((XB,nD)=>{function rv(e){if(typeof e!="function")throw new Error("obliterator/iterator: expecting a function!");this.next=e}typeof Symbol<"u"&&(rv.prototype[Symbol.iterator]=function(){return this});rv.of=function(){var e=arguments,t=e.length,r=0;return new rv(function(){return r>=t?{done:!0}:{done:!1,value:e[r++]}})};rv.empty=function(){var e=new rv(function(){return{done:!0}});return e};rv.fromSequence=function(e){var t=0,r=e.length;return new rv(function(){return t>=r?{done:!0}:{done:!1,value:e[t++]}})};rv.is=function(e){return e instanceof rv?!0:typeof e=="object"&&e!==null&&typeof e.next=="function"};nD.exports=rv});var mw=cr(vw=>{vw.ARRAY_BUFFER_SUPPORT=typeof ArrayBuffer<"u";vw.SYMBOL_SUPPORT=typeof Symbol<"u"});var gw=cr((ej,aD)=>{var GP=Gm(),iD=mw(),qP=iD.ARRAY_BUFFER_SUPPORT,YP=iD.SYMBOL_SUPPORT;function zP(e){return typeof e=="string"||Array.isArray(e)||qP&&ArrayBuffer.isView(e)?GP.fromSequence(e):typeof e!="object"||e===null?null:YP&&typeof e[Symbol.iterator]=="function"?e[Symbol.iterator]():typeof e.next=="function"?e:null}aD.exports=function(t){var r=zP(t);if(!r)throw new Error("obliterator: target is not iterable nor a valid iterator.");return r}});var sD=cr((tj,oD)=>{var $P=gw();oD.exports=function(t,r){for(var n=arguments.length>1?r:1/0,i=n!==1/0?new Array(n):[],a,s=0,f=$P(t);;){if(s===n)return i;if(a=f.next(),a.done)return s!==r&&(i.length=s),i;i[s++]=a.value}}});var cD=cr((rj,uD)=>{var VP=Gm(),WP=gw();uD.exports=function(){var t=arguments,r=null,n=-1;return new VP(function(){var a=null;do{if(r===null){if(n++,n>=t.length)return{done:!0};r=WP(t[n])}if(a=r.next(),a.done===!0){r=null;continue}break}while(!0);return a})}});var c_=cr((nj,CD)=>{"use strict";var HP=require("events"),KP=Gm(),JP=sD(),ZP=cD();function bw(e){return e&&typeof e=="object"&&"default"in e?e:{default:e}}var ap=bw(KP),pD=bw(JP),Jv=bw(ZP);function S0(e){"@babel/helpers - typeof";return S0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},S0(e)}function nv(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,u_(e,t)}function Ew(e){return Ew=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},Ew(e)}function u_(e,t){return u_=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(n,i){return n.__proto__=i,n},u_(e,t)}function XP(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function b0(e,t,r){return XP()?b0=Reflect.construct.bind():b0=function(i,a,s){var f=[null];f.push.apply(f,a);var h=Function.bind.apply(i,f),y=new h;return s&&u_(y,s.prototype),y},b0.apply(null,arguments)}function QP(e){return Function.toString.call(e).indexOf("[native code]")!==-1}function ww(e){var t=typeof Map=="function"?new Map:void 0;return ww=function(n){if(n===null||!QP(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(typeof t<"u"){if(t.has(n))return t.get(n);t.set(n,i)}function i(){return b0(n,arguments,Ew(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),u_(i,n)},ww(e)}function Li(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function eR(){for(var e=arguments[0],t=1,r=arguments.length;t<r;t++)if(arguments[t])for(var n in arguments[t])e[n]=arguments[t][n];return e}var rs=eR;typeof Object.assign=="function"&&(rs=Object.assign);function ip(e,t,r,n){var i=e._nodes.get(t),a=null;return i&&(n==="mixed"?a=i.out&&i.out[r]||i.undirected&&i.undirected[r]:n==="directed"?a=i.out&&i.out[r]:a=i.undirected&&i.undirected[r]),a}function Du(e){return S0(e)==="object"&&e!==null}function hD(e){var t;for(t in e)return!1;return!0}function np(e,t,r){Object.defineProperty(e,t,{enumerable:!1,configurable:!1,writable:!0,value:r})}function ah(e,t,r){var n={enumerable:!0,configurable:!0};typeof r=="function"?n.get=r:(n.value=r,n.writable=!1),Object.defineProperty(e,t,n)}function fD(e){return!(!Du(e)||e.attributes&&!Array.isArray(e.attributes))}function tR(){var e=Math.floor(Math.random()*256)&255;return function(){return e++}}var Sw=function(e){nv(t,e);function t(r){var n;return n=e.call(this)||this,n.name="GraphError",n.message=r,n}return t}(ww(Error)),At=function(e){nv(t,e);function t(r){var n;return n=e.call(this,r)||this,n.name="InvalidArgumentsGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(Li(n),t.prototype.constructor),n}return t}(Sw),ft=function(e){nv(t,e);function t(r){var n;return n=e.call(this,r)||this,n.name="NotFoundGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(Li(n),t.prototype.constructor),n}return t}(Sw),Sr=function(e){nv(t,e);function t(r){var n;return n=e.call(this,r)||this,n.name="UsageGraphError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(Li(n),t.prototype.constructor),n}return t}(Sw);function vD(e,t){this.key=e,this.attributes=t,this.clear()}vD.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.undirectedDegree=0,this.undirectedLoops=0,this.directedLoops=0,this.in={},this.out={},this.undirected={}};function mD(e,t){this.key=e,this.attributes=t,this.clear()}mD.prototype.clear=function(){this.inDegree=0,this.outDegree=0,this.directedLoops=0,this.in={},this.out={}};function gD(e,t){this.key=e,this.attributes=t,this.clear()}gD.prototype.clear=function(){this.undirectedDegree=0,this.undirectedLoops=0,this.undirected={}};function hy(e,t,r,n,i){this.key=t,this.attributes=i,this.undirected=e,this.source=r,this.target=n}hy.prototype.attach=function(){var e="out",t="in";this.undirected&&(e=t="undirected");var r=this.source.key,n=this.target.key;this.source[e][n]=this,!(this.undirected&&r===n)&&(this.target[t][r]=this)};hy.prototype.attachMulti=function(){var e="out",t="in",r=this.source.key,n=this.target.key;this.undirected&&(e=t="undirected");var i=this.source[e],a=i[n];if(typeof a>"u"){i[n]=this,this.undirected&&r===n||(this.target[t][r]=this);return}a.previous=this,this.next=a,i[n]=this,this.target[t][r]=this};hy.prototype.detach=function(){var e=this.source.key,t=this.target.key,r="out",n="in";this.undirected&&(r=n="undirected"),delete this.source[r][t],delete this.target[n][e]};hy.prototype.detachMulti=function(){var e=this.source.key,t=this.target.key,r="out",n="in";this.undirected&&(r=n="undirected"),this.previous===void 0?this.next===void 0?(delete this.source[r][t],delete this.target[n][e]):(this.next.previous=void 0,this.source[r][t]=this.next,this.target[n][e]=this.next):(this.previous.next=this.next,this.next!==void 0&&(this.next.previous=this.previous))};var yD=0,_D=1,rR=2,ED=3;function Zv(e,t,r,n,i,a,s){var f,h,y,D;if(n=""+n,r===yD){if(f=e._nodes.get(n),!f)throw new ft("Graph.".concat(t,': could not find the "').concat(n,'" node in the graph.'));y=i,D=a}else if(r===ED){if(i=""+i,h=e._edges.get(i),!h)throw new ft("Graph.".concat(t,': could not find the "').concat(i,'" edge in the graph.'));var x=h.source.key,L=h.target.key;if(n===x)f=h.target;else if(n===L)f=h.source;else throw new ft("Graph.".concat(t,': the "').concat(n,'" node is not attached to the "').concat(i,'" edge (').concat(x,", ").concat(L,")."));y=a,D=s}else{if(h=e._edges.get(n),!h)throw new ft("Graph.".concat(t,': could not find the "').concat(n,'" edge in the graph.'));r===_D?f=h.source:f=h.target,y=i,D=a}return[f,y,D]}function nR(e,t,r){e.prototype[t]=function(n,i,a){var s=Zv(this,t,r,n,i,a),f=s[0],h=s[1];return f.attributes[h]}}function iR(e,t,r){e.prototype[t]=function(n,i){var a=Zv(this,t,r,n,i),s=a[0];return s.attributes}}function aR(e,t,r){e.prototype[t]=function(n,i,a){var s=Zv(this,t,r,n,i,a),f=s[0],h=s[1];return f.attributes.hasOwnProperty(h)}}function oR(e,t,r){e.prototype[t]=function(n,i,a,s){var f=Zv(this,t,r,n,i,a,s),h=f[0],y=f[1],D=f[2];return h.attributes[y]=D,this.emit("nodeAttributesUpdated",{key:h.key,type:"set",attributes:h.attributes,name:y}),this}}function sR(e,t,r){e.prototype[t]=function(n,i,a,s){var f=Zv(this,t,r,n,i,a,s),h=f[0],y=f[1],D=f[2];if(typeof D!="function")throw new At("Graph.".concat(t,": updater should be a function."));var x=h.attributes,L=D(x[y]);return x[y]=L,this.emit("nodeAttributesUpdated",{key:h.key,type:"set",attributes:h.attributes,name:y}),this}}function uR(e,t,r){e.prototype[t]=function(n,i,a){var s=Zv(this,t,r,n,i,a),f=s[0],h=s[1];return delete f.attributes[h],this.emit("nodeAttributesUpdated",{key:f.key,type:"remove",attributes:f.attributes,name:h}),this}}function cR(e,t,r){e.prototype[t]=function(n,i,a){var s=Zv(this,t,r,n,i,a),f=s[0],h=s[1];if(!Du(h))throw new At("Graph.".concat(t,": provided attributes are not a plain object."));return f.attributes=h,this.emit("nodeAttributesUpdated",{key:f.key,type:"replace",attributes:f.attributes}),this}}function fR(e,t,r){e.prototype[t]=function(n,i,a){var s=Zv(this,t,r,n,i,a),f=s[0],h=s[1];if(!Du(h))throw new At("Graph.".concat(t,": provided attributes are not a plain object."));return rs(f.attributes,h),this.emit("nodeAttributesUpdated",{key:f.key,type:"merge",attributes:f.attributes,data:h}),this}}function lR(e,t,r){e.prototype[t]=function(n,i,a){var s=Zv(this,t,r,n,i,a),f=s[0],h=s[1];if(typeof h!="function")throw new At("Graph.".concat(t,": provided updater is not a function."));return f.attributes=h(f.attributes),this.emit("nodeAttributesUpdated",{key:f.key,type:"update",attributes:f.attributes}),this}}var dR=[{name:function(t){return"get".concat(t,"Attribute")},attacher:nR},{name:function(t){return"get".concat(t,"Attributes")},attacher:iR},{name:function(t){return"has".concat(t,"Attribute")},attacher:aR},{name:function(t){return"set".concat(t,"Attribute")},attacher:oR},{name:function(t){return"update".concat(t,"Attribute")},attacher:sR},{name:function(t){return"remove".concat(t,"Attribute")},attacher:uR},{name:function(t){return"replace".concat(t,"Attributes")},attacher:cR},{name:function(t){return"merge".concat(t,"Attributes")},attacher:fR},{name:function(t){return"update".concat(t,"Attributes")},attacher:lR}];function pR(e){dR.forEach(function(t){var r=t.name,n=t.attacher;n(e,r("Node"),yD),n(e,r("Source"),_D),n(e,r("Target"),rR),n(e,r("Opposite"),ED)})}function hR(e,t,r){e.prototype[t]=function(n,i){var a;if(this.type!=="mixed"&&r!=="mixed"&&r!==this.type)throw new Sr("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Sr("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var s=""+n,f=""+i;if(i=arguments[2],a=ip(this,s,f,r),!a)throw new ft("Graph.".concat(t,': could not find an edge for the given path ("').concat(s,'" - "').concat(f,'").'))}else{if(r!=="mixed")throw new Sr("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(n=""+n,a=this._edges.get(n),!a)throw new ft("Graph.".concat(t,': could not find the "').concat(n,'" edge in the graph.'))}return a.attributes[i]}}function vR(e,t,r){e.prototype[t]=function(n){var i;if(this.type!=="mixed"&&r!=="mixed"&&r!==this.type)throw new Sr("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>1){if(this.multi)throw new Sr("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var a=""+n,s=""+arguments[1];if(i=ip(this,a,s,r),!i)throw new ft("Graph.".concat(t,': could not find an edge for the given path ("').concat(a,'" - "').concat(s,'").'))}else{if(r!=="mixed")throw new Sr("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(n=""+n,i=this._edges.get(n),!i)throw new ft("Graph.".concat(t,': could not find the "').concat(n,'" edge in the graph.'))}return i.attributes}}function mR(e,t,r){e.prototype[t]=function(n,i){var a;if(this.type!=="mixed"&&r!=="mixed"&&r!==this.type)throw new Sr("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Sr("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var s=""+n,f=""+i;if(i=arguments[2],a=ip(this,s,f,r),!a)throw new ft("Graph.".concat(t,': could not find an edge for the given path ("').concat(s,'" - "').concat(f,'").'))}else{if(r!=="mixed")throw new Sr("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(n=""+n,a=this._edges.get(n),!a)throw new ft("Graph.".concat(t,': could not find the "').concat(n,'" edge in the graph.'))}return a.attributes.hasOwnProperty(i)}}function gR(e,t,r){e.prototype[t]=function(n,i,a){var s;if(this.type!=="mixed"&&r!=="mixed"&&r!==this.type)throw new Sr("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new Sr("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var f=""+n,h=""+i;if(i=arguments[2],a=arguments[3],s=ip(this,f,h,r),!s)throw new ft("Graph.".concat(t,': could not find an edge for the given path ("').concat(f,'" - "').concat(h,'").'))}else{if(r!=="mixed")throw new Sr("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(n=""+n,s=this._edges.get(n),!s)throw new ft("Graph.".concat(t,': could not find the "').concat(n,'" edge in the graph.'))}return s.attributes[i]=a,this.emit("edgeAttributesUpdated",{key:s.key,type:"set",attributes:s.attributes,name:i}),this}}function yR(e,t,r){e.prototype[t]=function(n,i,a){var s;if(this.type!=="mixed"&&r!=="mixed"&&r!==this.type)throw new Sr("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>3){if(this.multi)throw new Sr("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var f=""+n,h=""+i;if(i=arguments[2],a=arguments[3],s=ip(this,f,h,r),!s)throw new ft("Graph.".concat(t,': could not find an edge for the given path ("').concat(f,'" - "').concat(h,'").'))}else{if(r!=="mixed")throw new Sr("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(n=""+n,s=this._edges.get(n),!s)throw new ft("Graph.".concat(t,': could not find the "').concat(n,'" edge in the graph.'))}if(typeof a!="function")throw new At("Graph.".concat(t,": updater should be a function."));return s.attributes[i]=a(s.attributes[i]),this.emit("edgeAttributesUpdated",{key:s.key,type:"set",attributes:s.attributes,name:i}),this}}function _R(e,t,r){e.prototype[t]=function(n,i){var a;if(this.type!=="mixed"&&r!=="mixed"&&r!==this.type)throw new Sr("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Sr("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var s=""+n,f=""+i;if(i=arguments[2],a=ip(this,s,f,r),!a)throw new ft("Graph.".concat(t,': could not find an edge for the given path ("').concat(s,'" - "').concat(f,'").'))}else{if(r!=="mixed")throw new Sr("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(n=""+n,a=this._edges.get(n),!a)throw new ft("Graph.".concat(t,': could not find the "').concat(n,'" edge in the graph.'))}return delete a.attributes[i],this.emit("edgeAttributesUpdated",{key:a.key,type:"remove",attributes:a.attributes,name:i}),this}}function ER(e,t,r){e.prototype[t]=function(n,i){var a;if(this.type!=="mixed"&&r!=="mixed"&&r!==this.type)throw new Sr("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Sr("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var s=""+n,f=""+i;if(i=arguments[2],a=ip(this,s,f,r),!a)throw new ft("Graph.".concat(t,': could not find an edge for the given path ("').concat(s,'" - "').concat(f,'").'))}else{if(r!=="mixed")throw new Sr("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(n=""+n,a=this._edges.get(n),!a)throw new ft("Graph.".concat(t,': could not find the "').concat(n,'" edge in the graph.'))}if(!Du(i))throw new At("Graph.".concat(t,": provided attributes are not a plain object."));return a.attributes=i,this.emit("edgeAttributesUpdated",{key:a.key,type:"replace",attributes:a.attributes}),this}}function wR(e,t,r){e.prototype[t]=function(n,i){var a;if(this.type!=="mixed"&&r!=="mixed"&&r!==this.type)throw new Sr("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Sr("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var s=""+n,f=""+i;if(i=arguments[2],a=ip(this,s,f,r),!a)throw new ft("Graph.".concat(t,': could not find an edge for the given path ("').concat(s,'" - "').concat(f,'").'))}else{if(r!=="mixed")throw new Sr("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(n=""+n,a=this._edges.get(n),!a)throw new ft("Graph.".concat(t,': could not find the "').concat(n,'" edge in the graph.'))}if(!Du(i))throw new At("Graph.".concat(t,": provided attributes are not a plain object."));return rs(a.attributes,i),this.emit("edgeAttributesUpdated",{key:a.key,type:"merge",attributes:a.attributes,data:i}),this}}function bR(e,t,r){e.prototype[t]=function(n,i){var a;if(this.type!=="mixed"&&r!=="mixed"&&r!==this.type)throw new Sr("Graph.".concat(t,": cannot find this type of edges in your ").concat(this.type," graph."));if(arguments.length>2){if(this.multi)throw new Sr("Graph.".concat(t,": cannot use a {source,target} combo when asking about an edge's attributes in a MultiGraph since we cannot infer the one you want information about."));var s=""+n,f=""+i;if(i=arguments[2],a=ip(this,s,f,r),!a)throw new ft("Graph.".concat(t,': could not find an edge for the given path ("').concat(s,'" - "').concat(f,'").'))}else{if(r!=="mixed")throw new Sr("Graph.".concat(t,": calling this method with only a key (vs. a source and target) does not make sense since an edge with this key could have the other type."));if(n=""+n,a=this._edges.get(n),!a)throw new ft("Graph.".concat(t,': could not find the "').concat(n,'" edge in the graph.'))}if(typeof i!="function")throw new At("Graph.".concat(t,": provided updater is not a function."));return a.attributes=i(a.attributes),this.emit("edgeAttributesUpdated",{key:a.key,type:"update",attributes:a.attributes}),this}}var SR=[{name:function(t){return"get".concat(t,"Attribute")},attacher:hR},{name:function(t){return"get".concat(t,"Attributes")},attacher:vR},{name:function(t){return"has".concat(t,"Attribute")},attacher:mR},{name:function(t){return"set".concat(t,"Attribute")},attacher:gR},{name:function(t){return"update".concat(t,"Attribute")},attacher:yR},{name:function(t){return"remove".concat(t,"Attribute")},attacher:_R},{name:function(t){return"replace".concat(t,"Attributes")},attacher:ER},{name:function(t){return"merge".concat(t,"Attributes")},attacher:wR},{name:function(t){return"update".concat(t,"Attributes")},attacher:bR}];function DR(e){SR.forEach(function(t){var r=t.name,n=t.attacher;n(e,r("Edge"),"mixed"),n(e,r("DirectedEdge"),"directed"),n(e,r("UndirectedEdge"),"undirected")})}var TR=[{name:"edges",type:"mixed"},{name:"inEdges",type:"directed",direction:"in"},{name:"outEdges",type:"directed",direction:"out"},{name:"inboundEdges",type:"mixed",direction:"in"},{name:"outboundEdges",type:"mixed",direction:"out"},{name:"directedEdges",type:"directed"},{name:"undirectedEdges",type:"undirected"}];function AR(e,t,r,n){var i=!1;for(var a in t)if(a!==n){var s=t[a];if(i=r(s.key,s.attributes,s.source.key,s.target.key,s.source.attributes,s.target.attributes,s.undirected),e&&i)return s.key}}function NR(e,t,r,n){var i,a,s,f=!1;for(var h in t)if(h!==n){i=t[h];do{if(a=i.source,s=i.target,f=r(i.key,i.attributes,a.key,s.key,a.attributes,s.attributes,i.undirected),e&&f)return i.key;i=i.next}while(i!==void 0)}}function yw(e,t){var r=Object.keys(e),n=r.length,i,a=0;return new ap.default(function(){do if(i)i=i.next;else{if(a>=n)return{done:!0};var f=r[a++];if(f===t){i=void 0;continue}i=e[f]}while(!i);return{done:!1,value:{edge:i.key,attributes:i.attributes,source:i.source.key,target:i.target.key,sourceAttributes:i.source.attributes,targetAttributes:i.target.attributes,undirected:i.undirected}}})}function CR(e,t,r,n){var i=t[r];if(i){var a=i.source,s=i.target;if(n(i.key,i.attributes,a.key,s.key,a.attributes,s.attributes,i.undirected)&&e)return i.key}}function IR(e,t,r,n){var i=t[r];if(i){var a=!1;do{if(a=n(i.key,i.attributes,i.source.key,i.target.key,i.source.attributes,i.target.attributes,i.undirected),e&&a)return i.key;i=i.next}while(i!==void 0)}}function _w(e,t){var r=e[t];return r.next!==void 0?new ap.default(function(){if(!r)return{done:!0};var n={edge:r.key,attributes:r.attributes,source:r.source.key,target:r.target.key,sourceAttributes:r.source.attributes,targetAttributes:r.target.attributes,undirected:r.undirected};return r=r.next,{done:!1,value:n}}):ap.default.of({edge:r.key,attributes:r.attributes,source:r.source.key,target:r.target.key,sourceAttributes:r.source.attributes,targetAttributes:r.target.attributes,undirected:r.undirected})}function xR(e,t){if(e.size===0)return[];if(t==="mixed"||t===e.type)return typeof Array.from=="function"?Array.from(e._edges.keys()):pD.default(e._edges.keys(),e._edges.size);for(var r=t==="undirected"?e.undirectedSize:e.directedSize,n=new Array(r),i=t==="undirected",a=e._edges.values(),s=0,f,h;f=a.next(),f.done!==!0;)h=f.value,h.undirected===i&&(n[s++]=h.key);return n}function wD(e,t,r,n){if(t.size!==0){for(var i=r!=="mixed"&&r!==t.type,a=r==="undirected",s,f,h=!1,y=t._edges.values();s=y.next(),s.done!==!0;)if(f=s.value,!(i&&f.undirected!==a)){var D=f,x=D.key,L=D.attributes,Y=D.source,ee=D.target;if(h=n(x,L,Y.key,ee.key,Y.attributes,ee.attributes,f.undirected),e&&h)return x}}}function PR(e,t){if(e.size===0)return ap.default.empty();var r=t!=="mixed"&&t!==e.type,n=t==="undirected",i=e._edges.values();return new ap.default(function(){for(var s,f;;){if(s=i.next(),s.done)return s;if(f=s.value,!(r&&f.undirected!==n))break}var h={edge:f.key,attributes:f.attributes,source:f.source.key,target:f.target.key,sourceAttributes:f.source.attributes,targetAttributes:f.target.attributes,undirected:f.undirected};return{value:h,done:!1}})}function Dw(e,t,r,n,i,a){var s=t?NR:AR,f;if(r!=="undirected"&&(n!=="out"&&(f=s(e,i.in,a),e&&f)||n!=="in"&&(f=s(e,i.out,a,n?void 0:i.key),e&&f))||r!=="directed"&&(f=s(e,i.undirected,a),e&&f))return f}function RR(e,t,r,n){var i=[];return Dw(!1,e,t,r,n,function(a){i.push(a)}),i}function kR(e,t,r){var n=ap.default.empty();return e!=="undirected"&&(t!=="out"&&typeof r.in<"u"&&(n=Jv.default(n,yw(r.in))),t!=="in"&&typeof r.out<"u"&&(n=Jv.default(n,yw(r.out,t?void 0:r.key)))),e!=="directed"&&typeof r.undirected<"u"&&(n=Jv.default(n,yw(r.undirected))),n}function Tw(e,t,r,n,i,a,s){var f=r?IR:CR,h;if(t!=="undirected"&&(typeof i.in<"u"&&n!=="out"&&(h=f(e,i.in,a,s),e&&h)||typeof i.out<"u"&&n!=="in"&&(n||i.key!==a)&&(h=f(e,i.out,a,s),e&&h))||t!=="directed"&&typeof i.undirected<"u"&&(h=f(e,i.undirected,a,s),e&&h))return h}function OR(e,t,r,n,i){var a=[];return Tw(!1,e,t,r,n,i,function(s){a.push(s)}),a}function MR(e,t,r,n){var i=ap.default.empty();return e!=="undirected"&&(typeof r.in<"u"&&t!=="out"&&n in r.in&&(i=Jv.default(i,_w(r.in,n))),typeof r.out<"u"&&t!=="in"&&n in r.out&&(t||r.key!==n)&&(i=Jv.default(i,_w(r.out,n)))),e!=="directed"&&typeof r.undirected<"u"&&n in r.undirected&&(i=Jv.default(i,_w(r.undirected,n))),i}function LR(e,t){var r=t.name,n=t.type,i=t.direction;e.prototype[r]=function(a,s){if(n!=="mixed"&&this.type!=="mixed"&&n!==this.type)return[];if(!arguments.length)return xR(this,n);if(arguments.length===1){a=""+a;var f=this._nodes.get(a);if(typeof f>"u")throw new ft("Graph.".concat(r,': could not find the "').concat(a,'" node in the graph.'));return RR(this.multi,n==="mixed"?this.type:n,i,f)}if(arguments.length===2){a=""+a,s=""+s;var h=this._nodes.get(a);if(!h)throw new ft("Graph.".concat(r,':  could not find the "').concat(a,'" source node in the graph.'));if(!this._nodes.has(s))throw new ft("Graph.".concat(r,':  could not find the "').concat(s,'" target node in the graph.'));return OR(n,this.multi,i,h,s)}throw new At("Graph.".concat(r,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}function FR(e,t){var r=t.name,n=t.type,i=t.direction,a="forEach"+r[0].toUpperCase()+r.slice(1,-1);e.prototype[a]=function(y,D,x){if(!(n!=="mixed"&&this.type!=="mixed"&&n!==this.type)){if(arguments.length===1)return x=y,wD(!1,this,n,x);if(arguments.length===2){y=""+y,x=D;var L=this._nodes.get(y);if(typeof L>"u")throw new ft("Graph.".concat(a,': could not find the "').concat(y,'" node in the graph.'));return Dw(!1,this.multi,n==="mixed"?this.type:n,i,L,x)}if(arguments.length===3){y=""+y,D=""+D;var Y=this._nodes.get(y);if(!Y)throw new ft("Graph.".concat(a,':  could not find the "').concat(y,'" source node in the graph.'));if(!this._nodes.has(D))throw new ft("Graph.".concat(a,':  could not find the "').concat(D,'" target node in the graph.'));return Tw(!1,n,this.multi,i,Y,D,x)}throw new At("Graph.".concat(a,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))}};var s="map"+r[0].toUpperCase()+r.slice(1);e.prototype[s]=function(){var y=Array.prototype.slice.call(arguments),D=y.pop(),x;if(y.length===0){var L=0;n!=="directed"&&(L+=this.undirectedSize),n!=="undirected"&&(L+=this.directedSize),x=new Array(L);var Y=0;y.push(function(ee,W,H,X,ue,ce,he){x[Y++]=D(ee,W,H,X,ue,ce,he)})}else x=[],y.push(function(ee,W,H,X,ue,ce,he){x.push(D(ee,W,H,X,ue,ce,he))});return this[a].apply(this,y),x};var f="filter"+r[0].toUpperCase()+r.slice(1);e.prototype[f]=function(){var y=Array.prototype.slice.call(arguments),D=y.pop(),x=[];return y.push(function(L,Y,ee,W,H,X,ue){D(L,Y,ee,W,H,X,ue)&&x.push(L)}),this[a].apply(this,y),x};var h="reduce"+r[0].toUpperCase()+r.slice(1);e.prototype[h]=function(){var y=Array.prototype.slice.call(arguments);if(y.length<2||y.length>4)throw new At("Graph.".concat(h,": invalid number of arguments (expecting 2, 3 or 4 and got ").concat(y.length,")."));if(typeof y[y.length-1]=="function"&&typeof y[y.length-2]!="function")throw new At("Graph.".concat(h,": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array."));var D,x;y.length===2?(D=y[0],x=y[1],y=[]):y.length===3?(D=y[1],x=y[2],y=[y[0]]):y.length===4&&(D=y[2],x=y[3],y=[y[0],y[1]]);var L=x;return y.push(function(Y,ee,W,H,X,ue,ce){L=D(L,Y,ee,W,H,X,ue,ce)}),this[a].apply(this,y),L}}function UR(e,t){var r=t.name,n=t.type,i=t.direction,a="find"+r[0].toUpperCase()+r.slice(1,-1);e.prototype[a]=function(h,y,D){if(n!=="mixed"&&this.type!=="mixed"&&n!==this.type)return!1;if(arguments.length===1)return D=h,wD(!0,this,n,D);if(arguments.length===2){h=""+h,D=y;var x=this._nodes.get(h);if(typeof x>"u")throw new ft("Graph.".concat(a,': could not find the "').concat(h,'" node in the graph.'));return Dw(!0,this.multi,n==="mixed"?this.type:n,i,x,D)}if(arguments.length===3){h=""+h,y=""+y;var L=this._nodes.get(h);if(!L)throw new ft("Graph.".concat(a,':  could not find the "').concat(h,'" source node in the graph.'));if(!this._nodes.has(y))throw new ft("Graph.".concat(a,':  could not find the "').concat(y,'" target node in the graph.'));return Tw(!0,n,this.multi,i,L,y,D)}throw new At("Graph.".concat(a,": too many arguments (expecting 1, 2 or 3 and got ").concat(arguments.length,")."))};var s="some"+r[0].toUpperCase()+r.slice(1,-1);e.prototype[s]=function(){var h=Array.prototype.slice.call(arguments),y=h.pop();h.push(function(x,L,Y,ee,W,H,X){return y(x,L,Y,ee,W,H,X)});var D=this[a].apply(this,h);return!!D};var f="every"+r[0].toUpperCase()+r.slice(1,-1);e.prototype[f]=function(){var h=Array.prototype.slice.call(arguments),y=h.pop();h.push(function(x,L,Y,ee,W,H,X){return!y(x,L,Y,ee,W,H,X)});var D=this[a].apply(this,h);return!D}}function BR(e,t){var r=t.name,n=t.type,i=t.direction,a=r.slice(0,-1)+"Entries";e.prototype[a]=function(s,f){if(n!=="mixed"&&this.type!=="mixed"&&n!==this.type)return ap.default.empty();if(!arguments.length)return PR(this,n);if(arguments.length===1){s=""+s;var h=this._nodes.get(s);if(!h)throw new ft("Graph.".concat(a,': could not find the "').concat(s,'" node in the graph.'));return kR(n,i,h)}if(arguments.length===2){s=""+s,f=""+f;var y=this._nodes.get(s);if(!y)throw new ft("Graph.".concat(a,':  could not find the "').concat(s,'" source node in the graph.'));if(!this._nodes.has(f))throw new ft("Graph.".concat(a,':  could not find the "').concat(f,'" target node in the graph.'));return MR(n,i,y,f)}throw new At("Graph.".concat(a,": too many arguments (expecting 0, 1 or 2 and got ").concat(arguments.length,")."))}}function jR(e){TR.forEach(function(t){LR(e,t),FR(e,t),UR(e,t),BR(e,t)})}var GR=[{name:"neighbors",type:"mixed"},{name:"inNeighbors",type:"directed",direction:"in"},{name:"outNeighbors",type:"directed",direction:"out"},{name:"inboundNeighbors",type:"mixed",direction:"in"},{name:"outboundNeighbors",type:"mixed",direction:"out"},{name:"directedNeighbors",type:"directed"},{name:"undirectedNeighbors",type:"undirected"}];function D0(){this.A=null,this.B=null}D0.prototype.wrap=function(e){this.A===null?this.A=e:this.B===null&&(this.B=e)};D0.prototype.has=function(e){return this.A!==null&&e in this.A||this.B!==null&&e in this.B};function o_(e,t,r,n,i){for(var a in n){var s=n[a],f=s.source,h=s.target,y=f===r?h:f;if(!(t&&t.has(y.key))){var D=i(y.key,y.attributes);if(e&&D)return y.key}}}function Aw(e,t,r,n,i){if(t!=="mixed"){if(t==="undirected")return o_(e,null,n,n.undirected,i);if(typeof r=="string")return o_(e,null,n,n[r],i)}var a=new D0,s;if(t!=="undirected"){if(r!=="out"){if(s=o_(e,null,n,n.in,i),e&&s)return s;a.wrap(n.in)}if(r!=="in"){if(s=o_(e,a,n,n.out,i),e&&s)return s;a.wrap(n.out)}}if(t!=="directed"&&(s=o_(e,a,n,n.undirected,i),e&&s))return s}function qR(e,t,r){if(e!=="mixed"){if(e==="undirected")return Object.keys(r.undirected);if(typeof t=="string")return Object.keys(r[t])}var n=[];return Aw(!1,e,t,r,function(i){n.push(i)}),n}function s_(e,t,r){var n=Object.keys(r),i=n.length,a=0;return new ap.default(function(){var f=null;do{if(a>=i)return e&&e.wrap(r),{done:!0};var h=r[n[a++]],y=h.source,D=h.target;if(f=y===t?D:y,e&&e.has(f.key)){f=null;continue}}while(f===null);return{done:!1,value:{neighbor:f.key,attributes:f.attributes}}})}function YR(e,t,r){if(e!=="mixed"){if(e==="undirected")return s_(null,r,r.undirected);if(typeof t=="string")return s_(null,r,r[t])}var n=ap.default.empty(),i=new D0;return e!=="undirected"&&(t!=="out"&&(n=Jv.default(n,s_(i,r,r.in))),t!=="in"&&(n=Jv.default(n,s_(i,r,r.out)))),e!=="directed"&&(n=Jv.default(n,s_(i,r,r.undirected))),n}function zR(e,t){var r=t.name,n=t.type,i=t.direction;e.prototype[r]=function(a){if(n!=="mixed"&&this.type!=="mixed"&&n!==this.type)return[];a=""+a;var s=this._nodes.get(a);if(typeof s>"u")throw new ft("Graph.".concat(r,': could not find the "').concat(a,'" node in the graph.'));return qR(n==="mixed"?this.type:n,i,s)}}function $R(e,t){var r=t.name,n=t.type,i=t.direction,a="forEach"+r[0].toUpperCase()+r.slice(1,-1);e.prototype[a]=function(y,D){if(!(n!=="mixed"&&this.type!=="mixed"&&n!==this.type)){y=""+y;var x=this._nodes.get(y);if(typeof x>"u")throw new ft("Graph.".concat(a,': could not find the "').concat(y,'" node in the graph.'));Aw(!1,n==="mixed"?this.type:n,i,x,D)}};var s="map"+r[0].toUpperCase()+r.slice(1);e.prototype[s]=function(y,D){var x=[];return this[a](y,function(L,Y){x.push(D(L,Y))}),x};var f="filter"+r[0].toUpperCase()+r.slice(1);e.prototype[f]=function(y,D){var x=[];return this[a](y,function(L,Y){D(L,Y)&&x.push(L)}),x};var h="reduce"+r[0].toUpperCase()+r.slice(1);e.prototype[h]=function(y,D,x){if(arguments.length<3)throw new At("Graph.".concat(h,": missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array."));var L=x;return this[a](y,function(Y,ee){L=D(L,Y,ee)}),L}}function VR(e,t){var r=t.name,n=t.type,i=t.direction,a=r[0].toUpperCase()+r.slice(1,-1),s="find"+a;e.prototype[s]=function(y,D){if(!(n!=="mixed"&&this.type!=="mixed"&&n!==this.type)){y=""+y;var x=this._nodes.get(y);if(typeof x>"u")throw new ft("Graph.".concat(s,': could not find the "').concat(y,'" node in the graph.'));return Aw(!0,n==="mixed"?this.type:n,i,x,D)}};var f="some"+a;e.prototype[f]=function(y,D){var x=this[s](y,D);return!!x};var h="every"+a;e.prototype[h]=function(y,D){var x=this[s](y,function(L,Y){return!D(L,Y)});return!x}}function WR(e,t){var r=t.name,n=t.type,i=t.direction,a=r.slice(0,-1)+"Entries";e.prototype[a]=function(s){if(n!=="mixed"&&this.type!=="mixed"&&n!==this.type)return ap.default.empty();s=""+s;var f=this._nodes.get(s);if(typeof f>"u")throw new ft("Graph.".concat(a,': could not find the "').concat(s,'" node in the graph.'));return YR(n==="mixed"?this.type:n,i,f)}}function HR(e){GR.forEach(function(t){zR(e,t),$R(e,t),VR(e,t),WR(e,t)})}function w0(e,t,r,n,i){for(var a=n._nodes.values(),s=n.type,f,h,y,D,x,L,Y;f=a.next(),f.done!==!0;){var ee=!1;if(h=f.value,s!=="undirected"){D=h.out;for(y in D){x=D[y];do{if(L=x.target,ee=!0,Y=i(h.key,L.key,h.attributes,L.attributes,x.key,x.attributes,x.undirected),e&&Y)return x;x=x.next}while(x)}}if(s!=="directed"){D=h.undirected;for(y in D)if(!(t&&h.key>y)){x=D[y];do{if(L=x.target,L.key!==y&&(L=x.source),ee=!0,Y=i(h.key,L.key,h.attributes,L.attributes,x.key,x.attributes,x.undirected),e&&Y)return x;x=x.next}while(x)}}if(r&&!ee&&(Y=i(h.key,null,h.attributes,null,null,null,null),e&&Y))return null}}function KR(e,t){var r={key:e};return hD(t.attributes)||(r.attributes=rs({},t.attributes)),r}function JR(e,t,r){var n={key:t,source:r.source.key,target:r.target.key};return hD(r.attributes)||(n.attributes=rs({},r.attributes)),e==="mixed"&&r.undirected&&(n.undirected=!0),n}function ZR(e){if(!Du(e))throw new At('Graph.import: invalid serialized node. A serialized node should be a plain object with at least a "key" property.');if(!("key"in e))throw new At("Graph.import: serialized node is missing its key.");if("attributes"in e&&(!Du(e.attributes)||e.attributes===null))throw new At("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.")}function XR(e){if(!Du(e))throw new At('Graph.import: invalid serialized edge. A serialized edge should be a plain object with at least a "source" & "target" property.');if(!("source"in e))throw new At("Graph.import: serialized edge is missing its source.");if(!("target"in e))throw new At("Graph.import: serialized edge is missing its target.");if("attributes"in e&&(!Du(e.attributes)||e.attributes===null))throw new At("Graph.import: invalid attributes. Attributes should be a plain object, null or omitted.");if("undirected"in e&&typeof e.undirected!="boolean")throw new At("Graph.import: invalid undirectedness information. Undirected should be boolean or omitted.")}var QR=tR(),ek=new Set(["directed","undirected","mixed"]),lD=new Set(["domain","_events","_eventsCount","_maxListeners"]),tk=[{name:function(t){return"".concat(t,"Edge")},generateKey:!0},{name:function(t){return"".concat(t,"DirectedEdge")},generateKey:!0,type:"directed"},{name:function(t){return"".concat(t,"UndirectedEdge")},generateKey:!0,type:"undirected"},{name:function(t){return"".concat(t,"EdgeWithKey")}},{name:function(t){return"".concat(t,"DirectedEdgeWithKey")},type:"directed"},{name:function(t){return"".concat(t,"UndirectedEdgeWithKey")},type:"undirected"}],rk={allowSelfLoops:!0,multi:!1,type:"mixed"};function nk(e,t,r){if(r&&!Du(r))throw new At('Graph.addNode: invalid attributes. Expecting an object but got "'.concat(r,'"'));if(t=""+t,r=r||{},e._nodes.has(t))throw new Sr('Graph.addNode: the "'.concat(t,'" node already exist in the graph.'));var n=new e.NodeDataClass(t,r);return e._nodes.set(t,n),e.emit("nodeAdded",{key:t,attributes:r}),n}function dD(e,t,r){var n=new e.NodeDataClass(t,r);return e._nodes.set(t,n),e.emit("nodeAdded",{key:t,attributes:r}),n}function bD(e,t,r,n,i,a,s,f){if(!n&&e.type==="undirected")throw new Sr("Graph.".concat(t,": you cannot add a directed edge to an undirected graph. Use the #.addEdge or #.addUndirectedEdge instead."));if(n&&e.type==="directed")throw new Sr("Graph.".concat(t,": you cannot add an undirected edge to a directed graph. Use the #.addEdge or #.addDirectedEdge instead."));if(f&&!Du(f))throw new At("Graph.".concat(t,': invalid attributes. Expecting an object but got "').concat(f,'"'));if(a=""+a,s=""+s,f=f||{},!e.allowSelfLoops&&a===s)throw new Sr("Graph.".concat(t,': source & target are the same ("').concat(a,`"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`));var h=e._nodes.get(a),y=e._nodes.get(s);if(!h)throw new ft("Graph.".concat(t,': source node "').concat(a,'" not found.'));if(!y)throw new ft("Graph.".concat(t,': target node "').concat(s,'" not found.'));var D={key:null,undirected:n,source:a,target:s,attributes:f};if(r)i=e._edgeKeyGenerator();else if(i=""+i,e._edges.has(i))throw new Sr("Graph.".concat(t,': the "').concat(i,'" edge already exists in the graph.'));if(!e.multi&&(n?typeof h.undirected[s]<"u":typeof h.out[s]<"u"))throw new Sr("Graph.".concat(t,': an edge linking "').concat(a,'" to "').concat(s,`" already exists. If you really want to add multiple edges linking those nodes, you should create a multi graph by using the 'multi' option.`));var x=new hy(n,i,h,y,f);e._edges.set(i,x);var L=a===s;return n?(h.undirectedDegree++,y.undirectedDegree++,L&&(h.undirectedLoops++,e._undirectedSelfLoopCount++)):(h.outDegree++,y.inDegree++,L&&(h.directedLoops++,e._directedSelfLoopCount++)),e.multi?x.attachMulti():x.attach(),n?e._undirectedSize++:e._directedSize++,D.key=i,e.emit("edgeAdded",D),i}function ik(e,t,r,n,i,a,s,f,h){if(!n&&e.type==="undirected")throw new Sr("Graph.".concat(t,": you cannot merge/update a directed edge to an undirected graph. Use the #.mergeEdge/#.updateEdge or #.addUndirectedEdge instead."));if(n&&e.type==="directed")throw new Sr("Graph.".concat(t,": you cannot merge/update an undirected edge to a directed graph. Use the #.mergeEdge/#.updateEdge or #.addDirectedEdge instead."));if(f){if(h){if(typeof f!="function")throw new At("Graph.".concat(t,': invalid updater function. Expecting a function but got "').concat(f,'"'))}else if(!Du(f))throw new At("Graph.".concat(t,': invalid attributes. Expecting an object but got "').concat(f,'"'))}a=""+a,s=""+s;var y;if(h&&(y=f,f=void 0),!e.allowSelfLoops&&a===s)throw new Sr("Graph.".concat(t,': source & target are the same ("').concat(a,`"), thus creating a loop explicitly forbidden by this graph 'allowSelfLoops' option set to false.`));var D=e._nodes.get(a),x=e._nodes.get(s),L,Y;if(!r&&(L=e._edges.get(i),L)){if((L.source.key!==a||L.target.key!==s)&&(!n||L.source.key!==s||L.target.key!==a))throw new Sr("Graph.".concat(t,': inconsistency detected when attempting to merge the "').concat(i,'" edge with "').concat(a,'" source & "').concat(s,'" target vs. ("').concat(L.source.key,'", "').concat(L.target.key,'").'));Y=L}if(!Y&&!e.multi&&D&&(Y=n?D.undirected[s]:D.out[s]),Y){var ee=[Y.key,!1,!1,!1];if(h?!y:!f)return ee;if(h){var W=Y.attributes;Y.attributes=y(W),e.emit("edgeAttributesUpdated",{type:"replace",key:Y.key,attributes:Y.attributes})}else rs(Y.attributes,f),e.emit("edgeAttributesUpdated",{type:"merge",key:Y.key,attributes:Y.attributes,data:f});return ee}f=f||{},h&&y&&(f=y(f));var H={key:null,undirected:n,source:a,target:s,attributes:f};if(r)i=e._edgeKeyGenerator();else if(i=""+i,e._edges.has(i))throw new Sr("Graph.".concat(t,': the "').concat(i,'" edge already exists in the graph.'));var X=!1,ue=!1;D||(D=dD(e,a,{}),X=!0,a===s&&(x=D,ue=!0)),x||(x=dD(e,s,{}),ue=!0),L=new hy(n,i,D,x,f),e._edges.set(i,L);var ce=a===s;return n?(D.undirectedDegree++,x.undirectedDegree++,ce&&(D.undirectedLoops++,e._undirectedSelfLoopCount++)):(D.outDegree++,x.inDegree++,ce&&(D.directedLoops++,e._directedSelfLoopCount++)),e.multi?L.attachMulti():L.attach(),n?e._undirectedSize++:e._directedSize++,H.key=i,e.emit("edgeAdded",H),[i,!0,X,ue]}function py(e,t){e._edges.delete(t.key);var r=t.source,n=t.target,i=t.attributes,a=t.undirected,s=r===n;a?(r.undirectedDegree--,n.undirectedDegree--,s&&(r.undirectedLoops--,e._undirectedSelfLoopCount--)):(r.outDegree--,n.inDegree--,s&&(r.directedLoops--,e._directedSelfLoopCount--)),e.multi?t.detachMulti():t.detach(),a?e._undirectedSize--:e._directedSize--,e.emit("edgeDropped",{key:t.key,attributes:i,source:r.key,target:n.key,undirected:a})}var Fi=function(e){nv(t,e);function t(n){var i;if(i=e.call(this)||this,n=rs({},rk,n),typeof n.multi!="boolean")throw new At(`Graph.constructor: invalid 'multi' option. Expecting a boolean but got "`.concat(n.multi,'".'));if(!ek.has(n.type))throw new At(`Graph.constructor: invalid 'type' option. Should be one of "mixed", "directed" or "undirected" but got "`.concat(n.type,'".'));if(typeof n.allowSelfLoops!="boolean")throw new At(`Graph.constructor: invalid 'allowSelfLoops' option. Expecting a boolean but got "`.concat(n.allowSelfLoops,'".'));var a=n.type==="mixed"?vD:n.type==="directed"?mD:gD;np(Li(i),"NodeDataClass",a);var s="geid_"+QR()+"_",f=0,h=function(){var D;do D=s+f++;while(i._edges.has(D));return D};return np(Li(i),"_attributes",{}),np(Li(i),"_nodes",new Map),np(Li(i),"_edges",new Map),np(Li(i),"_directedSize",0),np(Li(i),"_undirectedSize",0),np(Li(i),"_directedSelfLoopCount",0),np(Li(i),"_undirectedSelfLoopCount",0),np(Li(i),"_edgeKeyGenerator",h),np(Li(i),"_options",n),lD.forEach(function(y){return np(Li(i),y,i[y])}),ah(Li(i),"order",function(){return i._nodes.size}),ah(Li(i),"size",function(){return i._edges.size}),ah(Li(i),"directedSize",function(){return i._directedSize}),ah(Li(i),"undirectedSize",function(){return i._undirectedSize}),ah(Li(i),"selfLoopCount",function(){return i._directedSelfLoopCount+i._undirectedSelfLoopCount}),ah(Li(i),"directedSelfLoopCount",function(){return i._directedSelfLoopCount}),ah(Li(i),"undirectedSelfLoopCount",function(){return i._undirectedSelfLoopCount}),ah(Li(i),"multi",i._options.multi),ah(Li(i),"type",i._options.type),ah(Li(i),"allowSelfLoops",i._options.allowSelfLoops),ah(Li(i),"implementation",function(){return"graphology"}),i}var r=t.prototype;return r._resetInstanceCounters=function(){this._directedSize=0,this._undirectedSize=0,this._directedSelfLoopCount=0,this._undirectedSelfLoopCount=0},r.hasNode=function(i){return this._nodes.has(""+i)},r.hasDirectedEdge=function(i,a){if(this.type==="undirected")return!1;if(arguments.length===1){var s=""+i,f=this._edges.get(s);return!!f&&!f.undirected}else if(arguments.length===2){i=""+i,a=""+a;var h=this._nodes.get(i);return h?h.out.hasOwnProperty(a):!1}throw new At("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},r.hasUndirectedEdge=function(i,a){if(this.type==="directed")return!1;if(arguments.length===1){var s=""+i,f=this._edges.get(s);return!!f&&f.undirected}else if(arguments.length===2){i=""+i,a=""+a;var h=this._nodes.get(i);return h?h.undirected.hasOwnProperty(a):!1}throw new At("Graph.hasDirectedEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},r.hasEdge=function(i,a){if(arguments.length===1){var s=""+i;return this._edges.has(s)}else if(arguments.length===2){i=""+i,a=""+a;var f=this._nodes.get(i);return f?typeof f.out<"u"&&f.out.hasOwnProperty(a)||typeof f.undirected<"u"&&f.undirected.hasOwnProperty(a):!1}throw new At("Graph.hasEdge: invalid arity (".concat(arguments.length,", instead of 1 or 2). You can either ask for an edge id or for the existence of an edge between a source & a target."))},r.directedEdge=function(i,a){if(this.type!=="undirected"){if(i=""+i,a=""+a,this.multi)throw new Sr("Graph.directedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.directedEdges instead.");var s=this._nodes.get(i);if(!s)throw new ft('Graph.directedEdge: could not find the "'.concat(i,'" source node in the graph.'));if(!this._nodes.has(a))throw new ft('Graph.directedEdge: could not find the "'.concat(a,'" target node in the graph.'));var f=s.out&&s.out[a]||void 0;if(f)return f.key}},r.undirectedEdge=function(i,a){if(this.type!=="directed"){if(i=""+i,a=""+a,this.multi)throw new Sr("Graph.undirectedEdge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.undirectedEdges instead.");var s=this._nodes.get(i);if(!s)throw new ft('Graph.undirectedEdge: could not find the "'.concat(i,'" source node in the graph.'));if(!this._nodes.has(a))throw new ft('Graph.undirectedEdge: could not find the "'.concat(a,'" target node in the graph.'));var f=s.undirected&&s.undirected[a]||void 0;if(f)return f.key}},r.edge=function(i,a){if(this.multi)throw new Sr("Graph.edge: this method is irrelevant with multigraphs since there might be multiple edges between source & target. See #.edges instead.");i=""+i,a=""+a;var s=this._nodes.get(i);if(!s)throw new ft('Graph.edge: could not find the "'.concat(i,'" source node in the graph.'));if(!this._nodes.has(a))throw new ft('Graph.edge: could not find the "'.concat(a,'" target node in the graph.'));var f=s.out&&s.out[a]||s.undirected&&s.undirected[a]||void 0;if(f)return f.key},r.areDirectedNeighbors=function(i,a){i=""+i,a=""+a;var s=this._nodes.get(i);if(!s)throw new ft('Graph.areDirectedNeighbors: could not find the "'.concat(i,'" node in the graph.'));return this.type==="undirected"?!1:a in s.in||a in s.out},r.areOutNeighbors=function(i,a){i=""+i,a=""+a;var s=this._nodes.get(i);if(!s)throw new ft('Graph.areOutNeighbors: could not find the "'.concat(i,'" node in the graph.'));return this.type==="undirected"?!1:a in s.out},r.areInNeighbors=function(i,a){i=""+i,a=""+a;var s=this._nodes.get(i);if(!s)throw new ft('Graph.areInNeighbors: could not find the "'.concat(i,'" node in the graph.'));return this.type==="undirected"?!1:a in s.in},r.areUndirectedNeighbors=function(i,a){i=""+i,a=""+a;var s=this._nodes.get(i);if(!s)throw new ft('Graph.areUndirectedNeighbors: could not find the "'.concat(i,'" node in the graph.'));return this.type==="directed"?!1:a in s.undirected},r.areNeighbors=function(i,a){i=""+i,a=""+a;var s=this._nodes.get(i);if(!s)throw new ft('Graph.areNeighbors: could not find the "'.concat(i,'" node in the graph.'));return this.type!=="undirected"&&(a in s.in||a in s.out)||this.type!=="directed"&&a in s.undirected},r.areInboundNeighbors=function(i,a){i=""+i,a=""+a;var s=this._nodes.get(i);if(!s)throw new ft('Graph.areInboundNeighbors: could not find the "'.concat(i,'" node in the graph.'));return this.type!=="undirected"&&a in s.in||this.type!=="directed"&&a in s.undirected},r.areOutboundNeighbors=function(i,a){i=""+i,a=""+a;var s=this._nodes.get(i);if(!s)throw new ft('Graph.areOutboundNeighbors: could not find the "'.concat(i,'" node in the graph.'));return this.type!=="undirected"&&a in s.out||this.type!=="directed"&&a in s.undirected},r.inDegree=function(i){i=""+i;var a=this._nodes.get(i);if(!a)throw new ft('Graph.inDegree: could not find the "'.concat(i,'" node in the graph.'));return this.type==="undirected"?0:a.inDegree},r.outDegree=function(i){i=""+i;var a=this._nodes.get(i);if(!a)throw new ft('Graph.outDegree: could not find the "'.concat(i,'" node in the graph.'));return this.type==="undirected"?0:a.outDegree},r.directedDegree=function(i){i=""+i;var a=this._nodes.get(i);if(!a)throw new ft('Graph.directedDegree: could not find the "'.concat(i,'" node in the graph.'));return this.type==="undirected"?0:a.inDegree+a.outDegree},r.undirectedDegree=function(i){i=""+i;var a=this._nodes.get(i);if(!a)throw new ft('Graph.undirectedDegree: could not find the "'.concat(i,'" node in the graph.'));return this.type==="directed"?0:a.undirectedDegree},r.inboundDegree=function(i){i=""+i;var a=this._nodes.get(i);if(!a)throw new ft('Graph.inboundDegree: could not find the "'.concat(i,'" node in the graph.'));var s=0;return this.type!=="directed"&&(s+=a.undirectedDegree),this.type!=="undirected"&&(s+=a.inDegree),s},r.outboundDegree=function(i){i=""+i;var a=this._nodes.get(i);if(!a)throw new ft('Graph.outboundDegree: could not find the "'.concat(i,'" node in the graph.'));var s=0;return this.type!=="directed"&&(s+=a.undirectedDegree),this.type!=="undirected"&&(s+=a.outDegree),s},r.degree=function(i){i=""+i;var a=this._nodes.get(i);if(!a)throw new ft('Graph.degree: could not find the "'.concat(i,'" node in the graph.'));var s=0;return this.type!=="directed"&&(s+=a.undirectedDegree),this.type!=="undirected"&&(s+=a.inDegree+a.outDegree),s},r.inDegreeWithoutSelfLoops=function(i){i=""+i;var a=this._nodes.get(i);if(!a)throw new ft('Graph.inDegreeWithoutSelfLoops: could not find the "'.concat(i,'" node in the graph.'));return this.type==="undirected"?0:a.inDegree-a.directedLoops},r.outDegreeWithoutSelfLoops=function(i){i=""+i;var a=this._nodes.get(i);if(!a)throw new ft('Graph.outDegreeWithoutSelfLoops: could not find the "'.concat(i,'" node in the graph.'));return this.type==="undirected"?0:a.outDegree-a.directedLoops},r.directedDegreeWithoutSelfLoops=function(i){i=""+i;var a=this._nodes.get(i);if(!a)throw new ft('Graph.directedDegreeWithoutSelfLoops: could not find the "'.concat(i,'" node in the graph.'));return this.type==="undirected"?0:a.inDegree+a.outDegree-a.directedLoops*2},r.undirectedDegreeWithoutSelfLoops=function(i){i=""+i;var a=this._nodes.get(i);if(!a)throw new ft('Graph.undirectedDegreeWithoutSelfLoops: could not find the "'.concat(i,'" node in the graph.'));return this.type==="directed"?0:a.undirectedDegree-a.undirectedLoops*2},r.inboundDegreeWithoutSelfLoops=function(i){i=""+i;var a=this._nodes.get(i);if(!a)throw new ft('Graph.inboundDegreeWithoutSelfLoops: could not find the "'.concat(i,'" node in the graph.'));var s=0,f=0;return this.type!=="directed"&&(s+=a.undirectedDegree,f+=a.undirectedLoops*2),this.type!=="undirected"&&(s+=a.inDegree,f+=a.directedLoops),s-f},r.outboundDegreeWithoutSelfLoops=function(i){i=""+i;var a=this._nodes.get(i);if(!a)throw new ft('Graph.outboundDegreeWithoutSelfLoops: could not find the "'.concat(i,'" node in the graph.'));var s=0,f=0;return this.type!=="directed"&&(s+=a.undirectedDegree,f+=a.undirectedLoops*2),this.type!=="undirected"&&(s+=a.outDegree,f+=a.directedLoops),s-f},r.degreeWithoutSelfLoops=function(i){i=""+i;var a=this._nodes.get(i);if(!a)throw new ft('Graph.degreeWithoutSelfLoops: could not find the "'.concat(i,'" node in the graph.'));var s=0,f=0;return this.type!=="directed"&&(s+=a.undirectedDegree,f+=a.undirectedLoops*2),this.type!=="undirected"&&(s+=a.inDegree+a.outDegree,f+=a.directedLoops*2),s-f},r.source=function(i){i=""+i;var a=this._edges.get(i);if(!a)throw new ft('Graph.source: could not find the "'.concat(i,'" edge in the graph.'));return a.source.key},r.target=function(i){i=""+i;var a=this._edges.get(i);if(!a)throw new ft('Graph.target: could not find the "'.concat(i,'" edge in the graph.'));return a.target.key},r.extremities=function(i){i=""+i;var a=this._edges.get(i);if(!a)throw new ft('Graph.extremities: could not find the "'.concat(i,'" edge in the graph.'));return[a.source.key,a.target.key]},r.opposite=function(i,a){i=""+i,a=""+a;var s=this._edges.get(a);if(!s)throw new ft('Graph.opposite: could not find the "'.concat(a,'" edge in the graph.'));var f=s.source.key,h=s.target.key;if(i===f)return h;if(i===h)return f;throw new ft('Graph.opposite: the "'.concat(i,'" node is not attached to the "').concat(a,'" edge (').concat(f,", ").concat(h,")."))},r.hasExtremity=function(i,a){i=""+i,a=""+a;var s=this._edges.get(i);if(!s)throw new ft('Graph.hasExtremity: could not find the "'.concat(i,'" edge in the graph.'));return s.source.key===a||s.target.key===a},r.isUndirected=function(i){i=""+i;var a=this._edges.get(i);if(!a)throw new ft('Graph.isUndirected: could not find the "'.concat(i,'" edge in the graph.'));return a.undirected},r.isDirected=function(i){i=""+i;var a=this._edges.get(i);if(!a)throw new ft('Graph.isDirected: could not find the "'.concat(i,'" edge in the graph.'));return!a.undirected},r.isSelfLoop=function(i){i=""+i;var a=this._edges.get(i);if(!a)throw new ft('Graph.isSelfLoop: could not find the "'.concat(i,'" edge in the graph.'));return a.source===a.target},r.addNode=function(i,a){var s=nk(this,i,a);return s.key},r.mergeNode=function(i,a){if(a&&!Du(a))throw new At('Graph.mergeNode: invalid attributes. Expecting an object but got "'.concat(a,'"'));i=""+i,a=a||{};var s=this._nodes.get(i);return s?(a&&(rs(s.attributes,a),this.emit("nodeAttributesUpdated",{type:"merge",key:i,attributes:s.attributes,data:a})),[i,!1]):(s=new this.NodeDataClass(i,a),this._nodes.set(i,s),this.emit("nodeAdded",{key:i,attributes:a}),[i,!0])},r.updateNode=function(i,a){if(a&&typeof a!="function")throw new At('Graph.updateNode: invalid updater function. Expecting a function but got "'.concat(a,'"'));i=""+i;var s=this._nodes.get(i);if(s){if(a){var f=s.attributes;s.attributes=a(f),this.emit("nodeAttributesUpdated",{type:"replace",key:i,attributes:s.attributes})}return[i,!1]}var h=a?a({}):{};return s=new this.NodeDataClass(i,h),this._nodes.set(i,s),this.emit("nodeAdded",{key:i,attributes:h}),[i,!0]},r.dropNode=function(i){i=""+i;var a=this._nodes.get(i);if(!a)throw new ft('Graph.dropNode: could not find the "'.concat(i,'" node in the graph.'));var s;if(this.type!=="undirected"){for(var f in a.out){s=a.out[f];do py(this,s),s=s.next;while(s)}for(var h in a.in){s=a.in[h];do py(this,s),s=s.next;while(s)}}if(this.type!=="directed")for(var y in a.undirected){s=a.undirected[y];do py(this,s),s=s.next;while(s)}this._nodes.delete(i),this.emit("nodeDropped",{key:i,attributes:a.attributes})},r.dropEdge=function(i){var a;if(arguments.length>1){var s=""+arguments[0],f=""+arguments[1];if(a=ip(this,s,f,this.type),!a)throw new ft('Graph.dropEdge: could not find the "'.concat(s,'" -> "').concat(f,'" edge in the graph.'))}else if(i=""+i,a=this._edges.get(i),!a)throw new ft('Graph.dropEdge: could not find the "'.concat(i,'" edge in the graph.'));return py(this,a),this},r.dropDirectedEdge=function(i,a){if(arguments.length<2)throw new Sr("Graph.dropDirectedEdge: it does not make sense to try and drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new Sr("Graph.dropDirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");i=""+i,a=""+a;var s=ip(this,i,a,"directed");if(!s)throw new ft('Graph.dropDirectedEdge: could not find a "'.concat(i,'" -> "').concat(a,'" edge in the graph.'));return py(this,s),this},r.dropUndirectedEdge=function(i,a){if(arguments.length<2)throw new Sr("Graph.dropUndirectedEdge: it does not make sense to drop a directed edge by key. What if the edge with this key is undirected? Use #.dropEdge for this purpose instead.");if(this.multi)throw new Sr("Graph.dropUndirectedEdge: cannot use a {source,target} combo when dropping an edge in a MultiGraph since we cannot infer the one you want to delete as there could be multiple ones.");var s=ip(this,i,a,"undirected");if(!s)throw new ft('Graph.dropUndirectedEdge: could not find a "'.concat(i,'" -> "').concat(a,'" edge in the graph.'));return py(this,s),this},r.clear=function(){this._edges.clear(),this._nodes.clear(),this._resetInstanceCounters(),this.emit("cleared")},r.clearEdges=function(){for(var i=this._nodes.values(),a;a=i.next(),a.done!==!0;)a.value.clear();this._edges.clear(),this._resetInstanceCounters(),this.emit("edgesCleared")},r.getAttribute=function(i){return this._attributes[i]},r.getAttributes=function(){return this._attributes},r.hasAttribute=function(i){return this._attributes.hasOwnProperty(i)},r.setAttribute=function(i,a){return this._attributes[i]=a,this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:i}),this},r.updateAttribute=function(i,a){if(typeof a!="function")throw new At("Graph.updateAttribute: updater should be a function.");var s=this._attributes[i];return this._attributes[i]=a(s),this.emit("attributesUpdated",{type:"set",attributes:this._attributes,name:i}),this},r.removeAttribute=function(i){return delete this._attributes[i],this.emit("attributesUpdated",{type:"remove",attributes:this._attributes,name:i}),this},r.replaceAttributes=function(i){if(!Du(i))throw new At("Graph.replaceAttributes: provided attributes are not a plain object.");return this._attributes=i,this.emit("attributesUpdated",{type:"replace",attributes:this._attributes}),this},r.mergeAttributes=function(i){if(!Du(i))throw new At("Graph.mergeAttributes: provided attributes are not a plain object.");return rs(this._attributes,i),this.emit("attributesUpdated",{type:"merge",attributes:this._attributes,data:i}),this},r.updateAttributes=function(i){if(typeof i!="function")throw new At("Graph.updateAttributes: provided updater is not a function.");return this._attributes=i(this._attributes),this.emit("attributesUpdated",{type:"update",attributes:this._attributes}),this},r.updateEachNodeAttributes=function(i,a){if(typeof i!="function")throw new At("Graph.updateEachNodeAttributes: expecting an updater function.");if(a&&!fD(a))throw new At("Graph.updateEachNodeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var s=this._nodes.values(),f,h;f=s.next(),f.done!==!0;)h=f.value,h.attributes=i(h.key,h.attributes);this.emit("eachNodeAttributesUpdated",{hints:a||null})},r.updateEachEdgeAttributes=function(i,a){if(typeof i!="function")throw new At("Graph.updateEachEdgeAttributes: expecting an updater function.");if(a&&!fD(a))throw new At("Graph.updateEachEdgeAttributes: invalid hints. Expecting an object having the following shape: {attributes?: [string]}");for(var s=this._edges.values(),f,h,y,D;f=s.next(),f.done!==!0;)h=f.value,y=h.source,D=h.target,h.attributes=i(h.key,h.attributes,y.key,D.key,y.attributes,D.attributes,h.undirected);this.emit("eachEdgeAttributesUpdated",{hints:a||null})},r.forEachAdjacencyEntry=function(i){if(typeof i!="function")throw new At("Graph.forEachAdjacencyEntry: expecting a callback.");w0(!1,!1,!1,this,i)},r.forEachAdjacencyEntryWithOrphans=function(i){if(typeof i!="function")throw new At("Graph.forEachAdjacencyEntryWithOrphans: expecting a callback.");w0(!1,!1,!0,this,i)},r.forEachAssymetricAdjacencyEntry=function(i){if(typeof i!="function")throw new At("Graph.forEachAssymetricAdjacencyEntry: expecting a callback.");w0(!1,!0,!1,this,i)},r.forEachAssymetricAdjacencyEntryWithOrphans=function(i){if(typeof i!="function")throw new At("Graph.forEachAssymetricAdjacencyEntryWithOrphans: expecting a callback.");w0(!1,!0,!0,this,i)},r.nodes=function(){return typeof Array.from=="function"?Array.from(this._nodes.keys()):pD.default(this._nodes.keys(),this._nodes.size)},r.forEachNode=function(i){if(typeof i!="function")throw new At("Graph.forEachNode: expecting a callback.");for(var a=this._nodes.values(),s,f;s=a.next(),s.done!==!0;)f=s.value,i(f.key,f.attributes)},r.findNode=function(i){if(typeof i!="function")throw new At("Graph.findNode: expecting a callback.");for(var a=this._nodes.values(),s,f;s=a.next(),s.done!==!0;)if(f=s.value,i(f.key,f.attributes))return f.key},r.mapNodes=function(i){if(typeof i!="function")throw new At("Graph.mapNode: expecting a callback.");for(var a=this._nodes.values(),s,f,h=new Array(this.order),y=0;s=a.next(),s.done!==!0;)f=s.value,h[y++]=i(f.key,f.attributes);return h},r.someNode=function(i){if(typeof i!="function")throw new At("Graph.someNode: expecting a callback.");for(var a=this._nodes.values(),s,f;s=a.next(),s.done!==!0;)if(f=s.value,i(f.key,f.attributes))return!0;return!1},r.everyNode=function(i){if(typeof i!="function")throw new At("Graph.everyNode: expecting a callback.");for(var a=this._nodes.values(),s,f;s=a.next(),s.done!==!0;)if(f=s.value,!i(f.key,f.attributes))return!1;return!0},r.filterNodes=function(i){if(typeof i!="function")throw new At("Graph.filterNodes: expecting a callback.");for(var a=this._nodes.values(),s,f,h=[];s=a.next(),s.done!==!0;)f=s.value,i(f.key,f.attributes)&&h.push(f.key);return h},r.reduceNodes=function(i,a){if(typeof i!="function")throw new At("Graph.reduceNodes: expecting a callback.");if(arguments.length<2)throw new At("Graph.reduceNodes: missing initial value. You must provide it because the callback takes more than one argument and we cannot infer the initial value from the first iteration, as you could with a simple array.");for(var s=a,f=this._nodes.values(),h,y;h=f.next(),h.done!==!0;)y=h.value,s=i(s,y.key,y.attributes);return s},r.nodeEntries=function(){var i=this._nodes.values();return new ap.default(function(){var a=i.next();if(a.done)return a;var s=a.value;return{value:{node:s.key,attributes:s.attributes},done:!1}})},r.export=function(){var i=this,a=new Array(this._nodes.size),s=0;this._nodes.forEach(function(h,y){a[s++]=KR(y,h)});var f=new Array(this._edges.size);return s=0,this._edges.forEach(function(h,y){f[s++]=JR(i.type,y,h)}),{options:{type:this.type,multi:this.multi,allowSelfLoops:this.allowSelfLoops},attributes:this.getAttributes(),nodes:a,edges:f}},r.import=function(i){var a=this,s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(i instanceof t)return i.forEachNode(function(ve,Pe){s?a.mergeNode(ve,Pe):a.addNode(ve,Pe)}),i.forEachEdge(function(ve,Pe,Te,Je,mt,Er,fr){s?fr?a.mergeUndirectedEdgeWithKey(ve,Te,Je,Pe):a.mergeDirectedEdgeWithKey(ve,Te,Je,Pe):fr?a.addUndirectedEdgeWithKey(ve,Te,Je,Pe):a.addDirectedEdgeWithKey(ve,Te,Je,Pe)}),this;if(!Du(i))throw new At("Graph.import: invalid argument. Expecting a serialized graph or, alternatively, a Graph instance.");if(i.attributes){if(!Du(i.attributes))throw new At("Graph.import: invalid attributes. Expecting a plain object.");s?this.mergeAttributes(i.attributes):this.replaceAttributes(i.attributes)}var f,h,y,D,x;if(i.nodes){if(y=i.nodes,!Array.isArray(y))throw new At("Graph.import: invalid nodes. Expecting an array.");for(f=0,h=y.length;f<h;f++){D=y[f],ZR(D);var L=D,Y=L.key,ee=L.attributes;s?this.mergeNode(Y,ee):this.addNode(Y,ee)}}if(i.edges){var W=!1;if(this.type==="undirected"&&(W=!0),y=i.edges,!Array.isArray(y))throw new At("Graph.import: invalid edges. Expecting an array.");for(f=0,h=y.length;f<h;f++){x=y[f],XR(x);var H=x,X=H.source,ue=H.target,ce=H.attributes,he=H.undirected,Ue=he===void 0?W:he,Le=void 0;"key"in x?(Le=s?Ue?this.mergeUndirectedEdgeWithKey:this.mergeDirectedEdgeWithKey:Ue?this.addUndirectedEdgeWithKey:this.addDirectedEdgeWithKey,Le.call(this,x.key,X,ue,ce)):(Le=s?Ue?this.mergeUndirectedEdge:this.mergeDirectedEdge:Ue?this.addUndirectedEdge:this.addDirectedEdge,Le.call(this,X,ue,ce))}}return this},r.nullCopy=function(i){var a=new t(rs({},this._options,i));return a.replaceAttributes(rs({},this.getAttributes())),a},r.emptyCopy=function(i){var a=this.nullCopy(i);return this._nodes.forEach(function(s,f){var h=rs({},s.attributes);s=new a.NodeDataClass(f,h),a._nodes.set(f,s)}),a},r.copy=function(i){if(i=i||{},typeof i.type=="string"&&i.type!==this.type&&i.type!=="mixed")throw new Sr('Graph.copy: cannot create an incompatible copy from "'.concat(this.type,'" type to "').concat(i.type,'" because this would mean losing information about the current graph.'));if(typeof i.multi=="boolean"&&i.multi!==this.multi&&i.multi!==!0)throw new Sr("Graph.copy: cannot create an incompatible copy by downgrading a multi graph to a simple one because this would mean losing information about the current graph.");if(typeof i.allowSelfLoops=="boolean"&&i.allowSelfLoops!==this.allowSelfLoops&&i.allowSelfLoops!==!0)throw new Sr("Graph.copy: cannot create an incompatible copy from a graph allowing self loops to one that does not because this would mean losing information about the current graph.");for(var a=this.emptyCopy(i),s=this._edges.values(),f,h;f=s.next(),f.done!==!0;)h=f.value,bD(a,"copy",!1,h.undirected,h.key,h.source.key,h.target.key,rs({},h.attributes));return a},r.toJSON=function(){return this.export()},r.toString=function(){return"[object Graph]"},r.inspect=function(){var i=this,a={};this._nodes.forEach(function(D,x){a[x]=D.attributes});var s={},f={};this._edges.forEach(function(D,x){var L=D.undirected?"--":"->",Y="",ee=D.source.key,W=D.target.key,H;D.undirected&&ee>W&&(H=ee,ee=W,W=H);var X="(".concat(ee,")").concat(L,"(").concat(W,")");x.startsWith("geid_")?i.multi&&(typeof f[X]>"u"?f[X]=0:f[X]++,Y+="".concat(f[X],". ")):Y+="[".concat(x,"]: "),Y+=X,s[Y]=D.attributes});var h={};for(var y in this)this.hasOwnProperty(y)&&!lD.has(y)&&typeof this[y]!="function"&&S0(y)!=="symbol"&&(h[y]=this[y]);return h.attributes=this._attributes,h.nodes=a,h.edges=s,np(h,"constructor",this.constructor),h},t}(HP.EventEmitter);typeof Symbol<"u"&&(Fi.prototype[Symbol.for("nodejs.util.inspect.custom")]=Fi.prototype.inspect);tk.forEach(function(e){["add","merge","update"].forEach(function(t){var r=e.name(t),n=t==="add"?bD:ik;e.generateKey?Fi.prototype[r]=function(i,a,s){return n(this,r,!0,(e.type||this.type)==="undirected",null,i,a,s,t==="update")}:Fi.prototype[r]=function(i,a,s,f){return n(this,r,!1,(e.type||this.type)==="undirected",i,a,s,f,t==="update")}})});pR(Fi);DR(Fi);jR(Fi);HR(Fi);var SD=function(e){nv(t,e);function t(r){var n=rs({type:"directed"},r);if("multi"in n&&n.multi!==!1)throw new At("DirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(n.type!=="directed")throw new At('DirectedGraph.from: inconsistent "'+n.type+'" type in given options!');return e.call(this,n)||this}return t}(Fi),DD=function(e){nv(t,e);function t(r){var n=rs({type:"undirected"},r);if("multi"in n&&n.multi!==!1)throw new At("UndirectedGraph.from: inconsistent indication that the graph should be multi in given options!");if(n.type!=="undirected")throw new At('UndirectedGraph.from: inconsistent "'+n.type+'" type in given options!');return e.call(this,n)||this}return t}(Fi),TD=function(e){nv(t,e);function t(r){var n=rs({multi:!0},r);if("multi"in n&&n.multi!==!0)throw new At("MultiGraph.from: inconsistent indication that the graph should be simple in given options!");return e.call(this,n)||this}return t}(Fi),AD=function(e){nv(t,e);function t(r){var n=rs({type:"directed",multi:!0},r);if("multi"in n&&n.multi!==!0)throw new At("MultiDirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(n.type!=="directed")throw new At('MultiDirectedGraph.from: inconsistent "'+n.type+'" type in given options!');return e.call(this,n)||this}return t}(Fi),ND=function(e){nv(t,e);function t(r){var n=rs({type:"undirected",multi:!0},r);if("multi"in n&&n.multi!==!0)throw new At("MultiUndirectedGraph.from: inconsistent indication that the graph should be simple in given options!");if(n.type!=="undirected")throw new At('MultiUndirectedGraph.from: inconsistent "'+n.type+'" type in given options!');return e.call(this,n)||this}return t}(Fi);function vy(e){e.from=function(t,r){var n=rs({},t.options,r),i=new e(n);return i.import(t),i}}vy(Fi);vy(SD);vy(DD);vy(TD);vy(AD);vy(ND);Fi.Graph=Fi;Fi.DirectedGraph=SD;Fi.UndirectedGraph=DD;Fi.MultiGraph=TD;Fi.MultiDirectedGraph=AD;Fi.MultiUndirectedGraph=ND;Fi.InvalidArgumentsGraphError=At;Fi.NotFoundGraphError=ft;Fi.UsageGraphError=Sr;CD.exports=Fi});var f_=cr((hj,PD)=>{function sk(e){return!e||typeof e!="object"||typeof e=="function"||Array.isArray(e)||e instanceof Set||e instanceof Map||e instanceof RegExp||e instanceof Date}function xD(e,t){e=e||{};var r={};for(var n in t){var i=e[n],a=t[n];if(!sk(a)){r[n]=xD(i,a);continue}i===void 0?r[n]=a:r[n]=i}return r}PD.exports=xD});var mg=cr(iv=>{var uk=Math.pow(2,8)-1,ck=Math.pow(2,16)-1,fk=Math.pow(2,32)-1,lk=Math.pow(2,7)-1,dk=Math.pow(2,15)-1,pk=Math.pow(2,31)-1;iv.getPointerArray=function(e){var t=e-1;if(t<=uk)return Uint8Array;if(t<=ck)return Uint16Array;if(t<=fk)return Uint32Array;throw new Error("mnemonist: Pointer Array of size > 4294967295 is not supported.")};iv.getSignedPointerArray=function(e){var t=e-1;return t<=lk?Int8Array:t<=dk?Int16Array:t<=pk?Int32Array:Float64Array};iv.getNumberType=function(e){return e===(e|0)?Math.sign(e)===-1?e<=127&&e>=-128?Int8Array:e<=32767&&e>=-32768?Int16Array:Int32Array:e<=255?Uint8Array:e<=65535?Uint16Array:Uint32Array:Float64Array};var hk={Uint8Array:1,Int8Array:2,Uint16Array:3,Int16Array:4,Uint32Array:5,Int32Array:6,Float32Array:7,Float64Array:8};iv.getMinimalRepresentation=function(e,t){var r=null,n=0,i,a,s,f,h;for(f=0,h=e.length;f<h;f++)s=t?t(e[f]):e[f],a=iv.getNumberType(s),i=hk[a.name],i>n&&(n=i,r=a);return r};iv.isTypedArray=function(e){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView(e)};iv.concat=function(){var e=0,t,r,n;for(t=0,n=arguments.length;t<n;t++)e+=arguments[t].length;var i=new arguments[0].constructor(e);for(t=0,r=0;t<n;t++)i.set(arguments[t],r),r+=arguments[t].length;return i};iv.indices=function(e){for(var t=iv.getPointerArray(e),r=new t(e),n=0;n<e;n++)r[n]=n;return r}});var kD=cr((mj,RD)=>{var Nw=Gm(),vk=mg().getPointerArray;function ac(e,t){arguments.length<2&&(t=e,e=Array);var r=vk(t);this.size=0,this.length=t,this.dense=new r(t),this.sparse=new r(t),this.vals=new e(t)}ac.prototype.clear=function(){this.size=0};ac.prototype.has=function(e){var t=this.sparse[e];return t<this.size&&this.dense[t]===e};ac.prototype.get=function(e){var t=this.sparse[e];if(t<this.size&&this.dense[t]===e)return this.vals[t]};ac.prototype.set=function(e,t){var r=this.sparse[e];return r<this.size&&this.dense[r]===e?(this.vals[r]=t,this):(this.dense[this.size]=e,this.sparse[e]=this.size,this.vals[this.size]=t,this.size++,this)};ac.prototype.delete=function(e){var t=this.sparse[e];return t>=this.size||this.dense[t]!==e?!1:(t=this.dense[this.size-1],this.dense[this.sparse[e]]=t,this.sparse[t]=this.sparse[e],this.size--,!0)};ac.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var r=0;r<this.size;r++)e.call(t,this.vals[r],this.dense[r])};ac.prototype.keys=function(){var e=this.size,t=this.dense,r=0;return new Nw(function(){if(r<e){var n=t[r];return r++,{value:n}}return{done:!0}})};ac.prototype.values=function(){var e=this.size,t=this.vals,r=0;return new Nw(function(){if(r<e){var n=t[r];return r++,{value:n}}return{done:!0}})};ac.prototype.entries=function(){var e=this.size,t=this.dense,r=this.vals,n=0;return new Nw(function(){if(n<e){var i=[t[n],r[n]];return n++,{value:i}}return{done:!0}})};typeof Symbol<"u"&&(ac.prototype[Symbol.iterator]=ac.prototype.entries);ac.prototype.inspect=function(){for(var e=new Map,t=0;t<this.size;t++)e.set(this.dense[t],this.vals[t]);return Object.defineProperty(e,"constructor",{value:ac,enumerable:!1}),e.length=this.length,this.vals.constructor!==Array&&(e.type=this.vals.constructor.name),e};typeof Symbol<"u"&&(ac.prototype[Symbol.for("nodejs.util.inspect.custom")]=ac.prototype.inspect);RD.exports=ac});var MD=cr((gj,OD)=>{var mk=Gm(),gk=mg().getPointerArray;function rd(e){var t=gk(e);this.start=0,this.size=0,this.capacity=e,this.dense=new t(e),this.sparse=new t(e)}rd.prototype.clear=function(){this.start=0,this.size=0};rd.prototype.has=function(e){if(this.size===0)return!1;var t=this.sparse[e],r=t<this.capacity&&t>=this.start&&t<this.start+this.size||t<(this.start+this.size)%this.capacity;return r&&this.dense[t]===e};rd.prototype.enqueue=function(e){var t=this.sparse[e];if(this.size!==0){var r=t<this.capacity&&t>=this.start&&t<this.start+this.size||t<(this.start+this.size)%this.capacity;if(r&&this.dense[t]===e)return this}return t=(this.start+this.size)%this.capacity,this.dense[t]=e,this.sparse[e]=t,this.size++,this};rd.prototype.dequeue=function(){if(this.size!==0){var e=this.start;this.size--,this.start++,this.start===this.capacity&&(this.start=0);var t=this.dense[e];return this.sparse[t]=this.capacity,t}};rd.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var r=this.capacity,n=this.size,i=this.start,a=0;a<n;)e.call(t,this.dense[i],a,this),i++,a++,i===r&&(i=0)};rd.prototype.values=function(){var e=this.dense,t=this.capacity,r=this.size,n=this.start,i=0;return new mk(function(){if(i>=r)return{done:!0};var a=e[n];return n++,i++,n===t&&(n=0),{value:a,done:!1}})};typeof Symbol<"u"&&(rd.prototype[Symbol.iterator]=rd.prototype.values);rd.prototype.inspect=function(){var e=[];return this.forEach(function(t){e.push(t)}),Object.defineProperty(e,"constructor",{value:rd,enumerable:!1}),e.capacity=this.capacity,e};typeof Symbol<"u"&&(rd.prototype[Symbol.for("nodejs.util.inspect.custom")]=rd.prototype.inspect);OD.exports=rd});var BD=cr((yj,UD)=>{function LD(e){return function(t){return typeof t!="number"&&(t=t.length),Math.floor(e()*t)}}var FD=LD(Math.random);FD.createRandomIndex=LD;UD.exports=FD});var Cw=cr(T0=>{function yk(e){return typeof e!="number"||isNaN(e)?1:e}function _k(e,t){var r={},n=function(s){return typeof s>"u"?t:s};typeof t=="function"&&(n=t);var i=function(s){return n(s[e])},a=function(){return n(void 0)};return typeof e=="string"?(r.fromAttributes=i,r.fromGraph=function(s,f){return i(s.getNodeAttributes(f))},r.fromEntry=function(s,f){return i(f)}):typeof e=="function"?(r.fromAttributes=function(){throw new Error("graphology-utils/getters/createNodeValueGetter: irrelevant usage.")},r.fromGraph=function(s,f){return n(e(f,s.getNodeAttributes(f)))},r.fromEntry=function(s,f){return n(e(s,f))}):(r.fromAttributes=a,r.fromGraph=a,r.fromEntry=a),r}function jD(e,t){var r={},n=function(s){return typeof s>"u"?t:s};typeof t=="function"&&(n=t);var i=function(s){return n(s[e])},a=function(){return n(void 0)};return typeof e=="string"?(r.fromAttributes=i,r.fromGraph=function(s,f){return i(s.getEdgeAttributes(f))},r.fromEntry=function(s,f){return i(f)},r.fromPartialEntry=r.fromEntry,r.fromMinimalEntry=r.fromEntry):typeof e=="function"?(r.fromAttributes=function(){throw new Error("graphology-utils/getters/createEdgeValueGetter: irrelevant usage.")},r.fromGraph=function(s,f){var h=s.extremities(f);return n(e(f,s.getEdgeAttributes(f),h[0],h[1],s.getNodeAttributes(h[0]),s.getNodeAttributes(h[1]),s.isUndirected(f)))},r.fromEntry=function(s,f,h,y,D,x,L){return n(e(s,f,h,y,D,x,L))},r.fromPartialEntry=function(s,f,h,y){return n(e(s,f,h,y))},r.fromMinimalEntry=function(s,f){return n(e(s,f))}):(r.fromAttributes=a,r.fromGraph=a,r.fromEntry=a,r.fromMinimalEntry=a),r}T0.createNodeValueGetter=_k;T0.createEdgeValueGetter=jD;T0.createEdgeWeightGetter=function(e){return jD(e,yk)}});var $D=cr(Iw=>{var qm=mg(),GD=f_(),qD=Cw().createEdgeWeightGetter,YD=Symbol.for("nodejs.util.inspect.custom"),zD={getEdgeWeight:"weight",keepDendrogram:!1,resolution:1};function Ra(e,t){t=GD(t,zD);var r=t.resolution,n=qD(t.getEdgeWeight).fromEntry,i=(e.size-e.selfLoopCount)*2,a=qm.getPointerArray(i),s=qm.getPointerArray(e.order+1),f=t.getEdgeWeight?Float64Array:qm.getPointerArray(e.size*2);this.C=e.order,this.M=0,this.E=i,this.U=0,this.resolution=r,this.level=0,this.graph=e,this.nodes=new Array(e.order),this.keepDendrogram=t.keepDendrogram,this.neighborhood=new s(i),this.weights=new f(i),this.loops=new f(e.order),this.starts=new a(e.order+1),this.belongings=new s(e.order),this.dendrogram=[],this.mapping=null,this.counts=new s(e.order),this.unused=new s(e.order),this.totalWeights=new f(e.order);var h={},y,D=0,x=0,L=this;e.forEachNode(function(Y){L.nodes[D]=Y,h[Y]=D,x+=e.undirectedDegreeWithoutSelfLoops(Y),L.starts[D]=x,L.belongings[D]=D,L.counts[D]=1,D++}),e.forEachEdge(function(Y,ee,W,H,X,ue,ce){if(y=n(Y,ee,W,H,X,ue,ce),W=h[W],H=h[H],L.M+=y,W===H)L.totalWeights[W]+=y*2,L.loops[W]=y*2;else{L.totalWeights[W]+=y,L.totalWeights[H]+=y;var he=--L.starts[W],Ue=--L.starts[H];L.neighborhood[he]=H,L.neighborhood[Ue]=W,L.weights[he]=y,L.weights[Ue]=y}}),this.starts[D]=this.E,this.keepDendrogram?this.dendrogram.push(this.belongings.slice()):this.mapping=this.belongings.slice()}Ra.prototype.isolate=function(e,t){var r=this.belongings[e];if(this.counts[r]===1)return r;var n=this.unused[--this.U],i=this.loops[e];return this.totalWeights[r]-=t+i,this.totalWeights[n]+=t+i,this.belongings[e]=n,this.counts[r]--,this.counts[n]++,n};Ra.prototype.move=function(e,t,r){var n=this.belongings[e],i=this.loops[e];this.totalWeights[n]-=t+i,this.totalWeights[r]+=t+i,this.belongings[e]=r;var a=this.counts[n]--===1;this.counts[r]++,a&&(this.unused[this.U++]=n)};Ra.prototype.computeNodeDegree=function(e){var t,r,n,i=0;for(t=this.starts[e],r=this.starts[e+1];t<r;t++)n=this.weights[t],i+=n;return i};Ra.prototype.expensiveIsolate=function(e){var t=this.computeNodeDegree(e);return this.isolate(e,t)};Ra.prototype.expensiveMove=function(e,t){var r=this.computeNodeDegree(e);this.move(e,r,t)};Ra.prototype.zoomOut=function(){var e=new Array(this.C-this.U),t={},r=this.nodes.length,n=0,i=0,a,s,f,h,y,D,x,L,Y;for(a=0,f=this.C;a<f;a++)D=this.belongings[a],D in t||(t[D]=n,e[n]={adj:{},totalWeights:this.totalWeights[D],internalWeights:0},n++),this.belongings[a]=t[D];var ee,W;if(this.keepDendrogram){for(ee=this.dendrogram[this.level],W=new(qm.getPointerArray(n))(r),a=0;a<r;a++)W[a]=this.belongings[ee[a]];this.dendrogram.push(W)}else for(a=0;a<r;a++)this.mapping[a]=this.belongings[this.mapping[a]];for(a=0,f=this.C;a<f;a++)for(D=this.belongings[a],L=e[D],Y=L.adj,L.internalWeights+=this.loops[a],s=this.starts[a],h=this.starts[a+1];s<h;s++){if(y=this.neighborhood[s],x=this.belongings[y],D===x){L.internalWeights+=this.weights[s];continue}x in Y||(Y[x]=0),Y[x]+=this.weights[s]}for(this.C=n,y=0,D=0;D<n;D++){L=e[D],Y=L.adj,D=+D,this.totalWeights[D]=L.totalWeights,this.loops[D]=L.internalWeights,this.counts[D]=1,this.starts[D]=y,this.belongings[D]=D;for(x in Y)this.neighborhood[y]=+x,this.weights[y]=Y[x],i++,y++}return this.starts[n]=i,this.E=i,this.U=0,this.level++,t};Ra.prototype.modularity=function(){var e,t,r,n,i,a=0,s=this.M*2,f=new Float64Array(this.C);for(r=0;r<this.C;r++)for(e=this.belongings[r],f[e]+=this.loops[r],n=this.starts[r],i=this.starts[r+1];n<i;n++)t=this.belongings[this.neighborhood[n]],e===t&&(f[e]+=this.weights[n]);for(r=0;r<this.C;r++)a+=f[r]/s-Math.pow(this.totalWeights[r]/s,2)*this.resolution;return a};Ra.prototype.delta=function(e,t,r,n){var i=this.M,a=this.totalWeights[n];return t+=this.loops[e],r/i-a*t*this.resolution/(2*i*i)};Ra.prototype.deltaWithOwnCommunity=function(e,t,r,n){var i=this.M,a=this.totalWeights[n];return t+=this.loops[e],r/i-(a-t)*t*this.resolution/(2*i*i)};Ra.prototype.fastDelta=function(e,t,r,n){var i=this.M,a=this.totalWeights[n];return t+=this.loops[e],r-t*a*this.resolution/(2*i)};Ra.prototype.fastDeltaWithOwnCommunity=function(e,t,r,n){var i=this.M,a=this.totalWeights[n];return t+=this.loops[e],r-t*(a-t)*this.resolution/(2*i)};Ra.prototype.bounds=function(e){return[this.starts[e],this.starts[e+1]]};Ra.prototype.project=function(){var e=this,t={};return e.nodes.slice(0,this.C).forEach(function(r,n){t[r]=Array.from(e.neighborhood.slice(e.starts[n],e.starts[n+1])).map(function(i){return e.nodes[i]})}),t};Ra.prototype.collect=function(e){arguments.length<1&&(e=this.level);var t={},r=this.keepDendrogram?this.dendrogram[e]:this.mapping,n,i;for(n=0,i=r.length;n<i;n++)t[this.nodes[n]]=r[n];return t};Ra.prototype.assign=function(e,t){arguments.length<2&&(t=this.level);var r=this.keepDendrogram?this.dendrogram[t]:this.mapping,n,i;for(n=0,i=r.length;n<i;n++)this.graph.setNodeAttribute(this.nodes[n],e,r[n])};Ra.prototype[YD]=function(){var e={};Object.defineProperty(e,"constructor",{value:Ra,enumerable:!1}),e.C=this.C,e.M=this.M,e.E=this.E,e.U=this.U,e.resolution=this.resolution,e.level=this.level,e.nodes=this.nodes,e.starts=this.starts.slice(0,e.C+1);var t=["neighborhood","weights"],r=["counts","loops","belongings","totalWeights"],n=this;return t.forEach(function(i){e[i]=n[i].slice(0,e.E)}),r.forEach(function(i){e[i]=n[i].slice(0,e.C)}),e.unused=this.unused.slice(0,this.U),this.keepDendrogram?e.dendrogram=this.dendrogram:e.mapping=this.mapping,e};function To(e,t){t=GD(t,zD);var r=t.resolution,n=qD(t.getEdgeWeight).fromEntry,i=(e.size-e.selfLoopCount)*2,a=qm.getPointerArray(i),s=qm.getPointerArray(e.order+1),f=t.getEdgeWeight?Float64Array:qm.getPointerArray(e.size*2);this.C=e.order,this.M=0,this.E=i,this.U=0,this.resolution=r,this.level=0,this.graph=e,this.nodes=new Array(e.order),this.keepDendrogram=t.keepDendrogram,this.neighborhood=new s(i),this.weights=new f(i),this.loops=new f(e.order),this.starts=new a(e.order+1),this.offsets=new a(e.order),this.belongings=new s(e.order),this.dendrogram=[],this.counts=new s(e.order),this.unused=new s(e.order),this.totalInWeights=new f(e.order),this.totalOutWeights=new f(e.order);var h={},y,D=0,x=0,L=this;e.forEachNode(function(Y){L.nodes[D]=Y,h[Y]=D,x+=e.outDegreeWithoutSelfLoops(Y),L.starts[D]=x,x+=e.inDegreeWithoutSelfLoops(Y),L.offsets[D]=x,L.belongings[D]=D,L.counts[D]=1,D++}),e.forEachEdge(function(Y,ee,W,H,X,ue,ce){if(y=n(Y,ee,W,H,X,ue,ce),W=h[W],H=h[H],L.M+=y,W===H)L.loops[W]+=y,L.totalInWeights[W]+=y,L.totalOutWeights[W]+=y;else{L.totalOutWeights[W]+=y,L.totalInWeights[H]+=y;var he=--L.starts[W],Ue=--L.offsets[H];L.neighborhood[he]=H,L.neighborhood[Ue]=W,L.weights[he]=y,L.weights[Ue]=y}}),this.starts[D]=this.E,this.keepDendrogram?this.dendrogram.push(this.belongings.slice()):this.mapping=this.belongings.slice()}To.prototype.bounds=Ra.prototype.bounds;To.prototype.inBounds=function(e){return[this.offsets[e],this.starts[e+1]]};To.prototype.outBounds=function(e){return[this.starts[e],this.offsets[e]]};To.prototype.project=Ra.prototype.project;To.prototype.projectIn=function(){var e=this,t={};return e.nodes.slice(0,this.C).forEach(function(r,n){t[r]=Array.from(e.neighborhood.slice(e.offsets[n],e.starts[n+1])).map(function(i){return e.nodes[i]})}),t};To.prototype.projectOut=function(){var e=this,t={};return e.nodes.slice(0,this.C).forEach(function(r,n){t[r]=Array.from(e.neighborhood.slice(e.starts[n],e.offsets[n])).map(function(i){return e.nodes[i]})}),t};To.prototype.isolate=function(e,t,r){var n=this.belongings[e];if(this.counts[n]===1)return n;var i=this.unused[--this.U],a=this.loops[e];return this.totalInWeights[n]-=t+a,this.totalInWeights[i]+=t+a,this.totalOutWeights[n]-=r+a,this.totalOutWeights[i]+=r+a,this.belongings[e]=i,this.counts[n]--,this.counts[i]++,i};To.prototype.move=function(e,t,r,n){var i=this.belongings[e],a=this.loops[e];this.totalInWeights[i]-=t+a,this.totalInWeights[n]+=t+a,this.totalOutWeights[i]-=r+a,this.totalOutWeights[n]+=r+a,this.belongings[e]=n;var s=this.counts[i]--===1;this.counts[n]++,s&&(this.unused[this.U++]=i)};To.prototype.computeNodeInDegree=function(e){var t,r,n,i=0;for(t=this.offsets[e],r=this.starts[e+1];t<r;t++)n=this.weights[t],i+=n;return i};To.prototype.computeNodeOutDegree=function(e){var t,r,n,i=0;for(t=this.starts[e],r=this.offsets[e];t<r;t++)n=this.weights[t],i+=n;return i};To.prototype.expensiveMove=function(e,t){var r=this.computeNodeInDegree(e),n=this.computeNodeOutDegree(e);this.move(e,r,n,t)};To.prototype.zoomOut=function(){var e=new Array(this.C-this.U),t={},r=this.nodes.length,n=0,i=0,a,s,f,h,y,D,x,L,Y,ee,W,H,X;for(a=0,f=this.C;a<f;a++)D=this.belongings[a],D in t||(t[D]=n,e[n]={inAdj:{},outAdj:{},totalInWeights:this.totalInWeights[D],totalOutWeights:this.totalOutWeights[D],internalWeights:0},n++),this.belongings[a]=t[D];var ue,ce;if(this.keepDendrogram){for(ue=this.dendrogram[this.level],ce=new(qm.getPointerArray(n))(r),a=0;a<r;a++)ce[a]=this.belongings[ue[a]];this.dendrogram.push(ce)}else for(a=0;a<r;a++)this.mapping[a]=this.belongings[this.mapping[a]];for(a=0,f=this.C;a<f;a++)for(D=this.belongings[a],Y=this.offsets[a],L=e[D],H=L.inAdj,X=L.outAdj,L.internalWeights+=this.loops[a],s=this.starts[a],h=this.starts[a+1];s<h;s++){if(y=this.neighborhood[s],x=this.belongings[y],ee=s<Y,W=ee?X:H,D===x){ee&&(L.internalWeights+=this.weights[s]);continue}x in W||(W[x]=0),W[x]+=this.weights[s]}for(this.C=n,y=0,D=0;D<n;D++){L=e[D],H=L.inAdj,X=L.outAdj,D=+D,this.totalInWeights[D]=L.totalInWeights,this.totalOutWeights[D]=L.totalOutWeights,this.loops[D]=L.internalWeights,this.counts[D]=1,this.starts[D]=y,this.belongings[D]=D;for(x in X)this.neighborhood[y]=+x,this.weights[y]=X[x],i++,y++;this.offsets[D]=y;for(x in H)this.neighborhood[y]=+x,this.weights[y]=H[x],i++,y++}return this.starts[n]=i,this.E=i,this.U=0,this.level++,t};To.prototype.modularity=function(){var e,t,r,n,i,a=0,s=this.M,f=new Float64Array(this.C);for(r=0;r<this.C;r++)for(e=this.belongings[r],f[e]+=this.loops[r],n=this.starts[r],i=this.offsets[r];n<i;n++)t=this.belongings[this.neighborhood[n]],e===t&&(f[e]+=this.weights[n]);for(r=0;r<this.C;r++)a+=f[r]/s-this.totalInWeights[r]*this.totalOutWeights[r]/Math.pow(s,2)*this.resolution;return a};To.prototype.delta=function(e,t,r,n,i){var a=this.M,s=this.totalInWeights[i],f=this.totalOutWeights[i],h=this.loops[e];return t+=h,r+=h,n/a-(r*s+t*f)*this.resolution/(a*a)};To.prototype.deltaWithOwnCommunity=function(e,t,r,n,i){var a=this.M,s=this.totalInWeights[i],f=this.totalOutWeights[i],h=this.loops[e];return t+=h,r+=h,n/a-(r*(s-t)+t*(f-r))*this.resolution/(a*a)};To.prototype.collect=Ra.prototype.collect;To.prototype.assign=Ra.prototype.assign;To.prototype[YD]=function(){var e={};Object.defineProperty(e,"constructor",{value:To,enumerable:!1}),e.C=this.C,e.M=this.M,e.E=this.E,e.U=this.U,e.resolution=this.resolution,e.level=this.level,e.nodes=this.nodes,e.starts=this.starts.slice(0,e.C+1);var t=["neighborhood","weights"],r=["counts","offsets","loops","belongings","totalInWeights","totalOutWeights"],n=this;return t.forEach(function(i){e[i]=n[i].slice(0,e.E)}),r.forEach(function(i){e[i]=n[i].slice(0,e.C)}),e.unused=this.unused.slice(0,this.U),this.keepDendrogram?e.dendrogram=this.dendrogram:e.mapping=this.mapping,e};Iw.UndirectedLouvainIndex=Ra;Iw.DirectedLouvainIndex=To});var Pw=cr((wj,ZD)=>{var Ek=f_(),wk=dy(),bk=dw(),VD=kD(),WD=MD(),HD=BD().createRandomIndex,KD=$D(),Sk=KD.UndirectedLouvainIndex,Dk=KD.DirectedLouvainIndex,JD={nodeCommunityAttribute:"community",getEdgeWeight:"weight",fastLocalMoves:!0,randomWalk:!0,resolution:1,rng:Math.random};function A0(e,t,r){var n=e.get(t);typeof n>"u"&&(n=0),n+=r,e.set(t,n)}var Tk=1e-10;function N0(e,t,r,n,i){return Math.abs(n-i)<Tk?e===t?!1:r>e:n>i}function Ak(e,t,r){var n=new Sk(t,{getEdgeWeight:r.getEdgeWeight,keepDendrogram:e,resolution:r.resolution}),i=HD(r.rng),a=!0,s=!0,f,h,y=new VD(Float64Array,n.C),D,x,L,Y,ee,W,H,X,ue,ce,he,Ue,Le,ve,Pe,Te,Je=0,mt=0,Er=[],fr,Bt;for(r.fastLocalMoves&&(D=new WD(n.C));a;){if(ce=n.C,a=!1,s=!0,r.fastLocalMoves){for(Bt=0,W=r.randomWalk?i(ce):0,H=0;H<ce;H++,W++)X=W%ce,D.enqueue(X);for(;D.size!==0;){for(X=D.dequeue(),mt++,he=0,y.clear(),f=n.belongings[X],x=n.starts[X],L=n.starts[X+1];x<L;x++)ue=n.neighborhood[x],Y=n.weights[x],h=n.belongings[ue],he+=Y,A0(y,h,Y);for(ve=n.fastDeltaWithOwnCommunity(X,he,y.get(f)||0,f),Le=f,ee=0;ee<y.size;ee++)h=y.dense[ee],h!==f&&(Ue=y.vals[ee],Je++,Te=n.fastDelta(X,he,Ue,h),Pe=N0(Le,f,h,Te,ve),Pe&&(ve=Te,Le=h));if(ve<0){if(Le=n.isolate(X,he),Le===f)continue}else{if(Le===f)continue;n.move(X,he,Le)}for(a=!0,Bt++,x=n.starts[X],L=n.starts[X+1];x<L;x++)ue=n.neighborhood[x],h=n.belongings[ue],h!==Le&&D.enqueue(ue)}Er.push(Bt)}else for(fr=[],Er.push(fr);s;){for(s=!1,Bt=0,W=r.randomWalk?i(ce):0,H=0;H<ce;H++,W++){for(X=W%ce,mt++,he=0,y.clear(),f=n.belongings[X],x=n.starts[X],L=n.starts[X+1];x<L;x++)ue=n.neighborhood[x],Y=n.weights[x],h=n.belongings[ue],he+=Y,A0(y,h,Y);for(ve=n.fastDeltaWithOwnCommunity(X,he,y.get(f)||0,f),Le=f,ee=0;ee<y.size;ee++)h=y.dense[ee],h!==f&&(Ue=y.vals[ee],Je++,Te=n.fastDelta(X,he,Ue,h),Pe=N0(Le,f,h,Te,ve),Pe&&(ve=Te,Le=h));if(ve<0){if(Le=n.isolate(X,he),Le===f)continue}else{if(Le===f)continue;n.move(X,he,Le)}s=!0,Bt++}fr.push(Bt),a=s||a}a&&n.zoomOut()}var en={index:n,deltaComputations:Je,nodesVisited:mt,moves:Er};return en}function Nk(e,t,r){var n=new Dk(t,{getEdgeWeight:r.getEdgeWeight,keepDendrogram:e,resolution:r.resolution}),i=HD(r.rng),a=!0,s=!0,f,h,y=new VD(Float64Array,n.C),D,x,L,Y,ee,W,H,X,ue,ce,he,Ue,Le,ve,Pe,Te,Je,mt,Er,fr=0,Bt=0,en=[],qe,Jr;for(r.fastLocalMoves&&(D=new WD(n.C));a;){if(Ue=n.C,a=!1,s=!0,r.fastLocalMoves){for(Jr=0,X=r.randomWalk?i(Ue):0,ue=0;ue<Ue;ue++,X++)ce=X%Ue,D.enqueue(ce);for(;D.size!==0;){for(ce=D.dequeue(),Bt++,Le=0,ve=0,y.clear(),f=n.belongings[ce],x=n.starts[ce],L=n.starts[ce+1],Y=n.offsets[ce];x<L;x++)ee=x<Y,he=n.neighborhood[x],W=n.weights[x],h=n.belongings[he],ee?ve+=W:Le+=W,A0(y,h,W);for(Je=n.deltaWithOwnCommunity(ce,Le,ve,y.get(f)||0,f),Te=f,H=0;H<y.size;H++)h=y.dense[H],h!==f&&(Pe=y.vals[H],fr++,Er=n.delta(ce,Le,ve,Pe,h),mt=N0(Te,f,h,Er,Je),mt&&(Je=Er,Te=h));if(Je<0){if(Te=n.isolate(ce,Le,ve),Te===f)continue}else{if(Te===f)continue;n.move(ce,Le,ve,Te)}for(a=!0,Jr++,x=n.starts[ce],L=n.starts[ce+1];x<L;x++)he=n.neighborhood[x],h=n.belongings[he],h!==Te&&D.enqueue(he)}en.push(Jr)}else for(qe=[],en.push(qe);s;){for(s=!1,Jr=0,X=r.randomWalk?i(Ue):0,ue=0;ue<Ue;ue++,X++){for(ce=X%Ue,Bt++,Le=0,ve=0,y.clear(),f=n.belongings[ce],x=n.starts[ce],L=n.starts[ce+1],Y=n.offsets[ce];x<L;x++)ee=x<Y,he=n.neighborhood[x],W=n.weights[x],h=n.belongings[he],ee?ve+=W:Le+=W,A0(y,h,W);for(Je=n.deltaWithOwnCommunity(ce,Le,ve,y.get(f)||0,f),Te=f,H=0;H<y.size;H++)h=y.dense[H],h!==f&&(Pe=y.vals[H],fr++,Er=n.delta(ce,Le,ve,Pe,h),mt=N0(Te,f,h,Er,Je),mt&&(Je=Er,Te=h));if(Je<0){if(Te=n.isolate(ce,Le,ve),Te===f)continue}else{if(Te===f)continue;n.move(ce,Le,ve,Te)}s=!0,Jr++}qe.push(Jr),a=s||a}a&&n.zoomOut()}var Fe={index:n,deltaComputations:fr,nodesVisited:Bt,moves:en};return Fe}function xw(e,t,r,n){if(!wk(r))throw new Error("graphology-communities-louvain: the given graph is not a valid graphology instance.");var i=bk(r);if(i==="mixed")throw new Error("graphology-communities-louvain: cannot run the algorithm on a true mixed graph.");n=Ek(n,JD);var a=0;if(r.size===0){if(e){r.forEachNode(function(x){r.setNodeAttribute(x,n.nodeCommunityAttribute,a++)});return}var s={};return r.forEachNode(function(x){s[x]=a++}),t?{communities:s,count:r.order,deltaComputations:0,dendrogram:null,level:0,modularity:NaN,moves:null,nodesVisited:0,resolution:n.resolution}:s}var f=i==="undirected"?Ak:Nk,h=f(t,r,n),y=h.index;if(!t){if(e){y.assign(n.nodeCommunityAttribute);return}return y.collect()}var D={count:y.C,deltaComputations:h.deltaComputations,dendrogram:y.dendrogram,level:y.level,modularity:y.modularity(),moves:h.moves,nodesVisited:h.nodesVisited,resolution:n.resolution};return e?(y.assign(n.nodeCommunityAttribute),D):(D.communities=y.collect(),D)}var C0=xw.bind(null,!1,!1);C0.assign=xw.bind(null,!0,!1);C0.detailed=xw.bind(null,!1,!0);C0.defaults=JD;ZD.exports=C0});var Rw=cr((bj,QD)=>{var XD=mw(),Ck=XD.ARRAY_BUFFER_SUPPORT,Ik=XD.SYMBOL_SUPPORT;QD.exports=function(t,r){var n,i,a,s,f;if(!t)throw new Error("obliterator/forEach: invalid iterable.");if(typeof r!="function")throw new Error("obliterator/forEach: expecting a callback.");if(Array.isArray(t)||Ck&&ArrayBuffer.isView(t)||typeof t=="string"||t.toString()==="[object Arguments]"){for(a=0,s=t.length;a<s;a++)r(t[a],a);return}if(typeof t.forEach=="function"){t.forEach(r);return}if(Ik&&Symbol.iterator in t&&typeof t.next!="function"&&(t=t[Symbol.iterator]()),typeof t.next=="function"){for(n=t,a=0;f=n.next(),f.done!==!0;)r(f.value,a),a++;return}for(i in t)t.hasOwnProperty(i)&&r(t[i],i)}});var I0=cr(l_=>{var eT=Rw(),tT=mg();function xk(e){return Array.isArray(e)||tT.isTypedArray(e)}function kw(e){if(typeof e.length=="number")return e.length;if(typeof e.size=="number")return e.size}function Pk(e){var t=kw(e),r=typeof t=="number"?new Array(t):[],n=0;return eT(e,function(i){r[n++]=i}),r}function Rk(e){var t=kw(e),r=typeof t=="number"?tT.getPointerArray(t):Array,n=typeof t=="number"?new Array(t):[],i=typeof t=="number"?new r(t):[],a=0;return eT(e,function(s){n[a]=s,i[a]=a++}),[n,i]}l_.isArrayLike=xk;l_.guessLength=kw;l_.toArray=Pk;l_.toArrayWithIndices=Rk});var iT=cr((Dj,nT)=>{var Ow=I0(),rT=Gm();function eo(e,t){if(arguments.length<2)throw new Error("mnemonist/fixed-deque: expecting an Array class and a capacity.");if(typeof t!="number"||t<=0)throw new Error("mnemonist/fixed-deque: `capacity` should be a positive number.");this.ArrayClass=e,this.capacity=t,this.items=new e(this.capacity),this.clear()}eo.prototype.clear=function(){this.start=0,this.size=0};eo.prototype.push=function(e){if(this.size===this.capacity)throw new Error("mnemonist/fixed-deque.push: deque capacity ("+this.capacity+") exceeded!");var t=this.start+this.size;return t>=this.capacity&&(t-=this.capacity),this.items[t]=e,++this.size};eo.prototype.unshift=function(e){if(this.size===this.capacity)throw new Error("mnemonist/fixed-deque.unshift: deque capacity ("+this.capacity+") exceeded!");var t=this.start-1;return this.start===0&&(t=this.capacity-1),this.items[t]=e,this.start=t,++this.size};eo.prototype.pop=function(){if(this.size!==0){this.size--;var e=this.start+this.size;return e>=this.capacity&&(e-=this.capacity),this.items[e]}};eo.prototype.shift=function(){if(this.size!==0){var e=this.start;return this.size--,this.start++,this.start===this.capacity&&(this.start=0),this.items[e]}};eo.prototype.peekFirst=function(){if(this.size!==0)return this.items[this.start]};eo.prototype.peekLast=function(){if(this.size!==0){var e=this.start+this.size-1;return e>=this.capacity&&(e-=this.capacity),this.items[e]}};eo.prototype.get=function(e){if(!(this.size===0||e>=this.capacity))return e=this.start+e,e>=this.capacity&&(e-=this.capacity),this.items[e]};eo.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var r=this.capacity,n=this.size,i=this.start,a=0;a<n;)e.call(t,this.items[i],a,this),i++,a++,i===r&&(i=0)};eo.prototype.toArray=function(){var e=this.start+this.size;if(e<this.capacity)return this.items.slice(this.start,e);for(var t=new this.ArrayClass(this.size),r=this.capacity,n=this.size,i=this.start,a=0;a<n;)t[a]=this.items[i],i++,a++,i===r&&(i=0);return t};eo.prototype.values=function(){var e=this.items,t=this.capacity,r=this.size,n=this.start,i=0;return new rT(function(){if(i>=r)return{done:!0};var a=e[n];return n++,i++,n===t&&(n=0),{value:a,done:!1}})};eo.prototype.entries=function(){var e=this.items,t=this.capacity,r=this.size,n=this.start,i=0;return new rT(function(){if(i>=r)return{done:!0};var a=e[n];return n++,n===t&&(n=0),{value:[i++,a],done:!1}})};typeof Symbol<"u"&&(eo.prototype[Symbol.iterator]=eo.prototype.values);eo.prototype.inspect=function(){var e=this.toArray();return e.type=this.ArrayClass.name,e.capacity=this.capacity,Object.defineProperty(e,"constructor",{value:eo,enumerable:!1}),e};typeof Symbol<"u"&&(eo.prototype[Symbol.for("nodejs.util.inspect.custom")]=eo.prototype.inspect);eo.from=function(e,t,r){if(arguments.length<3&&(r=Ow.guessLength(e),typeof r!="number"))throw new Error("mnemonist/fixed-deque.from: could not guess iterable length. Please provide desired capacity as last argument.");var n=new eo(t,r);if(Ow.isArrayLike(e)){var i,a;for(i=0,a=e.length;i<a;i++)n.items[i]=e[i];return n.size=a,n}return Ow.forEach(e,function(s){n.push(s)}),n};nT.exports=eo});var sT=cr((Tj,oT)=>{var aT=Gm(),Mw=I0();function ns(e,t){if(arguments.length<2)throw new Error("mnemonist/fixed-stack: expecting an Array class and a capacity.");if(typeof t!="number"||t<=0)throw new Error("mnemonist/fixed-stack: `capacity` should be a positive number.");this.capacity=t,this.ArrayClass=e,this.items=new this.ArrayClass(this.capacity),this.clear()}ns.prototype.clear=function(){this.size=0};ns.prototype.push=function(e){if(this.size===this.capacity)throw new Error("mnemonist/fixed-stack.push: stack capacity ("+this.capacity+") exceeded!");return this.items[this.size++]=e,this.size};ns.prototype.pop=function(){if(this.size!==0)return this.items[--this.size]};ns.prototype.peek=function(){return this.items[this.size-1]};ns.prototype.forEach=function(e,t){t=arguments.length>1?t:this;for(var r=0,n=this.items.length;r<n;r++)e.call(t,this.items[n-r-1],r,this)};ns.prototype.toArray=function(){for(var e=new this.ArrayClass(this.size),t=this.size-1,r=this.size;r--;)e[r]=this.items[t-r];return e};ns.prototype.values=function(){var e=this.items,t=this.size,r=0;return new aT(function(){if(r>=t)return{done:!0};var n=e[t-r-1];return r++,{value:n,done:!1}})};ns.prototype.entries=function(){var e=this.items,t=this.size,r=0;return new aT(function(){if(r>=t)return{done:!0};var n=e[t-r-1];return{value:[r++,n],done:!1}})};typeof Symbol<"u"&&(ns.prototype[Symbol.iterator]=ns.prototype.values);ns.prototype.toString=function(){return this.toArray().join(",")};ns.prototype.toJSON=function(){return this.toArray()};ns.prototype.inspect=function(){var e=this.toArray();return e.type=this.ArrayClass.name,e.capacity=this.capacity,Object.defineProperty(e,"constructor",{value:ns,enumerable:!1}),e};typeof Symbol<"u"&&(ns.prototype[Symbol.for("nodejs.util.inspect.custom")]=ns.prototype.inspect);ns.from=function(e,t,r){if(arguments.length<3&&(r=Mw.guessLength(e),typeof r!="number"))throw new Error("mnemonist/fixed-stack.from: could not guess iterable length. Please provide desired capacity as last argument.");var n=new ns(t,r);if(Mw.isArrayLike(e)){var i,a;for(i=0,a=e.length;i<a;i++)n.items[i]=e[i];return n.size=a,n}return Mw.forEach(e,function(s){n.push(s)}),n};oT.exports=ns});var uT=cr(d_=>{var kk=function(e,t){return e<t?-1:e>t?1:0},Ok=function(e,t){return e<t?1:e>t?-1:0};function Mk(e){return function(t,r){return e(r,t)}}function Lk(e){return e===2?function(t,r){return t[0]<r[0]?-1:t[0]>r[0]?1:t[1]<r[1]?-1:t[1]>r[1]?1:0}:function(t,r){for(var n=0;n<e;){if(t[n]<r[n])return-1;if(t[n]>r[n])return 1;n++}return 0}}d_.DEFAULT_COMPARATOR=kk;d_.DEFAULT_REVERSE_COMPARATOR=Ok;d_.reverseComparator=Mk;d_.createTupleComparator=Lk});var pT=cr((Nj,dT)=>{var x0=Rw(),cT=uT(),av=I0(),R0=cT.DEFAULT_COMPARATOR,Lw=cT.reverseComparator;function Fw(e,t,r,n){for(var i=t[n],a,s;n>r;){if(a=n-1>>1,s=t[a],e(i,s)<0){t[n]=s,n=a;continue}break}t[n]=i}function p_(e,t,r){for(var n=t.length,i=r,a=t[r],s=2*r+1,f;s<n;)f=s+1,f<n&&e(t[s],t[f])>=0&&(s=f),t[r]=t[s],r=s,s=2*r+1;t[r]=a,Fw(e,t,i,r)}function fT(e,t,r){t.push(r),Fw(e,t,0,t.length-1)}function Uw(e,t){var r=t.pop();if(t.length!==0){var n=t[0];return t[0]=r,p_(e,t,0),n}return r}function my(e,t,r){if(t.length===0)throw new Error("mnemonist/heap.replace: cannot pop an empty heap.");var n=t[0];return t[0]=r,p_(e,t,0),n}function lT(e,t,r){var n;return t.length!==0&&e(t[0],r)<0&&(n=t[0],t[0]=r,r=n,p_(e,t,0)),r}function gg(e,t){for(var r=t.length,n=r>>1,i=n;--i>=0;)p_(e,t,i)}function Bw(e,t){for(var r=t.length,n=0,i=new Array(r);n<r;)i[n++]=Uw(e,t);return i}function Fk(e,t,r){arguments.length===2&&(r=t,t=e,e=R0);var n=Lw(e),i,a,s,f=1/0,h;if(t===1){if(av.isArrayLike(r)){for(i=0,a=r.length;i<a;i++)s=r[i],(f===1/0||e(s,f)<0)&&(f=s);return h=new r.constructor(1),h[0]=f,h}return x0(r,function(D){(f===1/0||e(D,f)<0)&&(f=D)}),[f]}if(av.isArrayLike(r)){if(t>=r.length)return r.slice().sort(e);for(h=r.slice(0,t),gg(n,h),i=t,a=r.length;i<a;i++)n(r[i],h[0])>0&&my(n,h,r[i]);return h.sort(e)}var y=av.guessLength(r);return y!==null&&y<t&&(t=y),h=new Array(t),i=0,x0(r,function(D){i<t?h[i]=D:(i===t&&gg(n,h),n(D,h[0])>0&&my(n,h,D)),i++}),h.length>i&&(h.length=i),h.sort(e)}function Uk(e,t,r){arguments.length===2&&(r=t,t=e,e=R0);var n=Lw(e),i,a,s,f=-1/0,h;if(t===1){if(av.isArrayLike(r)){for(i=0,a=r.length;i<a;i++)s=r[i],(f===-1/0||e(s,f)>0)&&(f=s);return h=new r.constructor(1),h[0]=f,h}return x0(r,function(D){(f===-1/0||e(D,f)>0)&&(f=D)}),[f]}if(av.isArrayLike(r)){if(t>=r.length)return r.slice().sort(n);for(h=r.slice(0,t),gg(e,h),i=t,a=r.length;i<a;i++)e(r[i],h[0])>0&&my(e,h,r[i]);return h.sort(n)}var y=av.guessLength(r);return y!==null&&y<t&&(t=y),h=new Array(t),i=0,x0(r,function(D){i<t?h[i]=D:(i===t&&gg(e,h),e(D,h[0])>0&&my(e,h,D)),i++}),h.length>i&&(h.length=i),h.sort(n)}function Wn(e){if(this.clear(),this.comparator=e||R0,typeof this.comparator!="function")throw new Error("mnemonist/Heap.constructor: given comparator should be a function.")}Wn.prototype.clear=function(){this.items=[],this.size=0};Wn.prototype.push=function(e){return fT(this.comparator,this.items,e),++this.size};Wn.prototype.peek=function(){return this.items[0]};Wn.prototype.pop=function(){return this.size!==0&&this.size--,Uw(this.comparator,this.items)};Wn.prototype.replace=function(e){return my(this.comparator,this.items,e)};Wn.prototype.pushpop=function(e){return lT(this.comparator,this.items,e)};Wn.prototype.consume=function(){return this.size=0,Bw(this.comparator,this.items)};Wn.prototype.toArray=function(){return Bw(this.comparator,this.items.slice())};Wn.prototype.inspect=function(){var e=this.toArray();return Object.defineProperty(e,"constructor",{value:Wn,enumerable:!1}),e};typeof Symbol<"u"&&(Wn.prototype[Symbol.for("nodejs.util.inspect.custom")]=Wn.prototype.inspect);function P0(e){if(this.clear(),this.comparator=e||R0,typeof this.comparator!="function")throw new Error("mnemonist/MaxHeap.constructor: given comparator should be a function.");this.comparator=Lw(this.comparator)}P0.prototype=Wn.prototype;Wn.from=function(e,t){var r=new Wn(t),n;return av.isArrayLike(e)?n=e.slice():n=av.toArray(e),gg(r.comparator,n),r.items=n,r.size=n.length,r};P0.from=function(e,t){var r=new P0(t),n;return av.isArrayLike(e)?n=e.slice():n=av.toArray(e),gg(r.comparator,n),r.items=n,r.size=n.length,r};Wn.siftUp=p_;Wn.siftDown=Fw;Wn.push=fT;Wn.pop=Uw;Wn.replace=my;Wn.pushpop=lT;Wn.heapify=gg;Wn.consume=Bw;Wn.nsmallest=Fk;Wn.nlargest=Uk;Wn.MinHeap=Wn;Wn.MaxHeap=P0;dT.exports=Wn});var vT=cr(jw=>{var k0=mg(),Bk=Cw().createEdgeWeightGetter;function hT(e,t){return e==="outbound"||e==="inbound"?t.directedSize+t.undirectedSize*2:e==="in"||e==="out"||e==="directed"?t.directedSize:t.undirectedSize*2}function Xv(e,t){t=t||"outbound";var r=e[t+"Neighbors"].bind(e),n=hT(t,e),i=k0.getPointerArray(n),a=k0.getPointerArray(e.order);this.graph=e,this.neighborhood=new a(n),this.starts=new i(e.order+1),this.nodes=e.nodes();var s={},f,h,y,D,x,L,Y=0;for(f=0,h=e.order;f<h;f++)s[this.nodes[f]]=f;for(f=0,h=e.order;f<h;f++)for(x=this.nodes[f],L=r(x),this.starts[f]=Y,y=0,D=L.length;y<D;y++)this.neighborhood[Y++]=s[L[y]];this.starts[f]=n}Xv.prototype.bounds=function(e){return[this.starts[e],this.starts[e+1]]};Xv.prototype.project=function(){var e=this,t={};return e.nodes.forEach(function(r,n){t[r]=Array.from(e.neighborhood.slice(e.starts[n],e.starts[n+1])).map(function(i){return e.nodes[i]})}),t};Xv.prototype.collect=function(e){var t,r,n={};for(t=0,r=e.length;t<r;t++)n[this.nodes[t]]=e[t];return n};Xv.prototype.assign=function(e,t){var r=0;this.graph.updateEachNodeAttributes(function(n,i){return i[e]=t[r++],i},{attributes:[e]})};jw.NeighborhoodIndex=Xv;function h_(e,t,r){r=r||"outbound";var n=e[r+"Edges"].bind(e),i=hT(r,e),a=k0.getPointerArray(i),s=k0.getPointerArray(e.order),f=Bk(t).fromMinimalEntry;this.graph=e,this.neighborhood=new s(i),this.weights=new Float64Array(i),this.outDegrees=new Float64Array(e.order),this.starts=new a(e.order+1),this.nodes=e.nodes();var h={},y,D,x,L,Y,ee,W,H,X,ue=0;for(y=0,D=e.order;y<D;y++)h[this.nodes[y]]=y;for(y=0,D=e.order;y<D;y++)for(Y=this.nodes[y],W=n(Y),this.starts[y]=ue,x=0,L=W.length;x<L;x++)H=W[x],ee=e.opposite(Y,H),X=f(H,e.getEdgeAttributes(H)),this.neighborhood[ue]=h[ee],this.weights[ue++]=X,this.outDegrees[y]+=X;this.starts[y]=i}h_.prototype.bounds=Xv.prototype.bounds;h_.prototype.project=Xv.prototype.project;h_.prototype.collect=Xv.prototype.collect;h_.prototype.assign=Xv.prototype.assign;jw.WeightedNeighborhoodIndex=h_});var qw=cr(Gw=>{var jk=iT(),mT=sT(),Gk=pT(),gT=mg(),yT=vT(),qk=yT.NeighborhoodIndex,Yk=yT.WeightedNeighborhoodIndex;Gw.createUnweightedIndexedBrandes=function(t){var r=new qk(t),n=r.neighborhood,i=r.starts,a=t.order,s=new mT(gT.getPointerArray(a),a),f=new Uint32Array(a),h=new Array(a),y=new Int32Array(a),D=new jk(Uint32Array,a),x=function(L){var Y,ee,W,H,X,ue,ce;for(ue=0;ue<a;ue++)h[ue]=[],f[ue]=0,y[ue]=-1;for(f[L]=1,y[L]=0,D.push(L);D.size!==0;)for(ue=D.shift(),s.push(ue),Y=y[ue],ee=f[ue],W=i[ue],H=i[ue+1],X=W;X<H;X++)ce=n[X],y[ce]===-1&&(D.push(ce),y[ce]=Y+1),y[ce]===Y+1&&(f[ce]+=ee,h[ce].push(ue));return[s,h,f]};return x.index=r,x};function zk(e,t){return e[0]>t[0]?1:e[0]<t[0]?-1:e[1]>t[1]?1:e[1]<t[1]?-1:e[2]>t[2]?1:e[2]<t[2]?-1:e[3]>t[3]?1:e[3]<t[3]?-1:0}Gw.createDijkstraIndexedBrandes=function(t,r){var n=new Yk(t,r||"weight"),i=n.neighborhood,a=n.weights,s=n.starts,f=t.order,h=new mT(gT.getPointerArray(f),f),y=new Uint32Array(f),D=new Array(f),x=new Float64Array(f),L=new Float64Array(f),Y=new Gk(zk),ee=function(W){var H,X,ue,ce,he,Ue,Le,ve,Pe,Te=0;for(ve=0;ve<f;ve++)D[ve]=[],y[ve]=0,x[ve]=-1,L[ve]=-1;for(y[W]=1,L[W]=0,Y.push([0,Te++,W,W]);Y.size!==0;)if(ue=Y.pop(),ce=ue[0],he=ue[2],ve=ue[3],x[ve]===-1)for(h.push(ve),x[ve]=ce,y[ve]+=y[he],H=s[ve],X=s[ve+1],Le=H;Le<X;Le++)Pe=i[Le],Ue=ce+a[Le],x[Pe]===-1&&(L[Pe]===-1||Ue<L[Pe])?(L[Pe]=Ue,Y.push([Ue,Te++,ve,Pe]),y[Pe]=0,D[Pe]=[ve]):Ue===L[Pe]&&(y[Pe]+=y[ve],D[Pe].push(ve));return[h,D,y]};return ee.index=n,ee}});var Yw=cr((xj,bT)=>{var $k=dy(),_T=qw(),Vk=f_(),Wk=_T.createUnweightedIndexedBrandes,Hk=_T.createDijkstraIndexedBrandes,Kk={nodeCentralityAttribute:"betweennessCentrality",getEdgeWeight:"weight",normalized:!0};function ET(e,t,r){if(!$k(t))throw new Error("graphology-centrality/beetweenness-centrality: the given graph is not a valid graphology instance.");r=Vk(r,Kk);var n=r.nodeCentralityAttribute,i=r.normalized,a=r.getEdgeWeight?Hk(t,r.getEdgeWeight):Wk(t),s=t.order,f,h,y,D,x,L,Y,ee,W,H,X=new Float64Array(s),ue=new Float64Array(s);for(L=0;L<s;L++){for(f=a(L),h=f[0],y=f[1],D=f[2],Y=h.size;Y--;)X[h.items[h.size-Y]]=0;for(;h.size!==0;){for(H=h.pop(),x=(1+X[H])/D[H],Y=0,ee=y[H].length;Y<ee;Y++)W=y[H][Y],X[W]+=D[W]*x;H!==L&&(ue[H]+=X[H])}}var ce=null;if(i?ce=s<=2?null:1/((s-1)*(s-2)):ce=t.type==="undirected"?.5:null,ce!==null)for(L=0;L<s;L++)ue[L]*=ce;return e?a.index.assign(n,ue):a.index.collect(ue)}var wT=ET.bind(null,!1);wT.assign=ET.bind(null,!0);bT.exports=wT});var NT=cr((Pj,AT)=>{var Jk=dy(),ST=qw(),Zk=f_(),Xk=ST.createUnweightedIndexedBrandes,Qk=ST.createDijkstraIndexedBrandes,eO={edgeCentralityAttribute:"betweennessCentrality",getEdgeWeight:"weight",normalized:!0};function DT(e,t,r){if(!Jk(t))throw new Error("graphology-centrality/edge-beetweenness-centrality: the given graph is not a valid graphology instance.");r=Zk(r,eO);var n=r.edgeCentralityAttribute,i=r.normalized,a=r.getEdgeWeight?Qk(t,r.getEdgeWeight):Xk(t),s=t.order,f,h,y,D,x,L,Y,ee,W,H,X,ue,ce=new Float64Array(s),he={};t.forEachEdge(function(Pe){he[Pe]=0});var Ue=a.index.nodes;for(L=0;L<s;L++){for(f=a(L),h=f[0],y=f[1],D=f[2],Y=h.size;Y--;)ce[h.items[h.size-Y]]=0;for(;h.size!==0;)for(X=h.pop(),x=(1+ce[X])/D[X],ue=Ue[X],Y=0,ee=y[X].length;Y<ee;Y++){W=y[X][Y],H=D[W]*x;var Le=t.edge(Ue[W],ue);he[Le]+=H,ce[W]+=H}}var ve=null;return i?ve=s<=1?null:1/(s*(s-1)):ve=t.type==="undirected"?.5:null,ve!==null&&t.forEachEdge(function(Pe){he[Pe]*=ve}),e?t.updateEachEdgeAttributes(function(Pe,Te){return Te[n]=he[Pe],Te}):he}var TT=DT.bind(null,!1);TT.assign=DT.bind(null,!0);AT.exports=TT});var OA=cr((b5,yy)=>{"use strict";var IO=typeof Buffer<"u",xA=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,PA=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function RA(e,t,r){r==null&&t!==null&&typeof t=="object"&&(r=t,t=void 0),IO&&Buffer.isBuffer(e)&&(e=e.toString()),e&&e.charCodeAt(0)===65279&&(e=e.slice(1));let n=JSON.parse(e,t);if(n===null||typeof n!="object")return n;let i=r&&r.protoAction||"error",a=r&&r.constructorAction||"error";if(i==="ignore"&&a==="ignore")return n;if(i!=="ignore"&&a!=="ignore"){if(xA.test(e)===!1&&PA.test(e)===!1)return n}else if(i!=="ignore"&&a==="ignore"){if(xA.test(e)===!1)return n}else if(PA.test(e)===!1)return n;return kA(n,{protoAction:i,constructorAction:a,safe:r&&r.safe})}function kA(e,{protoAction:t="error",constructorAction:r="error",safe:n}={}){let i=[e];for(;i.length;){let a=i;i=[];for(let s of a){if(t!=="ignore"&&Object.prototype.hasOwnProperty.call(s,"__proto__")){if(n===!0)return null;if(t==="error")throw new SyntaxError("Object contains forbidden prototype property");delete s.__proto__}if(r!=="ignore"&&Object.prototype.hasOwnProperty.call(s,"constructor")&&Object.prototype.hasOwnProperty.call(s.constructor,"prototype")){if(n===!0)return null;if(r==="error")throw new SyntaxError("Object contains forbidden prototype property");delete s.constructor}for(let f in s){let h=s[f];h&&typeof h=="object"&&i.push(h)}}}return e}function Hw(e,t,r){let n=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return RA(e,t,r)}finally{Error.stackTraceLimit=n}}function xO(e,t){let r=Error.stackTraceLimit;Error.stackTraceLimit=0;try{return RA(e,t,{safe:!0})}catch{return null}finally{Error.stackTraceLimit=r}}yy.exports=Hw;yy.exports.default=Hw;yy.exports.parse=Hw;yy.exports.safeParse=xO;yy.exports.scan=kA});var $4={};IE($4,{activate:()=>Y4,deactivate:()=>z4});module.exports=Gx($4);var px=require("vscode");var nt={};var GT=require("vscode");var Vw={};IE(Vw,{action:()=>qx,diffView:()=>R1,storeApiKey:()=>Yx,work:()=>oO});function qx(){return e=>{typeof e=="function"&&e()}}var xE=require("vscode");function Yx(){return async(e,t)=>{let r=await xE.window.showInputBox({prompt:`Enter the ${t}`});r&&(await nt.ext.secrets.store(e,r),xE.window.showInformationMessage(`${t} stored successfully`))}}var Bf=require("vscode");var bi=require("vscode"),f2=Uf(FE());var UE=require("crypto");var s1=128,pg,ey;function u1(e){!pg||pg.length<e?(pg=Buffer.allocUnsafe(e*s1),UE.webcrypto.getRandomValues(pg),ey=0):ey+e>pg.length&&(UE.webcrypto.getRandomValues(pg),ey=0),ey+=e}function c1(e){return u1(e|=0),pg.subarray(ey-e,ey)}function f1(e,t,r){let n=(2<<31-Math.clz32(e.length-1|1))-1,i=Math.ceil(1.6*n*t/e.length);return(a=t)=>{let s="";for(;;){let f=r(i),h=i;for(;h--;)if(s+=e[f[h]&n]||"",s.length>=a)return s}}}function c2(e,t=21){return f1(e,t,c1)}var{fs:BE}=bi.workspace,l1=c2("1234567890abcdef",10);function Zh(){return l1()}function ty(){let e=[];for(let t of bi.window.tabGroups.all.flatMap(r=>r.tabs))t.input instanceof bi.TabInputText&&e.push(t.input.uri);return e}function rh(e){return bi.workspace.getWorkspaceFolder(e)?bi.workspace.asRelativePath(e):".../"+e.path.split("/").pop()}function hg(e){let t=bi.workspace.workspaceFolders,r;if((t==null?void 0:t.length)==1)r=bi.Uri.joinPath(t[0].uri,e);else if((t==null?void 0:t.length)>1){let[n,...i]=e.split("/");for(let a of t)a.name===n&&(r=bi.Uri.joinPath(a.uri,...i))}if(r&&bi.workspace.getWorkspaceFolder(r))return r;for(let n of ty())if(rh(n)==e)return n;return null}function Mn(e){let t=typeof e=="string"?hg(e):e;return t instanceof bi.Uri?t.with({scheme:"multicoder"}):!t&&typeof e=="string"&&e.startsWith(".multicoder")?bi.Uri.from({scheme:"multicoder",path:"/"+e}):null}async function Su(e){return new TextDecoder().decode(await BE.readFile(e))}async function zc(e,t){return await BE.writeFile(e,new TextEncoder().encode(t))}async function e0(e=""){let t=bi.workspace.workspaceFolders;if(!(t!=null&&t.length))return e?[]:ty().map(s=>({name:rh(s).split("/").pop(),path:rh(s),uri:s,isFile:!0,isDirectory:!1,isSymbolicLink:!1}));let r=t[0],n=bi.Uri.joinPath(r.uri,e);if(t.length>1){let[s,...f]=e.split("/");if(!s)return t.map(({name:h,uri:y})=>({name:h,path:h,uri:y,isFile:!1,isDirectory:!0,isSymbolicLink:!1}));if(r=t.find(h=>h.name==s),!r)return[];n=bi.Uri.joinPath(r.uri,...f)}let i=(0,f2.default)().add([".git",".gitignore"]);try{i.add(await Su(bi.Uri.joinPath(r.uri,".gitignore")))}catch{}let a=(await BE.readDirectory(n)).map(([s,f])=>({name:s,path:rh(bi.Uri.joinPath(n,s)),uri:bi.Uri.joinPath(n,s),isFile:!!(f&bi.FileType.File),isDirectory:!!(f&bi.FileType.Directory),isSymbolicLink:!!(f&bi.FileType.SymbolicLink)})).filter(({uri:s})=>!i.ignores(bi.workspace.asRelativePath(s,!1)));return a.sort((s,f)=>s.isFile&&f.isDirectory?1:s.isDirectory&&f.isFile?-1:s.name.localeCompare(f.name)),a}var N2=Uf(A2());var I1="InstrumentationKey=4a0957be-8ce1-4335-8aa5-1fb742355aa5;IngestionEndpoint=https://westeurope-5.in.applicationinsights.azure.com/;LiveEndpoint=https://westeurope.livediagnostics.monitor.azure.com/;ApplicationId=b0fce7b4-deeb-43b7-aa17-e5024c6c504c";function x1(e){return{logUsage(t,r){e.sendTelemetryEvent(t,r)},logError(t,r={}){if(t&&typeof t=="object"){let{message:n,stack:i}=t,a=String(t.name||"error").toLowerCase(),s=String(t);e.sendTelemetryErrorEvent(a,{...t,...r,message:n,stack:i,text:s})}else e.sendTelemetryErrorEvent(String(t).toLowerCase().replace(/\W+/g,"-"),r)}}}function C2(){let e=new N2.default(I1),t=x1(e);nt.telemetry=t,t.logUsage("activated"),nt.ext.subscriptions.push(e)}var I2=require("vscode");function x2(){let e=I2.window.createOutputChannel("Multicoder",{log:!0});function t(n){if(!n||typeof n!="object")return;let{event:i,...a}=n,s=Object.entries(a).map(([f,h])=>`
    ${f}: ${h}`);s.length&&e.trace(s.join(""))}function r(){let n={};return nt.model&&(n.modelId=nt.model.modelId,n.modelProvider=nt.model.provider),n}nt.log={error(n,i={}){e.error(n),nt.telemetry.logError(n,{...r(),...i}),t(i)},warn(n,i={}){e.warn((i!=null&&i.event?`[${i.event}] `:"")+n),nt.telemetry.logUsage((i==null?void 0:i.event)||"warning",{text:n,...r(),...i}),t(i)},info(n,i={}){e.info((i!=null&&i.event?`[${i.event}] `:"")+n),nt.telemetry.logUsage((i==null?void 0:i.event)||"info",{text:n,...r(),...i}),t(i)}},nt.ext.subscriptions.push(e)}var Qi=require("vscode");var{fs:Yy}=Qi.workspace,P1=new TextEncoder,Um=new Map,ry=new Map;function k2(){let e=new HE,t=Qi.workspace.registerFileSystemProvider("multicoder",e,{isCaseSensitive:!0,isReadonly:!1});nt.ext.subscriptions.push(t)}function Fm(e){return e.with({scheme:"file"})}function nh(e){return e.path}async function P2(e){try{return await Yy.stat(e)}catch{}}function WE(){let e=Date.now();return{type:Qi.FileType.File,ctime:e,mtime:e,size:0,content:null}}async function R2(e){if(ty().find(t=>String(t)==String(e))){let t=await Qi.workspace.openTextDocument(e),r=WE();if(t.isDirty)return r.mtime=Date.now(),r.content=P1.encode(t.getText()),r.size=r.content.length,r}}var HE=class{async stat(t){if(t.path.match(/\/\.multicoder\/task(\/\d+)*$/)){let n=Date.now();return{type:Qi.FileType.Directory,ctime:n,mtime:n,size:0}}let r=Um.get(nh(t));if(r||(r=await R2(Fm(t))),!r)return await Yy.stat(Fm(t));if(!r.content)throw Qi.FileSystemError.FileNotFound(t);return r}async readFile(t){let r=Um.get(nh(t));if(r||(r=await R2(Fm(t))),!r)return await Yy.readFile(Fm(t));if(r.type&Qi.FileType.Directory)throw Qi.FileSystemError.FileIsADirectory(t);if(!r.content)throw Qi.FileSystemError.FileNotFound(t);return r.content}async writeFile(t,r,n){let i=Um.get(nh(t)),a=i&&!!i.content;if(i||(i=await P2(Fm(t)),a=!!i),i||(i=WE()),i.type&Qi.FileType.Directory)throw Qi.FileSystemError.FileIsADirectory(t);if(!a&&!n.create)throw Qi.FileSystemError.FileNotFound(t);if(a&&n.create&&!n.overwrite)throw Qi.FileSystemError.FileExists(t);i.mtime=Date.now(),i.content=r,i.size=r.length,Um.set(nh(t),i),ry.has(nh(t))&&this._emitter.fire([{type:Qi.FileChangeType.Changed,uri:t}])}async readDirectory(t){let r=new Map,n=null;try{let i=Fm(t),a=await Yy.stat(i),s=await Yy.readDirectory(Fm(t));for(let[f,h]of s)r.set(f,h)}catch(i){n=i}for(let[i,a]of Um){let s=i.split("/"),f=s.pop();s.join("/")===t.path&&(a.content!==null?r.set(f,a.type):r.has(f)&&r.delete(f))}if(n&&r.size==0&&t.path.indexOf("/.multicoder")==-1)throw n;return Array.from(r.entries())}async delete(t,r){let n=Um.get(nh(t)),i=n&&!!n.content;if(n||(n=await P2(Fm(t)),i=!!n),!i)throw Qi.FileSystemError.FileNotFound(t);n||(n=WE()),n.content=null,n.size=0,Um.set(nh(t),n),ry.has(nh(t))&&this._emitter.fire([{type:Qi.FileChangeType.Deleted,uri:t}])}rename(t,r,n){}async createDirectory(t){}_emitter=new Qi.EventEmitter;onDidChangeFile=this._emitter.event;watch(t,r){let n={},i=ry.get(nh(t))||new Set;return i.add(n),ry.set(nh(t),i),new Qi.Disposable(()=>{i.delete(n),i.size||ry.set(nh(t),null)})}};function O2(){Um=new Map,ry=new Map}function R1(){return async(e,t)=>{var Y,ee,W;let r=hg(e),n=Mn(r),i=e.split("/").pop();try{await Bf.workspace.fs.stat(r)}catch{r=r.with({scheme:"untitled"})}await Bf.workspace.openTextDocument(r),await Bf.commands.executeCommand("vscode.diff",r,n,`${i} - proposed changes`);let a=(ee=(Y=nt.shared)==null?void 0:Y.edits)==null?void 0:ee.find(H=>H.id===t),s=Bf.window.activeTextEditor,f=s==null?void 0:s.document,h=(W=f==null?void 0:f.getText())==null?void 0:W.replace(/\r\n/g,`
`);if(!a||!a.search||!s||!f||f.uri.path!==n.path)return;let y=h.indexOf(a.search);if(y==-1)return;let D=h.slice(0,y).split(`
`).length-1,x=a.search.split(`
`).length,L=new Bf.Position(D,0);s.selection=new Bf.Selection(L,L),s.revealRange(new Bf.Range(L,new Bf.Position(D+x,0)))}}var Ym=require("vscode"),$w=Uf(rD());var ij=require("vscode"),oj=Uf(c_());var ID=require("vscode");var ak=require("vscode"),ok=Uf(c_());var ea=require("vscode"),xT=Uf(c_()),PT=Uf(Pw()),RT=Uf(Yw()),kT=Uf(NT());var v_=require("vscode"),CT=Uf(FE());async function zw(e,t=tO){let r={uri:e,files:[],directories:[],totalCount:0},n=await v_.workspace.fs.readDirectory(e),i=t;for(let[a,s]of n)if(a==".gitignore"&&s==1){let f=await Su(v_.Uri.joinPath(e,a)),h=(0,CT.default)().add([".git",".gitignore"]).add(f),y=e.path.length+1;i=D=>t(D)||h.ignores(D.slice(y))}for(let[a,s]of n){let f=v_.Uri.joinPath(e,a);if(s===1&&!i(f.path))r.files.push({uri:f}),r.totalCount++;else if(s===2&&!i(f.path+"/")){let h=await zw(f,i);r.directories.push(h),r.totalCount+=h.totalCount}}return r}function tO(e){return!1}var rO=[ea.SymbolKind.Function,ea.SymbolKind.Method,ea.SymbolKind.Constructor,ea.SymbolKind.Class],nO=5e3,iO=5;function OT(e,t,r){let n=ea.workspace.getWorkspaceFolder(e),i=ea.workspace.getWorkspaceFolder(t);if(!n||!i)return 1e4;if(!r.has(e.path)||!r.has(t.path))return 1e3;if(n.uri.path!==i.uri.path)return 100;let a=ea.workspace.asRelativePath(e),s=ea.workspace.asRelativePath(t);if(a==s)return 0;let f=a.split("/"),h=s.split("/"),y=0;for(;y<f.length&&y<h.length&&f[y]===h[y];)y++;return f.length-y+(h.length-y)-1}function IT(e,t,r,n){let i=20+(e.range.end.line-e.range.start.line),a=((t==null?void 0:t.distance)||0)+1,s=20;"uri"in e&&(i=i*2/(1+OT(r.uri,e.uri,n)),a<100&&(s=ea.workspace.asRelativePath(e.uri).split("/").length)),i=i/10**s;let f={incomingWeight:5*i/a,outgoingWeight:1*i/a,distance:a};return"children"in e?f.documentSymbol=e:f.symbol=e,f}async function aO(e){let t=[],r=await zw(ea.workspace.getWorkspaceFolder(e).uri);function n(s){t.push(s),s.directories.forEach(n)}n(r);function i(s){let f=s===r?0:ea.workspace.asRelativePath(s.uri).split("/").length;return(50+s.totalCount)/(1+f)}t.sort((s,f)=>i(f)-i(s));let a=new Map;return t.forEach((s,f)=>{let h="";do{let y=f%26;f=(f-y)/26-1,h=String.fromCharCode(65+y)+h}while(f>-1);a.set(s.uri.path,h),s.files.forEach((y,D)=>{a.set(y.uri.path,h+(D+1))})}),a}async function MT(e){let t=[],r=[],n=new Map,i=new xT.DirectedGraph,a=await aO(e.uri),s=new Map;function f(ve){let{start:Pe}=ve.selectionRange,Te="uri"in ve?ve.uri:e.uri,Je=a.get(Te.path);return Je||(Je=s.get(Te.path)),Je||(Je="_"+(s.size+1),s.set(Te.path,Je)),`${Je}#${Pe.line}:${Pe.character}`}function h({name:ve,uri:Pe}){return{name:ve,path:ea.workspace.getWorkspaceFolder(Pe)?ea.workspace.asRelativePath(Pe):".../"+Pe.path.split("/").pop()}}function y(ve,Pe){let Te=f(ve),Je=f(Pe),mt=1/(1+OT(ve.uri,Pe.uri,a));i.mergeNode(Te,h(ve)),i.mergeNode(Je,h(Pe)),i.mergeEdge(Te,Je,{weight:mt})}function D(ve,Pe){if(!rO.includes(ve.kind))return;let Te=IT(ve,Pe,e,a),Je=f(ve);t.push(Te),r.push(Te),n.set(Je,Te),ve.children.forEach(mt=>D(mt,ve))}function x(ve,Pe){let Te=f(ve),Je=n.get(Te);if(Je){Je.symbol||(Je.symbol=ve);return}Je=IT(ve,Pe,e,a),t.push(Je),r.push(Je),n.set(Te,Je)}async function L(ve,Pe){if(ve.symbol||ve.symbol===null){if(ve.symbol&&ea.workspace.getWorkspaceFolder(ve.symbol.uri)){let Er=ea.workspace.asRelativePath(ve.symbol.uri);console.log(Er.split("/").length,Er)}return}ve.symbol=null;let Te=ve.documentSymbol.selectionRange.start,Je=await ea.commands.executeCommand("vscode.prepareCallHierarchy",e.uri,Te),mt=Array.isArray(Je)?Je:[Je];for(let Er of mt)Er.selectionRange.start.isEqual(Te)&&(ve.symbol=Er)}async function Y(ve){if(await L(ve,"in"),!!ve.symbol)try{let Pe=await ea.commands.executeCommand("vscode.provideIncomingCalls",ve.symbol);for(let Te of Pe)x(Te.from,ve),y(Te.from,ve.symbol)}catch(Pe){console.log(ve.symbol),console.log(Pe);return}}async function ee(ve){if(await L(ve,"out"),!!ve.symbol)try{let Pe=await ea.commands.executeCommand("vscode.provideOutgoingCalls",ve.symbol);for(let Te of Pe)x(Te.to,ve),y(ve.symbol,Te.to)}catch(Pe){console.log(ve.symbol),console.log(Pe);return}}async function W({symbol:ve}){if(ve.kind!=ea.SymbolKind.Function)return;let Pe=ve.uri,Te=ve.selectionRange.start,Je=await ea.commands.executeCommand("vscode.executeReferenceProvider",Pe,Te);for(let mt of Je)if(mt.uri.path!=Pe.path||!mt.range.start.isEqual(Te)){let Er=[];n.forEach(({symbol:fr})=>{fr&&fr.uri.path==mt.uri.path&&fr.range.contains(mt.range)&&Er.push(fr)}),Er.sort((fr,Bt)=>Bt.range.end.line-Bt.range.start.line-fr.range.end.line+fr.range.start.line),Er.length&&y(Er[0],ve)}}let H=await ea.commands.executeCommand("vscode.executeDocumentSymbolProvider",e.uri);if(H)for(let ve of H)D(ve,null);let X=!1,ue=new Promise(ve=>setTimeout(ve,nO)).then(()=>X=!0),ce=[];async function he(){var ve;t.sort((Pe,Te)=>Te.incomingWeight-Pe.incomingWeight),r.sort((Pe,Te)=>Te.outgoingWeight-Pe.outgoingWeight),t.length&&t[0].incomingWeight>=(((ve=r[0])==null?void 0:ve.outgoingWeight)||0)?await Y(t.shift()):r.length&&await ee(r.shift())}async function Ue(){for(;!X&&(t.length||r.length);)await he()}for(let ve=0;ve<iO;ve++)await he(),ce.push(Ue());await Promise.race([ue,Promise.all(ce)]);let Le=i.filterNodes(ve=>!i.inDegree(ve));for(let ve of Le)X||await W(n.get(ve));return RT.default.assign(i,{getEdgeWeight:"weight",nodeCentralityAttribute:"betweenness"}),kT.default.assign(i,{getEdgeWeight:"weight",edgeCentralityAttribute:"betweenness"}),PT.default.assign(i,{getEdgeWeight:"weight"}),i}var LT=Uf(c_()),FT=Uf(Pw()),UT=Uf(Yw());function BT(e){let t=new LT.DirectedGraph;return e.forEachNode((r,{path:n})=>{let i=r.split("#")[0];if(!i.startsWith("_"))if(!t.hasNode(i))t.addNode(i,{path:n,count:1});else{let a=t.getNodeAttributes(i);a.count++}}),e.forEachEdge((r,{weight:n},i,a)=>{let s=i.split("#")[0],f=a.split("#")[0];s.startsWith("_")||f.startsWith("_")||s==f||(t.hasEdge(s,f)?t.getEdgeAttributes(s,f).weight+=n:t.addEdge(s,f,{weight:n}))}),UT.default.assign(t,{getEdgeWeight:"weight",nodeCentralityAttribute:"betweenness"}),FT.default.assign(t,{getEdgeWeight:"weight"}),t}async function jT(){let{document:e}=Ym.window.activeTextEditor,t=Date.now(),r=e.uri,n=Mn(r),i=await MT(e),a=Date.now();console.log("TIME:",a-t);let s=$w.write(i),f=Ym.Uri.joinPath(Ym.workspace.getWorkspaceFolder(r).uri,"graph-calls.gexf");await zc(f,s);let h=BT(i),y=$w.write(h),D=Ym.Uri.joinPath(Ym.workspace.getWorkspaceFolder(r).uri,"graph-files.gexf");await zc(D,y)}function oO(){return()=>{jT()}}function qT(){Object.entries(Vw).forEach(([e,t])=>{let r=GT.commands.registerCommand(`multicoder.${e}`,t());nt.ext.subscriptions.push(r)})}var My=require("vscode");var YT="vercel.ai.error",sO=Symbol.for(YT),zT,uO=class $T extends Error{constructor({name:t,message:r,cause:n}){super(r),this[zT]=!0,this.name=t,this.cause=n}static isInstance(t){return $T.hasMarker(t,YT)}static hasMarker(t,r){let n=Symbol.for(r);return t!=null&&typeof t=="object"&&n in t&&typeof t[n]=="boolean"&&t[n]===!0}};zT=sO;var Ht=uO,VT="AI_APICallError",WT=`vercel.ai.error.${VT}`,cO=Symbol.for(WT),HT,nd=class extends Ht{constructor({message:e,url:t,requestBodyValues:r,statusCode:n,responseHeaders:i,responseBody:a,cause:s,isRetryable:f=n!=null&&(n===408||n===409||n===429||n>=500),data:h}){super({name:VT,message:e,cause:s}),this[HT]=!0,this.url=t,this.requestBodyValues=r,this.statusCode=n,this.responseHeaders=i,this.responseBody=a,this.isRetryable=f,this.data=h}static isInstance(e){return Ht.hasMarker(e,WT)}};HT=cO;var KT="AI_EmptyResponseBodyError",JT=`vercel.ai.error.${KT}`,fO=Symbol.for(JT),ZT,XT=class extends Ht{constructor({message:e="Empty response body"}={}){super({name:KT,message:e}),this[ZT]=!0}static isInstance(e){return Ht.hasMarker(e,JT)}};ZT=fO;function zm(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}var QT="AI_InvalidArgumentError",eA=`vercel.ai.error.${QT}`,lO=Symbol.for(eA),tA,rA=class extends Ht{constructor({message:e,cause:t,argument:r}){super({name:QT,message:e,cause:t}),this[tA]=!0,this.argument=r}static isInstance(e){return Ht.hasMarker(e,eA)}};tA=lO;var nA="AI_InvalidPromptError",iA=`vercel.ai.error.${nA}`,dO=Symbol.for(iA),aA,Qv=class extends Ht{constructor({prompt:e,message:t,cause:r}){super({name:nA,message:`Invalid prompt: ${t}`,cause:r}),this[aA]=!0,this.prompt=e}static isInstance(e){return Ht.hasMarker(e,iA)}};aA=dO;var oA="AI_InvalidResponseDataError",sA=`vercel.ai.error.${oA}`,pO=Symbol.for(sA),uA,O0=class extends Ht{constructor({data:e,message:t=`Invalid response data: ${JSON.stringify(e)}.`}){super({name:oA,message:t}),this[uA]=!0,this.data=e}static isInstance(e){return Ht.hasMarker(e,sA)}};uA=pO;var cA="AI_JSONParseError",fA=`vercel.ai.error.${cA}`,hO=Symbol.for(fA),lA,m_=class extends Ht{constructor({text:e,cause:t}){super({name:cA,message:`JSON parsing failed: Text: ${e}.
Error message: ${zm(t)}`,cause:t}),this[lA]=!0,this.text=e}static isInstance(e){return Ht.hasMarker(e,fA)}};lA=hO;var dA="AI_LoadAPIKeyError",pA=`vercel.ai.error.${dA}`,vO=Symbol.for(pA),hA,g_=class extends Ht{constructor({message:e}){super({name:dA,message:e}),this[hA]=!0}static isInstance(e){return Ht.hasMarker(e,pA)}};hA=vO;var mO="AI_LoadSettingError",gO=`vercel.ai.error.${mO}`,yO=Symbol.for(gO),_O;_O=yO;var EO="AI_NoContentGeneratedError",wO=`vercel.ai.error.${EO}`,bO=Symbol.for(wO),SO;SO=bO;var vA="AI_NoSuchModelError",mA=`vercel.ai.error.${vA}`,DO=Symbol.for(mA),gA,yA=class extends Ht{constructor({errorName:e=vA,modelId:t,modelType:r,message:n=`No such ${r}: ${t}`}){super({name:e,message:n}),this[gA]=!0,this.modelId=t,this.modelType=r}static isInstance(e){return Ht.hasMarker(e,mA)}};gA=DO;var _A="AI_TooManyEmbeddingValuesForCallError",EA=`vercel.ai.error.${_A}`,TO=Symbol.for(EA),wA,bA=class extends Ht{constructor(e){super({name:_A,message:`Too many values for a single embedding call. The ${e.provider} model "${e.modelId}" can only embed up to ${e.maxEmbeddingsPerCall} values per call, but ${e.values.length} values were provided.`}),this[wA]=!0,this.provider=e.provider,this.modelId=e.modelId,this.maxEmbeddingsPerCall=e.maxEmbeddingsPerCall,this.values=e.values}static isInstance(e){return Ht.hasMarker(e,EA)}};wA=TO;var SA="AI_TypeValidationError",DA=`vercel.ai.error.${SA}`,AO=Symbol.for(DA),TA,NO=class Ww extends Ht{constructor({value:t,cause:r}){super({name:SA,message:`Type validation failed: Value: ${JSON.stringify(t)}.
Error message: ${zm(r)}`,cause:r}),this[TA]=!0,this.value=t}static isInstance(t){return Ht.hasMarker(t,DA)}static wrap({value:t,cause:r}){return Ww.isInstance(r)&&r.value===t?r:new Ww({value:t,cause:r})}};TA=AO;var gy=NO,AA="AI_UnsupportedFunctionalityError",NA=`vercel.ai.error.${AA}`,CO=Symbol.for(NA),CA,Zn=class extends Ht{constructor({functionality:e}){super({name:AA,message:`'${e}' functionality not supported.`}),this[CA]=!0,this.functionality=e}static isInstance(e){return Ht.hasMarker(e,NA)}};CA=CO;var IA=(e,t=21)=>(r=t)=>{let n="",i=r|0;for(;i--;)n+=e[Math.random()*e.length|0];return n};var j0=Uf(OA(),1);var PO=Object.defineProperty,RO=(e,t,r)=>t in e?PO(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r,M0=(e,t,r)=>RO(e,typeof t!="symbol"?t+"":t,r),L0=class extends Error{constructor(t,r){super(t),M0(this,"type"),M0(this,"field"),M0(this,"value"),M0(this,"line"),this.name="ParseError",this.type=r.type,this.field=r.field,this.value=r.value,this.line=r.line}};function Kw(e){}function MA(e){let{onEvent:t=Kw,onError:r=Kw,onRetry:n=Kw,onComment:i}=e,a="",s=!0,f,h="",y="";function D(W){let H=s?W.replace(/^\xEF\xBB\xBF/,""):W,[X,ue]=kO(`${a}${H}`);for(let ce of X)x(ce);a=ue,s=!1}function x(W){if(W===""){Y();return}if(W.startsWith(":")){i&&i(W.slice(W.startsWith(": ")?2:1));return}let H=W.indexOf(":");if(H!==-1){let X=W.slice(0,H),ue=W[H+1]===" "?2:1,ce=W.slice(H+ue);L(X,ce,W);return}L(W,"",W)}function L(W,H,X){switch(W){case"event":y=H;break;case"data":h=`${h}${H}
`;break;case"id":f=H.includes("\0")?void 0:H;break;case"retry":/^\d+$/.test(H)?n(parseInt(H,10)):r(new L0(`Invalid \`retry\` value: "${H}"`,{type:"invalid-retry",value:H,line:X}));break;default:r(new L0(`Unknown field "${W.length>20?`${W.slice(0,20)}\u2026`:W}"`,{type:"unknown-field",field:W,value:H,line:X}));break}}function Y(){h.length>0&&t({id:f,event:y||void 0,data:h.endsWith(`
`)?h.slice(0,-1):h}),f=void 0,h="",y=""}function ee(W={}){a&&W.consume&&x(a),f=void 0,h="",y="",a=""}return{feed:D,reset:ee}}function kO(e){let t=[],r="",n=e.length;for(let i=0;i<n;i++){let a=e[i];a==="\r"&&e[i+1]===`
`?(t.push(r),r="",i++):a==="\r"||a===`
`?(t.push(r),r=""):r+=a}return[t,r]}var F0=class extends TransformStream{constructor({onError:t,onRetry:r,onComment:n}={}){let i;super({start(a){i=MA({onEvent:s=>{a.enqueue(s)},onError(s){t==="terminate"?a.error(s):typeof t=="function"&&t(s)},onRetry:r,onComment:n})},transform(a){i.feed(a)}})}};function op(...e){return e.reduce((t,r)=>({...t,...r??{}}),{})}function LA(e){return new ReadableStream({async pull(t){try{let{value:r,done:n}=await e.next();n?t.close():t.enqueue(r)}catch(r){t.error(r)}},cancel(){}})}function U0(e){let t={};return e.headers.forEach((r,n)=>{t[n]=r}),t}var em=({prefix:e,size:t=16,alphabet:r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",separator:n="-"}={})=>{let i=IA(r,t);if(e==null)return i;if(r.includes(n))throw new rA({argument:"separator",message:`The separator "${n}" must not be part of the alphabet "${r}".`});return a=>`${e}${n}${i(a)}`},tm=em();function FA(e){return e==null?"unknown error":typeof e=="string"?e:e instanceof Error?e.message:JSON.stringify(e)}function y_(e){return e instanceof Error&&(e.name==="AbortError"||e.name==="TimeoutError")}function B0({apiKey:e,environmentVariableName:t,apiKeyParameterName:r="apiKey",description:n}){if(typeof e=="string")return e;if(e!=null)throw new g_({message:`${n} API key must be a string.`});if(typeof process>"u")throw new g_({message:`${n} API key is missing. Pass it using the '${r}' parameter. Environment variables is not supported in this environment.`});if(e=process.env[t],e==null)throw new g_({message:`${n} API key is missing. Pass it using the '${r}' parameter or the ${t} environment variable.`});if(typeof e!="string")throw new g_({message:`${n} API key must be a string. The value of the ${t} environment variable is not a string.`});return e}var __=Symbol.for("vercel.ai.validator");function OO(e){return{[__]:!0,validate:e}}function MO(e){return typeof e=="object"&&e!==null&&__ in e&&e[__]===!0&&"validate"in e}function LO(e){return MO(e)?e:FO(e)}function FO(e){return OO(t=>{let r=e.safeParse(t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}})}function UO({value:e,schema:t}){let r=$m({value:e,schema:t});if(!r.success)throw gy.wrap({value:e,cause:r.error});return r.value}function $m({value:e,schema:t}){let r=LO(t);try{if(r.validate==null)return{success:!0,value:e};let n=r.validate(e);return n.success?n:{success:!1,error:gy.wrap({value:e,cause:n.error})}}catch(n){return{success:!1,error:gy.wrap({value:e,cause:n})}}}function BO({text:e,schema:t}){try{let r=j0.default.parse(e);return t==null?r:UO({value:r,schema:t})}catch(r){throw m_.isInstance(r)||gy.isInstance(r)?r:new m_({text:e,cause:r})}}function ov({text:e,schema:t}){try{let r=j0.default.parse(e);return t==null?{success:!0,value:r}:$m({value:r,schema:t})}catch(r){return{success:!1,error:m_.isInstance(r)?r:new m_({text:e,cause:r})}}}function Jw(e){try{return j0.default.parse(e),!0}catch{return!1}}function jO(e){return Object.fromEntries(Object.entries(e).filter(([t,r])=>r!=null))}var GO=()=>globalThis.fetch,id=async({url:e,headers:t,body:r,failedResponseHandler:n,successfulResponseHandler:i,abortSignal:a,fetch:s})=>qO({url:e,headers:{"Content-Type":"application/json",...t},body:{content:JSON.stringify(r),values:r},failedResponseHandler:n,successfulResponseHandler:i,abortSignal:a,fetch:s}),qO=async({url:e,headers:t={},body:r,successfulResponseHandler:n,failedResponseHandler:i,abortSignal:a,fetch:s=GO()})=>{try{let f=await s(e,{method:"POST",headers:jO(t),body:r.content,signal:a}),h=U0(f);if(!f.ok){let y;try{y=await i({response:f,url:e,requestBodyValues:r.values})}catch(D){throw y_(D)||nd.isInstance(D)?D:new nd({message:"Failed to process error response",cause:D,statusCode:f.status,url:e,responseHeaders:h,requestBodyValues:r.values})}throw y.value}try{return await n({response:f,url:e,requestBodyValues:r.values})}catch(y){throw y instanceof Error&&(y_(y)||nd.isInstance(y))?y:new nd({message:"Failed to process successful response",cause:y,statusCode:f.status,url:e,responseHeaders:h,requestBodyValues:r.values})}}catch(f){if(y_(f))throw f;if(f instanceof TypeError&&f.message==="fetch failed"){let h=f.cause;if(h!=null)throw new nd({message:`Cannot connect to API: ${h.message}`,cause:h,url:e,requestBodyValues:r.values,isRetryable:!0})}throw f}};async function UA(e){return typeof e=="function"&&(e=e()),Promise.resolve(e)}var G0=({errorSchema:e,errorToMessage:t,isRetryable:r})=>async({response:n,url:i,requestBodyValues:a})=>{let s=await n.text(),f=U0(n);if(s.trim()==="")return{responseHeaders:f,value:new nd({message:n.statusText,url:i,requestBodyValues:a,statusCode:n.status,responseHeaders:f,responseBody:s,isRetryable:r==null?void 0:r(n)})};try{let h=BO({text:s,schema:e});return{responseHeaders:f,value:new nd({message:t(h),url:i,requestBodyValues:a,statusCode:n.status,responseHeaders:f,responseBody:s,data:h,isRetryable:r==null?void 0:r(n,h)})}}catch{return{responseHeaders:f,value:new nd({message:n.statusText,url:i,requestBodyValues:a,statusCode:n.status,responseHeaders:f,responseBody:s,isRetryable:r==null?void 0:r(n)})}}},_y=e=>async({response:t})=>{let r=U0(t);if(t.body==null)throw new XT({});return{responseHeaders:r,value:t.body.pipeThrough(new TextDecoderStream).pipeThrough(new F0).pipeThrough(new TransformStream({transform({data:n},i){n!=="[DONE]"&&i.enqueue(ov({text:n,schema:e}))}}))}};var sv=e=>async({response:t,url:r,requestBodyValues:n})=>{let i=await t.text(),a=ov({text:i,schema:e}),s=U0(t);if(!a.success)throw new nd({message:"Invalid JSON response",cause:a.error,statusCode:t.status,responseHeaders:s,responseBody:i,url:r,requestBodyValues:n});return{responseHeaders:s,value:a.value}},{btoa:YO,atob:zO}=globalThis;function BA(e){let t=e.replace(/-/g,"+").replace(/_/g,"/"),r=zO(t);return Uint8Array.from(r,n=>n.codePointAt(0))}function yg(e){let t="";for(let r=0;r<e.length;r++)t+=String.fromCodePoint(e[r]);return YO(t)}function q0(e){return e==null?void 0:e.replace(/\/$/,"")}var bn;(function(e){e.assertEqual=i=>i;function t(i){}e.assertIs=t;function r(i){throw new Error}e.assertNever=r,e.arrayToEnum=i=>{let a={};for(let s of i)a[s]=s;return a},e.getValidEnumValues=i=>{let a=e.objectKeys(i).filter(f=>typeof i[i[f]]!="number"),s={};for(let f of a)s[f]=i[f];return e.objectValues(s)},e.objectValues=i=>e.objectKeys(i).map(function(a){return i[a]}),e.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{let a=[];for(let s in i)Object.prototype.hasOwnProperty.call(i,s)&&a.push(s);return a},e.find=(i,a)=>{for(let s of i)if(a(s))return s},e.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,a=" | "){return i.map(s=>typeof s=="string"?`'${s}'`:s).join(a)}e.joinValues=n,e.jsonStringifyReplacer=(i,a)=>typeof a=="bigint"?a.toString():a})(bn||(bn={}));var Xw;(function(e){e.mergeShapes=(t,r)=>({...t,...r})})(Xw||(Xw={}));var Nt=bn.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),nm=e=>{switch(typeof e){case"undefined":return Nt.undefined;case"string":return Nt.string;case"number":return isNaN(e)?Nt.nan:Nt.number;case"boolean":return Nt.boolean;case"function":return Nt.function;case"bigint":return Nt.bigint;case"symbol":return Nt.symbol;case"object":return Array.isArray(e)?Nt.array:e===null?Nt.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?Nt.promise:typeof Map<"u"&&e instanceof Map?Nt.map:typeof Set<"u"&&e instanceof Set?Nt.set:typeof Date<"u"&&e instanceof Date?Nt.date:Nt.object;default:return Nt.unknown}},Ke=bn.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),$O=e=>JSON.stringify(e,null,2).replace(/"([^"]+)":/g,"$1:"),ad=class e extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};let r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=t}format(t){let r=t||function(a){return a.message},n={_errors:[]},i=a=>{for(let s of a.issues)if(s.code==="invalid_union")s.unionErrors.map(i);else if(s.code==="invalid_return_type")i(s.returnTypeError);else if(s.code==="invalid_arguments")i(s.argumentsError);else if(s.path.length===0)n._errors.push(r(s));else{let f=n,h=0;for(;h<s.path.length;){let y=s.path[h];h===s.path.length-1?(f[y]=f[y]||{_errors:[]},f[y]._errors.push(r(s))):f[y]=f[y]||{_errors:[]},f=f[y],h++}}};return i(this),n}static assert(t){if(!(t instanceof e))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,bn.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=r=>r.message){let r={},n=[];for(let i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(t(i))):n.push(t(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}};ad.create=e=>new ad(e);var by=(e,t)=>{let r;switch(e.code){case Ke.invalid_type:e.received===Nt.undefined?r="Required":r=`Expected ${e.expected}, received ${e.received}`;break;case Ke.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(e.expected,bn.jsonStringifyReplacer)}`;break;case Ke.unrecognized_keys:r=`Unrecognized key(s) in object: ${bn.joinValues(e.keys,", ")}`;break;case Ke.invalid_union:r="Invalid input";break;case Ke.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${bn.joinValues(e.options)}`;break;case Ke.invalid_enum_value:r=`Invalid enum value. Expected ${bn.joinValues(e.options)}, received '${e.received}'`;break;case Ke.invalid_arguments:r="Invalid function arguments";break;case Ke.invalid_return_type:r="Invalid function return type";break;case Ke.invalid_date:r="Invalid date";break;case Ke.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(r=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?r=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?r=`Invalid input: must end with "${e.validation.endsWith}"`:bn.assertNever(e.validation):e.validation!=="regex"?r=`Invalid ${e.validation}`:r="Invalid";break;case Ke.too_small:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:r="Invalid input";break;case Ke.too_big:e.type==="array"?r=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?r=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?r=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?r=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?r=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:r="Invalid input";break;case Ke.custom:r="Invalid input";break;case Ke.invalid_intersection_types:r="Intersection results could not be merged";break;case Ke.not_multiple_of:r=`Number must be a multiple of ${e.multipleOf}`;break;case Ke.not_finite:r="Number must be finite";break;default:r=t.defaultError,bn.assertNever(e)}return{message:r}},qA=by;function VO(e){qA=e}function Y0(){return qA}var z0=e=>{let{data:t,path:r,errorMaps:n,issueData:i}=e,a=[...r,...i.path||[]],s={...i,path:a};if(i.message!==void 0)return{...i,path:a,message:i.message};let f="",h=n.filter(y=>!!y).slice().reverse();for(let y of h)f=y(s,{data:t,defaultError:f}).message;return{...i,path:a,message:f}},WO=[];function pt(e,t){let r=Y0(),n=z0({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,r,r===by?void 0:by].filter(i=>!!i)});e.common.issues.push(n)}var oc=class e{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,r){let n=[];for(let i of r){if(i.status==="aborted")return Ar;i.status==="dirty"&&t.dirty(),n.push(i.value)}return{status:t.value,value:n}}static async mergeObjectAsync(t,r){let n=[];for(let i of r){let a=await i.key,s=await i.value;n.push({key:a,value:s})}return e.mergeObjectSync(t,n)}static mergeObjectSync(t,r){let n={};for(let i of r){let{key:a,value:s}=i;if(a.status==="aborted"||s.status==="aborted")return Ar;a.status==="dirty"&&t.dirty(),s.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof s.value<"u"||i.alwaysSet)&&(n[a.value]=s.value)}return{status:t.value,value:n}}},Ar=Object.freeze({status:"aborted"}),wy=e=>({status:"dirty",value:e}),$c=e=>({status:"valid",value:e}),Qw=e=>e.status==="aborted",eb=e=>e.status==="dirty",_g=e=>e.status==="valid",b_=e=>typeof Promise<"u"&&e instanceof Promise;function $0(e,t,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof t=="function"?e!==t||!n:!t.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(e):n?n.value:t.get(e)}function YA(e,t,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof t=="function"?e!==t||!i:!t.has(e))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(e,r):i?i.value=r:t.set(e,r),r}var Gt;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Gt||(Gt={}));var E_,w_,sp=class{constructor(t,r,n,i){this._cachedPath=[],this.parent=t,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}},jA=(e,t)=>{if(_g(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;let r=new ad(e.common.issues);return this._error=r,this._error}}};function Br(e){if(!e)return{};let{errorMap:t,invalid_type_error:r,required_error:n,description:i}=e;if(t&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:i}:{errorMap:(s,f)=>{var h,y;let{message:D}=e;return s.code==="invalid_enum_value"?{message:D??f.defaultError}:typeof f.data>"u"?{message:(h=D??n)!==null&&h!==void 0?h:f.defaultError}:s.code!=="invalid_type"?{message:f.defaultError}:{message:(y=D??r)!==null&&y!==void 0?y:f.defaultError}},description:i}}var jr=class{get description(){return this._def.description}_getType(t){return nm(t.data)}_getOrReturnCtx(t,r){return r||{common:t.parent.common,data:t.data,parsedType:nm(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new oc,ctx:{common:t.parent.common,data:t.data,parsedType:nm(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){let r=this._parse(t);if(b_(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(t){let r=this._parse(t);return Promise.resolve(r)}parse(t,r){let n=this.safeParse(t,r);if(n.success)return n.data;throw n.error}safeParse(t,r){var n;let i={common:{issues:[],async:(n=r==null?void 0:r.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r==null?void 0:r.errorMap},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:nm(t)},a=this._parseSync({data:t,path:i.path,parent:i});return jA(i,a)}"~validate"(t){var r,n;let i={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:nm(t)};if(!this["~standard"].async)try{let a=this._parseSync({data:t,path:[],parent:i});return _g(a)?{value:a.value}:{issues:i.common.issues}}catch(a){!((n=(r=a==null?void 0:a.message)===null||r===void 0?void 0:r.toLowerCase())===null||n===void 0)&&n.includes("encountered")&&(this["~standard"].async=!0),i.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:i}).then(a=>_g(a)?{value:a.value}:{issues:i.common.issues})}async parseAsync(t,r){let n=await this.safeParseAsync(t,r);if(n.success)return n.data;throw n.error}async safeParseAsync(t,r){let n={common:{issues:[],contextualErrorMap:r==null?void 0:r.errorMap,async:!0},path:(r==null?void 0:r.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:nm(t)},i=this._parse({data:t,path:n.path,parent:n}),a=await(b_(i)?i:Promise.resolve(i));return jA(n,a)}refine(t,r){let n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,a)=>{let s=t(i),f=()=>a.addIssue({code:Ke.custom,...n(i)});return typeof Promise<"u"&&s instanceof Promise?s.then(h=>h?!0:(f(),!1)):s?!0:(f(),!1)})}refinement(t,r){return this._refinement((n,i)=>t(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(t){return new od({schema:this,typeName:et.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:r=>this["~validate"](r)}}optional(){return Yf.create(this,this._def)}nullable(){return cv.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return am.create(this)}promise(){return Hm.create(this,this._def)}or(t){return Ag.create([this,t],this._def)}and(t){return Ng.create(this,t,this._def)}transform(t){return new od({...Br(this._def),schema:this,typeName:et.ZodEffects,effect:{type:"transform",transform:t}})}default(t){let r=typeof t=="function"?t:()=>t;return new Rg({...Br(this._def),innerType:this,defaultValue:r,typeName:et.ZodDefault})}brand(){return new S_({typeName:et.ZodBranded,type:this,...Br(this._def)})}catch(t){let r=typeof t=="function"?t:()=>t;return new kg({...Br(this._def),innerType:this,catchValue:r,typeName:et.ZodCatch})}describe(t){let r=this.constructor;return new r({...this._def,description:t})}pipe(t){return D_.create(this,t)}readonly(){return Og.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}},HO=/^c[^\s-]{8,}$/i,KO=/^[0-9a-z]+$/,JO=/^[0-9A-HJKMNP-TV-Z]{26}$/i,ZO=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,XO=/^[a-z0-9_-]{21}$/i,QO=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,eM=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,tM=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,rM="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$",Zw,nM=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,iM=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,aM=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,oM=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,sM=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,uM=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,zA="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",cM=new RegExp(`^${zA}$`);function $A(e){let t="([01]\\d|2[0-3]):[0-5]\\d:[0-5]\\d";return e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`),t}function fM(e){return new RegExp(`^${$A(e)}$`)}function VA(e){let t=`${zA}T${$A(e)}`,r=[];return r.push(e.local?"Z?":"Z"),e.offset&&r.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${r.join("|")})`,new RegExp(`^${t}$`)}function lM(e,t){return!!((t==="v4"||!t)&&nM.test(e)||(t==="v6"||!t)&&aM.test(e))}function dM(e,t){if(!QO.test(e))return!1;try{let[r]=e.split("."),n=r.replace(/-/g,"+").replace(/_/g,"/").padEnd(r.length+(4-r.length%4)%4,"="),i=JSON.parse(atob(n));return!(typeof i!="object"||i===null||!i.typ||!i.alg||t&&i.alg!==t)}catch{return!1}}function pM(e,t){return!!((t==="v4"||!t)&&iM.test(e)||(t==="v6"||!t)&&oM.test(e))}var Vm=class e extends jr{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==Nt.string){let a=this._getOrReturnCtx(t);return pt(a,{code:Ke.invalid_type,expected:Nt.string,received:a.parsedType}),Ar}let n=new oc,i;for(let a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(i=this._getOrReturnCtx(t,i),pt(i,{code:Ke.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="max")t.data.length>a.value&&(i=this._getOrReturnCtx(t,i),pt(i,{code:Ke.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),n.dirty());else if(a.kind==="length"){let s=t.data.length>a.value,f=t.data.length<a.value;(s||f)&&(i=this._getOrReturnCtx(t,i),s?pt(i,{code:Ke.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):f&&pt(i,{code:Ke.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),n.dirty())}else if(a.kind==="email")tM.test(t.data)||(i=this._getOrReturnCtx(t,i),pt(i,{validation:"email",code:Ke.invalid_string,message:a.message}),n.dirty());else if(a.kind==="emoji")Zw||(Zw=new RegExp(rM,"u")),Zw.test(t.data)||(i=this._getOrReturnCtx(t,i),pt(i,{validation:"emoji",code:Ke.invalid_string,message:a.message}),n.dirty());else if(a.kind==="uuid")ZO.test(t.data)||(i=this._getOrReturnCtx(t,i),pt(i,{validation:"uuid",code:Ke.invalid_string,message:a.message}),n.dirty());else if(a.kind==="nanoid")XO.test(t.data)||(i=this._getOrReturnCtx(t,i),pt(i,{validation:"nanoid",code:Ke.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid")HO.test(t.data)||(i=this._getOrReturnCtx(t,i),pt(i,{validation:"cuid",code:Ke.invalid_string,message:a.message}),n.dirty());else if(a.kind==="cuid2")KO.test(t.data)||(i=this._getOrReturnCtx(t,i),pt(i,{validation:"cuid2",code:Ke.invalid_string,message:a.message}),n.dirty());else if(a.kind==="ulid")JO.test(t.data)||(i=this._getOrReturnCtx(t,i),pt(i,{validation:"ulid",code:Ke.invalid_string,message:a.message}),n.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{i=this._getOrReturnCtx(t,i),pt(i,{validation:"url",code:Ke.invalid_string,message:a.message}),n.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(i=this._getOrReturnCtx(t,i),pt(i,{validation:"regex",code:Ke.invalid_string,message:a.message}),n.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(i=this._getOrReturnCtx(t,i),pt(i,{code:Ke.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),n.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(i=this._getOrReturnCtx(t,i),pt(i,{code:Ke.invalid_string,validation:{startsWith:a.value},message:a.message}),n.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(i=this._getOrReturnCtx(t,i),pt(i,{code:Ke.invalid_string,validation:{endsWith:a.value},message:a.message}),n.dirty()):a.kind==="datetime"?VA(a).test(t.data)||(i=this._getOrReturnCtx(t,i),pt(i,{code:Ke.invalid_string,validation:"datetime",message:a.message}),n.dirty()):a.kind==="date"?cM.test(t.data)||(i=this._getOrReturnCtx(t,i),pt(i,{code:Ke.invalid_string,validation:"date",message:a.message}),n.dirty()):a.kind==="time"?fM(a).test(t.data)||(i=this._getOrReturnCtx(t,i),pt(i,{code:Ke.invalid_string,validation:"time",message:a.message}),n.dirty()):a.kind==="duration"?eM.test(t.data)||(i=this._getOrReturnCtx(t,i),pt(i,{validation:"duration",code:Ke.invalid_string,message:a.message}),n.dirty()):a.kind==="ip"?lM(t.data,a.version)||(i=this._getOrReturnCtx(t,i),pt(i,{validation:"ip",code:Ke.invalid_string,message:a.message}),n.dirty()):a.kind==="jwt"?dM(t.data,a.alg)||(i=this._getOrReturnCtx(t,i),pt(i,{validation:"jwt",code:Ke.invalid_string,message:a.message}),n.dirty()):a.kind==="cidr"?pM(t.data,a.version)||(i=this._getOrReturnCtx(t,i),pt(i,{validation:"cidr",code:Ke.invalid_string,message:a.message}),n.dirty()):a.kind==="base64"?sM.test(t.data)||(i=this._getOrReturnCtx(t,i),pt(i,{validation:"base64",code:Ke.invalid_string,message:a.message}),n.dirty()):a.kind==="base64url"?uM.test(t.data)||(i=this._getOrReturnCtx(t,i),pt(i,{validation:"base64url",code:Ke.invalid_string,message:a.message}),n.dirty()):bn.assertNever(a);return{status:n.value,value:t.data}}_regex(t,r,n){return this.refinement(i=>t.test(i),{validation:r,code:Ke.invalid_string,...Gt.errToObj(n)})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Gt.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Gt.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Gt.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Gt.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Gt.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Gt.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Gt.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Gt.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Gt.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Gt.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Gt.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Gt.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Gt.errToObj(t)})}datetime(t){var r,n;return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(r=t==null?void 0:t.offset)!==null&&r!==void 0?r:!1,local:(n=t==null?void 0:t.local)!==null&&n!==void 0?n:!1,...Gt.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Gt.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Gt.errToObj(t)})}regex(t,r){return this._addCheck({kind:"regex",regex:t,...Gt.errToObj(r)})}includes(t,r){return this._addCheck({kind:"includes",value:t,position:r==null?void 0:r.position,...Gt.errToObj(r==null?void 0:r.message)})}startsWith(t,r){return this._addCheck({kind:"startsWith",value:t,...Gt.errToObj(r)})}endsWith(t,r){return this._addCheck({kind:"endsWith",value:t,...Gt.errToObj(r)})}min(t,r){return this._addCheck({kind:"min",value:t,...Gt.errToObj(r)})}max(t,r){return this._addCheck({kind:"max",value:t,...Gt.errToObj(r)})}length(t,r){return this._addCheck({kind:"length",value:t,...Gt.errToObj(r)})}nonempty(t){return this.min(1,Gt.errToObj(t))}trim(){return new e({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new e({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxLength(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};Vm.create=e=>{var t;return new Vm({checks:[],typeName:et.ZodString,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Br(e)})};function hM(e,t){let r=(e.toString().split(".")[1]||"").length,n=(t.toString().split(".")[1]||"").length,i=r>n?r:n,a=parseInt(e.toFixed(i).replace(".","")),s=parseInt(t.toFixed(i).replace(".",""));return a%s/Math.pow(10,i)}var Eg=class e extends jr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==Nt.number){let a=this._getOrReturnCtx(t);return pt(a,{code:Ke.invalid_type,expected:Nt.number,received:a.parsedType}),Ar}let n,i=new oc;for(let a of this._def.checks)a.kind==="int"?bn.isInteger(t.data)||(n=this._getOrReturnCtx(t,n),pt(n,{code:Ke.invalid_type,expected:"integer",received:"float",message:a.message}),i.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),pt(n,{code:Ke.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),pt(n,{code:Ke.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),i.dirty()):a.kind==="multipleOf"?hM(t.data,a.value)!==0&&(n=this._getOrReturnCtx(t,n),pt(n,{code:Ke.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(n=this._getOrReturnCtx(t,n),pt(n,{code:Ke.not_finite,message:a.message}),i.dirty()):bn.assertNever(a);return{status:i.value,value:t.data}}gte(t,r){return this.setLimit("min",t,!0,Gt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Gt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Gt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Gt.toString(r))}setLimit(t,r,n,i){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Gt.toString(i)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Gt.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Gt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Gt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Gt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Gt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Gt.toString(r)})}finite(t){return this._addCheck({kind:"finite",message:Gt.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Gt.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Gt.toString(t)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&bn.isInteger(t.value))}get isFinite(){let t=null,r=null;for(let n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(t===null||n.value<t)&&(t=n.value)}return Number.isFinite(r)&&Number.isFinite(t)}};Eg.create=e=>new Eg({checks:[],typeName:et.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...Br(e)});var wg=class e extends jr{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==Nt.bigint)return this._getInvalidInput(t);let n,i=new oc;for(let a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(n=this._getOrReturnCtx(t,n),pt(n,{code:Ke.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(n=this._getOrReturnCtx(t,n),pt(n,{code:Ke.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),i.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(n=this._getOrReturnCtx(t,n),pt(n,{code:Ke.not_multiple_of,multipleOf:a.value,message:a.message}),i.dirty()):bn.assertNever(a);return{status:i.value,value:t.data}}_getInvalidInput(t){let r=this._getOrReturnCtx(t);return pt(r,{code:Ke.invalid_type,expected:Nt.bigint,received:r.parsedType}),Ar}gte(t,r){return this.setLimit("min",t,!0,Gt.toString(r))}gt(t,r){return this.setLimit("min",t,!1,Gt.toString(r))}lte(t,r){return this.setLimit("max",t,!0,Gt.toString(r))}lt(t,r){return this.setLimit("max",t,!1,Gt.toString(r))}setLimit(t,r,n,i){return new e({...this._def,checks:[...this._def.checks,{kind:t,value:r,inclusive:n,message:Gt.toString(i)}]})}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Gt.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Gt.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Gt.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Gt.toString(t)})}multipleOf(t,r){return this._addCheck({kind:"multipleOf",value:t,message:Gt.toString(r)})}get minValue(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t}get maxValue(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t}};wg.create=e=>{var t;return new wg({checks:[],typeName:et.ZodBigInt,coerce:(t=e==null?void 0:e.coerce)!==null&&t!==void 0?t:!1,...Br(e)})};var bg=class extends jr{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==Nt.boolean){let n=this._getOrReturnCtx(t);return pt(n,{code:Ke.invalid_type,expected:Nt.boolean,received:n.parsedType}),Ar}return $c(t.data)}};bg.create=e=>new bg({typeName:et.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...Br(e)});var Sg=class e extends jr{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==Nt.date){let a=this._getOrReturnCtx(t);return pt(a,{code:Ke.invalid_type,expected:Nt.date,received:a.parsedType}),Ar}if(isNaN(t.data.getTime())){let a=this._getOrReturnCtx(t);return pt(a,{code:Ke.invalid_date}),Ar}let n=new oc,i;for(let a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(i=this._getOrReturnCtx(t,i),pt(i,{code:Ke.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),n.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(i=this._getOrReturnCtx(t,i),pt(i,{code:Ke.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),n.dirty()):bn.assertNever(a);return{status:n.value,value:new Date(t.data.getTime())}}_addCheck(t){return new e({...this._def,checks:[...this._def.checks,t]})}min(t,r){return this._addCheck({kind:"min",value:t.getTime(),message:Gt.toString(r)})}max(t,r){return this._addCheck({kind:"max",value:t.getTime(),message:Gt.toString(r)})}get minDate(){let t=null;for(let r of this._def.checks)r.kind==="min"&&(t===null||r.value>t)&&(t=r.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(let r of this._def.checks)r.kind==="max"&&(t===null||r.value<t)&&(t=r.value);return t!=null?new Date(t):null}};Sg.create=e=>new Sg({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:et.ZodDate,...Br(e)});var Sy=class extends jr{_parse(t){if(this._getType(t)!==Nt.symbol){let n=this._getOrReturnCtx(t);return pt(n,{code:Ke.invalid_type,expected:Nt.symbol,received:n.parsedType}),Ar}return $c(t.data)}};Sy.create=e=>new Sy({typeName:et.ZodSymbol,...Br(e)});var Dg=class extends jr{_parse(t){if(this._getType(t)!==Nt.undefined){let n=this._getOrReturnCtx(t);return pt(n,{code:Ke.invalid_type,expected:Nt.undefined,received:n.parsedType}),Ar}return $c(t.data)}};Dg.create=e=>new Dg({typeName:et.ZodUndefined,...Br(e)});var Tg=class extends jr{_parse(t){if(this._getType(t)!==Nt.null){let n=this._getOrReturnCtx(t);return pt(n,{code:Ke.invalid_type,expected:Nt.null,received:n.parsedType}),Ar}return $c(t.data)}};Tg.create=e=>new Tg({typeName:et.ZodNull,...Br(e)});var Wm=class extends jr{constructor(){super(...arguments),this._any=!0}_parse(t){return $c(t.data)}};Wm.create=e=>new Wm({typeName:et.ZodAny,...Br(e)});var im=class extends jr{constructor(){super(...arguments),this._unknown=!0}_parse(t){return $c(t.data)}};im.create=e=>new im({typeName:et.ZodUnknown,...Br(e)});var oh=class extends jr{_parse(t){let r=this._getOrReturnCtx(t);return pt(r,{code:Ke.invalid_type,expected:Nt.never,received:r.parsedType}),Ar}};oh.create=e=>new oh({typeName:et.ZodNever,...Br(e)});var Dy=class extends jr{_parse(t){if(this._getType(t)!==Nt.undefined){let n=this._getOrReturnCtx(t);return pt(n,{code:Ke.invalid_type,expected:Nt.void,received:n.parsedType}),Ar}return $c(t.data)}};Dy.create=e=>new Dy({typeName:et.ZodVoid,...Br(e)});var am=class e extends jr{_parse(t){let{ctx:r,status:n}=this._processInputParams(t),i=this._def;if(r.parsedType!==Nt.array)return pt(r,{code:Ke.invalid_type,expected:Nt.array,received:r.parsedType}),Ar;if(i.exactLength!==null){let s=r.data.length>i.exactLength.value,f=r.data.length<i.exactLength.value;(s||f)&&(pt(r,{code:s?Ke.too_big:Ke.too_small,minimum:f?i.exactLength.value:void 0,maximum:s?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(pt(r,{code:Ke.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(pt(r,{code:Ke.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((s,f)=>i.type._parseAsync(new sp(r,s,r.path,f)))).then(s=>oc.mergeArray(n,s));let a=[...r.data].map((s,f)=>i.type._parseSync(new sp(r,s,r.path,f)));return oc.mergeArray(n,a)}get element(){return this._def.type}min(t,r){return new e({...this._def,minLength:{value:t,message:Gt.toString(r)}})}max(t,r){return new e({...this._def,maxLength:{value:t,message:Gt.toString(r)}})}length(t,r){return new e({...this._def,exactLength:{value:t,message:Gt.toString(r)}})}nonempty(t){return this.min(1,t)}};am.create=(e,t)=>new am({type:e,minLength:null,maxLength:null,exactLength:null,typeName:et.ZodArray,...Br(t)});function Ey(e){if(e instanceof zf){let t={};for(let r in e.shape){let n=e.shape[r];t[r]=Yf.create(Ey(n))}return new zf({...e._def,shape:()=>t})}else return e instanceof am?new am({...e._def,type:Ey(e.element)}):e instanceof Yf?Yf.create(Ey(e.unwrap())):e instanceof cv?cv.create(Ey(e.unwrap())):e instanceof uv?uv.create(e.items.map(t=>Ey(t))):e}var zf=class e extends jr{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;let t=this._def.shape(),r=bn.objectKeys(t);return this._cached={shape:t,keys:r}}_parse(t){if(this._getType(t)!==Nt.object){let y=this._getOrReturnCtx(t);return pt(y,{code:Ke.invalid_type,expected:Nt.object,received:y.parsedType}),Ar}let{status:n,ctx:i}=this._processInputParams(t),{shape:a,keys:s}=this._getCached(),f=[];if(!(this._def.catchall instanceof oh&&this._def.unknownKeys==="strip"))for(let y in i.data)s.includes(y)||f.push(y);let h=[];for(let y of s){let D=a[y],x=i.data[y];h.push({key:{status:"valid",value:y},value:D._parse(new sp(i,x,i.path,y)),alwaysSet:y in i.data})}if(this._def.catchall instanceof oh){let y=this._def.unknownKeys;if(y==="passthrough")for(let D of f)h.push({key:{status:"valid",value:D},value:{status:"valid",value:i.data[D]}});else if(y==="strict")f.length>0&&(pt(i,{code:Ke.unrecognized_keys,keys:f}),n.dirty());else if(y!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{let y=this._def.catchall;for(let D of f){let x=i.data[D];h.push({key:{status:"valid",value:D},value:y._parse(new sp(i,x,i.path,D)),alwaysSet:D in i.data})}}return i.common.async?Promise.resolve().then(async()=>{let y=[];for(let D of h){let x=await D.key,L=await D.value;y.push({key:x,value:L,alwaysSet:D.alwaysSet})}return y}).then(y=>oc.mergeObjectSync(n,y)):oc.mergeObjectSync(n,h)}get shape(){return this._def.shape()}strict(t){return Gt.errToObj,new e({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(r,n)=>{var i,a,s,f;let h=(s=(a=(i=this._def).errorMap)===null||a===void 0?void 0:a.call(i,r,n).message)!==null&&s!==void 0?s:n.defaultError;return r.code==="unrecognized_keys"?{message:(f=Gt.errToObj(t).message)!==null&&f!==void 0?f:h}:{message:h}}}:{}})}strip(){return new e({...this._def,unknownKeys:"strip"})}passthrough(){return new e({...this._def,unknownKeys:"passthrough"})}extend(t){return new e({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new e({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:et.ZodObject})}setKey(t,r){return this.augment({[t]:r})}catchall(t){return new e({...this._def,catchall:t})}pick(t){let r={};return bn.objectKeys(t).forEach(n=>{t[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new e({...this._def,shape:()=>r})}omit(t){let r={};return bn.objectKeys(this.shape).forEach(n=>{t[n]||(r[n]=this.shape[n])}),new e({...this._def,shape:()=>r})}deepPartial(){return Ey(this)}partial(t){let r={};return bn.objectKeys(this.shape).forEach(n=>{let i=this.shape[n];t&&!t[n]?r[n]=i:r[n]=i.optional()}),new e({...this._def,shape:()=>r})}required(t){let r={};return bn.objectKeys(this.shape).forEach(n=>{if(t&&!t[n])r[n]=this.shape[n];else{let a=this.shape[n];for(;a instanceof Yf;)a=a._def.innerType;r[n]=a}}),new e({...this._def,shape:()=>r})}keyof(){return WA(bn.objectKeys(this.shape))}};zf.create=(e,t)=>new zf({shape:()=>e,unknownKeys:"strip",catchall:oh.create(),typeName:et.ZodObject,...Br(t)});zf.strictCreate=(e,t)=>new zf({shape:()=>e,unknownKeys:"strict",catchall:oh.create(),typeName:et.ZodObject,...Br(t)});zf.lazycreate=(e,t)=>new zf({shape:e,unknownKeys:"strip",catchall:oh.create(),typeName:et.ZodObject,...Br(t)});var Ag=class extends jr{_parse(t){let{ctx:r}=this._processInputParams(t),n=this._def.options;function i(a){for(let f of a)if(f.result.status==="valid")return f.result;for(let f of a)if(f.result.status==="dirty")return r.common.issues.push(...f.ctx.common.issues),f.result;let s=a.map(f=>new ad(f.ctx.common.issues));return pt(r,{code:Ke.invalid_union,unionErrors:s}),Ar}if(r.common.async)return Promise.all(n.map(async a=>{let s={...r,common:{...r.common,issues:[]},parent:null};return{result:await a._parseAsync({data:r.data,path:r.path,parent:s}),ctx:s}})).then(i);{let a,s=[];for(let h of n){let y={...r,common:{...r.common,issues:[]},parent:null},D=h._parseSync({data:r.data,path:r.path,parent:y});if(D.status==="valid")return D;D.status==="dirty"&&!a&&(a={result:D,ctx:y}),y.common.issues.length&&s.push(y.common.issues)}if(a)return r.common.issues.push(...a.ctx.common.issues),a.result;let f=s.map(h=>new ad(h));return pt(r,{code:Ke.invalid_union,unionErrors:f}),Ar}}get options(){return this._def.options}};Ag.create=(e,t)=>new Ag({options:e,typeName:et.ZodUnion,...Br(t)});var rm=e=>e instanceof Cg?rm(e.schema):e instanceof od?rm(e.innerType()):e instanceof Ig?[e.value]:e instanceof xg?e.options:e instanceof Pg?bn.objectValues(e.enum):e instanceof Rg?rm(e._def.innerType):e instanceof Dg?[void 0]:e instanceof Tg?[null]:e instanceof Yf?[void 0,...rm(e.unwrap())]:e instanceof cv?[null,...rm(e.unwrap())]:e instanceof S_||e instanceof Og?rm(e.unwrap()):e instanceof kg?rm(e._def.innerType):[],V0=class e extends jr{_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==Nt.object)return pt(r,{code:Ke.invalid_type,expected:Nt.object,received:r.parsedType}),Ar;let n=this.discriminator,i=r.data[n],a=this.optionsMap.get(i);return a?r.common.async?a._parseAsync({data:r.data,path:r.path,parent:r}):a._parseSync({data:r.data,path:r.path,parent:r}):(pt(r,{code:Ke.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Ar)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,r,n){let i=new Map;for(let a of r){let s=rm(a.shape[t]);if(!s.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(let f of s){if(i.has(f))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(f)}`);i.set(f,a)}}return new e({typeName:et.ZodDiscriminatedUnion,discriminator:t,options:r,optionsMap:i,...Br(n)})}};function tb(e,t){let r=nm(e),n=nm(t);if(e===t)return{valid:!0,data:e};if(r===Nt.object&&n===Nt.object){let i=bn.objectKeys(t),a=bn.objectKeys(e).filter(f=>i.indexOf(f)!==-1),s={...e,...t};for(let f of a){let h=tb(e[f],t[f]);if(!h.valid)return{valid:!1};s[f]=h.data}return{valid:!0,data:s}}else if(r===Nt.array&&n===Nt.array){if(e.length!==t.length)return{valid:!1};let i=[];for(let a=0;a<e.length;a++){let s=e[a],f=t[a],h=tb(s,f);if(!h.valid)return{valid:!1};i.push(h.data)}return{valid:!0,data:i}}else return r===Nt.date&&n===Nt.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}var Ng=class extends jr{_parse(t){let{status:r,ctx:n}=this._processInputParams(t),i=(a,s)=>{if(Qw(a)||Qw(s))return Ar;let f=tb(a.value,s.value);return f.valid?((eb(a)||eb(s))&&r.dirty(),{status:r.value,value:f.data}):(pt(n,{code:Ke.invalid_intersection_types}),Ar)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([a,s])=>i(a,s)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}};Ng.create=(e,t,r)=>new Ng({left:e,right:t,typeName:et.ZodIntersection,...Br(r)});var uv=class e extends jr{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Nt.array)return pt(n,{code:Ke.invalid_type,expected:Nt.array,received:n.parsedType}),Ar;if(n.data.length<this._def.items.length)return pt(n,{code:Ke.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Ar;!this._def.rest&&n.data.length>this._def.items.length&&(pt(n,{code:Ke.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());let a=[...n.data].map((s,f)=>{let h=this._def.items[f]||this._def.rest;return h?h._parse(new sp(n,s,n.path,f)):null}).filter(s=>!!s);return n.common.async?Promise.all(a).then(s=>oc.mergeArray(r,s)):oc.mergeArray(r,a)}get items(){return this._def.items}rest(t){return new e({...this._def,rest:t})}};uv.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new uv({items:e,typeName:et.ZodTuple,rest:null,...Br(t)})};var W0=class e extends jr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Nt.object)return pt(n,{code:Ke.invalid_type,expected:Nt.object,received:n.parsedType}),Ar;let i=[],a=this._def.keyType,s=this._def.valueType;for(let f in n.data)i.push({key:a._parse(new sp(n,f,n.path,f)),value:s._parse(new sp(n,n.data[f],n.path,f)),alwaysSet:f in n.data});return n.common.async?oc.mergeObjectAsync(r,i):oc.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(t,r,n){return r instanceof jr?new e({keyType:t,valueType:r,typeName:et.ZodRecord,...Br(n)}):new e({keyType:Vm.create(),valueType:t,typeName:et.ZodRecord,...Br(r)})}},Ty=class extends jr{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Nt.map)return pt(n,{code:Ke.invalid_type,expected:Nt.map,received:n.parsedType}),Ar;let i=this._def.keyType,a=this._def.valueType,s=[...n.data.entries()].map(([f,h],y)=>({key:i._parse(new sp(n,f,n.path,[y,"key"])),value:a._parse(new sp(n,h,n.path,[y,"value"]))}));if(n.common.async){let f=new Map;return Promise.resolve().then(async()=>{for(let h of s){let y=await h.key,D=await h.value;if(y.status==="aborted"||D.status==="aborted")return Ar;(y.status==="dirty"||D.status==="dirty")&&r.dirty(),f.set(y.value,D.value)}return{status:r.value,value:f}})}else{let f=new Map;for(let h of s){let y=h.key,D=h.value;if(y.status==="aborted"||D.status==="aborted")return Ar;(y.status==="dirty"||D.status==="dirty")&&r.dirty(),f.set(y.value,D.value)}return{status:r.value,value:f}}}};Ty.create=(e,t,r)=>new Ty({valueType:t,keyType:e,typeName:et.ZodMap,...Br(r)});var Ay=class e extends jr{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.parsedType!==Nt.set)return pt(n,{code:Ke.invalid_type,expected:Nt.set,received:n.parsedType}),Ar;let i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(pt(n,{code:Ke.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(pt(n,{code:Ke.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());let a=this._def.valueType;function s(h){let y=new Set;for(let D of h){if(D.status==="aborted")return Ar;D.status==="dirty"&&r.dirty(),y.add(D.value)}return{status:r.value,value:y}}let f=[...n.data.values()].map((h,y)=>a._parse(new sp(n,h,n.path,y)));return n.common.async?Promise.all(f).then(h=>s(h)):s(f)}min(t,r){return new e({...this._def,minSize:{value:t,message:Gt.toString(r)}})}max(t,r){return new e({...this._def,maxSize:{value:t,message:Gt.toString(r)}})}size(t,r){return this.min(t,r).max(t,r)}nonempty(t){return this.min(1,t)}};Ay.create=(e,t)=>new Ay({valueType:e,minSize:null,maxSize:null,typeName:et.ZodSet,...Br(t)});var H0=class e extends jr{constructor(){super(...arguments),this.validate=this.implement}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==Nt.function)return pt(r,{code:Ke.invalid_type,expected:Nt.function,received:r.parsedType}),Ar;function n(f,h){return z0({data:f,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Y0(),by].filter(y=>!!y),issueData:{code:Ke.invalid_arguments,argumentsError:h}})}function i(f,h){return z0({data:f,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,Y0(),by].filter(y=>!!y),issueData:{code:Ke.invalid_return_type,returnTypeError:h}})}let a={errorMap:r.common.contextualErrorMap},s=r.data;if(this._def.returns instanceof Hm){let f=this;return $c(async function(...h){let y=new ad([]),D=await f._def.args.parseAsync(h,a).catch(Y=>{throw y.addIssue(n(h,Y)),y}),x=await Reflect.apply(s,this,D);return await f._def.returns._def.type.parseAsync(x,a).catch(Y=>{throw y.addIssue(i(x,Y)),y})})}else{let f=this;return $c(function(...h){let y=f._def.args.safeParse(h,a);if(!y.success)throw new ad([n(h,y.error)]);let D=Reflect.apply(s,this,y.data),x=f._def.returns.safeParse(D,a);if(!x.success)throw new ad([i(D,x.error)]);return x.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...t){return new e({...this._def,args:uv.create(t).rest(im.create())})}returns(t){return new e({...this._def,returns:t})}implement(t){return this.parse(t)}strictImplement(t){return this.parse(t)}static create(t,r,n){return new e({args:t||uv.create([]).rest(im.create()),returns:r||im.create(),typeName:et.ZodFunction,...Br(n)})}},Cg=class extends jr{get schema(){return this._def.getter()}_parse(t){let{ctx:r}=this._processInputParams(t);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}};Cg.create=(e,t)=>new Cg({getter:e,typeName:et.ZodLazy,...Br(t)});var Ig=class extends jr{_parse(t){if(t.data!==this._def.value){let r=this._getOrReturnCtx(t);return pt(r,{received:r.data,code:Ke.invalid_literal,expected:this._def.value}),Ar}return{status:"valid",value:t.data}}get value(){return this._def.value}};Ig.create=(e,t)=>new Ig({value:e,typeName:et.ZodLiteral,...Br(t)});function WA(e,t){return new xg({values:e,typeName:et.ZodEnum,...Br(t)})}var xg=class e extends jr{constructor(){super(...arguments),E_.set(this,void 0)}_parse(t){if(typeof t.data!="string"){let r=this._getOrReturnCtx(t),n=this._def.values;return pt(r,{expected:bn.joinValues(n),received:r.parsedType,code:Ke.invalid_type}),Ar}if($0(this,E_,"f")||YA(this,E_,new Set(this._def.values),"f"),!$0(this,E_,"f").has(t.data)){let r=this._getOrReturnCtx(t),n=this._def.values;return pt(r,{received:r.data,code:Ke.invalid_enum_value,options:n}),Ar}return $c(t.data)}get options(){return this._def.values}get enum(){let t={};for(let r of this._def.values)t[r]=r;return t}get Values(){let t={};for(let r of this._def.values)t[r]=r;return t}get Enum(){let t={};for(let r of this._def.values)t[r]=r;return t}extract(t,r=this._def){return e.create(t,{...this._def,...r})}exclude(t,r=this._def){return e.create(this.options.filter(n=>!t.includes(n)),{...this._def,...r})}};E_=new WeakMap;xg.create=WA;var Pg=class extends jr{constructor(){super(...arguments),w_.set(this,void 0)}_parse(t){let r=bn.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(t);if(n.parsedType!==Nt.string&&n.parsedType!==Nt.number){let i=bn.objectValues(r);return pt(n,{expected:bn.joinValues(i),received:n.parsedType,code:Ke.invalid_type}),Ar}if($0(this,w_,"f")||YA(this,w_,new Set(bn.getValidEnumValues(this._def.values)),"f"),!$0(this,w_,"f").has(t.data)){let i=bn.objectValues(r);return pt(n,{received:n.data,code:Ke.invalid_enum_value,options:i}),Ar}return $c(t.data)}get enum(){return this._def.values}};w_=new WeakMap;Pg.create=(e,t)=>new Pg({values:e,typeName:et.ZodNativeEnum,...Br(t)});var Hm=class extends jr{unwrap(){return this._def.type}_parse(t){let{ctx:r}=this._processInputParams(t);if(r.parsedType!==Nt.promise&&r.common.async===!1)return pt(r,{code:Ke.invalid_type,expected:Nt.promise,received:r.parsedType}),Ar;let n=r.parsedType===Nt.promise?r.data:Promise.resolve(r.data);return $c(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}};Hm.create=(e,t)=>new Hm({type:e,typeName:et.ZodPromise,...Br(t)});var od=class extends jr{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===et.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){let{status:r,ctx:n}=this._processInputParams(t),i=this._def.effect||null,a={addIssue:s=>{pt(n,s),s.fatal?r.abort():r.dirty()},get path(){return n.path}};if(a.addIssue=a.addIssue.bind(a),i.type==="preprocess"){let s=i.transform(n.data,a);if(n.common.async)return Promise.resolve(s).then(async f=>{if(r.value==="aborted")return Ar;let h=await this._def.schema._parseAsync({data:f,path:n.path,parent:n});return h.status==="aborted"?Ar:h.status==="dirty"||r.value==="dirty"?wy(h.value):h});{if(r.value==="aborted")return Ar;let f=this._def.schema._parseSync({data:s,path:n.path,parent:n});return f.status==="aborted"?Ar:f.status==="dirty"||r.value==="dirty"?wy(f.value):f}}if(i.type==="refinement"){let s=f=>{let h=i.refinement(f,a);if(n.common.async)return Promise.resolve(h);if(h instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return f};if(n.common.async===!1){let f=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return f.status==="aborted"?Ar:(f.status==="dirty"&&r.dirty(),s(f.value),{status:r.value,value:f.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(f=>f.status==="aborted"?Ar:(f.status==="dirty"&&r.dirty(),s(f.value).then(()=>({status:r.value,value:f.value}))))}if(i.type==="transform")if(n.common.async===!1){let s=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!_g(s))return s;let f=i.transform(s.value,a);if(f instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:f}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(s=>_g(s)?Promise.resolve(i.transform(s.value,a)).then(f=>({status:r.value,value:f})):s);bn.assertNever(i)}};od.create=(e,t,r)=>new od({schema:e,typeName:et.ZodEffects,effect:t,...Br(r)});od.createWithPreprocess=(e,t,r)=>new od({schema:t,effect:{type:"preprocess",transform:e},typeName:et.ZodEffects,...Br(r)});var Yf=class extends jr{_parse(t){return this._getType(t)===Nt.undefined?$c(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};Yf.create=(e,t)=>new Yf({innerType:e,typeName:et.ZodOptional,...Br(t)});var cv=class extends jr{_parse(t){return this._getType(t)===Nt.null?$c(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}};cv.create=(e,t)=>new cv({innerType:e,typeName:et.ZodNullable,...Br(t)});var Rg=class extends jr{_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return r.parsedType===Nt.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}};Rg.create=(e,t)=>new Rg({innerType:e,typeName:et.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...Br(t)});var kg=class extends jr{_parse(t){let{ctx:r}=this._processInputParams(t),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return b_(i)?i.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new ad(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new ad(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}};kg.create=(e,t)=>new kg({innerType:e,typeName:et.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...Br(t)});var Ny=class extends jr{_parse(t){if(this._getType(t)!==Nt.nan){let n=this._getOrReturnCtx(t);return pt(n,{code:Ke.invalid_type,expected:Nt.nan,received:n.parsedType}),Ar}return{status:"valid",value:t.data}}};Ny.create=e=>new Ny({typeName:et.ZodNaN,...Br(e)});var vM=Symbol("zod_brand"),S_=class extends jr{_parse(t){let{ctx:r}=this._processInputParams(t),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}},D_=class e extends jr{_parse(t){let{status:r,ctx:n}=this._processInputParams(t);if(n.common.async)return(async()=>{let a=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Ar:a.status==="dirty"?(r.dirty(),wy(a.value)):this._def.out._parseAsync({data:a.value,path:n.path,parent:n})})();{let i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Ar:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(t,r){return new e({in:t,out:r,typeName:et.ZodPipeline})}},Og=class extends jr{_parse(t){let r=this._def.innerType._parse(t),n=i=>(_g(i)&&(i.value=Object.freeze(i.value)),i);return b_(r)?r.then(i=>n(i)):n(r)}unwrap(){return this._def.innerType}};Og.create=(e,t)=>new Og({innerType:e,typeName:et.ZodReadonly,...Br(t)});function HA(e,t={},r){return e?Wm.create().superRefine((n,i)=>{var a,s;if(!e(n)){let f=typeof t=="function"?t(n):typeof t=="string"?{message:t}:t,h=(s=(a=f.fatal)!==null&&a!==void 0?a:r)!==null&&s!==void 0?s:!0,y=typeof f=="string"?{message:f}:f;i.addIssue({code:"custom",...y,fatal:h})}}):Wm.create()}var mM={object:zf.lazycreate},et;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(et||(et={}));var gM=(e,t={message:`Input not instance of ${e.name}`})=>HA(r=>r instanceof e,t),KA=Vm.create,JA=Eg.create,yM=Ny.create,_M=wg.create,ZA=bg.create,EM=Sg.create,wM=Sy.create,bM=Dg.create,SM=Tg.create,DM=Wm.create,TM=im.create,AM=oh.create,NM=Dy.create,CM=am.create,IM=zf.create,xM=zf.strictCreate,PM=Ag.create,RM=V0.create,kM=Ng.create,OM=uv.create,MM=W0.create,LM=Ty.create,FM=Ay.create,UM=H0.create,BM=Cg.create,jM=Ig.create,GM=xg.create,qM=Pg.create,YM=Hm.create,GA=od.create,zM=Yf.create,$M=cv.create,VM=od.createWithPreprocess,WM=D_.create,HM=()=>KA().optional(),KM=()=>JA().optional(),JM=()=>ZA().optional(),ZM={string:e=>Vm.create({...e,coerce:!0}),number:e=>Eg.create({...e,coerce:!0}),boolean:e=>bg.create({...e,coerce:!0}),bigint:e=>wg.create({...e,coerce:!0}),date:e=>Sg.create({...e,coerce:!0})},XM=Ar,M=Object.freeze({__proto__:null,defaultErrorMap:by,setErrorMap:VO,getErrorMap:Y0,makeIssue:z0,EMPTY_PATH:WO,addIssueToContext:pt,ParseStatus:oc,INVALID:Ar,DIRTY:wy,OK:$c,isAborted:Qw,isDirty:eb,isValid:_g,isAsync:b_,get util(){return bn},get objectUtil(){return Xw},ZodParsedType:Nt,getParsedType:nm,ZodType:jr,datetimeRegex:VA,ZodString:Vm,ZodNumber:Eg,ZodBigInt:wg,ZodBoolean:bg,ZodDate:Sg,ZodSymbol:Sy,ZodUndefined:Dg,ZodNull:Tg,ZodAny:Wm,ZodUnknown:im,ZodNever:oh,ZodVoid:Dy,ZodArray:am,ZodObject:zf,ZodUnion:Ag,ZodDiscriminatedUnion:V0,ZodIntersection:Ng,ZodTuple:uv,ZodRecord:W0,ZodMap:Ty,ZodSet:Ay,ZodFunction:H0,ZodLazy:Cg,ZodLiteral:Ig,ZodEnum:xg,ZodNativeEnum:Pg,ZodPromise:Hm,ZodEffects:od,ZodTransformer:od,ZodOptional:Yf,ZodNullable:cv,ZodDefault:Rg,ZodCatch:kg,ZodNaN:Ny,BRAND:vM,ZodBranded:S_,ZodPipeline:D_,ZodReadonly:Og,custom:HA,Schema:jr,ZodSchema:jr,late:mM,get ZodFirstPartyTypeKind(){return et},coerce:ZM,any:DM,array:CM,bigint:_M,boolean:ZA,date:EM,discriminatedUnion:RM,effect:GA,enum:GM,function:UM,instanceof:gM,intersection:kM,lazy:BM,literal:jM,map:LM,nan:yM,nativeEnum:qM,never:AM,null:SM,nullable:$M,number:JA,object:IM,oboolean:JM,onumber:KM,optional:zM,ostring:HM,pipeline:WM,preprocess:VM,promise:YM,record:MM,set:FM,strictObject:xM,string:KA,symbol:wM,transformer:GA,tuple:OM,undefined:bM,union:PM,unknown:TM,void:NM,NEVER:XM,ZodIssueCode:Ke,quotelessJson:$O,ZodError:ad});var QM=M.object({type:M.literal("error"),error:M.object({type:M.string(),message:M.string()})}),XA=G0({errorSchema:QM,errorToMessage:e=>e.error.message});function eL({prompt:e,cacheControl:t}){var r,n,i,a;let s=new Set,f=tL(e),h,y=[];function D(x){var L;if(t===!1)return;let Y=x==null?void 0:x.anthropic;return(L=Y==null?void 0:Y.cacheControl)!=null?L:Y==null?void 0:Y.cache_control}for(let x=0;x<f.length;x++){let L=f[x],Y=x===f.length-1,ee=L.type;switch(ee){case"system":{if(h!=null)throw new Zn({functionality:"Multiple system messages that are separated by user/assistant messages"});h=L.messages.map(({content:W,providerMetadata:H})=>({type:"text",text:W,cache_control:D(H)}));break}case"user":{let W=[];for(let H of L.messages){let{role:X,content:ue}=H;switch(X){case"user":{for(let ce=0;ce<ue.length;ce++){let he=ue[ce],Ue=ce===ue.length-1,Le=(r=D(he.providerMetadata))!=null?r:Ue?D(H.providerMetadata):void 0;switch(he.type){case"text":{W.push({type:"text",text:he.text,cache_control:Le});break}case"image":{if(he.image instanceof URL)throw new Zn({functionality:"Image URLs in user messages"});W.push({type:"image",source:{type:"base64",media_type:(n=he.mimeType)!=null?n:"image/jpeg",data:yg(he.image)},cache_control:Le});break}case"file":{if(he.data instanceof URL)throw new Zn({functionality:"Image URLs in user messages"});if(he.mimeType!=="application/pdf")throw new Zn({functionality:"Non-PDF files in user messages"});s.add("pdfs-2024-09-25"),W.push({type:"document",source:{type:"base64",media_type:"application/pdf",data:he.data},cache_control:Le});break}}}break}case"tool":{for(let ce=0;ce<ue.length;ce++){let he=ue[ce],Ue=ce===ue.length-1,Le=(i=D(he.providerMetadata))!=null?i:Ue?D(H.providerMetadata):void 0,ve=he.content!=null?he.content.map(Pe=>{var Te;switch(Pe.type){case"text":return{type:"text",text:Pe.text,cache_control:void 0};case"image":return{type:"image",source:{type:"base64",media_type:(Te=Pe.mimeType)!=null?Te:"image/jpeg",data:Pe.data},cache_control:void 0}}}):JSON.stringify(he.result);W.push({type:"tool_result",tool_use_id:he.toolCallId,content:ve,is_error:he.isError,cache_control:Le})}break}default:{let ce=X;throw new Error(`Unsupported role: ${ce}`)}}}y.push({role:"user",content:W});break}case"assistant":{let W=[];for(let H=0;H<L.messages.length;H++){let X=L.messages[H],ue=H===L.messages.length-1,{content:ce}=X;for(let he=0;he<ce.length;he++){let Ue=ce[he],Le=he===ce.length-1,ve=(a=D(Ue.providerMetadata))!=null?a:Le?D(X.providerMetadata):void 0;switch(Ue.type){case"text":{W.push({type:"text",text:Y&&ue&&Le?Ue.text.trim():Ue.text,cache_control:ve});break}case"tool-call":{W.push({type:"tool_use",id:Ue.toolCallId,name:Ue.toolName,input:Ue.args,cache_control:ve});break}}}}y.push({role:"assistant",content:W});break}default:{let W=ee;throw new Error(`Unsupported type: ${W}`)}}}return{prompt:{system:h,messages:y},betas:s}}function tL(e){let t=[],r;for(let n of e){let{role:i}=n;switch(i){case"system":{(r==null?void 0:r.type)!=="system"&&(r={type:"system",messages:[]},t.push(r)),r.messages.push(n);break}case"assistant":{(r==null?void 0:r.type)!=="assistant"&&(r={type:"assistant",messages:[]},t.push(r)),r.messages.push(n);break}case"user":{(r==null?void 0:r.type)!=="user"&&(r={type:"user",messages:[]},t.push(r)),r.messages.push(n);break}case"tool":{(r==null?void 0:r.type)!=="user"&&(r={type:"user",messages:[]},t.push(r)),r.messages.push(n);break}default:{let a=i;throw new Error(`Unsupported role: ${a}`)}}}return t}function QA(e){switch(e){case"end_turn":case"stop_sequence":return"stop";case"tool_use":return"tool-calls";case"max_tokens":return"length";default:return"unknown"}}function rL(e){var t;let r=(t=e.tools)!=null&&t.length?e.tools:void 0,n=[],i=new Set;if(r==null)return{tools:void 0,tool_choice:void 0,toolWarnings:n,betas:i};let a=[];for(let h of r)switch(h.type){case"function":a.push({name:h.name,description:h.description,input_schema:h.parameters});break;case"provider-defined":switch(i.add("computer-use-2024-10-22"),h.id){case"anthropic.computer_20241022":a.push({name:h.name,type:"computer_20241022",display_width_px:h.args.displayWidthPx,display_height_px:h.args.displayHeightPx,display_number:h.args.displayNumber});break;case"anthropic.text_editor_20241022":a.push({name:h.name,type:"text_editor_20241022"});break;case"anthropic.bash_20241022":a.push({name:h.name,type:"bash_20241022"});break;default:n.push({type:"unsupported-tool",tool:h});break}break;default:n.push({type:"unsupported-tool",tool:h});break}let s=e.toolChoice;if(s==null)return{tools:a,tool_choice:void 0,toolWarnings:n,betas:i};let f=s.type;switch(f){case"auto":return{tools:a,tool_choice:{type:"auto"},toolWarnings:n,betas:i};case"required":return{tools:a,tool_choice:{type:"any"},toolWarnings:n,betas:i};case"none":return{tools:void 0,tool_choice:void 0,toolWarnings:n,betas:i};case"tool":return{tools:a,tool_choice:{type:"tool",name:s.toolName},toolWarnings:n,betas:i};default:{let h=f;throw new Zn({functionality:`Unsupported tool choice type: ${h}`})}}}var nL=class{constructor(e,t,r){this.specificationVersion="v1",this.defaultObjectGenerationMode="tool",this.supportsImageUrls=!1,this.modelId=e,this.settings=t,this.config=r}get provider(){return this.config.provider}async getArgs({mode:e,prompt:t,maxTokens:r,temperature:n,topP:i,topK:a,frequencyPenalty:s,presencePenalty:f,stopSequences:h,responseFormat:y,seed:D}){var x;let L=e.type,Y=[];s!=null&&Y.push({type:"unsupported-setting",setting:"frequencyPenalty"}),f!=null&&Y.push({type:"unsupported-setting",setting:"presencePenalty"}),D!=null&&Y.push({type:"unsupported-setting",setting:"seed"}),y!=null&&y.type!=="text"&&Y.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});let{prompt:ee,betas:W}=eL({prompt:t,cacheControl:(x=this.settings.cacheControl)!=null?x:!1}),H={model:this.modelId,max_tokens:r??4096,temperature:n,top_k:a,top_p:i,stop_sequences:h,system:ee.system,messages:ee.messages};switch(L){case"regular":{let{tools:X,tool_choice:ue,toolWarnings:ce,betas:he}=rL(e);return{args:{...H,tools:X,tool_choice:ue},warnings:[...Y,...ce],betas:new Set([...W,...he])}}case"object-json":throw new Zn({functionality:"json-mode object generation"});case"object-tool":{let{name:X,description:ue,parameters:ce}=e.tool;return{args:{...H,tools:[{name:X,description:ue,input_schema:ce}],tool_choice:{type:"tool",name:X}},warnings:Y,betas:W}}default:{let X=L;throw new Error(`Unsupported type: ${X}`)}}}async getHeaders({betas:e,headers:t}){return this.settings.cacheControl&&e.add("prompt-caching-2024-07-31"),op(await UA(this.config.headers),e.size>0?{"anthropic-beta":Array.from(e).join(",")}:{},t)}buildRequestUrl(e){var t,r,n;return(n=(r=(t=this.config).buildRequestUrl)==null?void 0:r.call(t,this.config.baseURL,e))!=null?n:`${this.config.baseURL}/messages`}transformRequestBody(e){var t,r,n;return(n=(r=(t=this.config).transformRequestBody)==null?void 0:r.call(t,e))!=null?n:e}async doGenerate(e){var t,r,n,i;let{args:a,warnings:s,betas:f}=await this.getArgs(e),{responseHeaders:h,value:y}=await id({url:this.buildRequestUrl(!1),headers:await this.getHeaders({betas:f,headers:e.headers}),body:this.transformRequestBody(a),failedResponseHandler:XA,successfulResponseHandler:sv(iL),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:D,...x}=a,L="";for(let ee of y.content)ee.type==="text"&&(L+=ee.text);let Y;if(y.content.some(ee=>ee.type==="tool_use")){Y=[];for(let ee of y.content)ee.type==="tool_use"&&Y.push({toolCallType:"function",toolCallId:ee.id,toolName:ee.name,args:JSON.stringify(ee.input)})}return{text:L,toolCalls:Y,finishReason:QA(y.stop_reason),usage:{promptTokens:y.usage.input_tokens,completionTokens:y.usage.output_tokens},rawCall:{rawPrompt:D,rawSettings:x},rawResponse:{headers:h},response:{id:(t=y.id)!=null?t:void 0,modelId:(r=y.model)!=null?r:void 0},warnings:s,providerMetadata:this.settings.cacheControl===!0?{anthropic:{cacheCreationInputTokens:(n=y.usage.cache_creation_input_tokens)!=null?n:null,cacheReadInputTokens:(i=y.usage.cache_read_input_tokens)!=null?i:null}}:void 0,request:{body:JSON.stringify(a)}}}async doStream(e){let{args:t,warnings:r,betas:n}=await this.getArgs(e),i={...t,stream:!0},{responseHeaders:a,value:s}=await id({url:this.buildRequestUrl(!0),headers:await this.getHeaders({betas:n,headers:e.headers}),body:this.transformRequestBody(i),failedResponseHandler:XA,successfulResponseHandler:_y(aL),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:f,...h}=t,y="unknown",D={promptTokens:Number.NaN,completionTokens:Number.NaN},x={},L,Y=this;return{stream:s.pipeThrough(new TransformStream({transform(ee,W){var H,X,ue,ce;if(!ee.success){W.enqueue({type:"error",error:ee.error});return}let he=ee.value;switch(he.type){case"ping":return;case"content_block_start":{let Ue=he.content_block.type;switch(Ue){case"text":return;case"tool_use":{x[he.index]={toolCallId:he.content_block.id,toolName:he.content_block.name,jsonText:""};return}default:{let Le=Ue;throw new Error(`Unsupported content block type: ${Le}`)}}}case"content_block_stop":{if(x[he.index]!=null){let Ue=x[he.index];W.enqueue({type:"tool-call",toolCallType:"function",toolCallId:Ue.toolCallId,toolName:Ue.toolName,args:Ue.jsonText}),delete x[he.index]}return}case"content_block_delta":{let Ue=he.delta.type;switch(Ue){case"text_delta":{W.enqueue({type:"text-delta",textDelta:he.delta.text});return}case"input_json_delta":{let Le=x[he.index];W.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:Le.toolCallId,toolName:Le.toolName,argsTextDelta:he.delta.partial_json}),Le.jsonText+=he.delta.partial_json;return}default:{let Le=Ue;throw new Error(`Unsupported delta type: ${Le}`)}}}case"message_start":{D.promptTokens=he.message.usage.input_tokens,D.completionTokens=he.message.usage.output_tokens,Y.settings.cacheControl===!0&&(L={anthropic:{cacheCreationInputTokens:(H=he.message.usage.cache_creation_input_tokens)!=null?H:null,cacheReadInputTokens:(X=he.message.usage.cache_read_input_tokens)!=null?X:null}}),W.enqueue({type:"response-metadata",id:(ue=he.message.id)!=null?ue:void 0,modelId:(ce=he.message.model)!=null?ce:void 0});return}case"message_delta":{D.completionTokens=he.usage.output_tokens,y=QA(he.delta.stop_reason);return}case"message_stop":{W.enqueue({type:"finish",finishReason:y,usage:D,providerMetadata:L});return}case"error":{W.enqueue({type:"error",error:he.error});return}default:{let Ue=he;throw new Error(`Unsupported chunk type: ${Ue}`)}}}})),rawCall:{rawPrompt:f,rawSettings:h},rawResponse:{headers:a},warnings:r,request:{body:JSON.stringify(i)}}}},iL=M.object({type:M.literal("message"),id:M.string().nullish(),model:M.string().nullish(),content:M.array(M.discriminatedUnion("type",[M.object({type:M.literal("text"),text:M.string()}),M.object({type:M.literal("tool_use"),id:M.string(),name:M.string(),input:M.unknown()})])),stop_reason:M.string().nullish(),usage:M.object({input_tokens:M.number(),output_tokens:M.number(),cache_creation_input_tokens:M.number().nullish(),cache_read_input_tokens:M.number().nullish()})}),aL=M.discriminatedUnion("type",[M.object({type:M.literal("message_start"),message:M.object({id:M.string().nullish(),model:M.string().nullish(),usage:M.object({input_tokens:M.number(),output_tokens:M.number(),cache_creation_input_tokens:M.number().nullish(),cache_read_input_tokens:M.number().nullish()})})}),M.object({type:M.literal("content_block_start"),index:M.number(),content_block:M.discriminatedUnion("type",[M.object({type:M.literal("text"),text:M.string()}),M.object({type:M.literal("tool_use"),id:M.string(),name:M.string()})])}),M.object({type:M.literal("content_block_delta"),index:M.number(),delta:M.discriminatedUnion("type",[M.object({type:M.literal("input_json_delta"),partial_json:M.string()}),M.object({type:M.literal("text_delta"),text:M.string()})])}),M.object({type:M.literal("content_block_stop"),index:M.number()}),M.object({type:M.literal("error"),error:M.object({type:M.string(),message:M.string()})}),M.object({type:M.literal("message_delta"),delta:M.object({stop_reason:M.string().nullish()}),usage:M.object({output_tokens:M.number()})}),M.object({type:M.literal("message_stop")}),M.object({type:M.literal("ping")})]),oL=M.object({command:M.string(),restart:M.boolean().optional()});function sL(e={}){return{type:"provider-defined",id:"anthropic.bash_20241022",args:{},parameters:oL,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var uL=M.object({command:M.enum(["view","create","str_replace","insert","undo_edit"]),path:M.string(),file_text:M.string().optional(),insert_line:M.number().int().optional(),new_str:M.string().optional(),old_str:M.string().optional(),view_range:M.array(M.number().int()).optional()});function cL(e={}){return{type:"provider-defined",id:"anthropic.text_editor_20241022",args:{},parameters:uL,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var fL=M.object({action:M.enum(["key","type","mouse_move","left_click","left_click_drag","right_click","middle_click","double_click","screenshot","cursor_position"]),coordinate:M.array(M.number().int()).optional(),text:M.string().optional()});function lL(e){return{type:"provider-defined",id:"anthropic.computer_20241022",args:{displayWidthPx:e.displayWidthPx,displayHeightPx:e.displayHeightPx,displayNumber:e.displayNumber},parameters:fL,execute:e.execute,experimental_toToolResultContent:e.experimental_toToolResultContent}}var dL={bash_20241022:sL,textEditor_20241022:cL,computer_20241022:lL};function rb(e={}){var t;let r=(t=q0(e.baseURL))!=null?t:"https://api.anthropic.com/v1",n=()=>({"anthropic-version":"2023-06-01","x-api-key":B0({apiKey:e.apiKey,environmentVariableName:"ANTHROPIC_API_KEY",description:"Anthropic"}),...e.headers}),i=(s,f={})=>new nL(s,f,{provider:"anthropic.messages",baseURL:r,headers:n,fetch:e.fetch}),a=function(s,f){if(new.target)throw new Error("The Anthropic model function cannot be called with the new keyword.");return i(s,f)};return a.languageModel=i,a.chat=i,a.messages=i,a.textEmbeddingModel=s=>{throw new yA({modelId:s,modelType:"textEmbeddingModel"})},a.tools=dL,a}var W5=rb();function pL({prompt:e,useLegacyFunctionCalling:t=!1}){let r=[];for(let{role:n,content:i}of e)switch(n){case"system":{r.push({role:"system",content:i});break}case"user":{if(i.length===1&&i[0].type==="text"){r.push({role:"user",content:i[0].text});break}r.push({role:"user",content:i.map(a=>{var s,f,h;switch(a.type){case"text":return{type:"text",text:a.text};case"image":return{type:"image_url",image_url:{url:a.image instanceof URL?a.image.toString():`data:${(s=a.mimeType)!=null?s:"image/jpeg"};base64,${yg(a.image)}`,detail:(h=(f=a.providerMetadata)==null?void 0:f.openai)==null?void 0:h.imageDetail}};case"file":{if(a.data instanceof URL)throw new Zn({functionality:"'File content parts with URL data' functionality not supported."});switch(a.mimeType){case"audio/wav":return{type:"input_audio",input_audio:{data:a.data,format:"wav"}};case"audio/mp3":case"audio/mpeg":return{type:"input_audio",input_audio:{data:a.data,format:"mp3"}};default:throw new Zn({functionality:`File content part type ${a.mimeType} in user messages`})}}}})});break}case"assistant":{let a="",s=[];for(let f of i)switch(f.type){case"text":{a+=f.text;break}case"tool-call":{s.push({id:f.toolCallId,type:"function",function:{name:f.toolName,arguments:JSON.stringify(f.args)}});break}default:{let h=f;throw new Error(`Unsupported part: ${h}`)}}if(t){if(s.length>1)throw new Zn({functionality:"useLegacyFunctionCalling with multiple tool calls in one message"});r.push({role:"assistant",content:a,function_call:s.length>0?s[0].function:void 0})}else r.push({role:"assistant",content:a,tool_calls:s.length>0?s:void 0});break}case"tool":{for(let a of i)t?r.push({role:"function",name:a.toolName,content:JSON.stringify(a.result)}):r.push({role:"tool",tool_call_id:a.toolCallId,content:JSON.stringify(a.result)});break}default:{let a=n;throw new Error(`Unsupported role: ${a}`)}}return r}function eN(e){var t,r;return(r=(t=e==null?void 0:e.content)==null?void 0:t.map(({token:n,logprob:i,top_logprobs:a})=>({token:n,logprob:i,topLogprobs:a?a.map(({token:s,logprob:f})=>({token:s,logprob:f})):[]})))!=null?r:void 0}function K0(e){switch(e){case"stop":return"stop";case"length":return"length";case"content_filter":return"content-filter";case"function_call":case"tool_calls":return"tool-calls";default:return"unknown"}}var nb=M.object({error:M.object({message:M.string(),type:M.string().nullish(),param:M.any().nullish(),code:M.union([M.string(),M.number()]).nullish()})}),Cy=G0({errorSchema:nb,errorToMessage:e=>e.error.message});function J0({id:e,model:t,created:r}){return{id:e??void 0,modelId:t??void 0,timestamp:r!=null?new Date(r*1e3):void 0}}function hL({mode:e,useLegacyFunctionCalling:t=!1,structuredOutputs:r}){var n;let i=(n=e.tools)!=null&&n.length?e.tools:void 0,a=[];if(i==null)return{tools:void 0,tool_choice:void 0,toolWarnings:a};let s=e.toolChoice;if(t){let y=[];for(let x of i)x.type==="provider-defined"?a.push({type:"unsupported-tool",tool:x}):y.push({name:x.name,description:x.description,parameters:x.parameters});if(s==null)return{functions:y,function_call:void 0,toolWarnings:a};switch(s.type){case"auto":case"none":case void 0:return{functions:y,function_call:void 0,toolWarnings:a};case"required":throw new Zn({functionality:"useLegacyFunctionCalling and toolChoice: required"});default:return{functions:y,function_call:{name:s.toolName},toolWarnings:a}}}let f=[];for(let y of i)y.type==="provider-defined"?a.push({type:"unsupported-tool",tool:y}):f.push({type:"function",function:{name:y.name,description:y.description,parameters:y.parameters,strict:r?!0:void 0}});if(s==null)return{tools:f,tool_choice:void 0,toolWarnings:a};let h=s.type;switch(h){case"auto":case"none":case"required":return{tools:f,tool_choice:h,toolWarnings:a};case"tool":return{tools:f,tool_choice:{type:"function",function:{name:s.toolName}},toolWarnings:a};default:{let y=h;throw new Zn({functionality:`Unsupported tool choice type: ${y}`})}}}var vL=class{constructor(e,t,r){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=r}get supportsStructuredOutputs(){var e;return(e=this.settings.structuredOutputs)!=null?e:!1}get defaultObjectGenerationMode(){return _L(this.modelId)?"tool":this.supportsStructuredOutputs?"json":"tool"}get provider(){return this.config.provider}get supportsImageUrls(){return!this.settings.downloadImages}getArgs({mode:e,prompt:t,maxTokens:r,temperature:n,topP:i,topK:a,frequencyPenalty:s,presencePenalty:f,stopSequences:h,responseFormat:y,seed:D,providerMetadata:x}){var L,Y,ee,W,H,X,ue,ce;let he=e.type,Ue=[];a!=null&&Ue.push({type:"unsupported-setting",setting:"topK"}),(y==null?void 0:y.type)==="json"&&y.schema!=null&&!this.supportsStructuredOutputs&&Ue.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format schema is only supported with structuredOutputs"});let Le=this.settings.useLegacyFunctionCalling;if(Le&&this.settings.parallelToolCalls===!0)throw new Zn({functionality:"useLegacyFunctionCalling with parallelToolCalls"});if(Le&&this.supportsStructuredOutputs)throw new Zn({functionality:"structuredOutputs with useLegacyFunctionCalling"});let ve={model:this.modelId,logit_bias:this.settings.logitBias,logprobs:this.settings.logprobs===!0||typeof this.settings.logprobs=="number"?!0:void 0,top_logprobs:typeof this.settings.logprobs=="number"?this.settings.logprobs:typeof this.settings.logprobs=="boolean"&&this.settings.logprobs?0:void 0,user:this.settings.user,parallel_tool_calls:this.settings.parallelToolCalls,max_tokens:r,temperature:n,top_p:i,frequency_penalty:s,presence_penalty:f,response_format:(y==null?void 0:y.type)==="json"?this.supportsStructuredOutputs&&y.schema!=null?{type:"json_schema",json_schema:{schema:y.schema,strict:!0,name:(L=y.name)!=null?L:"response",description:y.description}}:{type:"json_object"}:void 0,stop:h,seed:D,max_completion_tokens:(Y=x==null?void 0:x.openai)==null?void 0:Y.maxCompletionTokens,store:(ee=x==null?void 0:x.openai)==null?void 0:ee.store,metadata:(W=x==null?void 0:x.openai)==null?void 0:W.metadata,prediction:(H=x==null?void 0:x.openai)==null?void 0:H.prediction,reasoning_effort:(ue=(X=x==null?void 0:x.openai)==null?void 0:X.reasoningEffort)!=null?ue:this.settings.reasoningEffort,messages:pL({prompt:t,useLegacyFunctionCalling:Le})};switch(yL(this.modelId)&&(ve.temperature=void 0,ve.top_p=void 0,ve.frequency_penalty=void 0,ve.presence_penalty=void 0),he){case"regular":{let{tools:Pe,tool_choice:Te,functions:Je,function_call:mt,toolWarnings:Er}=hL({mode:e,useLegacyFunctionCalling:Le,structuredOutputs:this.supportsStructuredOutputs});return{args:{...ve,tools:Pe,tool_choice:Te,functions:Je,function_call:mt},warnings:[...Ue,...Er]}}case"object-json":return{args:{...ve,response_format:this.supportsStructuredOutputs&&e.schema!=null?{type:"json_schema",json_schema:{schema:e.schema,strict:!0,name:(ce=e.name)!=null?ce:"response",description:e.description}}:{type:"json_object"}},warnings:Ue};case"object-tool":return{args:Le?{...ve,function_call:{name:e.tool.name},functions:[{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters}]}:{...ve,tool_choice:{type:"function",function:{name:e.tool.name}},tools:[{type:"function",function:{name:e.tool.name,description:e.tool.description,parameters:e.tool.parameters,strict:this.supportsStructuredOutputs?!0:void 0}}]},warnings:Ue};default:{let Pe=he;throw new Error(`Unsupported type: ${Pe}`)}}}async doGenerate(e){var t,r,n,i,a,s,f,h;let{args:y,warnings:D}=this.getArgs(e),{responseHeaders:x,value:L}=await id({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:op(this.config.headers(),e.headers),body:y,failedResponseHandler:Cy,successfulResponseHandler:sv(mL),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:Y,...ee}=y,W=L.choices[0],H=(t=L.usage)==null?void 0:t.completion_tokens_details,X=(r=L.usage)==null?void 0:r.prompt_tokens_details,ue={openai:{}};return(H==null?void 0:H.reasoning_tokens)!=null&&(ue.openai.reasoningTokens=H==null?void 0:H.reasoning_tokens),(H==null?void 0:H.accepted_prediction_tokens)!=null&&(ue.openai.acceptedPredictionTokens=H==null?void 0:H.accepted_prediction_tokens),(H==null?void 0:H.rejected_prediction_tokens)!=null&&(ue.openai.rejectedPredictionTokens=H==null?void 0:H.rejected_prediction_tokens),(X==null?void 0:X.cached_tokens)!=null&&(ue.openai.cachedPromptTokens=X==null?void 0:X.cached_tokens),{text:(n=W.message.content)!=null?n:void 0,toolCalls:this.settings.useLegacyFunctionCalling&&W.message.function_call?[{toolCallType:"function",toolCallId:tm(),toolName:W.message.function_call.name,args:W.message.function_call.arguments}]:(i=W.message.tool_calls)==null?void 0:i.map(ce=>{var he;return{toolCallType:"function",toolCallId:(he=ce.id)!=null?he:tm(),toolName:ce.function.name,args:ce.function.arguments}}),finishReason:K0(W.finish_reason),usage:{promptTokens:(s=(a=L.usage)==null?void 0:a.prompt_tokens)!=null?s:NaN,completionTokens:(h=(f=L.usage)==null?void 0:f.completion_tokens)!=null?h:NaN},rawCall:{rawPrompt:Y,rawSettings:ee},rawResponse:{headers:x},request:{body:JSON.stringify(y)},response:J0(L),warnings:D,logprobs:eN(W.logprobs),providerMetadata:ue}}async doStream(e){if(this.settings.simulateStreaming){let W=await this.doGenerate(e);return{stream:new ReadableStream({start(X){if(X.enqueue({type:"response-metadata",...W.response}),W.text&&X.enqueue({type:"text-delta",textDelta:W.text}),W.toolCalls)for(let ue of W.toolCalls)X.enqueue({type:"tool-call",...ue});X.enqueue({type:"finish",finishReason:W.finishReason,usage:W.usage,logprobs:W.logprobs,providerMetadata:W.providerMetadata}),X.close()}}),rawCall:W.rawCall,rawResponse:W.rawResponse,warnings:W.warnings}}let{args:t,warnings:r}=this.getArgs(e),n={...t,stream:!0,stream_options:this.config.compatibility==="strict"?{include_usage:!0}:void 0},{responseHeaders:i,value:a}=await id({url:this.config.url({path:"/chat/completions",modelId:this.modelId}),headers:op(this.config.headers(),e.headers),body:n,failedResponseHandler:Cy,successfulResponseHandler:_y(gL),abortSignal:e.abortSignal,fetch:this.config.fetch}),{messages:s,...f}=t,h=[],y="unknown",D={promptTokens:void 0,completionTokens:void 0},x,L=!0,{useLegacyFunctionCalling:Y}=this.settings,ee={openai:{}};return{stream:a.pipeThrough(new TransformStream({transform(W,H){var X,ue,ce,he,Ue,Le,ve,Pe,Te,Je,mt,Er;if(!W.success){y="error",H.enqueue({type:"error",error:W.error});return}let fr=W.value;if("error"in fr){y="error",H.enqueue({type:"error",error:fr.error});return}if(L&&(L=!1,H.enqueue({type:"response-metadata",...J0(fr)})),fr.usage!=null){let{prompt_tokens:Fe,completion_tokens:Gr,prompt_tokens_details:er,completion_tokens_details:kt}=fr.usage;D={promptTokens:Fe??void 0,completionTokens:Gr??void 0},(kt==null?void 0:kt.reasoning_tokens)!=null&&(ee.openai.reasoningTokens=kt==null?void 0:kt.reasoning_tokens),(kt==null?void 0:kt.accepted_prediction_tokens)!=null&&(ee.openai.acceptedPredictionTokens=kt==null?void 0:kt.accepted_prediction_tokens),(kt==null?void 0:kt.rejected_prediction_tokens)!=null&&(ee.openai.rejectedPredictionTokens=kt==null?void 0:kt.rejected_prediction_tokens),(er==null?void 0:er.cached_tokens)!=null&&(ee.openai.cachedPromptTokens=er==null?void 0:er.cached_tokens)}let Bt=fr.choices[0];if((Bt==null?void 0:Bt.finish_reason)!=null&&(y=K0(Bt.finish_reason)),(Bt==null?void 0:Bt.delta)==null)return;let en=Bt.delta;en.content!=null&&H.enqueue({type:"text-delta",textDelta:en.content});let qe=eN(Bt==null?void 0:Bt.logprobs);qe!=null&&qe.length&&(x===void 0&&(x=[]),x.push(...qe));let Jr=Y&&en.function_call!=null?[{type:"function",id:tm(),function:en.function_call,index:0}]:en.tool_calls;if(Jr!=null)for(let Fe of Jr){let Gr=Fe.index;if(h[Gr]==null){if(Fe.type!=="function")throw new O0({data:Fe,message:"Expected 'function' type."});if(Fe.id==null)throw new O0({data:Fe,message:"Expected 'id' to be a string."});if(((X=Fe.function)==null?void 0:X.name)==null)throw new O0({data:Fe,message:"Expected 'function.name' to be a string."});h[Gr]={id:Fe.id,type:"function",function:{name:Fe.function.name,arguments:(ue=Fe.function.arguments)!=null?ue:""},hasFinished:!1};let kt=h[Gr];((ce=kt.function)==null?void 0:ce.name)!=null&&((he=kt.function)==null?void 0:he.arguments)!=null&&(kt.function.arguments.length>0&&H.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:kt.id,toolName:kt.function.name,argsTextDelta:kt.function.arguments}),Jw(kt.function.arguments)&&(H.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(Ue=kt.id)!=null?Ue:tm(),toolName:kt.function.name,args:kt.function.arguments}),kt.hasFinished=!0));continue}let er=h[Gr];er.hasFinished||(((Le=Fe.function)==null?void 0:Le.arguments)!=null&&(er.function.arguments+=(Pe=(ve=Fe.function)==null?void 0:ve.arguments)!=null?Pe:""),H.enqueue({type:"tool-call-delta",toolCallType:"function",toolCallId:er.id,toolName:er.function.name,argsTextDelta:(Te=Fe.function.arguments)!=null?Te:""}),((Je=er.function)==null?void 0:Je.name)!=null&&((mt=er.function)==null?void 0:mt.arguments)!=null&&Jw(er.function.arguments)&&(H.enqueue({type:"tool-call",toolCallType:"function",toolCallId:(Er=er.id)!=null?Er:tm(),toolName:er.function.name,args:er.function.arguments}),er.hasFinished=!0))}},flush(W){var H,X;W.enqueue({type:"finish",finishReason:y,logprobs:x,usage:{promptTokens:(H=D.promptTokens)!=null?H:NaN,completionTokens:(X=D.completionTokens)!=null?X:NaN},...ee!=null?{providerMetadata:ee}:{}})}})),rawCall:{rawPrompt:s,rawSettings:f},rawResponse:{headers:i},request:{body:JSON.stringify(n)},warnings:r}}},rN=M.object({prompt_tokens:M.number().nullish(),completion_tokens:M.number().nullish(),prompt_tokens_details:M.object({cached_tokens:M.number().nullish()}).nullish(),completion_tokens_details:M.object({reasoning_tokens:M.number().nullish(),accepted_prediction_tokens:M.number().nullish(),rejected_prediction_tokens:M.number().nullish()}).nullish()}).nullish(),mL=M.object({id:M.string().nullish(),created:M.number().nullish(),model:M.string().nullish(),choices:M.array(M.object({message:M.object({role:M.literal("assistant").nullish(),content:M.string().nullish(),function_call:M.object({arguments:M.string(),name:M.string()}).nullish(),tool_calls:M.array(M.object({id:M.string().nullish(),type:M.literal("function"),function:M.object({name:M.string(),arguments:M.string()})})).nullish()}),index:M.number(),logprobs:M.object({content:M.array(M.object({token:M.string(),logprob:M.number(),top_logprobs:M.array(M.object({token:M.string(),logprob:M.number()}))})).nullable()}).nullish(),finish_reason:M.string().nullish()})),usage:rN}),gL=M.union([M.object({id:M.string().nullish(),created:M.number().nullish(),model:M.string().nullish(),choices:M.array(M.object({delta:M.object({role:M.enum(["assistant"]).nullish(),content:M.string().nullish(),function_call:M.object({name:M.string().optional(),arguments:M.string().optional()}).nullish(),tool_calls:M.array(M.object({index:M.number(),id:M.string().nullish(),type:M.literal("function").optional(),function:M.object({name:M.string().nullish(),arguments:M.string().nullish()})})).nullish()}).nullish(),logprobs:M.object({content:M.array(M.object({token:M.string(),logprob:M.number(),top_logprobs:M.array(M.object({token:M.string(),logprob:M.number()}))})).nullable()}).nullish(),finish_reason:M.string().nullable().optional(),index:M.number()})),usage:rN}),nb]);function yL(e){return e==="o1"||e.startsWith("o1-")||e==="o3"||e.startsWith("o3-")}function _L(e){return e.startsWith("gpt-4o-audio-preview")}function EL({prompt:e,inputFormat:t,user:r="user",assistant:n="assistant"}){if(t==="prompt"&&e.length===1&&e[0].role==="user"&&e[0].content.length===1&&e[0].content[0].type==="text")return{prompt:e[0].content[0].text};let i="";e[0].role==="system"&&(i+=`${e[0].content}

`,e=e.slice(1));for(let{role:a,content:s}of e)switch(a){case"system":throw new Qv({message:"Unexpected system message in prompt: ${content}",prompt:e});case"user":{let f=s.map(h=>{switch(h.type){case"text":return h.text;case"image":throw new Zn({functionality:"images"})}}).join("");i+=`${r}:
${f}

`;break}case"assistant":{let f=s.map(h=>{switch(h.type){case"text":return h.text;case"tool-call":throw new Zn({functionality:"tool-call messages"})}}).join("");i+=`${n}:
${f}

`;break}case"tool":throw new Zn({functionality:"tool messages"});default:{let f=a;throw new Error(`Unsupported role: ${f}`)}}return i+=`${n}:
`,{prompt:i,stopSequences:[`
${r}:`]}}function tN(e){return e==null?void 0:e.tokens.map((t,r)=>({token:t,logprob:e.token_logprobs[r],topLogprobs:e.top_logprobs?Object.entries(e.top_logprobs[r]).map(([n,i])=>({token:n,logprob:i})):[]}))}var wL=class{constructor(e,t,r){this.specificationVersion="v1",this.defaultObjectGenerationMode=void 0,this.modelId=e,this.settings=t,this.config=r}get provider(){return this.config.provider}getArgs({mode:e,inputFormat:t,prompt:r,maxTokens:n,temperature:i,topP:a,topK:s,frequencyPenalty:f,presencePenalty:h,stopSequences:y,responseFormat:D,seed:x}){var L;let Y=e.type,ee=[];s!=null&&ee.push({type:"unsupported-setting",setting:"topK"}),D!=null&&D.type!=="text"&&ee.push({type:"unsupported-setting",setting:"responseFormat",details:"JSON response format is not supported."});let{prompt:W,stopSequences:H}=EL({prompt:r,inputFormat:t}),X=[...H??[],...y??[]],ue={model:this.modelId,echo:this.settings.echo,logit_bias:this.settings.logitBias,logprobs:typeof this.settings.logprobs=="number"?this.settings.logprobs:typeof this.settings.logprobs=="boolean"&&this.settings.logprobs?0:void 0,suffix:this.settings.suffix,user:this.settings.user,max_tokens:n,temperature:i,top_p:a,frequency_penalty:f,presence_penalty:h,seed:x,prompt:W,stop:X.length>0?X:void 0};switch(Y){case"regular":{if((L=e.tools)!=null&&L.length)throw new Zn({functionality:"tools"});if(e.toolChoice)throw new Zn({functionality:"toolChoice"});return{args:ue,warnings:ee}}case"object-json":throw new Zn({functionality:"object-json mode"});case"object-tool":throw new Zn({functionality:"object-tool mode"});default:{let ce=Y;throw new Error(`Unsupported type: ${ce}`)}}}async doGenerate(e){let{args:t,warnings:r}=this.getArgs(e),{responseHeaders:n,value:i}=await id({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:op(this.config.headers(),e.headers),body:t,failedResponseHandler:Cy,successfulResponseHandler:sv(bL),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:a,...s}=t,f=i.choices[0];return{text:f.text,usage:{promptTokens:i.usage.prompt_tokens,completionTokens:i.usage.completion_tokens},finishReason:K0(f.finish_reason),logprobs:tN(f.logprobs),rawCall:{rawPrompt:a,rawSettings:s},rawResponse:{headers:n},response:J0(i),warnings:r,request:{body:JSON.stringify(t)}}}async doStream(e){let{args:t,warnings:r}=this.getArgs(e),n={...t,stream:!0,stream_options:this.config.compatibility==="strict"?{include_usage:!0}:void 0},{responseHeaders:i,value:a}=await id({url:this.config.url({path:"/completions",modelId:this.modelId}),headers:op(this.config.headers(),e.headers),body:n,failedResponseHandler:Cy,successfulResponseHandler:_y(SL),abortSignal:e.abortSignal,fetch:this.config.fetch}),{prompt:s,...f}=t,h="unknown",y={promptTokens:Number.NaN,completionTokens:Number.NaN},D,x=!0;return{stream:a.pipeThrough(new TransformStream({transform(L,Y){if(!L.success){h="error",Y.enqueue({type:"error",error:L.error});return}let ee=L.value;if("error"in ee){h="error",Y.enqueue({type:"error",error:ee.error});return}x&&(x=!1,Y.enqueue({type:"response-metadata",...J0(ee)})),ee.usage!=null&&(y={promptTokens:ee.usage.prompt_tokens,completionTokens:ee.usage.completion_tokens});let W=ee.choices[0];(W==null?void 0:W.finish_reason)!=null&&(h=K0(W.finish_reason)),(W==null?void 0:W.text)!=null&&Y.enqueue({type:"text-delta",textDelta:W.text});let H=tN(W==null?void 0:W.logprobs);H!=null&&H.length&&(D===void 0&&(D=[]),D.push(...H))},flush(L){L.enqueue({type:"finish",finishReason:h,logprobs:D,usage:y})}})),rawCall:{rawPrompt:s,rawSettings:f},rawResponse:{headers:i},warnings:r,request:{body:JSON.stringify(n)}}}},bL=M.object({id:M.string().nullish(),created:M.number().nullish(),model:M.string().nullish(),choices:M.array(M.object({text:M.string(),finish_reason:M.string(),logprobs:M.object({tokens:M.array(M.string()),token_logprobs:M.array(M.number()),top_logprobs:M.array(M.record(M.string(),M.number())).nullable()}).nullish()})),usage:M.object({prompt_tokens:M.number(),completion_tokens:M.number()})}),SL=M.union([M.object({id:M.string().nullish(),created:M.number().nullish(),model:M.string().nullish(),choices:M.array(M.object({text:M.string(),finish_reason:M.string().nullish(),index:M.number(),logprobs:M.object({tokens:M.array(M.string()),token_logprobs:M.array(M.number()),top_logprobs:M.array(M.record(M.string(),M.number())).nullable()}).nullish()})),usage:M.object({prompt_tokens:M.number(),completion_tokens:M.number()}).nullish()}),nb]),DL=class{constructor(e,t,r){this.specificationVersion="v1",this.modelId=e,this.settings=t,this.config=r}get provider(){return this.config.provider}get maxEmbeddingsPerCall(){var e;return(e=this.settings.maxEmbeddingsPerCall)!=null?e:2048}get supportsParallelCalls(){var e;return(e=this.settings.supportsParallelCalls)!=null?e:!0}async doEmbed({values:e,headers:t,abortSignal:r}){if(e.length>this.maxEmbeddingsPerCall)throw new bA({provider:this.provider,modelId:this.modelId,maxEmbeddingsPerCall:this.maxEmbeddingsPerCall,values:e});let{responseHeaders:n,value:i}=await id({url:this.config.url({path:"/embeddings",modelId:this.modelId}),headers:op(this.config.headers(),t),body:{model:this.modelId,input:e,encoding_format:"float",dimensions:this.settings.dimensions,user:this.settings.user},failedResponseHandler:Cy,successfulResponseHandler:sv(TL),abortSignal:r,fetch:this.config.fetch});return{embeddings:i.data.map(a=>a.embedding),usage:i.usage?{tokens:i.usage.prompt_tokens}:void 0,rawResponse:{headers:n}}}},TL=M.object({data:M.array(M.object({embedding:M.array(M.number())})),usage:M.object({prompt_tokens:M.number()}).nullish()}),AL=class{constructor(e,t){this.specificationVersion="v1",this.modelId=e,this.config=t}get provider(){return this.config.provider}async doGenerate({prompt:e,n:t,size:r,providerOptions:n,headers:i,abortSignal:a}){var s;let{value:f}=await id({url:this.config.url({path:"/images/generations",modelId:this.modelId}),headers:op(this.config.headers(),i),body:{model:this.modelId,prompt:e,n:t,size:r,...(s=n.openai)!=null?s:{},response_format:"b64_json"},failedResponseHandler:Cy,successfulResponseHandler:sv(NL),abortSignal:a,fetch:this.config.fetch});return{images:f.data.map(h=>h.b64_json)}}},NL=M.object({data:M.array(M.object({b64_json:M.string()}))});function ib(e={}){var t,r,n;let i=(t=q0(e.baseURL))!=null?t:"https://api.openai.com/v1",a=(r=e.compatibility)!=null?r:"compatible",s=(n=e.name)!=null?n:"openai",f=()=>({Authorization:`Bearer ${B0({apiKey:e.apiKey,environmentVariableName:"OPENAI_API_KEY",description:"OpenAI"})}`,"OpenAI-Organization":e.organization,"OpenAI-Project":e.project,...e.headers}),h=(ee,W={})=>new vL(ee,W,{provider:`${s}.chat`,url:({path:H})=>`${i}${H}`,headers:f,compatibility:a,fetch:e.fetch}),y=(ee,W={})=>new wL(ee,W,{provider:`${s}.completion`,url:({path:H})=>`${i}${H}`,headers:f,compatibility:a,fetch:e.fetch}),D=(ee,W={})=>new DL(ee,W,{provider:`${s}.embedding`,url:({path:H})=>`${i}${H}`,headers:f,fetch:e.fetch}),x=ee=>new AL(ee,{provider:`${s}.image`,url:({path:W})=>`${i}${W}`,headers:f,fetch:e.fetch}),L=(ee,W)=>{if(new.target)throw new Error("The OpenAI model function cannot be called with the new keyword.");return ee==="gpt-3.5-turbo-instruct"?y(ee,W):h(ee,W)},Y=function(ee,W){return L(ee,W)};return Y.languageModel=L,Y.chat=h,Y.completion=y,Y.embedding=D,Y.textEmbedding=D,Y.textEmbeddingModel=D,Y.image=x,Y}var hG=ib({compatibility:"strict"});var Ao=require("vscode"),CL=["rate limit exceeded","net::err","check your network connection","check your firewall","server error","response contained no choices","response got filtered"];function IL({role:e,content:t}){switch(e){case"system":return Ao.LanguageModelChatMessage.User(t);case"user":let r=t.map(a=>{switch(a.type){case"text":return new Ao.LanguageModelTextPart(a.text);case"image":throw new Error("Image content not supported");case"file":throw new Error("File content not supported")}});return Ao.LanguageModelChatMessage.User(r);case"tool":let n=t.map(a=>{switch(a.type){case"tool-result":let s=typeof a.result=="string"?a.result:JSON.stringify(a.result);return new Ao.LanguageModelToolResultPart(a.toolCallId,[new Ao.LanguageModelTextPart(s)])}});return Ao.LanguageModelChatMessage.User(n);case"assistant":let i=t.map(a=>{switch(a.type){case"text":return new Ao.LanguageModelTextPart(a.text);case"tool-call":return new Ao.LanguageModelToolCallPart(a.toolCallId,a.toolName,a.args)}});return i[0]instanceof Ao.LanguageModelTextPart||i.unshift(new Ao.LanguageModelTextPart("ok")),Ao.LanguageModelChatMessage.Assistant(i)}}function xL(e){switch(e.type){case"function":return{name:e.name,description:e.description,inputSchema:e.parameters};case"provider-defined":throw new Error("Provider-defined tools not supported")}}function PL(e){let t=String(e.message).toLowerCase();for(let r of CL)if(t.includes(r))return!0;return!1}var ab=class{specificationVersion="v1";defaultObjectGenerationMode="json";provider="copilot";supportsImageUrls=!1;constructor(t,r,n){this.modelId=t,this.settings=r,this.config=n}async doGenerate(t){throw new Error("Not implemented")}async doStream(t){var y;let[r]=await Ao.lm.selectChatModels({family:this.modelId,vendor:"copilot"});if(!r)throw new Error("Model not found: "+this.modelId);let{prompt:n,abortSignal:i,mode:a}=t;if(a.type!=="regular")throw new Error("Request mode not supported: "+a.type);let s=n.map(IL),f=(y=a.tools)==null?void 0:y.map(xL);return n.slice(-1)[0].role=="tool"&&s.push(Ao.LanguageModelChatMessage.User("Follow the instructions in the tool call results above")),{stream:new ReadableStream({async start(D){let x=0;for(;;){try{let L=await r.sendRequest(s,{tools:f,modelOptions:{temperature:.2,max_tokens:8192}});for await(let Y of L.stream)Y instanceof Ao.LanguageModelTextPart?D.enqueue({type:"text-delta",textDelta:Y.value}):Y instanceof Ao.LanguageModelToolCallPart?D.enqueue({type:"tool-call",toolCallType:"function",toolCallId:Y.callId,toolName:Y.name,args:JSON.stringify(Y.input)}):D.error(new Error("Unknown content format"));D.close();return}catch(L){if(!PL(L)||++x>5){D.error(L);return}D.enqueue({type:"error",error:{event:"retry",count:x,message:L.message||String(L),cause:L}}),L.message=="rate limit exceeded"&&await nN(30)}await nN(5*x)}}}),rawCall:{rawPrompt:"",rawSettings:{}}}}};function iN(e){let t=(n,i={})=>new ab(n,i,{provider:"copilot"}),r=function(n,i={}){return t(n,i)};return r.chat=t,r}async function nN(e){return new Promise(t=>setTimeout(t,e*1e3))}var RL={anthropic:rb,openai:ib,copilot:iN},aN={};function ob({id:e,provider:t,apiKey:r}){let n=aN[t];if(!n){let i=RL[t];if(!i)throw new Error("Unknown provider: "+t);n=i({apiKey:r}),aN[t]=n}return n(e,{cacheControl:!0})}var sN=function(e,t,r,n){var i;t[0]=0;for(var a=1;a<t.length;a++){var s=t[a++],f=t[a]?(t[0]|=s?1:2,r[t[a++]]):t[++a];s===3?n[0]=f:s===4?n[1]=Object.assign(n[1]||{},f):s===5?(n[1]=n[1]||{})[t[++a]]=f:s===6?n[1][t[++a]]+=f+"":s?(i=e.apply(f,sN(e,f,r,["",null])),n.push(i),f[0]?t[0]|=2:(t[a-2]=0,t[a]=i)):n.push(f)}return n},oN=new Map;function uN(e){var t=oN.get(this);return t||(t=new Map,oN.set(this,t)),(t=sN(this,t.get(e)||(t.set(e,t=function(r){for(var n,i,a=1,s="",f="",h=[0],y=function(L){a===1&&(L||(s=s.replace(/^\s*\n\s*|\s*\n\s*$/g,"")))?h.push(0,L,s):a===3&&(L||s)?(h.push(3,L,s),a=2):a===2&&s==="..."&&L?h.push(4,L,0):a===2&&s&&!L?h.push(5,0,!0,s):a>=5&&((s||!L&&a===5)&&(h.push(a,0,s,i),a=6),L&&(h.push(a,L,0,i),a=6)),s=""},D=0;D<r.length;D++){D&&(a===1&&y(),y(D));for(var x=0;x<r[D].length;x++)n=r[D][x],a===1?n==="<"?(y(),h=[h],a=3):s+=n:a===4?s==="--"&&n===">"?(a=1,s=""):s=n+s[0]:f?n===f?f="":s+=n:n==='"'||n==="'"?f=n:n===">"?(y(),a=1):a&&(n==="="?(a=5,i=s,s=""):n==="/"&&(a<5||r[D][x+1]===">")?(y(),a===3&&(h=h[0]),a=h,(h=h[0]).push(2,0,a),a=0):n===" "||n==="	"||n===`
`||n==="\r"?(y(),a=2):s+=n),a===3&&s==="!--"&&(a=4,h=h[0])}return y(),h}(e)),t),arguments,[])).length>1?t:t[0]}function sb(e){if(Array.isArray(e))return e.map(sb);if(typeof e!="string")return e;let t=e.split(`
`),r=100;if(t.forEach((n,i)=>{let a=n.match(/^(\s*)\S/);i&&a&&(r=Math.min(r,a[1].length))}),r<100)for(let n=1;n<t.length;n++)t[n]=t[n].slice(r);return t.join(`
`)}function kL(e,t,...r){return{type:e,props:t,children:sb(r)}}var OL=uN.bind(kL);function Iy(...e){return sb(OL(...e))}function Km(e,t=""){if(Array.isArray(e))return e.reduce((r,n)=>{let i=Km(n,t);return/^[\n]/.test(i)&&/[\n]$/.test(r)?r+i.slice(1):/^[\s\n]/.test(i)||/[\s\n]$/.test(r)?r+i:r&&i?r+" "+i:r||i||""},"");if((e==null?void 0:e.type)=="markdown"){let{props:r}=e;return r.text}if((e==null?void 0:e.type)=="code"){let{props:r}=e;return"\n```"+(r.type||"")+`
`+r.text+"\n```\n"}if(typeof(e==null?void 0:e.type)=="string"){let{type:r,children:n}=e;return Km([`
`+t+"<"+r+`>
`,Km(n,t+"  "),`
`+t+"</"+r+`>
`])}if(typeof(e==null?void 0:e.type)=="function"){let{type:r,props:n,children:i}=e;return Km(r(n,i),t)}return String(e??"").split(`
`).map(r=>t+r).join(`
`)}var ub=[{provider:"anthropic",family:"claude-3.5-sonnet",id:"claude-3-5-sonnet-20241022",name:"Claude 3.5 Sonnet",cacheControl:!0},{provider:"openai",family:"gpt-4o",id:"gpt-4o-2024-08-06",name:"GPT 4o"},{provider:"openrouter",family:"claude-3.5-sonnet",id:"anthropic/claude-3.5-sonnet:beta",name:"Claude 3.5 Sonnet",cacheControl:!0},{provider:"openrouter",family:"gpt-4o",id:"openai/gpt-4o-2024-08-06",name:"GPT 4o"}];var cN=[{id:"anthropic",name:"Anthropic",envKeyName:"ANTHROPIC_API_KEY",website:"https://console.anthropic.com"},{id:"openai",name:"OpenAI",envKeyName:"OPENAI_API_KEY",website:"https://platform.openai.com"},{id:"openrouter",name:"Open Router",envKeyName:"OPENROUTER_API_KEY",website:"https://openrouter.ai"}];var lN=Symbol("Let zodToJsonSchema decide on which parser to use"),fN={name:void 0,$refStrategy:"root",basePath:["#"],effectStrategy:"input",pipeStrategy:"all",dateStrategy:"format:date-time",mapStrategy:"entries",removeAdditionalStrategy:"passthrough",definitionPath:"definitions",target:"jsonSchema7",strictUnions:!1,definitions:{},errorMessages:!1,markdownDescription:!1,patternStrategy:"escape",applyRegexFlags:!1,emailStrategy:"format:email",base64Strategy:"contentEncoding:base64",nameStrategy:"ref"},dN=e=>typeof e=="string"?{...fN,name:e}:{...fN,...e};var pN=e=>{let t=dN(e),r=t.name!==void 0?[...t.basePath,t.definitionPath,t.name]:t.basePath;return{...t,currentPath:r,propertyPath:void 0,seen:new Map(Object.entries(t.definitions).map(([n,i])=>[i._def,{def:i._def,path:[...t.basePath,t.definitionPath,n],jsonSchema:void 0}]))}};function cb(e,t,r,n){n!=null&&n.errorMessages&&r&&(e.errorMessage={...e.errorMessage,[t]:r})}function vn(e,t,r,n,i){e[t]=r,cb(e,t,n,i)}function hN(){return{}}function vN(e,t){var n,i,a;let r={type:"array"};return(n=e.type)!=null&&n._def&&((a=(i=e.type)==null?void 0:i._def)==null?void 0:a.typeName)!==et.ZodAny&&(r.items=_r(e.type._def,{...t,currentPath:[...t.currentPath,"items"]})),e.minLength&&vn(r,"minItems",e.minLength.value,e.minLength.message,t),e.maxLength&&vn(r,"maxItems",e.maxLength.value,e.maxLength.message,t),e.exactLength&&(vn(r,"minItems",e.exactLength.value,e.exactLength.message,t),vn(r,"maxItems",e.exactLength.value,e.exactLength.message,t)),r}function mN(e,t){let r={type:"integer",format:"int64"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"min":t.target==="jsonSchema7"?n.inclusive?vn(r,"minimum",n.value,n.message,t):vn(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),vn(r,"minimum",n.value,n.message,t));break;case"max":t.target==="jsonSchema7"?n.inclusive?vn(r,"maximum",n.value,n.message,t):vn(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),vn(r,"maximum",n.value,n.message,t));break;case"multipleOf":vn(r,"multipleOf",n.value,n.message,t);break}return r}function gN(){return{type:"boolean"}}function Z0(e,t){return _r(e.type._def,t)}var yN=(e,t)=>_r(e.innerType._def,t);function fb(e,t,r){let n=r??t.dateStrategy;if(Array.isArray(n))return{anyOf:n.map((i,a)=>fb(e,t,i))};switch(n){case"string":case"format:date-time":return{type:"string",format:"date-time"};case"format:date":return{type:"string",format:"date"};case"integer":return ML(e,t)}}var ML=(e,t)=>{let r={type:"integer",format:"unix-time"};if(t.target==="openApi3")return r;for(let n of e.checks)switch(n.kind){case"min":vn(r,"minimum",n.value,n.message,t);break;case"max":vn(r,"maximum",n.value,n.message,t);break}return r};function _N(e,t){return{..._r(e.innerType._def,t),default:e.defaultValue()}}function EN(e,t){return t.effectStrategy==="input"?_r(e.schema._def,t):{}}function wN(e){return{type:"string",enum:Array.from(e.values)}}var LL=e=>"type"in e&&e.type==="string"?!1:"allOf"in e;function bN(e,t){let r=[_r(e.left._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),_r(e.right._def,{...t,currentPath:[...t.currentPath,"allOf","1"]})].filter(a=>!!a),n=t.target==="jsonSchema2019-09"?{unevaluatedProperties:!1}:void 0,i=[];return r.forEach(a=>{if(LL(a))i.push(...a.allOf),a.unevaluatedProperties===void 0&&(n=void 0);else{let s=a;if("additionalProperties"in a&&a.additionalProperties===!1){let{additionalProperties:f,...h}=a;s=h}else n=void 0;i.push(s)}}),i.length?{allOf:i,...n}:void 0}function SN(e,t){let r=typeof e.value;return r!=="bigint"&&r!=="number"&&r!=="boolean"&&r!=="string"?{type:Array.isArray(e.value)?"array":"object"}:t.target==="openApi3"?{type:r==="bigint"?"integer":r,enum:[e.value]}:{type:r==="bigint"?"integer":r,const:e.value}}var lb,sh={cuid:/^[cC][^\s-]{8,}$/,cuid2:/^[0-9a-z]+$/,ulid:/^[0-9A-HJKMNP-TV-Z]{26}$/,email:/^(?!\.)(?!.*\.\.)([a-zA-Z0-9_'+\-\.]*)[a-zA-Z0-9_+-]@([a-zA-Z0-9][a-zA-Z0-9\-]*\.)+[a-zA-Z]{2,}$/,emoji:()=>(lb===void 0&&(lb=RegExp("^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$","u")),lb),uuid:/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/,ipv4:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,ipv4Cidr:/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,ipv6:/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,ipv6Cidr:/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,base64:/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,base64url:/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,nanoid:/^[a-zA-Z0-9_-]{21}$/,jwt:/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/};function X0(e,t){let r={type:"string"};if(e.checks)for(let n of e.checks)switch(n.kind){case"min":vn(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,t);break;case"max":vn(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"email":switch(t.emailStrategy){case"format:email":uh(r,"email",n.message,t);break;case"format:idn-email":uh(r,"idn-email",n.message,t);break;case"pattern:zod":Vc(r,sh.email,n.message,t);break}break;case"url":uh(r,"uri",n.message,t);break;case"uuid":uh(r,"uuid",n.message,t);break;case"regex":Vc(r,n.regex,n.message,t);break;case"cuid":Vc(r,sh.cuid,n.message,t);break;case"cuid2":Vc(r,sh.cuid2,n.message,t);break;case"startsWith":Vc(r,RegExp(`^${db(n.value,t)}`),n.message,t);break;case"endsWith":Vc(r,RegExp(`${db(n.value,t)}$`),n.message,t);break;case"datetime":uh(r,"date-time",n.message,t);break;case"date":uh(r,"date",n.message,t);break;case"time":uh(r,"time",n.message,t);break;case"duration":uh(r,"duration",n.message,t);break;case"length":vn(r,"minLength",typeof r.minLength=="number"?Math.max(r.minLength,n.value):n.value,n.message,t),vn(r,"maxLength",typeof r.maxLength=="number"?Math.min(r.maxLength,n.value):n.value,n.message,t);break;case"includes":{Vc(r,RegExp(db(n.value,t)),n.message,t);break}case"ip":{n.version!=="v6"&&uh(r,"ipv4",n.message,t),n.version!=="v4"&&uh(r,"ipv6",n.message,t);break}case"base64url":Vc(r,sh.base64url,n.message,t);break;case"jwt":Vc(r,sh.jwt,n.message,t);break;case"cidr":{n.version!=="v6"&&Vc(r,sh.ipv4Cidr,n.message,t),n.version!=="v4"&&Vc(r,sh.ipv6Cidr,n.message,t);break}case"emoji":Vc(r,sh.emoji(),n.message,t);break;case"ulid":{Vc(r,sh.ulid,n.message,t);break}case"base64":{switch(t.base64Strategy){case"format:binary":{uh(r,"binary",n.message,t);break}case"contentEncoding:base64":{vn(r,"contentEncoding","base64",n.message,t);break}case"pattern:zod":{Vc(r,sh.base64,n.message,t);break}}break}case"nanoid":Vc(r,sh.nanoid,n.message,t);case"toLowerCase":case"toUpperCase":case"trim":break;default:}return r}function db(e,t){return t.patternStrategy==="escape"?UL(e):e}var FL=new Set("ABCDEFGHIJKLMNOPQRSTUVXYZabcdefghijklmnopqrstuvxyz0123456789");function UL(e){let t="";for(let r=0;r<e.length;r++)FL.has(e[r])||(t+="\\"),t+=e[r];return t}function uh(e,t,r,n){var i;e.format||(i=e.anyOf)!=null&&i.some(a=>a.format)?(e.anyOf||(e.anyOf=[]),e.format&&(e.anyOf.push({format:e.format,...e.errorMessage&&n.errorMessages&&{errorMessage:{format:e.errorMessage.format}}}),delete e.format,e.errorMessage&&(delete e.errorMessage.format,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.anyOf.push({format:t,...r&&n.errorMessages&&{errorMessage:{format:r}}})):vn(e,"format",t,r,n)}function Vc(e,t,r,n){var i;e.pattern||(i=e.allOf)!=null&&i.some(a=>a.pattern)?(e.allOf||(e.allOf=[]),e.pattern&&(e.allOf.push({pattern:e.pattern,...e.errorMessage&&n.errorMessages&&{errorMessage:{pattern:e.errorMessage.pattern}}}),delete e.pattern,e.errorMessage&&(delete e.errorMessage.pattern,Object.keys(e.errorMessage).length===0&&delete e.errorMessage)),e.allOf.push({pattern:DN(t,n),...r&&n.errorMessages&&{errorMessage:{pattern:r}}})):vn(e,"pattern",DN(t,n),r,n)}function DN(e,t){var h;if(!t.applyRegexFlags||!e.flags)return e.source;let r={i:e.flags.includes("i"),m:e.flags.includes("m"),s:e.flags.includes("s")},n=r.i?e.source.toLowerCase():e.source,i="",a=!1,s=!1,f=!1;for(let y=0;y<n.length;y++){if(a){i+=n[y],a=!1;continue}if(r.i){if(s){if(n[y].match(/[a-z]/)){f?(i+=n[y],i+=`${n[y-2]}-${n[y]}`.toUpperCase(),f=!1):n[y+1]==="-"&&((h=n[y+2])!=null&&h.match(/[a-z]/))?(i+=n[y],f=!0):i+=`${n[y]}${n[y].toUpperCase()}`;continue}}else if(n[y].match(/[a-z]/)){i+=`[${n[y]}${n[y].toUpperCase()}]`;continue}}if(r.m){if(n[y]==="^"){i+=`(^|(?<=[\r
]))`;continue}else if(n[y]==="$"){i+=`($|(?=[\r
]))`;continue}}if(r.s&&n[y]==="."){i+=s?`${n[y]}\r
`:`[${n[y]}\r
]`;continue}i+=n[y],n[y]==="\\"?a=!0:s&&n[y]==="]"?s=!1:!s&&n[y]==="["&&(s=!0)}try{new RegExp(i)}catch{return console.warn(`Could not convert regex pattern at ${t.currentPath.join("/")} to a flag-independent form! Falling back to the flag-ignorant source`),e.source}return i}function Q0(e,t){var n,i,a,s,f,h;if(t.target==="openAi"&&console.warn("Warning: OpenAI may not support records in schemas! Try an array of key-value pairs instead."),t.target==="openApi3"&&((n=e.keyType)==null?void 0:n._def.typeName)===et.ZodEnum)return{type:"object",required:e.keyType._def.values,properties:e.keyType._def.values.reduce((y,D)=>({...y,[D]:_r(e.valueType._def,{...t,currentPath:[...t.currentPath,"properties",D]})??{}}),{}),additionalProperties:!1};let r={type:"object",additionalProperties:_r(e.valueType._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??{}};if(t.target==="openApi3")return r;if(((i=e.keyType)==null?void 0:i._def.typeName)===et.ZodString&&((a=e.keyType._def.checks)!=null&&a.length)){let{type:y,...D}=X0(e.keyType._def,t);return{...r,propertyNames:D}}else{if(((s=e.keyType)==null?void 0:s._def.typeName)===et.ZodEnum)return{...r,propertyNames:{enum:e.keyType._def.values}};if(((f=e.keyType)==null?void 0:f._def.typeName)===et.ZodBranded&&e.keyType._def.type._def.typeName===et.ZodString&&((h=e.keyType._def.type._def.checks)!=null&&h.length)){let{type:y,...D}=Z0(e.keyType._def,t);return{...r,propertyNames:D}}}return r}function TN(e,t){if(t.mapStrategy==="record")return Q0(e,t);let r=_r(e.keyType._def,{...t,currentPath:[...t.currentPath,"items","items","0"]})||{},n=_r(e.valueType._def,{...t,currentPath:[...t.currentPath,"items","items","1"]})||{};return{type:"array",maxItems:125,items:{type:"array",items:[r,n],minItems:2,maxItems:2}}}function AN(e){let t=e.values,n=Object.keys(e.values).filter(a=>typeof t[t[a]]!="number").map(a=>t[a]),i=Array.from(new Set(n.map(a=>typeof a)));return{type:i.length===1?i[0]==="string"?"string":"number":["string","number"],enum:n}}function NN(){return{not:{}}}function CN(e){return e.target==="openApi3"?{enum:["null"],nullable:!0}:{type:"null"}}var T_={ZodString:"string",ZodNumber:"number",ZodBigInt:"integer",ZodBoolean:"boolean",ZodNull:"null"};function xN(e,t){if(t.target==="openApi3")return IN(e,t);let r=e.options instanceof Map?Array.from(e.options.values()):e.options;if(r.every(n=>n._def.typeName in T_&&(!n._def.checks||!n._def.checks.length))){let n=r.reduce((i,a)=>{let s=T_[a._def.typeName];return s&&!i.includes(s)?[...i,s]:i},[]);return{type:n.length>1?n:n[0]}}else if(r.every(n=>n._def.typeName==="ZodLiteral"&&!n.description)){let n=r.reduce((i,a)=>{let s=typeof a._def.value;switch(s){case"string":case"number":case"boolean":return[...i,s];case"bigint":return[...i,"integer"];case"object":if(a._def.value===null)return[...i,"null"];case"symbol":case"undefined":case"function":default:return i}},[]);if(n.length===r.length){let i=n.filter((a,s,f)=>f.indexOf(a)===s);return{type:i.length>1?i:i[0],enum:r.reduce((a,s)=>a.includes(s._def.value)?a:[...a,s._def.value],[])}}}else if(r.every(n=>n._def.typeName==="ZodEnum"))return{type:"string",enum:r.reduce((n,i)=>[...n,...i._def.values.filter(a=>!n.includes(a))],[])};return IN(e,t)}var IN=(e,t)=>{let r=(e.options instanceof Map?Array.from(e.options.values()):e.options).map((n,i)=>_r(n._def,{...t,currentPath:[...t.currentPath,"anyOf",`${i}`]})).filter(n=>!!n&&(!t.strictUnions||typeof n=="object"&&Object.keys(n).length>0));return r.length?{anyOf:r}:void 0};function PN(e,t){if(["ZodString","ZodNumber","ZodBigInt","ZodBoolean","ZodNull"].includes(e.innerType._def.typeName)&&(!e.innerType._def.checks||!e.innerType._def.checks.length))return t.target==="openApi3"?{type:T_[e.innerType._def.typeName],nullable:!0}:{type:[T_[e.innerType._def.typeName],"null"]};if(t.target==="openApi3"){let n=_r(e.innerType._def,{...t,currentPath:[...t.currentPath]});return n&&"$ref"in n?{allOf:[n],nullable:!0}:n&&{...n,nullable:!0}}let r=_r(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","0"]});return r&&{anyOf:[r,{type:"null"}]}}function RN(e,t){let r={type:"number"};if(!e.checks)return r;for(let n of e.checks)switch(n.kind){case"int":r.type="integer",cb(r,"type",n.message,t);break;case"min":t.target==="jsonSchema7"?n.inclusive?vn(r,"minimum",n.value,n.message,t):vn(r,"exclusiveMinimum",n.value,n.message,t):(n.inclusive||(r.exclusiveMinimum=!0),vn(r,"minimum",n.value,n.message,t));break;case"max":t.target==="jsonSchema7"?n.inclusive?vn(r,"maximum",n.value,n.message,t):vn(r,"exclusiveMaximum",n.value,n.message,t):(n.inclusive||(r.exclusiveMaximum=!0),vn(r,"maximum",n.value,n.message,t));break;case"multipleOf":vn(r,"multipleOf",n.value,n.message,t);break}return r}function BL(e,t){return t.removeAdditionalStrategy==="strict"?e.catchall._def.typeName==="ZodNever"?e.unknownKeys!=="strict":_r(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0:e.catchall._def.typeName==="ZodNever"?e.unknownKeys==="passthrough":_r(e.catchall._def,{...t,currentPath:[...t.currentPath,"additionalProperties"]})??!0}function kN(e,t){let r=t.target==="openAi",n={type:"object",...Object.entries(e.shape()).reduce((i,[a,s])=>{if(s===void 0||s._def===void 0)return i;let f=s.isOptional();f&&r&&(s instanceof Yf&&(s=s._def.innerType),s.isNullable()||(s=s.nullable()),f=!1);let h=_r(s._def,{...t,currentPath:[...t.currentPath,"properties",a],propertyPath:[...t.currentPath,"properties",a]});return h===void 0?i:{properties:{...i.properties,[a]:h},required:f?i.required:[...i.required,a]}},{properties:{},required:[]}),additionalProperties:BL(e,t)};return n.required.length||delete n.required,n}var ON=(e,t)=>{var n;if(t.currentPath.toString()===((n=t.propertyPath)==null?void 0:n.toString()))return _r(e.innerType._def,t);let r=_r(e.innerType._def,{...t,currentPath:[...t.currentPath,"anyOf","1"]});return r?{anyOf:[{not:{}},r]}:{}};var MN=(e,t)=>{if(t.pipeStrategy==="input")return _r(e.in._def,t);if(t.pipeStrategy==="output")return _r(e.out._def,t);let r=_r(e.in._def,{...t,currentPath:[...t.currentPath,"allOf","0"]}),n=_r(e.out._def,{...t,currentPath:[...t.currentPath,"allOf",r?"1":"0"]});return{allOf:[r,n].filter(i=>i!==void 0)}};function LN(e,t){return _r(e.type._def,t)}function FN(e,t){let n={type:"array",uniqueItems:!0,items:_r(e.valueType._def,{...t,currentPath:[...t.currentPath,"items"]})};return e.minSize&&vn(n,"minItems",e.minSize.value,e.minSize.message,t),e.maxSize&&vn(n,"maxItems",e.maxSize.value,e.maxSize.message,t),n}function UN(e,t){return e.rest?{type:"array",minItems:e.items.length,items:e.items.map((r,n)=>_r(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[]),additionalItems:_r(e.rest._def,{...t,currentPath:[...t.currentPath,"additionalItems"]})}:{type:"array",minItems:e.items.length,maxItems:e.items.length,items:e.items.map((r,n)=>_r(r._def,{...t,currentPath:[...t.currentPath,"items",`${n}`]})).reduce((r,n)=>n===void 0?r:[...r,n],[])}}function BN(){return{not:{}}}function jN(){return{}}var GN=(e,t)=>_r(e.innerType._def,t);function _r(e,t,r=!1){var s;let n=t.seen.get(e);if(t.override){let f=(s=t.override)==null?void 0:s.call(t,e,t,n,r);if(f!==lN)return f}if(n&&!r){let f=jL(n,t);if(f!==void 0)return f}let i={def:e,path:t.currentPath,jsonSchema:void 0};t.seen.set(e,i);let a=qL(e,e.typeName,t);return a&&YL(e,t,a),i.jsonSchema=a,a}var jL=(e,t)=>{switch(t.$refStrategy){case"root":return{$ref:e.path.join("/")};case"relative":return{$ref:GL(t.currentPath,e.path)};case"none":case"seen":return e.path.length<t.currentPath.length&&e.path.every((r,n)=>t.currentPath[n]===r)?(console.warn(`Recursive reference detected at ${t.currentPath.join("/")}! Defaulting to any`),{}):t.$refStrategy==="seen"?{}:void 0}},GL=(e,t)=>{let r=0;for(;r<e.length&&r<t.length&&e[r]===t[r];r++);return[(e.length-r).toString(),...t.slice(r)].join("/")},qL=(e,t,r)=>{switch(t){case et.ZodString:return X0(e,r);case et.ZodNumber:return RN(e,r);case et.ZodObject:return kN(e,r);case et.ZodBigInt:return mN(e,r);case et.ZodBoolean:return gN();case et.ZodDate:return fb(e,r);case et.ZodUndefined:return BN();case et.ZodNull:return CN(r);case et.ZodArray:return vN(e,r);case et.ZodUnion:case et.ZodDiscriminatedUnion:return xN(e,r);case et.ZodIntersection:return bN(e,r);case et.ZodTuple:return UN(e,r);case et.ZodRecord:return Q0(e,r);case et.ZodLiteral:return SN(e,r);case et.ZodEnum:return wN(e);case et.ZodNativeEnum:return AN(e);case et.ZodNullable:return PN(e,r);case et.ZodOptional:return ON(e,r);case et.ZodMap:return TN(e,r);case et.ZodSet:return FN(e,r);case et.ZodLazy:return _r(e.getter()._def,r);case et.ZodPromise:return LN(e,r);case et.ZodNaN:case et.ZodNever:return NN();case et.ZodEffects:return EN(e,r);case et.ZodAny:return hN();case et.ZodUnknown:return jN();case et.ZodDefault:return _N(e,r);case et.ZodBranded:return Z0(e,r);case et.ZodReadonly:return GN(e,r);case et.ZodCatch:return yN(e,r);case et.ZodPipeline:return MN(e,r);case et.ZodFunction:case et.ZodVoid:case et.ZodSymbol:return;default:return(n=>{})(t)}},YL=(e,t,r)=>(e.description&&(r.description=e.description,t.markdownDescription&&(r.markdownDescription=e.description)),r);var qN=(e,t)=>{let r=pN(t),n=typeof t=="object"&&t.definitions?Object.entries(t.definitions).reduce((h,[y,D])=>({...h,[y]:_r(D._def,{...r,currentPath:[...r.basePath,r.definitionPath,y]},!0)??{}}),{}):void 0,i=typeof t=="string"?t:(t==null?void 0:t.nameStrategy)==="title"||t==null?void 0:t.name,a=_r(e._def,i===void 0?r:{...r,currentPath:[...r.basePath,r.definitionPath,i]},!1)??{},s=typeof t=="object"&&t.name!==void 0&&t.nameStrategy==="title"?t.name:void 0;s!==void 0&&(a.title=s);let f=i===void 0?n?{...a,[r.definitionPath]:n}:a:{$ref:[...r.$refStrategy==="relative"?[]:r.basePath,r.definitionPath,i].join("/"),[r.definitionPath]:{...n,[i]:a}};return r.target==="jsonSchema7"?f.$schema="http://json-schema.org/draft-07/schema#":(r.target==="jsonSchema2019-09"||r.target==="openAi")&&(f.$schema="https://json-schema.org/draft/2019-09/schema#"),r.target==="openAi"&&("anyOf"in f||"oneOf"in f||"allOf"in f||"type"in f&&Array.isArray(f.type))&&console.warn("Warning: OpenAI may not support schemas with unions as roots! Try wrapping it in an object property."),f};var YN=qN;var A_={code:"0",name:"text",parse:e=>{if(typeof e!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},N_={code:"3",name:"error",parse:e=>{if(typeof e!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},C_={code:"4",name:"assistant_message",parse:e=>{if(e==null||typeof e!="object"||!("id"in e)||!("role"in e)||!("content"in e)||typeof e.id!="string"||typeof e.role!="string"||e.role!=="assistant"||!Array.isArray(e.content)||!e.content.every(t=>t!=null&&typeof t=="object"&&"type"in t&&t.type==="text"&&"text"in t&&t.text!=null&&typeof t.text=="object"&&"value"in t.text&&typeof t.text.value=="string"))throw new Error('"assistant_message" parts expect an object with an "id", "role", and "content" property.');return{type:"assistant_message",value:e}}},I_={code:"5",name:"assistant_control_data",parse:e=>{if(e==null||typeof e!="object"||!("threadId"in e)||!("messageId"in e)||typeof e.threadId!="string"||typeof e.messageId!="string")throw new Error('"assistant_control_data" parts expect an object with a "threadId" and "messageId" property.');return{type:"assistant_control_data",value:{threadId:e.threadId,messageId:e.messageId}}}},x_={code:"6",name:"data_message",parse:e=>{if(e==null||typeof e!="object"||!("role"in e)||!("data"in e)||typeof e.role!="string"||e.role!=="data")throw new Error('"data_message" parts expect an object with a "role" and "data" property.');return{type:"data_message",value:e}}},zL=[A_,N_,C_,I_,x_],oY={[A_.code]:A_,[N_.code]:N_,[C_.code]:C_,[I_.code]:I_,[x_.code]:x_},sY={[A_.name]:A_.code,[N_.name]:N_.code,[C_.name]:C_.code,[I_.name]:I_.code,[x_.name]:x_.code},uY=zL.map(e=>e.code);function $L(e){let t=["ROOT"],r=-1,n=null;function i(h,y,D){switch(h){case'"':{r=y,t.pop(),t.push(D),t.push("INSIDE_STRING");break}case"f":case"t":case"n":{r=y,n=y,t.pop(),t.push(D),t.push("INSIDE_LITERAL");break}case"-":{t.pop(),t.push(D),t.push("INSIDE_NUMBER");break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{r=y,t.pop(),t.push(D),t.push("INSIDE_NUMBER");break}case"{":{r=y,t.pop(),t.push(D),t.push("INSIDE_OBJECT_START");break}case"[":{r=y,t.pop(),t.push(D),t.push("INSIDE_ARRAY_START");break}}}function a(h,y){switch(h){case",":{t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{r=y,t.pop();break}}}function s(h,y){switch(h){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{r=y,t.pop();break}}}for(let h=0;h<e.length;h++){let y=e[h];switch(t[t.length-1]){case"ROOT":i(y,h,"FINISH");break;case"INSIDE_OBJECT_START":{switch(y){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}case"}":{r=h,t.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch(y){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY");break}}break}case"INSIDE_OBJECT_KEY":{switch(y){case'"':{t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch(y){case":":{t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{i(y,h,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{a(y,h);break}case"INSIDE_STRING":{switch(y){case'"':{t.pop(),r=h;break}case"\\":{t.push("INSIDE_STRING_ESCAPE");break}default:r=h}break}case"INSIDE_ARRAY_START":{switch(y){case"]":{r=h,t.pop();break}default:{r=h,i(y,h,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(y){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA");break}case"]":{r=h,t.pop();break}default:{r=h;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{i(y,h,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{t.pop(),r=h;break}case"INSIDE_NUMBER":{switch(y){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{r=h;break}case"e":case"E":case"-":case".":break;case",":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&s(y,h),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&a(y,h);break}case"}":{t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&a(y,h);break}case"]":{t.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&s(y,h);break}default:{t.pop();break}}break}case"INSIDE_LITERAL":{let x=e.substring(n,h+1);!"false".startsWith(x)&&!"true".startsWith(x)&&!"null".startsWith(x)?(t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?a(y,h):t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&s(y,h)):r=h;break}}}let f=e.slice(0,r+1);for(let h=t.length-1;h>=0;h--)switch(t[h]){case"INSIDE_STRING":{f+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{f+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{f+="]";break}case"INSIDE_LITERAL":{let D=e.substring(n,e.length);"true".startsWith(D)?f+="true".slice(D.length):"false".startsWith(D)?f+="false".slice(D.length):"null".startsWith(D)&&(f+="null".slice(D.length))}}return f}function zN(e){if(e===void 0)return{value:void 0,state:"undefined-input"};let t=ov({text:e});return t.success?{value:t.value,state:"successful-parse"}:(t=ov({text:$L(e)}),t.success?{value:t.value,state:"repaired-parse"}:{value:void 0,state:"failed-parse"})}var P_={code:"0",name:"text",parse:e=>{if(typeof e!="string")throw new Error('"text" parts expect a string value.');return{type:"text",value:e}}},R_={code:"2",name:"data",parse:e=>{if(!Array.isArray(e))throw new Error('"data" parts expect an array value.');return{type:"data",value:e}}},k_={code:"3",name:"error",parse:e=>{if(typeof e!="string")throw new Error('"error" parts expect a string value.');return{type:"error",value:e}}},O_={code:"8",name:"message_annotations",parse:e=>{if(!Array.isArray(e))throw new Error('"message_annotations" parts expect an array value.');return{type:"message_annotations",value:e}}},M_={code:"9",name:"tool_call",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string"||!("args"in e)||typeof e.args!="object")throw new Error('"tool_call" parts expect an object with a "toolCallId", "toolName", and "args" property.');return{type:"tool_call",value:e}}},L_={code:"a",name:"tool_result",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("result"in e))throw new Error('"tool_result" parts expect an object with a "toolCallId" and a "result" property.');return{type:"tool_result",value:e}}},F_={code:"b",name:"tool_call_streaming_start",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("toolName"in e)||typeof e.toolName!="string")throw new Error('"tool_call_streaming_start" parts expect an object with a "toolCallId" and "toolName" property.');return{type:"tool_call_streaming_start",value:e}}},U_={code:"c",name:"tool_call_delta",parse:e=>{if(e==null||typeof e!="object"||!("toolCallId"in e)||typeof e.toolCallId!="string"||!("argsTextDelta"in e)||typeof e.argsTextDelta!="string")throw new Error('"tool_call_delta" parts expect an object with a "toolCallId" and "argsTextDelta" property.');return{type:"tool_call_delta",value:e}}},B_={code:"d",name:"finish_message",parse:e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_message" parts expect an object with a "finishReason" property.');let t={finishReason:e.finishReason};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),{type:"finish_message",value:t}}},j_={code:"e",name:"finish_step",parse:e=>{if(e==null||typeof e!="object"||!("finishReason"in e)||typeof e.finishReason!="string")throw new Error('"finish_step" parts expect an object with a "finishReason" property.');let t={finishReason:e.finishReason,isContinued:!1};return"usage"in e&&e.usage!=null&&typeof e.usage=="object"&&"promptTokens"in e.usage&&"completionTokens"in e.usage&&(t.usage={promptTokens:typeof e.usage.promptTokens=="number"?e.usage.promptTokens:Number.NaN,completionTokens:typeof e.usage.completionTokens=="number"?e.usage.completionTokens:Number.NaN}),"isContinued"in e&&typeof e.isContinued=="boolean"&&(t.isContinued=e.isContinued),{type:"finish_step",value:t}}},$N=[P_,R_,k_,O_,M_,L_,F_,U_,B_,j_],fY={[P_.code]:P_,[R_.code]:R_,[k_.code]:k_,[O_.code]:O_,[M_.code]:M_,[L_.code]:L_,[F_.code]:F_,[U_.code]:U_,[B_.code]:B_,[j_.code]:j_},lY={[P_.name]:P_.code,[R_.name]:R_.code,[k_.name]:k_.code,[O_.name]:O_.code,[M_.name]:M_.code,[L_.name]:L_.code,[F_.name]:F_.code,[U_.name]:U_.code,[B_.name]:B_.code,[j_.name]:j_.code},dY=$N.map(e=>e.code);function sd(e,t){let r=$N.find(n=>n.name===e);if(!r)throw new Error(`Invalid stream part type: ${e}`);return`${r.code}:${JSON.stringify(t)}
`}var pb=Symbol.for("vercel.ai.schema");function VL(e,{validate:t}={}){return{[pb]:!0,_type:void 0,[__]:!0,jsonSchema:e,validate:t}}function WL(e){return typeof e=="object"&&e!==null&&pb in e&&e[pb]===!0&&"jsonSchema"in e&&"validate"in e}function Mg(e){return WL(e)?e:HL(e)}function HL(e){return VL(YN(e),{validate:t=>{let r=e.safeParse(t);return r.success?{success:!0,value:r.data}:{success:!1,error:r.error}}})}var VN=typeof globalThis=="object"?globalThis:global;var om="1.9.0";var WN=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;function KL(e){var t=new Set([e]),r=new Set,n=e.match(WN);if(!n)return function(){return!1};var i={major:+n[1],minor:+n[2],patch:+n[3],prerelease:n[4]};if(i.prerelease!=null)return function(h){return h===e};function a(f){return r.add(f),!1}function s(f){return t.add(f),!0}return function(h){if(t.has(h))return!0;if(r.has(h))return!1;var y=h.match(WN);if(!y)return a(h);var D={major:+y[1],minor:+y[2],patch:+y[3],prerelease:y[4]};return D.prerelease!=null||i.major!==D.major?a(h):i.major===0?i.minor===D.minor&&i.patch<=D.patch?s(h):a(h):i.minor<=D.minor?s(h):a(h)}}var HN=KL(om);var JL=om.split(".")[0],G_=Symbol.for("opentelemetry.js.api."+JL),q_=VN;function xy(e,t,r,n){var i;n===void 0&&(n=!1);var a=q_[G_]=(i=q_[G_])!==null&&i!==void 0?i:{version:om};if(!n&&a[e]){var s=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return r.error(s.stack||s.message),!1}if(a.version!==om){var s=new Error("@opentelemetry/api: Registration of version v"+a.version+" for "+e+" does not match previously registered API v"+om);return r.error(s.stack||s.message),!1}return a[e]=t,r.debug("@opentelemetry/api: Registered a global for "+e+" v"+om+"."),!0}function sm(e){var t,r,n=(t=q_[G_])===null||t===void 0?void 0:t.version;if(!(!n||!HN(n)))return(r=q_[G_])===null||r===void 0?void 0:r[e]}function Py(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+om+".");var r=q_[G_];r&&delete r[e]}var ZL=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(f){s={error:f}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a},XL=function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))},KN=function(){function e(t){this._namespace=t.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Y_("debug",this._namespace,t)},e.prototype.error=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Y_("error",this._namespace,t)},e.prototype.info=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Y_("info",this._namespace,t)},e.prototype.warn=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Y_("warn",this._namespace,t)},e.prototype.verbose=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return Y_("verbose",this._namespace,t)},e}();function Y_(e,t,r){var n=sm("diag");if(n)return r.unshift(t),n[e].apply(n,XL([],ZL(r),!1))}var Wc;(function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"})(Wc||(Wc={}));function JN(e,t){e<Wc.NONE?e=Wc.NONE:e>Wc.ALL&&(e=Wc.ALL),t=t||{};function r(n,i){var a=t[n];return typeof a=="function"&&e>=i?a.bind(t):function(){}}return{error:r("error",Wc.ERROR),warn:r("warn",Wc.WARN),info:r("info",Wc.INFO),debug:r("debug",Wc.DEBUG),verbose:r("verbose",Wc.VERBOSE)}}var QL=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(f){s={error:f}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a},eF=function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))},tF="diag",Ry=function(){function e(){function t(i){return function(){for(var a=[],s=0;s<arguments.length;s++)a[s]=arguments[s];var f=sm("diag");if(f)return f[i].apply(f,eF([],QL(a),!1))}}var r=this,n=function(i,a){var s,f,h;if(a===void 0&&(a={logLevel:Wc.INFO}),i===r){var y=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return r.error((s=y.stack)!==null&&s!==void 0?s:y.message),!1}typeof a=="number"&&(a={logLevel:a});var D=sm("diag"),x=JN((f=a.logLevel)!==null&&f!==void 0?f:Wc.INFO,i);if(D&&!a.suppressOverrideMessage){var L=(h=new Error().stack)!==null&&h!==void 0?h:"<failed to generate stacktrace>";D.warn("Current logger will be overwritten from "+L),x.warn("Current logger will overwrite one already registered from "+L)}return xy("diag",x,r,!0)};r.setLogger=n,r.disable=function(){Py(tF,r)},r.createComponentLogger=function(i){return new KN(i)},r.verbose=t("verbose"),r.debug=t("debug"),r.info=t("info"),r.warn=t("warn"),r.error=t("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}();function ZN(e){return Symbol.for(e)}var rF=function(){function e(t){var r=this;r._currentContext=t?new Map(t):new Map,r.getValue=function(n){return r._currentContext.get(n)},r.setValue=function(n,i){var a=new e(r._currentContext);return a._currentContext.set(n,i),a},r.deleteValue=function(n){var i=new e(r._currentContext);return i._currentContext.delete(n),i}}return e}(),XN=new rF;var nF=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(f){s={error:f}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a},iF=function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))},QN=function(){function e(){}return e.prototype.active=function(){return XN},e.prototype.with=function(t,r,n){for(var i=[],a=3;a<arguments.length;a++)i[a-3]=arguments[a];return r.call.apply(r,iF([n],nF(i),!1))},e.prototype.bind=function(t,r){return r},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}();var aF=function(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),i,a=[],s;try{for(;(t===void 0||t-- >0)&&!(i=n.next()).done;)a.push(i.value)}catch(f){s={error:f}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(s)throw s.error}}return a},oF=function(e,t,r){if(r||arguments.length===2)for(var n=0,i=t.length,a;n<i;n++)(a||!(n in t))&&(a||(a=Array.prototype.slice.call(t,0,n)),a[n]=t[n]);return e.concat(a||Array.prototype.slice.call(t))},hb="context",sF=new QN,eE=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(t){return xy(hb,t,Ry.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(t,r,n){for(var i,a=[],s=3;s<arguments.length;s++)a[s-3]=arguments[s];return(i=this._getContextManager()).with.apply(i,oF([t,r,n],aF(a),!1))},e.prototype.bind=function(t,r){return this._getContextManager().bind(t,r)},e.prototype._getContextManager=function(){return sm(hb)||sF},e.prototype.disable=function(){this._getContextManager().disable(),Py(hb,Ry.instance())},e}();var tE;(function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"})(tE||(tE={}));var vb="0000000000000000",mb="00000000000000000000000000000000",eC={traceId:mb,spanId:vb,traceFlags:tE.NONE};var Jm=function(){function e(t){t===void 0&&(t=eC),this._spanContext=t}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(t,r){return this},e.prototype.setAttributes=function(t){return this},e.prototype.addEvent=function(t,r){return this},e.prototype.addLink=function(t){return this},e.prototype.addLinks=function(t){return this},e.prototype.setStatus=function(t){return this},e.prototype.updateName=function(t){return this},e.prototype.end=function(t){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(t,r){},e}();var gb=ZN("OpenTelemetry Context Key SPAN");function rE(e){return e.getValue(gb)||void 0}function tC(){return rE(eE.getInstance().active())}function z_(e,t){return e.setValue(gb,t)}function rC(e){return e.deleteValue(gb)}function nC(e,t){return z_(e,new Jm(t))}function nE(e){var t;return(t=rE(e))===null||t===void 0?void 0:t.spanContext()}var uF=/^([0-9a-f]{32})$/i,cF=/^[0-9a-f]{16}$/i;function fF(e){return uF.test(e)&&e!==mb}function lF(e){return cF.test(e)&&e!==vb}function iE(e){return fF(e.traceId)&&lF(e.spanId)}function iC(e){return new Jm(e)}var yb=eE.getInstance(),aE=function(){function e(){}return e.prototype.startSpan=function(t,r,n){n===void 0&&(n=yb.active());var i=!!(r!=null&&r.root);if(i)return new Jm;var a=n&&nE(n);return dF(a)&&iE(a)?new Jm(a):new Jm},e.prototype.startActiveSpan=function(t,r,n,i){var a,s,f;if(!(arguments.length<2)){arguments.length===2?f=r:arguments.length===3?(a=r,f=n):(a=r,s=n,f=i);var h=s??yb.active(),y=this.startSpan(t,a,h),D=z_(h,y);return yb.with(D,f,void 0,y)}},e}();function dF(e){return typeof e=="object"&&typeof e.spanId=="string"&&typeof e.traceId=="string"&&typeof e.traceFlags=="number"}var pF=new aE,aC=function(){function e(t,r,n,i){this._provider=t,this.name=r,this.version=n,this.options=i}return e.prototype.startSpan=function(t,r,n){return this._getTracer().startSpan(t,r,n)},e.prototype.startActiveSpan=function(t,r,n,i){var a=this._getTracer();return Reflect.apply(a.startActiveSpan,a,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var t=this._provider.getDelegateTracer(this.name,this.version,this.options);return t?(this._delegate=t,this._delegate):pF},e}();var oC=function(){function e(){}return e.prototype.getTracer=function(t,r,n){return new aE},e}();var hF=new oC,_b=function(){function e(){}return e.prototype.getTracer=function(t,r,n){var i;return(i=this.getDelegateTracer(t,r,n))!==null&&i!==void 0?i:new aC(this,t,r,n)},e.prototype.getDelegate=function(){var t;return(t=this._delegate)!==null&&t!==void 0?t:hF},e.prototype.setDelegate=function(t){this._delegate=t},e.prototype.getDelegateTracer=function(t,r,n){var i;return(i=this._delegate)===null||i===void 0?void 0:i.getTracer(t,r,n)},e}();var ky;(function(e){e[e.UNSET=0]="UNSET",e[e.OK=1]="OK",e[e.ERROR=2]="ERROR"})(ky||(ky={}));var Eb="trace",sC=function(){function e(){this._proxyTracerProvider=new _b,this.wrapSpanContext=iC,this.isSpanContextValid=iE,this.deleteSpan=rC,this.getSpan=rE,this.getActiveSpan=tC,this.getSpanContext=nE,this.setSpan=z_,this.setSpanContext=nC}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(t){var r=xy(Eb,this._proxyTracerProvider,Ry.instance());return r&&this._proxyTracerProvider.setDelegate(t),r},e.prototype.getTracerProvider=function(){return sm(Eb)||this._proxyTracerProvider},e.prototype.getTracer=function(t,r){return this.getTracerProvider().getTracer(t,r)},e.prototype.disable=function(){Py(Eb,Ry.instance()),this._proxyTracerProvider=new _b},e}();var wb=sC.getInstance();var vF=Object.defineProperty,Cb=(e,t)=>{for(var r in t)vF(e,r,{get:t[r],enumerable:!0})};function sE(e,{contentType:t,dataStreamVersion:r}){let n=new Headers(e??{});return n.has("Content-Type")||n.set("Content-Type",t),r!==void 0&&n.set("X-Vercel-AI-Data-Stream",r),n}function uC(e,{contentType:t,dataStreamVersion:r}){let n={};if(e!=null)for(let[i,a]of Object.entries(e))n[i]=a;return n["Content-Type"]==null&&(n["Content-Type"]=t),r!==void 0&&(n["X-Vercel-AI-Data-Stream"]=r),n}function cC({response:e,status:t,statusText:r,headers:n,stream:i}){e.writeHead(t??200,r,n);let a=i.getReader();(async()=>{try{for(;;){let{done:f,value:h}=await a.read();if(f)break;e.write(h)}}catch(f){throw f}finally{e.end()}})()}var yC="AI_InvalidArgumentError",_C=`vercel.ai.error.${yC}`,mF=Symbol.for(_C),EC,ch=class extends Ht{constructor({parameter:e,value:t,message:r}){super({name:yC,message:`Invalid argument for parameter ${e}: ${r}`}),this[EC]=!0,this.parameter=e,this.value=t}static isInstance(e){return Ht.hasMarker(e,_C)}};EC=mF;async function gF(e){return e===void 0?Promise.resolve():new Promise(t=>setTimeout(t,e))}var wC="AI_RetryError",bC=`vercel.ai.error.${wC}`,yF=Symbol.for(bC),SC,fC=class extends Ht{constructor({message:e,reason:t,errors:r}){super({name:wC,message:e}),this[SC]=!0,this.reason=t,this.errors=r,this.lastError=r[r.length-1]}static isInstance(e){return Ht.hasMarker(e,bC)}};SC=yF;var _F=({maxRetries:e=2,initialDelayInMs:t=2e3,backoffFactor:r=2}={})=>async n=>DC(n,{maxRetries:e,delayInMs:t,backoffFactor:r});async function DC(e,{maxRetries:t,delayInMs:r,backoffFactor:n},i=[]){try{return await e()}catch(a){if(y_(a)||t===0)throw a;let s=FA(a),f=[...i,a],h=f.length;if(h>t)throw new fC({message:`Failed after ${h} attempts. Last error: ${s}`,reason:"maxRetriesExceeded",errors:f});if(a instanceof Error&&nd.isInstance(a)&&a.isRetryable===!0&&h<=t)return await gF(r),DC(e,{maxRetries:t,delayInMs:n*r,backoffFactor:n},f);throw h===1?a:new fC({message:`Failed after ${h} attempts with non-retryable error: '${s}'`,reason:"errorNotRetryable",errors:f})}}function EF({maxRetries:e}){if(e!=null){if(!Number.isInteger(e))throw new ch({parameter:"maxRetries",value:e,message:"maxRetries must be an integer"});if(e<0)throw new ch({parameter:"maxRetries",value:e,message:"maxRetries must be >= 0"})}let t=e??2;return{maxRetries:t,retry:_F({maxRetries:t})}}function Db({operationId:e,telemetry:t}){return{"operation.name":`${e}${(t==null?void 0:t.functionId)!=null?` ${t.functionId}`:""}`,"resource.name":t==null?void 0:t.functionId,"ai.operationId":e,"ai.telemetry.functionId":t==null?void 0:t.functionId}}function wF({model:e,settings:t,telemetry:r,headers:n}){var i;return{"ai.model.provider":e.provider,"ai.model.id":e.modelId,...Object.entries(t).reduce((a,[s,f])=>(a[`ai.settings.${s}`]=f,a),{}),...Object.entries((i=r==null?void 0:r.metadata)!=null?i:{}).reduce((a,[s,f])=>(a[`ai.telemetry.metadata.${s}`]=f,a),{}),...Object.entries(n??{}).reduce((a,[s,f])=>(f!==void 0&&(a[`ai.request.headers.${s}`]=f),a),{})}}var bF={startSpan(){return oE},startActiveSpan(e,t,r,n){if(typeof t=="function")return t(oE);if(typeof r=="function")return r(oE);if(typeof n=="function")return n(oE)}},oE={spanContext(){return SF},setAttribute(){return this},setAttributes(){return this},addEvent(){return this},addLink(){return this},addLinks(){return this},setStatus(){return this},updateName(){return this},end(){return this},isRecording(){return!1},recordException(){return this}},SF={traceId:"",spanId:"",traceFlags:0};function DF({isEnabled:e=!1,tracer:t}={}){return e?t||wb.getTracer("ai"):bF}function Tb({name:e,tracer:t,attributes:r,fn:n,endWhenDone:i=!0}){return t.startActiveSpan(e,{attributes:r},async a=>{try{let s=await n(a);return i&&a.end(),s}catch(s){try{s instanceof Error?(a.recordException({name:s.name,message:s.message,stack:s.stack}),a.setStatus({code:ky.ERROR,message:s.message})):a.setStatus({code:ky.ERROR})}finally{a.end()}throw s}})}function Oy({telemetry:e,attributes:t}){return(e==null?void 0:e.isEnabled)!==!0?{}:Object.entries(t).reduce((r,[n,i])=>{if(i===void 0)return r;if(typeof i=="object"&&"input"in i&&typeof i.input=="function"){if((e==null?void 0:e.recordInputs)===!1)return r;let a=i.input();return a===void 0?r:{...r,[n]:a}}if(typeof i=="object"&&"output"in i&&typeof i.output=="function"){if((e==null?void 0:e.recordOutputs)===!1)return r;let a=i.output();return a===void 0?r:{...r,[n]:a}}return{...r,[n]:i}},{})}var TC="AI_NoObjectGeneratedError",AC=`vercel.ai.error.${TC}`,TF=Symbol.for(AC),NC,lC=class extends Ht{constructor({message:e="No object generated.",cause:t,text:r,response:n,usage:i}){super({name:TC,message:e,cause:t}),this[NC]=!0,this.text=r,this.response=n,this.usage=i}static isInstance(e){return Ht.hasMarker(e,AC)}};NC=TF;var CC="AI_DownloadError",IC=`vercel.ai.error.${CC}`,AF=Symbol.for(IC),xC,bb=class extends Ht{constructor({url:e,statusCode:t,statusText:r,cause:n,message:i=n==null?`Failed to download ${e}: ${t} ${r}`:`Failed to download ${e}: ${n}`}){super({name:CC,message:i,cause:n}),this[xC]=!0,this.url=e,this.statusCode=t,this.statusText=r}static isInstance(e){return Ht.hasMarker(e,IC)}};xC=AF;async function NF({url:e,fetchImplementation:t=fetch}){var r;let n=e.toString();try{let i=await t(n);if(!i.ok)throw new bb({url:n,statusCode:i.status,statusText:i.statusText});return{data:new Uint8Array(await i.arrayBuffer()),mimeType:(r=i.headers.get("content-type"))!=null?r:void 0}}catch(i){throw bb.isInstance(i)?i:new bb({url:n,cause:i})}}var CF=[{mimeType:"image/gif",bytes:[71,73,70]},{mimeType:"image/png",bytes:[137,80,78,71]},{mimeType:"image/jpeg",bytes:[255,216]},{mimeType:"image/webp",bytes:[82,73,70,70]}];function IF(e){for(let{bytes:t,mimeType:r}of CF)if(e.length>=t.length&&t.every((n,i)=>e[i]===n))return r}var PC="AI_InvalidDataContentError",RC=`vercel.ai.error.${PC}`,xF=Symbol.for(RC),kC,dC=class extends Ht{constructor({content:e,cause:t,message:r=`Invalid data content. Expected a base64 string, Uint8Array, ArrayBuffer, or Buffer, but got ${typeof e}.`}){super({name:PC,message:r,cause:t}),this[kC]=!0,this.content=e}static isInstance(e){return Ht.hasMarker(e,RC)}};kC=xF;var OC=M.union([M.string(),M.instanceof(Uint8Array),M.instanceof(ArrayBuffer),M.custom(e=>{var t,r;return(r=(t=globalThis.Buffer)==null?void 0:t.isBuffer(e))!=null?r:!1},{message:"Must be a Buffer"})]);function PF(e){return typeof e=="string"?e:e instanceof ArrayBuffer?yg(new Uint8Array(e)):yg(e)}function uE(e){if(e instanceof Uint8Array)return e;if(typeof e=="string")try{return BA(e)}catch(t){throw new dC({message:"Invalid data content. Content string is not a base64-encoded media.",content:e,cause:t})}if(e instanceof ArrayBuffer)return new Uint8Array(e);throw new dC({content:e})}function RF(e){try{return new TextDecoder().decode(e)}catch{throw new Error("Error decoding Uint8Array to text")}}var MC="AI_InvalidMessageRoleError",LC=`vercel.ai.error.${MC}`,kF=Symbol.for(LC),FC,OF=class extends Ht{constructor({role:e,message:t=`Invalid message role: '${e}'. Must be one of: "system", "user", "assistant", "tool".`}){super({name:MC,message:t}),this[FC]=!0,this.role=e}static isInstance(e){return Ht.hasMarker(e,LC)}};FC=kF;function MF(e){try{let[t,r]=e.split(",");return{mimeType:t.split(";")[0].split(":")[1],base64Content:r}}catch{return{mimeType:void 0,base64Content:void 0}}}async function LF({prompt:e,modelSupportsImageUrls:t=!0,modelSupportsUrl:r=()=>!1,downloadImplementation:n=NF}){let i=await UF(e.messages,n,t,r);return[...e.system!=null?[{role:"system",content:e.system}]:[],...e.messages.map(a=>FF(a,i))]}function FF(e,t){let r=e.role;switch(r){case"system":return{role:"system",content:e.content,providerMetadata:e.experimental_providerMetadata};case"user":return typeof e.content=="string"?{role:"user",content:[{type:"text",text:e.content}],providerMetadata:e.experimental_providerMetadata}:{role:"user",content:e.content.map(n=>BF(n,t)).filter(n=>n.type!=="text"||n.text!==""),providerMetadata:e.experimental_providerMetadata};case"assistant":return typeof e.content=="string"?{role:"assistant",content:[{type:"text",text:e.content}],providerMetadata:e.experimental_providerMetadata}:{role:"assistant",content:e.content.filter(n=>n.type!=="text"||n.text!=="").map(n=>{let{experimental_providerMetadata:i,...a}=n;return{...a,providerMetadata:i}}),providerMetadata:e.experimental_providerMetadata};case"tool":return{role:"tool",content:e.content.map(n=>({type:"tool-result",toolCallId:n.toolCallId,toolName:n.toolName,result:n.result,content:n.experimental_content,isError:n.isError,providerMetadata:n.experimental_providerMetadata})),providerMetadata:e.experimental_providerMetadata};default:{let n=r;throw new OF({role:n})}}}async function UF(e,t,r,n){let i=e.filter(s=>s.role==="user").map(s=>s.content).filter(s=>Array.isArray(s)).flat().filter(s=>s.type==="image"||s.type==="file").filter(s=>!(s.type==="image"&&r===!0)).map(s=>s.type==="image"?s.image:s.data).map(s=>typeof s=="string"&&(s.startsWith("http:")||s.startsWith("https:"))?new URL(s):s).filter(s=>s instanceof URL).filter(s=>!n(s)),a=await Promise.all(i.map(async s=>({url:s,data:await t({url:s})})));return Object.fromEntries(a.map(({url:s,data:f})=>[s.toString(),f]))}function BF(e,t){var r;if(e.type==="text")return{type:"text",text:e.text,providerMetadata:e.experimental_providerMetadata};let n=e.mimeType,i,a,s,f=e.type;switch(f){case"image":i=e.image;break;case"file":i=e.data;break;default:throw new Error(`Unsupported part type: ${f}`)}try{a=typeof i=="string"?new URL(i):i}catch{a=i}if(a instanceof URL)if(a.protocol==="data:"){let{mimeType:h,base64Content:y}=MF(a.toString());if(h==null||y==null)throw new Error(`Invalid data URL format in part ${f}`);n=h,s=uE(y)}else{let h=t[a.toString()];h?(s=h.data,n??(n=h.mimeType)):s=a}else s=uE(a);switch(f){case"image":return s instanceof Uint8Array&&(n=(r=IF(s))!=null?r:n),{type:"image",image:s,mimeType:n,providerMetadata:e.experimental_providerMetadata};case"file":{if(n==null)throw new Error("Mime type is missing for file part");return{type:"file",data:s instanceof Uint8Array?PF(s):s,mimeType:n,providerMetadata:e.experimental_providerMetadata}}}}function jF({maxTokens:e,temperature:t,topP:r,topK:n,presencePenalty:i,frequencyPenalty:a,stopSequences:s,seed:f}){if(e!=null){if(!Number.isInteger(e))throw new ch({parameter:"maxTokens",value:e,message:"maxTokens must be an integer"});if(e<1)throw new ch({parameter:"maxTokens",value:e,message:"maxTokens must be >= 1"})}if(t!=null&&typeof t!="number")throw new ch({parameter:"temperature",value:t,message:"temperature must be a number"});if(r!=null&&typeof r!="number")throw new ch({parameter:"topP",value:r,message:"topP must be a number"});if(n!=null&&typeof n!="number")throw new ch({parameter:"topK",value:n,message:"topK must be a number"});if(i!=null&&typeof i!="number")throw new ch({parameter:"presencePenalty",value:i,message:"presencePenalty must be a number"});if(a!=null&&typeof a!="number")throw new ch({parameter:"frequencyPenalty",value:a,message:"frequencyPenalty must be a number"});if(f!=null&&!Number.isInteger(f))throw new ch({parameter:"seed",value:f,message:"seed must be an integer"});return{maxTokens:e,temperature:t??0,topP:r,topK:n,presencePenalty:i,frequencyPenalty:a,stopSequences:s!=null&&s.length>0?s:void 0,seed:f}}var Ab=M.lazy(()=>M.union([M.null(),M.string(),M.number(),M.boolean(),M.record(M.string(),Ab),M.array(Ab)])),Zm=M.record(M.string(),M.record(M.string(),Ab)),GF=M.array(M.union([M.object({type:M.literal("text"),text:M.string()}),M.object({type:M.literal("image"),data:M.string(),mimeType:M.string().optional()})])),UC=M.object({type:M.literal("text"),text:M.string(),experimental_providerMetadata:Zm.optional()}),qF=M.object({type:M.literal("image"),image:M.union([OC,M.instanceof(URL)]),mimeType:M.string().optional(),experimental_providerMetadata:Zm.optional()}),YF=M.object({type:M.literal("file"),data:M.union([OC,M.instanceof(URL)]),mimeType:M.string(),experimental_providerMetadata:Zm.optional()}),zF=M.object({type:M.literal("tool-call"),toolCallId:M.string(),toolName:M.string(),args:M.unknown()}),$F=M.object({type:M.literal("tool-result"),toolCallId:M.string(),toolName:M.string(),result:M.unknown(),content:GF.optional(),isError:M.boolean().optional(),experimental_providerMetadata:Zm.optional()}),VF=M.object({role:M.literal("system"),content:M.string(),experimental_providerMetadata:Zm.optional()}),WF=M.object({role:M.literal("user"),content:M.union([M.string(),M.array(M.union([UC,qF,YF]))]),experimental_providerMetadata:Zm.optional()}),HF=M.object({role:M.literal("assistant"),content:M.union([M.string(),M.array(M.union([UC,zF]))]),experimental_providerMetadata:Zm.optional()}),KF=M.object({role:M.literal("tool"),content:M.array($F),experimental_providerMetadata:Zm.optional()}),JF=M.union([VF,WF,HF,KF]);function ZF(e){if(!Array.isArray(e))return"other";if(e.length===0)return"messages";let t=e.map(XF);return t.some(r=>r==="has-ui-specific-parts")?"ui-messages":t.every(r=>r==="has-core-specific-parts"||r==="message")?"messages":"other"}function XF(e){return typeof e=="object"&&e!==null&&(e.role==="function"||e.role==="data"||"toolInvocations"in e||"experimental_attachments"in e)?"has-ui-specific-parts":typeof e=="object"&&e!==null&&"content"in e&&(Array.isArray(e.content)||"experimental_providerMetadata"in e)?"has-core-specific-parts":typeof e=="object"&&e!==null&&"role"in e&&"content"in e&&typeof e.content=="string"&&["system","user","assistant","tool"].includes(e.role)?"message":"other"}function QF(e){var t,r,n;let i=[];for(let a of e){let s;try{s=new URL(a.url)}catch{throw new Error(`Invalid URL: ${a.url}`)}switch(s.protocol){case"http:":case"https:":{if((t=a.contentType)!=null&&t.startsWith("image/"))i.push({type:"image",image:s});else{if(!a.contentType)throw new Error("If the attachment is not an image, it must specify a content type");i.push({type:"file",data:s,mimeType:a.contentType})}break}case"data:":{let f,h,y;try{[f,h]=a.url.split(","),y=f.split(";")[0].split(":")[1]}catch{throw new Error(`Error processing data URL: ${a.url}`)}if(y==null||h==null)throw new Error(`Invalid data URL format: ${a.url}`);if((r=a.contentType)!=null&&r.startsWith("image/"))i.push({type:"image",image:uE(h)});else if((n=a.contentType)!=null&&n.startsWith("text/"))i.push({type:"text",text:RF(uE(h))});else{if(!a.contentType)throw new Error("If the attachment is not an image or text, it must specify a content type");i.push({type:"file",data:h,mimeType:a.contentType})}break}default:throw new Error(`Unsupported URL protocol: ${s.protocol}`)}}return i}var BC="AI_MessageConversionError",jC=`vercel.ai.error.${BC}`,e3=Symbol.for(jC),GC,pC=class extends Ht{constructor({originalMessage:e,message:t}){super({name:BC,message:t}),this[GC]=!0,this.originalMessage=e}static isInstance(e){return Ht.hasMarker(e,jC)}};GC=e3;function t3(e,t){var r;let n=(r=t==null?void 0:t.tools)!=null?r:{},i=[];for(let a of e){let{role:s,content:f,toolInvocations:h,experimental_attachments:y}=a;switch(s){case"system":{i.push({role:"system",content:f});break}case"user":{i.push({role:"user",content:y?[{type:"text",text:f},...QF(y)]:f});break}case"assistant":{if(h==null){i.push({role:"assistant",content:f});break}i.push({role:"assistant",content:[{type:"text",text:f},...h.map(({toolCallId:D,toolName:x,args:L})=>({type:"tool-call",toolCallId:D,toolName:x,args:L}))]}),i.push({role:"tool",content:h.map(D=>{if(!("result"in D))throw new pC({originalMessage:a,message:"ToolInvocation must have a result: "+JSON.stringify(D)});let{toolCallId:x,toolName:L,result:Y}=D,ee=n[L];return(ee==null?void 0:ee.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:x,toolName:L,result:ee.experimental_toToolResultContent(Y),experimental_content:ee.experimental_toToolResultContent(Y)}:{type:"tool-result",toolCallId:x,toolName:L,result:Y}})});break}case"data":break;default:{let D=s;throw new pC({originalMessage:a,message:`Unsupported role: ${D}`})}}}return i}function r3({prompt:e,tools:t}){if(e.prompt==null&&e.messages==null)throw new Qv({prompt:e,message:"prompt or messages must be defined"});if(e.prompt!=null&&e.messages!=null)throw new Qv({prompt:e,message:"prompt and messages cannot be defined at the same time"});if(e.system!=null&&typeof e.system!="string")throw new Qv({prompt:e,message:"system must be a string"});if(e.prompt!=null){if(typeof e.prompt!="string")throw new Qv({prompt:e,message:"prompt must be a string"});return{type:"prompt",system:e.system,messages:[{role:"user",content:e.prompt}]}}if(e.messages!=null){let r=ZF(e.messages);if(r==="other")throw new Qv({prompt:e,message:"messages must be an array of CoreMessage or UIMessage"});let n=r==="ui-messages"?t3(e.messages,{tools:t}):e.messages,i=$m({value:n,schema:M.array(JF)});if(!i.success)throw new Qv({prompt:e,message:"messages must be an array of CoreMessage or UIMessage",cause:i.error});return{type:"messages",messages:n,system:e.system}}throw new Error("unreachable")}function n3({promptTokens:e,completionTokens:t}){return{promptTokens:e,completionTokens:t,totalTokens:e+t}}function i3(e,t){return{promptTokens:e.promptTokens+t.promptTokens,completionTokens:e.completionTokens+t.completionTokens,totalTokens:e.totalTokens+t.totalTokens}}var a3="JSON schema:",o3="You MUST answer with a JSON object that matches the JSON schema above.",s3="You MUST answer with JSON.";function u3({prompt:e,schema:t,schemaPrefix:r=t!=null?a3:void 0,schemaSuffix:n=t!=null?o3:s3}){return[e!=null&&e.length>0?e:void 0,e!=null&&e.length>0?"":void 0,r,t!=null?JSON.stringify(t):void 0,n].filter(i=>i!=null).join(`
`)}function Sb(e){let t=e.pipeThrough(new TransformStream);return t[Symbol.asyncIterator]=()=>{let r=t.getReader();return{async next(){let{done:n,value:i}=await r.read();return n?{done:!0,value:void 0}:{done:!1,value:i}}}},t}var $z=em({prefix:"aiobj",size:24});var fv=class{constructor(){this.status={type:"pending"},this._resolve=void 0,this._reject=void 0}get value(){return this.promise?this.promise:(this.promise=new Promise((e,t)=>{this.status.type==="resolved"?e(this.status.value):this.status.type==="rejected"&&t(this.status.error),this._resolve=e,this._reject=t}),this.promise)}resolve(e){var t;this.status={type:"resolved",value:e},this.promise&&((t=this._resolve)==null||t.call(this,e))}reject(e){var t;this.status={type:"rejected",error:e},this.promise&&((t=this._reject)==null||t.call(this,e))}};function hC(){let e,t;return{promise:new Promise((n,i)=>{e=n,t=i}),resolve:e,reject:t}}function c3(){let e=[],t=null,r=!1,n=hC(),i=async()=>{if(r&&e.length===0){t==null||t.close();return}if(e.length===0)return n=hC(),await n.promise,i();try{let{value:a,done:s}=await e[0].read();s?(e.shift(),e.length>0?await i():r&&(t==null||t.close())):t==null||t.enqueue(a)}catch(a){t==null||t.error(a),e.shift(),r&&e.length===0&&(t==null||t.close())}};return{stream:new ReadableStream({start(a){t=a},pull:i,async cancel(){for(let a of e)await a.cancel();e=[],r=!0}}),addStream:a=>{if(r)throw new Error("Cannot add inner stream: outer stream is closed");e.push(a.getReader()),n.resolve()},close:()=>{r=!0,n.resolve(),e.length===0&&(t==null||t.close())}}}function f3(){var e,t;return(t=(e=globalThis==null?void 0:globalThis.performance)==null?void 0:e.now())!=null?t:Date.now()}var Wz=em({prefix:"aiobj",size:24});var qC="AI_NoOutputSpecifiedError",YC=`vercel.ai.error.${qC}`,l3=Symbol.for(YC),zC,d3=class extends Ht{constructor({message:e="No output specified."}={}){super({name:qC,message:e}),this[zC]=!0}static isInstance(e){return Ht.hasMarker(e,YC)}};zC=l3;var $C="AI_ToolExecutionError",VC=`vercel.ai.error.${$C}`,p3=Symbol.for(VC),WC,h3=class extends Ht{constructor({toolArgs:e,toolName:t,cause:r,message:n=`Error executing tool ${t}: ${zm(r)}`}){super({name:$C,message:n,cause:r}),this[WC]=!0,this.toolArgs=e,this.toolName=t}static isInstance(e){return Ht.hasMarker(e,VC)}};WC=p3;function v3(e){return e!=null&&Object.keys(e).length>0}function m3({tools:e,toolChoice:t,activeTools:r}){return v3(e)?{tools:(r!=null?Object.entries(e).filter(([i])=>r.includes(i)):Object.entries(e)).map(([i,a])=>{let s=a.type;switch(s){case void 0:case"function":return{type:"function",name:i,description:a.description,parameters:Mg(a.parameters).jsonSchema};case"provider-defined":return{type:"provider-defined",name:i,id:a.id,args:a.args};default:{let f=s;throw new Error(`Unsupported tool type: ${f}`)}}}),toolChoice:t==null?{type:"auto"}:typeof t=="string"?{type:t}:{type:"tool",toolName:t.toolName}}:{tools:void 0,toolChoice:void 0}}var g3=/^([\s\S]*?)(\s+)(\S*)$/;function y3(e){let t=e.match(g3);return t?{prefix:t[1],whitespace:t[2],suffix:t[3]}:void 0}var HC="AI_InvalidToolArgumentsError",KC=`vercel.ai.error.${HC}`,_3=Symbol.for(KC),JC,cE=class extends Ht{constructor({toolArgs:e,toolName:t,cause:r,message:n=`Invalid arguments for tool ${t}: ${zm(r)}`}){super({name:HC,message:n,cause:r}),this[JC]=!0,this.toolArgs=e,this.toolName=t}static isInstance(e){return Ht.hasMarker(e,KC)}};JC=_3;var ZC="AI_NoSuchToolError",XC=`vercel.ai.error.${ZC}`,E3=Symbol.for(XC),QC,Nb=class extends Ht{constructor({toolName:e,availableTools:t=void 0,message:r=`Model tried to call unavailable tool '${e}'. ${t===void 0?"No tools are available.":`Available tools: ${t.join(", ")}.`}`}){super({name:ZC,message:r}),this[QC]=!0,this.toolName=e,this.availableTools=t}static isInstance(e){return Ht.hasMarker(e,XC)}};QC=E3;var eI="AI_ToolCallRepairError",tI=`vercel.ai.error.${eI}`,w3=Symbol.for(tI),rI,b3=class extends Ht{constructor({cause:e,originalError:t,message:r=`Error repairing tool call: ${zm(e)}`}){super({name:eI,message:r,cause:e}),this[rI]=!0,this.originalError=t}static isInstance(e){return Ht.hasMarker(e,tI)}};rI=w3;async function S3({toolCall:e,tools:t,repairToolCall:r,system:n,messages:i}){if(t==null)throw new Nb({toolName:e.toolName});try{return await vC({toolCall:e,tools:t})}catch(a){if(r==null||!(Nb.isInstance(a)||cE.isInstance(a)))throw a;let s=null;try{s=await r({toolCall:e,tools:t,parameterSchema:({toolName:f})=>Mg(t[f].parameters).jsonSchema,system:n,messages:i,error:a})}catch(f){throw new b3({cause:f,originalError:a})}if(s==null)throw a;return await vC({toolCall:s,tools:t})}}async function vC({toolCall:e,tools:t}){let r=e.toolName,n=t[r];if(n==null)throw new Nb({toolName:e.toolName,availableTools:Object.keys(t)});let i=Mg(n.parameters),a=e.args.trim()===""?$m({value:{},schema:i}):ov({text:e.args,schema:i});if(a.success===!1)throw new cE({toolName:r,toolArgs:e.args,cause:a.error});return{type:"tool-call",toolCallId:e.toolCallId,toolName:r,args:a.value}}function mC({text:e="",tools:t,toolCalls:r,toolResults:n}){let i=[];return i.push({role:"assistant",content:[{type:"text",text:e},...r]}),n.length>0&&i.push({role:"tool",content:n.map(a=>{let s=t[a.toolName];return(s==null?void 0:s.experimental_toToolResultContent)!=null?{type:"tool-result",toolCallId:a.toolCallId,toolName:a.toolName,result:s.experimental_toToolResultContent(a.result),experimental_content:s.experimental_toToolResultContent(a.result)}:{type:"tool-result",toolCallId:a.toolCallId,toolName:a.toolName,result:a.result}})}),i}var n6=em({prefix:"aitxt",size:24});var D3={};Cb(D3,{object:()=>A3,text:()=>T3});var T3=()=>({type:"text",responseFormat:()=>({type:"text"}),injectIntoSystemPrompt({system:e}){return e},parsePartial({text:e}){return{partial:e}},parseOutput({text:e}){return e}}),A3=({schema:e})=>{let t=Mg(e);return{type:"object",responseFormat:({model:r})=>({type:"json",schema:r.supportsStructuredOutputs?t.jsonSchema:void 0}),injectIntoSystemPrompt({system:r,model:n}){return n.supportsStructuredOutputs?r:u3({prompt:r,schema:t.jsonSchema})},parsePartial({text:r}){let n=zN(r);switch(n.state){case"failed-parse":case"undefined-input":return;case"repaired-parse":case"successful-parse":return{partial:n.value};default:{let i=n.state;throw new Error(`Unsupported parse state: ${i}`)}}},parseOutput({text:r},n){let i=ov({text:r});if(!i.success)throw new lC({message:"No object generated: could not parse the response.",cause:i.error,text:r,response:n.response,usage:n.usage});let a=$m({value:i.value,schema:t});if(!a.success)throw new lC({message:"No object generated: response did not match schema.",cause:a.error,text:r,response:n.response,usage:n.usage});return a.value}}};function Ib(e,t){let r=e.getReader(),n=t.getReader(),i,a,s=!1,f=!1;async function h(D){try{i==null&&(i=r.read());let x=await i;i=void 0,x.done?D.close():D.enqueue(x.value)}catch(x){D.error(x)}}async function y(D){try{a==null&&(a=n.read());let x=await a;a=void 0,x.done?D.close():D.enqueue(x.value)}catch(x){D.error(x)}}return new ReadableStream({async pull(D){try{if(s){await y(D);return}if(f){await h(D);return}i==null&&(i=r.read()),a==null&&(a=n.read());let{result:x,reader:L}=await Promise.race([i.then(Y=>({result:Y,reader:r})),a.then(Y=>({result:Y,reader:n}))]);x.done||D.enqueue(x.value),L===r?(i=void 0,x.done&&(await y(D),s=!0)):(a=void 0,x.done&&(f=!0,await h(D)))}catch(x){D.error(x)}},cancel(){r.cancel(),n.cancel()}})}function N3({tools:e,generatorStream:t,toolCallStreaming:r,tracer:n,telemetry:i,system:a,messages:s,abortSignal:f,repairToolCall:h}){let y=null,D=new ReadableStream({start(X){y=X}}),x={},L=new Set,Y=!1,ee;function W(){Y&&L.size===0&&(ee!=null&&y.enqueue(ee),y.close())}let H=new TransformStream({async transform(X,ue){let ce=X.type;switch(ce){case"text-delta":case"response-metadata":case"error":{ue.enqueue(X);break}case"tool-call-delta":{r&&(x[X.toolCallId]||(ue.enqueue({type:"tool-call-streaming-start",toolCallId:X.toolCallId,toolName:X.toolName}),x[X.toolCallId]=!0),ue.enqueue({type:"tool-call-delta",toolCallId:X.toolCallId,toolName:X.toolName,argsTextDelta:X.argsTextDelta}));break}case"tool-call":{try{let he=await S3({toolCall:X,tools:e,repairToolCall:h,system:a,messages:s});ue.enqueue(he);let Ue=e[he.toolName];if(Ue.execute!=null){let Le=tm();L.add(Le),Tb({name:"ai.toolCall",attributes:Oy({telemetry:i,attributes:{...Db({operationId:"ai.toolCall",telemetry:i}),"ai.toolCall.name":he.toolName,"ai.toolCall.id":he.toolCallId,"ai.toolCall.args":{output:()=>JSON.stringify(he.args)}}}),tracer:n,fn:async ve=>Ue.execute(he.args,{toolCallId:he.toolCallId,messages:s,abortSignal:f}).then(Pe=>{y.enqueue({...he,type:"tool-result",result:Pe}),L.delete(Le),W();try{ve.setAttributes(Oy({telemetry:i,attributes:{"ai.toolCall.result":{output:()=>JSON.stringify(Pe)}}}))}catch{}},Pe=>{y.enqueue({type:"error",error:new h3({toolName:he.toolName,toolArgs:he.args,cause:Pe})}),L.delete(Le),W()})})}}catch(he){y.enqueue({type:"error",error:he})}break}case"finish":{ee={type:"finish",finishReason:X.finishReason,logprobs:X.logprobs,usage:n3(X.usage),experimental_providerMetadata:X.providerMetadata};break}default:{let he=ce;throw new Error(`Unhandled chunk type: ${he}`)}}},flush(){Y=!0,W()}});return new ReadableStream({async start(X){return Promise.all([t.pipeThrough(H).pipeTo(new WritableStream({write(ue){X.enqueue(ue)},close(){}})),D.pipeTo(new WritableStream({write(ue){X.enqueue(ue)},close(){X.close()}}))])}})}var C3=em({prefix:"aitxt",size:24});function nI({model:e,tools:t,toolChoice:r,system:n,prompt:i,messages:a,maxRetries:s,abortSignal:f,headers:h,maxSteps:y=1,experimental_output:D,experimental_continueSteps:x=!1,experimental_telemetry:L,experimental_providerMetadata:Y,experimental_toolCallStreaming:ee=!1,experimental_activeTools:W,experimental_repairToolCall:H,experimental_transform:X,onChunk:ue,onFinish:ce,onStepFinish:he,_internal:{now:Ue=f3,generateId:Le=C3,currentDate:ve=()=>new Date}={},...Pe}){return new x3({model:e,telemetry:L,headers:h,settings:Pe,maxRetries:s,abortSignal:f,system:n,prompt:i,messages:a,tools:t,toolChoice:r,toolCallStreaming:ee,transform:X==null?void 0:X({tools:t}),activeTools:W,repairToolCall:H,maxSteps:y,output:D,continueSteps:x,providerMetadata:Y,onChunk:ue,onFinish:ce,onStepFinish:he,now:Ue,currentDate:ve,generateId:Le})}function I3(e){if(!e)return new TransformStream({transform(i,a){a.enqueue({part:i,partialOutput:void 0})}});let t="",r="",n="";return new TransformStream({transform(i,a){if(i.type!=="text-delta"){a.enqueue({part:i,partialOutput:void 0});return}t+=i.textDelta,r+=i.textDelta;let s=e.parsePartial({text:t});if(s!=null){let f=JSON.stringify(s.partial);f!==n&&(a.enqueue({part:{type:"text-delta",textDelta:r},partialOutput:s.partial}),n=f,r="")}},flush(i){r.length>0&&i.enqueue({part:{type:"text-delta",textDelta:r},partialOutput:void 0})}})}var x3=class{constructor({model:e,telemetry:t,headers:r,settings:n,maxRetries:i,abortSignal:a,system:s,prompt:f,messages:h,tools:y,toolChoice:D,toolCallStreaming:x,transform:L,activeTools:Y,repairToolCall:ee,maxSteps:W,output:H,continueSteps:X,providerMetadata:ue,onChunk:ce,onFinish:he,onStepFinish:Ue,now:Le,currentDate:ve,generateId:Pe}){this.warningsPromise=new fv,this.usagePromise=new fv,this.finishReasonPromise=new fv,this.providerMetadataPromise=new fv,this.textPromise=new fv,this.toolCallsPromise=new fv,this.toolResultsPromise=new fv,this.requestPromise=new fv,this.responsePromise=new fv,this.stepsPromise=new fv;var Te;if(W<1)throw new ch({parameter:"maxSteps",value:W,message:"maxSteps must be at least 1"});this.output=H;let Je="",mt="",Er="",fr={id:Pe(),timestamp:ve(),modelId:e.modelId,messages:[]},Bt=[],en=[],qe,Jr,Fe="initial",Gr=[],er,kt=new TransformStream({async transform(qt,fn){fn.enqueue(qt);let{part:Ve}=qt;if((Ve.type==="text-delta"||Ve.type==="tool-call"||Ve.type==="tool-result"||Ve.type==="tool-call-streaming-start"||Ve.type==="tool-call-delta")&&await(ce==null?void 0:ce({chunk:Ve})),Ve.type==="text-delta"&&(Je+=Ve.textDelta,mt+=Ve.textDelta,Er+=Ve.textDelta),Ve.type==="tool-call"&&Bt.push(Ve),Ve.type==="tool-result"&&en.push(Ve),Ve.type==="step-finish"){let tn=mC({text:mt,tools:y??{},toolCalls:Bt,toolResults:en}),Dr=Gr.length,ci="done";Dr+1<W&&(X&&Ve.finishReason==="length"&&Bt.length===0?ci="continue":Bt.length>0&&en.length===Bt.length&&(ci="tool-result"));let Yt={stepType:Fe,text:Je,toolCalls:Bt,toolResults:en,finishReason:Ve.finishReason,usage:Ve.usage,warnings:Ve.warnings,logprobs:Ve.logprobs,request:Ve.request,response:{...Ve.response,messages:[...fr.messages,...tn]},experimental_providerMetadata:Ve.experimental_providerMetadata,isContinued:Ve.isContinued};await(Ue==null?void 0:Ue(Yt)),Gr.push(Yt),Bt=[],en=[],Je="",ci!=="done"&&(Fe=ci),ci!=="continue"&&(fr.messages.push(...tn),mt="")}Ve.type==="finish"&&(fr.id=Ve.response.id,fr.timestamp=Ve.response.timestamp,fr.modelId=Ve.response.modelId,fr.headers=Ve.response.headers,Jr=Ve.usage,qe=Ve.finishReason)},async flush(qt){var fn;try{let Ve=Gr[Gr.length-1];Ve&&(It.warningsPromise.resolve(Ve.warnings),It.requestPromise.resolve(Ve.request),It.responsePromise.resolve(Ve.response),It.toolCallsPromise.resolve(Ve.toolCalls),It.toolResultsPromise.resolve(Ve.toolResults),It.providerMetadataPromise.resolve(Ve.experimental_providerMetadata));let tn=qe??"unknown",Dr=Jr??{completionTokens:NaN,promptTokens:NaN,totalTokens:NaN};It.finishReasonPromise.resolve(tn),It.usagePromise.resolve(Dr),It.textPromise.resolve(Er),It.stepsPromise.resolve(Gr),await(he==null?void 0:he({finishReason:tn,logprobs:void 0,usage:Dr,text:Er,toolCalls:Ve.toolCalls,toolResults:Ve.toolResults,request:(fn=Ve.request)!=null?fn:{},response:Ve.response,warnings:Ve.warnings,experimental_providerMetadata:Ve.experimental_providerMetadata,steps:Gr})),er.setAttributes(Oy({telemetry:t,attributes:{"ai.response.finishReason":tn,"ai.response.text":{output:()=>Er},"ai.response.toolCalls":{output:()=>{var ci;return(ci=Ve.toolCalls)!=null&&ci.length?JSON.stringify(Ve.toolCalls):void 0}},"ai.usage.promptTokens":Dr.promptTokens,"ai.usage.completionTokens":Dr.completionTokens}}))}catch(Ve){qt.error(Ve)}finally{er.end()}}}),nn=c3();this.addStream=nn.addStream,this.closeStream=nn.close;let ut=nn.stream;L&&(ut=ut.pipeThrough(L)),this.baseStream=ut.pipeThrough(I3(H)).pipeThrough(kt);let{maxRetries:Hn,retry:lt}=EF({maxRetries:i}),Au=DF(t),Zt=wF({model:e,telemetry:t,headers:r,settings:{...n,maxRetries:Hn}}),to=r3({prompt:{system:(Te=H==null?void 0:H.injectIntoSystemPrompt({system:s,model:e}))!=null?Te:s,prompt:f,messages:h},tools:y}),It=this;Tb({name:"ai.streamText",attributes:Oy({telemetry:t,attributes:{...Db({operationId:"ai.streamText",telemetry:t}),...Zt,"ai.prompt":{input:()=>JSON.stringify({system:s,prompt:f,messages:h})},"ai.settings.maxSteps":W}}),tracer:Au,endWhenDone:!1,fn:async qt=>{er=qt;async function fn({currentStep:Ve,responseMessages:tn,usage:Dr,stepType:ci,previousStepText:Yt,hasLeadingWhitespace:ln}){let ka=tn.length===0?to.type:"messages",Oa=[...to.messages,...tn],an=await LF({prompt:{type:ka,system:to.system,messages:Oa},modelSupportsImageUrls:e.supportsImageUrls,modelSupportsUrl:e.supportsUrl}),Tn={type:"regular",...m3({tools:y,toolChoice:D,activeTools:Y})},{result:{stream:Co,warnings:Ui,rawResponse:Lr,request:or},doStreamSpan:lr,startTimestampMs:Zr}=await lt(()=>Tb({name:"ai.streamText.doStream",attributes:Oy({telemetry:t,attributes:{...Db({operationId:"ai.streamText.doStream",telemetry:t}),...Zt,"ai.prompt.format":{input:()=>ka},"ai.prompt.messages":{input:()=>JSON.stringify(an)},"ai.prompt.tools":{input:()=>{var Rr;return(Rr=Tn.tools)==null?void 0:Rr.map(Hr=>JSON.stringify(Hr))}},"ai.prompt.toolChoice":{input:()=>Tn.toolChoice!=null?JSON.stringify(Tn.toolChoice):void 0},"gen_ai.system":e.provider,"gen_ai.request.model":e.modelId,"gen_ai.request.frequency_penalty":n.frequencyPenalty,"gen_ai.request.max_tokens":n.maxTokens,"gen_ai.request.presence_penalty":n.presencePenalty,"gen_ai.request.stop_sequences":n.stopSequences,"gen_ai.request.temperature":n.temperature,"gen_ai.request.top_k":n.topK,"gen_ai.request.top_p":n.topP}}),tracer:Au,endWhenDone:!1,fn:async Rr=>({startTimestampMs:Le(),doStreamSpan:Rr,result:await e.doStream({mode:Tn,...jF(n),inputFormat:ka,responseFormat:H==null?void 0:H.responseFormat({model:e}),prompt:an,providerMetadata:ue,abortSignal:a,headers:r})})})),up=N3({tools:y,generatorStream:Co,toolCallStreaming:x,tracer:Au,telemetry:t,system:s,messages:Oa,repairToolCall:ee,abortSignal:a}),fi=or??{},as=[],Nu=[],on="unknown",Bi={promptTokens:0,completionTokens:0,totalTokens:0},vr,Si=!0,Di="",os=ci==="continue"?Yt:"",ss,ro={id:Pe(),timestamp:ve(),modelId:e.modelId},us="",Io=!1,Ys=!0,no=!1;async function Cu({controller:Rr,chunk:Hr}){Rr.enqueue(Hr),Di+=Hr.textDelta,os+=Hr.textDelta,Io=!0,no=Hr.textDelta.trimEnd()!==Hr.textDelta}It.addStream(up.pipeThrough(new TransformStream({async transform(Rr,Hr){var da,xo,cs;if(Si){let pa=Le()-Zr;Si=!1,lr.addEvent("ai.stream.firstChunk",{"ai.response.msToFirstChunk":pa}),lr.setAttributes({"ai.response.msToFirstChunk":pa})}if(Rr.type==="text-delta"&&Rr.textDelta.length===0)return;let Ti=Rr.type;switch(Ti){case"text-delta":{if(X){let pa=Ys&&ln?Rr.textDelta.trimStart():Rr.textDelta;if(pa.length===0)break;Ys=!1,us+=pa;let Po=y3(us);Po!=null&&(us=Po.suffix,await Cu({controller:Hr,chunk:{type:"text-delta",textDelta:Po.prefix+Po.whitespace}}))}else await Cu({controller:Hr,chunk:Rr});break}case"tool-call":{Hr.enqueue(Rr),as.push(Rr);break}case"tool-result":{Hr.enqueue(Rr),Nu.push(Rr);break}case"response-metadata":{ro={id:(da=Rr.id)!=null?da:ro.id,timestamp:(xo=Rr.timestamp)!=null?xo:ro.timestamp,modelId:(cs=Rr.modelId)!=null?cs:ro.modelId};break}case"finish":{Bi=Rr.usage,on=Rr.finishReason,vr=Rr.experimental_providerMetadata,ss=Rr.logprobs;let pa=Le()-Zr;lr.addEvent("ai.stream.finish"),lr.setAttributes({"ai.response.msToFinish":pa,"ai.response.avgCompletionTokensPerSecond":1e3*Bi.completionTokens/pa});break}case"tool-call-streaming-start":case"tool-call-delta":{Hr.enqueue(Rr);break}case"error":{Hr.enqueue(Rr),on="error";break}default:{let pa=Ti;throw new Error(`Unknown chunk type: ${pa}`)}}},async flush(Rr){let Hr=as.length>0?JSON.stringify(as):void 0,da="done";Ve+1<W&&(X&&on==="length"&&as.length===0?da="continue":as.length>0&&Nu.length===as.length&&(da="tool-result")),X&&us.length>0&&(da!=="continue"||ci==="continue"&&!Io)&&(await Cu({controller:Rr,chunk:{type:"text-delta",textDelta:us}}),us="");try{lr.setAttributes(Oy({telemetry:t,attributes:{"ai.response.finishReason":on,"ai.response.text":{output:()=>Di},"ai.response.toolCalls":{output:()=>Hr},"ai.response.id":ro.id,"ai.response.model":ro.modelId,"ai.response.timestamp":ro.timestamp.toISOString(),"ai.usage.promptTokens":Bi.promptTokens,"ai.usage.completionTokens":Bi.completionTokens,"gen_ai.response.finish_reasons":[on],"gen_ai.response.id":ro.id,"gen_ai.response.model":ro.modelId,"gen_ai.usage.input_tokens":Bi.promptTokens,"gen_ai.usage.output_tokens":Bi.completionTokens}}))}catch{}finally{lr.end()}Rr.enqueue({type:"step-finish",finishReason:on,usage:Bi,experimental_providerMetadata:vr,logprobs:ss,request:fi,response:{...ro,headers:Lr==null?void 0:Lr.headers},warnings:Ui,isContinued:da==="continue"});let xo=i3(Dr,Bi);if(da==="done")Rr.enqueue({type:"finish",finishReason:on,usage:xo,experimental_providerMetadata:vr,logprobs:ss,response:{...ro,headers:Lr==null?void 0:Lr.headers}}),It.closeStream();else{if(ci==="continue"){let cs=tn[tn.length-1];typeof cs.content=="string"?cs.content+=Di:cs.content.push({text:Di,type:"text"})}else tn.push(...mC({text:Di,tools:y??{},toolCalls:as,toolResults:Nu}));await fn({currentStep:Ve+1,responseMessages:tn,usage:xo,stepType:da,previousStepText:os,hasLeadingWhitespace:no})}}})))}await fn({currentStep:0,responseMessages:[],usage:{promptTokens:0,completionTokens:0,totalTokens:0},previousStepText:"",stepType:"initial",hasLeadingWhitespace:!1})}}).catch(qt=>{It.addStream(new ReadableStream({start(fn){fn.enqueue({type:"error",error:qt}),fn.close()}})),It.closeStream()})}get warnings(){return this.warningsPromise.value}get usage(){return this.usagePromise.value}get finishReason(){return this.finishReasonPromise.value}get experimental_providerMetadata(){return this.providerMetadataPromise.value}get text(){return this.textPromise.value}get toolCalls(){return this.toolCallsPromise.value}get toolResults(){return this.toolResultsPromise.value}get request(){return this.requestPromise.value}get response(){return this.responsePromise.value}get steps(){return this.stepsPromise.value}teeStream(){let[e,t]=this.baseStream.tee();return this.baseStream=t,e}get textStream(){return Sb(this.teeStream().pipeThrough(new TransformStream({transform({part:e},t){e.type==="text-delta"?t.enqueue(e.textDelta):e.type==="error"&&t.error(e.error)}})))}get fullStream(){return Sb(this.teeStream().pipeThrough(new TransformStream({transform({part:e},t){t.enqueue(e)}})))}get experimental_partialOutputStream(){if(this.output==null)throw new d3;return Sb(this.teeStream().pipeThrough(new TransformStream({transform({partialOutput:e},t){e!=null&&t.enqueue(e)}})))}toDataStreamInternal({getErrorMessage:e=()=>"An error occurred.",sendUsage:t=!0}={}){let r="",n=new TransformStream({async transform(a,s){s.enqueue(a),a.type==="text-delta"&&(r+=a.textDelta)}}),i=new TransformStream({transform:async(a,s)=>{let f=a.type;switch(f){case"text-delta":{s.enqueue(sd("text",a.textDelta));break}case"tool-call-streaming-start":{s.enqueue(sd("tool_call_streaming_start",{toolCallId:a.toolCallId,toolName:a.toolName}));break}case"tool-call-delta":{s.enqueue(sd("tool_call_delta",{toolCallId:a.toolCallId,argsTextDelta:a.argsTextDelta}));break}case"tool-call":{s.enqueue(sd("tool_call",{toolCallId:a.toolCallId,toolName:a.toolName,args:a.args}));break}case"tool-result":{s.enqueue(sd("tool_result",{toolCallId:a.toolCallId,result:a.result}));break}case"error":{s.enqueue(sd("error",e(a.error)));break}case"step-finish":{s.enqueue(sd("finish_step",{finishReason:a.finishReason,usage:t?{promptTokens:a.usage.promptTokens,completionTokens:a.usage.completionTokens}:void 0,isContinued:a.isContinued}));break}case"finish":{s.enqueue(sd("finish_message",{finishReason:a.finishReason,usage:t?{promptTokens:a.usage.promptTokens,completionTokens:a.usage.completionTokens}:void 0}));break}default:{let h=f;throw new Error(`Unknown chunk type: ${h}`)}}}});return this.fullStream.pipeThrough(n).pipeThrough(i)}pipeDataStreamToResponse(e,{status:t,statusText:r,headers:n,data:i,getErrorMessage:a,sendUsage:s}={}){cC({response:e,status:t,statusText:r,headers:uC(n,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"}),stream:this.toDataStream({data:i,getErrorMessage:a,sendUsage:s})})}pipeTextStreamToResponse(e,t){cC({response:e,status:t==null?void 0:t.status,statusText:t==null?void 0:t.statusText,headers:uC(t==null?void 0:t.headers,{contentType:"text/plain; charset=utf-8"}),stream:this.textStream.pipeThrough(new TextEncoderStream)})}toDataStream(e){let t=this.toDataStreamInternal({getErrorMessage:e==null?void 0:e.getErrorMessage,sendUsage:e==null?void 0:e.sendUsage}).pipeThrough(new TextEncoderStream);return e!=null&&e.data?Ib(e==null?void 0:e.data.stream,t):t}mergeIntoDataStream(e){e.merge(this.toDataStreamInternal({getErrorMessage:e.onError}))}toDataStreamResponse({headers:e,status:t,statusText:r,data:n,getErrorMessage:i,sendUsage:a}={}){return new Response(this.toDataStream({data:n,getErrorMessage:i,sendUsage:a}),{status:t,statusText:r,headers:sE(e,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}toTextStreamResponse(e){var t;return new Response(this.textStream.pipeThrough(new TextEncoderStream),{status:(t=e==null?void 0:e.status)!=null?t:200,headers:sE(e==null?void 0:e.headers,{contentType:"text/plain; charset=utf-8"})})}};var P3="AI_NoSuchProviderError",R3=`vercel.ai.error.${P3}`,k3=Symbol.for(R3),O3;O3=k3;var M3={};Cb(M3,{mergeIntoDataStream:()=>U3,toDataStream:()=>L3,toDataStreamResponse:()=>F3});function iI(e={}){let t=new TextEncoder,r="";return new TransformStream({async start(){e.onStart&&await e.onStart()},async transform(n,i){i.enqueue(t.encode(n)),r+=n,e.onToken&&await e.onToken(n),e.onText&&typeof n=="string"&&await e.onText(n)},async flush(){e.onCompletion&&await e.onCompletion(r),e.onFinal&&await e.onFinal(r)}})}function xb(e,t){return e.pipeThrough(new TransformStream({transform:async(r,n)=>{var i;if(typeof r=="string"){n.enqueue(r);return}if("event"in r){r.event==="on_chat_model_stream"&&gC((i=r.data)==null?void 0:i.chunk,n);return}gC(r,n)}})).pipeThrough(iI(t)).pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform:async(r,n)=>{n.enqueue(sd("text",r))}}))}function L3(e,t){return xb(e,t).pipeThrough(new TextEncoderStream)}function F3(e,t){var r;let n=xb(e,t==null?void 0:t.callbacks).pipeThrough(new TextEncoderStream),i=t==null?void 0:t.data,a=t==null?void 0:t.init,s=i?Ib(i.stream,n):n;return new Response(s,{status:(r=a==null?void 0:a.status)!=null?r:200,statusText:a==null?void 0:a.statusText,headers:sE(a==null?void 0:a.headers,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function U3(e,t){t.dataStream.merge(xb(e,t.callbacks))}function gC(e,t){if(typeof e.content=="string")t.enqueue(e.content);else{let r=e.content;for(let n of r)n.type==="text"&&t.enqueue(n.text)}}var B3={};Cb(B3,{mergeIntoDataStream:()=>q3,toDataStream:()=>j3,toDataStreamResponse:()=>G3});function Pb(e,t){let r=Y3();return LA(e[Symbol.asyncIterator]()).pipeThrough(new TransformStream({async transform(n,i){i.enqueue(r(n.delta))}})).pipeThrough(iI(t)).pipeThrough(new TextDecoderStream).pipeThrough(new TransformStream({transform:async(n,i)=>{i.enqueue(sd("text",n))}}))}function j3(e,t){return Pb(e,t).pipeThrough(new TextEncoderStream)}function G3(e,t={}){var r;let{init:n,data:i,callbacks:a}=t,s=Pb(e,a).pipeThrough(new TextEncoderStream),f=i?Ib(i.stream,s):s;return new Response(f,{status:(r=n==null?void 0:n.status)!=null?r:200,statusText:n==null?void 0:n.statusText,headers:sE(n==null?void 0:n.headers,{contentType:"text/plain; charset=utf-8",dataStreamVersion:"v1"})})}function q3(e,t){t.dataStream.merge(Pb(e,t.callbacks))}function Y3(){let e=!0;return t=>(e&&(t=t.trimStart(),t&&(e=!1)),t)}var d6=15*1e3;var fE="experimental_providerMetadata";function aI(e){let t=e.filter(({role:s})=>s=="user"||s=="tool"),r=e.filter(({role:s})=>s=="assistant");function n(s,{content:f}){var h;return s+(Array.isArray(f)&&((h=f[f.length-1])!=null&&h[fE])?1:0)}function i(s){let{content:f}=s;Array.isArray(f)||(f=[{type:"text",text:f}]),f[f.length-1][fE]={anthropic:{cacheControl:{type:"ephemeral"}}},s.content=f}function a(s){let{content:f}=s;Array.isArray(f)&&f[f.length-1][fE]&&delete f[f.length-1][fE]}r.reduce(n,0)||i(r.pop()),i(t.pop()),t.slice(0,-2).forEach(a)}var Lg=require("vscode");var sI=`
When responding, start straight with the answer, like you are writing a technical documentation. No confirmation, no small talk.
You are communicating with the user via tools, always try to use tool calling where appropriate.
The user does not see the tools and doesn't know what they are. Never mention tool names and never explain that you are using them.
Use question tool to collect all necessary information to better understand what the user wants if the request is ambiguous or missing something.
Use read_file and read_directory tools to understand the work environment. 
Use insert_text, replace_text, delete_text tools to suggest the source code changes.
Use create_file, write_file tools when the change is for the whole file.
`,z3=e=>Iy`
    Files in the project root directory:
    <files>
        ${e.join(`
`)||"empty (no files here)"}
    </files>
`,$3=e=>Iy`
    Top-level project directories: 
    <directories>
        ${e.join(`
`)||"empty (no sub-directories here)"}
    </directories>
`,uI=async()=>{let e=await e0(""),t=e.filter(({isFile:n})=>n).map(({name:n})=>n),r=e.filter(({isDirectory:n})=>n).map(({name:n})=>n);return[$3(r),`

`,z3(t)]},cI=()=>Iy`
    Files open in editor windows: 
    <files>
        ${ty().map(rh).join(`
`)}
    </files>
`,fI=()=>{var e,t,r,n;return Iy`
    Current file:
    <file>
        ${rh(Lg.Uri.file(((t=(e=Lg.window.activeTextEditor)==null?void 0:e.document)==null?void 0:t.fileName)||""))}
    </file>
    ${`

`}
    Programming language of the current file: 
    <language>
        ${(n=(r=Lg.window.activeTextEditor)==null?void 0:r.document)==null?void 0:n.languageId}
    </language>
`};function oI(){var t,r;let e=(t=Lg.window.activeTextEditor)==null?void 0:t.selection;return e&&!e.isEmpty?(r=Lg.window.activeTextEditor)==null?void 0:r.document.getText(e):""}var lI=()=>oI()&&Iy`
    The selected text in the active editor is:
    <selection>
        ${oI()}
    </selection>
`;var dI={about:"Tell me about yourself",writing:"Describe your writing style",developer:"What is your experience as a software developer?",process:"Describe how you write code",environment:"What you have now in the editor workspace?"},V3=`
I am the AI assistant, working in VSCode editor.
I can access all content and tools in the current editor workspace.
I am proactively reading the code and configuration files to get detailed understanding of the environment.
`,W3=`
I'd describe my approach like this:

I'm direct and to the point. I don't waste time with pleasantries or unnecessary context. 
My goal is to provide accurate, practical solutions to coding problems as efficiently as possible.

I use short code snippets to illustrate my points. These snippets are always properly formatted 
and indented for readability. I explain the key parts of the code, but I assume a certain level of 
programming knowledge from my audience.

I often break down my answers into steps or bullet points for clarity. I'm not afraid to point out 
flaws in the original question or suggest better approaches if I see them.

I include relevant documentation links or references to support my answers, but I don't just link-drop 
without explanation. I summarize the key points and explain why they're relevant.

My tone is professional and sometimes a bit terse. I'm here to solve problems, not to make friends. 
However, I'm also not rude or dismissive. If a question is unclear, I ask for clarification rather than 
making assumptions.

I'm aware of best practices and potential pitfalls, so I often include warnings about edge cases or 
performance issues that might not be immediately obvious.
`,H3=`
I'm a seasoned software developer with a deep understanding of core programming principles and system design. 
My experience spans multiple domains, allowing me to approach problems from various angles.

I excel at breaking down complex requirements into manageable components and designing scalable, maintainable 
solutions. My code is clean, well-documented, and follows best practices for readability and efficiency.

I'm particularly strong in algorithmic thinking and optimization. I can analyze performance bottlenecks 
and implement effective solutions, whether it's improving time complexity or reducing resource usage.

I have a solid grasp of software architecture patterns and can adapt them to fit project needs. 
I'm comfortable designing and implementing APIs, working with databases, and integrating various system components.

Testing is integral to my development process. I write comprehensive unit tests and understand 
the value of integration and end-to-end testing in ensuring robust, reliable software.

I stay current with industry trends and continuously refine my skills. However, I'm pragmatic in my approach, 
focusing on proven technologies that add real value rather than chasing every new trend.

Debugging and troubleshooting are areas where I shine. I can quickly isolate issues in complex systems 
and implement effective fixes.

Lastly, I'm a strong communicator. I can explain technical concepts clearly to both technical 
and non-technical stakeholders, facilitating better collaboration across teams.
`,K3=`
When designing and building complex code, my thought process typically follows these steps:

I start by thoroughly analyzing the problem domain. I break down the requirements, 
identifying the core functionalities and potential edge cases.

Next, I consider the overall architecture. I think about how different components will interact, 
data flow, and potential bottlenecks. I often sketch out high-level diagrams to visualize the system structure.

I evaluate trade-offs between different design patterns and approaches. I consider factors like scalability, 
maintainability, and performance. I try to anticipate future requirements to make the system extensible.

Before diving into implementation, I plan out the data structures and algorithms I'll use. 
I consider time and space complexity, thinking about how the solution will perform with larger datasets.

I break the problem down into smaller, manageable modules or functions. I define clear interfaces 
between these components, thinking about how they'll be tested in isolation.

As I start coding, I focus on creating a minimal viable implementation of each component. 
I write unit tests alongside the code, using test-driven development where appropriate.

I constantly refactor as I go, looking for opportunities to improve code clarity and efficiency. 
I'm always thinking about how another developer would read and understand my code.

For particularly complex parts, I often step back and reconsider my approach. Sometimes I'll implement 
a quick prototype to validate a concept before fully committing to it.

Throughout the process, I document my code and decisions. I write clear comments explaining the 'why' 
behind complex logic, not just the 'what'.

As the system comes together, I start thinking about integration testing and how different components interact. 
I look for potential race conditions or unexpected behaviors in the system as a whole.

Finally, I review the entire solution, considering aspects like error handling, logging, and monitoring. 
I think about how the system will behave in production and what tools will be needed to maintain it.

This process is iterative, and I'm always ready to revisit earlier decisions as new information or challenges arise. The goal is to create a robust, efficient, and maintainable solution that solves the problem at hand while being flexible enough to adapt to future needs.
`;async function pI(){let e=[],t=Km([await uI(),`

`,cI(),`

`,fI(),`

`,lI()]),r={about:V3,writing:W3,developer:H3,process:K3,environment:t};for(let n in dI)r[n]&&(e.push({role:"user",content:Km(dI[n])}),e.push({role:"assistant",content:Km(r[n])}));return e}var fh=require("vscode");async function hI(){let e=[];for(let{id:t,name:r,modelDescription:n,value:i}of nt.request.references){let a=String(i);if(t!="vscode.implicit.viewport"){if(i instanceof fh.Uri){let s=await fh.workspace.fs.stat(i);if(s.type&fh.FileType.File)a=(await fh.workspace.openTextDocument(i)).getText();else if(s.type&fh.FileType.Directory){let f=await e0(rh(i)),h=f.filter(({isFile:D})=>D).map(({path:D})=>D),y=f.filter(({isDirectory:D})=>D).map(({path:D})=>D);a=Z3(y)+J3(h)}r=rh(i)}else i instanceof fh.Location&&(a=(await fh.workspace.openTextDocument(i.uri)).getText(i.range),r+=" from "+rh(i.uri));n&&(r+=` (${n})`),e.push({role:"user",content:`Read ${r}`}),e.push({role:"assistant",content:a})}}return e}var J3=e=>`
<files>
${e.join(`
`)||"empty (no files here)"}
</files>
`,Z3=e=>`
<directories>
    ${e.join(`
`)||"empty (no sub-directories here)"}
</directories>
`;var vI="question",X3=`
    Use this tool to ask questions in order to collect all relevant info for the task.
    You can ask one question at a time. If you have more questions, use this tool several times.
    Provide also the of suggested answers, so that the user can just click on answer text instead of typing.
`,Q3=M.object({question:M.string().describe("Question text"),answers:M.array(M.string()).describe("Suggested answers to display to the user"),multiple_choice:M.boolean().describe("Is this a multiple choice question?")}),eU="Preparing questions ...",Rb=[];async function tU({question:e,answers:t,multiple_choice:r}){let n=[],{log:i,stream:a}=nt;for(i.info(e,{answers:t,multiple_choice:r,event:"tool."+vI});;){a.markdown(rU({question:e})),r&&a.markdown(nU(n));let s=await lv({followups:iU(t,n,r)});if({stream:a}=nt,r){if(s.prompt=="continue")return Rb.push({question:e,items:n}),n.join(`
`);s.prompt&&n.push(s.prompt)}else return Rb.push({question:e,answer:s.prompt}),s.prompt}}var rU=({question:e})=>`

---
Q: **${e}**
`,nU=e=>`
${e.map(t=>`
- ${t}`)}
`;function iU(e,t,r){let n=[];return e.forEach(i=>{t.indexOf(i)==-1&&!/please/i.test(i)&&n.push({prompt:i})}),r&&n.push({prompt:"continue",label:"\u25B6 continue to the next question..."}),n}var mI={name:vI,description:X3,parameters:Q3,execute:tU,progress:eU,latest:Rb};var gI="list",aU=`
    Allows to present the information as a list
`,oU=M.object({header:M.string().describe("Item header"),content:M.string().describe("Item content")}),sU=M.object({title:M.string().describe("Title"),items:M.array(oU).describe("List items"),comments:M.string().describe("Comments")});async function uU({title:e,items:t,comments:r}){let{log:n,stream:i}=nt;return n.info(e,{event:"tool."+gI}),i.markdown(`

# `+e+`
`),t.forEach(({header:a,content:s})=>{i.markdown(`
## `+a+`
`),i.markdown(`
`+s+`
`)}),"ok"}var yI={name:gI,description:aU,parameters:sU,execute:uU};var _I="summary",cU=`
    Shows summary, explanations or walkthrough section at the end of the response or after each task step.
    Allows the user to see the progress of completing the task.
    Always use this tool at the end of each step or when the task is finished.
`,fU=M.object({text:M.string().describe("Short walkthrough or summary of this step")});async function lU({text:e}){return nt.log.info(`${e==null?void 0:e.length} chars`,{text:e,event:"tool."+_I}),nt.stream.markdown(`

`+e+`

`),"ok"}var EI={name:_I,description:cU,parameters:fU,execute:lU};var wI="followups",dU=`
    Displays followup actions to the user at the end of the conversation turn.
`,pU=M.object({actions:M.array(M.string()).describe("Short followup actions (5-10 words)")});async function hU({actions:e}){return nt.log.info(`${e==null?void 0:e.length} options`,{actions:e,event:"tool."+wI}),"ok"}var bI={name:wI,description:dU,parameters:pU,execute:hU};var SI="evaluation",vU=`
    Reports the task evaluation results. Use this tool when requested to evaluate a task.

    Evaluate the task for 
    - clarity (ambiguity, incompleteness, imprecision),
    - complexity (functional scope, architectural scale, required skills level)
    - workload (workflow type, projected effort, budget estimate)

    Carefully choose the most appropriate level for each evaluated dimension.
`,mU=M.number().describe(`
The ambiguity level:
    0 - n/a (not applicable)
    1 - very low
    2 - low
    3 - medium
    4 - high
    5 - very high

Ambiguity implies that something can be interpreted in multiple valid ways.
`),gU=M.number().describe(`
The incompleteness level:
    0 - n/a (not applicable)
    1 - very low
    2 - low
    3 - medium
    4 - high
    5 - very high

Incompleteness refers to missing information or parts.
`),yU=M.number().describe(`
The imprecision level:
    0 - n/a (not applicable)
    1 - very low
    2 - low
    3 - medium
    4 - high
    5 - very high

Imprecision refers to lack of exactness or accuracy.
`),_U=M.number().describe(`
The functional scope level:
    0 - n/a (not applicable)
    1 - implementation details, simple bugfix, code formatting
    2 - user story, issue, enhancement, complex bugfix
    3 - product feature, architectural refactoring
    4 - epic, application, library, subsystem
    5 - full product, platform, framework
`),EU=M.number().describe(`
The architectural scale level:
    0 - n/a (not applicable)
    1 - code level (local scope): variable naming, control flow, error handling
    2 - component level (single module): classes, functions, state management, data structures
    3 - service level (multiple modules): APIs, database models, service integrations
    4 - application level (system-wide): application architecture, system design
    5 - enterprise level (cross-system): distributed systems, cloud infrastructure, scalability
`),wU=M.number().describe(`
The required software engineering skills level:
    0 - n/a (not applicable)
    1 - junior (1 year)
    2 - mid (1-3 years)
    3 - senior (3-5 years)
    4 - stuff (5-10 years)
    5 - principal (10+) years
`),bU=M.number().describe(`
The applicable workflow type:
    0 - n/a (not applicable)
    1 - single commit
    2 - pull request
    3 - sprint/iteration
    4 - small project
    5 - large project
`),SU=M.number().describe(`
The projected effort level:
    0 - n/a (not applicable)
    1 - very small (minutes)
    2 - small (hours)
    3 - medium (days)
    4 - large (weeks)
    5 - very large (months)
`),DU=M.number().describe(`
The development budget estimate:
    0 - n/a (not applicable)
    1 - very low
    2 - $20-200
    3 - $200-2000
    4 - $2000-20000
    5 - above $20000
`),TU=M.string().describe("Suggestions how to improve the request"),AU=M.boolean().describe(`
    true if task requirements need further clarification or refinement
`),NU=M.boolean().describe(`
    true if solution is not trivial and will benefit from detailed design
`),CU=M.boolean().describe(`
    true to split the task into smaller, manageable steps
`),IU=M.object({ambiguity:mU,incompleteness:gU,imprecision:yU,functionalScope:_U,architecturalScale:EU,skillsLevel:wU,workflowType:bU,projectedEffort:SU,budgetEstimate:DU,clarifyRequirements:AU,designSolution:NU,splitIntoParts:CU,suggestions:TU});async function xU(e){let t=f=>f.toFixed(1),[r,n,i]=DI(e),a=`${t(r)} ${t(n)} ${t(i)} `,s=`${e.clarifyRequirements} ${e.designSolution} ${e.splitIntoParts}`;return nt.log.info(a+s,{uncertainty:r,complexity:n,workload:i,...e,event:"tool."+SI}),"ok"}function DI(e){let t=(e.ambiguity+e.incompleteness+e.imprecision)/3,r=(e.architecturalScale+e.functionalScope+e.skillsLevel)/3,n=(e.projectedEffort+e.workflowType+e.budgetEstimate)/3;return[t,r,n]}var TI={name:SI,description:vU,parameters:IU,execute:xU,compute:DI};var AI="read_file",PU=`
    this tool returns the file content.
    I use it to read the file in the active editor, or any other file in the current workspace.
`,RU=(e,t)=>`
Here is the full content of ${e} -
\`\`\`
${t}
\`\`\`
`,kU=M.object({filename:M.string().describe("filename")}),OU="Reading file ...";async function MU({filename:e}){let{log:t,stream:r}=nt;t.info(e,{event:"tool."+AI}),r.reference(hg(e)),r.markdown(""),r.progress(`Reading ${e} ...`);try{let n=Mn(e),i=(await Su(n)).replace(/\r\n/g,`
`);return RU(e,i)}catch{return"ERROR: document not found"}}var NI={name:AI,description:PU,parameters:kU,execute:MU,progress:OU};var $_=require("vscode");var{fs:LU}=$_.workspace,CI="read_directory",FU=`
    Returns the contents of a filesystem directory - a list of subdirectories and files.
`,UU=M.object({dirname:M.string().describe("directory name")}),BU="Reading directory ...";async function jU({dirname:e}){let{log:t,stream:r}=nt;t.info(e,{event:"tool."+CI}),r.markdown(""),r.progress(`Reading ${e} ...`);try{let n=Mn(e),i=[],a=[];for(let[s,f]of await LU.readDirectory(n))f&$_.FileType.File?a.push(s):f&$_.FileType.Directory&&i.push(s+"/");return i.concat(a).join("/n")}catch{return"ERROR: directory not found or cannot be read"}}var II={name:CI,description:FU,parameters:UU,execute:jU,progress:BU};var PI=require("vscode");var Fg=require("vscode");var No=require("vscode");async function lE(e,t){var y,D,x;let r=e.edits.find(L=>L.id==t);if(!r)return;let n=new No.WorkspaceEdit,i=hg(r.filename);try{await No.workspace.fs.stat(i)}catch{i=i.with({scheme:"untitled"})}let a=await No.workspace.openTextDocument(i),s=a.getText().replace(/\r\n/g,`
`),f=s==r.after.replace(/\r\n/g,`
`)?r.before:r.after,h=new No.Range(new No.Position(0,0),new No.Position(a.lineCount,0));n.replace(i,h,f),await No.workspace.applyEdit(n),((x=(D=(y=No.window.activeTextEditor)==null?void 0:y.document)==null?void 0:D.uri)==null?void 0:x.path)!=i.path&&await No.window.showTextDocument(a),GU(r.search)}function GU(e){var h;let t=No.window.activeTextEditor,r=t==null?void 0:t.document,n=(h=r==null?void 0:r.getText())==null?void 0:h.replace(/\r\n/g,`
`);if(!e||!t||!r)return;let i=n.indexOf(e);if(i==-1)return;let a=n.slice(0,i).split(`
`).length-1,s=e.split(`
`).length,f=new No.Position(a,0);t.selection=new No.Selection(f,f),t.revealRange(new No.Range(f,new No.Position(a+s,0)))}function Xm(e,t,r,n,i,a,s){if(a.startsWith(".multicoder/task"))return kb(e,i,a);let f=new Fg.MarkdownString(`

`),h=encodeURIComponent(JSON.stringify([a,r])),y=`command:multicoder.diffView?${h}`,D=L=>`<sub><span class="codicon codicon-${L}" style="color:var(--vscode-textLink-foreground);"></span></sub>`;f.supportThemeIcons=!0,f.isTrusted={enabledCommands:["multicoder.diffView"]},f.supportHtml=!0,f.appendMarkdown(`[${D("diff-single")} ${n} (${a})](${y} 'Open Diff')`),f.appendCodeblock(i,s),e.markdown(f),e.button({title:"Apply",command:"multicoder.action",arguments:[x],tooltip:"Click to apply changes, click again to revert"});function x(){lE(t,r)}}function kb(e,t,r){let n=new Fg.MarkdownString(`

`);n.supportHtml=!0,n.appendMarkdown(t),e.markdown(n),e.button({title:"Edit",command:"multicoder.action",arguments:[i],tooltip:"Click to edit the document"});async function i(){let a=Mn(r),s=await Fg.workspace.openTextDocument(a);Fg.window.showTextDocument(s)}}var RI="insert_text",qU=`
    Insert the new text into the file.
`,YU=M.object({filename:M.string().describe("The name of the file"),summary:M.string().describe("Short summary of this operation (3-10 words)"),placement:M.enum(["before","after"]).describe("Whether to insert text before or after the anchor"),anchor_text:M.string().describe("The anchor text"),inserted_text:M.string().describe("The inserted text")}),zU="Writing code ...";async function $U({filename:e,summary:t,placement:r,anchor_text:n,inserted_text:i}){let{log:a,stream:s,shared:f}=nt;a.info(t,{filename:e,placement:r,event:"tool."+RI});let h=Mn(e),y=await PI.workspace.openTextDocument(h),D=await Su(h),x=WU(D,r,n,i,y.eol),L=y.languageId,Y=Zh();return x===null?"ERROR: cannot find anchor text":(await zc(h,x),f.edits.push({id:Y,summary:t,filename:e,before:D,after:x,search:i}),Xm(s,f,Y,t,i,e,L),"Waiting for the user feedback")}function VU(e){return/^\s*\/\//.test(e)||/^\s*\/\*/.test(e)}function xI(e,t){let r=VU(e)?"":`
`;return e.endsWith(`
`)&&t.startsWith(`
`)?e+t:e.endsWith(`
`)||t.startsWith(`
`)?e+r+t:e+r+`
`+t}function WU(e,t,r,n,i){if(!r)return null;let a=e.replace(/\r\n/g,`
`),s=a.replace(r,t=="after"?xI(r,n):xI(n,r));return a==s?null:(i==2&&(s=s.replace(/\n/g,`\r
`)),s)}var kI={name:RI,description:qU,parameters:YU,execute:$U,progress:zU};var OI=require("vscode");var MI="replace_text",HU=`
    Replace part of the file with the new text.
`,KU=M.object({filename:M.string().describe("The name of the file"),summary:M.string().describe("Short summary of this operation (3-10 words)"),old_text:M.string().describe("The text fragment to find"),new_text:M.string().describe("The replacement text")}),JU="Writing code ...";async function ZU({filename:e,summary:t,old_text:r,new_text:n}){let{log:i,stream:a,shared:s}=nt;i.info(t,{filename:e,event:"tool."+MI});let f=Mn(e),h=await OI.workspace.openTextDocument(f),y=await Su(f),D=XU(y,r,n,h.eol),x=h.languageId,L=Zh();return D===null?"ERROR: cannot find text to replace":(await zc(f,D),s.edits.push({id:L,summary:t,filename:e,before:y,after:D,search:n}),Xm(a,s,L,t,n,e,x),"Waiting for the user feedback")}function XU(e,t,r,n){let i=e.replace(/\r\n/g,`
`),a=i.replace(t,r);return i==a?null:(n==2&&(a=a.replace(/\n/g,`\r
`)),a)}var LI={name:MI,description:HU,parameters:KU,execute:ZU,progress:JU};var FI=require("vscode");var UI="delete_text",QU=`
    Delete the text fragment from the file.
`,e4=M.object({filename:M.string().describe("The name of the file"),summary:M.string().describe("Short summary of this operation (3-10 words)"),deleted_text:M.string().describe("The text to delete from the file")}),t4="Writing code ...";async function r4({filename:e,summary:t,deleted_text:r}){let{log:n,stream:i,shared:a}=nt;n.info(t,{filename:e,event:"tool."+UI});let s=Mn(e),f=await FI.workspace.openTextDocument(s),h=await Su(s),y=n4(h,r,f.eol),D=f.languageId,x=Zh();return y===null?"ERROR: cannot find text to delete":(await zc(s,y),a.edits.push({id:x,summary:t,filename:e,before:h,after:y,search:r}),Xm(i,a,x,t,r,e,D),"Waiting for the user feedback")}function n4(e,t,r){let n=e.replace(/\r\n/g,`
`),i=n.replace(t,"");return n==i?null:(r==2&&(i=i.replace(/\n/g,`\r
`)),i)}var BI={name:UI,description:QU,parameters:e4,execute:r4,progress:t4};var jI=require("vscode");var GI="create_file",i4=`
    I use this tool to create a new file. 
`,a4=M.object({filename:M.string().describe("document filename"),summary:M.string().describe("very short (3-10 words) summary of this change"),language:M.string().describe("programming language for markdown code block"),content:M.string().describe("full content of the new file")}),o4="Writing code ...";async function s4({filename:e,summary:t,content:r,language:n}){let{log:i,stream:a,shared:s}=nt;i.info(t,{filename:e,event:"tool."+GI});let f=Mn(e),h=Zh();try{await zc(f,r)}catch(x){return String(x)}let y={id:h,summary:t,filename:e,before:null,after:r,search:r};s.edits.push(y);async function D(){lE(s,h)}return u4(a,h,t,r,e,n,D),"Waiting for the user feedback"}function u4(e,t,r,n,i,a,s){if(i.startsWith(".multicoder/task"))return kb(e,n,i);let f=new jI.MarkdownString(`

`),h=encodeURIComponent(JSON.stringify([i,t])),y=`command:multicoder.diffView?${h}`,D=x=>`<sub><span class="codicon codicon-${x}" style="color:var(--vscode-textLink-foreground);"></span></sub>`;f.supportThemeIcons=!0,f.isTrusted={enabledCommands:["multicoder.diffView"]},f.supportHtml=!0,f.appendMarkdown(`[${D("diff-single")} ${r} (${i})](${y} 'Open Diff')`),f.appendCodeblock(n,a),e.markdown(f),e.button({title:"Create",command:"multicoder.action",arguments:[s],tooltip:"Click to create file, click again to revert"})}var qI={name:GI,description:i4,parameters:a4,execute:s4,progress:o4};var YI=require("vscode");var zI="write_file",c4=`
    Write data to a file, replacing its entire contents. 
`,f4=M.object({filename:M.string().describe("The name of the file"),summary:M.string().describe("Short summary of this operation (3-10 words)"),new_content:M.string().describe("The new content of the file")}),l4="Writing code ...";async function d4({filename:e,summary:t,new_content:r}){let{log:n,stream:i,shared:a}=nt;n.info(t,{filename:e,event:"tool."+zI});let s=Mn(e),f=await YI.workspace.openTextDocument(s),h=f.languageId,y=Zh(),D=await Su(s),x=r;return await zc(s,x),a.edits.push({id:y,summary:t,filename:e,before:D,after:x,search:r}),Xm(i,a,y,t,x,e,h),"Waiting for the user feedback"}var $I={name:zI,description:c4,parameters:f4,execute:d4,progress:l4};var p4=[mI,yI,EI,bI,TI,NI,II,kI,LI,BI,qI,$I],ud=Object.fromEntries(p4.map(e=>[e.name,h4(e)]));function h4(e){return{execute:async()=>"ok",...e}}var dE,v4,WI,VI;function lv(e){return new Promise((t,r)=>{dE=t,v4=r,WI(e)})}var is=[];async function HI(e){let{shared:t}=nt;return t.edits=[],t.plan=null,is=[...await pI()],dE=e,{async next(r){return is.push(...await hI()),new Promise((n,i)=>{WI=n,VI=i,Promise.resolve(dE(r)).catch(a=>VI(a))})},return(){is=[],dE=e}}}async function Mb(e,t=""){let{model:r,log:n}=nt;um(e);let i=0,a=0,s=0;for(;;){aI(is);let f=await nI({model:r,system:sI,messages:is,tools:ud,temperature:.2,maxTokens:8192,maxSteps:1,experimental_toolCallStreaming:!0}),h=!1;for await(let x of f.fullStream){if(nt.token.isCancellationRequested)break;switch(x.type){case"text-delta":nt.stream.markdown(x.textDelta);break;case"tool-call-streaming-start":let L=ud[x.toolName].progress;L&&(nt.stream.markdown(""),nt.stream.progress(L));break;case"error":if(cE.isInstance(x.error)&&++i<=3){h=!0;let H=`Invalid arguments for tool ${x.error.toolName}`;nt.stream.markdown(""),nt.stream.progress(`Retrying (${i}): ${H}`),n.warn(H,{...x.error,count:i,event:"retry"});break}let{event:Y,count:ee,message:W}=x.error;if(Y=="retry"){nt.stream.markdown(""),nt.stream.progress(`Retrying (${ee}): ${W}`),n.warn(W,x.error);break}throw x.error}}let y=await f.response,D=await f.toolCalls;if(h){await Ob(5*i);continue}if(i=0,y.messages.length==1){let{role:x,content:L}=y.messages[0];if(x=="assistant"&&Array.isArray(L)&&L.length==1){let Y=L[0];if(Y.type=="text"&&Y.text===""&&++a<=5){nt.stream.markdown(""),nt.stream.progress(`Retrying (${a}): Empty response`),n.warn("Empty response",{event:"retry",count:a}),await Ob(5*a);continue}}}if(a=0,is=[...is,...y.messages],D.length){s=0;for(let x of D)if(x.toolName==t)return x.args}else if(t){if(++s>3)throw new Error(`Unable to call ${t} tool`);nt.stream.markdown(""),nt.stream.progress(`Retrying (${s}): Unexpected stop`),n.warn("Unexpected stop",{event:"retry",count:s,name:t}),await Ob(5*s),is=[...is,{role:"user",content:`Reply using ${t} tool`}]}else return}}async function Tu(e,t,r=""){return r&&(nt.stream.markdown(""),nt.stream.progress(r)),Mb(t,e.name)}function sc(){let e=is.concat();return{restore(){is=e.concat()}}}function um(e,t=""){if(is=is.slice(),!e&&t){is.push({role:"assistant",content:t});return}let r=is.pop();if(r.role=="system"||r.role=="assistant")is.push(r,{role:"user",content:e||"?"});else if(r.role=="tool"){let n=r.content.slice();n.push({...n.pop(),result:e}),is.push({role:"tool",content:n})}else if(r.role=="user"){let{content:n}=r;n=Array.isArray(n)?n.slice():[{type:"text",text:n}],n.push({type:"text",text:e}),is.push({role:"user",content:n})}else throw new Error("Unsupported prompt structure");t&&is.push({role:"assistant",content:t})}async function Ob(e){return new Promise(t=>setTimeout(t,e*1e3))}var _E=require("vscode");var{evaluation:Lb}=ud,m4=()=>`
    Evaluate the task and reply using ${Lb.name} tool, taking into account the included documents (if any)
`,KI=Lb.compute;async function JI(){let e=sc(),t=await Tu(Lb,m4(),"Deciding next steps...");return e.restore(),t}var hE=require("vscode");var{summary:pE,followups:XI}=ud,{fs:ZI}=hE.workspace,g4=(e,t)=>`Clarify the requirements, removing any ambiguities or omissions.
    Think about what is needed, then use question tool to get the missing information from the user .

    Also consider the suggestions below:
    <suggestions>
      ${t}
    </suggestions>

    For the existing project, include implied implementation requirements derived from the project configuration and context.
    Focus strictly on the requirements - DO NOT try to design the solution, define data structures or write some code at this point.
    Adjust the content and structure according to the task complexity (should very short and simple for trivial tasks).
    Produce a minimal, but complete document, do not leave any open questions for the future.
    Follow KISS, YAGNI and SOLID principles, focus on simplicity above all other things.
    Use a very dense, concise, minimalist writing style.
    Save the requirements document to ${e}/ directory, then deliver a very short summary using ${pE.name} tool.
`,y4=(e,t)=>`Read the existing requirements document(s):
    <document-filenames>
      ${e}
    </document-filenames>

    Make the following changes in the document(s):
    <changes>
      ${t}
    </changes>

    Modify the document(s), then deliver a very short summary using ${pE.name} tool.
`,_4=()=>`
    Carefully review the requirements document to find any missing elements.
    Add or correct any significant items and remove anything that is not strictly necessary.
    Focus strictly on the requirements - DO NOT try to design the solution, define data structures or write some code at this point.
`,E4=()=>`
    Suggest possible high-level modifications which may make the requirements more clear and easy to understand. 
    For example, increase or decrease detalization, add/remove sections, split/merge sections etc.
    Offer them as followup actions using ${XI.name} tool.
    Never ever include any other actions, only modifications of the requirements.
`;async function QI(e,t){let r=sc(),n=new Set;for(let[i]of await ZI.readDirectory(Mn(e)))n.add(i);for(await Tu(pE,g4(e,t),"Clarifying requirements...");;){let i=sc(),{actions:a}=await Tu(XI,E4());i.restore();let s={followups:a.map(y=>({prompt:y,label:y}))};s.followups.push({prompt:"improve",label:"\u2B6E Review and improve"}),s.followups.push({prompt:"continue",label:"\u25B6 Continue to design/planning (Enter)"});let f=await lv(s);if(r.restore(),!f.prompt||f.prompt=="continue")break;let h=[];for(let[y,D]of await ZI.readDirectory(Mn(e)))D&hE.FileType.File&&!n.has(y)&&h.push(e+"/"+y);t=f.prompt=="improve"?_4():f.prompt,await Tu(pE,y4(h,t),"Updating requirements...")}}var mE=require("vscode");var{summary:vE,followups:tx}=ud,{fs:ex}=mE.workspace,w4=(e,t)=>`Design the solution, specifying all changes or new parts 
    and how they interact with each other and with the existing project or environment.

    Also consider the suggestions below:
    <suggestions>
      ${t}
    </suggestions>

    For the existing project, make sure you have all the information on the project configuration and context.
    Focus strictly on the solution design - DO NOT try to write code, DO NOT make step-by-step plan at this point.
    Adjust the content and structure according to the task complexity (should very short and simple for trivial tasks).
    Follow KISS, YAGNI and SOLID principles, focus on simplicity above all other things.
    Use a very dense, concise, minimalist writing style.
    Save the document(s) to ${e}/ directory, then deliver a very short summary using ${vE.name} tool.
`,b4=(e,t)=>`Read the existing design document(s):
    <document-filenames>
      ${e}
    </document-filenames>

    Make the following changes in the document(s):
    <changes>
      ${t}
    </changes>

    Modify the document(s), then deliver a very short summary using ${vE.name} tool.
`,S4=()=>`
    Carefully review the design document(s) to find any missing elements.
    Add or correct any significant items and remove anything that is not strictly necessary.
    Focus strictly on the solution design - DO NOT try to write code, DO NOT make step-by-step plan at this point.
`,D4=()=>`
    Suggest possible high-level modifications which may make the solution design more clear and easy to understand. 
    For example, increase or decrease detalization, add/remove sections, split/merge sections etc.
    Offer them as followup actions using ${tx.name} tool.
    Never ever include any other actions, only modifications of the solution design.
`;async function rx(e,t){let r=sc(),n=new Set;for(let[i]of await ex.readDirectory(Mn(e)))n.add(i);for(await Tu(vE,w4(e,t),"Designing solution...");;){let i=sc(),{actions:a}=await Tu(tx,D4());i.restore();let s={followups:a.map(y=>({prompt:y,label:y}))};s.followups.push({prompt:"improve",label:"\u2B6E Review and improve"}),s.followups.push({prompt:"continue",label:"\u25B6 Continue to planning/implementation (Enter)"});let f=await lv(s);if(r.restore(),!f.prompt||f.prompt=="continue")break;let h=[];for(let[y,D]of await ex.readDirectory(Mn(e)))D&mE.FileType.File&&!n.has(y)&&h.push(e+"/"+y);t=f.prompt=="improve"?S4():f.prompt,await Tu(vE,b4(h,t),"Updating design...")}}var Ug=require("vscode");var{list:gE,followups:nx}=ud,T4=()=>`
    Split the task into smaller, more manageable steps and present them using the ${gE.name} tool.
    The list should contain task steps. If the work is very small, use just one single step.
    Each step has a name (header) and a specification of the work to do in this step.
    Strictly follow the requirements and design documents if available.
    Take into account the changes made in the previous tasks.
    Carefully think through all steps and mentally verify the proposed implementation.
    Follow KISS, YAGNI and SOLID principles, focus on simplicity above all other things.
    Use a very dense, concise, minimalist writing style.
`,A4=(e,t)=>`Read the existing implementation plan:
    <document-filename>
      ${e}/implementation_plan.md
    </document-filename>

    Make the following changes in the plan:
    <changes>
      ${t}
    </changes>

    Modify the plan, then present it using the ${gE.name} tool.
    The list should contain task steps. If the work is very small, use just one single step.
    Each step has a name (header) and a specification of the work to do in this step.
    Strictly follow the requirements and design documents if available.
    Take into account the changes made in the previous tasks.
    Carefully think through all steps and mentally verify the proposed implementation.
    Follow KISS, YAGNI and SOLID principles.
`,N4=()=>`
    Carefully analyse each section of the plan to identify any inconsistencies or logical errors. 
    Check for edge cases, cross-dependencies and anything, that can affect successful implementation.
`,C4=()=>`
    Suggest possible high-level modifications which may improve this implementation plan. 
    For example, increase or decrease detalization, add/remove sections, split/merge sections etc.
    Offer them as followup actions using ${nx.name} tool.
    Never ever include any other actions, only modifications of the implementation plan.
`,I4=({title:e,items:t})=>`# ${e}

${t.map(({header:r,content:n})=>`## ${r}

${n}

`).join("")}
`;function x4(e,t){nt.stream.button({title:"Edit",command:"multicoder.action",arguments:[r],tooltip:"Click to edit the plan"});async function r(){let n=await Ug.workspace.openTextDocument(t);Ug.window.showTextDocument(n)}nt.stream.markdown(`
`+e.comments+`
`)}async function P4(e,t,r){if(await Su(r)==t)return;let i=await Ug.commands.executeCommand("vscode.executeDocumentSymbolProvider",r);if(!i||i.length===0)return;let a=await Ug.workspace.openTextDocument(r),s=i[0],f=s.name.replace(/^[#\s]+/,""),h=s.children.map(({name:y,range:D})=>({header:y.replace(/^[#\s]+/,""),content:a.getText(D).slice(y.length).trim()}));e.title=f,e.items=h}async function ix(e,t){let r=sc(),n=await Tu(gE,T4(),"Planning..."),i=Mn(e+"/implementation_plan.md");for(;;){let a=I4(n);await zc(i,a),x4(n,i);let s=sc(),{actions:f}=await Tu(nx,C4());s.restore();let h={followups:f.map(D=>({prompt:D,label:D}))};h.followups.push({prompt:"improve",label:"\u2B6E Review and improve"}),h.followups.push({prompt:"continue",label:"\u25B6 Start implementation (Enter)"});let y=await lv(h);if(r.restore(),!y.prompt||y.prompt=="continue"){await P4(n,a,i);break}t=y.prompt=="improve"?N4():y.prompt,n=await Tu(gE,A4(e,t),"Updating planning...")}return n}var ax=require("vscode");var{summary:yE}=ud,R4=()=>`
    Implement the task, then deliver the summary using ${yE.name} tool.
`,k4=e=>`
    We have now implemented all the steps of the plan:
    <implemented>
    ${e.title}
    </implemented>
    Deliver the summary of this work using ${yE.name} tool.
`,O4=(e,t,r,n)=>`Step ${e+1} (${t}) is now completed.

${r}

${n.length?"Completed changes:":""}
${n.map(({summary:i,filename:a})=>`- ${i} (${a})`).join(`
`)}
`,M4=(e,t)=>`We will now work on the step ${t+1}:

## ${e.header}

${e.content}
`,L4=(e,t,r)=>`
<table><tr><th> $(list-tree) ${e} (${t+1}/${r})</th></tr></table>
`;async function Fb(e,t,r,n){if(!e||e.items.length==1)return await Tu(yE,R4());um("",`Do you want me to work on ${e.title}?`);for(let i=0;i<e.items.length;i++){let a=sc(),s=e.items[i],f=s.header.replace(/^[\d\.\s]+/,""),h=nt.shared.edits.length,y=new ax.MarkdownString("");y.supportHtml=!0,y.supportThemeIcons=!0,y.appendMarkdown(L4(f,i,e.items.length)),nt.stream.markdown(y),um(M4(s,i));let D=await n(t+1,r+"/"+(i+1));a.restore();let x=nt.shared.edits.slice(h);um(O4(i,f,D.text,x))}return await Tu(yE,k4(e))}var{fs:F4}=_E.workspace,U4=".multicoder/task",B4=(e,t,r)=>`<document filename="${r}/${t}">
${e}
</document>
`;async function ox(e=0,t=U4){let r=sc(),n=0,i=0,a=null;for(;;){r.restore();for(let[x,L]of await F4.readDirectory(Mn(t)))if(L&_E.FileType.File){let Y=await Su(Mn(t+"/"+x));um(B4(Y,x,t))}if(a)return await Fb(a,e,t,ox);let s=await JI(),f="implement",[h,y,D]=KI(s);if(s.architecturalScale==0&&!e)return{};if(s.splitIntoParts&&(f="plan"),s.designSolution&&!i&&(f="design"),s.clarifyRequirements&&!n&&!i&&!e&&(f="clarify"),!i&&y>2.5&&f!="clarify"&&(f="design"),D>2&&f=="implement"&&(f="plan"),f=="clarify"){await QI(t,s.suggestions),++n;continue}if(f=="design"){await rx(t,s.suggestions),++i;continue}if(f=="plan"){a=await ix(t,s.suggestions);continue}return await Fb()}}var j4=e=>`We have a new request:
<request>
${e}
</request>
`;async function sx(e){for(;;){let t=e.prompt,r=sc();um(j4(t)),(await ox()).text?um(""," "):(r.restore(),await Mb(t)),e=await lv()}}var EE={};IE(EE,{config:()=>Ub});var cx=require("vscode");var G4=()=>`
Multicoder can work with LLM models provided by **GitHub Copilot** (default configuration) or 
send requests directly to the core provider APIs (**Anthropic**, **OpenAI**).

If you have your own API key and want to use it instead of the Github models, select 'Core Providers' in the Model Provider dropdown (settings panel)
and set your API key(s) using the buttons below.

`;async function ux(e){var r;let t=await nt.ext.secrets.get(e)||((r=process==null?void 0:process.env)==null?void 0:r[e]);return t&&t.slice(0,12)+"..."+t.slice(-4)}async function Ub(){let{stream:e,telemetry:t}=nt;cx.commands.executeCommand("workbench.action.openSettings","@ext:multicoder.multicoder"),t.logUsage("config"),e.markdown(G4());let r=await ux("ANTHROPIC_API_KEY");e.markdown(`Anthropic API key: ${r}`),e.button({command:"multicoder.storeApiKey",title:"Set Anthropic key",arguments:["ANTHROPIC_API_KEY","Anthropic API key"]}),e.markdown(`

`);let n=await ux("OPENAI_API_KEY");e.markdown(`OpenAI API key: ${n}`),e.button({command:"multicoder.storeApiKey",title:"Set OpenAI key",arguments:["OPENAI_API_KEY","OpenAI API key"]})}var fx,lx;async function q4(){var x,L;let{request:e,ext:t,telemetry:r}=nt,n=e.model.id,i=My.workspace.getConfiguration("multicoder"),a=i.get("modelProvider");if(n==fx&&a==lx&&nt.model)return;fx=n,lx=a;let s=e.model.family;if(s.startsWith("o1")&&(s="gpt-4o"),nt.id=s,a=="default"&&(a="copilot"),a=="copilot"){nt.model=ob({id:s,provider:"copilot",apiKey:""}),r.logUsage("model",{model:s});return}if(a=="auto"&&(a=(x=ub.find(Y=>Y.family==s))==null?void 0:x.provider,!a))throw new Error("Cannot find model: "+s);let f=cN.find(Y=>Y.id==a),h=ub.find(Y=>Y.provider==a&&Y.family==s),{envKeyName:y}=f,D=await t.secrets.get(y)||((L=process==null?void 0:process.env)==null?void 0:L[y]);if(!D){await Ub();return}nt.model=ob({...h,apiKey:D}),r.logUsage("model",{model:s})}function dx(){let{ext:e,log:t}=nt,r,n=My.chat.createChatParticipant("multicoder",async(i,a,s,f)=>{try{if(Object.assign(nt,{request:i,chat:a,stream:s,token:f}),await q4(),!nt.model)return;a.history.length||(r==null||r.return(),r=null,O2());let h=i.references.map(({id:x,name:L})=>L+" "+x).join(`
`),y=i.toolReferences.map(({name:x})=>x).join(`
`);return r?t.info(i.prompt,{event:"chat.next",references:h,toolrefs:y}):(r=await HI(sx),t.info(i.prompt,{event:"chat.start",references:h,toolrefs:y})),EE[i.command]?(await EE[i.command](),{metadata:{command:i.command}}):{metadata:await r.next(i)}}catch(h){throw t.error(h),nt.model=null,r=null,h}});n.iconPath=My.Uri.joinPath(e.extensionUri,"resources","multicoder.png"),n.followupProvider={provideFollowups(i){var a;return((a=i.metadata)==null?void 0:a.followups)||[]}}}function Y4(e){nt.ext=e,nt.config=px.workspace.getConfiguration("multicoder"),nt.shared={},C2(),x2(),k2(),qT(),dx()}function z4(){}0&&(module.exports={activate,deactivate});
/*! Bundled license information:

@microsoft/1ds-core-js/dist/es5/ms.core.js:
  (*!
   * 1DS JS SDK Core, 4.3.4
   * Copyright (c) Microsoft and contributors. All rights reserved.
   * (Microsoft Internal Only)
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.5 *)
  (*!
   * NevWare21 Solutions LLC - ts-async, 0.5.3
   * https://github.com/nevware21/ts-async
   * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
   * Licensed under the MIT license.
   *)

@microsoft/1ds-post-js/dist/es5/ms.post.js:
  (*!
   * 1DS JS SDK POST plugin, 4.3.4
   * Copyright (c) Microsoft and contributors. All rights reserved.
   * (Microsoft Internal Only)
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.5 *)
  (*!
   * NevWare21 Solutions LLC - ts-async, 0.5.3
   * https://github.com/nevware21/ts-async
   * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
   * Licensed under the MIT license.
   *)

@microsoft/applicationinsights-common/dist/es5/applicationinsights-common.js:
  (*!
   * Application Insights JavaScript SDK - Common, 3.3.4
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.5 *)

@microsoft/applicationinsights-web-basic/dist/es5/applicationinsights-web-basic.js:
  (*!
   * Application Insights JavaScript Web SDK - Basic, 3.3.4
   * Copyright (c) Microsoft and contributors. All rights reserved.
   *)
  (*! https://github.com/nevware21/ts-utils v0.11.5 *)
  (*!
   * NevWare21 Solutions LLC - ts-async, 0.5.3
   * https://github.com/nevware21/ts-async
   * Copyright (c) NevWare21 Solutions LLC and contributors. All rights reserved.
   * Licensed under the MIT license.
   *)
*/
//# sourceMappingURL=extension.js.map
